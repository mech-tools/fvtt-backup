/*! For license information please see torch.js.LICENSE.txt */
(()=>{var e,t={1580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=r(8004),a=r(2685),i=r(4640),o=r(5160),s=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),a.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(e,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=r(3168);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var d=r(596);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=r(5108);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var p=r(5820);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},9288:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class a extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)u(r,t[n]),r.push(e[++n]);return new a(r)}t._Code=a,t.nil=new a(""),t._=i;const o=new a("+");function s(e,...t){const r=[l(e[0])];let n=0;for(;n<t.length;)r.push(o),u(r,t[n]),r.push(o,l(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===o){const r=c(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new a(r)}function u(e,t){var r;t instanceof a?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:l(Array.isArray(r)?r.join(","):r))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=s,t.addCodeArg=u,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:s`${e}${t}`},t.stringify=function(e){return new a(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new a(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new a(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new a(e.toString())}},596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(9288),a=r(7016);var i=r(9288);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var o=r(7016);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class s{optimizeNodes(){return this}optimizeNames(e,t){return this}}class u extends s{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?a.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=B(this.rhs,e,t),this}get names(){return P(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class l extends c{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class p extends s{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends s{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=B(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class m extends s{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const a=r[n];a.optimizeNames(e,t)||(T(e,a.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>k(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class y extends m{}class D extends g{}D.kind="else";class v extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new D(e):e}return t?!1===e?t instanceof v?t:t.nodes:this.nodes.length?this:new v(N(e),t instanceof v?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=B(this.condition,e,t),this}get names(){const e=super.names;return P(e,this.condition),this.else&&k(e,this.else.names),e}}v.kind="if";class C extends g{}C.kind="for";class E extends C{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=B(this.iteration,e,t),this}get names(){return k(super.names,this.iteration.names)}}class b extends C{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?a.varKinds.var:this.varKind,{name:r,from:n,to:i}=this;return`for(${t} ${r}=${n}; ${r}<${i}; ${r}++)`+super.render(e)}get names(){const e=P(super.names,this.from);return P(e,this.to)}}class A extends C{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=B(this.iterable,e,t),this}get names(){return k(super.names,this.iterable.names)}}class F extends g{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}F.kind="func";class w extends m{render(e){return"return "+super.render(e)}}w.kind="return";class $ extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&k(e,this.catch.names),this.finally&&k(e,this.finally.names),e}}class _ extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}_.kind="catch";class S extends g{render(e){return"finally"+super.render(e)}}function k(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function P(e,t){return t instanceof n._CodeOrName?k(e,t.names):e}function B(e,t,r){return e instanceof n.Name?i(e):(a=e)instanceof n._Code&&a._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=i(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;var a;function i(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function T(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function N(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${j(e)}`}S.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new a.Scope({parent:e}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const a=this._scope.toName(t);return void 0!==r&&n&&(this._constants[a.str]=r),this._leafNode(new u(e,a,r)),a}const(e,t,r){return this._def(a.varKinds.const,e,t,r)}let(e,t,r){return this._def(a.varKinds.let,e,t,r)}var(e,t,r){return this._def(a.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,r){return this._leafNode(new l(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[r,a]of e)t.length>1&&t.push(","),t.push(r),(r!==a||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,a));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new v(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new v(e))}else(){return this._elseNode(new D)}endIf(){return this._endBlockNode(v,D)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new E(e),t)}forRange(e,t,r,n,i=(this.opts.es5?a.varKinds.var:a.varKinds.let)){const o=this._scope.toName(e);return this._for(new b(i,o,t,r),(()=>n(o)))}forOf(e,t,r,i=a.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(o,n._`${e}[${t}]`),r(o)}))}return this._for(new A("of",i,o,t),(()=>r(o)))}forIn(e,t,r,i=(this.opts.es5?a.varKinds.var:a.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const o=this._scope.toName(e);return this._for(new A("in",i,o,t),(()=>r(o)))}endFor(){return this._endBlockNode(C)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new w;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(w)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new $;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new _(e),t(e)}return r&&(this._currNode=n.finally=new S,this.code(r)),this._endBlockNode(_,S)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,a){return this._blockNode(new F(e,t,r)),a&&this.code(a).endFunc(),this}endFunc(){return this._endBlockNode(F)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=N;const x=I(t.operators.AND);t.and=function(...e){return e.reduce(x)};const O=I(t.operators.OR);function I(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${j(t)} ${e} ${j(r)}`}function j(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce(O)}},7016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(9288);class a extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i||(t.UsedValueState=i={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=o;class s extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=s;const u=n._`\n`;t.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?u:n.nil}}get(){return this._scope}name(e){return new s(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:a}=n,i=null!==(r=t.key)&&void 0!==r?r:t.ref;let o=this._values[a];if(o){const e=o.get(i);if(e)return e}else o=this._values[a]=new Map;o.set(i,n);const s=this._scope[a]||(this._scope[a]=[]),u=s.length;return s[u]=t.ref,n.setValue(t,{property:a,itemIndex:u}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,o={},s){let u=n.nil;for(const c in e){const l=e[c];if(!l)continue;const d=o[c]=o[c]||new Map;l.forEach((e=>{if(d.has(e))return;d.set(e,i.Started);let o=r(e);if(o){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;u=n._`${u}${r} ${e} = ${o};${this.opts._n}`}else{if(!(o=null==s?void 0:s(e)))throw new a(e);u=n._`${u}${o}${this.opts._n}`}d.set(e,i.Completed)}))}return u}}},6760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(596),a=r(4216),i=r(1812);function o(e,t){const r=e.const("err",t);e.if(n._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,n._`[${r}]`)),n._`${i.default.vErrors}.push(${r})`),e.code(n._`${i.default.errors}++`)}function s(e,t){const{gen:r,validateName:a,schemaEnv:i}=e;i.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${a}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,a,i){const{it:u}=e,{gen:l,compositeRule:d,allErrors:h}=u,p=c(e,r,a);(null!=i?i:d||h)?o(l,p):s(u,n._`[${p}]`)},t.reportExtraError=function(e,r=t.keywordError,n){const{it:a}=e,{gen:u,compositeRule:l,allErrors:d}=a;o(u,c(e,r,n)),l||d||s(a,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(n._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:a,errsCount:o,it:s}){if(void 0===o)throw new Error("ajv implementation error");const u=e.name("err");e.forRange("i",o,i.default.errors,(o=>{e.const(u,n._`${i.default.vErrors}[${o}]`),e.if(n._`${u}.instancePath === undefined`,(()=>e.assign(n._`${u}.instancePath`,(0,n.strConcat)(i.default.instancePath,s.errorPath)))),e.assign(n._`${u}.schemaPath`,n.str`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign(n._`${u}.schema`,r),e.assign(n._`${u}.data`,a))}))};const u={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function c(e,t,r){const{createErrors:a}=e.it;return!1===a?n._`{}`:function(e,t,r={}){const{gen:a,it:o}=e,s=[l(o,r),d(e,r)];return function(e,{params:t,message:r},a){const{keyword:o,data:s,schemaValue:c,it:l}=e,{opts:d,propertyName:h,topSchemaRef:p,schemaPath:f}=l;a.push([u.keyword,o],[u.params,"function"==typeof t?t(e):t||n._`{}`]),d.messages&&a.push([u.message,"function"==typeof r?r(e):r]),d.verbose&&a.push([u.schema,c],[u.parentSchema,n._`${p}${f}`],[i.default.data,s]),h&&a.push([u.propertyName,h])}(e,t,s),a.object(...s)}(e,t,r)}function l({errorPath:e},{instancePath:t}){const r=t?n.str`${e}${(0,a.getErrorPath)(t,a.Type.Str)}`:e;return[i.default.instancePath,(0,n.strConcat)(i.default.instancePath,r)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:i}){let o=i?t:n.str`${t}/${e}`;return r&&(o=n.str`${o}${(0,a.getErrorPath)(r,a.Type.Str)}`),[u.schemaPath,o]}},8068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(596),a=r(5108),i=r(1812),o=r(2504),s=r(4216),u=r(3168);class c{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,o.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function l(e){const t=h.call(this,e);if(t)return t;const r=(0,o.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:s,lines:c}=this.opts.code,{ownProperties:l}=this.opts,d=new n.CodeGen(this.scope,{es5:s,lines:c,ownProperties:l});let p;e.$async&&(p=d.scopeValue("Error",{ref:a.default,code:n._`require("ajv/dist/runtime/validation_error").default`}));const f=d.scopeName("validate");e.validateName=f;const m={gen:d,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:n._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,u.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const r=new Function(`${i.default.self}`,`${i.default.scope}`,g)(this,this.scope.get());if(this.scope.value(f,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:f,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;r.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},r.source&&(r.source.evaluated=(0,n.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function d(e){return(0,o.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function h(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function p(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||f.call(this,e,t)}function f(e,t){const r=this.opts.uriResolver.parse(t),n=(0,o._getFullPath)(this.opts.uriResolver,r);let a=(0,o.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return g.call(this,r,e);const i=(0,o.normalizeId)(n),s=this.refs[i]||this.schemas[i];if("string"==typeof s){const t=f.call(this,e,s);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,r,t)}if("object"==typeof(null==s?void 0:s.schema)){if(s.validate||l.call(this,s),i===(0,o.normalizeId)(t)){const{schema:t}=s,{schemaId:r}=this.opts,n=t[r];return n&&(a=(0,o.resolveUrl)(this.opts.uriResolver,a,n)),new c({schema:t,schemaId:r,root:e,baseId:a})}return g.call(this,r,s)}}t.SchemaEnv=c,t.compileSchema=l,t.resolveRef=function(e,t,r){var n;r=(0,o.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let i=p.call(this,e,r);if(void 0===i){const a=null===(n=e.localRefs)||void 0===n?void 0:n[r],{schemaId:o}=this.opts;a&&(i=new c({schema:a,schemaId:o,root:e,baseId:t}))}return void 0!==i?e.refs[r]=d.call(this,i):void 0},t.getCompilingSchema=h,t.resolveSchema=f;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:r,root:n}){var a;if("/"!==(null===(a=e.fragment)||void 0===a?void 0:a[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;const e=r[(0,s.unescapeFragment)(n)];if(void 0===e)return;const a="object"==typeof(r=e)&&r[this.opts.schemaId];!m.has(n)&&a&&(t=(0,o.resolveUrl)(this.opts.uriResolver,t,a))}let i;if("boolean"!=typeof r&&r.$ref&&!(0,s.schemaHasRulesButRef)(r,this.RULES)){const e=(0,o.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=f.call(this,n,e)}const{schemaId:u}=this.opts;return i=i||new c({schema:r,schemaId:u,root:n,baseId:t}),i.schema!==i.root.schema?i:void 0}},1812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=a},5820:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2504);class a extends Error{constructor(e,t,r,a){super(a||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,n.resolveUrl)(e,t,r),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(e,this.missingRef))}}t.default=a},2504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(4216),a=r(7216),i=r(7224),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!u(e):!!t&&c(e)<=t)};const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(e){for(const t in e){if(s.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(u))return!0;if("object"==typeof r&&u(r))return!0}return!1}function c(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!o.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(e=>t+=c(e))),t===1/0))return 1/0}return t}function l(e,t="",r){!1!==r&&(t=p(t));const n=e.parse(t);return d(e,n)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=d;const h=/#\/?$/;function p(e){return e?e.replace(h,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,r){return r=p(r),e.resolve(t,r)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:r,uriResolver:n}=this.opts,o=p(e[r]||t),s={"":o},u=l(n,o,!1),c={},d=new Set;return i(e,{allKeys:!0},((e,t,n,a)=>{if(void 0===a)return;const i=u+t;let o=s[a];function l(t){const r=this.opts.uriResolver.resolve;if(t=p(o?r(o,t):t),d.has(t))throw m(t);d.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?h(e,n.schema,t):t!==p(i)&&("#"===t[0]?(h(e,c[t],t),c[t]=e):this.refs[t]=i),t}function g(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[r]&&(o=l.call(this,e[r])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),s[t]=o})),c;function h(e,t,r){if(void 0!==t&&!a(e,t))throw m(r)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},7064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},4216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(596),a=r(9288);function i(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema)return;if("boolean"==typeof t)return;const a=n.RULES.keywords;for(const r in t)a[r]||f(e,`unknown keyword: "${r}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function s(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function u(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:a}){return(i,o,s,u)=>{const c=void 0===s?o:s instanceof n.Name?(o instanceof n.Name?e(i,o,s):t(i,o,s),s):o instanceof n.Name?(t(i,s,o),o):r(o,s);return u!==n.Name||c instanceof n.Name?c:a(i,c)}}function l(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&d(e,r,t),r}function d(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${(0,n.getProperty)(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,a,i){if(!i){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${(0,n.getProperty)(a)}`},t.unescapeFragment=function(e){return u(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(s(e))},t.escapeJsonPointer=s,t.unescapeJsonPointer=u,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),d(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=d;const h={};var p;function f(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new a._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(p||(t.Type=p={})),t.getErrorPath=function(e,t,r){if(e instanceof n.Name){const a=t===p.Num;return r?a?n._`"[" + ${e} + "]"`:n._`"['" + ${e} + "']"`:a?n._`"/" + ${e}`:n._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,n.getProperty)(e).toString():"/"+s(e)},t.checkStrictMode=f},540:(e,t)=>{"use strict";function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const a=t.RULES.types[n];return a&&!0!==a&&r(e,a)},t.shouldUseGroup=r,t.shouldUseRule=n},1248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(6760),a=r(596),i=r(1812),o={message:"boolean schema is false"};function s(e,t){const{gen:r,data:a}=e,i={gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,n.reportError)(i,o,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?s(e,!1):"object"==typeof r&&!0===r.$async?t.return(i.default.data):(t.assign(a._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),s(e)):r.var(t,!0)}},3672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(7064),a=r(540),i=r(6760),o=r(596),s=r(4216);var u;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(u||(t.DataType=u={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:n,opts:i}=e,s=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),c=t.length>0&&!(0===s.length&&1===t.length&&(0,a.schemaHasRulesForType)(e,t[0]));if(c){const a=h(t,n,i.strictNumbers,u.Wrong);r.if(a,(()=>{s.length?function(e,t,r){const{gen:n,data:a,opts:i}=e,s=n.let("dataType",o._`typeof ${a}`),u=n.let("coerced",o._`undefined`);"array"===i.coerceTypes&&n.if(o._`${s} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,(()=>n.assign(a,o._`${a}[0]`).assign(s,o._`typeof ${a}`).if(h(t,a,i.strictNumbers),(()=>n.assign(u,a))))),n.if(o._`${u} !== undefined`);for(const e of r)(l.has(e)||"array"===e&&"array"===i.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void n.elseIf(o._`${s} == "number" || ${s} == "boolean"`).assign(u,o._`"" + ${a}`).elseIf(o._`${a} === null`).assign(u,o._`""`);case"number":return void n.elseIf(o._`${s} == "boolean" || ${a} === null
              || (${s} == "string" && ${a} && ${a} == +${a})`).assign(u,o._`+${a}`);case"integer":return void n.elseIf(o._`${s} === "boolean" || ${a} === null
              || (${s} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(u,o._`+${a}`);case"boolean":return void n.elseIf(o._`${a} === "false" || ${a} === 0 || ${a} === null`).assign(u,!1).elseIf(o._`${a} === "true" || ${a} === 1`).assign(u,!0);case"null":return n.elseIf(o._`${a} === "" || ${a} === 0 || ${a} === false`),void n.assign(u,null);case"array":n.elseIf(o._`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${a} === null`).assign(u,o._`[${a}]`)}}n.else(),f(e),n.endIf(),n.if(o._`${u} !== undefined`,(()=>{n.assign(a,u),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(o._`${t} !== undefined`,(()=>e.assign(o._`${t}[${r}]`,n)))}(e,u)}))}(e,t,s):f(e)}))}return c};const l=new Set(["string","number","integer","boolean","null"]);function d(e,t,r,n=u.Correct){const a=n===u.Correct?o.operators.EQ:o.operators.NEQ;let i;switch(e){case"null":return o._`${t} ${a} null`;case"array":i=o._`Array.isArray(${t})`;break;case"object":i=o._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=s(o._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=s();break;default:return o._`typeof ${t} ${a} ${e}`}return n===u.Correct?i:(0,o.not)(i);function s(e=o.nil){return(0,o.and)(o._`typeof ${t} == "number"`,e,r?o._`isFinite(${t})`:o.nil)}}function h(e,t,r,n){if(1===e.length)return d(e[0],t,r,n);let a;const i=(0,s.toHash)(e);if(i.array&&i.object){const e=o._`typeof ${t} != "object"`;a=i.null?e:o._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else a=o.nil;i.number&&delete i.integer;for(const e in i)a=(0,o.and)(a,d(e,t,r,n));return a}t.checkDataType=d,t.checkDataTypes=h;const p={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?o._`{type: ${e}}`:o._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:r,schema:n}=e,a=(0,s.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}(e);(0,i.reportError)(t,p)}t.reportTypeError=f},2476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(596),a=r(4216);function i(e,t,r){const{gen:i,compositeRule:o,data:s,opts:u}=e;if(void 0===r)return;const c=n._`${s}${(0,n.getProperty)(t)}`;if(o)return void(0,a.checkStrictMode)(e,`default is ignored for: ${c}`);let l=n._`${c} === undefined`;"empty"===u.useDefaults&&(l=n._`${l} || ${c} === null || ${c} === ""`),i.if(l,n._`${c} = ${(0,n.stringify)(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const t in r)i(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>i(e,r,t.default)))}},3168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=r(1248),a=r(3672),i=r(540),o=r(3672),s=r(2476),u=r(7776),c=r(128),l=r(596),d=r(1812),h=r(2504),p=r(4216),f=r(6760);function m({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},i){a.code.es5?e.func(t,l._`${d.default.data}, ${d.default.valCxt}`,n.$async,(()=>{e.code(l._`"use strict"; ${g(r,a)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,l._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,l._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,l._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,l._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,l._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,l._`""`),e.var(d.default.parentData,l._`undefined`),e.var(d.default.parentDataProperty,l._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,l._`{}`)}))}(e,a),e.code(i)})):e.func(t,l._`${d.default.data}, ${function(e){return l._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?l._`, ${d.default.dynamicAnchors}={}`:l.nil}}={}`}(a)}`,n.$async,(()=>e.code(g(r,a)).code(i)))}function g(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?l._`/*# sourceURL=${r} */`:l.nil}function y({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function D(e){return"boolean"!=typeof e.schema}function v(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function C(e,t){if(e.opts.jtd)return b(e,[],!1,t);const r=(0,a.getSchemaTypes)(e.schema);b(e,r,!(0,a.coerceAndCheckDataType)(e,r),t)}function E({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const i=r.$comment;if(!0===a.$comment)e.code(l._`${d.default.self}.logger.log(${i})`);else if("function"==typeof a.$comment){const r=l.str`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code(l._`${d.default.self}.opts.$comment(${i}, ${r}, ${a}.schema)`)}}function b(e,t,r,n){const{gen:a,schema:s,data:u,allErrors:c,opts:h,self:f}=e,{RULES:m}=f;function g(p){(0,i.shouldUseGroup)(s,p)&&(p.type?(a.if((0,o.checkDataType)(p.type,u,h.strictNumbers)),A(e,p),1===t.length&&t[0]===p.type&&r&&(a.else(),(0,o.reportTypeError)(e)),a.endIf()):A(e,p),c||a.if(l._`${d.default.errors} === ${n||0}`))}!s.$ref||!h.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(s,m)?(h.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{F(e.dataTypes,t)||w(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const r=[];for(const n of e.dataTypes)F(t,n)?r.push(n):t.includes("integer")&&"number"===n&&r.push("integer");e.dataTypes=r}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&w(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if("object"==typeof a&&(0,i.shouldUseRule)(e.schema,a)){const{type:r}=a.definition;r.length&&!r.some((e=>{return n=e,(r=t).includes(n)||"number"===n&&r.includes("integer");var r,n}))&&w(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}(e,e.dataTypes))}(e,t),a.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):a.block((()=>_(e,"$ref",m.all.$ref.definition)))}function A(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,s.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,i.shouldUseRule)(n,r)&&_(e,r.keyword,r.definition,t.type)}))}function F(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function w(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){D(e)&&(v(e),y(e))?function(e){const{schema:t,opts:r,gen:n}=e;m(e,(()=>{r.$comment&&t.$comment&&E(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(d.default.vErrors,null),n.let(d.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",l._`${r}.evaluated`),t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`))),t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}(e),C(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:i}=e;r.$async?t.if(l._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(l._`new ${a}(${d.default.vErrors})`))):(t.assign(l._`${n}.errors`,d.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof l.Name&&e.assign(l._`${t}.props`,r),n instanceof l.Name&&e.assign(l._`${t}.items`,n)}(e),t.return(l._`${d.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,n.topBoolOrEmptySchema)(e)))};class ${constructor(e,t,r){if((0,u.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",P(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,u.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,r){this.failResult((0,l.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,l.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${(0,l.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=l.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:a,def:i}=this;r.if((0,l.or)(l._`${n} === undefined`,t)),e!==l.nil&&r.assign(e,!0),(a.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==l.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:a}=this;return(0,l.or)(function(){if(r.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return l._`${(0,o.checkDataTypes)(e,t,a.opts.strictNumbers,o.DataType.Wrong)}`}return l.nil}(),function(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return l._`!${r}(${t})`}return l.nil}())}subschema(e,t){const r=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(r,this.it,e),(0,c.extendSubschemaMode)(r,e);const a={...this.it,...r,items:void 0,props:void 0};return function(e,t){D(e)&&(v(e),y(e))?function(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&E(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=n.const("_errs",d.default.errors);C(e,i),n.var(t,l._`${i} === ${d.default.errors}`)}(e,t):(0,n.boolOrEmptySchema)(e,t)}(a,t),a}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=p.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=p.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,l.Name))),!0}}function _(e,t,r,n){const a=new $(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,u.funcKeywordCode)(a,r):"macro"in r?(0,u.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,u.funcKeywordCode)(a,r)}t.KeywordCxt=$;const S=/^\/(?:[^~]|~0|~1)*$/,k=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,i;if(""===e)return d.default.rootData;if("/"===e[0]){if(!S.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,i=d.default.rootData}else{const o=k.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const s=+o[1];if(a=o[2],"#"===a){if(s>=t)throw new Error(u("property/index",s));return n[t-s]}if(s>t)throw new Error(u("data",s));if(i=r[t-s],!a)return i}let o=i;const s=a.split("/");for(const e of s)e&&(i=l._`${i}${(0,l.getProperty)((0,p.unescapeJsonPointer)(e))}`,o=l._`${o} && ${i}`);return o;function u(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=P},7776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const n=r(596),a=r(1812),i=r(1092),o=r(6760);function s(e){const{gen:t,data:r,it:a}=e;t.if(a.parentData,(()=>t.assign(r,n._`${a.parentData}[${a.parentDataProperty}]`)))}function u(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}t.macroKeywordCode=function(e,t){const{gen:r,keyword:a,schema:i,parentSchema:o,it:s}=e,c=t.macro.call(s.self,i,o,s),l=u(r,a,c);!1!==s.opts.validateSchema&&s.self.validateSchema(c,!0);const d=r.name("valid");e.subschema({schema:c,schemaPath:n.nil,errSchemaPath:`${s.errSchemaPath}/${a}`,topSchemaRef:l,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var r;const{gen:c,keyword:l,schema:d,parentSchema:h,$data:p,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const m=!p&&t.compile?t.compile.call(f.self,d,h,f):t.validate,g=u(c,l,m),y=c.let("valid");function D(r=(t.async?n._`await `:n.nil)){const o=f.opts.passContext?a.default.this:a.default.self,s=!("compile"in t&&!p||!1===t.schema);c.assign(y,n._`${r}${(0,i.callValidateCode)(e,g,o,s)}`,t.modifying)}function v(e){var r;c.if((0,n.not)(null!==(r=t.valid)&&void 0!==r?r:y),e)}e.block$data(y,(function(){if(!1===t.errors)D(),t.modifying&&s(e),v((()=>e.error()));else{const r=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>D(n._`await `)),(t=>c.assign(y,!1).if(n._`${t} instanceof ${f.ValidationError}`,(()=>c.assign(e,n._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=n._`${g}.errors`;return c.assign(e,null),D(n.nil),e}();t.modifying&&s(e),v((()=>function(e,t){const{gen:r}=e;r.if(n._`Array.isArray(${t})`,(()=>{r.assign(a.default.vErrors,n._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`).assign(a.default.errors,n._`${a.default.vErrors}.length`),(0,o.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:y)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:n},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const o=a.dependencies;if(null==o?void 0:o.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}},128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const n=r(596),a=r(4216);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:i,schemaPath:o,errSchemaPath:s,topSchemaRef:u}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===r?{schema:i,schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,a.escapeFragment)(r)}`}}if(void 0!==i){if(void 0===o||void 0===s||void 0===u)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:o,topSchemaRef:u,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:i,data:o,dataTypes:s,propertyName:u}){if(void 0!==o&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==r){const{errorPath:o,dataPathArr:s,opts:u}=t;l(c.let("data",n._`${t.data}${(0,n.getProperty)(r)}`,!0)),e.errorPath=n.str`${o}${(0,a.getErrorPath)(r,i,u.jsPropertySyntax)}`,e.parentDataProperty=n._`${r}`,e.dataPathArr=[...s,e.parentDataProperty]}function l(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==o&&(l(o instanceof n.Name?o:c.let("data",o,!0)),void 0!==u&&(e.propertyName=u)),s&&(e.dataTypes=s)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:i}){void 0!==n&&(e.compositeRule=n),void 0!==a&&(e.createErrors=a),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}},8004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=r(3168);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var a=r(596);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});const i=r(5108),o=r(5820),s=r(7064),u=r(8068),c=r(596),l=r(2504),d=r(3672),h=r(4216),p=r(3172),f=r(2648),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),D={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function C(e){var t,r,n,a,i,o,s,u,c,l,d,h,p,g,y,D,v,C,E,b,A,F,w,$,_;const S=e.strict,k=null===(t=e.code)||void 0===t?void 0:t.optimize,P=!0===k||void 0===k?1:k||0,B=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:m,T=null!==(a=e.uriResolver)&&void 0!==a?a:f.default;return{strictSchema:null===(o=null!==(i=e.strictSchema)&&void 0!==i?i:S)||void 0===o||o,strictNumbers:null===(u=null!==(s=e.strictNumbers)&&void 0!==s?s:S)||void 0===u||u,strictTypes:null!==(l=null!==(c=e.strictTypes)&&void 0!==c?c:S)&&void 0!==l?l:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:S)&&void 0!==h?h:"log",strictRequired:null!==(g=null!==(p=e.strictRequired)&&void 0!==p?p:S)&&void 0!==g&&g,code:e.code?{...e.code,optimize:P,regExp:B}:{optimize:P,regExp:B},loopRequired:null!==(y=e.loopRequired)&&void 0!==y?y:200,loopEnum:null!==(D=e.loopEnum)&&void 0!==D?D:200,meta:null===(v=e.meta)||void 0===v||v,messages:null===(C=e.messages)||void 0===C||C,inlineRefs:null===(E=e.inlineRefs)||void 0===E||E,schemaId:null!==(b=e.schemaId)&&void 0!==b?b:"$id",addUsedSchema:null===(A=e.addUsedSchema)||void 0===A||A,validateSchema:null===(F=e.validateSchema)||void 0===F||F,validateFormats:null===(w=e.validateFormats)||void 0===w||w,unicodeRegExp:null===($=e.unicodeRegExp)||void 0===$||$,int32range:null===(_=e.int32range)||void 0===_||_,uriResolver:T}}class E{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...C(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:y,es5:t,lines:r}),this.logger=function(e){if(!1===e)return S;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,s.getRules)(),b.call(this,D,e,"NOT SUPPORTED"),b.call(this,v,e,"DEPRECATED","warn"),this._metaOpts=_.call(this),e.formats&&w.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&$.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),F.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let n=p;"id"===r&&(n={...p},n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await a.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||i.call(this,r)}async function a(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.default))throw t;return s.call(this,t),await u.call(this,t.missingSchema),i.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function u(e){const r=await c.call(this,e);this.refs[e]||await a.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let a;if("object"==typeof e){const{schemaId:t}=this.opts;if(a=e[t],void 0!==a&&"string"!=typeof a)throw new Error(`schema ${t} must be string`)}return t=(0,l.normalizeId)(t||a),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=A.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,n=new u.SchemaEnv({schema:{},schemaId:r});if(t=u.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=A.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,l.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(P.call(this,r,t),!t)return(0,h.eachItem)(r,(e=>B.call(this,e))),this;N.call(this,t);const n={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(r,0===n.type.length?e=>B.call(this,e,n):e=>n.type.forEach((t=>B.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let a=e;for(const e of t)a=a[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,i=a[e];n&&i&&(a[e]=O(i))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,a=this.opts.addUsedSchema){let i;const{schemaId:o}=this.opts;if("object"==typeof e)i=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let s=this._cache.get(e);if(void 0!==s)return s;r=(0,l.normalizeId)(i||r);const c=l.getSchemaRefs.call(this,e,r);return s=new u.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:r,localRefs:c}),this._cache.set(s.schema,s),a&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=s),n&&this.validateSchema(e,!0),s}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):u.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,e)}finally{this.opts=t}}}function b(e,t,r,n="error"){for(const a in e){const i=a;i in t&&this.logger[n](`${r}: option ${a}. ${e[i]}`)}}function A(e){return e=(0,l.normalizeId)(e),this.schemas[e]||this.refs[e]}function F(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function w(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function $(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function _(){const e={...this.opts};for(const t of g)delete e[t];return e}E.ValidationError=i.default,E.MissingRefError=o.default,t.default=E;const S={log(){},warn(){},error(){}},k=/^[a-z_$][a-z0-9_$:-]*$/i;function P(e,t){const{RULES:r}=this;if((0,h.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!k.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function B(e,t,r){var n;const a=null==t?void 0:t.post;if(r&&a)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let o=a?i.post:i.rules.find((({type:e})=>e===r));if(o||(o={type:r,rules:[]},i.rules.push(o)),i.keywords[e]=!0,!t)return;const s={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?T.call(this,o,s,t.before):o.rules.push(s),i.all[e]=s,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function T(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function N(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=O(t)),e.validateSchema=this.compile(t,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function O(e){return{anyOf:[e,x]}}},2612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7216);n.code='require("ajv/dist/runtime/equal").default',t.default=n},5976:(e,t)=>{"use strict";function r(e){const t=e.length;let r,n=0,a=0;for(;a<t;)n++,r=e.charCodeAt(a++),r>=55296&&r<=56319&&a<t&&(r=e.charCodeAt(a),56320==(64512&r)&&a++);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},2648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2976);n.code='require("ajv/dist/runtime/uri").default',t.default=n},5108:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},9768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const n=r(596),a=r(4216),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?o(e,n):(0,a.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function o(e,t){const{gen:r,schema:i,data:o,keyword:s,it:u}=e;u.items=!0;const c=r.const("len",n._`${o}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(n._`${c} <= ${t.length}`);else if("object"==typeof i&&!(0,a.alwaysValidSchema)(u,i)){const i=r.var("valid",n._`${c} <= ${t.length}`);r.if((0,n.not)(i),(()=>function(i){r.forRange("i",t.length,c,(t=>{e.subschema({keyword:s,dataProp:t,dataPropType:a.Type.Num},i),u.allErrors||r.if((0,n.not)(i),(()=>r.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=o,t.default=i},9228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1092),a=r(596),i=r(1812),o=r(4216),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>a._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:s,data:u,errsCount:c,it:l}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:d,opts:h}=l;if(l.props=!0,"all"!==h.removeAdditional&&(0,o.alwaysValidSchema)(l,r))return;const p=(0,n.allSchemaProperties)(s.properties),f=(0,n.allSchemaProperties)(s.patternProperties);function m(e){t.code(a._`delete ${u}[${e}]`)}function g(n){if("all"===h.removeAdditional||h.removeAdditional&&!1===r)m(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(d||t.break());if("object"==typeof r&&!(0,o.alwaysValidSchema)(l,r)){const r=t.name("valid");"failing"===h.removeAdditional?(y(n,r,!1),t.if((0,a.not)(r),(()=>{e.reset(),m(n)}))):(y(n,r),d||t.if((0,a.not)(r),(()=>t.break())))}}}function y(t,r,n){const a={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};!1===n&&Object.assign(a,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(a,r)}t.forIn("key",u,(r=>{p.length||f.length?t.if(function(r){let i;if(p.length>8){const e=(0,o.schemaRefOrVal)(l,s.properties,"properties");i=(0,n.isOwnProperty)(t,e,r)}else i=p.length?(0,a.or)(...p.map((e=>a._`${r} === ${e}`))):a.nil;return f.length&&(i=(0,a.or)(i,...f.map((t=>a._`${(0,n.usePattern)(e,t)}.test(${r})`)))),(0,a.not)(i)}(r),(()=>g(r))):g(r)})),e.ok(a._`${c} === ${i.default.errors}`)}};t.default=s},2296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4216),a={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach(((t,r)=>{if((0,n.alwaysValidSchema)(a,t))return;const o=e.subschema({keyword:"allOf",schemaProp:r},i);e.ok(i),e.mergeEvaluated(o)}))}};t.default=a},2448:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(1092).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},7780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`must contain at least ${e} valid item(s)`:n.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:i,data:o,it:s}=e;let u,c;const{minContains:l,maxContains:d}=i;s.opts.next?(u=void 0===l?1:l,c=d):u=1;const h=t.const("len",n._`${o}.length`);if(e.setParams({min:u,max:c}),void 0===c&&0===u)return void(0,a.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&u>c)return(0,a.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,a.alwaysValidSchema)(s,r)){let t=n._`${h} >= ${u}`;return void 0!==c&&(t=n._`${t} && ${h} <= ${c}`),void e.pass(t)}s.items=!0;const p=t.name("valid");function f(){const e=t.name("_valid"),r=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(n._`${e}++`),void 0===c?t.if(n._`${e} >= ${u}`,(()=>t.assign(p,!0).break())):(t.if(n._`${e} > ${c}`,(()=>t.assign(p,!1).break())),1===u?t.assign(p,!0):t.if(n._`${e} >= ${u}`,(()=>t.assign(p,!0))))}(r)))))}function m(r,n){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:a.Type.Num,compositeRule:!0},r),n()}))}void 0===c&&1===u?m(p,(()=>t.if(p,(()=>t.break())))):0===u?(t.let(p,!0),void 0!==c&&t.if(n._`${o}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,(()=>e.reset()))}};t.default=i},5924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(596),a=r(4216),i=r(1092);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const a=1===t?"property":"properties";return n.str`must have ${a} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:a}})=>n._`{property: ${e},
    missingProperty: ${a},
    depsCount: ${t},
    deps: ${r}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}(e);s(e,t),u(e,r)}};function s(e,t=e.schema){const{gen:r,data:a,it:o}=e;if(0===Object.keys(t).length)return;const s=r.let("missing");for(const u in t){const c=t[u];if(0===c.length)continue;const l=(0,i.propertyInData)(r,a,u,o.opts.ownProperties);e.setParams({property:u,depsCount:c.length,deps:c.join(", ")}),o.allErrors?r.if(l,(()=>{for(const t of c)(0,i.checkReportMissingProp)(e,t)})):(r.if(n._`${l} && (${(0,i.checkMissingProp)(e,c,s)})`),(0,i.reportMissingProp)(e,s),r.else())}}function u(e,t=e.schema){const{gen:r,data:n,keyword:o,it:s}=e,u=r.name("valid");for(const c in t)(0,a.alwaysValidSchema)(s,t[c])||(r.if((0,i.propertyInData)(r,n,c,s.opts.ownProperties),(()=>{const t=e.subschema({keyword:o,schemaProp:c},u);e.mergeValidEvaluated(t,u)}),(()=>r.var(u,!0))),e.ok(u))}t.validatePropertyDeps=s,t.validateSchemaDeps=u,t.default=o},8888:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`must match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:i}=e;void 0===r.then&&void 0===r.else&&(0,a.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const s=o(i,"then"),u=o(i,"else");if(!s&&!u)return;const c=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),s&&u){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(l,d("then",r),d("else",r))}else s?t.if(l,d("then")):t.if((0,n.not)(l),d("else"));function d(r,a){return()=>{const i=e.subschema({keyword:r},l);t.assign(c,l),e.mergeValidEvaluated(i,c),a?t.assign(a,n._`${r}`):e.setParams({ifClause:r})}}e.pass(c,(()=>e.error(!0)))}};function o(e,t){const r=e.schema[t];return void 0!==r&&!(0,a.alwaysValidSchema)(e,r)}t.default=i},660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9768),a=r(9296),i=r(2464),o=r(4824),s=r(7780),u=r(5924),c=r(3084),l=r(9228),d=r(9224),h=r(7072),p=r(3608),f=r(2448),m=r(7068),g=r(2296),y=r(8888),D=r(7956);t.default=function(e=!1){const t=[p.default,f.default,m.default,g.default,y.default,D.default,c.default,l.default,u.default,d.default,h.default];return e?t.push(a.default,o.default):t.push(n.default,i.default),t.push(s.default),t}},2464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const n=r(596),a=r(4216),i=r(1092),o={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return s(e,"additionalItems",t);r.items=!0,(0,a.alwaysValidSchema)(r,t)||e.ok((0,i.validateArray)(e))}};function s(e,t,r=e.schema){const{gen:i,parentSchema:o,data:s,keyword:u,it:c}=e;!function(e){const{opts:n,errSchemaPath:i}=c,o=r.length,s=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(n.strictTuples&&!s){const e=`"${u}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,a.checkStrictMode)(c,e,n.strictTuples)}}(o),c.opts.unevaluated&&r.length&&!0!==c.items&&(c.items=a.mergeEvaluated.items(i,r.length,c.items));const l=i.name("valid"),d=i.const("len",n._`${s}.length`);r.forEach(((t,r)=>{(0,a.alwaysValidSchema)(c,t)||(i.if(n._`${d} > ${r}`,(()=>e.subschema({keyword:u,schemaProp:r,dataProp:r},l))),e.ok(l))}))}t.validateTuple=s,t.default=o},4824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i=r(1092),o=r(9768),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,(0,a.alwaysValidSchema)(n,t)||(s?(0,o.validateAdditionalItems)(e,s):e.ok((0,i.validateArray)(e)))}};t.default=s},3608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4216),a={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:a}=e;if((0,n.alwaysValidSchema)(a,r))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=a},7068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:i,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&i.discriminator)return;const s=r,u=t.let("valid",!1),c=t.let("passing",null),l=t.name("_valid");e.setParams({passing:c}),t.block((function(){s.forEach(((r,i)=>{let s;(0,a.alwaysValidSchema)(o,r)?t.var(l,!0):s=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},l),i>0&&t.if(n._`${l} && ${u}`).assign(u,!1).assign(c,n._`[${c}, ${i}]`).else(),t.if(l,(()=>{t.assign(u,!0),t.assign(c,i),s&&e.mergeEvaluated(s,n.Name)}))}))})),e.result(u,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},7072:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1092),a=r(596),i=r(4216),o=r(4216),s={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:s,parentSchema:u,it:c}=e,{opts:l}=c,d=(0,n.allSchemaProperties)(r),h=d.filter((e=>(0,i.alwaysValidSchema)(c,r[e])));if(0===d.length||h.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;const p=l.strictSchema&&!l.allowMatchingProperties&&u.properties,f=t.name("valid");!0===c.props||c.props instanceof a.Name||(c.props=(0,o.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in p)new RegExp(e).test(t)&&(0,i.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function y(r){t.forIn("key",s,(i=>{t.if(a._`${(0,n.usePattern)(e,r)}.test(${i})`,(()=>{const n=h.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:o.Type.Str},f),c.opts.unevaluated&&!0!==m?t.assign(a._`${m}[${i}]`,!0):n||c.allErrors||t.if((0,a.not)(f),(()=>t.break()))}))}))}!function(){for(const e of d)p&&g(e),c.allErrors?y(e):(t.var(f,!0),y(e),t.if(f))}()}};t.default=s},9296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2464),a={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")};t.default=a},9224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3168),a=r(1092),i=r(4216),o=r(9228),s={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:s,data:u,it:c}=e;"all"===c.opts.removeAdditional&&void 0===s.additionalProperties&&o.default.code(new n.KeywordCxt(c,o.default,"additionalProperties"));const l=(0,a.allSchemaProperties)(r);for(const e of l)c.definedProperties.add(e);c.opts.unevaluated&&l.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(t,(0,i.toHash)(l),c.props));const d=l.filter((e=>!(0,i.alwaysValidSchema)(c,r[e])));if(0===d.length)return;const h=t.name("valid");for(const r of d)p(r)?f(r):(t.if((0,a.propertyInData)(t,u,r,c.opts.ownProperties)),f(r),c.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(h);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==r[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=s},3084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:i,it:o}=e;if((0,a.alwaysValidSchema)(o,r))return;const s=t.name("valid");t.forIn("key",i,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},s),t.if((0,n.not)(s),(()=>{e.error(!0),o.allErrors||t.break()}))})),e.ok(s)}};t.default=i},7956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4216),a={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t.default=a},1092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(596),a=r(4216),i=r(1812),o=r(4216);function s(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function u(e,t,r){return n._`${s(e)}.call(${t}, ${r})`}function c(e,t,r,a){const i=n._`${t}${(0,n.getProperty)(r)} === undefined`;return a?(0,n.or)(i,(0,n.not)(u(e,t,r))):i}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:a,it:i}=e;r.if(c(r,a,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},a,i){return(0,n.or)(...a.map((a=>(0,n.and)(c(e,t,a,r.ownProperties),n._`${i} = ${a}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=s,t.isOwnProperty=u,t.propertyInData=function(e,t,r,a){const i=n._`${t}${(0,n.getProperty)(r)} !== undefined`;return a?n._`${i} && ${u(e,t,r)}`:i},t.noPropertyInData=c,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((r=>!(0,a.alwaysValidSchema)(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:a,schemaPath:o,errorPath:s},it:u},c,l,d){const h=d?n._`${e}, ${t}, ${a}${o}`:t,p=[[i.default.instancePath,(0,n.strConcat)(i.default.instancePath,s)],[i.default.parentData,u.parentData],[i.default.parentDataProperty,u.parentDataProperty],[i.default.rootData,i.default.rootData]];u.opts.dynamicRef&&p.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const f=n._`${h}, ${r.object(...p)}`;return l!==n.nil?n._`${c}.call(${l}, ${f})`:n._`${c}(${f})`};const d=n._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){const a=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,a);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:n._`${"new RegExp"===i.code?d:(0,o.useFunc)(e,i)}(${r}, ${a})`})},t.validateArray=function(e){const{gen:t,data:r,keyword:i,it:o}=e,s=t.name("valid");if(o.allErrors){const e=t.let("valid",!0);return u((()=>t.assign(e,!1))),e}return t.var(s,!0),u((()=>t.break())),s;function u(o){const u=t.const("len",n._`${r}.length`);t.forRange("i",0,u,(r=>{e.subschema({keyword:i,dataProp:r,dataPropType:a.Type.Num},s),t.if((0,n.not)(s),o)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:i,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>(0,a.alwaysValidSchema)(o,e)))&&!o.opts.unevaluated)return;const s=t.let("valid",!1),u=t.name("_valid");t.block((()=>r.forEach(((r,a)=>{const o=e.subschema({keyword:i,schemaProp:a,compositeRule:!0},u);t.assign(s,n._`${s} || ${u}`),e.mergeValidEvaluated(o,u)||t.if((0,n.not)(s))})))),e.result(s,(()=>e.reset()),(()=>e.error(!0)))}},2796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},5312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2796),a=r(6052),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,a.default];t.default=i},6052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(5820),a=r(1092),i=r(596),o=r(1812),s=r(8068),u=r(4216),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:a}=e,{baseId:o,schemaEnv:u,validateName:c,opts:h,self:p}=a,{root:f}=u;if(("#"===r||"#/"===r)&&o===f.baseId)return function(){if(u===f)return d(e,c,u,u.$async);const r=t.scopeValue("root",{ref:f});return d(e,i._`${r}.validate`,f,f.$async)}();const m=s.resolveRef.call(p,f,o,r);if(void 0===m)throw new n.default(a.opts.uriResolver,o,r);return m instanceof s.SchemaEnv?function(t){const r=l(e,t);d(e,r,t,t.$async)}(m):function(n){const a=t.scopeValue("schema",!0===h.code.source?{ref:n,code:(0,i.stringify)(n)}:{ref:n}),o=t.name("valid"),s=e.subschema({schema:n,dataTypes:[],schemaPath:i.nil,topSchemaRef:a,errSchemaPath:r},o);e.mergeEvaluated(s),e.ok(o)}(m)}};function l(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):i._`${r.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,r,n){const{gen:s,it:c}=e,{allErrors:l,schemaEnv:d,opts:h}=c,p=h.passContext?o.default.this:i.nil;function f(e){const t=i._`${e}.errors`;s.assign(o.default.vErrors,i._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`),s.assign(o.default.errors,i._`${o.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(n&&!n.dynamicProps)void 0!==n.props&&(c.props=u.mergeEvaluated.props(s,n.props,c.props));else{const t=s.var("props",i._`${e}.evaluated.props`);c.props=u.mergeEvaluated.props(s,t,c.props,i.Name)}if(!0!==c.items)if(n&&!n.dynamicItems)void 0!==n.items&&(c.items=u.mergeEvaluated.items(s,n.items,c.items));else{const t=s.var("items",i._`${e}.evaluated.items`);c.items=u.mergeEvaluated.items(s,t,c.items,i.Name)}}n?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const r=s.let("valid");s.try((()=>{s.code(i._`await ${(0,a.callValidateCode)(e,t,p)}`),m(t),l||s.assign(r,!0)}),(e=>{s.if(i._`!(${e} instanceof ${c.ValidationError})`,(()=>s.throw(e))),f(e),l||s.assign(r,!1)})),e.ok(r)}():e.result((0,a.callValidateCode)(e,t,p),(()=>m(t)),(()=>f(t)))}t.getValidate=l,t.callRef=d,t.default=c},4640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(5588),i=r(8068),o=r(4216),s={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===a.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>n._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:s,parentSchema:u,it:c}=e,{oneOf:l}=u;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=s.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),p=t.const("tag",n._`${r}${(0,n.getProperty)(d)}`);function f(r){const a=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:r},a);return e.mergeEvaluated(i,n.Name),a}t.if(n._`typeof ${p} == "string"`,(()=>function(){const r=function(){var e;const t={},r=a(u);let n=!0;for(let t=0;t<l.length;t++){let u=l[t];(null==u?void 0:u.$ref)&&!(0,o.schemaHasRulesButRef)(u,c.self.RULES)&&(u=i.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==u?void 0:u.$ref),u instanceof i.SchemaEnv&&(u=u.schema));const h=null===(e=null==u?void 0:u.properties)||void 0===e?void 0:e[d];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);n=n&&(r||a(u)),s(h,t)}if(!n)throw new Error(`discriminator: "${d}" must be required`);return t;function a({required:e}){return Array.isArray(e)&&e.includes(d)}function s(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const r of e.enum)h(r,t)}}function h(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${d}" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(n._`${p} === ${e}`),t.assign(h,f(r[e]));t.else(),e.error(!1,{discrError:a.DiscrError.Mapping,tag:p,tagName:d}),t.endIf()}()),(()=>e.error(!1,{discrError:a.DiscrError.Tag,tag:p,tagName:d}))),e.ok(h)}};t.default=s},5588:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(r||(t.DiscrError=r={}))},2685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5312),a=r(2284),i=r(660),o=r(8188),s=r(9104),u=[n.default,a.default,(0,i.default)(),o.default,s.metadataVocabulary,s.contentVocabulary];t.default=u},6508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`must match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:r,data:a,$data:i,schema:o,schemaCode:s,it:u}=e,{opts:c,errSchemaPath:l,schemaEnv:d,self:h}=u;c.validateFormats&&(i?function(){const i=r.scopeValue("formats",{ref:h.formats,code:c.code.formats}),o=r.const("fDef",n._`${i}[${s}]`),u=r.let("fType"),l=r.let("format");r.if(n._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>r.assign(u,n._`${o}.type || "string"`).assign(l,n._`${o}.validate`)),(()=>r.assign(u,n._`"string"`).assign(l,o))),e.fail$data((0,n.or)(!1===c.strictSchema?n.nil:n._`${s} && !${l}`,function(){const e=d.$async?n._`(${o}.async ? await ${l}(${a}) : ${l}(${a}))`:n._`${l}(${a})`,r=n._`(typeof ${l} == "function" ? ${e} : ${l}.test(${a}))`;return n._`${l} && ${l} !== true && ${u} === ${t} && !${r}`}()))}():function(){const i=h.formats[o];if(!i)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${l}"`}h.logger.warn(e())}();if(!0===i)return;const[s,u,p]=function(e){const t=e instanceof RegExp?(0,n.regexpCode)(e):c.code.formats?n._`${c.code.formats}${(0,n.getProperty)(o)}`:void 0,a=r.scopeValue("formats",{key:o,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,a]:[e.type||"string",e.validate,n._`${a}.validate`]}(i);s===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!d.$async)throw new Error("async format in sync schema");return n._`await ${p}(${a})`}return"function"==typeof u?n._`${p}(${a})`:n._`${p}.test(${a})`}())}())}};t.default=a},8188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[r(6508).default];t.default=n},9104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},5524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i=r(2612),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:o,schemaCode:s,schema:u}=e;o||u&&"object"==typeof u?e.fail$data(n._`!${(0,a.useFunc)(t,i.default)}(${r}, ${s})`):e.fail(n._`${u} !== ${r}`)}};t.default=o},1196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i=r(2612),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:o,schema:s,schemaCode:u,it:c}=e;if(!o&&0===s.length)throw new Error("enum must have non-empty array");const l=s.length>=c.opts.loopEnum;let d;const h=()=>null!=d?d:d=(0,a.useFunc)(t,i.default);let p;if(l||o)p=t.let("valid"),e.block$data(p,(function(){t.assign(p,!1),t.forOf("v",u,(e=>t.if(n._`${h()}(${r}, ${e})`,(()=>t.assign(p,!0).break()))))}));else{if(!Array.isArray(s))throw new Error("ajv implementation error");const e=t.const("vSchema",u);p=(0,n.or)(...s.map(((t,a)=>function(e,t){const a=s[t];return"object"==typeof a&&null!==a?n._`${h()}(${r}, ${e}[${t}])`:n._`${r} === ${a}`}(e,a))))}e.pass(p)}};t.default=o},2284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7912),a=r(3552),i=r(1796),o=r(5728),s=r(8728),u=r(4880),c=r(304),l=r(6252),d=r(5524),h=r(1196),p=[n.default,a.default,i.default,o.default,s.default,u.default,c.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,h.default];t.default=p},304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:a}=e,i="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${i} ${a}`)}};t.default=a},1796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=r(4216),i=r(5976),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o,it:s}=e,u="maxLength"===t?n.operators.GT:n.operators.LT,c=!1===s.opts.unicode?n._`${r}.length`:n._`${(0,a.useFunc)(e.gen,i.default)}(${r})`;e.fail$data(n._`${c} ${u} ${o}`)}};t.default=o},7912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a=n.operators,i={maximum:{okStr:"<=",ok:a.LTE,fail:a.GT},minimum:{okStr:">=",ok:a.GTE,fail:a.LT},exclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},exclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},o={message:({keyword:e,schemaCode:t})=>n.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${i[e].okStr}, limit: ${t}}`},s={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:o,code(e){const{keyword:t,data:r,schemaCode:a}=e;e.fail$data(n._`${r} ${i[t].fail} ${a} || isNaN(${r})`)}};t.default=s},8728:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:a}=e,i="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${i} ${a}`)}};t.default=a},3552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596),a={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`must be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:a,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),u=o?n._`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:n._`${s} !== parseInt(${s})`;e.fail$data(n._`(${a} === 0 || (${s} = ${r}/${a}, ${u}))`)}};t.default=a},5728:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1092),a=r(596),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>a.str`must match pattern "${e}"`,params:({schemaCode:e})=>a._`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:i,schemaCode:o,it:s}=e,u=s.opts.unicodeRegExp?"u":"",c=r?a._`(new RegExp(${o}, ${u}))`:(0,n.usePattern)(e,i);e.fail$data(a._`!${c}.test(${t})`)}};t.default=i},4880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1092),a=r(596),i=r(4216),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>a.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>a._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:o,data:s,$data:u,it:c}=e,{opts:l}=c;if(!u&&0===r.length)return;const d=r.length>=l.loopRequired;if(c.allErrors?function(){if(d||u)e.block$data(a.nil,h);else for(const t of r)(0,n.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(d||u){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,i){e.setParams({missingProperty:r}),t.forOf(r,o,(()=>{t.assign(i,(0,n.propertyInData)(t,s,r,l.ownProperties)),t.if((0,a.not)(i),(()=>{e.error(),t.break()}))}),a.nil)}(i,r))),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,i)),(0,n.reportMissingProp)(e,i),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(c,t,c.opts.strictRequired)}}function h(){t.forOf("prop",o,(r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,s,r,l.ownProperties),(()=>e.error()))}))}}};t.default=o},6252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3672),a=r(596),i=r(4216),o=r(2612),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>a.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>a._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:s,schema:u,parentSchema:c,schemaCode:l,it:d}=e;if(!s&&!u)return;const h=t.let("valid"),p=c.items?(0,n.getSchemaTypes)(c.items):[];function f(i,o){const s=t.name("item"),u=(0,n.checkDataTypes)(p,s,d.opts.strictNumbers,n.DataType.Wrong),c=t.const("indices",a._`{}`);t.for(a._`;${i}--;`,(()=>{t.let(s,a._`${r}[${i}]`),t.if(u,a._`continue`),p.length>1&&t.if(a._`typeof ${s} == "string"`,a._`${s} += "_"`),t.if(a._`typeof ${c}[${s}] == "number"`,(()=>{t.assign(o,a._`${c}[${s}]`),e.error(),t.assign(h,!1).break()})).code(a._`${c}[${s}] = ${i}`)}))}function m(n,s){const u=(0,i.useFunc)(t,o.default),c=t.name("outer");t.label(c).for(a._`;${n}--;`,(()=>t.for(a._`${s} = ${n}; ${s}--;`,(()=>t.if(a._`${u}(${r}[${n}], ${r}[${s}])`,(()=>{e.error(),t.assign(h,!1).break(c)}))))))}e.block$data(h,(function(){const n=t.let("i",a._`${r}.length`),i=t.let("j");e.setParams({i:n,j:i}),t.assign(h,!0),t.if(a._`${n} > 1`,(()=>(p.length>0&&!p.some((e=>"object"===e||"array"===e))?f:m)(n,i)))}),a._`${l} === false`),e.ok(h)}};t.default=s},7216:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;0!=a--;){var o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},7224:e=>{"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,a,i,o,s,u,c,l,d){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var h in n(i,o,s,u,c,l,d),i){var p=i[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var f=0;f<p.length;f++)r(e,n,a,p[f],o+"/"+h+"/"+f,s,o,h,i,f)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)r(e,n,a,p[m],o+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,h,i,m)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,n,a,p,o+"/"+h,s,o,h,i)}a(i,o,s,u,c,l,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},2059:function(e){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),r=e((function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)})),n=(r.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),a=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},i=function(e){try{return!!e()}catch(e){return!0}},o=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),s=t.document,u=n(s)&&n(s.createElement),c=!o&&!i((function(){return 7!=Object.defineProperty((e="div",u?s.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),l=Object.defineProperty,d={f:o?Object.defineProperty:function(e,t,r){if(a(e),t=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}(t,!0),a(r),c)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},h=o?function(e,t,r){return d.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,r))}:function(e,t,r){return e[t]=r,e},p={}.hasOwnProperty,f=function(e,t){return p.call(e,t)},m=0,g=Math.random(),y=e((function(e){var n="__core-js_shared__",a=t[n]||(t[n]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})})),D=y("native-function-to-string",Function.toString),v=e((function(e){var n=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++m+g).toString(36))}("src"),a="toString",i=(""+D).split(a);r.inspectSource=function(e){return D.call(e)},(e.exports=function(e,r,a,o){var s="function"==typeof a;s&&(f(a,"name")||h(a,"name",r)),e[r]!==a&&(s&&(f(a,n)||h(a,n,e[r]?""+e[r]:i.join(String(r)))),e===t?e[r]=a:o?e[r]?e[r]=a:h(e,r,a):(delete e[r],h(e,r,a)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[n]||D.call(this)}))})),C=function(e,t,r){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}},E="prototype",b=function(e,n,a){var i,o,s,u,c=e&b.F,l=e&b.G,d=e&b.S,p=e&b.P,f=e&b.B,m=l?t:d?t[n]||(t[n]={}):(t[n]||{})[E],g=l?r:r[n]||(r[n]={}),y=g[E]||(g[E]={});for(i in l&&(a=n),a)s=((o=!c&&m&&void 0!==m[i])?m:a)[i],u=f&&o?C(s,t):p&&"function"==typeof s?C(Function.call,s):s,m&&v(m,i,s,e&b.U),g[i]!=s&&h(g,i,u),p&&y[i]!=s&&(y[i]=s)};t.core=r,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var A=b,F=Math.ceil,w=Math.floor,$=function(e){return isNaN(e=+e)?0:(e>0?w:F)(e)},_=(!1,function(e,t){var r,n,a=String(function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}(e)),i=$(t),o=a.length;return i<0||i>=o?void 0:(r=a.charCodeAt(i))<55296||r>56319||i+1===o||(n=a.charCodeAt(i+1))<56320||n>57343?r:n-56320+(r-55296<<10)+65536});A(A.P,"String",{codePointAt:function(e){return _(this,e)}}),r.String.codePointAt;var S=Math.max,k=Math.min,P=String.fromCharCode,B=String.fromCodePoint;A(A.S+A.F*(!!B&&1!=B.length),"String",{fromCodePoint:function(e){for(var t,r=arguments,n=[],a=arguments.length,i=0;a>i;){if(t=+r[i++],s=1114111,((o=$(o=t))<0?S(o+s,0):k(o,s))!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?P(t):P(55296+((t-=65536)>>10),t%1024+56320))}var o,s;return n.join("")}}),r.String.fromCodePoint;var T,N,x,O,I,j,L,R,q,M,V,U,z,K,H={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},G={isSpaceSeparator:function(e){return"string"==typeof e&&H.Space_Separator.test(e)},isIdStartChar:function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||H.ID_Start.test(e))},isIdContinueChar:function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||""===e||""===e||H.ID_Continue.test(e))},isDigit:function(e){return"string"==typeof e&&/[0-9]/.test(e)},isHexDigit:function(e){return"string"==typeof e&&/[0-9A-Fa-f]/.test(e)}};function J(e,t,r){var n=e[t];if(null!=n&&"object"==typeof n)if(Array.isArray(n))for(var a=0;a<n.length;a++){var i=String(a),o=J(n,i,r);void 0===o?delete n[i]:Object.defineProperty(n,i,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(var s in n){var u=J(n,s,r);void 0===u?delete n[s]:Object.defineProperty(n,s,{value:u,writable:!0,enumerable:!0,configurable:!0})}return r.call(e,t,n)}function Y(){for(M="default",V="",U=!1,z=1;;){K=W();var e=Z[M]();if(e)return e}}function W(){if(T[O])return String.fromCodePoint(T.codePointAt(O))}function Q(){var e=W();return"\n"===e?(I++,j=0):e?j+=e.length:j++,e&&(O+=e.length),e}var Z={default:function(){switch(K){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void Q();case"/":return Q(),void(M="comment");case void 0:return Q(),X("eof")}if(!G.isSpaceSeparator(K))return Z[N]();Q()},comment:function(){switch(K){case"*":return Q(),void(M="multiLineComment");case"/":return Q(),void(M="singleLineComment")}throw ie(Q())},multiLineComment:function(){switch(K){case"*":return Q(),void(M="multiLineCommentAsterisk");case void 0:throw ie(Q())}Q()},multiLineCommentAsterisk:function(){switch(K){case"*":return void Q();case"/":return Q(),void(M="default");case void 0:throw ie(Q())}Q(),M="multiLineComment"},singleLineComment:function(){switch(K){case"\n":case"\r":case"\u2028":case"\u2029":return Q(),void(M="default");case void 0:return Q(),X("eof")}Q()},value:function(){switch(K){case"{":case"[":return X("punctuator",Q());case"n":return Q(),ee("ull"),X("null",null);case"t":return Q(),ee("rue"),X("boolean",!0);case"f":return Q(),ee("alse"),X("boolean",!1);case"-":case"+":return"-"===Q()&&(z=-1),void(M="sign");case".":return V=Q(),void(M="decimalPointLeading");case"0":return V=Q(),void(M="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return V=Q(),void(M="decimalInteger");case"I":return Q(),ee("nfinity"),X("numeric",1/0);case"N":return Q(),ee("aN"),X("numeric",NaN);case'"':case"'":return U='"'===Q(),V="",void(M="string")}throw ie(Q())},identifierNameStartEscape:function(){if("u"!==K)throw ie(Q());Q();var e=te();switch(e){case"$":case"_":break;default:if(!G.isIdStartChar(e))throw se()}V+=e,M="identifierName"},identifierName:function(){switch(K){case"$":case"_":case"":case"":return void(V+=Q());case"\\":return Q(),void(M="identifierNameEscape")}if(!G.isIdContinueChar(K))return X("identifier",V);V+=Q()},identifierNameEscape:function(){if("u"!==K)throw ie(Q());Q();var e=te();switch(e){case"$":case"_":case"":case"":break;default:if(!G.isIdContinueChar(e))throw se()}V+=e,M="identifierName"},sign:function(){switch(K){case".":return V=Q(),void(M="decimalPointLeading");case"0":return V=Q(),void(M="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return V=Q(),void(M="decimalInteger");case"I":return Q(),ee("nfinity"),X("numeric",z*(1/0));case"N":return Q(),ee("aN"),X("numeric",NaN)}throw ie(Q())},zero:function(){switch(K){case".":return V+=Q(),void(M="decimalPoint");case"e":case"E":return V+=Q(),void(M="decimalExponent");case"x":case"X":return V+=Q(),void(M="hexadecimal")}return X("numeric",0*z)},decimalInteger:function(){switch(K){case".":return V+=Q(),void(M="decimalPoint");case"e":case"E":return V+=Q(),void(M="decimalExponent")}if(!G.isDigit(K))return X("numeric",z*Number(V));V+=Q()},decimalPointLeading:function(){if(G.isDigit(K))return V+=Q(),void(M="decimalFraction");throw ie(Q())},decimalPoint:function(){switch(K){case"e":case"E":return V+=Q(),void(M="decimalExponent")}return G.isDigit(K)?(V+=Q(),void(M="decimalFraction")):X("numeric",z*Number(V))},decimalFraction:function(){switch(K){case"e":case"E":return V+=Q(),void(M="decimalExponent")}if(!G.isDigit(K))return X("numeric",z*Number(V));V+=Q()},decimalExponent:function(){switch(K){case"+":case"-":return V+=Q(),void(M="decimalExponentSign")}if(G.isDigit(K))return V+=Q(),void(M="decimalExponentInteger");throw ie(Q())},decimalExponentSign:function(){if(G.isDigit(K))return V+=Q(),void(M="decimalExponentInteger");throw ie(Q())},decimalExponentInteger:function(){if(!G.isDigit(K))return X("numeric",z*Number(V));V+=Q()},hexadecimal:function(){if(G.isHexDigit(K))return V+=Q(),void(M="hexadecimalInteger");throw ie(Q())},hexadecimalInteger:function(){if(!G.isHexDigit(K))return X("numeric",z*Number(V));V+=Q()},string:function(){switch(K){case"\\":return Q(),void(V+=function(){switch(W()){case"b":return Q(),"\b";case"f":return Q(),"\f";case"n":return Q(),"\n";case"r":return Q(),"\r";case"t":return Q(),"\t";case"v":return Q(),"\v";case"0":if(Q(),G.isDigit(W()))throw ie(Q());return"\0";case"x":return Q(),function(){var e="",t=W();if(!G.isHexDigit(t))throw ie(Q());if(e+=Q(),t=W(),!G.isHexDigit(t))throw ie(Q());return e+=Q(),String.fromCodePoint(parseInt(e,16))}();case"u":return Q(),te();case"\n":case"\u2028":case"\u2029":return Q(),"";case"\r":return Q(),"\n"===W()&&Q(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw ie(Q())}return Q()}());case'"':return U?(Q(),X("string",V)):void(V+=Q());case"'":return U?void(V+=Q()):(Q(),X("string",V));case"\n":case"\r":throw ie(Q());case"\u2028":case"\u2029":!function(e){console.warn("JSON5: '"+ue(e)+"' in strings is not valid ECMAScript; consider escaping")}(K);break;case void 0:throw ie(Q())}V+=Q()},start:function(){switch(K){case"{":case"[":return X("punctuator",Q())}M="value"},beforePropertyName:function(){switch(K){case"$":case"_":return V=Q(),void(M="identifierName");case"\\":return Q(),void(M="identifierNameStartEscape");case"}":return X("punctuator",Q());case'"':case"'":return U='"'===Q(),void(M="string")}if(G.isIdStartChar(K))return V+=Q(),void(M="identifierName");throw ie(Q())},afterPropertyName:function(){if(":"===K)return X("punctuator",Q());throw ie(Q())},beforePropertyValue:function(){M="value"},afterPropertyValue:function(){switch(K){case",":case"}":return X("punctuator",Q())}throw ie(Q())},beforeArrayValue:function(){if("]"===K)return X("punctuator",Q());M="value"},afterArrayValue:function(){switch(K){case",":case"]":return X("punctuator",Q())}throw ie(Q())},end:function(){throw ie(Q())}};function X(e,t){return{type:e,value:t,line:I,column:j}}function ee(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(W()!==n)throw ie(Q());Q()}}function te(){for(var e="",t=4;t-- >0;){var r=W();if(!G.isHexDigit(r))throw ie(Q());e+=Q()}return String.fromCodePoint(parseInt(e,16))}var re={start:function(){if("eof"===L.type)throw oe();ne()},beforePropertyName:function(){switch(L.type){case"identifier":case"string":return R=L.value,void(N="afterPropertyName");case"punctuator":return void ae();case"eof":throw oe()}},afterPropertyName:function(){if("eof"===L.type)throw oe();N="beforePropertyValue"},beforePropertyValue:function(){if("eof"===L.type)throw oe();ne()},beforeArrayValue:function(){if("eof"===L.type)throw oe();"punctuator"!==L.type||"]"!==L.value?ne():ae()},afterPropertyValue:function(){if("eof"===L.type)throw oe();switch(L.value){case",":return void(N="beforePropertyName");case"}":ae()}},afterArrayValue:function(){if("eof"===L.type)throw oe();switch(L.value){case",":return void(N="beforeArrayValue");case"]":ae()}},end:function(){}};function ne(){var e;switch(L.type){case"punctuator":switch(L.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=L.value}if(void 0===q)q=e;else{var t=x[x.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,R,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(null!==e&&"object"==typeof e)x.push(e),N=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{var r=x[x.length-1];N=null==r?"end":Array.isArray(r)?"afterArrayValue":"afterPropertyValue"}}function ae(){x.pop();var e=x[x.length-1];N=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function ie(e){return ce(void 0===e?"JSON5: invalid end of input at "+I+":"+j:"JSON5: invalid character '"+ue(e)+"' at "+I+":"+j)}function oe(){return ce("JSON5: invalid end of input at "+I+":"+j)}function se(){return ce("JSON5: invalid identifier character at "+I+":"+(j-=5))}function ue(e){var t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){var r=e.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return e}function ce(e){var t=new SyntaxError(e);return t.lineNumber=I,t.columnNumber=j,t}return{parse:function(e,t){T=String(e),N="start",x=[],O=0,I=1,j=0,L=void 0,R=void 0,q=void 0;do{L=Y(),re[N]()}while("eof"!==L.type);return"function"==typeof t?J({"":q},"",t):q},stringify:function(e,t,r){var n,a,i,o=[],s="",u="";if(null==t||"object"!=typeof t||Array.isArray(t)||(r=t.space,i=t.quote,t=t.replacer),"function"==typeof t)a=t;else if(Array.isArray(t)){n=[];for(var c=0,l=t;c<l.length;c+=1){var d=l[c],h=void 0;"string"==typeof d?h=d:("number"==typeof d||d instanceof String||d instanceof Number)&&(h=String(d)),void 0!==h&&n.indexOf(h)<0&&n.push(h)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),"number"==typeof r?r>0&&(r=Math.min(10,Math.floor(r)),u="          ".substr(0,r)):"string"==typeof r&&(u=r.substr(0,10)),p("",{"":e});function p(e,t){var r=t[e];switch(null!=r&&("function"==typeof r.toJSON5?r=r.toJSON5(e):"function"==typeof r.toJSON&&(r=r.toJSON(e))),a&&(r=a.call(t,e,r)),r instanceof Number?r=Number(r):r instanceof String?r=String(r):r instanceof Boolean&&(r=r.valueOf()),r){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof r?f(r):"number"==typeof r?String(r):"object"==typeof r?Array.isArray(r)?function(e){if(o.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");o.push(e);var t=s;s+=u;for(var r,n=[],a=0;a<e.length;a++){var i=p(String(a),e);n.push(void 0!==i?i:"null")}if(0===n.length)r="[]";else if(""===u)r="["+n.join(",")+"]";else{var c=",\n"+s,l=n.join(c);r="[\n"+s+l+",\n"+t+"]"}return o.pop(),s=t,r}(r):function(e){if(o.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");o.push(e);var t=s;s+=u;for(var r,a,i=[],c=0,l=n||Object.keys(e);c<l.length;c+=1){var d=l[c],h=p(d,e);if(void 0!==h){var f=m(d)+":";""!==u&&(f+=" "),f+=h,i.push(f)}}if(0===i.length)r="{}";else if(""===u)r="{"+(a=i.join(","))+"}";else{var g=",\n"+s;a=i.join(g),r="{\n"+s+a+",\n"+t+"}"}return o.pop(),s=t,r}(r):void 0}function f(e){for(var t={"'":.1,'"':.2},r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},n="",a=0;a<e.length;a++){var o=e[a];switch(o){case"'":case'"':t[o]++,n+=o;continue;case"\0":if(G.isDigit(e[a+1])){n+="\\x00";continue}}if(r[o])n+=r[o];else if(o<" "){var s=o.charCodeAt(0).toString(16);n+="\\x"+("00"+s).substring(s.length)}else n+=o}var u=i||Object.keys(t).reduce((function(e,r){return t[e]<t[r]?e:r}));return u+(n=n.replace(new RegExp(u,"g"),r[u]))+u}function m(e){if(0===e.length)return f(e);var t=String.fromCodePoint(e.codePointAt(0));if(!G.isIdStartChar(t))return f(e);for(var r=t.length;r<e.length;r++)if(!G.isIdContinueChar(String.fromCodePoint(e.codePointAt(r))))return f(e);return e}}}}()},2976:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,a=1;a<n;++a)t[a]=t[a].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function a(e){return e.toUpperCase()}function i(e){var n="[A-Za-z]",a="[0-9]",i=t(a,"[A-Fa-f]"),o=r(r("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+r("%[89A-Fa-f]"+i+"%"+i+i)+"|"+r("%"+i+i)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",s),c=e?"[\\uE000-\\uF8FF]":"[]",l=t(n,a,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=r(n+t(n,a,"[\\+\\-\\.]")+"*"),h=r(r(o+"|"+t(l,s,"[\\:]"))+"*"),p=(r(r("25[0-5]")+"|"+r("2[0-4]"+a)+"|"+r("1"+a+a)+"|"+r("[1-9]"+a)+"|"+a),r(r("25[0-5]")+"|"+r("2[0-4]"+a)+"|"+r("1"+a+a)+"|"+r("0?[1-9]"+a)+"|0?0?"+a)),f=r(p+"\\."+p+"\\."+p+"\\."+p),m=r(i+"{1,4}"),g=r(r(m+"\\:"+m)+"|"+f),y=r(r(m+"\\:")+"{6}"+g),D=r("\\:\\:"+r(m+"\\:")+"{5}"+g),v=r(r(m)+"?\\:\\:"+r(m+"\\:")+"{4}"+g),C=r(r(r(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+r(m+"\\:")+"{3}"+g),E=r(r(r(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+r(m+"\\:")+"{2}"+g),b=r(r(r(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),A=r(r(r(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),F=r(r(r(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),w=r(r(r(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),$=r([y,D,v,C,E,b,A,F,w].join("|")),_=r(r(l+"|"+o)+"+"),S=(r($+"\\%25"+_),r($+r("\\%25|\\%(?!"+i+"{2})")+_)),k=r("[vV]"+i+"+\\."+t(l,s,"[\\:]")+"+"),P=r("\\["+r(S+"|"+$+"|"+k)+"\\]"),B=r(r(o+"|"+t(l,s))+"*"),T=r(P+"|"+f+"(?!"+B+")|"+B),N=r(a+"*"),x=r(r(h+"@")+"?"+T+r("\\:"+N)+"?"),O=r(o+"|"+t(l,s,"[\\:\\@]")),I=r(O+"*"),j=r(O+"+"),L=r(r(o+"|"+t(l,s,"[\\@]"))+"+"),R=r(r("\\/"+I)+"*"),q=r("\\/"+r(j+R)+"?"),M=r(L+R),V=r(j+R),U="(?!"+O+")",z=(r(R+"|"+q+"|"+M+"|"+V+"|"+U),r(r(O+"|"+t("[\\/\\?]",c))+"*")),K=r(r(O+"|[\\/\\?]")+"*"),H=r(r("\\/\\/"+x+R)+"|"+q+"|"+V+"|"+U),G=r(d+"\\:"+H+r("\\?"+z)+"?"+r("\\#"+K)+"?"),J=r(r("\\/\\/"+x+R)+"|"+q+"|"+M+"|"+U),Y=r(J+r("\\?"+z)+"?"+r("\\#"+K)+"?");return r(G+"|"+Y),r(d+"\\:"+H+r("\\?"+z)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+T+")"+r("\\:("+N+")")+"?)")+"?("+R+"|"+q+"|"+V+"|"+U+")"),r("\\?("+z+")"),r("\\#("+K+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+T+")"+r("\\:("+N+")")+"?)")+"?("+R+"|"+q+"|"+M+"|"+U+")"),r("\\?("+z+")"),r("\\#("+K+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+T+")"+r("\\:("+N+")")+"?)")+"?("+R+"|"+q+"|"+V+"|"+U+")"),r("\\?("+z+")"),r("\\#("+K+")"),r("("+h+")@"),r("\\:("+N+")"),{NOT_SCHEME:new RegExp(t("[^]",n,a,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,s,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,s),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$+")"+r(r("\\%25|\\%(?!"+i+"{2})")+"("+_+")")+"?\\]?$")}}var o=i(!1),s=i(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=36,d=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function y(e){throw new RangeError(f[e])}function D(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(p,".")).split("."),t).join(".")}function v(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),r--)}else t.push(a)}return t}var C=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},E=function(e,t,r){var n=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;n+=l)e=m(e/35);return m(n+36*e/(e+38))},b=function(e){var t,r=[],n=e.length,a=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&y("not-basic"),r.push(e.charCodeAt(u));for(var d=s>0?s+1:0;d<n;){for(var h=a,p=1,f=l;;f+=l){d>=n&&y("invalid-input");var g=(t=e.charCodeAt(d++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l;(g>=l||g>m((c-a)/p))&&y("overflow"),a+=g*p;var D=f<=o?1:f>=o+26?26:f-o;if(g<D)break;var v=l-D;p>m(c/v)&&y("overflow"),p*=v}var C=r.length+1;o=E(a-h,C,0==h),m(a/C)>c-i&&y("overflow"),i+=m(a/C),a%=C,r.splice(a++,0,i)}return String.fromCodePoint.apply(String,r)},A=function(e){var t=[],r=(e=v(e)).length,n=128,a=0,i=72,o=!0,s=!1,u=void 0;try{for(var d,h=e[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){var p=d.value;p<128&&t.push(g(p))}}catch(e){s=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(s)throw u}}var f=t.length,D=f;for(f&&t.push("-");D<r;){var b=c,A=!0,F=!1,w=void 0;try{for(var $,_=e[Symbol.iterator]();!(A=($=_.next()).done);A=!0){var S=$.value;S>=n&&S<b&&(b=S)}}catch(e){F=!0,w=e}finally{try{!A&&_.return&&_.return()}finally{if(F)throw w}}var k=D+1;b-n>m((c-a)/k)&&y("overflow"),a+=(b-n)*k,n=b;var P=!0,B=!1,T=void 0;try{for(var N,x=e[Symbol.iterator]();!(P=(N=x.next()).done);P=!0){var O=N.value;if(O<n&&++a>c&&y("overflow"),O==n){for(var I=a,j=l;;j+=l){var L=j<=i?1:j>=i+26?26:j-i;if(I<L)break;var R=I-L,q=l-L;t.push(g(C(L+R%q,0))),I=m(R/q)}t.push(g(C(I,0))),i=E(a,k,D==f),a=0,++D}}}catch(e){B=!0,T=e}finally{try{!P&&x.return&&x.return()}finally{if(B)throw T}}++a,++n}return t.join("")},F={version:"2.1.0",ucs2:{decode:v,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:b,encode:A,toASCII:function(e){return D(e,(function(e){return h.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return D(e,(function(e){return d.test(e)?b(e.slice(4).toLowerCase()):e}))}},w={};function $(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function _(e){for(var t="",r=0,n=e.length;r<n;){var a=parseInt(e.substr(r+1,2),16);if(a<128)t+=String.fromCharCode(a),r+=3;else if(a>=194&&a<224){if(n-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&a)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(a>=224){if(n-r>=9){var o=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function S(e,t){function r(e){var r=_(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,$).replace(t.PCT_ENCODED,a)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,$).replace(t.PCT_ENCODED,a)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,$).replace(t.PCT_ENCODED,a)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,$).replace(t.PCT_ENCODED,a)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,$).replace(t.PCT_ENCODED,a)),e}function k(e){return e.replace(/^0*(.*)/,"$1")||"0"}function P(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(k).join("."):e}function B(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),a=n[1],i=n[2];if(a){for(var o=a.toLowerCase().split("::").reverse(),s=u(o,2),c=s[0],l=s[1],d=l?l.split(":").map(k):[],h=c.split(":").map(k),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,g=Array(f),y=0;y<f;++y)g[y]=d[y]||h[m+y]||"";p&&(g[f-1]=P(g[f-1],t));var D=g.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],v=void 0;if(D&&D.length>1){var C=g.slice(0,D.index),E=g.slice(D.index+D.length);v=C.join(":")+"::"+E.join(":")}else v=g.join(":");return i&&(v+="%"+i),v}return e}var T=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,N=void 0==="".match(/(){0}/)[1];function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var a=e.match(T);if(a){N?(r.scheme=a[1],r.userinfo=a[3],r.host=a[4],r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=a[7],r.fragment=a[8],isNaN(r.port)&&(r.port=a[5])):(r.scheme=a[1]||void 0,r.userinfo=-1!==e.indexOf("@")?a[3]:void 0,r.host=-1!==e.indexOf("//")?a[4]:void 0,r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=-1!==e.indexOf("?")?a[7]:void 0,r.fragment=-1!==e.indexOf("#")?a[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?a[4]:void 0)),r.host&&(r.host=B(P(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=w[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)S(r,n);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=F.toASCII(r.host.replace(n.PCT_ENCODED,_).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}S(r,o)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var O=/^\.\.?\//,I=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function R(e){for(var t=[];e.length;)if(e.match(O))e=e.replace(O,"");else if(e.match(I))e=e.replace(I,"/");else if(e.match(j))e=e.replace(j,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(L);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:o,n=[],a=w[(t.scheme||e.scheme||"").toLowerCase()];if(a&&a.serialize&&a.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||a&&a.domainHost)try{e.host=t.iri?F.toUnicode(e.host):F.toASCII(e.host.replace(r.PCT_ENCODED,_).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}S(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var i=function(e,t){var r=!1!==t.iri?s:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(B(P(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}(e,t);if(void 0!==i&&("suffix"!==t.reference&&n.push("//"),n.push(i),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||a&&a.absolutePath||(u=R(u)),void 0===i&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function M(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=x(q(e,r),r),t=x(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=R(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=R(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=R(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=R(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function V(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,_)}var U={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:U.domainHost,parse:U.parse,serialize:U.serialize};function K(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var H={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=K(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(K(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=u(r,2),a=n[0],i=n[1];e.path=a&&"/"!==a?a:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},G={scheme:"wss",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},J={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",W="[0-9A-Fa-f]",Q=r(r("%[EFef]"+W+"%"+W+W+"%"+W+W)+"|"+r("%[89A-Fa-f]"+W+"%"+W+W)+"|"+r("%"+W+W)),Z=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),X=new RegExp(Y,"g"),ee=new RegExp(Q,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),re=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ne=re;function ae(e){var t=_(e);return t.match(X)?t:e}var ie={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var a=!1,i={},o=r.query.split("&"),s=0,u=o.length;s<u;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),d=0,h=l.length;d<h;++d)n.push(l[d]);break;case"subject":r.subject=V(c[1],t);break;case"body":r.body=V(c[1],t);break;default:a=!0,i[V(c[0],t)]=V(c[1],t)}}a&&(r.headers=i)}r.query=void 0;for(var p=0,f=n.length;p<f;++p){var m=n[p].split("@");if(m[0]=V(m[0]),t.unicodeSupport)m[1]=V(m[1],t).toLowerCase();else try{m[1]=F.toASCII(V(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[p]=m.join("@")}return r},serialize:function(e,t){var r,n=e,i=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(i){for(var o=0,s=i.length;o<s;++o){var u=String(i[o]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(ee,ae).replace(ee,a).replace(te,$),d=u.slice(c+1);try{d=t.iri?F.toUnicode(d):F.toASCII(V(d,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[o]=l+"@"+d}n.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==J[f]&&p.push(f.replace(ee,ae).replace(ee,a).replace(re,$)+"="+h[f].replace(ee,ae).replace(ee,a).replace(ne,$));return p.length&&(n.query=p.join("&")),n}},oe=/^([^\:]+)\:(.*)/,se={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(oe),n=e;if(r){var a=t.scheme||n.scheme||"urn",i=r[1].toLowerCase(),o=r[2],s=a+":"+(t.nid||i),u=w[s];n.nid=i,n.nss=o,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,a=r+":"+(t.nid||n),i=w[a];i&&(e=i.serialize(e,t));var o=e,s=e.nss;return o.path=(n||t.nid)+":"+s,o}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ue)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};w[U.scheme]=U,w[z.scheme]=z,w[H.scheme]=H,w[G.scheme]=G,w[ie.scheme]=ie,w[se.scheme]=se,w[ce.scheme]=ce,e.SCHEMES=w,e.pctEncChar=$,e.pctDecChars=_,e.parse=x,e.removeDotSegments=R,e.serialize=q,e.resolveComponents=M,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return q(M(x(e,n),x(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=q(x(e,t),t):"object"===n(e)&&(e=x(q(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=q(x(e,r),r):"object"===n(e)&&(e=q(e,r)),"string"==typeof t?t=q(x(t,r),r):"object"===n(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,$)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4304:(e,t,r)=>{"use strict";r.d(t,{c:()=>Ht});var n=r(2059);function a(e){return null==e}var i={isNothing:a,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:a(e)?[]:[e]},repeat:function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,n,a,i;if(t)for(r=0,n=(i=Object.keys(t)).length;r<n;r+=1)e[a=i[r]]=t[a];return e}};function o(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function s(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=o(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.toString=function(e){return this.name+": "+o(this,e)};var u=s;function c(e,t,r,n,a){var i="",o="",s=Math.floor(a/2)-1;return n-t>s&&(t=n-s+(i=" ... ").length),r-n>s&&(r=n+s-(o=" ...").length),{str:i+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+i.length}}function l(e,t){return i.repeat(" ",t-e.length)+e}var d=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,a=[0],o=[],s=-1;r=n.exec(e.buffer);)o.push(r.index),a.push(r.index+r[0].length),e.position<=r.index&&s<0&&(s=a.length-2);s<0&&(s=a.length-1);var u,d,h="",p=Math.min(e.line+t.linesAfter,o.length).toString().length,f=t.maxLength-(t.indent+p+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)d=c(e.buffer,a[s-u],o[s-u],e.position-(a[s]-a[s-u]),f),h=i.repeat(" ",t.indent)+l((e.line-u+1).toString(),p)+" | "+d.str+"\n"+h;for(d=c(e.buffer,a[s],o[s],e.position,f),h+=i.repeat(" ",t.indent)+l((e.line+1).toString(),p)+" | "+d.str+"\n",h+=i.repeat("-",t.indent+p+3+d.pos)+"^\n",u=1;u<=t.linesAfter&&!(s+u>=o.length);u++)d=c(e.buffer,a[s+u],o[s+u],e.position-(a[s]-a[s+u]),f),h+=i.repeat(" ",t.indent)+l((e.line+u+1).toString(),p)+" | "+d.str+"\n";return h.replace(/\n$/,"")},h=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],p=["scalar","sequence","mapping"],f=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===h.indexOf(t))throw new u('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===p.indexOf(this.kind))throw new u('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function m(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)})),r[t]=e})),r}function g(e){return this.extend(e)}g.prototype.extend=function(e){var t=[],r=[];if(e instanceof f)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new u("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof f))throw new u("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new u("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new u("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof f))throw new u("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var n=Object.create(g.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=m(n,"implicit"),n.compiledExplicit=m(n,"explicit"),n.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(n.compiledImplicit,n.compiledExplicit),n};var y=g,D=new f("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),v=new f("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),C=new f("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),E=new y({explicit:[D,v,C]}),b=new f("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),A=new f("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function F(e){return 48<=e&&e<=55}function w(e){return 48<=e&&e<=57}var $=new f("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=e.length,a=0,i=!1;if(!n)return!1;if("-"!==(t=e[a])&&"+"!==t||(t=e[++a]),"0"===t){if(a+1===n)return!0;if("b"===(t=e[++a])){for(a++;a<n;a++)if("_"!==(t=e[a])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(a++;a<n;a++)if("_"!==(t=e[a])){if(!(48<=(r=e.charCodeAt(a))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(a++;a<n;a++)if("_"!==(t=e[a])){if(!F(e.charCodeAt(a)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;a<n;a++)if("_"!==(t=e[a])){if(!w(e.charCodeAt(a)))return!1;i=!0}return!(!i||"_"===t)},construct:function(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!i.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),S=/^[-+]?[0-9]+e/,k=new f("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!_.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||i.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(e))return"-0.0";return r=e.toString(10),S.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),P=E.extend({implicit:[b,A,$,k]}),B=P,T=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),N=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),x=new f("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==T.exec(e)||null!==N.exec(e))},construct:function(e){var t,r,n,a,i,o,s,u,c=0,l=null;if(null===(t=T.exec(e))&&(t=N.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(i=+t[4],o=+t[5],s=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(l=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(l=-l)),u=new Date(Date.UTC(r,n,a,i,o,s,c)),l&&u.setTime(u.getTime()-l),u},instanceOf:Date,represent:function(e){return e.toISOString()}}),O=new f("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",j=new f("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,a=e.length,i=I;for(r=0;r<a;r++)if(!((t=i.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,i=I,o=0,s=[];for(t=0;t<a;t++)t%4==0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)),o=o<<6|i.indexOf(n.charAt(t));return 0==(r=a%4*6)?(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)):18===r?(s.push(o>>10&255),s.push(o>>2&255)):12===r&&s.push(o>>4&255),new Uint8Array(s)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,n="",a=0,i=e.length,o=I;for(t=0;t<i;t++)t%3==0&&t&&(n+=o[a>>18&63],n+=o[a>>12&63],n+=o[a>>6&63],n+=o[63&a]),a=(a<<8)+e[t];return 0==(r=i%3)?(n+=o[a>>18&63],n+=o[a>>12&63],n+=o[a>>6&63],n+=o[63&a]):2===r?(n+=o[a>>10&63],n+=o[a>>4&63],n+=o[a<<2&63],n+=o[64]):1===r&&(n+=o[a>>2&63],n+=o[a<<4&63],n+=o[64],n+=o[64]),n}}),L=Object.prototype.hasOwnProperty,R=Object.prototype.toString,q=new f("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,a,i,o=[],s=e;for(t=0,r=s.length;t<r;t+=1){if(n=s[t],i=!1,"[object Object]"!==R.call(n))return!1;for(a in n)if(L.call(n,a)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==o.indexOf(a))return!1;o.push(a)}return!0},construct:function(e){return null!==e?e:[]}}),M=Object.prototype.toString,V=new f("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],"[object Object]"!==M.call(n))return!1;if(1!==(a=Object.keys(n)).length)return!1;i[t]=[a[0],n[a[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],a=Object.keys(n),i[t]=[a[0],n[a[0]]];return i}}),U=Object.prototype.hasOwnProperty,z=new f("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(U.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),K=B.extend({implicit:[x,O],explicit:[j,q,V,z]}),H=Object.prototype.hasOwnProperty,G=1,J=2,Y=3,W=4,Q=1,Z=2,X=3,ee=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,te=/[\x85\u2028\u2029]/,re=/[,\[\]\{\}]/,ne=/^(?:!|!!|![a-z\-]+!)$/i,ae=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ie(e){return Object.prototype.toString.call(e)}function oe(e){return 10===e||13===e}function se(e){return 9===e||32===e}function ue(e){return 9===e||32===e||10===e||13===e}function ce(e){return 44===e||91===e||93===e||123===e||125===e}function le(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function de(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function he(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var pe=new Array(256),fe=new Array(256),me=0;me<256;me++)pe[me]=de(me)?1:0,fe[me]=de(me);function ge(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||K,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ye(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=d(r),new u(t,r)}function De(e,t){throw ye(e,t)}function ve(e,t){e.onWarning&&e.onWarning.call(null,ye(e,t))}var Ce={YAML:function(e,t,r){var n,a,i;null!==e.version&&De(e,"duplication of %YAML directive"),1!==r.length&&De(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&De(e,"ill-formed argument of the YAML directive"),a=parseInt(n[1],10),i=parseInt(n[2],10),1!==a&&De(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&ve(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,a;2!==r.length&&De(e,"TAG directive accepts exactly two arguments"),n=r[0],a=r[1],ne.test(n)||De(e,"ill-formed tag handle (first argument) of the TAG directive"),H.call(e.tagMap,n)&&De(e,'there is a previously declared suffix for "'+n+'" tag handle'),ae.test(a)||De(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch(t){De(e,"tag prefix is malformed: "+a)}e.tagMap[n]=a}};function Ee(e,t,r,n){var a,i,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(a=0,i=s.length;a<i;a+=1)9===(o=s.charCodeAt(a))||32<=o&&o<=1114111||De(e,"expected valid JSON character");else ee.test(s)&&De(e,"the stream contains non-printable characters");e.result+=s}}function be(e,t,r,n){var a,o,s,u;for(i.isObject(r)||De(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,u=(a=Object.keys(r)).length;s<u;s+=1)o=a[s],H.call(t,o)||(t[o]=r[o],n[o]=!0)}function Ae(e,t,r,n,a,i,o,s,u){var c,l;if(Array.isArray(a))for(c=0,l=(a=Array.prototype.slice.call(a)).length;c<l;c+=1)Array.isArray(a[c])&&De(e,"nested arrays are not supported inside keys"),"object"==typeof a&&"[object Object]"===ie(a[c])&&(a[c]="[object Object]");if("object"==typeof a&&"[object Object]"===ie(a)&&(a="[object Object]"),a=String(a),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(i))for(c=0,l=i.length;c<l;c+=1)be(e,t,i[c],r);else be(e,t,i,r);else e.json||H.call(r,a)||!H.call(t,a)||(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=u||e.position,De(e,"duplicated mapping key")),"__proto__"===a?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[a]=i,delete r[a];return t}function Fe(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):De(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function we(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);0!==a;){for(;se(a);)9===a&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&35===a)do{a=e.input.charCodeAt(++e.position)}while(10!==a&&13!==a&&0!==a);if(!oe(a))break;for(Fe(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&ve(e,"deficient indentation"),n}function $e(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!ue(t)))}function _e(e,t){1===t?e.result+=" ":t>1&&(e.result+=i.repeat("\n",t-1))}function Se(e,t){var r,n,a=e.tag,i=e.anchor,o=[],s=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,De(e,"tab characters must not be used in indentation")),45===n)&&ue(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,we(e,!0,-1)&&e.lineIndent<=t)o.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,Be(e,t,Y,!1,!0),o.push(e.result),we(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)De(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=a,e.anchor=i,e.kind="sequence",e.result=o,!0)}function ke(e){var t,r,n,a,i=!1,o=!1;if(33!==(a=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&De(e,"duplication of a tag property"),60===(a=e.input.charCodeAt(++e.position))?(i=!0,a=e.input.charCodeAt(++e.position)):33===a?(o=!0,r="!!",a=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&62!==a);e.position<e.length?(n=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):De(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!ue(a);)33===a&&(o?De(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),ne.test(r)||De(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),re.test(n)&&De(e,"tag suffix cannot contain flow indicator characters")}n&&!ae.test(n)&&De(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){De(e,"tag name is malformed: "+n)}return i?e.tag=n:H.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:De(e,'undeclared tag handle "'+r+'"'),!0}function Pe(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&De(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!ue(r)&&!ce(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&De(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Be(e,t,r,n,a){var o,s,u,c,l,d,h,p,f,m=1,g=!1,y=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=u=W===r||Y===r,n&&we(e,!0,-1)&&(g=!0,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)),1===m)for(;ke(e)||Pe(e);)we(e,!0,-1)?(g=!0,u=o,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)):u=!1;if(u&&(u=g||a),1!==m&&W!==r||(p=G===r||J===r?t:t+1,f=e.position-e.lineStart,1===m?u&&(Se(e,f)||function(e,t,r){var n,a,i,o,s,u,c,l=e.tag,d=e.anchor,h={},p=Object.create(null),f=null,m=null,g=null,y=!1,D=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),c=e.input.charCodeAt(e.position);0!==c;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,De(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),i=e.line,63!==c&&58!==c||!ue(n)){if(o=e.line,s=e.lineStart,u=e.position,!Be(e,r,J,!1,!0))break;if(e.line===i){for(c=e.input.charCodeAt(e.position);se(c);)c=e.input.charCodeAt(++e.position);if(58===c)ue(c=e.input.charCodeAt(++e.position))||De(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Ae(e,h,p,f,m,null,o,s,u),f=m=g=null),D=!0,y=!1,a=!1,f=e.tag,m=e.result;else{if(!D)return e.tag=l,e.anchor=d,!0;De(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!D)return e.tag=l,e.anchor=d,!0;De(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(y&&(Ae(e,h,p,f,m,null,o,s,u),f=m=g=null),D=!0,y=!0,a=!0):y?(y=!1,a=!0):De(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=n;if((e.line===i||e.lineIndent>t)&&(y&&(o=e.line,s=e.lineStart,u=e.position),Be(e,t,W,!0,a)&&(y?m=e.result:g=e.result),y||(Ae(e,h,p,f,m,g,o,s,u),f=m=g=null),we(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==c)De(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Ae(e,h,p,f,m,null,o,s,u),D&&(e.tag=l,e.anchor=d,e.kind="mapping",e.result=h),D}(e,f,p))||function(e,t){var r,n,a,i,o,s,u,c,l,d,h,p,f=!0,m=e.tag,g=e.anchor,y=Object.create(null);if(91===(p=e.input.charCodeAt(e.position)))o=93,c=!1,i=[];else{if(123!==p)return!1;o=125,c=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),p=e.input.charCodeAt(++e.position);0!==p;){if(we(e,!0,t),(p=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=m,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=i,!0;f?44===p&&De(e,"expected the node content, but found ','"):De(e,"missed comma between flow collection entries"),h=null,s=u=!1,63===p&&ue(e.input.charCodeAt(e.position+1))&&(s=u=!0,e.position++,we(e,!0,t)),r=e.line,n=e.lineStart,a=e.position,Be(e,t,G,!1,!0),d=e.tag,l=e.result,we(e,!0,t),p=e.input.charCodeAt(e.position),!u&&e.line!==r||58!==p||(s=!0,p=e.input.charCodeAt(++e.position),we(e,!0,t),Be(e,t,G,!1,!0),h=e.result),c?Ae(e,i,y,d,l,h,r,n,a):s?i.push(Ae(e,null,y,d,l,h,r,n,a)):i.push(l),we(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(f=!0,p=e.input.charCodeAt(++e.position)):f=!1}De(e,"unexpected end of the stream within a flow collection")}(e,p)?y=!0:(s&&function(e,t){var r,n,a,o,s,u=Q,c=!1,l=!1,d=t,h=0,p=!1;if(124===(o=e.input.charCodeAt(e.position)))n=!1;else{if(62!==o)return!1;n=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)Q===u?u=43===o?X:Z:De(e,"repeat of a chomping mode identifier");else{if(!((a=48<=(s=o)&&s<=57?s-48:-1)>=0))break;0===a?De(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?De(e,"repeat of an indentation width identifier"):(d=t+a-1,l=!0)}if(se(o)){do{o=e.input.charCodeAt(++e.position)}while(se(o));if(35===o)do{o=e.input.charCodeAt(++e.position)}while(!oe(o)&&0!==o)}for(;0!==o;){for(Fe(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!l||e.lineIndent<d)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>d&&(d=e.lineIndent),oe(o))h++;else{if(e.lineIndent<d){u===X?e.result+=i.repeat("\n",c?1+h:h):u===Q&&c&&(e.result+="\n");break}for(n?se(o)?(p=!0,e.result+=i.repeat("\n",c?1+h:h)):p?(p=!1,e.result+=i.repeat("\n",h+1)):0===h?c&&(e.result+=" "):e.result+=i.repeat("\n",h):e.result+=i.repeat("\n",c?1+h:h),c=!0,l=!0,h=0,r=e.position;!oe(o)&&0!==o;)o=e.input.charCodeAt(++e.position);Ee(e,r,e.position,!1)}}return!0}(e,p)||function(e,t){var r,n,a;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(Ee(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,a=e.position}else oe(r)?(Ee(e,n,a,!0),_e(e,we(e,!1,t)),n=a=e.position):e.position===e.lineStart&&$e(e)?De(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);De(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var r,n,a,i,o,s,u;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return Ee(e,r,e.position,!0),e.position++,!0;if(92===s){if(Ee(e,r,e.position,!0),oe(s=e.input.charCodeAt(++e.position)))we(e,!1,t);else if(s<256&&pe[s])e.result+=fe[s],e.position++;else if((o=120===(u=s)?2:117===u?4:85===u?8:0)>0){for(a=o,i=0;a>0;a--)(o=le(s=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+o:De(e,"expected hexadecimal character");e.result+=he(i),e.position++}else De(e,"unknown escape sequence");r=n=e.position}else oe(s)?(Ee(e,r,n,!0),_e(e,we(e,!1,t)),r=n=e.position):e.position===e.lineStart&&$e(e)?De(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}De(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?y=!0:function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!ue(n)&&!ce(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&De(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),H.call(e.anchorMap,r)||De(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],we(e,!0,-1),!0}(e)?(y=!0,null===e.tag&&null===e.anchor||De(e,"alias node should not have any properties")):function(e,t,r){var n,a,i,o,s,u,c,l,d=e.kind,h=e.result;if(ue(l=e.input.charCodeAt(e.position))||ce(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(ue(n=e.input.charCodeAt(e.position+1))||r&&ce(n)))return!1;for(e.kind="scalar",e.result="",a=i=e.position,o=!1;0!==l;){if(58===l){if(ue(n=e.input.charCodeAt(e.position+1))||r&&ce(n))break}else if(35===l){if(ue(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&$e(e)||r&&ce(l))break;if(oe(l)){if(s=e.line,u=e.lineStart,c=e.lineIndent,we(e,!1,-1),e.lineIndent>=t){o=!0,l=e.input.charCodeAt(e.position);continue}e.position=i,e.line=s,e.lineStart=u,e.lineIndent=c;break}}o&&(Ee(e,a,i,!1),_e(e,e.line-s),a=i=e.position,o=!1),se(l)||(i=e.position+1),l=e.input.charCodeAt(++e.position)}return Ee(e,a,i,!1),!!e.result||(e.kind=d,e.result=h,!1)}(e,p,G===r)&&(y=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===m&&(y=u&&Se(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&De(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((h=e.implicitTypes[c]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(H.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,c=0,l=(d=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,d[c].tag.length)===d[c].tag){h=d[c];break}h||De(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&De(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):De(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||y}function Te(e){var t,r,n,a,i=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(a=e.input.charCodeAt(e.position))&&(we(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==a));){for(o=!0,a=e.input.charCodeAt(++e.position),t=e.position;0!==a&&!ue(a);)a=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&De(e,"directive name must not be less than one character in length");0!==a;){for(;se(a);)a=e.input.charCodeAt(++e.position);if(35===a){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&!oe(a));break}if(oe(a))break;for(t=e.position;0!==a&&!ue(a);)a=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==a&&Fe(e),H.call(Ce,r)?Ce[r](e,r,n):ve(e,'unknown document directive "'+r+'"')}we(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,we(e,!0,-1)):o&&De(e,"directives end mark is expected"),Be(e,e.lineIndent-1,W,!1,!0),we(e,!0,-1),e.checkLineBreaks&&te.test(e.input.slice(i,e.position))&&ve(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&$e(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,we(e,!0,-1)):e.position<e.length-1&&De(e,"end of the stream or a document separator is expected")}function Ne(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new ge(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,De(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Te(r);return r.documents}var xe={loadAll:function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=Ne(e,r);if("function"!=typeof t)return n;for(var a=0,i=n.length;a<i;a+=1)t(n[a])},load:function(e,t){var r=Ne(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new u("expected a single document in the stream, but found more")}}},Oe=Object.prototype.toString,Ie=Object.prototype.hasOwnProperty,je=65279,Le=9,Re=10,qe=13,Me=32,Ve=33,Ue=34,ze=35,Ke=37,He=38,Ge=39,Je=42,Ye=44,We=45,Qe=58,Ze=61,Xe=62,et=63,tt=64,rt=91,nt=93,at=96,it=123,ot=124,st=125,ut={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},ct=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],lt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function dt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new u("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+i.repeat("0",n-t.length)+t}var ht=2;function pt(e){this.schema=e.schema||K,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=i.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,a,i,o,s,u;if(null===t)return{};for(r={},a=0,i=(n=Object.keys(t)).length;a<i;a+=1)o=n[a],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(u=e.compiledTypeMap.fallback[o])&&Ie.call(u.styleAliases,s)&&(s=u.styleAliases[s]),r[o]=s;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?ht:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ft(e,t){for(var r,n=i.repeat(" ",t),a=0,o=-1,s="",u=e.length;a<u;)-1===(o=e.indexOf("\n",a))?(r=e.slice(a),a=u):(r=e.slice(a,o+1),a=o+1),r.length&&"\n"!==r&&(s+=n),s+=r;return s}function mt(e,t){return"\n"+i.repeat(" ",e.indent*t)}function gt(e){return e===Me||e===Le}function yt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==je||65536<=e&&e<=1114111}function Dt(e){return yt(e)&&e!==je&&e!==qe&&e!==Re}function vt(e,t,r){var n=Dt(e),a=n&&!gt(e);return(r?n:n&&e!==Ye&&e!==rt&&e!==nt&&e!==it&&e!==st)&&e!==ze&&!(t===Qe&&!a)||Dt(t)&&!gt(t)&&e===ze||t===Qe&&a}function Ct(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function Et(e){return/^\n* /.test(e)}var bt=1,At=2,Ft=3,wt=4,$t=5;function _t(e,t,r,n,a){e.dump=function(){if(0===t.length)return e.quotingType===ht?'""':"''";if(!e.noCompatMode&&(-1!==ct.indexOf(t)||lt.test(t)))return e.quotingType===ht?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,r),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),s=n||e.flowLevel>-1&&r>=e.flowLevel;switch(function(e,t,r,n,a,i,o,s){var u,c,l=0,d=null,h=!1,p=!1,f=-1!==n,m=-1,g=yt(c=Ct(e,0))&&c!==je&&!gt(c)&&c!==We&&c!==et&&c!==Qe&&c!==Ye&&c!==rt&&c!==nt&&c!==it&&c!==st&&c!==ze&&c!==He&&c!==Je&&c!==Ve&&c!==ot&&c!==Ze&&c!==Xe&&c!==Ge&&c!==Ue&&c!==Ke&&c!==tt&&c!==at&&function(e){return!gt(e)&&e!==Qe}(Ct(e,e.length-1));if(t||o)for(u=0;u<e.length;l>=65536?u+=2:u++){if(!yt(l=Ct(e,u)))return $t;g=g&&vt(l,d,s),d=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if((l=Ct(e,u))===Re)h=!0,f&&(p=p||u-m-1>n&&" "!==e[m+1],m=u);else if(!yt(l))return $t;g=g&&vt(l,d,s),d=l}p=p||f&&u-m-1>n&&" "!==e[m+1]}return h||p?r>9&&Et(e)?$t:o?i===ht?$t:At:p?wt:Ft:!g||o||a(e)?i===ht?$t:At:bt}(t,s,e.indent,o,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!n,a)){case bt:return t;case At:return"'"+t.replace(/'/g,"''")+"'";case Ft:return"|"+St(t,e.indent)+kt(ft(t,i));case wt:return">"+St(t,e.indent)+kt(ft(function(e,t){for(var r,n,a,i=/(\n+)([^\n]*)/g,o=(a=-1!==(a=e.indexOf("\n"))?a:e.length,i.lastIndex=a,Pt(e.slice(0,a),t)),s="\n"===e[0]||" "===e[0];n=i.exec(e);){var u=n[1],c=n[2];r=" "===c[0],o+=u+(s||r||""===c?"":"\n")+Pt(c,t),s=r}return o}(t,o),i));case $t:return'"'+function(e){for(var t,r="",n=0,a=0;a<e.length;n>=65536?a+=2:a++)n=Ct(e,a),!(t=ut[n])&&yt(n)?(r+=e[a],n>=65536&&(r+=e[a+1])):r+=t||dt(n);return r}(t)+'"';default:throw new u("impossible error: invalid scalar style")}}()}function St(e,t){var r=Et(e)?String(t):"",n="\n"===e[e.length-1];return r+(!n||"\n"!==e[e.length-2]&&"\n"!==e?n?"":"-":"+")+"\n"}function kt(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Pt(e,t){if(""===e||" "===e[0])return e;for(var r,n,a=/ [^ ]/g,i=0,o=0,s=0,u="";r=a.exec(e);)(s=r.index)-i>t&&(n=o>i?o:s,u+="\n"+e.slice(i,n),i=n+1),o=s;return u+="\n",e.length-i>t&&o>i?u+=e.slice(i,o)+"\n"+e.slice(o+1):u+=e.slice(i),u.slice(1)}function Bt(e,t,r,n){var a,i,o,s="",u=e.tag;for(a=0,i=r.length;a<i;a+=1)o=r[a],e.replacer&&(o=e.replacer.call(r,String(a),o)),(Nt(e,t+1,o,!0,!0,!1,!0)||void 0===o&&Nt(e,t+1,null,!0,!0,!1,!0))&&(n&&""===s||(s+=mt(e,t)),e.dump&&Re===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=u,e.dump=s||"[]"}function Tt(e,t,r){var n,a,i,o,s,c;for(i=0,o=(a=r?e.explicitTypes:e.implicitTypes).length;i<o;i+=1)if(((s=a[i]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(c=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===Oe.call(s.represent))n=s.represent(t,c);else{if(!Ie.call(s.represent,c))throw new u("!<"+s.tag+'> tag resolver accepts not "'+c+'" style');n=s.represent[c](t,c)}e.dump=n}return!0}return!1}function Nt(e,t,r,n,a,i,o){e.tag=null,e.dump=r,Tt(e,r,!1)||Tt(e,r,!0);var s,c=Oe.call(e.dump),l=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var d,h,p="[object Object]"===c||"[object Array]"===c;if(p&&(h=-1!==(d=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(a=!1),h&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(p&&h&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),"[object Object]"===c)n&&0!==Object.keys(e.dump).length?(function(e,t,r,n){var a,i,o,s,c,l,d="",h=e.tag,p=Object.keys(r);if(!0===e.sortKeys)p.sort();else if("function"==typeof e.sortKeys)p.sort(e.sortKeys);else if(e.sortKeys)throw new u("sortKeys must be a boolean or a function");for(a=0,i=p.length;a<i;a+=1)l="",n&&""===d||(l+=mt(e,t)),s=r[o=p[a]],e.replacer&&(s=e.replacer.call(r,o,s)),Nt(e,t+1,o,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&Re===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=mt(e,t)),Nt(e,t+1,s,!0,c)&&(e.dump&&Re===e.dump.charCodeAt(0)?l+=":":l+=": ",d+=l+=e.dump));e.tag=h,e.dump=d||"{}"}(e,t,e.dump,a),h&&(e.dump="&ref_"+d+e.dump)):(function(e,t,r){var n,a,i,o,s,u="",c=e.tag,l=Object.keys(r);for(n=0,a=l.length;n<a;n+=1)s="",""!==u&&(s+=", "),e.condenseFlow&&(s+='"'),o=r[i=l[n]],e.replacer&&(o=e.replacer.call(r,i,o)),Nt(e,t,i,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Nt(e,t,o,!1,!1)&&(u+=s+=e.dump));e.tag=c,e.dump="{"+u+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+d+" "+e.dump));else if("[object Array]"===c)n&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?Bt(e,t-1,e.dump,a):Bt(e,t,e.dump,a),h&&(e.dump="&ref_"+d+e.dump)):(function(e,t,r){var n,a,i,o="",s=e.tag;for(n=0,a=r.length;n<a;n+=1)i=r[n],e.replacer&&(i=e.replacer.call(r,String(n),i)),(Nt(e,t,i,!1,!1)||void 0===i&&Nt(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+d+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new u("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&_t(e,e.dump,t,i,l)}null!==e.tag&&"?"!==e.tag&&(s=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),s="!"===e.tag[0]?"!"+s:"tag:yaml.org,2002:"===s.slice(0,18)?"!!"+s.slice(18):"!<"+s+">",e.dump=s+" "+e.dump)}return!0}function xt(e,t){var r,n,a=[],i=[];for(Ot(e,a,i),r=0,n=i.length;r<n;r+=1)t.duplicates.push(a[i[r]]);t.usedDuplicates=new Array(n)}function Ot(e,t,r){var n,a,i;if(null!==e&&"object"==typeof e)if(-1!==(a=t.indexOf(e)))-1===r.indexOf(a)&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,i=e.length;a<i;a+=1)Ot(e[a],t,r);else for(a=0,i=(n=Object.keys(e)).length;a<i;a+=1)Ot(e[n[a]],t,r)}function It(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}const jt={Type:f,Schema:y,FAILSAFE_SCHEMA:E,JSON_SCHEMA:P,CORE_SCHEMA:B,DEFAULT_SCHEMA:K,load:xe.load,loadAll:xe.loadAll,dump:function(e,t){var r=new pt(t=t||{});r.noRefs||xt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Nt(r,0,n,!0,!0)?r.dump+"\n":""},YAMLException:u,types:{binary:j,float:k,map:C,null:b,pairs:V,set:z,timestamp:x,bool:A,int:$,merge:O,omap:q,seq:v,str:D},safeLoad:It("safeLoad","load"),safeLoadAll:It("safeLoadAll","loadAll"),safeDump:It("safeDump","dump")};var Lt=r(1580);function Rt(e,t){const r={standard:Mt,gurps:Vt};return e in r?new r[e](t):new Ut}const qt="/icons/svg/light.svg";class Mt{quantityField="quantity";constructor(e){this.quantityField=e??"quantity"}_getQuantity(e){let t=e.system;for(const e of this.quantityField.split("."))t=t[e];return t}_findMatchingItem(e,t){return Array.from(e.items).find((e=>e.name.toLowerCase()===t.toLowerCase()))}actorHasLightSource(e,t){return!!this._findMatchingItem(e,t.name)}getImage(e,t){let r=this._findMatchingItem(e,t.name);return r?r.img:qt}getInventory(e,t){if(!t.consumable)return;let r=this._findMatchingItem(e,t.name);return r?this._getQuantity(r):void 0}async decrementInventory(e,t){if(!t.consumable)return Promise.resolve();let r=this._findMatchingItem(e,t.name);if(r&&this._getQuantity(r)>0){let e={};return e["system."+this.quantityField]=this._getQuantity(r)-1,r.update(e)}return Promise.resolve()}async setInventory(e,t,r){if(!t.consumable)return Promise.resolve();let n=this._findMatchingItem(e,t.name),a={};return a["system."+this.quantityField]=r,n.update(a)}}class Vt{quantityField="quantity";constructor(e){this.quantityField=e??"quantity"}actorHasLightSource(e,t){let[r]=e.findEquipmentByName(t.name);return!!r}getImage(){return qt}getInventory(e,t){let[r]=e.findEquipmentByName(t.name);return r?r.count:void 0}async decrementInventory(e,t){if(!t.consumable)return Promise.resolve();let[r,n]=e.findEquipmentByName(t.name);return r&&r.count>0&&e.updateEqtCount(n,r.count-1),Promise.resolve()}async setInventory(e,t,r){if(!t.consumable)return Promise.resolve();let[n,a]=e.findEquipmentByName(t.name);return n&&e.updateEqtCount(a,r),Promise.resolve()}}class Ut{quantityField="quantity";constructor(){}actorHasLightSource(e,t){return!(!t||"Self"!==t.name)}getImage(){return qt}getInventory(){return 1}async decrementInventory(){return Promise.resolve()}}const zt={dnd5e:{system:"dnd5e",topology:"standard",quantity:"quantity",aliases:{"Lantern, Hooded":"Hooded Lantern","Lantern, Bullseye":"Bullseye Lantern"},sources:{Candle:{name:"Candle",type:"equipment",consumable:!0,states:2,light:[{bright:5,dim:10,angle:360}]},Torch:{name:"Torch",type:"equipment",consumable:!0,states:2,light:[{bright:20,dim:40,angle:360}]},Lamp:{name:"Lamp",type:"equipment",consumable:!1,states:2,light:[{bright:15,dim:45,angle:360}]},"Bullseye Lantern":{name:"Bullseye Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:60,dim:120,angle:57}]},"Hooded Lantern":{name:"Hooded Lantern",type:"equipment",consumable:!1,states:3,light:[{bright:30,dim:60,angle:360},{bright:0,dim:5,angle:360}]},Light:{name:"Light",type:"cantrip",consumable:!1,states:2,light:[{bright:20,dim:40,angle:360}]},"Dancing Lights":{name:"Dancing Lights",type:"cantrip",consumable:!1,states:2,light:[{bright:0,dim:10,angle:360}]}}},swade:{system:"swade",topology:"standard",quantity:"quantity",sources:{Candle:{name:"Candle",type:"equipment",consumable:!0,states:2,light:[{bright:0,dim:2,angle:360}]},Flashlight:{name:"Flashlight",type:"equipment",consumable:!1,states:2,light:[{bright:10,dim:10,angle:6}]},Lantern:{name:"Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:4,dim:4,angle:360}]},Torch:{name:"Torch",type:"equipment",consumable:!0,states:2,light:[{bright:4,dim:4,angle:360}]}}},pf1:{system:"pf1",topology:"standard",quantity:"quantity",sources:{Candle:{name:"Candle",type:"equipment",consumable:!0,states:2,light:[{bright:0,dim:5,angle:360}]},Lamp:{name:"Lamp",type:"equipment",consumable:!1,states:2,light:[{bright:15,dim:30,angle:360}]},Lantern:{name:"Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:30,dim:60,angle:360}]},"Bullseye Lantern":{name:"Bullseye Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:60,dim:120,angle:90}]},"Hooded Lantern":{name:"Hooded Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:30,dim:60,angle:360}]},"Miner's Lantern":{name:"Miner's Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:30,dim:60,angle:90}]},Torch:{name:"Torch",type:"equipment",consumable:!0,states:2,light:[{bright:20,dim:40,angle:360}]}}},pf2e:{system:"pf2e",topology:"standard",quantity:"quantity",sources:{Candle:{name:"Candle",type:"equipment",consumable:!0,states:2,light:[{bright:0,dim:10,angle:360}]},"Lantern (Hooded)":{name:"Lantern (Hooded)",type:"equipment",consumable:!1,states:3,light:[{bright:30,dim:60,angle:360},{bright:0,dim:5,angle:360}]},"Lantern (Bull's Eye)":{name:"Lantern (Bull's Eye)",type:"equipment",consumable:!1,states:2,light:[{bright:60,dim:120,angle:90}]},Torch:{name:"Torch",type:"equipment",consumable:!0,states:2,light:[{bright:20,dim:40,angle:360}]},"Everburning Torch":{name:"Everburning Torch",type:"equipment",consumable:!1,states:2,light:[{bright:20,dim:40,color:"#57cdff",saturation:.3,contrast:.3,shadows:.2,angle:360,animation:{type:"torch",speed:1,intensity:7,reverse:!1}}]}}},sfrpg:{system:"sfrpg",topology:"standard",quantity:"quantity",sources:{"Portable Light, Lantern":{name:"Portable Light, Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:10,dim:10,angle:360,color:"#555555",alpha:.5}]},"Portable Light, Flashlight":{name:"Portable Light, Flashlight",type:"equipment",consumable:!1,states:2,light:[{bright:20,dim:20,angle:90,color:"#555555",alpha:.5}]},"Portable Light, Beacon":{name:"Portable Light, Beacon",type:"equipment",consumable:!1,states:2,light:[{bright:20,dim:50,angle:360,color:"#555555",alpha:.5}]},"Portable Light, Spotlight":{name:"Portable Light, Spotlight",type:"equipment",consumable:!1,states:2,light:[{bright:100,dim:100,angle:90,color:"#555555",alpha:.5}]},"Comm Unit, Personal":{name:"Comm Unit, Personal",type:"equipment",consumable:!1,states:2,light:[{bright:15,dim:15,angle:90,color:"#555555",alpha:.5}]},"Dancing Lights":{name:"Dancing Lights",type:"cantrip",consumable:!1,states:2,light:[{bright:0,dim:10,angle:360,color:"#555555",alpha:.5}]}}},earthdawn4e:{system:"earthdawn4e",topology:"standard",quantity:"amount",sources:{Candle:{name:"Candle",type:"equipment",consumable:!0,states:2,light:[{bright:0,dim:3,angle:360}]},"Lantern (Hooded)":{name:"Lantern (Hooded)",type:"equipment",consumable:!1,states:3,light:[{bright:10,dim:10,angle:360},{bright:0,dim:10,angle:360}]},"Lantern (Bullseye)":{name:"Lantern (Bullseye)",type:"equipment",consumable:!1,states:2,light:[{bright:20,dim:20,angle:3}]},Torch:{name:"Torch",type:"equipment",consumable:!0,states:2,light:[{bright:10,dim:10,angle:360}]}}},gurps:{system:"gurps",topology:"gurps",quantity:"amount",sources:{"Candle, Tallow":{name:"Candle, Tallow",type:"equipment",consumable:!0,states:2,light:[{bright:0,dim:2,angle:360,color:"#ff9329",alpha:.6}]},"Flashlight, Heavy":{name:"Flashlight, Heavy",type:"equipment",consumable:!1,states:2,light:[{bright:30,dim:30,angle:6,color:"#ffd6aa",alpha:1}]},"Mini Flashlight":{name:"Mini Flashlight",type:"equipment",consumable:!1,states:2,light:[{bright:4,dim:5,angle:6,color:"#ffd6aa",alpha:1}]},"Micro Flashlight":{name:"Micro Flashlight",type:"equipment",consumable:!1,states:2,light:[{bright:1,dim:1,angle:6,color:"#ffd6aa",alpha:1}]},"Survival Flashlight":{name:"Survival Flashlight",type:"equipment",consumable:!1,states:2,light:[{bright:1,dim:1,angle:6,color:"#ffd6aa",alpha:1}]},Lantern:{name:"Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:4,dim:5,angle:360,color:"#ff9329",alpha:1}]},Torch:{name:"Torch",type:"equipment",consumable:!0,states:2,light:[{bright:9,dim:10,angle:360,color:"#ff9329",alpha:1}]},"Bull's-Eye Lantern":{name:"Bull's-Eye Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:9,dim:10,angle:57,color:"#ff9329",alpha:1}]},"Electric Lantern, Small":{name:"Electric Lantern, Small",type:"equipment",consumable:!1,states:2,light:[{bright:3,dim:3,angle:360,color:"#ff9329",alpha:1}]},"Electric Lantern, Large":{name:"Electric Lantern, Large",type:"equipment",consumable:!1,states:2,light:[{bright:4,dim:5,angle:360,color:"#ff9329",alpha:1}]},"Small Tactical Light":{name:"Small Tactical Light",type:"equipment",consumable:!1,states:2,light:[{bright:22,dim:25,angle:6,color:"#ffd6aa",alpha:1}]},"Large Tactical Light":{name:"Large Tactical Light",type:"equipment",consumable:!1,states:2,light:[{bright:95,dim:100,angle:6,color:"#ffd6aa",alpha:1}]},Floodlight:{name:"Floodlight",type:"equipment",consumable:!1,states:2,light:[{bright:190,dim:200,angle:6,color:"#ffd6aa",alpha:1}]}}},dcc:{system:"dcc",topology:"standard",quantity:"quantity",aliases:{Lantern:"Oil"},sources:{"Torch, each":{name:"Torch, each",type:"equipment",consumable:!0,states:2,light:[{bright:15,dim:30,angle:360,color:"#ff9329",alpha:.2,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},Lantern:{name:"Lantern",type:"equipment",consumable:!1,states:2,light:[{bright:15,dim:30,angle:360,color:"#ff9329",alpha:.2,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]}}},ose:{topology:"standard",quantity:"quantity.value",sources:{Torches:{type:"item",consumable:!0,light:[{bright:20,dim:30,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},Lantern:{type:"item",consumable:!1,light:[{bright:20,dim:30,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]}}},"reclaim-the-wild":{system:"reclaim-the-wild",topology:"standard",quantity:"quantity",aliases:{},sources:{Candle:{name:"Candle",type:"equipment",consumable:!0,states:2,light:[{bright:0,dim:1,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},Firewood:{name:"Firewood",type:"equipment",consumable:!0,states:2,light:[{bright:2,dim:8,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Lantern (1h, R0)":{name:"Lantern (1h, R0)",type:"equipment",consumable:!1,states:3,light:[{bright:2,dim:0,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}},{bright:5,dim:0,angle:85,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Lantern (1h, R1)":{name:"Lantern (1h, R1)",type:"equipment",consumable:!1,states:3,light:[{bright:2,dim:3,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}},{bright:6,dim:0,angle:85,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Lantern (1h, R2)":{name:"Lantern (1h, R2)",type:"equipment",consumable:!1,states:3,light:[{bright:3,dim:0,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}},{bright:7,dim:0,angle:85,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Lantern (1h, R3)":{name:"Lantern (1h, R3)",type:"equipment",consumable:!1,states:3,light:[{bright:3,dim:4,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}},{bright:8,dim:0,angle:85,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Lantern (1h, R4)":{name:"Lantern (1h, R4)",type:"equipment",consumable:!1,states:3,light:[{bright:4,dim:0,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}},{bright:9,dim:0,angle:85,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Lantern (1h, R5)":{name:"Lantern (1h, R5)",type:"equipment",consumable:!1,states:3,light:[{bright:4,dim:5,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}},{bright:10,dim:0,angle:85,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Torch (1h, R0)":{name:"Torch (1h, R0)",type:"equipment",consumable:!1,states:2,light:[{bright:4,dim:0,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Torch (1h, R1)":{name:"Torch (1h, R1)",type:"equipment",consumable:!1,states:2,light:[{bright:4,dim:5,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Torch (1h, R2)":{name:"Torch (1h, R2)",type:"equipment",consumable:!1,states:2,light:[{bright:5,dim:0,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Torch (1h, R3)":{name:"Torch (1h, R3)",type:"equipment",consumable:!1,states:2,light:[{bright:5,dim:6,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Torch (1h, R4)":{name:"Torch (1h, R4)",type:"equipment",consumable:!1,states:2,light:[{bright:6,dim:0,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Torch (1h, R5)":{name:"Torch (1h, R5)",type:"equipment",consumable:!1,states:2,light:[{bright:6,dim:7,angle:360,color:"#ff9329",alpha:.5,animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]}}},dragonbane:{system:"dragonbane",topology:"standard",quantity:"quantity",sources:{Lantern:{name:"Lantern",type:"equipment",consumable:!1,light:[{bright:10,dim:10,angle:360,alpha:.1,color:"#f9f06b",animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Oil Lamp":{name:"Oil Lamp",type:"equipment",consumable:!1,light:[{bright:10,dim:10,angle:360,alpha:.1,color:"#f9f06b",animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},Torch:{name:"Torch",type:"equipment",consumable:!1,light:[{bright:10,dim:10,angle:360,alpha:.1,color:"#f9f06b",animation:{type:"torch",speed:5,intensity:5,reverse:!1}}]},"Tallow Candle":{name:"Tallow Candle",type:"equipment",consumable:!1,light:[{bright:4,dim:4,angle:360,alpha:.1,color:"#f9f06b",animation:{type:"torch",speed:5,intensity:3,reverse:!1}}]}}},demonlord:{system:"demonlord",topology:"standard",quantity:"quantity",aliases:{"Lantern, Spotlight":"Spotlight Lantern"},sources:{Candle:{name:"Candle",type:"item",consumable:!0,states:2,light:[{bright:1,dim:2,angle:360,color:"#ff9329",alpha:.1,animation:{type:"torch",speed:"3",intensity:"1",reverse:!1}}]},Torch:{name:"Torch",type:"item",consumable:!0,states:2,light:[{bright:5,dim:10,angle:360,color:"#ff9329",alpha:.1,animation:{type:"torch",speed:"1",intensity:"5",reverse:!1}}]},"Spotlight Lantern":{name:"Spotlight Lantern",type:"item",consumable:!1,states:2,light:[{bright:20,dim:40,angle:53,animation:{type:"torch",speed:"1",intensity:"10",reverse:!1}}]},Lantern:{name:"Lantern",type:"item",consumable:!1,states:3,light:[{bright:10,dim:20,angle:360,animation:{type:"torch",speed:"1",intensity:"10",reverse:!1}}]}}},default:{system:"default",topology:"none",quantity:"quantity",sources:{Self:{name:"Self",type:"none",consumable:!1,states:2,light:[{bright:40,dim:20,angle:360}]}}}},Kt={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://lupestro.net/schemas/torch/light-sources",title:"FoundryVTT Torch Module Light Sources",description:"Light source descriptions for the Torch Module of FoundryVTT",type:"object",definitions:{light:{type:"object",$comment:"These are defined by the FoundryVTT LightData from app/common/data/data.mjs",properties:{bright:{type:"number",minimum:0},dim:{type:"number",minimum:0},angle:{type:"number",minimum:0,maximum:360},color:{$comment:"Safest to use hex #xxxxxx - not sure if it can be named color or triplet",type:"string"},alpha:{type:"number",minimum:0,maximum:1},coloration:{type:"integer"},attenuation:{type:"number",minimum:0,maximum:1},luminosity:{type:"number",minimum:-1,maximum:1},saturation:{type:"number",minimum:-1,maximum:1},contrast:{type:"number",minimum:-1,maximum:1},shadows:{type:"number",minimum:0,maximum:1},negative:{$comment:"Introduced in FoundryVTT 12",type:"boolean"},priority:{$comment:"Introduced in FoundryVTT 12",type:"integer",minimum:0},animation:{type:"object",properties:{type:{$comment:"OOTB you get: ['flame' (for Torch),'torch' (for Flickering Light),'revolving','siren','pulse','chroma','wave','fog','sunburst','dome','emanation','hexa','ghost','energy','roiling','hole','vortex','witchwave','rainbowswirl','radialrainbow','fairy','grid','starlight','smokepatch']",type:"string"},speed:{type:"integer",minimum:0,maximum:10},intensity:{type:"integer",minimum:0,maximum:10},reverse:{type:"boolean"}}},darkness:{$comment:"min must be less than or equal to max",type:"object",properties:{min:{type:"number",minimum:0,maximum:1},max:{type:"number",minimum:0,maximum:1}}}}}},additionalProperties:{type:"object",properties:{system:{description:"The system id of the system to which this set of data applies - must match hash key if supplied",type:"string"},topology:{description:"The style of actor/item topology this system follows - currently standard or gurps",type:"string"},quantity:{description:"The field within the item.system data to examine to determine the quantity of the item in the inventory",type:"string"},aliases:{type:"object",description:"A list of new names that act as aliases for a corresponding existing item names",additionalProperties:{type:"string"}},sources:{type:"object",description:"Light sources to be recognized on this system",additionalProperties:{type:"object",description:"An object representing the settings for a light source - keyed by name",properties:{name:{description:"The name of the light source in the inventory - must match key of item in hash",type:"string"},type:{description:"The type of the item - typically either equipment or spell",type:"string"},consumable:{description:"Whether an item of this type is consumed with every use, like a candle or torch",type:"boolean"},states:{description:"The number of states this item goes through - this allows for multistate sources (like high-low-off) - 2 by default",type:"integer"},light:{description:"The light definitions - a single one if only one is needed or an array",anyOf:[{description:"A single light definition that can be used for brevity when the number of states is 2",$ref:"#/definitions/light"},{type:"array",description:"An array of light definitions - one fewer item in array than the number of states",$comment:"Unfortunately the schema can't enforce the count based on a value",items:{$ref:"#/definitions/light"}}]}}}}}}};class Ht{static commonLibrary;library;constructor(e){this.library=e}static alertOnConfigDataErrors(e){const t=e.map((e=>`<span>${e.replaceAll("\n","<br/>")}</span>`)).join("<br/>");new Dialog({title:"Loading User Sources Failed",content:`<pre style="overflow-x:scroll;text-wrap:wrap"><code>${t}</code></pre>`,buttons:{close:{label:"Close"}}}).render(!0)}static async validateSourceJSON(e,t){let r,a,i=!0;const o=0===e.indexOf("{")||0===e.indexOf("---"),s=o?0===e.indexOf("---"):[".yaml",".yml"].includes((u=e).substring(u.lastIndexOf(".")));var u;const c=o?"inline text":`"${e}"`;let l=o?e:await fetch(e).then((e=>e.text())).catch((e=>{a=["Error loading user library: ",e],i=!1}));if(i)try{r=s?jt.load(l):n.parse(l)}catch(e){i=!1,a=[e.message]}if(i){const e=new Lt;e.validate(Kt,r)||(i=!1,a=e.errors.map((e=>`${e.keyword} at path "${e.instancePath}" ${e.message}`)))}return a?(console.warn(`Loading user light sources from ${c} failed`,a),t&&Ht.alertOnConfigDataErrors(a)):o||console.log(`User light sources from ${c} loaded`),[a,r]}static applyFieldDefaults(e,t){for(const r in e){const n=t&&Object.prototype.hasOwnProperty.call(t,r)?t[r]:null;e[r].system||(e[r].system=r),e[r].topology||(e[r].topology=n?n.topology:"standard"),e[r].quantity||(e[r].quantity=n?n.quantity:"quantity"),e[r].sources||(e[r].sources={});const a=e[r].sources;for(const e in a){const t=n?n.sources[e]:null;a[e].name||(a[e].name=e),a[e].type||(a[e].type=t?t.type:"equipment"),void 0===a[e].consumable&&(a[e].consumable=!!t&&t.consumable),"true"===a[e].consumable&&(a[e].consumable=!0),"false"===a[e].consumable&&(a[e].consumable=!1),a[e].light&&a[e].light.constructor!==Array&&(a[e].light=[a[e].light]),a[e].light&&a[e].light.constructor===Array&&!a[e].states&&(a[e].states=a[e].light.length+1)}if(e[r].aliases){e[r].sources||(e[r].sources={});let t=e[r].sources,a=e[r].aliases;for(const e in a){let r=a[e],i=t[r]?t[r]:n&&n.sources[r]?n.sources[r]:null;i&&(t[e]=Object.assign({},i,{name:e}))}}}}static async load(e,t,r,n,a,i){Ht.commonLibrary||(Ht.commonLibrary=zt,this.applyFieldDefaults(Ht.commonLibrary));let o=Object.assign({},i);o.bright=t,o.dim=r;let s,u={system:e,name:n,states:2,light:[o]};a?("string"==typeof a?[,s]=await Ht.validateSourceJSON(a,!0):s=a,s&&this.applyFieldDefaults(s,Ht.commonLibrary)):s={};let c=Gt(s,Ht.commonLibrary,u);if(c[e])return c[e].topology=Rt(c[e].topology,c[e].quantity),new Ht(c[e]);{c.default.topology=Rt(c.default.topology,c.default.quantity);let e=c.default;return e.sources.Self.light[0].bright=t,e.sources.Self.light[0].dim=r,new Ht(e)}}get lightSources(){return this.library.sources}getLightSource(e){if(e)for(let t in this.library.sources)if(t.toLowerCase()===e.toLowerCase())return this.library.sources[t]}getInventory(e,t){let r=this.getLightSource(t);return this.library.topology.getInventory(e,r)}async _presetInventory(e,t,r){let n=this.getLightSource(t);return this.library.topology.setInventory(e,n,r)}async decrementInventory(e,t){let r=this.getLightSource(t);return this.library.topology.decrementInventory(e,r)}getImage(e,t){let r=this.getLightSource(t);return this.library.topology.getImage(e,r)}actorHasLightSource(e,t){let r=this.getLightSource(t);return this.library.topology.actorHasLightSource(e,r)}actorLightSources(e){let t=[];for(let r in this.library.sources)if(this.library.topology.actorHasLightSource(e,this.library.sources[r])){let n=Object.assign({image:this.library.topology.getImage(e,this.library.sources[r])},this.library.sources[r]);t.push(n)}return t}}let Gt=function(e,t,r){let n={};for(let e in t)n[e]={system:t[e].system,topology:t[e].topology,quantity:t[e].quantity,sources:{}};if(e)for(let r in e)r in t||(n[r]={system:e[r].system,topology:e[r].topology,quantity:e[r].quantity,sources:{}});for(let a in n){if(e&&a in e)for(let t in e[a].sources){let r=e[a].sources[t];n[a].sources[t]={name:r.name,type:r.type,consumable:r.consumable,states:r.states,light:Object.assign({},r.light)}}let i="";if(r.name){let e=!1,o=null;if(a===r.system){for(let t in n[a].sources)if(t.toLowerCase()===r.name.toLowerCase()){e=!0;break}if(!e&&t[a]){for(let e in t[a].sources)if(e.toLowerCase()===r.name.toLowerCase()){i=e,o=t[a].sources[e];break}i||(i=r.name),n[a].sources[i]={name:i,type:o?o.type:"equipment",consumable:!o||o.consumable,states:r.states,light:r.light}}}}if(a in t)for(let r in t[a].sources)if(!(e&&a in e&&r in e[a].sources||i&&r===i)){let e=t[a].sources[r];n[a].sources[r]={name:e.name,type:e.type,consumable:e.consumable,states:e.states,light:Object.assign({},e.light)}}}return n}},3360:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});class n{static get playerTorches(){return game.settings.get("torch","playerTorches")}static get gmUsesInventory(){return game.settings.get("torch","gmUsesInventory")}static get userUsesInventory(){return game.settings.get("torch","playerUsesInventory")}static get inventoryItemName(){return game.settings.get("torch","gmInventoryItemName")}static get lightRadii(){return{bright:game.settings.get("torch","brightRadius"),dim:game.settings.get("torch","dimRadius")}}static get gameLightSources(){return game.settings.get("torch","gameLightSources")}static get dancingLightsVision(){return"dnd5e"===game.system.id&&game.settings.get("torch","dancingLightVision")}static get helpText(){return`\n<h3>Torch</h3>\n<ol class="hotkey-list">\n\t<li>\n\t\t<h4>${game.i18n.localize("torch.turnOffAllLights")}</h4>\n\t\t<div class="keys">${game.i18n.localize("torch.holdCtrlOnClick")}</div>\n\t</li>\n</ol>\n`}static register(){game.settings.register("torch","playerTorches",{name:game.i18n.localize("torch.playerTorches.name"),hint:game.i18n.localize("torch.playerTorches.hint"),scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("torch","gmUsesInventory",{name:game.i18n.localize("torch.gmUsesInventory.name"),hint:game.i18n.localize("torch.gmUsesInventory.hint"),scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("torch","playerUsesInventory",{name:game.i18n.localize("torch.playerUsesInventory.name"),hint:game.i18n.localize("torch.playerUsesInventory.hint"),scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("torch","gmInventoryItemName",{name:game.i18n.localize("torch.gmInventoryItemName.name"),hint:game.i18n.localize("torch.gmInventoryItemName.hint"),scope:"world",config:!0,default:"torch",type:String}),game.settings.register("torch","gameLightSources",{name:game.i18n.localize("torch.gameLightSources.name"),hint:game.i18n.localize("torch.gameLightSources.hint"),filePicker:"any",scope:"world",config:!0,default:"",type:String}),game.settings.register("torch","brightRadius",{name:game.i18n.localize("torch.brightRadius.name"),hint:game.i18n.localize("torch.brightRadius.hint"),scope:"world",config:!0,default:20,type:Number}),game.settings.register("torch","dimRadius",{name:game.i18n.localize("torch.dimRadius.name"),hint:game.i18n.localize("torch.dimRadius.hint"),scope:"world",config:!0,default:40,type:Number}),"dnd5e"===game.system.id&&game.settings.register("torch","dancingLightVision",{name:game.i18n.localize("torch.dancingLightVision.name"),hint:game.i18n.localize("torch.dancingLightVision.hint"),scope:"world",config:!0,default:!1,type:Boolean})}}},3388:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});const n={"create:dnd5e:Dancing Lights":["TOKEN_CREATE","TOKEN_DELETE"],"delete:dnd5e:Dancing Lights":["TOKEN_DELETE"]};class a{static ACTIONS={"create:dnd5e:Dancing Lights":a.createDancingLights,"delete:dnd5e:Dancing Lights":a.removeDancingLights};static isPermitted(e,t){return!(t in n)||n[t].every((t=>e.can(t)))}static supports(e){return e in a.ACTIONS}static perform(e,t,r,n){a.ACTIONS[e](t,r,n)}static async createDancingLights(e,t,r){let n=game.settings.get("torch","dancingLightVision"),a={actorData:{},actorId:t.actor.id,actorLink:!1,bar1:{attribute:""},bar2:{attribute:""},displayBars:CONST.TOKEN_DISPLAY_MODES.NONE,displayName:CONST.TOKEN_DISPLAY_MODES.HOVER,disposition:CONST.TOKEN_DISPOSITIONS.FRIENDLY,flags:{},height:1,hidden:!1,light:r,lockRotation:!1,name:"Dancing Light",randomimg:!1,rotation:0,sight:{bright:0,dim:0,angle:360},texture:{src:"icons/magic/light/explosion-star-glow-orange.webp",scaleX:.25,scaleY:.25,rotation:0},mirrorX:!1,vision:n,width:1},i=e.grid.size*t.height,o=e.grid.size*t.width,s={x:t.x+o/2,y:t.y+i/2},u=[Object.assign({x:s.x-o,y:s.y-i},a),Object.assign({x:s.x,y:s.y-i},a),Object.assign({x:s.x-o,y:s.y},a),Object.assign({x:s.x,y:s.y},a)];await e.createEmbeddedDocuments("Token",u,{renderSheet:!1})}static async removeDancingLights(e,t){let r=[];e.tokens.forEach((n=>{t.actor.id===n.actor.id&&"Dancing Light"===n.name&&r.push(e.getEmbeddedDocument("Token",n.id).id)})),await e.deleteEmbeddedDocuments("Token",r)}}class i{static async handleSocketRequest(e){if(void 0===e.addressTo||e.addressTo===game.user.id){let t=game.scenes.get(e.sceneId),r=t.tokens.get(e.tokenId);a.supports(e.requestType)?await a.perform(e.requestType,t,r,e.lightSettings):console.warning(`Torch | --- Attempted unregistered socket action ${e.requestType}`)}}static requestSupported(e,t){return a.supports(`${e}:${game.system.id}:${t}`)}static async sendRequest(e,t,r,n){let o={requestType:`${t}:${game.system.id}:${r}`,sceneId:canvas.scene.id,tokenId:e,lightSettings:n};if(a.supports(o.requestType)){if(a.isPermitted(game.user,o.requestType))return i.handleSocketRequest(o),!0;{let e=game.users.contents.find((e=>e.active&&a.isPermitted(e,o.requestType)));return e?(o.addressTo=e.id,game.socket.emit("module.torch",o),!0):(ui.notifications.error("No GM available for Dancing Lights!"),!1)}}console.warning(`Torch | --- Requested unregistered socket action ${o.requestType}`)}}},1288:(e,t,r)=>{"use strict";r.d(t,{c:()=>o});var n=r(3388),a=r(3360);const i=function(e){let t={};for(let r in e)t["light."+r]=e[r];return t};class o{STATE_ON="on";STATE_DIM="dim";STATE_OFF="off";_token;_library;_ownedSources;constructor(e,t){this._token=e,this._library=t,this._ownedSources=t.actorLightSources(this._token.actor)}get ownedLightSources(){return this._ownedSources}get lightSourceState(){let e=this._token.getFlag("torch","lightSourceState");return void 0===e?this.STATE_OFF:e}get currentLightSource(){let e=this._token.getFlag("torch","lightSource");if(e&&this._ownedSources.find((t=>t.name===e)))return e;let t=a.c.inventoryItemName,r=t?this._ownedSources.find((e=>e.name.toLowerCase()===t.toLowerCase())):void 0;return t&&r?r.name:this._ownedSources.length>0?this._ownedSources[0].name:void 0}async setCurrentLightSource(e){await this._token.setFlag("torch","lightSource",e)}lightSourceIsExhausted(e){return!!this._library.getLightSource(e).consumable&&0===this._library.getInventory(this._token.actor,e)}getInventory(e){let t=this._library.getLightSource(e);return t&&t.consumable?this._library.getInventory(this._token.actor,e):t?-1:void 0}async forceStateOff(){let e=this._token.getFlag("torch","lightSourceState");await this._token.setFlag("torch","lightSourceState",this.STATE_OFF),await this._turnOffSource(e===this.STATE_OFF||void 0===e)}async advanceState(){let e=this.currentLightSource,t=this.lightSourceState;switch(t=3===this._library.getLightSource(e).states?t===this.STATE_OFF?this.STATE_ON:t===this.STATE_ON?this.STATE_DIM:this.STATE_OFF:t===this.STATE_OFF?this.STATE_ON:this.STATE_OFF,await this._token.setFlag("torch","lightSourceState",t),t){case this.STATE_OFF:await this._turnOffSource();break;case this.STATE_ON:await this._turnOnSource();break;case this.STATE_DIM:await this._dimSource();break;default:await this._turnOffSource()}return t}async _turnOffSource(e){let t=this._library.getLightSource(this.currentLightSource);if(n.c.requestSupported("delete",this.currentLightSource))n.c.sendRequest(this._token.id,"delete",this.currentLightSource,t.light);else{let r=game.actors.get(this._token.actorId).prototypeToken;await this._token.update(i(r.light)),!e&t.consumable&&await this._consumeSource(t)}}async _turnOnSource(){let e=this._library.getLightSource(this.currentLightSource);n.c.requestSupported("create",this.currentLightSource)?n.c.sendRequest(this._token.id,"create",this.currentLightSource,e.light[0]):await this._token.update(i(e.light[0]))}async _dimSource(){let e=this._library.getLightSource(this.currentLightSource);3===e.states&&await this._token.update(i(e.light[1]))}async _consumeSource(e){(game.user.isGM&&a.c.gmUsesInventory||!game.user.isGM&&a.c.userUsesInventory)&&this._library.getInventory(this._token.actor,e.name)&&await this._library.decrementInventory(this._token.actor,e.name)}}},3172:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},5160:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>e+".js",n.miniCssF=e=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},n.l=(t,r,a,i)=>{if(e[t])e[t].push(r);else{var o,s;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==t){o=l;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.src=t),e[t]=[r];var d=(r,n)=>{o.onerror=o.onload=null,clearTimeout(h);var a=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),r)return r(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),s&&document.head.appendChild(o)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!e;)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={728:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,[o,s,u]=r,c=0;if(o.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);u&&u(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(3360),t=n(3388);const r='<i class="fas fa-slash"></i>';class a{static async addQueryButton(e,t){let r=$('<div class="control-icon torch"><i class="fas fa-question"></i></div>');t.find(".col.left").prepend(r),r.find("i").click((async e=>{e.preventDefault(),e.stopPropagation(),new Dialog({title:game.i18n.localize("torch.help.setupSources.title"),content:game.i18n.localize("torch.help.setupSources.body"),buttons:{close:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("Close")}},default:"close"}).render(!0)}))}static async addFlameButton(e,t,n,i,o,s){let u=e.lightSourceState,c=e.lightSourceIsExhausted(e.currentLightSource),l=$('<div class="control-icon torch"><i class="fas fa-fire"></i></div>');if(u===e.STATE_ON)l.addClass("active");else if(u===e.STATE_DIM)l.addClass("active");else if(c){let e=$(r);l.addClass("fa-stack"),l.find("i").addClass("fa-stack-1x"),e.addClass("fa-stack-1x"),l.prepend(e)}t.find(".col.left").prepend(l),l.find("i.fa-fire").contextmenu((async t=>{t.preventDefault(),t.stopPropagation(),e.lightSourceState===e.STATE_OFF&&a.toggleSourceMenu(l,e,s)})),l.find("i").click((async t=>{t.preventDefault(),t.stopPropagation(),l.next().hasClass("light-source-menu")||(e.lightSourceIsExhausted(e.currentLightSource)?new Dialog({title:game.i18n.localize("torch.help.supplyExhausted.title"),content:game.i18n.localize("torch.help.supplyExhausted.body"),buttons:{close:{icon:'<i class="fas fa-check"></i>',label:"Close"}},default:"close"}).render(!0):t.shiftKey?o(e):t.altKey?(await n(e),a.syncFlameButtonState(l,e)):(await i(e),a.syncFlameButtonState(l,e)))}))}static toggleSourceMenu(e,t,r){let n=e.next();if(n.hasClass("light-source-menu"))return void n.remove();let i=$('<div class="control-icon light-source-menu"></div>'),o=t.ownedLightSources,s=t.currentLightSource;for(let n of o){let o=$(`<button type="button" class="light-source-menu-item" >\n\t  <img src="${n.image}" title="${n.name}" />\n\t</button>`);n.name===s&&o.addClass("active"),t.lightSourceIsExhausted(n.name)&&o.addClass("exhausted"),o.click((async i=>{let o=$(i.currentTarget.parentElement);await r(t,n.name),a.syncDisabledState(e,t),o.remove()})),i.append(o)}e.after(i)}static syncDisabledState(e,t){let n=e.find(".fa-slash"),a=n.length>0,i=t.lightSourceIsExhausted(t.currentLightSource);if(!a&&i){let t=$(r);e.addClass("fa-stack"),e.find("i").addClass("fa-stack-1x"),t.addClass("fa-stack-1x"),e.prepend(t)}else a&&!i&&(n.remove(),e.find("i").removeClass("fa-stack-1x"),e.removeClass("fa-stack"))}static syncFlameButtonState(e,t){let r=t.lightSourceState;r===t.STATE_ON||r===t.STATE_DIM?e.addClass("active"):e.removeClass("active")}}var i=n(1288),o=n(4304);class s{async#e(t,r){let n=game.scenes.get(t).tokens.get(r),a=game.actors.get(n.actorId),s=await o.c.load(game.system.id,e.c.lightRadii.bright,e.c.lightRadii.dim,e.c.inventoryItemName,e.c.gameLightSources,a.prototypeToken.light);return new i.c(n,s)}#t(e,t,r){const n=/[A-Za-z0-9]+/;let a;if("string"==typeof t&&n.test(t)||(a="first parm - scene id - isn't an id string"),"string"==typeof r&&n.test(r)||(a="second parm - token id - isn't an id string"),a)throw`${e} : ${a}`}#r(e,t,r,n){const a=/[A-Za-z0-9]+/;let i;if("string"==typeof t&&a.test(t)||(i="first parm - scene id - isn't an id string"),"string"==typeof r&&a.test(r)||(i="second parm - token id - isn't an id string"),("string"!=typeof n||n.length<1)&&(i="third parm - source name - isn't the name of a light source"),i)throw`${e} : ${i}`}async toggle(e,t){this.#t("toggle",e,t);let r=await this.#e(e,t);return await r.advanceState()}async extinguish(e,t){this.#t("extinguish",e,t);let r=await this.#e(e,t);return await r.forceStateOff()}async currentSource(e,t){this.#t("currentSource",e,t);let r=await this.#e(e,t);return await r.currentLightSource}async currentState(e,t){this.#t("currentState",e,t);let r=await this.#e(e,t);return await r.lightSourceState}async equippedSources(e,t){this.#t("equippedSources",e,t);let r=await this.#e(e,t);return await r.ownedLightSources.map((e=>e.name))}async selectSource(e,t,r){this.#r("selectSource",e,t,r);let n=await this.#e(e,t);return await n.setCurrentLightSource(r)}async inventory(e,t,r){this.#r("inventory",e,t,r);let n=await this.#e(e,t);return await n.getInventory(r)}async sourceExhausted(e,t,r){this.#r("sourceExhausted",e,t,r);let n=await this.#e(e,t);return await n.lightSourceIsExhausted(r)}}let u=(...e)=>{console.log(...e)};class c{static async addTorchButton(t,r){let n=game.actors.get(t.object.document.actorId),s=await o.c.load(game.system.id,e.c.lightRadii.bright,e.c.lightRadii.dim,e.c.inventoryItemName,e.c.gameLightSources,n.prototypeToken.light),u=new i.c(t.object.document,s),l=u.ownedLightSources;t.object.document.name in l||(game.user.isGM||e.c.playerTorches)&&(u.currentLightSource?a.addFlameButton(u,r,c.forceSourceOff,c.toggleLightSource,c.toggleLightHeld,c.changeLightSource):a.addQueryButton(u,r))}static async toggleLightSource(e){let t=await e.advanceState();u(`${e.currentLightSource} is now ${t}`)}static async forceSourceOff(e){await e.forceSourceOff(),u(`Forced ${e.currentLightSource} off`)}static async toggleLightHeld(){}static async changeLightSource(e,t){await e.setCurrentLightSource(t)}static setupQuenchTesting(){console.log("Torch | --- In test environment - load test code..."),n.e(920).then(n.bind(n,6920)).then((e=>{try{e.hookTests(),console.log("Torch | --- Tests ready")}catch(e){console.log("Torch | --- Error registering test code",e)}})).catch((e=>{console.log("Torch | --- No test code found",e)}))}}Hooks.on("ready",(()=>{Hooks.on("renderTokenHUD",((e,t,r)=>{c.addTorchButton(e,t,r)})),Hooks.on("renderControlsReference",((t,r)=>{r.find("div").first().append(e.c.helpText)})),game.socket.on("module.torch",(e=>{t.c.handleSocketRequest(e)}))})),Hooks.on("preUpdateSetting",((e,t)=>{if("torch.gameLightSources"===e.key){let e=t.value;'"'===t.value.substring(0,1)&&(e=t.value.substring(1,t.value.length-1)),o.c.validateSourceJSON(e,!0)}})),Hooks.once("init",(()=>{game.world.id.startsWith("torch-test-")&&c.setupQuenchTesting(),e.c.register(),game.Torch=new s})),console.log("Torch | --- Module loaded")})()})();
//# sourceMappingURL=torch.js.map