(()=>{"use strict";const COC7={eras:{standard:"CoC7.Era1920",modern:"CoC7.EraModern",modernPulp:"CoC7.EraModernPulp",pulp:"CoC7.EraPulp",downDarkerTrails:"CoC7.EraDownDarkerTrails",downDarkerTrailsPulp:"CoC7.EraDownDarkerTrailsPulp",darkAges:"CoC7.EraDarkAges",darkAgesPulp:"CoC7.EraDarkAgesPulp",gasLight:"CoC7.EraGasLight",invictus:"CoC7.EraInvictus"},monetaryFormatKeys:{decimalLeft:"decimalLeft",decimalRight:"decimalRight",integerLeft:"integerLeft",integerRight:"integerRight",lsd:"lsd",roman:"roman"},monetaryFormats:{decimalLeft:"CoC7.MonetaryFormatDecimalLeft",decimalRight:"CoC7.MonetaryFormatDecimalRight",integerLeft:"CoC7.MonetaryFormatIntegerLeft",integerRight:"CoC7.MonetaryFormatIntegerRight",lsd:"CoC7.MonetaryFormatLsd",roman:"CoC7.MonetaryFormatRoman"},monetaryTypeKeys:{none:"none",asses:"asses",sestertii:"sestertii",quinarii:"quinarii",denarii:"denarii",d:"d",s:"s",value:"value",multiplier:"multiplier"},monetaryTypes:{none:{name:"CoC7.MonetaryTypeNone",filter:[]},asses:{name:"CoC7.MonetaryTypeAsses",filter:["roman"]},sestertii:{name:"CoC7.MonetaryTypeSestertii",filter:["roman"]},quinarii:{name:"CoC7.MonetaryTypeQuinarii",filter:["roman"]},denarii:{name:"CoC7.MonetaryTypeDenarii",filter:["roman"]},d:{name:"CoC7.MonetaryTypeDeniers",filter:["lsd"]},s:{name:"CoC7.MonetaryTypeSous",filter:["lsd"]},value:{name:"CoC7.MonetaryTypeOne",filter:[]},multiplier:{name:"CoC7.MonetaryTypeCreditRating",filter:[]}},characteristics:{str:"CoC7.CharacStr",con:"CoC7.CharacCon",siz:"CoC7.CharacSiz",dex:"CoC7.CharacDex",app:"CoC7.CharacApp",int:"CoC7.CharacInt",pow:"CoC7.CharacPow",edu:"CoC7.CharacEdu"},skillProperties:{noadjustments:"CoC7.SkillNoAdjustments",noxpgain:"CoC7.SkillNoXpGain",special:"CoC7.SkillSpecial",rarity:"CoC7.SkillRarity",push:"CoC7.SkillPush",combat:"CoC7.SkillCombat",fighting:"CoC7.SkillFighting",firearm:"CoC7.SkillFirearm",requiresname:"CoC7.SkillRequiresName",keepbasevalue:"CoC7.SkillKeepBaseValue",picknameonly:"CoC7.SkillPickNameOnly",onlyone:"CoC7.SkillSpecializationIsUnique"},weaponProperties:{melee:"CoC7.Weapon.Property.Melee",rngd:"CoC7.WeaponRngd",mnvr:"CoC7.WeaponProperyManeuver",thrown:"CoC7.Weapon.Property.Thrown",shotgun:"CoC7.Weapon.Property.Shotgun",dbrl:"CoC7.WeaponDbrl",impl:"CoC7.WeaponImpl",brst:"CoC7.WeaponBrst",auto:"CoC7.WeaponAuto",ahdb:"CoC7.WeaponAhdb",addb:"CoC7.WeaponAddb",slnt:"CoC7.WeaponSlnt",spcl:"CoC7.WeaponSpcl",mont:"CoC7.WeaponMont",blst:"CoC7.WeaponBlst",stun:"CoC7.WeaponStun",rare:"CoC7.WeaponRare",burn:"CoC7.Weapon.Property.Burn"},spellProperties:{call:"CoC7.CallSpell",dismiss:"CoC7.DismissSpell",contact:"CoC7.ContactSpell",summon:"CoC7.SummonSpell",bind:"CoC7.BindSpell",enchantment:"CoC7.EnchantmentSpell",gate:"CoC7.GateSpell",combat:"CoC7.CombatSpell"},bookType:{mythos:"CoC7.MythosBook",occult:"CoC7.OccultBook",other:"CoC7.Other"},talentType:{physical:"CoC7.PhysicalTalent",mental:"CoC7.MentalTalent",combat:"CoC7.CombatTalent",miscellaneous:"CoC7.MiscellaneousTalent",basic:"CoC7.BasicTalent",insane:"CoC7.InsaneTalent",other:"CoC7.OtherTalent"},statusType:{mania:"CoC7.Mania",phobia:"CoC7.Phobia"},occupationProperties:{classic:"CoC7.Classic",lovecraftian:"CoC7.Lovecraftian",modern:"CoC7.Modern",pulp:"CoC7.Pulp"},formula:{}};COC7.formula.actor={"@STR":"this.system.characteristics.str.value","@CON":"this.system.characteristics.con.value","@SIZ":"this.system.characteristics.siz.value","@DEX":"this.system.characteristics.dex.value","@APP":"this.system.characteristics.app.value","@INT":"this.system.characteristics.int.value","@POW":"this.system.characteristics.pow.value","@EDU":"this.system.characteristics.edu.value"},COC7.formula.actorsheet={"@STR":"this.actor.system.characteristics.str.value","@CON":"this.actor.system.characteristics.con.value","@SIZ":"this.actor.system.characteristics.siz.value","@DEX":"this.actor.system.characteristics.dex.value","@APP":"this.actor.system.characteristics.app.value","@INT":"this.actor.system.characteristics.int.value","@POW":"this.actor.system.characteristics.pow.value","@EDU":"this.actor.system.characteristics.edu.value"},COC7.status={tempoInsane:"tempoInsane",indefInsane:"indefInsane",unconscious:"unconscious",criticalWounds:"criticalWounds",dying:"dying",prone:"prone",dead:"dead"},COC7.newBookName="CoC7.NewBookName",COC7.newSkillName="CoC7.NewSkillName",COC7.newSpellName="CoC7.NewSpellName",COC7.newItemName="CoC7.NewItemName",COC7.newWeaponName="CoC7.NewWeaponName",COC7.creatureFightingSkill="CoC7.creatureFightingSkill",COC7.fightingSpecializationName="CoC7.FightingSpecializationName",COC7.firearmSpecializationName="CoC7.FirearmSpecializationName",COC7.combatCards={fightBack:"CoC7.FightBack",dodge:"CoC7.Dodge",maneuver:"CoC7.Maneuver",noResponse:"CoC7.NoResponse"};class CoC7Dice{static async roll(modif=0,rollMode=null,hideDice=!1){let roll,alternativeDice="";game.modules.get("dice-so-nice")?.active&&(modif<0?alternativeDice=game.settings.get("CoC7","tenDiePenalty"):modif>0&&(alternativeDice=game.settings.get("CoC7","tenDieBonus"))),roll=game.CoC7.dev.dice.alwaysCrit&&game.settings.get("CoC7","hiddendevmenu")?Roll.fromData(CoC7Dice.crit01):game.CoC7.dev.dice.alwaysFumble&&game.settings.get("CoC7","hiddendevmenu")?Roll.fromData(CoC7Dice.fumble99):await new Roll("1dt"+(""!==alternativeDice?"+1do["+alternativeDice+"]":"+1dt").repeat(Math.abs(modif))+"+1d10").roll({async:!0});const result={unit:{total:0,results:[]},tens:{total:0,results:[]},total:0,roll};rollMode&&(result.rollMode=rollMode),hideDice&&(result.hideDice=hideDice);for(const d of roll.dice)d instanceof CONFIG.Dice.terms.t?result.tens.results.push(d.total):(result.unit.total=10===d.total?0:d.total,result.unit.results.push(result.unit.total));if(modif<0)result.tens.total=0===result.unit.total&&result.tens.results.includes(0)?100:Math.max(...result.tens.results);else if(0===result.unit.total){const dice=result.tens.results.filter((t=>t>0));result.tens.total=0===dice.length?100:Math.min(...dice)}else result.tens.total=Math.min(...result.tens.results);return result.total=result.unit.total+result.tens.total,result}static async showRollDice3d(roll){if(game.modules.get("dice-so-nice")?.active){const syncDice=game.settings.get("CoC7","syncDice3d"),chatData={whisper:null,blind:!1};ChatMessage.applyRollMode(chatData,game.settings.get("core","rollMode")),await game.dice3d.showForRoll(roll,game.user,syncDice,chatData.whisper,chatData.blind)}}static async combinedRoll(options){options.pool=options.pool??{},options.pool[0]=!1;const keys=Object.keys(options.pool).map((v=>parseInt(v,10)));let penaltyDice=Math.abs(Math.min(0,Math.min(...keys))),bonusDice=Math.max(0,Math.max(...keys));const hasDSN=game.modules.get("dice-so-nice")?.active,pool=[];pool.push("1dt+1d10"),penaltyDice>0&&pool.push((hasDSN?"+1do["+game.settings.get("CoC7","tenDiePenalty")+"]":"1dt").repeat(Math.abs(penaltyDice))),bonusDice>0&&pool.push((hasDSN?"+1do["+game.settings.get("CoC7","tenDieBonus")+"]":"1dt").repeat(Math.abs(bonusDice)));const roll=await new Roll(pool.join("")).roll({async:!0}),result={groups:{baseDie:0,penaltyDice:[],bonusDice:[]},unit:0,roll};let baseSet=!1;for(const d of roll.dice)d instanceof CONFIG.Dice.terms.t?baseSet?penaltyDice>0?(result.groups.penaltyDice.push(d.total),penaltyDice--):(result.groups.bonusDice.push(d.total),bonusDice--):(result.groups.baseDie=d.total,baseSet=!0):result.unit=10===d.total?0:d.total;const output={};for(const key in options.pool){output[key]={unit:{total:result.unit,results:[result.unit]},tens:{total:0,results:[]},total:0,roll};const modif=parseInt(key,10);let modifier=modif;output[key].tens.results.push(result.groups.baseDie);for(const offset=Math.abs(modifier);modifier<0;modifier++)output[key].tens.results.push(result.groups.penaltyDice[modifier+offset]);for(const offset=modifier;modifier>0;modifier--)output[key].tens.results.push(result.groups.bonusDice[Math.abs(modifier-offset)]);if(modif<0)output[key].tens.total=0===output[key].unit.total&&output[key].tens.results.includes(0)?100:Math.max(...output[key].tens.results);else if(0===output[key].unit.total){const dice=output[key].tens.results.filter((t=>t>0));output[key].tens.total=0===dice.length?100:Math.min(...dice)}else output[key].tens.total=Math.min(...output[key].tens.results);output[key].total=output[key].unit.total+output[key].tens.total}return output}static fumble99={class:"Roll",options:{},dice:[],formula:"1dt + 1d10",terms:[{class:"CoC7DecaderDie",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:9,active:!0}]},{class:"OperatorTerm",options:{},evaluated:!0,operator:"+"},{class:"Die",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:9,active:!0}]}],total:99,evaluated:!0};static crit01={class:"Roll",options:{},dice:[],formula:"1dt + 1d10",terms:[{class:"CoC7DecaderDie",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:10,active:!0}]},{class:"OperatorTerm",options:{},evaluated:!0,operator:"+"},{class:"Die",options:{},evaluated:!0,number:1,faces:10,modifiers:[],results:[{result:1,active:!0}]}],total:1,evaluated:!0}}class CoC7ContentLinkDialog extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{id:"link-creation",classes:["coc7","active-effect-sheet"],title:game.i18n.localize("CoC7.CreateLink"),dragDrop:[{dragSelector:null,dropSelector:".container"}],template:"systems/CoC7/templates/apps/link-creation.html",closeOnSubmit:!1,width:560,height:"auto",tabs:[{navSelector:".tabs",contentSelector:".effect-options",initial:"details"}]})}async getData(){const sheetData=await super.getData();return sheetData.checkType=[{key:CoC7Link.CHECK_TYPE.CHECK,label:game.i18n.localize("CoC7.Check")},{key:CoC7Link.CHECK_TYPE.SANLOSS,label:game.i18n.localize("CoC7.SanityCheck")},{key:CoC7Link.CHECK_TYPE.ITEM,label:game.i18n.localize("CoC7.ItemWeapon")},{key:CoC7Link.CHECK_TYPE.EFFECT,label:game.i18n.localize("EFFECT.TabEffects")}],sheetData.linkType=[{key:CoC7Link.LINK_TYPE.CHARACTERISTIC,label:game.i18n.localize("CoC7.Characteristic")},{key:CoC7Link.LINK_TYPE.ATTRIBUTE,label:game.i18n.localize("CoC7.Attribute")},{key:CoC7Link.LINK_TYPE.SKILL,label:game.i18n.localize("CoC7.Skill")}],sheetData.attributeType=[{key:"lck",label:game.i18n.localize("CoC7.Luck")},{key:"san",label:game.i18n.localize("CoC7.Sanity")}],sheetData.effectModes=Object.entries(CONST.ACTIVE_EFFECT_MODES).reduce(((obj,e)=>(obj[e[1]]=game.i18n.localize("EFFECT.MODE_"+e[0]),obj)),{}),sheetData.characteristicType=CoCActor.getCharacteristicDefinition(),sheetData.link=sheetData.object.link,sheetData.fromGame=sheetData.link.isItemCheck||sheetData.link.isSkillCheck,sheetData.fromDirectory="fromDirectory"===sheetData.object.hasID,sheetData.fromCompendium="fromCompendium"===sheetData.object.hasID,sheetData.isSetFromGame=sheetData.link.id&&(sheetData.fromDirectory||sheetData.fromCompendium),sheetData.difficultyLevel=CoC7Check.difficultyLevel,sheetData.actorNames=sheetData.object.actors.map((a=>a.name)).join(", "),sheetData}activateListeners(html){super.activateListeners(html),html.find("select[name=type],select[name=check],select[name=attributeKey],select[name=characteristicKey],input[type=checkbox]").change(this._onChangeSubmit.bind(this)),html.find(".effect-control").click(this._onEffectControl.bind(this))}_onChangeSubmit(event){switch(event.currentTarget.name){case"fromCompendium":case"fromDirectory":this.object.hasID=event.currentTarget.name===this.object.hasID?"":event.currentTarget.name}this._onSubmit(event)}_onEffectControl(event){event.preventDefault();const button=event.currentTarget;switch(button.dataset.action){case"add":return this._addEffectChange();case"delete":button.closest(".effect-change").remove(),this._onSubmit(event)}}async _addEffectChange(){const idx=this.object.link.effect.changes.length;return this.submit({preventClose:!0,updateData:{[`effect.changes.${idx}`]:{key:"",mode:CONST.ACTIVE_EFFECT_MODES.ADD,value:""}}})}async _updateObject(event,formData){let hasEffect=!1;const effect={duration:{},changes:[]};for(const key in formData)switch(key){case"checkName":this.object.link.setValue("name",formData.checkName);break;case"blind":case"difficulty":case"displayName":case"icon":case"id":case"modifier":case"pack":case"sanMin":case"sanMax":case"sanReason":this.object.link.setValue(key,formData[key]);break;case"hasModifiers":case"hasLabel":case"hasIcon":this.object[key]=formData[key];break;case"effect.label":effect.label=formData[key],hasEffect=!0;break;case"effect.icon":effect.icon=formData[key],hasEffect=!0;break;case"effect.tint":effect.tint=formData[key],hasEffect=!0;break;case"effect.disabled":effect.disabled=formData[key],hasEffect=!0;break;case"effect.duration.seconds":effect.duration.seconds=formData[key],hasEffect=!0;break;case"effect.duration.rounds":effect.duration.rounds=formData[key],hasEffect=!0;break;case"effect.duration.turns":effect.duration.turns=formData[key],hasEffect=!0;break;default:{const match=key.match(/^effect\.changes\.(\d+)\.key$/);match&&(effect.changes.push({key:formData[key],mode:formData["effect.changes."+match[1]+".mode"],value:formData["effect.changes."+match[1]+".value"]}),hasEffect=!0)}}hasEffect&&this.object.link.setValue("object",effect);const target=event.currentTarget;if(target){switch(target.name){case"type":this.object.link.setValue("check",target.value),target.value===CoC7Link.CHECK_TYPE.CHECK&&(this.object.link.setValue("linkType",CoC7Link.LINK_TYPE.SKILL),this.object.link.setValue("name",""));break;case"check":this.object.link.setValue("linkType",target.value),target.value===CoC7Link.LINK_TYPE.CHARACTERISTIC?this.object.link.setValue("name",CoCActor.getCharacteristicDefinition()[0].key):target.value===CoC7Link.LINK_TYPE.ATTRIBUTE?this.object.link.setValue("name","lck"):this.object.link.setValue("name","");break;case"attributeKey":case"characteristicKey":this.object.link.setValue("name",target.value)}if("submit"===event.type){switch(event.submitter.dataset.action){case"clipboard":CoC7Utilities.copyToClipboard(this.object.link.link);break;case"chat":CoC7Link.toChatMessage(this.object.link.object);break;case"whisper-owner":CoC7Link.toWhisperMessage(this.object.link.object,this.object.actors);break;case"whisper-selected":if(!canvas.tokens.controlled.length)return void ui.notifications.warn(game.i18n.localize("CoC7.ErrorNoTokensSelected"));CoC7Link.toWhisperMessage(this.object.link.object,canvas.tokens.controlled.filter((t=>t.actor.owners.length)).map((t=>t.actor)))}return}}this.render(!0)}async _onDrop(event){const dataString=event.dataTransfer.getData("text/plain"),data=JSON.parse(dataString);if("CoC7Link"===data.type)this.setLink(await CoC7Link.fromDropData(data)),this.render(!0);else if("Folder"===data.type&&"Actor"===data.documentName||["Item","Actor"].includes(data.type)){const dataList=await CoC7Utilities.getDataFromDropEvent(event,data.documentName??data.type);data.documentName??"Actor"===data.type?(this.object.actors=dataList.filter((a=>a.owners.length)),this.render(!0)):1===dataList.length&&["skill","weapon"].includes(dataList[0].type)&&(dataList[0].pack?(this.object.hasID="fromCompendium",this.object.link.setValue("pack",dataList[0].pack)):this.object.hasID="fromDirectory",this.object.link.setValue("id",dataList[0].id),this.object.link.setValue("name",dataList[0].name),this.render(!0))}}setLink(link){return this.object.link=link,""!==link.pack?this.object.hasID="fromCompendium":""!==link.id&&(this.object.hasID="fromDirectory"),link.difficulty===CoC7Check.difficultyLevel.regular&&0===parseInt(link.modifier,10)||(this.object.hasModifiers=!0),""!==link.displayName&&(this.object.hasLabel=!0),""!==link.icon&&(this.object.hasIcon=!0),""}static async create(linkData={},option={}){const object=mergeObject({link:null,hasID:"",hasModifiers:!1,hasLabel:!1,hasIcon:!1,actors:[]},option),dialog=new CoC7ContentLinkDialog(object,{});dialog.setLink(await CoC7Link.fromDropData(linkData)),dialog.render(!0)}}function createInlineRoll(roll){const data={cls:["inline-roll"],dataset:{}};try{data.cls.push("inline-result"),data.result=roll.total,data.title=roll.formula,data.dataset.roll=escape(JSON.stringify(roll))}catch(err){return null}const a=document.createElement("a");a.classList.add(...data.cls),a.title=data.title;for(const[k,v]of Object.entries(data.dataset))a.dataset[k]=v;return a.innerHTML=`<i class="fas fa-dice-d20"></i> ${data.result}`,a}function isCtrlKey(event){return!1!==event&&(event.metaKey||event.ctrlKey||91===event.keyCode||224===event.keyCode)}class chatHelper{static hyphenToCamelCase(string){return string.replace(/-([a-z])/g,(function(string){return string[1].toUpperCase()}))}static async createMessage(title,message,options={}){const messageData={};messageData.flavor=title,messageData.speaker=options.speaker||ChatMessage.getSpeaker(),options.whisper&&(messageData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER,messageData.whisper=options.whisper),void 0!==options.roll&&(messageData.roll=options.roll,messageData.type=CONST.CHAT_MESSAGE_TYPES.ROLL,messageData.rollMode=CONST.DICE_ROLL_MODES.SELF),messageData.user=game.user.id,messageData.content=message,ChatMessage.create(messageData).then((msg=>msg))}static camelCaseToHyphen(string){return string.replace(/([A-Z])/g,(function(string){return"-"+string.toLowerCase()}))}static getActorFromKey(key){if(!key)return null;if(CoC7Utilities.isDocumentUuid(key))return CoC7Utilities.isDocumentUuidPack(key)?fromUuid(key):CoC7Utilities.SfromUuid(key);if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];const token=chatHelper.getTokenFromKey(key);return token?.actor}return game.actors.get(key)||null}static getSpeakerFromKey(actorKey){const speaker={},actor=chatHelper.getActorFromKey(actorKey);if(actorKey.includes(".")){const[sceneId,tokenId]=actorKey.split(".");speaker.token=tokenId,speaker.scene=sceneId,actor.token?.name&&(speaker.alias=actor.token.name),speaker.actor=actor.id}else speaker.actor=actorKey,speaker.alias=actor.name;return speaker}static attachObjectToElement(object,element,objectName=""){for(const prop of Object.keys(object))prop.startsWith("_")||("object"==typeof object[prop]?chatHelper.attachObjectToElement(object[prop],element,`${objectName}:${prop}:`):element.dataset[`${objectName}${prop}`]=object[prop])}static getObjectFromElement(object,element){function deserialize(obj,key,value){if(key.startsWith(":")){const s=key.slice(1),objProp=s.slice(s.indexOf(":")+1),objName=s.substring(0,s.indexOf(":"));void 0===obj[objName]&&(obj[objName]={}),deserialize(obj[objName],objProp,value)}else"true"===value?obj[key]=!0:"false"===value?obj[key]=!1:Number(value).toString()===value?obj[key]=Number(value):obj[key]=value}if(element&&object)for(const prop of Object.keys(element.dataset)){if("template"===prop)return;deserialize(object,prop,element.dataset[prop])}}static getTokenFromKey(key){if(!key)return null;if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId){const tokenDoc=game.actors.tokens[tokenId]?.token;return tokenDoc.object}{const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;const token=new Token(tokenData);return token.scene||(token.scene=duplicate(scene.document)),token}}{const actor=game.actors.get(key);return chatHelper.getActorToken(actor)}}static getActorToken(actor){return actor?actor.token||actor.prototypeToken:null}static getActorImgFromKey(actorKey){if(!actorKey)return null;if(game.settings.get("CoC7","useToken")){const token=chatHelper.getTokenFromKey(actorKey);if(token&&(token.document||token).texture.src&&-1===(token.document||token).texture.src.indexOf("*"))return(token.document||token).texture.src}const actor=chatHelper.getActorFromKey(actorKey);return game.settings.get("CoC7","useToken")&&actor.prototypeToken&&actor.prototypeToken.texture.src&&-1===actor.prototypeToken.texture.src?.indexOf("*")?actor.prototypeToken.texture.src:actor.img}static getDistance(startToken,endToken){if(void 0===endToken.center&&void 0!==endToken.id&&startToken.scene?.id){const scene=game.scenes.get(startToken.scene.id);if(void 0!==scene?.tokens){const tokens=scene?.tokens.filter((token=>token.actor.id===endToken.data.document.id)).map((token=>token.object));1===tokens.length&&(endToken=tokens[0])}}let distance={gridUnit:0,value:0,unit:canvas.scene.grid.units};if(void 0!==startToken&&void 0!==startToken.center&&void 0!==endToken&&void 0!==endToken.center){const ray=new Ray(startToken.center,endToken.center),segment=[{ray}];if(distance={gridUnit:ray.distance/canvas.scene.grid.size,value:canvas.grid.measureDistances(segment,{gridSpaces:game.settings.get("CoC7","gridSpaces")})[0],unit:canvas.scene.grid.units},game.settings.get("CoC7","distanceElevation")){const elevation=Math.abs((startToken.document.elevation||0)-(endToken.document.elevation||0));distance.value=Math.sqrt(distance.value*distance.value+elevation*elevation)}}else ui.notifications.warn(game.i18n.localize("CoC7.MessageDistanceCalculationFailure"));return distance}static toYards(distance){return"ft"===distance.unit?distance.value/3:distance.value}}class CoC7Roll{static getFromCard(card){const rollDiv=card.querySelector("div.dice-roll");if(!rollDiv)return null;const roll=new CoC7Roll;return chatHelper.getObjectFromElement(roll,rollDiv),roll}get resultType(){switch(this.successLevel=parseInt(this.successLevel),this.successLevel){case CoC7Check.successLevel.regular:return game.i18n.format("CoC7.RegularSuccess");case CoC7Check.successLevel.hard:return game.i18n.format("CoC7.HardSuccess");case CoC7Check.successLevel.extreme:return game.i18n.format("CoC7.ExtremeSuccess");case CoC7Check.successLevel.critical:return game.i18n.format("CoC7.CriticalSuccess");case CoC7Check.successLevel.fumble:return game.i18n.format("CoC7.Fumble");case CoC7Check.successLevel.failure:return game.i18n.format("CoC7.Failure");default:return null}}get actor(){return this.actorKey?chatHelper.getActorFromKey(this.actorKey):null}get item(){return this.itemId&&this.actor?this.actor.items.get(this.itemId):null}get skill(){return this.skillId&&this.actor?this.actor.items.get(this.skillId):null}showDiceRoll(){if(game.modules.get("dice-so-nice")?.active){const diceResults=[];for(const dieResult of this.dices.tens)diceResults.push(100===dieResult.value?0:dieResult.value/10);diceResults.push(this.dices.unit.value);const diceData={formula:`${this.dices.tens.length}d100+1d10`,results:diceResults,whisper:null,blind:!1};game.dice3d.show(diceData)}}static getFromElement(element,object=null){if(!element)return;const roll=object||new CoC7Roll;chatHelper.getObjectFromElement(roll,element),roll.dices={tens:[],unit:{}},chatHelper.getObjectFromElement(roll.dices,element.querySelector(".dice-result")),roll.dices.hasBonus=0!==roll.diceModifier,roll.dices.bonus=Math.abs(roll.diceModifier),roll.dices.bonusType=roll.diceModifier<0?game.i18n.format("CoC7.DiceModifierPenalty"):game.i18n.format("CoC7.DiceModifierBonus");const tenDice=element.querySelector(".ten-dice");if(tenDice)for(const d of tenDice.querySelectorAll("li")){const die={selected:!1,isMax:!1,isMin:!1,value:-1};chatHelper.getObjectFromElement(die,d),roll.dices.tens.push(die)}const unitDie=element.querySelector(".unit-die")?element.querySelector(".unit-die").querySelector("li"):null;roll.dices.unit.value=unitDie?parseInt(unitDie.dataset.value):null,roll.increaseSuccess=[];const increaseSuccess=element.querySelector(".increase-success");if(increaseSuccess&&increaseSuccess.querySelectorAll("button"))for(const isl of increaseSuccess.querySelectorAll("button")){const newSuccesLevel={};chatHelper.getObjectFromElement(newSuccesLevel,isl),roll.increaseSuccess.push(newSuccesLevel)}return roll.luckNeeded&&(roll.luckNeededTxt=game.i18n.format("CoC7.SpendLuck",{luckNeededValue:roll.luckNeeded})),object?void 0:roll}static getFromCheck(check){const roll=new CoC7Roll;return roll.rollType=check.rollType,roll.side=check.side,roll.action=check.action,roll.refMessageId=check.refMessageId,roll.referenceMessageId=check.referenceMessageId,roll.successLevel=check.successLevel,roll.difficulty=check.difficulty,roll.skillId=check.skill?check.skill.id:null,roll.itemId=check.item?check.item.id:null,roll.diceMod=check.diceModifier,roll.value=parseInt(check.rawValue),roll.fumble=check.isFumble,roll.critical=check.isCritical,roll.characteristic=check.characteristic?check.characteristic:null,roll.result=check.dice.total,roll.actorKey=check.actor.tokenKey,check.actor.isToken?(roll.tokenId=check.actor.tokenKey,roll.actorId=null):(roll.tokenKey=null,roll.actorId=check.actor.tokenKey),roll}static attachCheckToElement(htmlElement,check){const roll=CoC7Roll.getFromCheck(check);return roll.attachToElement(htmlElement),roll}attachToElement(htmlElement){chatHelper.attachObjectToElement(this,htmlElement)}}class CoC7Damage{static getMainDie(damageString){return damageString.toLowerCase().includes("d20")?"d20":damageString.toLowerCase().includes("d12")?"d12":damageString.toLowerCase().includes("d10")?"d10":damageString.toLowerCase().includes("d8")?"d8":damageString.toLowerCase().includes("d4")?"d4":"d6"}static getFromElement(element,object=null){if(!element)return;const damage=object||{};chatHelper.getObjectFromElement(damage,element);const rolls=element.querySelector(".dice-rolls").querySelectorAll("li");damage.rolls=[];for(const r of rolls){const roll={};chatHelper.getObjectFromElement(roll,r),damage.rolls.push(roll)}return object?void 0:damage}}class RollDialog{static async create(options={}){options.difficulty&&(options.difficultyLevel={},CoC7Check.difficultyLevel.unknown===options.difficulty&&(options.difficultyLevel.unknown=!0),CoC7Check.difficultyLevel.regular===options.difficulty&&(options.difficultyLevel.regular=!0),CoC7Check.difficultyLevel.hard===options.difficulty&&(options.difficultyLevel.hard=!0),CoC7Check.difficultyLevel.extreme===options.difficulty&&(options.difficultyLevel.extreme=!0)),options.name&&!options.displayName&&(options.displayName=options.name);const unknownDifficultyDefault="unknown"===game.settings.get("CoC7","defaultCheckDifficulty"),data={allowFlatDiceModifier:game.settings.get("CoC7","allowFlatDiceModifier")&&!options.disableFlatDiceModifier,allowFlatThresholdModifier:game.settings.get("CoC7","allowFlatThresholdModifier")&&!options.disableFlatThresholdModifier,difficulty:CoC7Check.difficultyLevel,unknownDifficultyDefault,hideDifficulty:options.hideDifficulty??!1,options};void 0!==options.cardType&&(!options.forcedCardType??1)&&(data.cardTypes=CoC7ChatMessage.cardTypes(options));const html=await renderTemplate("systems/CoC7/templates/apps/bonus.html",data);return new Promise((resolve=>{let formData=null;const dlg=new Dialog({title:options.displayName?game.i18n.format("CoC7.BonusSelectionWindowNamed",{name:options.displayName}):game.i18n.localize("CoC7.BonusSelectionWindow"),content:html,buttons:{roll:{label:game.i18n.localize("CoC7.RollDice"),callback:html=>(formData=new FormData(html[0].querySelector("#bonus-roll-form")),resolve(formData))}},default:"roll",close:()=>{}});dlg.render(!0)}))}}class RollCard{constructor(){this.rolls=[],this.initiator=null}static async fromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return;const card=await this.fromMessage(message);return card.messageId=messageId,card}static async fromMessage(message){const cardElement=$(message.content)[0];if(!cardElement)return;const card=await this.fromHTMLCardElement(cardElement);return card.message=message,card}static async fromHTMLCardElement(card){const cardData=JSON.parse(unescape(card.dataset.object));return await this.fromData(cardData)}static async fromData(data){const card=Object.assign(new this,data);for(let index=0;index<card.rolls.length;index++)"Object"===card.rolls[index]?.constructor?.name&&(card.rolls[index]=Object.assign(new CoC7Check,card.rolls[index]),card.rolls[index].rolled&&(card.rolls[index]._htmlRoll=await card.rolls[index].getHtmlRoll()));return card}static async _onToggle(event){event.preventDefault();const span=event.currentTarget;if(span&&span.classList.contains("gm-select-only")&&!game.user.isGM)return;const message=span.closest(".chat-message"),card=await this.fromMessageId(message.dataset.messageId);if(!card)return;const flag=span.dataset.flag;if(!flag)return;const toggle=span.closest(".toggle");if(toggle){const buttons=toggle.querySelectorAll(".toggle-switch");for(const b of buttons)card.unsetFlag(b.dataset.flag);card.setFlag(flag)}else card.toggleFlag(flag);card.updateChatCard()}static async dispatch(data){if(game.user.isGM){let card,messages=ui.chat.collection.filter((message=>this.defaultConfig.type===message.getFlag("CoC7","type")&&"resolved"!==message.getFlag("CoC7","state")&&(!["combinedCard"].includes(this.defaultConfig.type)||message.getFlag("CoC7","initiator")===data.roll.initiator)));if(messages.length){const timestamp=new Date(messages[0].timestamp);86400<(new Date-timestamp)/1e3&&(await messages[0].setFlag("CoC7","state","resolved"),messages=[])}card=messages.length?await this.fromMessage(messages[0]):new this,void 0!==data._rollMode&&(card._rollMode=data._rollMode),await card.process(data)}else game.socket.emit("system.CoC7",data)}async toMessage(){const html=await renderTemplate(this.config.template,this),htmlCardElement=$(html);htmlCardElement[0].dataset.object=escape(this.dataString);const chatData={user:game.user.id,flavor:game.i18n.localize(this.config.title),content:htmlCardElement[0].outerHTML,flags:{CoC7:{type:this.config.type,state:"initiated",initiator:this.initiator}}};["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0);return await ChatMessage.create(chatData)}async updateChatCard(){if(await this.compute(),this.messageId){const html=await renderTemplate(this.config.template,this),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(this.dataString);const chatMessage=game.messages.get(this.messageId);this.closed&&await chatMessage.setFlag("CoC7","state","resolved");const msg=await chatMessage.update({content:htmlCardElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}await this.toMessage()}updateRoll(data){data.fromGM||Object.assign(this.rolls[data.rank],data.roll)}addRollData(data){const check=Object.assign(new CoC7Check,data.roll);this.rolls.push(check),"combinedCard"===this.config.type&&(this.initiator=data.roll.initiator)}addRoll(data){this.rolls.push(data)}removeRoll(rank){this.rolls.splice(rank,1)}setFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!0)}unsetFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!1)}toggleFlag(flagName){this[flagName]=!this[flagName]}get message(){return this._message?this._message:this._messageId?game.messages.get(this._messageId):void 0}set message(x){this._message=x}get messageId(){return this._messageId?this._messageId:this._message?this._message.id:void 0}set messageId(x){this._messageId=x}static get defaultConfig(){return{exclude:["_actor","_skill","_item","_message","_htmlRoll"],excludeStartWith:"__"}}get winners(){return this.rolls.filter((r=>r.winner))}get winner(){if(this.winners.length)return this.winners[0]}get loosers(){return this.rolls.filter((r=>!r.winner))}get looser(){if(this.loosers.length)return this.loosers[0]}get hasWinner(){return this.winners.length>0}get isKeeper(){return game.user.isGM}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}get data(){return JSON.parse(this.dataString)}get dataString(){return JSON.stringify(this,((key,value)=>{if(null!==value&&!this.config.exclude?.includes(key)&&!key.startsWith(this.config.excludeStartWith))return value}))}}class CombinedCheckCard extends RollCard{static async bindListerners(html){html.on("click",".roll-card.combined .toggle-switch",this._onToggle.bind(this)),html.on("click",".roll-card.combined a",CombinedCheckCard._onClick.bind(this)),html.on("click",".roll-card.combined button",CombinedCheckCard._onClick.bind(this))}static get defaultConfig(){return mergeObject(super.defaultConfig,{template:"systems/CoC7/templates/chat/cards/combined-roll.html",type:"combinedCard",title:"CoC7.CombinedRollCard"})}get config(){return CombinedCheckCard.defaultConfig}get successCount(){if(this.rolled){let count=0;for(const r of this.rolls)r.passed&&(count+=1);return count}}get mainActorKey(){return this.rolls[0]?.actor?.actorKey||void 0}get success(){if(void 0!==this.successCount)return this.any?this.successCount>0:this.all?this.successCount===this.rolls.length:void 0}get failure(){if(void 0!==this.success)return!this.success}get checkGMInitiator(){return game.users.get(this.initiator)?.isGM}async getHtmlRoll(){if(!this.rolled)return;const check=new CoC7Check;return await check._perform({roll:this._roll[check.diceModifier||0],silent:!0}),await check.getHtmlRoll({hideSuccess:!0})}process(data){switch(data.action){case"new":case"roll":this.addRollData(data);break;case"updateRoll":this.updateRoll(data);break;case"assignRoll":this.assignRoll(data)}game.user.isGM?this.updateChatCard():game.socket.emit("system.CoC7",data)}async assignRoll(data){game.user.isGM&&(this.rolled||(this.rolled=!0,this._roll=data.roll))}static async _onClick(event){event.preventDefault();const a=event.currentTarget,action=a.dataset.action,li=a.closest("li.actor-roll"),message=a.closest(".chat-message"),cardElement=a.closest("div.roll-card"),card=await CombinedCheckCard.fromHTMLCardElement(cardElement);card.messageId=message.dataset.messageId;const rank=Number(li?.dataset?.rank);switch(action){case"remove-roll":card.removeRoll(rank),await card.updateChatCard();break;case"close-card":card.closeCard(),await card.updateChatCard();break;case"roll-card":{const pool={};for(const dice of card.rolls){const diceModifier=parseInt(dice.diceModifier,10);isNaN(diceModifier)||(pool[diceModifier]=!1)}const roll=await CoC7Dice.combinedRoll({pool});roll.initiator=game.user.id;const data={type:this.defaultConfig.type,action:"assignRoll",fromGM:game.user.isGM,roll};AudioHelper.play({src:CONFIG.sounds.dice},!0),card.process(data);break}default:{const options={update:!1,data:a.dataset,classes:a.classList,target:a};await CoC7Check.alter(card.rolls[rank],action,options);const data={type:this.defaultConfig.type,action:"updateRoll",rank,fromGM:game.user.isGM,roll:{initiator:game.user.id}};game.user.isGM||(data.roll=card.rolls[rank].JSONRollData),card.process(data);break}}}async compute(){if(this._roll){this.rolls=this.rolls.filter((roll=>void 0!==roll.actor.data));for(const r of this.rolls)r.rolled||(r.modifier=r.diceModifier||0,r.difficulty=r.difficulty||CoC7Check.difficultyLevel.regular,r.flatDiceModifier=r.flatDiceModifier||0,r.flatThresholdModifier=r.flatThresholdModifier||0,await r._perform({roll:this._roll[r.modifier],silent:!0}));for(let i=0;i<this.rolls.length;i++)this.rolls[i].rolled&&(this.rolls[i]._htmlRoll=await this.rolls[i].getHtmlRoll({hideDiceResult:!0}));this._htmlRoll=await this.getHtmlRoll()}}closeCard(){this.closed=!0}}class InteractiveChatCard{constructor(options={}){this._options=options}get options(){return mergeObject(this.constructor.defaultOptions,this._options)}get template(){return this.options.template}get cssClasses(){return this.options.classes}async toMessage(optionnalChatData={}){const html=await renderTemplate(this.template,this),htmlCardElement=$(html)[0];htmlCardElement.dataset.object=escape(this.dataString),htmlCardElement.dataset.cardClass=this.constructor.name,htmlCardElement.classList.add(...this.cssClasses);const chatData=mergeObject({user:game.user.id,flavor:game.i18n.localize(this.options.title),content:htmlCardElement.outerHTML},optionnalChatData);["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}async updateChatCard(options={}){if(options.compute&&this.compute(),this.messageId){const html=await renderTemplate(this.template,this),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(this.dataString),htmlCardElement.dataset.cardClass=this.constructor.name,htmlCardElement.classList.add(...this.cssClasses);const chatMessage=game.messages.get(this.messageId);this.closed&&await chatMessage.setFlag("CoC7","state","resolved");const msg=await chatMessage.update({content:htmlCardElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}this.toMessage()}activateListeners(html){html.on("click",".interactive-card .ic-radio-switch",this._onToggle.bind(this)),html.on("click",".interactive-card .ic-switch",this._onToggle.bind(this)),html.on("click",".interactive-card .submit",this._onSubmit.bind(this)),html.on("focusout","input",this._onSubmit.bind(this)),html.on("click",".interactive-card button",this._onButton.bind(this)),html.on("keydown","form",this._onKey.bind(this))}static async bindListeners(html){const htmlCardElement=html[0].querySelector(".chat-card");if(!htmlCardElement)return;if(!htmlCardElement.dataset.cardClass)return;if(!Object.getOwnPropertyNames(game.CoC7.cards).includes(htmlCardElement.dataset.cardClass))return;const card=await InteractiveChatCard.fromHTMLCardElement(htmlCardElement),typedCard=Object.assign(new game.CoC7.cards[htmlCardElement.dataset.cardClass],card);typedCard.assignObject(),typedCard.activateListeners(html)}assignObject(){}_onButton(event){const action=event.currentTarget.dataset.action;this[action]&&this[action]({event,update:!0})}_onKey(event){return"Enter"===event.key&&this._onSubmit(event),"Enter"!==event.key}_onSubmit(event){event.preventDefault();const card=event.currentTarget.closest(".interactive-card");if(!card)return;this._update(card)&&this.updateChatCard()}_update(card){const forms=card.querySelectorAll("form");let updates=!1;for(let i=0;i<forms.length;i++){const form=forms[i];let data=new FormDataExtended(form).toObject();data=diffObject(this,expandObject(data));for(const[key,value]of Object.entries(data))this[key]=value,updates=!0}return updates}get message(){return this._message?this._message:this._messageId?game.messages.get(this._messageId):void 0}set message(x){this._message=x}get messageId(){return this._messageId?this._messageId:this._message?this._message.id:void 0}set messageId(x){this._messageId=x}static get defaultOptions(){return{classes:["interactive-card"],exclude:["_actor","_skill","_item","_message","_htmlRoll"],excludeStartWith:"__"}}get data(){return JSON.parse(this.dataString)}get dataString(){return JSON.stringify(this,((key,value)=>{if(null!==value&&!this.options.exclude?.includes(key)&&!key.startsWith(this.options.excludeStartWith))return value}))}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}static async fromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return;const card=await this.fromMessage(message);return card.messageId=messageId,card}static async fromMessage(message){const cardElement=$(message.content)[0];if(!cardElement)return;const card=await this.fromHTMLCardElement(cardElement);return card.message=message,card}static async fromHTMLCardElement(card){const cardData=JSON.parse(unescape(card.dataset.object));if(!cardData.messageId){const message=card.closest(".message");cardData.messageId=message?.dataset?.messageId}return await this.fromData(cardData)}static async fromData(data){const card=Object.assign(new this,data);return await card.assignObject(),card}setFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!0)}unsetFlag(flagName){(flagName||"string"===$.type(flagName))&&(this[flagName]=!1)}toggleFlag(flagName){this[flagName]=!this[flagName]}async _onToggle(event){event.preventDefault();const target=event.currentTarget;if("action"in target.dataset)return this._onButton(event);if(target&&target.classList.contains("gm-select-only")&&!game.user.isGM)return;const flag=target.dataset.flag;if(!flag)return;const toggle=target.closest(".ic-radio");if(toggle){const buttons=toggle.querySelectorAll(".ic-radio-switch");for(const b of buttons)this.unsetFlag(b.dataset.flag);this.setFlag(flag)}else this.toggleFlag(flag);const card=target.closest(".interactive-card");card&&this._update(card),this.updateChatCard()}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get isBlind(){return this.rollMode?(void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind):null}set isBlind(x){this._isBlind=x}get actor(){return this.actorKey?chatHelper.getActorFromKey(this.actorKey):null}get token(){return this.actor?chatHelper.getTokenFromKey(this.actorKey):null}get item(){return this.itemId?this.actor.items.get(this.itemId):null}get weapon(){return this.item}get targetedTokens(){return[...game.user.targets]}get target(){return this.targetToken?this.targetToken:this.targetActor}get isTargetOwner(){return this.target.isOwner}get isKeeper(){return game.user.isGM}get targetToken(){return this._targetToken||(this._targetKey?this._targetToken=chatHelper.getTokenFromKey(this._targetKey):(this._targetToken=this.targetedTokens.pop(),this._targetToken?this._targetKey=`${this._targetToken.scene.id}.${this._targetToken.id}`:this._targetToken=null)),this._targetToken}get targetActor(){return this._targetActor||(this.targetToken?this._targetActor=this.targetToken.actor||this.targetToken.data.actor||this.targetToken.data.document:this._targetActor=chatHelper.getActorFromKey(this._targetKey)),this._targetActor}get targetKey(){return this.targetToken||this.targetActor?this._targetKey:null}get hasTarget(){return!(!this.targetToken&&!this.targetActor)}set targetKey(x){this._targetKey=x}get skills(){return this.actor.getWeaponSkills(this.itemId)}get targetImg(){const img=chatHelper.getActorImgFromKey(this.targetKey);return img||"../icons/svg/mystery-man-black.svg"}get name(){return this.token?this.token.name:this.actor.name}get targetName(){return this.target?this.target.name:"dummy"}get actorImg(){const img=chatHelper.getActorImgFromKey(this.actorKey);return img||"../icons/svg/mystery-man-black.svg"}}class DamageCard extends InteractiveChatCard{static get defaultOptions(){return mergeObject(super.defaultOptions,{exclude:["_targetToken","_targetActor","_htmlRoll","_htmlInlineRoll"].concat(super.defaultOptions.exclude),template:"systems/CoC7/templates/chat/cards/damage.html"})}async assignObject(){this.damageRoll&&"Object"===this.damageRoll.constructor.name&&(this.damageRoll=Roll.fromData(this.damageRoll))}_onButton(event){super._onButton(event)}get critical(){return this.options.critical}set critical(x){this._options.critical=x}get impale(){return void 0===this._impale?this.weapon.impale:this._impale}set impale(x){this._impale=x}get isDamageFormula(){return"string"==typeof this.damageFormula&&(!!isNaN(Number(this.damageFormula))&&Roll.validate(this.damageFormula))}get isDamageNumber(){return!isNaN(Number(this.damageFormula))}get isArmorForula(){return"string"==typeof this.armor&&(!!isNaN(Number(this.armor))&&Roll.validate(this.armor))}get totalDamageString(){let damage=Number(this.isDamageNumber?this.damageFormula:this.roll.total);return!this.ignoreArmor&&((isNaN(Number(this.armor))||Number(this.armor)>0)&&(damage-=Number(this.armor)),!isNaN(Number(this.armor))&&damage<=0)?game.i18n.localize("CoC7.ArmorAbsorbsDamage"):damage}get noDamage(){if(this.rolled){const damage=this.isDamageNumber?this.damageFormula:this.roll.total;return this.ignoreArmor?!!(damage<=0):!isNaN(Number(this.armor))&&!!(damage-Number(this.armor)<=0)}return!1}async updateChatCard(){if(!this.options.fastForward||this.roll||this.isDamageNumber||await this.rollDamage({update:!1}),this.isDamageNumber||this.roll&&null!=this.roll.total||this.hardrolled?this.rolled=!0:this.rolled=!1,!this.options.fastForward||this.damageInflicted||this.noDamage||await this.dealDamage({update:!1}),this.rolled&&this.roll){"Object"===this.roll.constructor.name&&(this.roll=Roll.fromData(this.roll));const a=createInlineRoll(this.roll);this._htmlInlineRoll=a.outerHTML,this._htmlRoll=await this.roll.render()}await super.updateChatCard()}async rollDamage(options={update:!0}){this.roll=await new Roll(this.damageFormula||"0").evaluate({async:!0}),await CoC7Dice.showRollDice3d(this.roll),this.hardrolled=!0,options.update=void 0===options.update||options.update,options.update&&this.updateChatCard()}async rollArmor(options={update:!0}){const roll=await new Roll(this.armor).evaluate({async:!0});this.armor=roll.total,options.update=void 0===options.update||options.update,options.update&&this.updateChatCard()}async dealDamageToSelectedTarget(options={update:!0}){if(this.isArmorForula&&await this.rollArmor(),isNaN(Number(this.totalDamageString)))return void ui.notifications.error(game.i18n.localize("CoC7.ErrorEvaluatingDamage"));const targets=[],targetName=[],selectedPlayers=canvas.tokens.controlled.map((token=>token.actor));for(let index=0;index<selectedPlayers.length;index++)this.actor.id!==selectedPlayers[index].id&&(targetName.push(selectedPlayers[index].name),targets.push(selectedPlayers[index]));const data={title:" ",content:game.i18n.format("CoC7.DealDamage",{damage:this.totalDamageString,target:targetName}),buttons:{one:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Proceed"),callback:()=>{this.confirmDamage(targets)}},two:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("CoC7.Cancel"),callback:()=>{}}},default:"two"};targetName.length>0&&new Dialog(data).render(!0)}async confirmDamage(targets){for(let index=0;index<targets.length;index++)await targets[index].dealDamage(Number(this.totalDamageString),{ignoreArmor:!1}),ChatMessage.create({content:game.i18n.format("CoC7.DamageDealTo",{name:targets[index].name,damage:this.totalDamageString})})}async dealDamage(options={update:!0}){this.isArmorForula&&await this.rollArmor();let damage=this.totalDamageString;if(isNaN(Number(damage))){if(game.i18n.localize("CoC7.ArmorAbsorbsDamage")!==damage)return void ui.notifications.error("Error evaluating damage");damage=0}this.targetActor&&await this.targetActor.dealDamage(Number(damage),{ignoreArmor:!0}),this.damageInflicted=!0,options.update=void 0===options.update||options.update,options.update&&this.updateChatCard()}get range(){return this.options.range||"normal"}set range(x){["normal","long","extreme"].inclues(x.toLowerCase())&&(this._options.range=x)}get damageFormula(){const range=this.range;let formula=this.weapon?.system?.range[range]?.damage,db=this.actor.db;if(db=(""===(db??"").toString().trim()?0:db).toString().trim(),db.startsWith("-")||(db="+"+db),this.weapon.system.properties.addb&&(formula+=db),this.weapon.system.properties.ahdb&&(formula=formula+"+ floor("+db+"/2)"),formula){const maxDamage=new Roll(formula).evaluate({maximize:!0}).total;let rollString;return this.critical?this.impale?(rollString=formula+"+"+maxDamage,rollString):maxDamage:formula}}get armor(){return void 0!==this._armor&&""!==this._armor?this._armor:this.target?this.targetActor.system.attribs.armor.value:0}set armor(x){this._armor=x}}class OpposedCheckCard extends RollCard{static async bindListerners(html){html.on("click",".roll-card.opposed .toggle-switch",this._onToggle.bind(this)),html.on("click",".roll-card.opposed a",OpposedCheckCard._onClick.bind(this)),html.on("click",".roll-card.opposed button",OpposedCheckCard._onClick.bind(this))}static get defaultConfig(){return mergeObject(super.defaultConfig,{template:"systems/CoC7/templates/chat/cards/opposed-roll.html",type:"opposedCard"})}get config(){return OpposedCheckCard.defaultConfig}get attackerRoll(){if(this.combat){if(this.rolls?.length){const attacker=this.rolls.filter((r=>0===r.index||r.attacker));if(attacker.length)return attacker[0]}}else;}get defenderRoll(){if(this.combat){if(this.rolls?.length){const defender=this.rolls.filter((r=>0!==r.index||!r.attacker));if(defender.length)return defender[0]}}else;}get defenderIsDodging(){return!(!this.defenderRoll?.actor?.dodgeSkill?.name||!this.defenderRoll?.skill?.name)&&this.defenderRoll.actor.dodgeSkill.name.toLowerCase()===this.defenderRoll.skill.name.toLowerCase()}get advantageAttacker(){return void 0===this._aa?!!this.defenderRoll&&!this.defenderIsDodging:this._aa}get winnerRollsDamage(){return!!(this.combat&&this.rolls.length>=2&&this.hasWinner&&"weapon"===this.winner?.item?.type)}set advantageAttacker(x){this._aa=!0,this._ad=!1}get advantageDefender(){return void 0===this._ad?this.defenderIsDodging:this._ad}set advantageDefender(x){this._ad=!0,this._aa=!1}get isTie(){return this.winnerCount>1}get needsTieBreaker(){return!!this.combat&&!(!this.attackerRoll||!this.defenderRoll||this.attackerRoll.successLevel!==this.defenderRoll.successLevel)}get winnerCount(){let count=0;for(const r of this.rolls)r.winner&&(count+=1);return count}get isAttackManeuver(){return!(!this.combat||!this.attackerRoll||this.attackerRoll?.item&&!this.attackerRoll?.item.system.properties?.mnvr)}get resultText(){if(this.combat&&this.attackerRoll&&this.defenderRoll){if(!this.attackerRoll.winner&&!this.defenderRoll.winner)return game.i18n.localize("CoC7.NoWinner");if(this.attackerRoll.winner)return this.attackerRoll.maneuver?game.i18n.format("CoC7.ManeuverSuccess",{name:this.attackerRoll.actor.name}):game.i18n.format("CoC7.AttackSuccess",{name:this.attackerRoll.actor.name});if(this.defenderRoll.winner)return this.defenderRoll.maneuver?game.i18n.format("CoC7.ManeuverSuccess",{name:this.defenderRoll.actor.name}):this.defenderIsDodging?game.i18n.format("CoC7.DodgeSuccess",{name:this.defenderRoll.actor.name}):game.i18n.format("CoC7.AttackSuccess",{name:this.defenderRoll.actor.name})}}async process(data){switch(data.action){case"new":this.rolls?.length||(this.combat=data.combat||void 0,this.combat&&(data.roll.attacker=!0)),data.roll.index=this.rolls.length,this.addRollData(data);break;case"roll":this.addRollData(data);break;case"updateRoll":this.updateRoll(data)}game.user.isGM?await this.updateChatCard():game.socket.emit("system.CoC7",data)}async roll(rank){await this.rolls[rank]._perform();const data={type:this.config.type,action:"updateRoll",rank,fromGM:game.user.isGM};return game.user.isGM||(data.roll=this.rolls[rank].JSONRollData),data}static async _onClick(event){event.preventDefault();const a=event.currentTarget,action=a.dataset.action,li=a.closest("li.actor-roll"),message=a.closest(".chat-message"),cardElement=a.closest("div.roll-card"),card=await OpposedCheckCard.fromHTMLCardElement(cardElement);card.messageId=message.dataset.messageId;const rank=Number(li?.dataset?.rank);switch(action){case"toggle-combat":card.combat=!card.combat,await card.updateChatCard();break;case"remove-roll":card.removeRoll(rank),await card.updateChatCard();break;case"close-card":card.closeCard(),await card.updateChatCard();break;case"roll-check":{const speaker=ChatMessage.getSpeaker();card.rolls[rank].actorKey||(card.rolls[rank].actorKey=`${speaker.scene}.${speaker.token}`);const data=await card.roll(rank);await card.process(data);break}case"roll-damage":{card.closeCard(),await card.updateChatCard();const damageChatCard=new DamageCard({critical:card.winner.isExtremeSuccess,fastForward:event.shiftKey});damageChatCard.actorKey=card.winner.actor.actorKey,damageChatCard.targetKey=card.looser.actor.actorKey,damageChatCard.itemId=card.winner.itemId,damageChatCard.updateChatCard();break}default:{const options={update:!1,data:a.dataset,classes:a.classList,target:a};await CoC7Check.alter(card.rolls[rank],action,options);const data={type:this.defaultConfig.type,action:"updateRoll",rank,fromGM:game.user.isGM};game.user.isGM||(data.roll=card.rolls[rank].JSONRollData),card.process(data);break}}}async compute(rank=void 0){if(this.rolls=this.rolls.filter((roll=>void 0!==roll.actor.actorKey)),rank)this.rolls[rank].rolled&&(this.rolls[rank]._htmlRoll=await this.rolls[rank].getHtmlRoll({hideDiceResult:!0}));else for(let i=0;i<this.rolls.length;i++)delete this.rolls[i].maneuver,this.combat&&(!this.rolls[i].item||this.rolls[i].item.system.properties?.mnvr)&&(this.rolls[i]?.actor?.dodgeSkill?.name&&this.rolls[i]?.skill?.name&&this.rolls[i].actor.dodgeSkill.name.toLowerCase()!==this.rolls[i].skill.name.toLowerCase()||!this.rolls[i]?.actor?.dodgeSkill?.name)&&(this.rolls[i].maneuver=!0),this.rolls[i].rolled&&(this.rolls[i]._htmlRoll=await this.rolls[i].getHtmlRoll({hideDiceResult:!0}));if(this.combat){if(this.rolls.sort(((a,b)=>a.index>b.index?1:a.index<b.index?-1:0)),this.rolls.length>1){this.rolls=[this.rolls[0],this.rolls[1]];for(const r of this.rolls)delete r.winner,delete r.tie}this.rolls[0]&&(this.rolls[0].attacker=!0),this.rolls[0]?.rolled&&this.rolls[1]?.rolled&&(this.rolls[0].passed||this.rolls[1].passed)&&(this.rolls[0].successLevel>this.rolls[1].successLevel?this.rolls[0].winner=!0:this.rolls[1].successLevel>this.rolls[0].successLevel?this.rolls[1].winner=!0:this.advantageAttacker?this.rolls[0].winner=!0:this.rolls[1].winner=!0)}else{if(this.rolls.sort(((a,b)=>{if(a.rolled&&!b.rolled)return-1;if(!a.rolled&&b.rolled)return 1;if(!a.rolled&&!b.rolled)return 0;if(a.successLevel>b.successLevel)return this.resolved=!0,-1;if(a.successLevel<b.successLevel)return this.resolved=!0,1;if(game.settings.get("CoC7","opposedRollTieBreaker")){if(a.modifiedResult>b.modifiedResult)return this.resolved=!0,-1;if(a.modifiedResult<b.modifiedResult)return this.resolved=!0,1}else{if(a.rawValue>b.rawValue)return this.resolved=!0,-1;if(a.rawValue<b.rawValue)return this.resolved=!0,1}return 0})),this.winCount=0,this.rolls[0]&&this.rolls[0].rolled&&!this.rolls[0].failed){this.winCount=1;for(let i=1;i<this.rolls.length;i++)this.rolls[i]&&this.rolls[i].rolled&&this.rolls[0].successLevel===this.rolls[i].successLevel&&(game.settings.get("CoC7","opposedRollTieBreaker")?this.rolls[0].modifiedResult===this.rolls[i].modifiedResult:this.rolls[0].rawValue===this.rolls[i].rawValue)&&(this.winCount=this.winCount+1)}for(let i=0;i<this.rolls.length;i++)this.rolls[i].winner=i<this.winCount,this.rolls[i].tie=this.rolls[i].winner&&this.winCount>1}}closeCard(){this.closed=!0}}class ChatCardActor{constructor(actorKey=null,fastForward=!1){this.actorKey=actorKey,this.fastForward=fastForward}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get isBlind(){return this.rollMode?(void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind):null}set isBlind(x){this._isBlind=x}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){this._rollMode=x}get actor(){return this.actorKey?chatHelper.getActorFromKey(this.actorKey):null}get token(){return this.actor?chatHelper.getTokenFromKey(this.actorKey):null}get item(){return this.itemId?this.actor.items.get(this.itemId):null}get weapon(){return this.item}get targetedTokens(){return[...game.user.targets]}get target(){return this.targetToken?this.targetToken:this.targetActor}get targetToken(){return this._targetToken||(this._targetKey?this._targetToken=chatHelper.getTokenFromKey(this._targetKey):(this._targetToken=this.targetedTokens.pop(),this._targetToken?this._targetKey=`${this._targetToken.scene.id}.${this._targetToken.id}`:this._targetToken=null)),this._targetToken}get targetActor(){return this._targetActor||(this.targetToken?this._targetActor=this.targetToken.actor:this._targetActor=chatHelper.getActorFromKey(this._targetKey)),this._targetActor}get targetKey(){return this.targetToken||this.targetActor?this._targetKey:null}get hasTarget(){return!(!this.targetToken&&!this.targetActor)}set targetKey(x){this._targetKey=x}get skills(){return this.actor.getWeaponSkills(this.itemId)}get targetImg(){const img=chatHelper.getActorImgFromKey(this.targetKey);return img||"../icons/svg/mystery-man-black.svg"}get name(){return this.token?this.token.name:this.actor.name}get targetName(){return this.target?this.target.name:"dummy"}get actorImg(){const img=chatHelper.getActorImgFromKey(this.actorKey);return img||"../icons/svg/mystery-man-black.svg"}async say(message,flavor=null){const speakerData={};let speaker;this.actor?(speakerData.actor=this.actor,this.token&&(speakerData.token=this.token.document),speaker=ChatMessage.getSpeaker(speakerData)):speaker=ChatMessage.getSpeaker();const chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,flavor,content:message};["gmroll","blindroll"].includes(game.settings.get("core","rollMode"))&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}}function replacer(key,value){if(key.startsWith("__"))return;if(["_actor"].includes(key))return;return["sanCheck","intCheck"].includes(key)?value.JSONRollData:value}class SanCheckCard extends ChatCardActor{constructor(actorKey=null,sanData={},options={}){super(actorKey,void 0!==options.fastForward&&Boolean(options.fastForward)),sanData.sanReason=sanData.sanReason??"",this.sanData=sanData,this.options=options,sanData.modifier&&!isNaN(Number(sanData.modifier))&&(this.options.sanModifier=Number(sanData.modifier)),sanData.difficulty&&!isNaN(Number(sanData.difficulty))&&(this.options.sanDifficulty=Number(sanData.difficulty)),this.state={}}get isBlind(){return void 0!==this.options.isBlind?Boolean(this.options.isBlind):super.isBlind}get difficulty(){return void 0!==this.options.difficulty?this.options.difficulty:CoC7Check.difficultyLevel.regular}get modifier(){return void 0!==this.options.modifier?this.options.modifier:0}get sanLossSource(){return this.sanData.tokenKey?chatHelper.getActorFromKey(this.sanData.tokenKey):null}get involuntaryAction(){return!(!this.state.sanRolled||!this.sanCheck.isFailure&&!this.sanCheck.isFumble)}get sanLossFormula(){return this.state.sanRolled?this.sanData.sanMax&&this.sanCheck.failed?isNaN(Number(this.sanData.sanMax))?this.sanData.sanMax:Number(this.sanData.sanMax):this.sanData.sanMin&&this.sanCheck.passed?isNaN(Number(this.sanData.sanMin))?this.sanData.sanMin:Number(this.sanData.sanMin):0:null}get sanLostToReason(){return this.actor.sanLostToReason(this.sanData.sanReason)}get maxPossibleSanLoss(){return this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax)}get maxSanLoss(){return new Roll(this.sanData.sanMax.toString()).evaluate({maximize:!0}).total}get sanLossReasonEncountered(){return this.actor.sanLossReasonEncountered(this.sanData.sanReason)}get firstEncounter(){return!this.actor.mythosInsanityExperienced}get isActorLoosingSan(){return!this.actor.hasTempoInsane&&(0!==this.sanLossFormula&&(!this.sanData.sanReason||0!==this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax)||(this.state.immuneToCreature=!0,!1)))}get boutDurationText(){if(this.boutDuration){if(this.boutRealTime)return`${this.boutDuration} ${game.i18n.localize("CoC7.rounds")}`;if(this.boutSummary)return`${this.boutDuration} ${game.i18n.localize("CoC7.hours")}`}return null}get youGainCthulhuMythosString(){return this.mythosGain?game.i18n.format("CoC7.YouGainedCthulhuMythos",{value:this.mythosGain}):null}async advanceState(state){switch(state){case"keepCreatureSanData":this.state.keepCreatureSanData=!0;break;case"involuntaryActionPerformed":this.state[state]=!0,this.isActorLoosingSan||(this.state.finish=!0);break;case"sanLossApplied":await this.applySanLoss();break;case"enterBoutOfMadnessRealTime":this.boutDuration=(await new Roll("1D10").roll({async:!0})).total,this.boutRealTime=!0,this.boutSummary=!1,this.boutResult=await this.actor.enterBoutOfMadness(!0,this.boutDuration),this.state.boutOfMadnessResolved=!0,this.state.boutOfMadnessOver=!1;break;case"enterBoutOfMadnessSummary":this.boutDuration=(await new Roll("1D10").roll({async:!0})).total,this.boutRealTime=!1,this.boutSummary=!0,this.boutResult=await this.actor.enterBoutOfMadness(!1,this.boutDuration),this.state.boutOfMadnessResolved=!0,await this.triggerInsanity();break;case"boutOfMadnessOver":await this.actor.unsetCondition(COC7.status.tempoInsane),await this.triggerInsanity();break;case"noMythosGained":this.state.cthulhuMythosAwarded=!0,this.mythosGain=0;break;case"cthulhuMythosAwarded":{let amountGained=1;this.actor.mythosInsanityExperienced||(amountGained=5,await this.actor.experienceFirstMythosInsanity()),this.state.cthulhuMythosAwarded=!0;const cthulhuMythosSkill=this.actor.cthulhuMythosSkill,oldValue=cthulhuMythosSkill.data.data.adjustments.experience||0;cthulhuMythosSkill&&await cthulhuMythosSkill.update({"data.adjustments.experience":oldValue+amountGained}),this.mythosGain=amountGained;break}}}async bypassRollSan(){this.isBypassed=!0,this.sanCheck=new CoC7Check,this.sanCheck.actor=this.actorKey,this.sanCheck.attribute="san",this.sanCheck.difficulty=this.options.sanDifficulty||CoC7Check.difficultyLevel.regular,this.sanCheck.diceModifier=this.options.sanModifier||0,await this.sanCheck._perform({forceDSN:!0}),this.state.sanRolled=!0,this.state.involuntaryActionPerformed=this.sanCheck.passed,this.state.sanLossRolled=!0,this.state.ignoreSanCheck=!0,this.sanLoss=this.sanLossFormula}async rollSan(){if(this.sanCheck=new CoC7Check,this.sanCheck.actor=this.actorKey,this.sanCheck.attribute="san",this.sanCheck.difficulty=this.options.sanDifficulty||CoC7Check.difficultyLevel.regular,this.sanCheck.diceModifier=this.options.sanModifier||0,await this.sanCheck._perform({forceDSN:!0}),this.state.sanRolled=!0,this.state.involuntaryActionPerformed=this.sanCheck.passed,this.isActorLoosingSan){if("number"==typeof this.sanLossFormula)this.state.sanLossRolled=!0,this.sanData.sanReason?(this.sanLoss=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanLossFormula),this.sanLoss<this.sanLossFormula&&(this.state.limitedLossToCreature=!0)):this.sanLoss=this.sanLossFormula;else if(this.sanCheck.isFumble)this.state.sanLossRolled=!0,this.sanLoss=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax);else if(this.sanData.sanReason){const min=new Roll(this.sanLossFormula).evaluate({minimize:!0}).total,max=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax);min>=max&&(this.state.sanLossRolled=!0,this.sanLoss=max,this.state.limitedLossToCreature=!0)}}else this.state.finish=!0,this.actor.hasTempoInsane&&(this.state.immuneAlreadyInBout=!0,this.sanCheck.passed||(this.state.finish=!1)),this.state.sanLossRolled=!0,this.state.sanLossApplied=!0,this.state.intRolled=!0,this.state.insanity=!1,this.sanLoss=0}async rollSanLoss(){this.sanLossRoll=new Roll(`${this.sanLossFormula}`),await this.sanLossRoll.roll({async:!0}),await CoC7Dice.showRollDice3d(this.sanLossRoll);const max=this.actor.maxLossToSanReason(this.sanData.sanReason,this.sanData.sanMax);this.sanLossRoll.total>max&&(this.state.limitedLossToCreature=!0),this.sanLoss=Math.min(this.sanLossRoll.total,max),this.state.sanLossRolled=!0}async applySanLoss(){if(await this.actor.looseSan(this.sanData.sanReason,this.sanLoss),this.sanLoss>0&&(this.state.actorLostSan=!0),this.state.sanLossApplied=!0,this.actor.san<=0)return this.state.intRolled=!0,this.state.boutOfMadnessOver=!0,this.state.insanity=!0,this.state.permanentlyInsane=!0,void(this.state.finish=!0);this.sanLoss<5?(this.state.intRolled=!0,this.actor.hasIndefInsane?(this.state.insanity=!0,this.state.shaken=!0,this.state.insanityTableRolled=!1,this.state.finish=!1,this.state.intRolled=!0):(this.state.insanity=!1,this.state.shaken=!0,this.state.insanityTableRolled=!0,this.state.finish=!0)):this.state.intRolled=!1,this.actor.dailySanLoss>=this.actor.dailySanLimit&&(this.state.insanity=!0,this.state.intRolled=!0,this.state.temporaryInsane=!1,this.state.indefinitelyInsane=!0,this.state.insanityTableRolled=!1,this.state.memoryRepressed=!1,this.state.finish=!1)}async rollInt(){this.intCheck=new CoC7Check,this.intCheck.actor=this.actorKey,this.intCheck.characteristic="int",this.intCheck.difficulty=this.options.intDifficulty||CoC7Check.difficultyLevel.regular,this.intCheck.diceModifier=this.options.intModifier||0,await this.intCheck._perform({forceDSN:!0}),this.state.intRolled=!0,this.intCheck.passed||this.state.alreadyInsane?(this.state.insanity=!0,this.state.temporaryInsane=!0,this.state.indefinitelyInsane=!1,this.state.memoryRepressed=!1):(this.state.insanity=!1,this.state.temporaryInsane=!1,this.state.indefinitelyInsane=!1,this.state.memoryRepressed=!0,this.state.finish=!0)}async triggerInsanity(){this.state.boutOfMadnessOver=!0,this.state.indefinitelyInsane&&await this.actor.setCondition(COC7.status.indefInsane),this.state.finish=!0}async clearSanLossReason(){await this.actor.setReasonSanLoss(this.sanData.sanReason,0),this.sanLossReasonEncountered||(this.state.keepCreatureSanData=!0)}async updateChatCard(){if(this.state.sanRolled&&(this.__inlineSanCheck=this.sanCheck.inlineCheck.outerHTML),this.sanLossRoll){const a=createInlineRoll(this.sanLossRoll);this.__inlineSanLossRoll=a.outerHTML}this.state.intRolled&&this.intCheck&&(this.__inlineIntCheck=this.intCheck.inlineCheck.outerHTML);const html=await renderTemplate(SanCheckCard.template,this),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(JSON.stringify(this,replacer));const chatMessage=game.messages.get(this.messageId),msg=await chatMessage.update({content:htmlCardElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}static get template(){return"systems/CoC7/templates/chat/cards/san-check.html"}static checkTargets(sanData,fastForward=!1){const targets=[...game.user.targets];if(targets.length)for(const t of targets)t.actor.isToken?SanCheckCard.create(t.actor.tokenKey,sanData,{fastForward}):SanCheckCard.create(t.actor.id,sanData,{fastForward});else ui.notifications.warn(game.i18n.localize("CoC7.WarnNoTargetsSanCheck"))}static async create(...args){const chatCard=new SanCheckCard(...args);chatCard.actor.hasIndefInsane&&(chatCard.state.alreadyInsane=!0),chatCard.actor.san<=0&&(chatCard.state.intRolled=!0,chatCard.state.boutOfMadnessOver=!0,chatCard.state.insanity=!0,chatCard.state.permanentlyInsane=!0,chatCard.state.finish=!0);const html=await renderTemplate(SanCheckCard.template,chatCard),htmlCardElement=$.parseHTML(html)[0];htmlCardElement.dataset.object=escape(JSON.stringify(chatCard,replacer)),await chatCard.say(htmlCardElement.outerHTML)}static getFromMessageId(messageId){const message=game.messages.get(messageId),htmlCard=$.parseHTML(message.content)[0].querySelector(".chat-card");return SanCheckCard.getFromCard(htmlCard)}static getFromCard(card){const sanCheckCardData=JSON.parse(unescape(card.dataset.object)),sanCheckCard=new SanCheckCard;return Object.assign(sanCheckCard,sanCheckCardData),sanCheckCard.messageId||(sanCheckCard.messageId=card.closest(".message").dataset.messageId),"Object"===sanCheckCard.sanCheck?.constructor?.name&&(sanCheckCard.sanCheck=Object.assign(new CoC7Check,sanCheckCard.sanCheck)),"Object"===sanCheckCard.intCheck?.constructor?.name&&(sanCheckCard.intCheck=Object.assign(new CoC7Check,sanCheckCard.intCheck)),"Object"===sanCheckCard.sanLossRoll?.constructor?.name&&(sanCheckCard.sanLossRoll=Roll.fromData(sanCheckCard.sanLossRoll)),sanCheckCard}}class SanDataDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(":checkbox").click((()=>this._toggleInput(html)))}_toggleInput(html){html.find('*[name="customname"]').toggle()}static async create(options={}){const html=await renderTemplate("systems/CoC7/templates/apps/sandata.html",options);return new Promise((resolve=>{let formData=null;const dlg=new SanDataDialog({title:options.displayName?game.i18n.format("CoC7.SanDataSelectionWindowNamed",{name:options.displayName}):game.i18n.localize("CoC7.SanDataSelectionWindow"),content:html,buttons:{Validate:{label:game.i18n.localize("CoC7.Validate"),callback:html=>(formData=new FormData(html[0].querySelector("#san-data-form")),resolve(formData))}},default:"Validate",close:()=>{}});dlg.render(!0)}))}}class CoC7ChatMessage{static get ROLL_TYPE_ATTRIBUTE(){return"R/AT"}static get ROLL_TYPE_CHARACTERISTIC(){return"R/CH"}static get ROLL_TYPE_COMBAT(){return"R/CO"}static get ROLL_TYPE_SKILL(){return"R/SK"}static get ROLL_TYPE_ENCOUNTER(){return"R/EC"}static get CARD_TYPE_COMBINED(){return"C/CO"}static get CARD_TYPE_GROUP(){return"C/GR"}static get CARD_TYPE_NORMAL(){return"C/NO"}static get CARD_TYPE_OPPOSED(){return"C/OP"}static get CARD_TYPE_SAN_CHECK(){return"C/SC"}static get CARD_TYPE_NONE(){return"C/NO"}static cardTypes(config){if(config.rollType===CoC7ChatMessage.ROLL_TYPE_COMBAT)return null;const select={[CoC7ChatMessage.CARD_TYPE_NORMAL]:"CoC7.RegularRollCard",[CoC7ChatMessage.CARD_TYPE_COMBINED]:"CoC7.CombinedRollCard",[CoC7ChatMessage.CARD_TYPE_OPPOSED]:"CoC7.OpposedRollCard"};return config.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE&&"san"===config.attribute&&(select[CoC7ChatMessage.CARD_TYPE_SAN_CHECK]="CoC7.SanityLossEncounter"),select}static normalizeRequest(options){if(void 0!==options.event||void 0===options.cardType||void 0===options.actor||void 0===options.skillId&&void 0===options.skillName&&void 0===options.attribute&&void 0===options.characteristic&&options.rollType!==CoC7ChatMessage.ROLL_TYPE_ENCOUNTER){if(void 0===options.event||void 0===options.cardType||void 0===options.rollType)return ui.notifications.error(game.i18n.format("CoC7.ErrorNotFound",{value:game.i18n.localize("CoC7.Roll")})),!1}else if(void 0!==options.skillId)options.actor.items.get(options.skillId)&&(options.rollType=CoC7ChatMessage.ROLL_TYPE_SKILL);else if(void 0!==options.skillName){const skillIds=options.actor.getSkillsByName(options.skillName);skillIds.length>0&&(options.skillId=skillIds[0].id,options.rollType=CoC7ChatMessage.ROLL_TYPE_SKILL)}else void 0!==options.attribute&&["lck","san"].includes(options.attribute)?options.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE:void 0!==options.characteristic&&void 0!==options.actor.system.characteristics[options.characteristic]&&(options.rollType=CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC);if(![CoC7ChatMessage.CARD_TYPE_COMBINED,CoC7ChatMessage.CARD_TYPE_GROUP,CoC7ChatMessage.CARD_TYPE_NORMAL,CoC7ChatMessage.CARD_TYPE_OPPOSED,CoC7ChatMessage.CARD_TYPE_SAN_CHECK].includes(options.cardType))return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.ErrorInvalidCardType")})),!1;if(![CoC7ChatMessage.ROLL_TYPE_SKILL,CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,CoC7ChatMessage.ROLL_TYPE_ENCOUNTER].includes(options.rollType))return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.ErrorInvalidRollType")})),!1;const config={options:{cardType:options.cardType,shiftKey:options.fastForward??options.event?.shiftKey??options.fastForward??!1,altKey:options.event?.altKey??!1,isCtrlKey:isCtrlKey(options.event??!1),createEncounter:options.createEncounter??!1,openLinkTool:options.openLinkTool??!1,sendToChat:options.sendToChat??!1,sendToClipboard:options.sendToClipboard??!1,isCombat:options.event?.currentTarget.classList?.contains("combat")??!1,preventStandby:options.preventStandby??!1,bonusDice:0},dialogOptions:{rollType:options.rollType,cardType:options.cardType,attribute:"",chatMessage:options.chatMessage??!0,forcedCardType:options.forcedCardType??!1,hideDifficulty:options.hideDifficulty??!1}};switch(config.dialogOptions.rollType){case CoC7ChatMessage.ROLL_TYPE_SKILL:case CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC:case CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE:case CoC7ChatMessage.ROLL_TYPE_ENCOUNTER:if(config.options.skillId=options.skillId??options.event?.currentTarget.closest(".item")?.dataset.skillId,config.options.itemId=options.event?.currentTarget.closest(".item")?.dataset.itemId,config.options.characteristic=options.characteristic??options.event?.currentTarget.parentElement.dataset.characteristic,config.options.attribute=options.attribute??options.event?.currentTarget.parentElement.dataset.attrib,config.dialogOptions.attribute=config.options.attribute,config.options.actorId=options.event?.currentTarget.closest("form").dataset.actorId??options.actor.id,config.options.tokenKey=options.event?.currentTarget.closest("form").dataset.tokenId??options.actor.tokenKey,config.options.weaponAltSkill=options.event?.currentTarget.classList.contains("alternativ-skill"),config.options.actor=options.actor,config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL&&config.options.isCombat){const item=config.options.actor.items.get(config.options.itemId);if(!item)return!1;"weapon"===item.type&&(config.options.weaponName=item.name,config.dialogOptions.rollType=CoC7ChatMessage.ROLL_TYPE_COMBAT)}if(void 0===config.options.actorId||void 0===config.options.tokenKey&&void 0===config.options.actor)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.ErrorActor")})),!1;if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL&&void 0===config.options.skillId)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Entities.Skill")})),!1;if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC){if(void 0===config.options.characteristic)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Characteristic")})),!1;if(!game.user.isGM&&!config.options.actor.system.characteristics[config.options.characteristic]?.value)return!1}else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE){if(void 0===config.options.attribute)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Attribute")})),!1;if(!game.user.isGM&&!config.options.actor.system.attribs[config.options.attribute]?.value)return!1}else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_COMBAT){if(void 0===config.options.itemId)return ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:game.i18n.localize("CoC7.Entities.Weapon")})),!1;if(config.options.altKey)return!1}config.options.hasPlayerOwner=config.options.actor.hasPlayerOwner??!1,config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC?(config.dialogOptions.disableFlatThresholdModifier=config.options.isCtrlKey,config.dialogOptions.disableFlatDiceModifier=config.options.isCtrlKey):(config.dialogOptions.disableFlatThresholdModifier=!1,config.dialogOptions.disableFlatDiceModifier=!1),config.dialogOptions.modifier=0,config.dialogOptions.difficulty=options.difficulty??CoC7Check.difficultyLevel[game.settings.get("CoC7","defaultCheckDifficulty")],config.dialogOptions.flatDiceModifier=0,config.dialogOptions.flatThresholdModifier=0}return config}static async trigger(options={}){const config=CoC7ChatMessage.normalizeRequest(options);if(!1!==config)if(config.options.isCtrlKey&&game.user.isGM&&[CoC7ChatMessage.CARD_TYPE_NORMAL,CoC7ChatMessage.CARD_TYPE_SAN_CHECK].includes(config.dialogOptions.cardType))CoC7ChatMessage.createLink(config);else{if(!(config.options.sendToChat||config.options.sendToClipboard||config.options.openLinkTool||config.options.createEncounter)||!game.user.isGM||CoC7ChatMessage.CARD_TYPE_NONE!==config.dialogOptions.cardType){if(void 0!==config.options.actor){if(void 0!==config.options.attribute){const bonusDice=config.options.actor.system?.attribs?.[config.options.attribute]?.bonusDice;bonusDice&&(config.dialogOptions.modifier=bonusDice)}else if(void 0!==config.options.characteristic){const bonusDice=config.options.actor.system?.characteristics?.[config.options.characteristic]?.bonusDice;bonusDice&&(config.dialogOptions.modifier=bonusDice)}else if(void 0!==config.options.itemId){const itemModifiers=Object.values(config.options.actor.system.skills).find((k=>k.foundryID===config.options.itemId));void 0!==itemModifiers.bonusDice&&(config.dialogOptions.modifier=itemModifiers.bonusDice)}config.dialogOptions.modifier=Math.min(Math.max(config.dialogOptions.modifier,-2),2)}return config.options.shiftKey||await CoC7ChatMessage.createRoll(config),CoC7ChatMessage.runRoll(config)}CoC7ChatMessage.createLink(config)}}static createLink(config){switch(config.dialogOptions.rollType){case CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE:case CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC:case CoC7ChatMessage.ROLL_TYPE_COMBAT:case CoC7ChatMessage.ROLL_TYPE_SKILL:case CoC7ChatMessage.ROLL_TYPE_ENCOUNTER:{const linkData={type:"CoC7Link"};if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL){if(linkData.check=CoC7Link.CHECK_TYPE.CHECK,linkData.linkType=CoC7Link.LINK_TYPE.SKILL,linkData.name=config.options.actor.items.get(config.options.skillId)?.shortName,!linkData.name)return}else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC)linkData.check=CoC7Link.CHECK_TYPE.CHECK,linkData.linkType=CoC7Link.LINK_TYPE.CHARACTERISTIC,linkData.name=config.options.characteristic;else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE)(config.options.altKey||config.options.createEncounter)&&"san"===config.options.attribute?linkData.check=CoC7Link.CHECK_TYPE.SANLOSS:(linkData.check=CoC7Link.CHECK_TYPE.CHECK,linkData.linkType=CoC7Link.LINK_TYPE.ATTRIBUTE,linkData.name=config.options.attribute);else if(config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_COMBAT)linkData.check=CoC7Link.CHECK_TYPE.ITEM,linkData.name=config.options.weaponName;else{if(config.dialogOptions.rollType!==CoC7ChatMessage.ROLL_TYPE_ENCOUNTER)return;linkData.check=CoC7Link.CHECK_TYPE.SANLOSS,linkData.sanMin=config.options.actor?.system?.special?.sanLoss?.checkPassed,linkData.sanMax=config.options.actor?.system?.special?.sanLoss?.checkFailled,linkData.sanReason=config.options.actor.system.infos.type?.length?config.options.actor.system.infos.type:config.options.actor.name}"blindroll"===game.settings.get("core","rollMode")&&(linkData.blind=!0),config.options.sendToChat?CoC7Link.toChatMessage(linkData):config.options.sendToClipboard?CoC7Link.fromDropData(linkData).then((link=>{CoC7Utilities.copyToClipboard(link.link)})):CoC7ContentLinkDialog.create(linkData,{actors:[config.options.actor].filter((a=>a.owners.length)),hasModifiers:config.options.shiftKey})}}}static async createRoll(config){const usage=await RollDialog.create(config.dialogOptions);if(usage){const cardType=usage.get("cardType");cardType&&(config.dialogOptions.cardType=cardType),config.dialogOptions.modifier=Number(usage.get("bonusDice")),config.dialogOptions.difficulty=Number(usage.get("difficulty")),config.dialogOptions.flatDiceModifier=Number(usage.get("flatDiceModifier")),config.dialogOptions.flatThresholdModifier=Number(usage.get("flatThresholdModifier"))}}static async runRoll(config){switch(config.dialogOptions.cardType){case CoC7ChatMessage.CARD_TYPE_SAN_CHECK:{const sanData=await SanDataDialog.create({promptLabel:!0});if(sanData){let sanMin=sanData.get("sanMin")||0,sanMax=sanData.get("sanMax")||0;const sanReason=sanData.get("sanReason");isNaN(Number(sanMin))||(sanMin=Number(sanMin)),isNaN(Number(sanMax))||(sanMax=Number(sanMax)),SanCheckCard.create(config.options.actor.actorKey,{sanMin,sanMax,sanReason},{sanModifier:config.dialogOptions.modifier,sanDifficulty:config.dialogOptions.difficulty,fastForward:config.options.shiftKey})}}break;case CoC7ChatMessage.CARD_TYPE_NORMAL:{const check=new CoC7Check;return check.diceModifier=config.dialogOptions.modifier,check.difficulty=config.dialogOptions.difficulty,check.actor=config.options.tokenKey?config.options.tokenKey:config.options.actorId,check.flatDiceModifier=config.dialogOptions.flatDiceModifier,check.flatThresholdModifier=config.dialogOptions.flatThresholdModifier,check.standby=!config.options.preventStandby&&game.settings.get("CoC7","stanbyGMRolls")&&game.user.isGM&&config.options.hasPlayerOwner,config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_SKILL?(check.skill=config.options.skillId,await check.roll()):config.dialogOptions.rollType===CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE?await check.rollAttribute(config.options.attribute):await check.rollCharacteristic(config.options.characteristic),config.dialogOptions.chatMessage&&check.toMessage(),{result:check.modifiedResult,successLevel:check.rolledSuccessLevel,isFumble:check.isFumble,isCritical:check.isCritical,successLevels:{1:check.regularThreshold,2:check.hardThreshold,3:check.extremeThreshold},passed:check.passed}}case CoC7ChatMessage.CARD_TYPE_OPPOSED:case CoC7ChatMessage.CARD_TYPE_COMBINED:{const check=new CoC7Check;check.actor=config.options.tokenKey?config.options.tokenKey:config.options.actorId,check.characteristic=config.options.characteristic,check.attribute=config.options.attribute,check.skillId=config.options.skillId,check.rollMode=game.settings.get("core","rollMode"),check.initiator=game.user.id;let data={};config.dialogOptions.cardType===CoC7ChatMessage.CARD_TYPE_OPPOSED?(data={type:OpposedCheckCard.defaultConfig.type,combat:config.options.isCombat,action:"new"},check.item=config.options.itemId,check.weaponAltSkill=config.options.weaponAltSkill,check.denyPush=!0,await check._perform()):(data={type:CombinedCheckCard.defaultConfig.type,action:"new"},check.difficulty=config.dialogOptions.difficulty),data.roll=check.JSONRollData,data._rollMode=game.settings.get("core","rollMode"),config.dialogOptions.cardType===CoC7ChatMessage.CARD_TYPE_OPPOSED?OpposedCheckCard.dispatch(data):CombinedCheckCard.dispatch(data)}}}}class CoC7ConCheck{constructor(actorId=null,difficulty=CoC7Check.difficultyLevel.regular){this.check=new CoC7Check(actorId),this.check.characteristic="con",this.check.difficulty=difficulty,this.check.denyPush=!0,this.actorId=actorId}get isBlind(){return void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind}set isBlind(x){this._isBlind=x}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}get actor(){return this.actorId?chatHelper.getActorFromKey(this.actorId):null}set actorId(x){this._actorId=x,this.check.actor=x}get actorId(){return this._actorId?this._actorId:null}get tokenKey(){return this.actor.isToken?this.actor.tokenKey:null}get isSuccess(){return!!this.check&&this.check.isSuccess}get isRolled(){return!!(this.check&&this.check.dices&&this.check.dices.total)}static getFromCard(card){const conCheck=new CoC7ConCheck;chatHelper.getObjectFromElement(conCheck,card);const htmlCheck=card.querySelector(".roll-result");return CoC7Roll.getFromElement(htmlCheck,conCheck.check),conCheck.messageId=card.closest(".message").dataset.messageId,conCheck}async getCheckElement(){const html=await renderTemplate("systems/CoC7/templates/chat/roll-result.html",this.check),htmlElement=$.parseHTML(html)[0];return htmlElement?(htmlElement.classList.remove("chat-card","item-card","roll-card"),htmlElement):null}async toMessage(fastForward=!1){fastForward&&await this.rollCon();const html=await renderTemplate("systems/CoC7/templates/chat/con-check.html",this),htmlElement=$.parseHTML(html)[0];if(fastForward){htmlElement.querySelector(".roll-result").replaceWith(await this.getCheckElement())}const speakerData={};let speaker;this.actor?(this.token?speakerData.token=this.token:speakerData.actor=this.actor,speaker=ChatMessage.getSpeaker(speakerData)):speaker=ChatMessage.getSpeaker();const chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,flavor:this.flavor,content:htmlElement.outerHTML};["gmroll","blindroll"].includes(game.settings.get("core","rollMode"))&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}async rollCon(){this.check.hideDiceResult=!0,await this.check._perform(),this.isBlind||this.isRolled||this.isSuccess||(this.stayAlive?await this.actor.setCondition(COC7.status.dead):await this.actor.setCondition(COC7.status.unconscious)),this.applied=!0}async updateChatCard(){const html=await renderTemplate("systems/CoC7/templates/chat/con-check.html",this),htmlElement=$.parseHTML(html)[0];if(htmlElement.querySelector(".roll-result").replaceWith(await this.getCheckElement()),this.isBlind||!this.isRolled||this.isSuccess||(this.stayAlive?await this.actor.setCondition(COC7.status.dead):await this.actor.setCondition(COC7.status.unconscious)),!this.messageId)return;const chatMessage=game.messages.get(this.messageId),msg=await chatMessage.update({content:htmlElement.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}}class SkillSelectDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(".select-skill").click((async event=>this._onSelectSkillClicked(event)))}async _onSelectSkillClicked(event){const li=event.currentTarget.closest(".item");this.data.data.skills[Number(li.dataset.index)].selected=!0,event.currentTarget.style.display="none",this.data.data.added||(this.data.data.added=0),this.data.data.added++;event.currentTarget.closest(".skill-selector").querySelector(".count").innerText=this.data.data.added,this.data.data.added>=this.data.data.optionsCount&&this.close()}static async create(data){const html=await renderTemplate("systems/CoC7/templates/apps/skill-select.html",data);return new Promise((resolve=>{new SkillSelectDialog({title:data.title,content:html,data,buttons:{},close:()=>{if(!data.added>=data.optionsCount)return resolve(!1);const selected=data.skills.filter((skill=>skill.selected));return resolve(selected)}},{classes:["coc7","dialog","skill-select"]}).render(!0)}))}}class PointSelectDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(".item-name").click((async event=>this._onSelectCharacteristic(event))),html.find("button").click((event=>this._onButtonClicked(event)))}async _onSelectCharacteristic(event){const li=event.currentTarget.closest(".item"),itemList=li.closest(".item-list");for(const item of itemList.querySelectorAll(".selectable"))item.classList.remove("selected"),this.data.data.characteristics[item.dataset.key].selected=!1,this.data.data.characteristics[item.dataset.key].optional=!1;$(li).toggleClass("selected"),this.data.data.characteristics[li.dataset.key].selected=!0;li.closest("#skill-selection-form").querySelector(".points").innerText=this.data.data.total+this.data.data.characteristics[li.dataset.key].multiplier*this.data.data.characteristics[li.dataset.key].value;li.closest("#skill-selection-form").querySelector("button.validate").classList.remove("inactive"),this.data.data.resolved=!0}async _onButtonClicked(event){event.preventDefault(),event.currentTarget.classList.contains("inactive")||super.close()}static async create(data){const html=await renderTemplate("systems/CoC7/templates/apps/point-select.html",data);return new Promise((resolve=>{new PointSelectDialog({title:data.title,content:html,data,buttons:{},close:()=>data.resolved?resolve(data):resolve(!1)},{classes:["coc7","dialog","char-select"]}).render(!0)}))}}class CharacSelectDialog extends Dialog{activateListeners(html){super.activateListeners(html),html.find(".item-name").click((async event=>this._onSelectCharacteristic(event)))}async _onSelectCharacteristic(event){const li=event.currentTarget.closest(".item");this.data.data.selected=li.dataset.key,this.close()}static async create(data){const html=await renderTemplate("systems/CoC7/templates/apps/char-select.html",data);return new Promise((resolve=>{new CharacSelectDialog({title:data.title,content:html,data,buttons:{},close:()=>data.selected?resolve(data.selected):resolve(!1)},{classes:["coc7","dialog","char-select"]}).render(!0)}))}}class CharacRollDialog extends Dialog{constructor(data,options){super(data,options),this.rolled=data.rolled||{}}activateListeners(html){super.activateListeners(html),html.on("change","input",this._onChangeInput.bind(this)),html.on("submit","form",this._onSubmit.bind(this)),html.on("click",".roll-characteristic",this._onRollCharacteristic.bind(this)),html.on("click",".increase-characteristic",this._onIncreaseCharacteristic.bind(this)),html.on("click",".decrease-characteristic",this._onDecreaseCharacteristic.bind(this)),html.on("click",".reset-characteristic",this._onResetCharacteristic.bind(this)),html.on("click","button",this._onButton.bind(this))}async _onRollCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;await this.rollCharacteristic(characKey)}async _onIncreaseCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;this.increaseCharacteristic(characKey)}async _onDecreaseCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;this.decreaseCharacteristic(characKey)}async _onResetCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key;this.resetCharacteristic(characKey)}async _onButton(event){const action=event.currentTarget.dataset.action;if("roll"===action)for(const char of["str","con","siz","dex","app","int","pow","edu","luck"])await this.rollCharacteristic(char);"validate"!==action||event.currentTarget.classList.contains("inactive")||(this.checkTotal(),this.close())}async rollCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input"),formula=this.data.data.characteristics.rolls[key];if(input&&formula){if(isNaN(Number(formula))){const roll=new Roll(formula);await roll.evaluate({async:!0}),roll.toMessage({flavor:game.i18n.format("CoC7.MessageRollingCharacteristic",{label:this.data.data.characteristics.list[key].label,formula})}),input.value=roll.total}else input.value=Number(formula);this.data.data.characteristics.values[key]=Number(input.value),this.rolled||(this.rolled={}),this.rolled[key]=!0}this.checkTotal()}async increaseCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&(input.value=Number(input.value)+1,this.data.data.characteristics.values[key]=Number(input.value)),this.checkTotal()}async decreaseCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&Number(input.value)>0&&(input.value=Number(input.value)-1,this.data.data.characteristics.values[key]=Number(input.value)),this.checkTotal()}async resetCharacteristic(key){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&(input.value=null,this.data.data.characteristics.values[key]=0),this.checkTotal()}async _onChangeInput(event){event.preventDefault();const input=event.currentTarget,value=Number(input.value);isNaN(value)||(this.data.data.characteristics.values[input.name]=value),this.checkTotal()}checkTotal(){this.data.data.characteristics.points.total=0;for(const[key,value]of Object.entries(this.data.data.characteristics.values))"luck"!==key&&(this.data.data.characteristics.points.total+=value);const validation=this._element[0].querySelector(".points");if(this.data.data.characteristics.points.enabled){if(Number(this.data.data.characteristics.points.total)!==Number(this.data.data.characteristics.points.value))validation.classList.add("warning");else{validation.classList.remove("warning");this._element[0].querySelector("button.validate").classList.remove("inactive"),this.data.data.validate=!0}validation.querySelector(".value").innerText=this.data.data.characteristics.points.value}if(validation.querySelector(".total").innerText=this.data.data.characteristics.points.total,this.data.data.characteristics.rolls.enabled&&this.rolled&&(this.data.data.validate=!Object.entries(this.rolled).find((el=>!el))&&9===Object.entries(this.rolled).length,this.data.data.validate)){this._element[0].querySelector("button.validate").classList.remove("inactive")}}async _onSubmit(event){event.preventDefault()}static async create(data){const rolled={};data.characteristics.points.total=0;for(const[key,value]of Object.entries(data.characteristics.values))"luck"!==key&&(data.characteristics.points.total+=value||0),!isNaN(value)&&value>0&&(rolled[key]=!0);data.characteristics.points.enabled&&Number(data.characteristics.points.total)!==Number(data.characteristics.points.value)&&(data.pointsWarning=!0);const html=await renderTemplate("systems/CoC7/templates/apps/char-roll.html",data);return new Promise((resolve=>{new CharacRollDialog({title:data.title,content:html,data,rolled,buttons:{},close:()=>data.validate?resolve(!0):resolve(!1)},{classes:["coc7","dialog","char-select"]}).render(!0)}))}}class SkillSpecSelectDialog{static async create(skills,specializationName,baseValue=null,name=null){const html=await renderTemplate("systems/CoC7/templates/apps/skill-spec-select.html",{hasSkills:skills.length>0,skills,base:baseValue,name});return new Promise((resolve=>{let formData=null;const dlg=new Dialog({title:name?game.i18n.format("CoC7.SkillSelectBase",{name}):game.i18n.format("CoC7.SkillSpecSelectTitle",{specialization:specializationName}),content:html,buttons:{validate:{label:game.i18n.localize("CoC7.Validate"),callback:html=>(formData=new FormData(html[0].querySelector("#skill-select-form")),resolve(formData))}},default:"validate",close:()=>resolve(!1)});dlg.render(!0)}))}}class SkillSpecializationSelectDialog extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","skill-name-dialog"],title:"",template:"systems/CoC7/templates/apps/skill-specialization-select.hbs",width:400,height:"auto",closeOnSubmit:!1})}get title(){return game.i18n.format("CoC7.SkillSpecSelectTitle",{specialization:this.object.specializationName})}activateListeners(html){super.activateListeners(html),html.find(".submit-button").click(this._onClickSubmit.bind(this)),html.find("[name=existing-skill]").change(this._onSelectChange.bind(this))}async _onSelectChange(event){this.object.selected=event.currentTarget.value,this.render(!0)}async _onClickSubmit(event){if(""===this.object.selected){const obj=$(event.currentTarget).closest("form");this.object.name=obj.find("input[name=new-skill-name]").val()??"",this.object.baseValue=obj.find("input[name=base-value]").val()??""}if(""===this.object.selected&&""===this.object.name)return!1;this.object.resolve({selected:this.object.selected,name:this.object.name,baseValue:this.object.baseValue}),this.close()}async _updateObject(event,formData){}static async create({skills=[],allowCustom=!1,fixedBaseValue=!1,specializationName="",label="",baseValue=null}={}){const select=[];for(const skill of skills)select.push({id:skill.id,name:skill.name,base:skill.system.base});return await new Promise((resolve=>{new SkillSpecializationSelectDialog({specializationName,allowCustom,fixedBaseValue,allowSelect:skills.length>0,skills:select,selected:"",name:"",label,baseValue,resolve},{}).render(!0)}))}}class SkillValueDialog{static async create(name=null,baseValue=null){const html=await renderTemplate("systems/CoC7/templates/apps/skill-value.html",{base:baseValue,name});return new Promise((resolve=>{let formData=null;const dlg=new Dialog({title:game.i18n.format("CoC7.SkillValue",{name}),content:html,buttons:{validate:{label:game.i18n.localize("CoC7.Validate"),callback:html=>(formData=new FormData(html[0].querySelector("#skill-select-form")),resolve(formData))}},default:"validate",close:()=>resolve(!1)});dlg.render(!0)}))}}class CoC7MeleeResoltion{constructor(initiatorMessage=null,targetMessage=null,messageId=null){this.initiatorMessage=initiatorMessage,this.targetMessage=targetMessage,this.messageId=messageId}async preCreateMessage(){const html=await renderTemplate(this.template,this),chatData={user:game.user.id,content:html},rollMode=game.settings.get("core","rollMode");["gmroll","blindroll"].includes(rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;const chatMessage=await ChatMessage.create(chatData);return this.messageId=chatMessage.id,chatMessage}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get target(){return this.targetMessage?CoC7MeleeTarget.getFromMessageId(this.targetMessage):null}get targetToken(){return this.target?chatHelper.getTokenFromKey(this.target.actorKey):null}get initiator(){return this.initiatorMessage?CoC7MeleeInitiator.getFromMessageId(this.initiatorMessage):null}get initiatorToken(){return this.initiator?chatHelper.getTokenFromKey(this.initiator.actorKey):null}async resolve(){if(this.target)switch(this.target.action){case"noResponse":this.initiator.roll.successLevel>0?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.action="roll-melee-damage",this.rollDamage=!0):(this.resultString=game.i18n.format("CoC7.InitiatorMissed",{name:this.initiator.name}),this.winner=this.initiator,this.rollDamage=!1),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target;break;case"dodge":this.initiator.roll.successLevel<=0&&this.target.roll.successLevel<=0?(this.resultString=game.i18n.localize("CoC7.NoWinner"),this.winner=null,this.rollDamage=!1):this.initiator.roll.successLevel>this.target.roll.successLevel?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target,this.action="roll-melee-damage",this.rollDamage=!0):this.initiator.roll.successLevel<=this.target.roll.successLevel&&(this.resultString=game.i18n.format("CoC7.DodgeSuccess",{name:this.target.name}),this.winner=this.target,this.looser=this.initiator,this.winnerImg=this.target.skill.img,this.winnerTitle=this.target.skill.name,this.action="dodge",this.rollDamage=!1);break;case"fightBack":this.initiator.roll.successLevel<=0&&this.target.roll.successLevel<=0?(this.resultString=game.i18n.localize("CoC7.NoWinner"),this.winner=null,this.rollDamage=!1):this.initiator.roll.successLevel>=this.target.roll.successLevel?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target,this.rollDamage=!0):this.initiator.roll.successLevel<=this.target.roll.successLevel&&(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.target.name}),this.winner=this.target,this.winnerImg=this.target.weapon.img,this.winnerTitle=this.target.weapon.name,this.looser=this.initiator,this.rollDamage=!0);break;case"maneuver":this.initiator.roll.successLevel<=0&&this.target.roll.successLevel<=0?(this.resultString=game.i18n.localize("CoC7.NoWinner"),this.winner=null,this.rollDamage=!1):this.initiator.roll.successLevel>=this.target.roll.successLevel?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.winnerImg=this.initiator.weapon.img,this.winnerTitle=this.initiator.weapon.name,this.looser=this.target,this.rollDamage=!0):this.initiator.roll.successLevel<=this.target.roll.successLevel&&(this.resultString=game.i18n.format("CoC7.ManeuverSuccess",{name:this.target.name}),this.winner=this.target,this.winnerImg=this.target.skill.data.img,this.winnerTitle=this.target.skill.name,this.looser=this.initiator,this.rollDamage=!1)}else this.initiator.roll.successLevel>0?(this.resultString=game.i18n.format("CoC7.WinnerRollDamage",{name:this.initiator.name}),this.winner=this.initiator,this.rollDamage=!0):(this.resultString=game.i18n.format("CoC7.InitiatorMissed",{name:this.initiator.name}),this.winner=this.initiator,this.rollDamage=!1);this.winner&&(this.winner.roll.successLevel>=CoC7Check.successLevel.extreme?this.winner.roll.criticalDamage=!0:this.winner.roll.criticalDamage=!1),this.resolved=!0;const html=await renderTemplate(this.template,this);if(this.messageId){const message=game.messages.get(this.messageId),speakerData={};this.winner&&(this.winner.token&&(speakerData.token=this.winner.token.documment),this.winner.actor&&(speakerData.actor=this.winner.actor));const speaker=this.winner?ChatMessage.getSpeaker(speakerData):null,user=this.winner&&this.winner.actor.user?this.winner.actor.user:game.user;let msg;return message?(msg=speaker?await message.update({user:user.id,speaker,content:html}):await message.update({user:user.id,content:html}),await ui.chat.updateMessage(msg,!1),msg):void ui.notifications.warn("Resolition card missing, was deleted ?")}}get template(){return"systems/CoC7/templates/chat/combat/melee-resolution.html"}}class CoC7MeleeTarget extends ChatCardActor{constructor(actorKey,parentMessageId=null,fastForward=!1){super(actorKey,fastForward),this.actorKey=actorKey,this.initiatorKey=null,this.parentMessageId=parentMessageId,this.fastForward=fastForward,this.resolved=!1,this.outnumbered=!1,this.surprised=!1,this.autoSuccess=!1,this.advantage=!1,this.disadvantage=!1,this.messageId=null,this.skillId=null,this.itemId=null,this.dodging=!1,this.notResponding=!1,this.fightingBack=!1,this.maneuvering=!1}get actionSelected(){return this.dodging||this.notResponding||this.fightingBack||this.maneuvering}get action(){return this.dodging?"dodge":this.notResponding?"noResponse":this.fightingBack?"fightBack":this.maneuvering?"maneuver":null}get weapon(){return this.actor.items.get(this.itemId)}get skill(){return this.actor.items.get(this.skillId)}set initiatorKey(x){this._initiatorKey=x,this.targetKey=x}get initiatorKey(){return this._initiatorKey||(!this._initiator&&this.parentMessageId&&(this._initiator=CoC7MeleeInitiator.getFromMessageId(this.parentMessageId)),this._initiator&&(this._initiatorKey=this._initiator.actorKey)),this._initiatorKey?this._initiatorKey:(ui.notifications.error(`No initiator found for target : ${this.actor.name}`),null)}get initiator(){if(!this.initiatorKey){if(!this.parentMessageId)return null;this._initiator=CoC7MeleeInitiator.getFromMessageId(this.parentMessageId),this.initiatorKey=this._initiator.actorKey}return chatHelper.getActorFromKey(this.initiatorKey)}get meleeInitiator(){return this._initiator||(this._initiator=CoC7MeleeInitiator.getFromMessageId(this.parentMessageId)),this._initiator}get template(){return"systems/CoC7/templates/chat/combat/melee-target.html"}static getFromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return null;const card=$(message.content)[0],target=CoC7MeleeTarget.getFromCard(card,messageId);return target.messageId=messageId,target}static updateCardSwitch(event,publishUpdate=!0){const card=event.currentTarget.closest(".melee.target"),flag=event.currentTarget.dataset.flag,camelFlag=chatHelper.hyphenToCamelCase(flag);if(publishUpdate){const target=CoC7MeleeTarget.getFromCard(card);target.toggleFlag(flag),target.updateChatCard()}else card.dataset[camelFlag]="true"!==card.dataset[camelFlag],event.currentTarget.classList.toggle("switched-on"),event.currentTarget.dataset.selected=card.dataset[camelFlag]}toggleFlag(flagName){const flag=flagName.includes("-")?chatHelper.hyphenToCamelCase(flagName):flagName;this[flag]=!this[flag]}async createChatCard(){const html=await renderTemplate(this.template,this),speakerData={},token=chatHelper.getTokenFromKey(this.actorKey);token?speakerData.token=token.document:speakerData.actor=this.actor;const speaker=ChatMessage.getSpeaker(speakerData);this.actor.isToken&&(speaker.alias=this.actor.token.name);let user=game.user;if(void 0===this.actor.user){let owners=[];const gms=game.users.filter((a=>a.isGM)).map((a=>a.id));for(const[k,v]of Object.entries(this.actor.ownership))if(v===CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER){if("default"===k){owners=game.users.map((a=>a.id));break}gms.includes(k)||owners.push(k)}let content="";switch(owners.length){case 0:break;case 1:void 0!==game.users.get(owners[0])&&(user=game.users.get(owners[0]));break;default:content="<p>"+game.i18n.localize("CoC7.MessageSelectSingleUserForTarget"),content+='<form id="selectform"><select name="user">';for(const k of owners)content=content+'<option value="'+k+'">'+game.users.get(k).name+"</option>";content+="</select></form></p>",await Dialog.prompt({title:game.i18n.localize("CoC7.MessageTitleSelectSingleUserForTarget"),content,callback:html=>{const formData=new FormData(html[0].querySelector("#selectform"));for(const[name,value]of formData)"user"===name&&(user=game.users.get(value))}})}}else void 0!==this.actor.user&&(user=this.actor.user);const chatData={user:user.id,speaker,content:html};["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;const message=await ChatMessage.create(chatData);return this.messageId=message.id,message}async updateChatCard(){const message=game.messages.get(this.messageId);if(!game.user.isGM&&message.user.id!==game.user.id)return void ui.notifications.info(game.i18n.localize("CoC7.UnableToInteractWithChatCard"));const html=await renderTemplate(this.template,this),msg=await message.update({content:html});return await ui.chat.updateMessage(msg,!1),msg}async getUpdatedChatCard(){renderTemplate(this.template,this).then((html=>html))}static async updateSelected(card,event){const target=CoC7MeleeTarget.getFromCard(card);switch(event.currentTarget.dataset.action){case"dodge":target.dodging=!0,target.notResponding=!1,target.fightingBack=!1,target.maneuvering=!1,target.skillId=event.currentTarget.dataset.skillId,target.itemId=null;break;case"noResponse":target.dodging=!1,target.notResponding=!0,target.fightingBack=!1,target.maneuvering=!1,target.skillId=null,target.itemId=null;break;case"fightBack":target.dodging=!1,target.notResponding=!1,target.fightingBack=!0,target.maneuvering=!1,target.skillId=event.currentTarget.dataset.skillId,target.itemId=event.currentTarget.dataset.weaponId;break;case"maneuver":target.dodging=!1,target.notResponding=!1,target.fightingBack=!1,target.maneuvering=!0,target.skillId=event.currentTarget.dataset.skillId,target.itemId=null}return target.updateChatCard(),target}async performSkillCheck(skillId=null,publish=!1){const check=new CoC7Check;return check.isBlind=!1,check.isUnkonwn=!1,check.referenceMessageId=this.messageId,check.rollType="opposed",check.side="target",check.action=this.action,check.actor=this.actor,check.item=this.itemId,check.skill=skillId,check.difficulty=CoC7Check.difficultyLevel.regular,check.diceModifier=0,this.disadvantage&&(check.diceModifier-=1),this.advantage&&(check.diceModifier+=1),await check.roll(),this.check=check,this.rolled=!0,this.resolved=!0,publish&&check.toMessage(),check}async publishNoReponseResult(){this.rolled=!0,this.resolved=!0,this.notResponding=!0;const resolutionCard=new CoC7MeleeResoltion(this.parentMessageId,this.messageId),resolutionMessage=await resolutionCard.preCreateMessage();this.resolutionCard=resolutionMessage.id,await this.updateChatCard()}async publishCheckResult(check=null){if(!check&&!this.check)return null;if(check&&(this.check=check),this.roll=CoC7Roll.getFromCheck(this.check),this.rolled=!0,this.roll.rollIcons=[],this.roll.critical){this.roll.rollColor="goldenrod",this.roll.rollTitle=game.i18n.localize("CoC7.CriticalSuccess");for(let index=0;index<4;index++)this.roll.rollIcons.push("medal")}else if(this.roll.fumble){this.roll.rollColor="darkred",this.roll.rollTitle=game.i18n.localize("CoC7.Fumble");for(let index=0;index<4;index++)this.roll.rollIcons.push("spider")}else if(this.roll.success){this.roll.rollColor="goldenrod",CoC7Check.successLevel.regular===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.RegularSuccess")),CoC7Check.successLevel.hard===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.HardSuccess")),CoC7Check.successLevel.extreme===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.ExtremeSuccess"));for(let index=0;index<this.roll.successLevel;index++)this.roll.rollIcons.push("star")}else this.roll.rollColor="black",this.roll.rollTitle=game.i18n.localize("CoC7.Failure"),this.roll.rollIcons.push("skull");const resolutionCard=new CoC7MeleeResoltion(this.parentMessageId,this.messageId),resolutionMessage=await resolutionCard.preCreateMessage();this.resolutionCard=resolutionMessage.id,await this.updateChatCard()}static getFromCard(card,messageId=null){const actorKey=card.dataset.actorKey,parentMessageId=card.dataset.parentMessageId,fastForward="true"===card.dataset.fastForward,target=new CoC7MeleeTarget(actorKey,parentMessageId,fastForward);return target.roll=CoC7Roll.getFromCard(card),chatHelper.getObjectFromElement(target,card),card.closest(".message")?target.messageId=card.closest(".message").dataset.messageId:target.messageId=messageId,target}upgradeRoll(luckAmount,newSuccessLevel,oldCard){this.actor.spendLuck(luckAmount)||ui.notifications.error(`${this.actor.name} didn't have enough luck to pass the check`),this.roll.value=null,this.roll.successLevel=newSuccessLevel,this.roll.luckSpent=!0,oldCard.dataset.processed=!1;const diceRolls=oldCard.querySelector(".dice-roll");diceRolls.dataset.value=null,diceRolls.dataset.successLevel=newSuccessLevel,diceRolls.dataset.luckSpent=!0;const resulDetails=oldCard.querySelector(".result-details"),diceTotal=oldCard.querySelector(".dice-total");switch(newSuccessLevel){case CoC7Check.successLevel.regular:diceTotal.innerText=game.i18n.localize("CoC7.RegularSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.RegularDifficulty")});break;case CoC7Check.successLevel.hard:diceTotal.innerText=game.i18n.localize("CoC7.HardSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.HardDifficulty")});break;case CoC7Check.successLevel.extreme:diceTotal.innerText=game.i18n.localize("CoC7.ExtremeSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.ExtremeDifficulty")});break;case CoC7Check.successLevel.critical:diceTotal.innerText=game.i18n.localize("CoC7.CriticalSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.CriticalDifficulty")})}diceTotal.classList.replace("failure","success"),oldCard.querySelector(".card-buttons").remove(),oldCard.querySelector(".dice-tooltip").style.display="none",CoC7Chat.updateChatCard(oldCard)}}class CoC7RangeInitiator{constructor(actorKey=null,itemId=null,fastForward=!1){this.actorKey=actorKey,this.itemId=itemId,this.fastForward=fastForward,this.resolved=!1,this.cover=!1,this.surprised=!1,this.autoSuccess=!1,this.advantage=!1,this.disadvantage=!1,this.messageId=null,this.targetCard=null,this.rolled=!1,this.singleShot=!1,this.multipleShots=!1,this.burst=!1,this.fullAuto=!1,this.tokenKey=null,this.aimed=!1,this.totalBulletsFired=0,this._targets=[];for(const t of[...game.user.targets]){const target=new CoC7RangeTarget(`${t.scene.id}.${t.id}`);target.token=t,this._targets.push(target)}if(this._targets.length)this._targets[0].active=!0;else{const target=new CoC7RangeTarget;target.active=!0,this._targets.push(target)}if(actorKey){const actor=chatHelper.getActorFromKey(actorKey);if(this.token=chatHelper.getTokenFromKey(actorKey),this.token&&(this.tokenKey=actor.tokenKey),itemId){actor.items.get(itemId)&&(this.weapon.singleShot?this.singleShot=!0:this.weapon.system.properties.auto&&(this.fullAuto=!0))}}if(this.tokenKey)for(const t of this._targets)if(t.token&&this.token){t.distance=chatHelper.getDistance(t.token,this.token),t.roundedDistance=Math.round(100*t.distance.value)/100,t.distanceUnit=t.distance.unit;const distInYd=Math.round(100*chatHelper.toYards(t.distance))/100;if(this.actor){t.pointBlankRange=!1;distInYd<=this.actor.system.characteristics.dex.value/15&&(t.pointBlankRange=!0)}this.weapon&&this.weapon.baseRange&&(t.baseRange=!1,t.longRange=!1,t.extremeRange=!1,t.outOfRange=!1,this.weapon.system.properties.shotgun?(distInYd<=this.weapon.baseRange&&(t.baseRange=!0),distInYd>this.weapon.baseRange&&distInYd<=this.weapon.longRange&&(t.longRange=!0),distInYd>this.weapon.longRange&&distInYd<=this.weapon.extremeRange&&(t.extremeRange=!0),distInYd>this.weapon.extremeRange&&(t.outOfRange=!0)):(distInYd<=this.weapon.baseRange&&(t.baseRange=!0),distInYd>this.weapon.baseRange&&distInYd<=2*this.weapon.baseRange&&(t.longRange=!0),distInYd>2*this.weapon.baseRange&&distInYd<=4*this.weapon.baseRange&&(t.extremeRange=!0),distInYd>4*this.weapon.baseRange&&(t.outOfRange=!0)),t.baseRange||t.longRange||t.extremeRange||t.outOfRange||(t.baseRange=!0))}else t.baseRange=!0}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}get actorImg(){const img=chatHelper.getActorImgFromKey(this.actorKey);return img||"../icons/svg/mystery-man-black.svg"}get actor(){return chatHelper.getActorFromKey(this.actorKey)}get item(){return this.actor.items.get(this.itemId)}get weapon(){return this.item}get targets(){return this._targets||(this._targets=[]),this._targets}get target(){return this.targets&&this.targets.length?this.targets.pop():null}get skills(){return this.actor.getWeaponSkills(this.itemId)}get mainWeaponSkill(){return this.actor.items.get(this.weapon.system.skill.main.id)}get autoWeaponSkill(){return this.weapon.system.skill.alternativ.id?this.actor.items.get(this.weapon.system.skill.alternativ.id):this.mainWeaponSkill}get autoFire(){return this.burst||this.fullAuto}get multiTarget(){return this.fullAuto||this.multipleShots}get aiming(){return void 0===this._aiming&&(this._aiming=this.actor.getActorFlag("aiming")),this._aiming}get activeTarget(){return this._targets.length?this._targets.find((t=>t.active)):null}get shots(){return void 0===this._shots&&(this._shots=[]),this._shots}get currentShotRank(){return this.shots.length+1}get activeTargetShotDifficulty(){return this.shotDifficulty()}set aiming(b){this._aiming=b}get didAnyShotHit(){let anyHit=!1;for(const r of this.rolls)anyHit=anyHit||r.isSuccess;return anyHit}get successfulHits(){const hits=[];for(let index=0;index<this.rolls.length;index++)if(this.rolls[index].isSuccess){const hit={roll:this.rolls[index],shot:this.shots[index]};hits.push(hit)}return 0!==hits.length?hits:null}get shotFired(){return this.shots?this.shots.length:0}get totalAmmo(){return this.weapon.getBulletLeft()}get maxShots(){return this.fullAuto?"":this.weapon.system.usesPerRound.max?parseInt(this.weapon.system.usesPerRound.max):1}get ignoreAmmo(){return game.settings.get("CoC7","disregardAmmo")}get ignoreUsesPerRound(){return game.settings.get("CoC7","disregardUsePerRound")}get outOfAmmo(){return!this.ignoreAmmo&&this.totalBulletsFired>=this.weapon.getBulletLeft()}get outOfShots(){return!this.ignoreUsesPerRound&&(!!this.shots&&this.shots.length>=this.maxShots)}get volleySize(){if(!this.weapon.system.properties.auto)return 1;if(this._volleySize)return this._volleySize;const size=Math.floor(this.autoWeaponSkill.value/10);return size<3?3:size}set volleySize(x){x>=Math.floor(this.autoWeaponSkill.value/10)?this._volleySize=Math.floor(this.autoWeaponSkill.value/10):x<=3&&(this._volleySize=3),this._volleySize=parseInt(x)}get isVolleyMinSize(){return 3===this.volleySize}get isVolleyMaxSize(){return(Math.floor(this.autoWeaponSkill.value/10)<3?3:Math.floor(this.autoWeaponSkill.value/10))===this.volleySize}getTargetFromKey(key){return this._targets.find((t=>key===t.actorKey))}calcTargetsDifficulty(){for(const t of this.targets)t.shotDifficulty=this.shotDifficulty(t)}shotDifficulty(t=null){const target=t||this.activeTarget;let damage=this.weapon.system.range.normal.damage;this.weapon.system.properties.shotgun&&(t.longRange&&(damage=this.weapon.system.range.long.damage),t.extremeRange&&(damage=this.weapon.system.range.extreme.damage));let difficulty,modifier=target.modifier;difficulty=this.weapon.system.properties.shotgun?1:target.difficulty;let difficultyName="";if(this.aiming&&1===this.currentShotRank&&modifier++,this.advantage&&modifier++,this.disadvantage&&modifier--,this.reload&&modifier--,this.multipleShots&&!this.fullAuto&&modifier--,this.fullAuto&&(modifier-=this.currentShotRank-1),modifier<-2){difficulty+=Math.abs(modifier+2),difficulty>CoC7Check.difficultyLevel.critical&&(difficulty=CoC7Check.difficultyLevel.impossible),modifier=-2}return CoC7Check.difficultyLevel.regular===difficulty&&(difficultyName="Regular"),CoC7Check.difficultyLevel.hard===difficulty&&(difficultyName="Hard"),CoC7Check.difficultyLevel.extreme===difficulty&&(difficultyName="Extreme"),CoC7Check.difficultyLevel.critical===difficulty&&(difficultyName="Critical"),CoC7Check.difficultyLevel.impossible===difficulty&&(difficultyName="Impossible"),{level:difficulty,name:difficultyName,modifier,damage,impossible:difficulty===CoC7Check.difficultyLevel.impossible}}addShotAtCurrentTarget(){this.calcTargetsDifficulty();const shot={target:this.activeTarget,extremeRange:this.activeTarget.extremeRange,actorKey:this.activeTarget.actorKey,actorName:this.activeTarget.name,difficulty:this.activeTarget.shotDifficulty.level,modifier:this.activeTarget.shotDifficulty.modifier,damage:this.activeTarget.shotDifficulty.damage,bulletsShot:1,transitBullets:0,bulletsShotTransit:1,transit:!1};let bulletLeft=this.totalAmmo-this.totalBulletsFired;if(this.fullAuto){if(this.currentShotRank>1){const previousShot=this.shots[this.currentShotRank-2];if(previousShot.actorKey!==this.activeTarget.actorKey){const distance=chatHelper.getDistance(chatHelper.getTokenFromKey(previousShot.actorKey),chatHelper.getTokenFromKey(this.activeTarget.actorKey));shot.transitBullets=Math.floor(chatHelper.toYards(distance)),shot.transitBullets>=bulletLeft&&!this.ignoreAmmo&&(shot.transitBullets=bulletLeft,bulletLeft=0),this.totalBulletsFired=parseInt(this.totalBulletsFired)+shot.transitBullets,shot.transit=!0}}shot.bulletsShot=this.volleySize,shot.bulletsShot<=3&&(shot.bulletsShot=3),shot.bulletsShot>=bulletLeft&&!this.ignoreAmmo&&(shot.bulletsShot=bulletLeft,bulletLeft=0),shot.bulletsShotTransit=shot.bulletsShot+shot.transitBullets}this.burst&&(shot.bulletsShot=parseInt(this.weapon.system.usesPerRound.burst)?parseInt(this.weapon.system.usesPerRound.burst):1,shot.bulletsShot>=bulletLeft&&!this.ignoreAmmo&&(shot.bulletsShot=bulletLeft,bulletLeft=0)),this.totalBulletsFired=parseInt(this.totalBulletsFired)+shot.bulletsShot,this.aiming&&(this.aiming=!1,this.aimed=!0),this.shots.push(shot)}get template(){return"systems/CoC7/templates/chat/combat/range-initiator.html"}async createChatCard(){this.calcTargetsDifficulty();const html=await renderTemplate(this.template,this),speakerData={},token=chatHelper.getTokenFromKey(this.actorKey);token?speakerData.token=token.document:speakerData.actor=this.actor;const speaker=ChatMessage.getSpeaker(speakerData),chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,content:html},rollMode=game.settings.get("core","rollMode");["gmroll","blindroll"].includes(rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;return await ChatMessage.create(chatData)}async updateChatCard(){this.calcTargetsDifficulty();const html=await renderTemplate(this.template,this),message=game.messages.get(this.messageId),msg=await message.update({content:html});return await ui.chat.updateMessage(msg,!1),msg}toggleFlag(flagName){const flag=flagName.includes("-")?chatHelper.hyphenToCamelCase(flagName):flagName;"singleShot"===flag||"multipleShots"===flag||"fullAuto"===flag?(this.singleShot=!1,this.multipleShots=!1,this.fullAuto=!1,"fullAuto"===flag&&(this.burst=!1),this[flag]=!0):"burst"===flag?(this.fullAuto=!1,this.singleShot||this.multipleShots||(this.singleShot=!0),this.burst=!this.burst):this[flag]=!this[flag]}async resolveCard(){if(this.rolls=[],this.multiTarget){let weaponMalfunction=!1,index=0;for(;!weaponMalfunction&&this.shots.length>index;){const roll=await this.shootAtTarget(this.shots[index]);roll.dice?.roll&&await CoC7Dice.showRollDice3d(roll.dice.roll),await this.weapon.shootBullets(parseInt(this.shots[index].bulletsShot)+parseInt(this.shots[index].transitBullets)),roll.hasMalfunction&&(roll.isSuccess=!1,weaponMalfunction=!0),index++,this.rolls.push(roll)}}else{const roll=await this.shootAtTarget();roll.dice?.roll&&await CoC7Dice.showRollDice3d(roll.dice.roll);let bulletFired=this.burst?parseInt(this.weapon.system.usesPerRound.burst):1;bulletFired>=this.totalAmmo&&(bulletFired=this.totalAmmo);const shot={target:this.activeTarget,extremeRange:this.activeTarget.extremeRange,actorKey:this.activeTarget.actorKey,actorName:this.activeTarget.name,difficulty:this.activeTarget.shotDifficulty.level,modifier:this.activeTarget.shotDifficulty.modifier,damage:this.activeTarget.shotDifficulty.damage,bulletsShot:bulletFired,transitBullets:0,transit:!1};await this.weapon.shootBullets(bulletFired),roll.hasMalfunction&&(roll.isSuccess=!1),this.shots.push(shot),this.rolls.push(roll)}this.resolved=!0,this.rolled=!0,await this.updateChatCard()}async shootAtTarget(shot=null){const target=shot?this.getTargetFromKey(shot.actorKey):this.activeTarget,check=new CoC7Check;return check.actorKey=this.actorKey,check.actor=this.actorKey,check.item=this.itemId,check.isBlind=!1,check.isUnkonwn=!1,this.autoFire?check.skill=this.autoWeaponSkill:check.skill=this.mainWeaponSkill,this.multiTarget?(check.difficulty=shot.difficulty,check.diceModifier=shot.modifier):(this.calcTargetsDifficulty(),this.totalBulletsFired=parseInt(this.totalBulletsFired)+1,this.aiming&&(this.aiming=!1,this.aimed=!0),check.difficulty=this.activeTarget.shotDifficulty.level,check.diceModifier=this.activeTarget.shotDifficulty.modifier),check.details=`${game.i18n.localize("CoC7.Target")}: ${target.name}`,check.targetKey=target.actorKey,await check.roll(),check}static getFromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return null;const card=$(message.content)[0],initiator=CoC7RangeInitiator.getFromCard(card,messageId);return initiator.messageId=messageId,initiator}changeVolleySize(x){this.volleySize=this.volleySize+x,this.updateChatCard()}static updateCardSwitch(event,publishUpdate=!0){const card=event.currentTarget.closest(".range.initiator"),flag=event.currentTarget.dataset.flag,camelFlag=chatHelper.hyphenToCamelCase(flag);if(publishUpdate){const initiator=CoC7RangeInitiator.getFromCard(card);if(event.currentTarget.classList.contains("target-flag")){const target=event.currentTarget.closest(".target"),key=parseInt(target.dataset.targetKey);initiator.targets[key].toggleFlag(camelFlag)}else initiator.toggleFlag(camelFlag);initiator.updateChatCard()}else card.dataset[camelFlag]="true"!==card.dataset[camelFlag],event.currentTarget.classList.toggle("switched-on"),event.currentTarget.dataset.selected=card.dataset[camelFlag]}passRoll(rollIndex){const roll=this.rolls[rollIndex],luckAmount=parseInt(roll.luckNeeded);this.actor.spendLuck(luckAmount)?(roll.successLevel=roll.difficulty,roll.isSuccess=!0,roll.luckSpent=!0,this.updateChatCard()):ui.notifications.error(`${this.actor.name} does not have enough luck to pass the check`)}upgradeRoll(rollIndex,upgradeindex){const roll=this.rolls[rollIndex],increasedSuccess=roll.increaseSuccess[upgradeindex],luckAmount=parseInt(increasedSuccess.luckAmount);if(!this.actor.spendLuck(luckAmount))return void ui.notifications.error(`${this.actor.name} does not have enough luck to pass the check`);const newSuccessLevel=parseInt(increasedSuccess.newSuccessLevel);roll.successLevel=newSuccessLevel,roll.difficulty<=newSuccessLevel&&(roll.isSuccess=!0),roll.luckSpent=!0,this.updateChatCard()}static getFromCard(card,messageId=null){const rangeInitiator=new CoC7RangeInitiator;rangeInitiator._targets=[],messageId?rangeInitiator.messageId=messageId:card.closest(".message")&&(rangeInitiator.messageId=card.closest(".message").dataset.messageId),chatHelper.getObjectFromElement(rangeInitiator,card);const cardTargets=card.querySelectorAll(".target");for(const t of cardTargets){const target=CoC7RangeTarget.getFromElement(t);rangeInitiator.targets.push(target)}const cardShots=card.querySelectorAll(".shot");if(cardShots)for(const s of cardShots){const shot={};chatHelper.getObjectFromElement(shot,s),rangeInitiator.shots.push(shot)}rangeInitiator.rolls=[];const rolls=card.querySelectorAll(".roll-result");for(const r of rolls){const roll=CoC7Roll.getFromElement(r);rangeInitiator.rolls.push(roll)}rangeInitiator.damage=[];const damageRolls=card.querySelectorAll(".damage-results");for(const dr of damageRolls){const damageRoll=CoC7Damage.getFromElement(dr);rangeInitiator.damage.push(damageRoll)}return rangeInitiator}async rollDamage(){this.damage=[];const hits=this.successfulHits;for(let i=0;i<hits.length;i++){const h=hits[i],volleySize=parseInt(h.shot.bulletsShot),damageRolls=[];if(volleySize>0){let damageFormula=String(h.shot.damage);damageFormula&&""!==damageFormula||(damageFormula="0");const damageDie=CoC7Damage.getMainDie(damageFormula),maxDamage=new Roll(damageFormula).evaluate({maximize:!0}).total,criticalDamageFormula=this.weapon.impale?`${damageFormula} + ${maxDamage}`:`${maxDamage}`,criticalDamageDie=CoC7Damage.getMainDie(criticalDamageFormula);let impalingShots=0,successfulShots=0,critical=!1;(this.fullAuto||this.burst)&&(successfulShots=Math.floor(volleySize/2)),0===successfulShots&&(successfulShots=1),h.roll.successLevel>=CoC7Check.difficultyLevel.extreme&&(impalingShots=successfulShots,successfulShots=volleySize-impalingShots,critical=!0,CoC7Check.difficultyLevel.critical!==h.roll.successLevel&&(CoC7Check.difficultyLevel.extreme<=h.roll.difficulty||h.shot.extremeRange)&&(successfulShots=volleySize,impalingShots=0,critical=!1));let total=0;for(let index=0;index<successfulShots;index++){const roll=new Roll(damageFormula);await roll.evaluate({async:!0}),await CoC7Dice.showRollDice3d(roll),damageRolls.push({formula:damageFormula,total:roll.total,die:damageDie,critical:!1}),total+=roll.total}for(let index=0;index<impalingShots;index++){const roll=new Roll(criticalDamageFormula);await roll.evaluate({async:!0}),await CoC7Dice.showRollDice3d(roll),damageRolls.push({formula:criticalDamageFormula,total:roll.total,die:criticalDamageDie,critical:!0}),total+=roll.total}let targetName="dummy",target=chatHelper.getTokenFromKey(h.roll.targetKey);target||(target=chatHelper.getActorFromKey(h.roll.targetKey)),target&&(targetName=target.name),this.damage.push({targetKey:h.roll.targetKey,targetName,rolls:damageRolls,total,critical,dealt:!1,resultString:game.i18n.format("CoC7.rangeCombatDamage",{name:targetName,total})})}}this.damageRolled=0!==this.damage.length,this.updateChatCard()}async dealDamage(){for(let dIndex=0;dIndex<this.damage.length;dIndex++){const actor=chatHelper.getActorFromKey(this.damage[dIndex].targetKey);if(null===actor)ui.notifications.error(game.i18n.localize("CoC7.NoTargetToDamage"));else{this.damage[dIndex].totalTaken=0,this.damage[dIndex].totalAbsorbed=0;for(let rIndex=0;rIndex<this.damage[dIndex].rolls.length;rIndex++){const dealtAmount=await actor.dealDamage(this.damage[dIndex].rolls[rIndex].total);this.damage[dIndex].totalTaken+=dealtAmount,this.damage[dIndex].rolls[rIndex].taken=dealtAmount,this.damage[dIndex].rolls[rIndex].absorbed=this.damage[dIndex].rolls[rIndex].total-dealtAmount,this.damage[dIndex].totalAbsorbed+=this.damage[dIndex].rolls[rIndex].total-dealtAmount}this.damage[dIndex].dealt=!0,this.damage[dIndex].resultString=game.i18n.format("CoC7.rangeCombatDamageArmor",{name:this.damage[dIndex].targetName,total:this.damage[dIndex].totalTaken,armor:this.damage[dIndex].totalAbsorbed})}}this.damageDealt=!0,this.updateChatCard()}}class CoC7RangeTarget{constructor(actorKey=null){this.actorKey=actorKey,this.cover=!1,this.pointBlankRange=!1,this.baseRange=!0,this.longRange=!1,this.extremeRange=!1,this.inMelee=!1}get big(){return void 0===this._big&&(this.actor&&this.actor.build?this._big=this.actor.build>=4:this._big=!1),this._big}set big(b){this._big=b}get small(){return void 0===this._small&&(this.actor&&this.actor.build?this._small=this.actor.build<=-2:this._small=!1),this._small}set small(b){this._small=b}get normal(){return!this.big&&!this.small}set normal(b){this._big=!1,this._small=!1}get isFast(){return!(!this.actor||!this.actor.mov)&&this.actor.mov>=8}get fast(){return void 0===this._fast&&(this._fast=!1),this._fast}set fast(b){this._fast=b}get actor(){return this.actorKey&&!this._actor&&(this._actor=chatHelper.getActorFromKey(this.actorKey)),this._actor}get name(){return this.token?this.token.name:this.actor?this.actor.name:"Dummy"}get img(){return this.token&&this.token.document?.texture.src?this.token.document?.texture.src:this.actor?this.actor.data.img:"../icons/svg/mystery-man-black.svg"}get token(){return!this._token&&this.actorKey&&(this._token=chatHelper.getTokenFromKey(this.actorKey)),this._token}get sizeText(){return this.big?game.i18n.localize("CoC7.rangeCombatCard.BigTargetTitle"):this.small?game.i18n.localize("CoC7.rangeCombatCard.SmallTargetTitle"):game.i18n.localize("CoC7.rangeCombatCard.NormalTargetTitle")}get sizeLabel(){return this.big?game.i18n.localize("CoC7.rangeCombatCard.BigTarget"):this.small?game.i18n.localize("CoC7.combatCard.SmallTarget"):game.i18n.localize("CoC7.rangeCombatCard.NormalTarget")}get difficulty(){return this.baseRange||this.pointBlankRange?CoC7Check.difficultyLevel.regular:this.longRange?CoC7Check.difficultyLevel.hard:this.extremeRange?CoC7Check.difficultyLevel.extreme:CoC7Check.difficultyLevel.impossible}get modifier(){let modifier=0;return this.cover&&modifier--,this.pointBlankRange&&modifier++,this.fast&&modifier--,this.small&&modifier--,this.big&&modifier++,this.inMelee&&modifier--,this.surprised&&modifier++,modifier}set token(t){this._token=t}static getFromElement(element){const target=new CoC7RangeTarget;return chatHelper.getObjectFromElement(target,element),target}static changeDisplayedTarget(event){if(!event.currentTarget.classList.contains("target-selector"))return null;return event.currentTarget.closest(".targets").querySelectorAll(".target")}attachToElement(element){chatHelper.attachObjectToElement(this,element)}toggleFlag(flag){"baseRange"===flag||"longRange"===flag||"extremeRange"===flag||"pointBlankRange"===flag?(this.pointBlankRange=!1,this.baseRange=!1,this.longRange=!1,this.extremeRange=!1,this.outOfRange=!1,this[flag]=!0):"size"===flag?this.small?(this.small=!1,this.big=!0):this.big?(this.small=!1,this.big=!1):this.small=!0:this[flag]=!this[flag],"fast"===flag&&this.fast&&!this.isFast&&ui.notifications.warn(game.i18n.format("CoC7.WarnFastTargetWithWrongMOV",{mov:this.actor.mov}))}}const CHAT_COC7_MESSAGE_FAKEROLL='<div class="dice-roll"><div class="dice-result"><div class="dice-formula">???</div><h4 class="dice-total">?</h4></div></div>';class CoC7Chat{static renderChatMessageHook(chatMessage,html){chatMessage.getFlag("CoC7","GMSelfRoll")&&!game.user.isGM&&(html.find(".whisper-to").remove(),html.find(".flavor-text").replaceWith(`<span class="flavor-text">${game.i18n.localize("CoC7.RollSecretDice")}</span>`),html.find(".message-content").replaceWith(`<div class="message-content">${CHAT_COC7_MESSAGE_FAKEROLL}</div>`)),chatMessage.getFlag("CoC7","removeWisperTargets")&&!game.user.isGM&&html.find(".whisper-to").remove(),chatMessage.getFlag("CoC7","fakeRoll")&&game.user.isGM&&(html.find(".flavor-text").replaceWith(game.i18n.localize("CoC7.KeeperSentDecoy")),html.find(".message-content").remove())}static fakeRollMessage(){const chatData={user:game.user.id,flavor:game.i18n.localize("CoC7.RollSecretDice"),whisper:game.users.players,type:CONST.CHAT_MESSAGE_TYPES.WHISPER,flags:{CoC7:{GMSelfRoll:!1,removeWisperTargets:!0,fakeRoll:!0}},content:CHAT_COC7_MESSAGE_FAKEROLL};ChatMessage.create(chatData)}static ready(){game.CoC7="init"}static async chatListeners(app,html){html.on("click",".card-buttons button",CoC7Chat._onChatCardAction.bind(this)),html.on("click",".card-title",CoC7Chat._onChatCardToggleContent.bind(this)),html.on("click",".radio-switch",CoC7Chat._onChatCardRadioSwitch.bind(this)),html.on("click",".panel-switch",CoC7Chat._onChatCardToggleSwitch.bind(this)),html.on("click",".simple-flag",CoC7Chat._onChatCardToggleSwitch.bind(this)),html.on("click",".volley-size",CoC7Chat._onChatCardVolleySize.bind(this)),html.on("click",".dropdown-element",CoC7Chat._onDropDownElementSelected.bind(this)),html.on("click",".simple-toggle",CoC7Chat._onToggleSelected.bind(this)),html.on("click",".target-selector",CoC7Chat._onTargetSelect.bind(this)),html.on("dblclick",".open-actor",CoC7Chat._onOpenActor.bind(this)),CoC7Link.bindEventsHandler(html),html.on("click","coc7-inline-result",CoC7Chat._onInline.bind(this)),OpposedCheckCard.bindListerners(html),CombinedCheckCard.bindListerners(html)}static _onOpenActor(event){event.preventDefault();const actorKey=event.currentTarget.dataset.actorKey;if(actorKey){const actor=chatHelper.getActorFromKey(actorKey);actor.isOwner&&actor.sheet.render(!0)}}static async onUpdateChatMessage(chatMessage){if(ui.chat.scrollBottom(),game.user.isGM&&0===chatMessage.type){const card=$(chatMessage.content)[0];if(card.classList.contains("melee")&&"true"===card.dataset.resolved){if(card.classList.contains("initiator"))if(card.dataset.targetCard){const initiator=CoC7MeleeInitiator.getFromMessageId(chatMessage.id),target=CoC7MeleeTarget.getFromMessageId(initiator.targetCard);if(target.resolved){const resolutionCard=new CoC7MeleeResoltion(chatMessage.id,target.messageId,target.resolutionCard);await resolutionCard.resolve(),initiator.checkRevealed||await initiator.revealCheck()}}else{const initiator=CoC7MeleeInitiator.getFromMessageId(chatMessage.id);if(initiator.resolutionCard){const resolutionCard=new CoC7MeleeResoltion(chatMessage.id,null,initiator.resolutionCard);await resolutionCard.resolve(),initiator.checkRevealed||await initiator.revealCheck()}}if(card.classList.contains("target")){const target=CoC7MeleeTarget.getFromMessageId(chatMessage.id),resolutionCard=new CoC7MeleeResoltion(target.parentMessageId,chatMessage.id,target.resolutionCard);await resolutionCard.resolve(),target.meleeInitiator.checkRevealed||await target.meleeInitiator.revealCheck()}}}}static async renderMessageHook(message,html){if(ui.chat.scrollBottom(),InteractiveChatCard.bindListeners(html),message.getFlag("CoC7","checkRevealed")&&(html.find(".dice-roll").removeClass("gm-visible-only"),html[0].dataset.checkRevealed=!0),html.find(".dropbtn").click((event=>event.currentTarget.closest(".dropdown").querySelector(".dropdown-content").classList.toggle("show"))),html.find(".dropdown").mouseleave((event=>event.currentTarget.querySelector(".dropdown-content").classList.remove("show"))),game.user.isGM){const card=html[0].querySelector(".coc7.chat-card");if(card&&card.classList.contains("roll-card")&&"true"!==card.dataset.processed&&card.dataset.refMessageId){const roll=CoC7Roll.getFromElement(card);"target"===card.dataset.side&&(roll.defendantId=card.dataset.tokenId?card.dataset.tokenId:card.dataset.actorId),"initiator"===card.dataset.side&&(roll.initiatorId=card.dataset.tokenId?card.dataset.tokenId:card.dataset.actorId),card.dataset.processed="true",CoC7Chat.updateCombatCardTarget(roll)}}const userOnly=html.find(".target-only");for(const element of userOnly)if(!game.user.isGM){element.style.display="none";const actorId=element.getAttribute("data-actor-id");actorId&&game.actors.get(actorId).isOwner&&(element.style.display="block")}const gmOnly=html.find(".gm-only");for(const zone of gmOnly)game.user.isGM||(zone.style.display="none");const userVisibleOnly=html.find(".user-visible-only");for(const elem of userVisibleOnly)game.user.isGM&&(elem.style.display="none");const gmVisibleOnly=html.find(".gm-visible-only");for(const elem of gmVisibleOnly)game.user.isGM||game.user.isTrusted&&game.settings.get("CoC7","trustedCanSeeChatCard")||(elem.style.display="none");const ownerVisibleOnly=html.find(".owner-visible-only");for(const zone of ownerVisibleOnly){let actor=CoC7Chat._getActorFromKey(zone.dataset?.actorKey);actor||(actor=CoC7Chat._getChatCardActor(zone.closest(".chat-card"))),actor||(actor=CoC7Chat._getActorFromKey(zone.parentElement.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-actor-key]")?.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-token-key]")?.dataset.actorKey)),(actor&&!actor.isOwner||game.user.isGM)&&(zone.style.display="none")}if(!game.user.isGM){const ownerOnly=html.find(".owner-only");for(const zone of ownerOnly){let actor=CoC7Chat._getActorFromKey(zone.dataset?.actorKey||zone.dataset?.actorId);actor||(actor=CoC7Chat._getChatCardActor(zone.closest(".chat-card"))),actor||(actor=CoC7Chat._getActorFromKey(zone.parentElement.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-actor-key]")?.dataset.actorKey)),actor||(actor=CoC7Chat._getActorFromKey(zone.closest("[data-token-key]")?.dataset.actorKey)),(actor&&!actor.isOwner||!actor&&!game.user.isGM)&&(zone.style.display="none")}const gmSelectOnly=html.find(".gm-select-only");if(!game.user.isTrusted||!game.settings.get("CoC7","trustedCanModfyChatCard"))for(const select of gmSelectOnly)select.classList.add("inactive"),select.classList.remove("simple-flag")}}static get actionTypeString(){return{fightBack:"CoC7.fightBack",maneuver:"CoC7.maneuver",dodging:"CoC7.dodge"}}static _onTargetSelect(event){const index=parseInt(event.currentTarget.dataset.key),targetsSelector=event.currentTarget.closest(".targets-selector");for(const i of targetsSelector.querySelectorAll("img"))i.style.border="none";targetsSelector.querySelector(`[data-key="${index}"]`).querySelector("img").style.border="1px solid #000";const targets=event.currentTarget.closest(".targets");for(const t of targets.querySelectorAll(".target"))t.style.display="none",t.dataset.active="false";const targetToDisplay=targets.querySelector(`[data-target-key="${index}"]`);targetToDisplay.style.display="block",targetToDisplay.dataset.active="true"}static _onDropDownElementSelected(event){event.preventDefault();const card=event.currentTarget.closest(".chat-card");if(card.classList.contains("target"))return void CoC7MeleeTarget.updateSelected(card,event);const dropDownBoxes=event.currentTarget.closest(".response-selection").querySelectorAll(".toggle-switch");for(const dpdnBox of dropDownBoxes)dpdnBox.classList.remove("switched-on");event.currentTarget.closest(".toggle-switch").classList.add("switched-on"),event.currentTarget.closest(".dropdown-content").classList.toggle("show");const selectedBox=event.currentTarget.closest(".defender-action-select").querySelector(".selected-action");selectedBox.style.display="block";const button=selectedBox.querySelector("button");switch(button.dataset.action="defending",button.dataset.actionType=event.currentTarget.dataset.action,button.dataset.defenderChoice=event.currentTarget.dataset.action,button.dataset.skillId=event.currentTarget.dataset.skillId,button.dataset.skillValue=event.currentTarget.dataset.skillValue,button.dataset.skillName=event.currentTarget.dataset.skillName,button.dataset.itemId=event.currentTarget.dataset.weaponId,button.dataset.itemName=event.currentTarget.dataset.weaponName,event.currentTarget.dataset.action){case"maneuver":button.innerText=`${game.i18n.localize(COC7.combatCards[event.currentTarget.dataset.action])} : ${event.currentTarget.dataset.skillName} (${event.currentTarget.dataset.skillValue}%)`;break;case"fightBack":button.innerText=`${game.i18n.localize(COC7.combatCards[event.currentTarget.dataset.action])} : ${event.currentTarget.dataset.weaponName} (${event.currentTarget.dataset.skillValue}%)`}}static async _onInline(event){event.preventDefault();const a=event.currentTarget;if(a.classList.contains("inline-result"))return a.classList.contains("expanded")?CoC7Check._collapseInlineResult(a):CoC7Check._expandInlineResult(a)}static _onToggleSelected(event){const card=event.currentTarget.closest(".chat-card");if(card.classList.contains("target"))return void CoC7MeleeTarget.updateSelected(card,event);if(""===event.currentTarget.dataset.skillId)return void ui.notifications.error(game.i18n.localize("CoC7.ErrorNoDodgeSkill"));const dropDownBoxes=event.currentTarget.closest(".response-selection").querySelectorAll(".toggle-switch");for(const dpdnBox of dropDownBoxes)dpdnBox.classList.remove("switched-on");event.currentTarget.classList.add("switched-on");const selectedBox=event.currentTarget.closest(".defender-action-select").querySelector(".selected-action");selectedBox.style.display="block";const button=selectedBox.querySelector("button");button.dataset.action="defending",button.dataset.actionType="dodging",button.dataset.defenderChoice=event.currentTarget.dataset.action,button.dataset.skillId=event.currentTarget.dataset.skillId,button.dataset.skillValue=event.currentTarget.dataset.skillValue,button.dataset.skillName=event.currentTarget.dataset.skillName,button.innerText=`${game.i18n.localize(COC7.combatCards[event.currentTarget.dataset.action])} : ${event.currentTarget.dataset.skillName} (${event.currentTarget.dataset.skillValue}%)`}static _onChatCardRadioSwitch(event){event.preventDefault();const optionList=event.currentTarget.parentElement.getElementsByClassName("radio-switch");let index;for(index=0;index<optionList.length;index++){const element=optionList[index];element.dataset.property===event.currentTarget.dataset.property?element.classList.add("switched-on"):element.classList.remove("switched-on")}event.currentTarget.parentElement.dataset.selected=event.currentTarget.dataset.property}static async _onChatCardVolleySize(event){const card=event.currentTarget.closest(".chat-card");if(card.classList.contains("range")&&card.classList.contains("initiator")){const rangeCard=CoC7RangeInitiator.getFromCard(card);event.currentTarget.classList.contains("increase")?rangeCard.changeVolleySize(1):event.currentTarget.classList.contains("decrease")&&rangeCard.changeVolleySize(-1)}}static async _onChatCardToggleSwitch(event){event.preventDefault();const card=event.currentTarget.closest(".chat-card");card.classList.contains("melee")&&(card.classList.contains("initiator")&&CoC7MeleeInitiator.updateCardSwitch(event),card.classList.contains("target")&&CoC7MeleeTarget.updateCardSwitch(event)),card.classList.contains("range")&&card.classList.contains("initiator")&&CoC7RangeInitiator.updateCardSwitch(event),card.classList.contains("damage"),card.classList.contains("roll-card")&&CoC7Check.updateCardSwitch(event)}static _getChatCardActor(card){const cardData=card.dataset.object?JSON.parse(unescape(card.dataset.object)):card.dataset;if(cardData.actorKey)return CoC7Chat._getActorFromKey(cardData.actorKey);const tokenKey=cardData.tokenId;if(tokenKey){const[sceneId,tokenId]=tokenKey.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const token=scene.getEmbeddedDocument("Token",tokenId);return token?token.actor||new Token(tokenData).actor:null}}const actorId=cardData.actorId;if(actorId)return game.actors.get(actorId);const message=card.closest(".message"),messageId=message?message.dataset.messageId:null;if(messageId){const chatMessage=game.messages.get(messageId);if(chatMessage.user)return chatMessage.user.character}return null}static isCardOwner(card){const message=card.closest(".message"),messageId=message?message.dataset.messageId:null;if(messageId){return game.messages.get(messageId).ownner||!1}return!1}static _getActorFromKey(key){if(key){if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const token=scene.getEmbeddedDocument("Token",tokenId);return token?token.actor||new Token(tokenData).actor:null}}return game.actors.get(key)||null}}static getActorFromToken(tokenKey){const token=CoC7Chat.getToken(tokenKey);return token?token.actor:null}static getToken(tokenKey){if(tokenKey){const[sceneId,tokenId]=tokenKey.split(".");if("TOKEN"===sceneId){const tokenDoc=game.actors.tokens[tokenId]?.token;return tokenDoc.object}{const scene=game.scenes.get(sceneId);if(!scene)return null;const token=scene.getEmbeddedDocument("Token",tokenId);return token?token||new Token(tokenData):null}}return null}static async updateChatCard(card,messId=null){const messageId=null==messId?card.closest(".message").dataset.messageId:messId,message=game.messages.get(messageId),msg=await message.update({content:card.outerHTML});return await ui.chat.updateMessage(msg,!1),msg}static async _onChatCardAction(event){event.preventDefault();const button=event.currentTarget,card=button.closest(".chat-card");if(!card)return;const originMessage=button.closest(".message"),action=button.dataset.action;if(CoC7Chat._getChatCardActor(card))switch(action){case"useLuck":{const luckAmount=parseInt(button.dataset.luckAmount),newSuccessLevel=parseInt(event.currentTarget.dataset.newSuccessLevel);if(card.classList.contains("melee")){let meleeCard;card.classList.contains("target")&&(meleeCard=CoC7MeleeTarget.getFromCard(card)),card.classList.contains("initiator")&&(meleeCard=CoC7MeleeInitiator.getFromCard(card)),meleeCard.upgradeRoll(luckAmount,newSuccessLevel,card)}else if(card.classList.contains("range")){const rangeCard=CoC7RangeInitiator.getFromCard(card),rollResult=button.closest(".roll-result"),rollIndex=rollResult?parseInt(rollResult.dataset.index):null;if(button.classList.contains("pass-check"))rangeCard.passRoll(rollIndex);else{const upgradeIndex=parseInt(button.dataset.index);rangeCard.upgradeRoll(rollIndex,upgradeIndex)}}else if(card.classList.contains("roll-card")||null!=card.querySelector(".roll-result")){const check=await CoC7Check.getFromCard(card);if(button.classList.contains("pass-check")){const luckAmount=parseInt(button.dataset.luckAmount);check.forcePass(luckAmount)}else{const upgradeIndex=parseInt(button.dataset.index);await check.upgradeCheck(upgradeIndex)}}else{const actor=CoC7Chat._getChatCardActor(card),detailedResultPlaceHolder=card.querySelector(".result-details");if(actor.spendLuck(luckAmount)){const result=card.querySelector(".dice-total");switch(card.dataset.successLevel=newSuccessLevel,card.dataset.processed="false",newSuccessLevel){case CoC7Check.successLevel.regular:result.innerText=game.i18n.localize("CoC7.RegularSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.RegularDifficulty")});break;case CoC7Check.successLevel.hard:result.innerText=game.i18n.localize("CoC7.HardSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.HardDifficulty")});break;case CoC7Check.successLevel.extreme:result.innerText=game.i18n.localize("CoC7.ExtremeSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.ExtremeDifficulty")});break;case CoC7Check.successLevel.critical:result.innerText=game.i18n.localize("CoC7.CriticalSuccess"),detailedResultPlaceHolder.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.CriticalDifficulty")})}result.classList.replace("failure","success"),result.classList.remove("fumble"),card.querySelector(".card-buttons").remove(),card.querySelector(".dice-tooltip").style.display="none",await CoC7Chat.updateChatCard(card)}else ui.notifications.error(game.i18n.format("CoC7.ErrorNotEnoughLuck",{actor:actor.name}))}break}case"push":{const newCard=card.cloneNode(!0),result=newCard.querySelector(".dice-total");result.innerText=result.innerText+game.i18n.localize("CoC7.PushingSkill"),result.classList.remove("failure"),newCard.querySelector(".card-buttons").remove(),newCard.dataset.pushedRoll=!0,await CoC7Chat.updateChatCard(newCard,originMessage.dataset.messageId),await CoC7Check.push(card);break}case"defending":{let defender,defenderKey=event.currentTarget.closest(".defender-action-select").dataset.tokenId;defenderKey?defender=this.getActorFromToken(defenderKey):(defenderKey=event.currentTarget.closest(".defender-action-select").dataset.actorId,defender=game.actors.get(defenderKey));const responseType=event.currentTarget.dataset.actionType,outnumbered="true"===event.currentTarget.dataset.outnumbered,check=new CoC7Check;switch(check.referenceMessageId=originMessage.dataset.messageId,check.rollType="opposed",check.side="target",check.action=responseType,responseType){case"dodging":check.actor=defender,check.skill=event.currentTarget.dataset.skillId,check.difficulty=CoC7Check.difficultyLevel.regular,outnumbered&&(check.diceModifier=-1),await check.roll(),check.toMessage();break;case"fightBack":check.actor=defender,check.skill=event.currentTarget.dataset.skillId,check.difficulty=CoC7Check.difficultyLevel.regular,check.item=event.currentTarget.dataset.itemId,outnumbered&&(check.diceModifier=-1),await check.roll(),check.toMessage();break;case"maneuver":{const actor=CoC7Chat._getChatCardActor(card);if(defender.build<=actor.build-3)return void ui.notifications.error(game.i18n.localize("CoC7.ErrorManeuverNotPossible"));check.actor=defender,check.skill=event.currentTarget.dataset.skillId,check.difficulty=CoC7Check.difficultyLevel.regular,outnumbered&&(check.diceModifier=-1),defender.build<actor.build&&(check.diceModifier=check.diceModifier-(actor.build-defender.build)),check.diceModifier<-2&&(check.difficulty=check.difficulty+Math.abs(check.diceModifier)-2,check.diceModifier=-2),await check.roll(),check.toMessage();break}}break}case"melee-initiator-roll":{const initiator=CoC7MeleeInitiator.getFromCard(card),check=await initiator.performSkillCheck(event.currentTarget.dataset.skill);$(button).prop("disabled",!0),await CoC7Dice.showRollDice3d(check.dice.roll),await initiator.publishCheckResult();break}case"melee-target-no-response":{const target=CoC7MeleeTarget.getFromCard(card);await target.publishNoReponseResult();break}case"melee-target-roll":{const target=CoC7MeleeTarget.getFromCard(card),check=await target.performSkillCheck(event.currentTarget.dataset.skill);$(button).prop("disabled",!0),await CoC7Dice.showRollDice3d(check.dice.roll),await target.publishCheckResult();break}case"roll-melee-damage":{const damageChatCard=new DamageCard({critical:"true"===button.dataset.critical,fastForward:event.shiftKey});damageChatCard.actorKey=button.dataset.dealer,damageChatCard.targetKey=button.dataset.target,damageChatCard.itemId=button.dataset.weapon,originMessage.dataset.messageId&&(damageChatCard.messageId=originMessage.dataset.messageId),damageChatCard.updateChatCard();break}case"range-initiator-shoot":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);rangeInitiator.addShotAtCurrentTarget(),await rangeInitiator.updateChatCard();break}case"range-initiator-roll":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);await rangeInitiator.resolveCard();break}case"roll-range-damage":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);await rangeInitiator.rollDamage();break}case"deal-melee-damage":{const targetKey=card.dataset.targetKey,amount=card.dataset.result,targetActor=chatHelper.getActorFromKey(targetKey);await targetActor.dealDamage(amount);const buttons=card.querySelector(".card-buttons"),diceTotal=card.querySelector(".dice-total");$(diceTotal).append('<i class="fas fa-check"></i>'),buttons&&buttons.remove(),await CoC7Chat.updateChatCard(card);break}case"deal-range-damage":{const rangeInitiator=CoC7RangeInitiator.getFromCard(card);await rangeInitiator.dealDamage();break}case"testcheck":(await CoC7Check.getFromCard(card)).forcePass();break;case"force-pass":(await CoC7Check.getFromCard(card)).forcePass();break;case"force-fail":(await CoC7Check.getFromCard(card)).forceFail();break;case"increase-success-level":(await CoC7Check.getFromCard(card)).increaseSuccessLevel();break;case"decrease-success-level":(await CoC7Check.getFromCard(card)).decreaseSuccessLevel();break;case"reveal-check":{const check=await CoC7Check.getFromCard(card);check.isBlind=!1,check.computeCheck(),isCtrlKey(event),check.updateChatCard({makePublic:!0});break}case"roll-check-card":{const check=await CoC7Check.getFromCard(card);check.standby=!1,await check._perform(),check.updateChatCard({forceRoll:!0});break}case"flag-for-development":{const check=await CoC7Check.getFromCard(card);await check.flagForDevelopement(),check.computeCheck(),check.updateChatCard();break}case"reset-creature-san-data":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.clearSanLossReason(),await sanCheck.updateChatCard();break}case"roll-san-check":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.rollSan(),await sanCheck.updateChatCard();break}case"advance-state":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.advanceState(button.dataset.state),await sanCheck.updateChatCard();break}case"roll-san-loss":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.rollSanLoss(),sanCheck.updateChatCard();break}case"roll-int-check":{const sanCheck=SanCheckCard.getFromCard(card);await sanCheck.rollInt(),sanCheck.updateChatCard();break}case"roll-con-check":{const conCheck=CoC7ConCheck.getFromCard(card);await conCheck.rollCon(),conCheck.updateChatCard();break}case"reveal-con-check":{const conCheck=CoC7ConCheck.getFromCard(card);conCheck.isBlind=!1,conCheck.updateChatCard();break}}}static _onChatCardToggleContent(event){event.preventDefault();const content=event.currentTarget.closest(".chat-card").querySelector(".card-content");content&&(content.style.display?content.style.display="none"===content.style.display?"block":"none":content.style.display="block")}}class CoC7MeleeInitiator extends ChatCardActor{constructor(actorKey=null,itemId=null,fastForward=!1){super(actorKey,fastForward),this.itemId=itemId,this.resolved=!1,this.outnumbered=!1,this.surprised=!1,this.autoSuccess=!1,this.advantage=!1,this.disadvantage=!1,this.messageId=null,this.targetCard=null,this.rolled=!1}get template(){return"systems/CoC7/templates/chat/combat/melee-initiator.html"}async revealCheck(){const chatMessage=game.messages.get(this.messageId);await chatMessage.setFlag("CoC7","checkRevealed",!0),await ui.chat.updateMessage(chatMessage,!1)}async createChatCard(){chatHelper.getActorImgFromKey(this.actorKey);const html=await renderTemplate(this.template,this),speakerData={};this.token?speakerData.token=this:speakerData.actor=this;const speaker=ChatMessage.getSpeaker(speakerData),chatData={user:(this.actor.user?this.actor.user:game.user).id,speaker,content:html};["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),chatData.blind=!1;return await ChatMessage.create(chatData)}async updateChatCard(){const html=await renderTemplate(this.template,this),message=game.messages.get(this.messageId),msg=await message.update({content:html});return await ui.chat.updateMessage(msg,!1),msg}toggleFlag(flagName){const flag=flagName.includes("-")?chatHelper.hyphenToCamelCase(flagName):flagName;this[flag]=!this[flag]}async performSkillCheck(skillId=null,publish=!1){const check=new CoC7Check;if(check.isBlind=!1,check.isUnkonwn=!1,check.referenceMessageId=this.messageId,check.rollType="opposed",check.side="initiator",check.action="attack",check.actor=this.actorKey,check.item=this.itemId,check.skill=skillId,check.difficulty=CoC7Check.difficultyLevel.regular,check.diceModifier=0,game.user.isGM?this.checkRevealed=!1:this.checkRevealed=!0,this.outnumbered&&(check.diceModifier+=1),this.surprised&&(check.diceModifier+=1),this.disadvantage&&(check.diceModifier-=1),this.advantage&&(check.diceModifier+=1),await check.roll(),this.check=check,this.rolled=!0,this.resolved=!0,publish&&check.toMessage(),this.criticalDamage=check.successLevel===CoC7Check.successLevel.extreme||check.successLevel===CoC7Check.successLevel.critical,this.hasTarget&&!this.autoSuccess){const message=await game.CoC7socket.executeAsGM("gmcreatemessageas",{targetKey:this.targetKey,messageId:this.messageId,fastForward:this.fastForward,actorKey:this.actorKey});this.targetCard=message.id||message._id}return this.autoSuccess&&!this.check.isFumble&&this.check.forcePass(),check}async publishCheckResult(check=null){if(!check&&!this.check)return null;if(check&&(this.check=check),this.roll=CoC7Roll.getFromCheck(this.check),this.rolled=!0,this.roll.rollIcons=[],this.roll.critical){this.roll.rollColor="goldenrod",this.roll.rollTitle=game.i18n.localize("CoC7.CriticalSuccess");for(let index=0;index<4;index++)this.roll.rollIcons.push("medal")}else if(this.roll.fumble){this.roll.rollColor="darkred",this.roll.rollTitle=game.i18n.localize("CoC7.Fumble");for(let index=0;index<4;index++)this.roll.rollIcons.push("spider")}else if(this.roll.success){this.roll.rollColor="goldenrod",CoC7Check.successLevel.regular===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.RegularSuccess")),CoC7Check.successLevel.hard===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.HardSuccess")),CoC7Check.successLevel.extreme===this.roll.successLevel&&(this.roll.rollTitle=game.i18n.localize("CoC7.ExtremeSuccess"));for(let index=0;index<this.roll.successLevel;index++)this.roll.rollIcons.push("star")}else this.roll.rollColor="black",this.roll.rollTitle=game.i18n.localize("CoC7.Failure"),this.roll.rollIcons.push("skull");if(!this.targetCard&&!this.autoSuccess&&this.hasTarget){const resolutionCard=new CoC7MeleeResoltion(this.parentMessageId,this.messageId),resolutionMessage=await resolutionCard.preCreateMessage();this.resolutionCard=resolutionMessage.id}await this.updateChatCard()}static getFromCard(card,messageId=null){const initiator=new CoC7MeleeInitiator;return chatHelper.getObjectFromElement(initiator,card),initiator.roll=CoC7Roll.getFromCard(card),card.closest(".message")?initiator.messageId=card.closest(".message").dataset.messageId:initiator.messageId=messageId,initiator}static getFromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return null;const card=$(message.content)[0],initiator=CoC7MeleeInitiator.getFromCard(card,messageId);return initiator.messageId=messageId,initiator}static updateCardSwitch(event,publishUpdate=!0){const card=event.currentTarget.closest(".melee.initiator"),flag=event.currentTarget.dataset.flag,camelFlag=chatHelper.hyphenToCamelCase(flag);if(publishUpdate){const initiator=CoC7MeleeInitiator.getFromCard(card);initiator.toggleFlag(flag),initiator.updateChatCard()}else card.dataset[camelFlag]="true"!==card.dataset[camelFlag],event.currentTarget.classList.toggle("switched-on"),event.currentTarget.dataset.selected=card.dataset[camelFlag]}upgradeRoll(luckAmount,newSuccessLevel,oldCard){this.actor.spendLuck(luckAmount)||ui.notifications.error(game.i18n.format("CoC7.LuckNotEnough",{name:this.actor.name})),this.roll.value=null,this.roll.successLevel=newSuccessLevel,this.roll.luckSpent=!0,oldCard.dataset.processed=!1;const diceRolls=oldCard.querySelector(".dice-roll");diceRolls.dataset.value=null,diceRolls.dataset.successLevel=newSuccessLevel,diceRolls.dataset.luckSpent=!0;const resulDetails=oldCard.querySelector(".result-details"),diceTotal=oldCard.querySelector(".dice-total"),rollDamageButton=oldCard.querySelector('button[data-action="roll-melee-damage"]');switch(rollDamageButton&&rollDamageButton.classList.remove("invisible"),newSuccessLevel){case CoC7Check.successLevel.regular:diceTotal.innerText=game.i18n.localize("CoC7.RegularSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.RegularDifficulty")});break;case CoC7Check.successLevel.hard:diceTotal.innerText=game.i18n.localize("CoC7.HardSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.HardDifficulty")});break;case CoC7Check.successLevel.extreme:rollDamageButton&&(rollDamageButton.dataset.critical=!0),diceTotal.innerText=game.i18n.localize("CoC7.ExtremeSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.ExtremeDifficulty")});break;case CoC7Check.successLevel.critical:rollDamageButton&&(rollDamageButton.dataset.critical=!0),diceTotal.innerText=game.i18n.localize("CoC7.CriticalSuccess"),resulDetails.innerText=game.i18n.format("CoC7.RollResult.LuckSpendText",{luckAmount,successLevel:game.i18n.localize("CoC7.CriticalDifficulty")})}diceTotal.classList.replace("failure","success"),oldCard.querySelector(".card-buttons").remove(),oldCard.querySelector(".dice-tooltip").style.display="none",CoC7Chat.updateChatCard(oldCard)}}class CoCActor extends Actor{constructor(data,context){if(data.type in CONFIG.Actor.documentClasses&&!context?.extended)return new CONFIG.Actor.documentClasses[data.type](data,{extended:!0,...context});super(data,context)}async initialize(){super.initialize(),await this.creatureInit()}prepareBaseData(){if(["character","npc","creature"].includes(this.type)){this.system.skills={};for(const i of this.items)"skill"===i.type&&(this.system.skills[`${i.itemIdentifier}`]={foundryID:i.id,cocid:i.flags?.CoC7?.cocidFlag?.id,value:i.rawValue,bonusDice:i.system.bonusDice});if(void 0===this.system.attribs.san.dailyLimit)if(this.system.attribs.san.oneFifthSanity){const s=this.system.attribs.san.oneFifthSanity.split("/");s[1]&&!isNaN(Number(s[1]))?this.system.attribs.san.dailyLimit=Number(s[1]):this.system.attribs.san.dailyLimit=0}else this.system.attribs.san.dailyLimit=0;this.system.attribs.mov.value=this.rawMov,this.system.attribs.db.value=this.rawDb,this.system.attribs.build.value=this.rawBuild,this.system.attribs.build.current=this.hp}super.prepareBaseData()}prepareEmbeddedDocuments(){super.prepareEmbeddedDocuments()}prepareDerivedData(){if(["character","npc","creature"].includes(this.type)){super.prepareDerivedData(),this.system.attribs.mov.value=this.rawMov,this.system.attribs.db.value=this.rawDb,this.system.attribs.build.value=this.rawBuild,this.system.attribs.hp.max=this.rawHpMax,null===this.hp&&(this.system.attribs.hp.value=this.rawHpMax),this.system.attribs.mp.max=this.rawMpMax,null===this.mp&&(this.system.attribs.mp.value=this.rawMpMax),this.system.attribs.san.max=this.rawSanMax,null===this.san&&(this.system.attribs.san.value=this.rawSanMax);const filterMatrix=[];this.system.attribs.hp.auto&&filterMatrix.push("system.attribs.hp.max"),this.system.attribs.mp.auto&&filterMatrix.push("system.attribs.mp.max"),this.system.attribs.san.auto&&filterMatrix.push("system.attribs.san.max"),this.system.attribs.mov.auto&&filterMatrix.push("system.attribs.mov.value"),this.system.attribs.db.auto&&filterMatrix.push("system.attribs.db.value"),this.system.attribs.build.auto&&filterMatrix.push("system.attribs.build.value");const changes=this.effects.reduce(((changes,e)=>e.disabled||e.isSuppressed?changes:changes.concat(e.changes.map((c=>((c=foundry.utils.duplicate(c)).effect=e,c.priority=c.priority??10*c.mode,c))))),[]);changes.sort(((a,b)=>a.priority-b.priority));const selectChanges=changes.filter((e=>filterMatrix.includes(e.key)));for(const change of selectChanges)change.effect.apply(this,change);this.hpMax&&this.hpMax<this.hp&&(this.system.attribs.hp.value=this.hpMax),this.mpMax&&this.mpMax<this.mp&&(this.system.attribs.mp.value=this.mpMax),this.sanMax&&this.sanMax<this.san&&(this.system.attribs.san.value=this.sanMax)}}static async create(data,options={}){return"character"===data.type?data.prototypeToken=mergeObject(data.prototypeToken||{},{actorLink:!0,disposition:1,sight:{enabled:!0},detectionModes:[{id:"basicSight",range:30,enabled:!0}]}):"npc"===data.type?void 0!==data.img&&"icons/svg/mystery-man.svg"!==data.img||(data.img="systems/CoC7/assets/icons/cultist.svg"):"creature"===data.type?void 0!==data.img&&"icons/svg/mystery-man.svg"!==data.img||(data.img="systems/CoC7/assets/icons/floating-tentacles.svg"):"container"===data.type&&(void 0!==data.img&&"icons/svg/mystery-man.svg"!==data.img||(data.img="icons/svg/chest.svg"),data.prototypeToken=mergeObject(data.prototypeToken||{},{actorLink:!0})),super.create(data,options)}checkUndefinedAuto(){const returnData={attribs:{hp:{},mp:{},san:{},mov:{},db:{},build:{}}};return void 0===this.system.attribs?.hp?.auto&&(returnData.attribs.hp.auto=!0),void 0===this.system.attribs?.mp?.auto&&(returnData.attribs.mp.auto=!0),void 0===this.system.attribs?.san?.auto&&(returnData.attribs.san.auto=!0),void 0===this.system.attribs?.mov?.auto&&(returnData.attribs.mov.auto=!0),void 0===this.system.attribs?.db?.auto&&(returnData.attribs.db.auto=!0),void 0===this.system.attribs?.build?.auto&&(returnData.attribs.build.auto=!0),returnData}get characteristics(){const characteristics={str:{value:null,shortName:"CHARAC.STR",label:"CHARAC.Strength",formula:null},con:{value:null,shortName:"CHARAC.CON",label:"CHARAC.Constitution",formula:null},siz:{value:null,shortName:"CHARAC.SIZ",label:"CHARAC.Size",formula:null},dex:{value:null,shortName:"CHARAC.DEX",label:"CHARAC.Dexterity",formula:null},app:{value:null,shortName:"CHARAC.APP",label:"CHARAC.Appearance",formula:null},int:{value:null,shortName:"CHARAC.INT",label:"CHARAC.Intelligence",formula:null},pow:{value:null,shortName:"CHARAC.POW",label:"CHARAC.Power",formula:null},edu:{value:null,shortName:"CHARAC.EDU",label:"CHARAC.Education",formula:null}};if(this.system.characteristics)for(const[key,value]of Object.entries(this.system.characteristics))characteristics[key]={key,shortName:game.i18n.localize(value.short),label:game.i18n.localize(value.label),value:value.value,hard:Math.floor(value.value/2)||null,extreme:Math.floor(value.value/5)||null,formula:value.formula};return characteristics}static async initToken(createData){}get hasTempoInsane(){return this.hasConditionStatus(COC7.status.tempoInsane)}get getTempoInsaneDurationText(){return this.hasConditionValue(COC7.status.tempoInsane,"durationText")}get hasIndefInsane(){return this.hasConditionStatus(COC7.status.indefInsane)}get portrait(){return game.settings.get("CoC7","useToken")&&(this.token?.texture?.src||this.prototypeToken?.texture?.src)||this.img}async enterBoutOfMadness(realTime=!0,duration=1){let result=null;const boutOfMadnessTableId=realTime?game.settings.get("CoC7","boutOfMadnessRealTimeTable"):game.settings.get("CoC7","boutOfMadnessSummaryTable");if("none"!==boutOfMadnessTableId){result={phobia:!1,mania:!1,description:null};const boutOfMadnessTable=game.tables.get(boutOfMadnessTableId);if(result.tableRoll=await boutOfMadnessTable.roll(),void 0!==result.tableRoll.results[0]){if(CONST.TABLE_RESULT_TYPES.DOCUMENT===result.tableRoll.results[0].type){const item=game.items.get(result.tableRoll.results[0].documentId);if(void 0!==item){item.system?.type?.phobia&&(result.phobia=!0),item.system?.type?.mania&&(result.mania=!0),result.description=`${item.name}:${TextEditor.enrichHTML(item.system.description.value,{async:!1})}`,result.name=item.name;const itemData=item.toObject();delete itemData._id,await this.createEmbeddedDocuments("Item",[itemData])}else ui.notifications.error(game.i18n.localize("CoC7.MessageBoutOfMadnessItemNotFound"))}CONST.TABLE_RESULT_TYPES.TEXT===result.tableRoll.results[0].type&&(result.description=TextEditor.enrichHTML(result.tableRoll.results[0].text,{async:!1}))}else ui.notifications.error(game.i18n.localize("CoC7.MessageBoutOfMadnessTableNotFound"))}return realTime?(this.setCondition(COC7.status.tempoInsane,{realTime,duration}),result):result}static emptySkill(skillName,value,{rarity=!1,push=!0,combat=!1,img=!1,specialization=!1}={}){const data={name:skillName,type:"skill",system:{value,skillName,specialization:"",properties:{special:!1,rarity,push,combat}}};if(!1!==img&&(data.img=img),!1!==specialization){const parts=CoC7Item.getNamePartsSpec(skillName,specialization);data.system.specialization=parts.specialization,data.system.skillName=parts.skillName,data.name=parts.name,data.system.properties.special=!0}return data}async createSkill(skillName,value,showSheet=!1){const data=CoCActor.emptySkill(skillName,value);return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createWeaponSkill(name,firearms=!1,base=null){const skillData=await SkillSpecSelectDialog.create([],game.i18n.localize(firearms?"CoC7.FirearmSpecializationName":"CoC7.FightingSpecializationName"),0,name),value=Number(skillData.get("base-value")),parts=CoC7Item.getNamePartsSpec(name,game.i18n.localize(firearms?"CoC7.FirearmSpecializationName":"CoC7.FightingSpecializationName")),data={name:parts.name,type:"skill",system:{base:isNaN(value)?0:value,adjustments:{personal:null,occupation:null,archetype:null,experience:null},skillName:parts.skillName,specialization:parts.specialization,properties:{special:!0,fighting:!firearms,firearm:firearms,combat:!0}}};await this.createEmbeddedDocuments("Item",[data],{renderSheet:!base});return this.getSkillsByName(name)[0]}async creatureInit(){if("creature"!==this.type)return;if(this.getActorFlag("initialized"))return;if(0===this.getSkillsByName(game.i18n.localize(COC7.creatureFightingSkill)).length){try{const parts=CoC7Item.getNamePartsSpec(game.i18n.localize(COC7.creatureFightingSkill),game.i18n.localize(COC7.fightingSpecializationName)),data={type:"skill",name:parts.name,system:{base:0,value:null,skillName:parts.skillName,specialization:parts.specialization,properties:{combat:!0,fighting:!0,special:!0},flags:{}}},skill=await this.createEmbeddedDocuments("Item",[data],{renderSheet:!1}),attack=await this.createEmbeddedDocuments("Item",[{name:"Innate attack",type:"weapon",system:{description:{value:"Creature's natural attack",chat:"Creature's natural attack"},wpnType:"innate",properties:{addb:!0,slnt:!0}}}],{renderSheet:!1});if(skill.length>0&&attack.length>0){const createdAttack=this.items.get(attack[0].id);await createdAttack.update({"system.skill.main.id":skill[0].id,"system.skill.main.name":skill[0].name})}}catch(err){console.error("Creature init: "+err.message)}await this.setActorFlag("initialized")}}async createItem(itemName,quantity=1,showSheet=!1){const data={name:itemName,type:"item",system:{quantity}};return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createEmptyBook(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newBookName)))return this.createBook(game.i18n.localize(COC7.newBookName),showSheet);let index=0,itemName=game.i18n.localize(COC7.newBookName)+" "+index;for(;this.getItemIdByName(itemName);)index++,itemName=game.i18n.localize(COC7.newBookName)+" "+index;return this.createBook(itemName,showSheet)}async createBook(itemName,showSheet=!1){const data={name:itemName,type:"book",system:{}};return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createEmptySpell(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newSpellName)))return this.createSpell(game.i18n.localize(COC7.newSpellName),showSheet);let index=0,itemName=game.i18n.localize(COC7.newSpellName)+" "+index;for(;this.getItemIdByName(itemName);)index++,itemName=game.i18n.localize(COC7.newSpellName)+" "+index;return this.createSpell(itemName,showSheet)}static emptySpell(itemName){return{name:itemName,type:"spell",system:{}}}async createSpell(itemName,showSheet=!1){const data=CoCActor.emptySpell(itemName);return await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createEmptySkill(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newSkillName)))return this.createSkill(game.i18n.localize(COC7.newSkillName),null,showSheet);let index=0,skillName=game.i18n.localize(COC7.newSkillName)+" "+index;for(;this.getItemIdByName(skillName);)index++,skillName=game.i18n.localize(COC7.newSkillName)+" "+index;return this.createSkill(skillName,null,showSheet)}async createEmptyItem(event=null){const showSheet=!event||!event.shiftKey;if(!this.getItemIdByName(game.i18n.localize(COC7.newItemName)))return this.createItem(game.i18n.localize(COC7.newItemName),1,showSheet);let index=0,itemName=game.i18n.localize(COC7.newItemName)+" "+index;for(;this.getItemIdByName(itemName);)index++,itemName=game.i18n.localize(COC7.newItemName)+" "+index;return this.createItem(itemName,1,showSheet)}async createEmptyWeapon(event=null,properties={}){const showSheet=!event||!event.shiftKey;let weaponName=game.i18n.localize(COC7.newWeaponName);if(this.getItemIdByName(game.i18n.localize(COC7.newWeaponName))){let index=0;for(weaponName=game.i18n.localize(COC7.newWeaponName)+" "+index;this.getItemIdByName(weaponName);)index++,weaponName=game.i18n.localize(COC7.newWeaponName)+" "+index}const data={name:weaponName,type:"weapon",system:{properties:{}}};for(const[key]of Object.entries(COC7.weaponProperties))data.system.properties[key]=Object.prototype.hasOwnProperty.call(properties,key)??!1;await this.createEmbeddedDocuments("Item",[data],{renderSheet:showSheet})}async createBioSection(title=null){const bio=this.system.biography?duplicate(this.system.biography):[];bio.push({title,value:null}),await this.update({"system.biography":bio},{renderSheet:!1})}async updateBioValue(index,content){const bio=duplicate(this.system.biography);bio[index].value=content,await this.update({"system.biography":bio},{render:!1})}async updateBioTitle(index,title){const bio=duplicate(this.system.biography);bio[index].title=title,await this.update({"system.biography":bio})}async deleteBioSection(index){const bio=duplicate(this.system.biography);bio.splice(index,1),await this.update({"system.biography":bio})}async moveBioSectionUp(index){if(0===index)return;const bio=duplicate(this.system.biography);if(index>=bio.length)return;const elem=bio.splice(index,1)[0];bio.splice(index-1,0,elem),await this.update({"system.biography":bio})}async moveBioSectionDown(index){const bio=duplicate(this.system.biography);if(index>=bio.length-1)return;const elem=bio.splice(index,1)[0];bio.splice(index+1,0,elem),await this.update({"system.biography":bio})}async updateTextArea(textArea){const name="system."+textArea.dataset.areaName;await this.update({[name]:textArea.value})}async createEmbeddedDocuments(embeddedName,dataArray,options){const processedDataArray=[];let baseValue=0,baseCalculated=0,archetype=!1,occupation=!1;for(let data of dataArray)switch(data.type){case"skill":{if(baseValue=data.system.base,baseCalculated=await CoC7Item.calculateBase(this,data),"character"!==this.type){if(this.getItemIdByName(data.name))return;if(baseValue&&String(baseValue)!==String(data.system.value)&&(data.system.value=baseCalculated),isNaN(Number(data.system.value))){let value;try{value=(await new Roll(data.system.value,this.parseCharacteristics()).evaluate({async:!0})).total}catch(err){value=null}value&&(data.system.value=Math.floor(value))}}else data.system.value=null;let addThis=!0;if(CoC7Item.isAnySpec(data)){const isAnyButNotFlagged=(!data.system.properties?.requiresname??!1)&&!data.system.properties?.picknameonly;let skillList=[];const group=game.system.api.cocid.guessGroupFromDocument(data);if(group&&(skillList=(await game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:new RegExp("^"+CoC7Utilities.quoteRegExp(group)+".+$"),type:"i"})).filter((item=>!(item.system.properties?.special&&(item.system.properties?.requiresname||item.system.properties?.picknameonly))))),data.system?.flags?.occupation||data.system?.flags?.archetype){const existingSkills=this.skills.filter((el=>!!el.system.specialization&&((!data.system?.flags?.occupation||!el.system.flags?.occupation)&&((!data.system?.flags?.archetype||!el.system.flags?.archetype)&&data.system.specialization.toLocaleLowerCase()===el.system.specialization.toLocaleLowerCase()))));if(existingSkills.length>0)if(skillList.length>0){for(let i=existingSkills.length-1;i>=0;i--){const found=skillList.findIndex((item=>item.name===existingSkills[i].name||item.flags?.CoC7?.cocidFlag?.id===existingSkills[i].flags?.CoC7?.cocidFlag?.id));found>-1&&skillList.splice(found,1)}skillList=skillList.concat(existingSkills)}else skillList=existingSkills}skillList.length>0&&skillList.sort(CoC7Utilities.sortByNameKey);const skillData=await SkillSpecializationSelectDialog.create({skills:skillList,allowCustom:isAnyButNotFlagged||(data.system.properties?.requiresname??!1),fixedBaseValue:data.system.properties?.keepbasevalue??!1,specializationName:data.system.specialization,label:data.name,baseValue:data.system.base});if(Object.prototype.hasOwnProperty.call(skillData,"selected"))if(skillData.selected){const existingItem=this.items.get(skillData.selected);if(existingItem){const changes={};data.system.properties?.keepbasevalue||""!==skillData.baseValue&&(baseCalculated=skillData.baseValue,changes["system.value"]=baseCalculated);for(const[key,value]of Object.entries(data.system.flags))value&&(changes[`system.flags.${key}`]=!0);Object.keys(changes).length>0&&(changes._id=existingItem.id,await this.updateEmbeddedDocuments("Item",[changes])),data.name=CoC7Item.getNameWithoutSpec(existingItem),addThis=!1}else{const existing=skillList.find((i=>i.id===skillData.selected));if(existing){const flags=data.system?.flags;data=duplicate(existing);for(const[key,value]of Object.entries(flags))value&&(data.system.flags[key]=!0);data.system.properties?.keepbasevalue||(""!==skillData.baseValue?(baseCalculated=skillData.baseValue,data.system.value=baseCalculated):baseValue=data.system.value)}}}else{const parts=CoC7Item.getNamePartsSpec(skillData.name,data.system.specialization);data.system.properties?.keepbasevalue||(""!==skillData.baseValue?(baseCalculated=skillData.baseValue,data.system.value=baseCalculated):baseValue=data.system.value),data.system.skillName=parts.skillName,data.name=parts.name}}addThis&&(String(baseValue)!==String(baseCalculated)&&(data.system.base=baseCalculated),processedDataArray.push(duplicate(data)));break}case"weapon":if("container"!==this.type){const mainSkill=data.system?.skill?.main?.name;if(mainSkill){let skill=this.getSkillsByName(mainSkill)[0];if(!skill){const name=mainSkill.match(/\(([^)]+)\)/)?mainSkill.match(/\(([^)]+)\)/)[1]:mainSkill;skill=await this.createWeaponSkill(name,!!data.system.properties?.rngd)}skill&&(data.system.skill.main.id=skill.id)}const secondSkill=data.system?.skill?.alternativ?.name;if(secondSkill){let skill=this.getSkillsByName(secondSkill)[0];if(!skill){const name=mainSkill.match(/\(([^)]+)\)/)?mainSkill.match(/\(([^)]+)\)/)[1]:mainSkill;skill=await this.createWeaponSkill(name,!!data.system.properties?.rngd)}skill&&(data.system.skill.alternativ.id=skill.id)}}processedDataArray.push(duplicate(data));break;case"setup":{if(data.system.enableCharacterisitics){data.system.characteristics.list={},data.system.characteristics.list.str=this.getCharacteristic("str"),data.system.characteristics.list.con=this.getCharacteristic("con"),data.system.characteristics.list.siz=this.getCharacteristic("siz"),data.system.characteristics.list.dex=this.getCharacteristic("dex"),data.system.characteristics.list.app=this.getCharacteristic("app"),data.system.characteristics.list.int=this.getCharacteristic("int"),data.system.characteristics.list.pow=this.getCharacteristic("pow"),data.system.characteristics.list.edu=this.getCharacteristic("edu"),data.system.characteristics.list.luck={},data.system.characteristics.list.luck.value=isNaN(this.luck)?null:this.luck,data.system.characteristics.list.luck.label=game.i18n.localize("CoC7.Luck"),data.system.characteristics.list.luck.shortName=game.i18n.localize("CoC7.Luck"),data.system.characteristics.values||(data.system.characteristics.values={}),data.system.characteristics.values.str=data.system.characteristics.list.str.value,data.system.characteristics.values.con=data.system.characteristics.list.con.value,data.system.characteristics.values.siz=data.system.characteristics.list.siz.value,data.system.characteristics.values.dex=data.system.characteristics.list.dex.value,data.system.characteristics.values.app=data.system.characteristics.list.app.value,data.system.characteristics.values.int=data.system.characteristics.list.int.value,data.system.characteristics.values.pow=data.system.characteristics.list.pow.value,data.system.characteristics.values.edu=data.system.characteristics.list.edu.value,data.system.characteristics.values.luck=data.system.characteristics.list.luck.value,data.system.characteristics.points.enabled?data.system.title=game.i18n.localize("CoC7.SpendPoints"):data.system.title=game.i18n.localize("CoC7.RollCharac"),data.system.pointsWarning=!(null!==data.system.characteristics.values.str&&null!==data.system.characteristics.values.con&&null!==data.system.characteristics.values.siz&&null!==data.system.characteristics.values.dex&&null!==data.system.characteristics.values.app&&null!==data.system.characteristics.values.int&&null!==data.system.characteristics.values.pow&&null!==data.system.characteristics.values.edu);if(!await CharacRollDialog.create(data.system))return;{const updateData={};for(const key of["str","con","siz","dex","app","int","pow","edu"])data.system.characteristics.values[key]&&(updateData[`system.characteristics.${key}.value`]=data.system.characteristics.values[key],updateData[`system.characteristics.${key}.formula`]=data.system.characteristics.rolls[key]);data.system.characteristics.values.luck&&(updateData["system.attribs.lck.value"]=data.system.characteristics.values.luck),data.system.characteristics.values.pow&&(updateData["system.attribs.san.value"]=data.system.characteristics.values.pow,updateData["system.attribs.san.dailyLimit"]=Math.floor(data.system.characteristics.values.pow/5),updateData["system.attribs.mp.max"]=Math.floor(data.system.characteristics.values.pow/5)),await this.update(updateData,{renderSheet:!1}),await this.update({"system.attribs.hp.value":this.rawHpMax,"system.attribs.hp.max":this.rawHpMax},{renderSheet:!1})}}const era=Object.entries(data.flags?.CoC7?.cocidFlag?.eras).filter((e=>e[1])).map((e=>e[0])),items=await game.system.api.cocid.expandItemArray({itemList:data.system.items,era:void 0===era[0]||era[0]}),skills=items.filter((it=>"skill"===it.type)),othersItems=items.filter((it=>"skill"!==it.type));if(await this.addUniqueItems(skills),await this.addItems(othersItems),game.settings.get("CoC7","oneBlockBackstory"))await this.update({"system.backstory":data.system.backstory},{renderSheet:!1});else for(const sectionName of data.system.bioSections)!this.system.biography?.find((el=>sectionName===el.title))&&sectionName&&await this.createBioSection(sectionName);const monetary=mergeObject(this.system.monetary,duplicate(data.system.monetary)),sheet=this.sheet;let state=!1;do{state=await new Promise((resolve=>setTimeout((()=>{resolve(sheet._state)}),100)))}while(state===Application.RENDER_STATES.RENDERING);await this.update({"system.monetary":monetary}),Hooks.call("setupFinishedCoC7");break}case"archetype":if("character"===this.type){if(this.archetype){let resetArchetype=!1;if(await Dialog.confirm({title:game.i18n.localize("CoC7.ResetArchetype"),content:`<p>${game.i18n.format("CoC7.ResetArchetypeHint",{name:this.name})}</p>`,yes:()=>{resetArchetype=!0},defaultYes:!1}),!resetArchetype)return;await this.resetArchetype()}const coreCharac=[];for(const entry of Object.entries(data.system.coreCharacteristics)){const[key,value]=entry;if(data.system.coreCharacteristics[key]=!1,value){const char=this.getCharacteristic(key);char.key=key,coreCharac.push(char)}}let charac;if(coreCharac.length>1){const charDialogData={};charDialogData.characteristics=coreCharac,charDialogData.title=game.i18n.localize("CoC7.SelectCoreCharac"),charac=await CharacSelectDialog.create(charDialogData)}else 1===coreCharac.length&&(charac=coreCharac[0].key);if(!charac)return;if(data.system.coreCharacteristics[charac]=!0,data.system.coreCharacteristicsFormula.enabled){let value=Number(data.system.coreCharacteristicsFormula.value);if(isNaN(value)){const char=this.getCharacteristic(charac),roll=new Roll(data.system.coreCharacteristicsFormula.value);await roll.roll({async:!0}),roll.toMessage({flavor:game.i18n.format("CoC7.MessageRollingCharacteristic",{label:char.label,formula:data.system.coreCharacteristicsFormula.value})}),value=char.value<roll.total?roll.total:char.value}await this.update({[`system.characteristics.${charac}.value`]:value})}data.system.skills=await game.system.api.cocid.expandItemArray({itemList:data.system.skills}),await this.addUniqueItems(data.system.skills,"archetype"),processedDataArray.push(duplicate(data)),archetype=!0}break;case"occupation":if("character"===this.type){if(this.occupation){let resetOccupation=!1;if(await Dialog.confirm({title:game.i18n.localize("CoC7.ResetOccupation"),content:`<p>${game.i18n.format("CoC7.ResetOccupationHint",{name:this.name})}</p>`,yes:()=>{resetOccupation=!0},defaultYes:!1}),!resetOccupation)return;await this.resetOccupation()}if(data.system.skills=await game.system.api.cocid.expandItemArray({itemList:data.system.skills}),Number(data.system.creditRating.max)>0){const actorCreditRating=game.system.api.cocid.findCocIdInList("i.skill.credit-rating",data.system.skills);0===actorCreditRating.length?0===game.system.api.cocid.findCocIdInList("i.skill.credit-rating",this.items).length&&(data.system.skills.push("i.skill.credit-rating"),data.system.skills=await game.system.api.cocid.expandItemArray({itemList:data.system.skills})):0===game.system.api.cocid.findCocIdInList("i.skill.credit-rating",this.items).length&&data.system.skills.push(actorCreditRating[0])}const pointsDialogData={};pointsDialogData.characteristics=data.system.occupationSkillPoints;let total=0,optionalChar=!1;for(const entry of Object.entries(data.system.occupationSkillPoints)){const[key,value]=entry,char=this.getCharacteristic(key);pointsDialogData.characteristics[key].name=char.label,pointsDialogData.characteristics[key].value=char.value,value.selected&&(pointsDialogData.characteristics[key].total=char.value*Number(pointsDialogData.characteristics[key].multiplier),value.optional?optionalChar=!0:total+=pointsDialogData.characteristics[key].total)}if(pointsDialogData.total=total,optionalChar){if(!await PointSelectDialog.create(pointsDialogData))return}for(let index=0;index<data.system.groups.length;index++){data.system.groups[index].skills=await game.system.api.cocid.expandItemArray({itemList:data.system.groups[index].skills});const dialogData={skills:[],type:"occupation"};dialogData.actorId=this.id,dialogData.optionsCount=Number(data.system.groups[index].options),dialogData.title=game.i18n.localize("CoC7.SkillSelectionWindow");for(const value of data.system.groups[index].skills)if(CoC7Item.isAnySpec(value))dialogData.skills.push(value);else{const skill=this.items.find((item=>item.name===value.name&&"skill"===item.type));if(!skill||!skill.system.flags?.occupation){data.system.skills.find((item=>item.name===value.name))||dialogData.skills.push(value)}}if(0!==dialogData.skills.length)if(dialogData.skills.length<=dialogData.optionsCount){ui.notifications.info(game.i18n.format("CoC7.InfoLessSkillThanOptions",{skillCount:dialogData.skills.length,optionsCount:dialogData.optionsCount}));const merged=CoC7Item.mergeOptionalSkills(data.system.skills,dialogData.skills);data.system.skills=merged}else{const selected=await SkillSelectDialog.create(dialogData);if(!selected)return;const merged=CoC7Item.mergeOptionalSkills(data.system.skills,selected);data.system.skills=merged}else ui.notifications.info(game.i18n.localize("CoC7.InfoAllSkillsAlreadySelected"))}if(Number(data.system.personal)){const dialogData={skills:[],type:"occupation"};dialogData.actorId=this.id,dialogData.optionsCount=Number(data.system.personal),dialogData.title=game.i18n.format("CoC7.SelectPersonalSkills",{number:Number(data.system.personal)});for(const s of this.skills)if(!s.system.flags.occupation&&!s.system.properties.noadjustments&&!s.system.properties.noxpgain){data.system.skills.find((item=>item.name===s.name))||dialogData.skills.push(s)}if(0!==dialogData.skills.length)if(dialogData.skills.length<=dialogData.optionsCount){ui.notifications.info(game.i18n.format("CoC7.InfoLessSkillThanOptions",{skillCount:dialogData.skills.length,optionsCount:dialogData.optionsCount}));const merged=CoC7Item.mergeOptionalSkills(data.system.skills,dialogData.skills);data.system.skills=merged}else{const selected=await SkillSelectDialog.create(dialogData);if(!selected)return;const merged=CoC7Item.mergeOptionalSkills(data.system.skills,selected);data.system.skills=merged}else ui.notifications.info(game.i18n.localize("CoC7.InfoAllSkillsAlreadySelected"))}await this.addUniqueItems(data.system.skills,"occupation"),await(this.creditRatingSkill?.setItemFlag("occupation")),await(this.creditRatingSkill?.update({"system.adjustments.occupation":Number(data.system.creditRating.min)})),processedDataArray.push(duplicate(data)),occupation=!0}break;default:processedDataArray.push(duplicate(data))}if(0===processedDataArray.length)return[];const processed=await super.createEmbeddedDocuments(embeddedName,processedDataArray,options);return archetype&&(await this.update({"system.development.archetype":this.archetypePoints}),Hooks.call("archetypeFinishedCoC7")),occupation&&(await this.update({"system.development.occupation":this.occupationPoints,"system.development.personal":this.personalPoints}),Hooks.call("occupationFinishedCoC7")),processed}getItemIdByName(itemName){let id=null;const name=itemName.match(/\(([^)]+)\)/)?itemName.match(/\(([^)]+)\)/)[1]:itemName;for(const value of this.items)CoC7Item.getNameWithoutSpec(value).toLowerCase()===name.toLowerCase()&&(id=value.id);return id}getItemsByName(itemName){const itemList=[];for(const value of this.items)value.name===itemName&&itemList.push(value);return itemList}getSkillsByName(skillName){const skillList=[],name=skillName.match(/\(([^)]+)\)/)?skillName.match(/\(([^)]+)\)/)[1]:skillName;for(const value of this.items)CoC7Item.getNameWithoutSpec(value).toLowerCase()!==name.toLowerCase()&&value.flags?.CoC7?.cocidFlag?.id!==skillName||"skill"!==value.type||skillList.push(value);return skillList}getFirstSkillByCoCID(cocid){return this.items.find((i=>i.flags?.CoC7?.cocidFlag?.id===cocid))}parseFormula(formula){let parsedFormula=formula;for(const[key,value]of Object.entries(COC7.formula.actor))parsedFormula=parsedFormula.replace(key,value);return parsedFormula}parseCharacteristics(){const parsed={};for(const[key,value]of Object.entries(COC7.formula.actor))key.startsWith("@")&&value.startsWith("this.")&&(parsed[key.substring(1)]=getProperty(this,value.substring(5)));return parsed}static getCharacteristicDefinition(){const characteristics=[];for(const[key,value]of Object.entries(game.system.template.Actor.templates.characteristics.characteristics))characteristics.push({key,shortName:game.i18n.localize(value.short),label:game.i18n.localize(value.label)});return characteristics}getCharacteristic(charName){if(this.system.characteristics)for(const[key,value]of Object.entries(this.system.characteristics))if(game.i18n.localize(value.short).toLowerCase()===charName.toLowerCase()||game.i18n.localize(value.label).toLowerCase()===charName.toLowerCase()||key===charName.toLowerCase())return{key,shortName:game.i18n.localize(value.short),label:game.i18n.localize(value.label),value:value.value};return null}getAttribute(attribName){return["lck","luck",game.i18n.localize("CoC7.Luck").toLowerCase()].includes(attribName.toLowerCase())?{key:"lck",shortName:"luck",label:game.i18n.localize("CoC7.Luck"),value:this.system.attribs.lck.value}:["san",game.i18n.localize("CoC7.SAN").toLowerCase(),game.i18n.localize("CoC7.Sanity").toLowerCase()].includes(attribName.toLowerCase())?{key:"san",shortName:game.i18n.localize("CoC7.SAN"),label:game.i18n.localize("CoC7.Sanity"),value:this.system.attribs.san.value}:null}async runRoll(options={}){void 0===options.cardType&&(options.cardType=CoC7ChatMessage.CARD_TYPE_NORMAL),void 0===options.preventStandby&&(options.preventStandby=!0),options.actor=this;return await CoC7ChatMessage.trigger(options)}get occupation(){return this.items.filter((item=>"occupation"===item.type))[0]}get archetype(){return this.items.filter((item=>"archetype"===item.type))[0]}async resetOccupation(eraseOld=!0){if(eraseOld){const occupationSkill=this.items.filter((item=>item.getItemFlag("occupation")));for(let index=0;index<occupationSkill.length;index++)await occupationSkill[index].unsetItemFlag("occupation")}this.occupation&&await this.occupation.delete(),await this.update({"system.development.occupation":null})}async resetArchetype(eraseOld=!0){if(eraseOld){const archetypeSkill=this.items.filter((item=>item.getItemFlag("archetype")));for(let index=0;index<archetypeSkill.length;index++)await archetypeSkill[index].unsetItemFlag("archetype")}this.archetype&&await this.archetype.delete(),await this.update({"system.development.archetype":null})}get luck(){return parseInt(this.system.attribs?.lck?.value)}async setLuck(value){return await this.update({"system.attribs.lck.value":value})}async spendLuck(amount){return amount=parseInt(amount),this.luck>=amount&&this.setLuck(this.luck-amount)}get hp(){return parseInt(this.system.attribs.hp.value)}get rawHpMax(){return this.system.attribs.hp.auto?null!=this.system.characteristics.siz.value&&null!=this.system.characteristics.con.value?CoCActor.hpFromCharacteristics(this.system.characteristics,this.type):this.system.attribs.hp.max?parseInt(this.system.attribs.hp.max):null:parseInt(this.system.attribs.hp.max)}get hpMax(){return parseInt(this.system.attribs.hp.max)}async _setHp(value){return value<0&&(value=0),value>this.system.attribs.hp.max&&(value=parseInt(this.system.attribs.hp.max)),await this.update({"system.attribs.hp.value":value})}async addUniqueItems(skillList,flag=null){const processed=[];for(let skill of skillList)if(skill=duplicate(skill),flag&&(Object.prototype.hasOwnProperty.call(skill.system,"flags")||(skill.system.flags={}),skill.system.flags[flag]=!0),CoC7Item.isAnySpec(skill))processed.push(skill);else{const itemId=this.getItemIdByName(skill.name);if(itemId){if(flag){const item=this.items.get(itemId);await item.setItemFlag(flag)}}else processed.push(skill)}0!==processed.length&&await this.createEmbeddedDocuments("Item",processed,{renderSheet:!1})}async addItems(itemList,flag=null){const processed=[];for(const item of itemList)flag&&(item.system.flags||(item.system.flags={}),item.system.flags[flag]=!0),processed.push(duplicate(item));if(0!==processed.length)return await this.createEmbeddedDocuments("Item",processed,{renderSheet:!1})}async addUniqueItem(skill,flag=null){const itemId=this.getItemIdByName(skill.name);if(itemId){if(flag){const item=this.items.get(itemId);await item.setItemFlag(flag)}}else flag&&(skill.system.flags||(skill.system.flags={}),skill.system.flags[flag]=!0),await this.createEmbeddedDocuments("Item",[skill],{renderSheet:!1})}get rawMpMax(){return this.system.attribs.mp.auto?null!=this.system.characteristics.pow.value?CoCActor.mpFromCharacteristics(this.system.characteristics):0:parseInt(this.system.attribs.mp.max)}getReasonSanLoss(sanReason){return"string"==typeof sanReason?this.system.sanityLossEvents.filter((r=>r.type.toLocaleLowerCase()===sanReason.toLocaleLowerCase()))[0]??{type:"",totalLoss:0,immunity:!1}:{type:"",totalLoss:0,immunity:!1}}sanLostToReason(sanReason){if(sanReason){return this.getReasonSanLoss(sanReason).totalLoss}return 0}sanLossReasonEncountered(sanReason){if(sanReason){return""!==this.getReasonSanLoss(sanReason).type}return!1}setReasonSanLoss(sanReason,sanLoss){if("string"==typeof sanReason&&""!==sanReason){const sanityLossEvents=duplicate(this.system.sanityLossEvents),index=sanityLossEvents.findIndex((r=>r.type.toLocaleLowerCase()===sanReason.toLocaleLowerCase()));return sanLoss>0?-1===index?sanityLossEvents.push({type:sanReason,totalLoss:sanLoss,immunity:!1}):sanityLossEvents[index].totalLoss+=sanLoss:index>-1&&(sanityLossEvents.splice(index,1),sanityLossEvents.sort((function(left,right){return left.type.localeCompare(right.type)}))),this.update({"system.sanityLossEvents":sanityLossEvents})}}maxLossToSanReason(sanReason,sanMaxFormula){const sanMax=new Roll(sanMaxFormula.toString()).evaluate({maximize:!0}).total,sanityLossEvent=this.getReasonSanLoss(sanReason);return sanityLossEvent.immunity?0:Math.max(0,sanMax-sanityLossEvent.totalLoss)}async looseSan(sanReason,sanLoss){return this.getReasonSanLoss(sanReason).immunity?0:(await this.setSan(this.san-sanLoss),this.setReasonSanLoss(sanReason,sanLoss),sanLoss)}sanLoss(checkPassed){return checkPassed?this.sanLossCheckPassed:this.sanLossCheckFailled}get sanLossCheckPassed(){return this.system.special?.sanLoss?.checkPassed}get sanLossCheckFailled(){return this.system.special?.sanLoss?.checkFailled}get sanLossMax(){return this.sanLossCheckFailled?isNaN(Number(this.sanLossCheckFailled))?new Roll(this.sanLossCheckFailled).evaluate({maximize:!0}).total:Number(this.sanLossCheckFailled):0}get sanLossMin(){return this.sanLossCheckPassed?isNaN(Number(this.sanLossCheckPassed))?new Roll(this.sanLossCheckPassed).evaluate({maximize:!0}).total:Number(this.sanLossCheckPassed):0}get dailySanLoss(){return this.system.attribs.san?.dailyLoss||0}get dailySanLimit(){return this.system.attribs.san?.dailyLimit||0}get rawSanMax(){if(this.system.attribs)return this.system.attribs?.san?.auto?this.cthulhuMythos?Math.max(99-this.cthulhuMythos,0):99:parseInt(this.system.attribs.san.max)}get sanMax(){return parseInt(this.system.attribs.san.max)}get mp(){return parseInt(this.system.attribs.mp.value)}get mpMax(){return this.system.attribs.mp.auto?null!=this.system.characteristics.pow.value?Math.floor(this.system.characteristics.pow.value/5):0:parseInt(this.system.attribs.mp.max)}async setMp(value){return value<0&&(value=0),value>parseInt(this.system.attribs.mp.max)&&(value=parseInt(this.system.attribs.mp.max)),await this.update({"system.attribs.mp.value":value})}get san(){return parseInt(this.system.attribs.san.value)}get int(){return this.getCharacteristic("int")}get occupationPointsSpent(){let occupationPoints=0;for(const skill of this.skills)skill.system.adjustments?.occupation&&(occupationPoints+=skill.system.adjustments.occupation);return occupationPoints}get occupationPoints(){if(!this.occupation)return 0;let points=0;for(const entry of Object.entries(this.occupation.system.occupationSkillPoints)){const[key,value]=entry,char=this.getCharacteristic(key);value.selected&&(points+=char.value*Number(value.multiplier))}return points}async resetOccupationPoints(){await this.update({"system.development.occupation":this.occupationPoints})}async resetArchetypePoints(){await this.update({"system.development.archetype":this.occupationPoints})}async resetPersonalPoints(){await this.update({"system.development.personal":this.personalPoints})}get archetypePointsSpent(){let archetypePoints=0;for(const skill of this.skills)skill.system.adjustments?.archetype&&(archetypePoints+=skill.system.adjustments.archetype);return archetypePoints}get archetypePoints(){return this.archetype?this.archetype.system.bonusPoints:0}get experiencePoints(){let experiencePoints=0;for(const skill of this.skills)skill.system.adjustments?.experience&&(experiencePoints+=skill.system.adjustments.experience);return experiencePoints}get personalPointsSpent(){let personalPoints=0;for(const skill of this.skills)skill.system.adjustments?.personal&&(personalPoints+=skill.system.adjustments.personal);return personalPoints}get personalPoints(){return 2*Number(this.system.characteristics.int.value)}get hasDevelopmentPhase(){for(const skill of this.skills)if(skill.system.flags?.developement)return!0;if(this.onlyRunOncePerSession)return!1;for(const sanityLossEvent of this.system.sanityLossEvents)if(!sanityLossEvent.immunity)return!0;return!1}async setSan(value){value<0&&(value=0),value>this.system.attribs.san.max&&(value=this.system.attribs.san.max);const loss=parseInt(this.system.attribs.san.value)-value;if(loss>0){let totalLoss=parseInt(this.system.attribs.san.dailyLoss)?parseInt(this.system.attribs.san.dailyLoss):0;totalLoss+=loss,loss>=5&&this.setCondition(COC7.status.tempoInsane),totalLoss>=this.system.attribs.san.dailyLimit&&this.setCondition(COC7.status.indefInsane),await this.update({"system.attribs.san.value":value,"system.attribs.san.dailyLoss":totalLoss})}else await this.update({"system.attribs.san.value":value});return value}async setAttribAuto(value,attrib){const updatedKey=`system.attribs.${attrib}.auto`;return await this.update({[updatedKey]:value})}async toggleAttribAuto(attrib){this.setAttribAuto(!this.system.attribs[attrib].auto,attrib)}static dbFromCharacteristics(characteristics){const sum=(characteristics.str.value??0)+(characteristics.siz.value??0);return sum<65?-2:sum<85?-1:sum<125?0:sum<165?"1D4":`${Math.floor((sum-45)/80)}D6`}static buildFromCharacteristics(characteristics){const sum=(characteristics.str.value??0)+(characteristics.siz.value??0);return sum<65?-2:sum<85?-1:sum<125?0:sum<165?1:Math.floor((sum-45)/80)+1}static hpFromCharacteristics(characteristics,type){const sum=parseInt(characteristics.siz.value??0,10)+parseInt(characteristics.con.value??0,10),divisor=game.settings.get("CoC7","pulpRuleDoubleMaxHealth")&&"character"===type?5:10;return Math.floor(sum/divisor)}static mpFromCharacteristics(characteristics){return Math.floor(characteristics.pow.value/5)}static movFromCharacteristics(characteristics,type,age){let MOV;return MOV=characteristics.dex.value>characteristics.siz.value&&characteristics.str.value>characteristics.siz.value?9:characteristics.dex.value>=characteristics.siz.value||characteristics.str.value>=characteristics.siz.value?8:7,"creature"===type||game.settings.get("CoC7","pulpRuleIgnoreAgePenalties")||isNaN(parseInt(age))||(MOV=parseInt(age)>=40?MOV-Math.floor(parseInt(age)/10)+3:MOV),Math.max(0,MOV)}get rawBuild(){return this.system.attribs&&this.system.attribs.build?("auto"===this.system.attribs.build.value&&(this.system.attribs.build.auto=!0),this.system.attribs.build.auto?CoCActor.buildFromCharacteristics(this.system.characteristics):this.system.attribs.build.value):null}get build(){return this.system.attribs.build.value}get rawDb(){return this.system.attribs&&this.system.attribs.db?("auto"===this.system.attribs.db.value&&(this.system.attribs.db.auto=!0),this.system.attribs.db.auto?CoCActor.dbFromCharacteristics(this.system.characteristics):this.system.attribs.db.value):null}get db(){return this.system.attribs.db.value}get rawMov(){if(!this.system.attribs)return null;if(!this.system.attribs.mov)return null;if("auto"===this.system.attribs.mov.value&&(this.system.attribs.mov.auto=!0),this.system.attribs.mov.auto){const MOV=CoCActor.movFromCharacteristics(this.system.characteristics,this.system.type,this.system.infos.age);if(MOV>0)return MOV}return this.system.attribs.mov.value}get mov(){return this.system.attribs.mov.value}get tokenId(){return this.token?`${this.token.scene._id}.${this.token.id}`:null}get locked(){return this.system.flags||(this.system.flags={},this.system.flags.locked=!0,this.update({"system.flags":{}}),this.update({"system.flags.locked":!1})),this.system.flags.locked}getItemsFromName(name){return this.items.filter((i=>i.name===name))}set locked(value){this.update({"system.flags.locked":value})}async toggleActorFlag(flagName){const flagValue=!this.system.flags[flagName],name=`system.flags.${flagName}`;await this.update({[name]:flagValue})}async attributeCheck(attributeName,fastForward=!1,options={}){const attrib=this.getAttribute(attributeName.toLowerCase());if(!attrib)return ui.notifications.error(game.i18n.format("CoC7.ErrorNotFound",{missing:attributeName})),null;const check=new CoC7Check;if(options.modifier&&(check.diceModifier=Number(options.modifier)),options.difficulty&&(check.difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!fastForward&&(void 0===options.difficulty||void 0===options.modifier)){const usage=await RollDialog.create(options);usage&&(check.diceModifier=Number(usage.get("bonusDice")),check.difficulty=Number(usage.get("difficulty")),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=this.tokenKey,"false"===options.blind?check.isBlind=!1:check.isBlind=!!options.blind,await check.rollAttribute(attrib.key),check.toMessage()}async characteristicCheck(characteristicName,fastForward=!1,options={}){const char=this.getCharacteristic(characteristicName);if(!char)return void ui.notifications.error(game.i18n.format("CoC7.ErrorNotFoundForActor",{missing:characteristicName,actor:this.name}));const check=new CoC7Check;if(options.modifier&&(check.diceModifier=Number(options.modifier)),options.difficulty&&(check.difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!fastForward&&(void 0===options.difficulty||void 0===options.modifier)){options.displayName=char.label;const usage=await RollDialog.create(options);usage&&(check.diceModifier=Number(usage.get("bonusDice")),check.difficulty=Number(usage.get("difficulty")),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=this.tokenKey,"false"===options.blind?check.isBlind=!1:check.isBlind=!!options.blind,await check.rollCharacteristic(char.key),check.toMessage()}async skillCheck(skillData,fastForward,options={}){let skill=this.getSkillsByName(skillData.name?skillData.name:skillData);if(!skill.length){let item=null;if(skillData.pack){const pack=game.packs.get(skillData.pack);if("Item"!==pack.metadata.entity)return;item=await pack.getDocument(skillData.id)}else skillData.id&&(item=game.items.get(skillData.id));if(!item){const check=new CoC7Check;check._rawValue="?",await check.roll(),check.toMessage()}if(!item)return ui.notifications.warn(game.i18n.format("CoC7.NoSkill")+game.i18n.format("CoC7.ErrorNotFoundForActor",{missing:skillData.name?skillData.name:skillData,actor:this.name}));let create=!1;if(await Dialog.confirm({title:`${game.i18n.localize("CoC7.AddWeapon")}`,content:`<p>${game.i18n.format("CoC7.AddWeapontHint",{weapon:skillData.name,actor:this.name})}</p>`,yes:()=>{create=!0}}),!0!==create)return;if(await this.createEmbeddedDocuments("Item",[duplicate(item)]),skill=this.getSkillsByName(item.name),!skill.length)return;if(game.user.isGM){const skillValue=await SkillValueDialog.create(skill[0].name,skill[0].base),value=Number(skillValue.get("base-value"));await skill[0].updateValue(value)}}const check=new CoC7Check;if(void 0!==options.modifier&&(check.diceModifier=Number(options.modifier)),void 0!==options.difficulty&&(check.difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!fastForward&&(void 0===options.difficulty||void 0===options.modifier)){const usage=await RollDialog.create(options);usage&&(check.diceModifier=Number(usage.get("bonusDice")),check.difficulty=Number(usage.get("difficulty")),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=this.tokenKey,check.skill=skill[0].id,"false"===options.blind?check.isBlind=!1:check.isBlind=!!options.blind,await check.roll(),check.toMessage()}async weaponCheck(weaponData,fastForward=!1){let weapon;if(void 0!==weaponData.uuid&&(weapon=await fromUuid(weaponData.uuid)),void 0!==weaponData.id&&(weapon=this.items.get(weaponData.id)),!weapon){let weapons=this.getItemsFromName(weaponData.name);if(0===weapons.length){if(!game.user.isGM)return void ui.notifications.warn(game.i18n.format("CoC7.ErrorActorHasNoWeaponNamed",{actorName:this.name,weaponName:weaponData.name}));{let item=null;const pack=weaponData.pack?game.packs.get(weaponData.pack):null;if(pack){if("Item"!==pack.metadata.entity)return;item=await pack.getDocument(weaponData.id)}else weaponData.id&&(item=game.items.get(weaponData.id));if(!item)return ui.notifications.warn(game.i18n.localize("CoC7.WarnMacroNoItemFound"));let create=!1;await Dialog.confirm({title:`${game.i18n.localize("CoC7.AddWeapon")}`,content:`<p>${game.i18n.format("CoC7.AddWeapontHint",{weapon:weaponData.name,actor:this.name})}</p>`,yes:()=>{create=!0}});const actor=void 0!==this.parent?.actor?this.parent.actor:this;if(!0!==create)return;if(await actor.createEmbeddedDocuments("Item",[item.toJSON()]),weapons=actor.getItemsFromName(item.name),!weapons.length)return;await weapons[0].reload()}}else weapons.length>1&&ui.notifications.warn(game.i18n.format("CoC7.ErrorActorHasTooManyWeaponsNamed",{actorName:this.name,weaponName:weaponData.name}));weapon=weapons[0]}if(!weapon.system.properties.rngd){game.user.targets.size>1&&ui.notifications.warn(game.i18n.localize("CoC7.WarnTooManyTarget"));new CoC7MeleeInitiator(this.tokenKey,weaponData.uuid||weapon.id,fastForward).createChatCard()}if(weapon.system.properties.rngd){new CoC7RangeInitiator(this.tokenKey,weaponData.uuid||weapon.id,fastForward).createChatCard()}}async rollInitiative(hasGun=!1){if("optional"===game.settings.get("CoC7","initiativeRule")){const roll=new CoC7Check(this.actorKey);return roll.denyPush=!0,roll.denyLuck=!0,roll.denyBlindTampering=!0,roll.hideDice=!1===game.settings.get("CoC7","displayInitDices"),roll.flavor="Initiative roll",await roll.rollCharacteristic("dex",hasGun?1:0),roll.toMessage(),roll.successLevel+this.system.characteristics.dex.value/100}return hasGun?this.system.characteristics.dex.value+50:this.system.characteristics.dex.value}getActorFlag(flagName){return this.system.flags?!!this.system.flags[flagName]&&this.system.flags[flagName]:(this.system.flags={},this.system.flags.locked=!0,this.update({"system.flags":{}}),!1)}async setActorFlag(flagName){await this.update({[`system.flags.${flagName}`]:!0})}async unsetActorFlag(flagName){await this.update({[`system.flags.${flagName}`]:!1})}getWeaponSkills(itemId){let weapon=fromUuidSync(itemId);if(weapon?void 0===weapon.system&&(weapon=game.packs.get(weapon.pack).get(weapon._id)):weapon=this.items.get(itemId),"weapon"!==weapon.type)return null;const skills=[];return weapon.system.skill.main.id&&skills.push(this.items.get(weapon.system.skill.main.id)),weapon.usesAlternativeSkill&&weapon.system.skill.alternativ.id&&skills.push(this.items.get(weapon.system.skill.alternativ.id)),skills}find(name){if(!name)return;const item=this.items.get(name);if(item)return{type:"item",value:item};const matches=/\(([^)]+)\)/.exec(name);let shortName=null;matches&&matches.length&&(shortName=matches[1]);const skill=this.skills.filter((s=>!!s.name&&(s.name.toLocaleLowerCase().replace(/\s/g,"")===name.toLocaleLowerCase().replace(/\s/g,"")||s.name.toLocaleLowerCase().replace(/\s/g,"")===name.toLocaleLowerCase().replace(/\s/g,"")||s.name.toLocaleLowerCase().replace(/\s/g,"")===shortName?.toLocaleLowerCase().replace(/\s/g,""))));if(skill.length)return{type:"item",value:skill[0]};const charKey=["str","con","siz","dex","app","int","pow","edu"];for(let i=0;i<charKey.length;i++){const char=this.getCharacteristic(charKey[i]);if(char){if(char.name=char.label,char.key?.toLocaleLowerCase()===name.toLowerCase()||char.key?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"characteristic",value:char};if(char.shortName?.toLocaleLowerCase()===name.toLowerCase()||char.shortName?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"characteristic",value:char};if(char.label?.toLocaleLowerCase()===name.toLowerCase()||char.label?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"characteristic",value:char}}}const attribKey=["lck","san"];for(let i=0;i<attribKey.length;i++){const attr=this.getAttribute(attribKey[i]);if(attr){if(attr.name=attr.label,attr.key?.toLocaleLowerCase()===name.toLowerCase()||attr.key?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"attribute",value:attr};if(attr.shortName?.toLocaleLowerCase()===name.toLowerCase()||attr.shortName?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"attribute",value:attr};if(attr.label?.toLocaleLowerCase()===name.toLowerCase()||attr.label?.toLocaleLowerCase()===shortName?.toLowerCase())return{type:"attribute",value:attr}}}}get pilotSkills(){return this.skills.filter((s=>s.system.properties?.special&&s.system.specialization?.toLocaleLowerCase()===game.i18n.localize("CoC7.PilotSpecializationName")?.toLocaleLowerCase()))}get driveSkills(){return this.skills.filter((s=>s.system.properties?.special&&s.system.specialization?.toLocaleLowerCase()===game.i18n.localize("CoC7.DriveSpecializationName")?.toLocaleLowerCase()))}get tokenUuid(){return this.sheet.token?this.sheet.token.uuid:null}get tokenKey(){return this.sheet.token?`${this.sheet.token.parent.id}.${this.sheet.token.id}`:this.id}get actorKey(){return this.prototypeToken.actorLink?this.id:this.tokenKey}static getActorFromKey(key){if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;return new Token(tokenData).actor}}return game.actors.get(key)||null}async rollCharacteristicsValue(){const characteristics={};for(const[key,value]of Object.entries(this.system.characteristics))if(value.formula&&!value.formula.startsWith("@")){const r=new Roll(value.formula);await r.roll({async:!0}),r.total&&(characteristics[`system.characteristics.${key}.value`]=Math.floor(r.total))}await this.update(characteristics),await this.reportCharactedriticsValue()}async averageCharacteristicsValue(){const characteristics={};for(const[key,value]of Object.entries(this.system.characteristics))if(value.formula&&!value.formula.startsWith("@")){const max=new Roll(value.formula).evaluate({maximize:!0}).total,min=new Roll(value.formula).evaluate({minimize:!0}).total,average=Math.floor((max+min)/2),charValue=average%5==0?average:10*Math.round(average/10);charValue&&(characteristics[`system.characteristics.${key}.value`]=charValue)}await this.update(characteristics),await this.reportCharactedriticsValue()}async reportCharactedriticsValue(){const characteristics={};for(const[key,value]of Object.entries(this.system.characteristics))if(value.formula&&value.formula.startsWith("@")){let charValue;try{charValue=new Roll(value.formula,this.parseCharacteristics()).evaluate({maximize:!0}).total}catch(err){charValue=null}charValue&&(characteristics[`system.characteristics.${key}.value`]=charValue)}await this.update(characteristics)}async setCharacteristic(name,value){const characteristic={},charValue=isNaN(parseInt(value))?null:parseInt(value);if(characteristic[name]=charValue,!charValue&&value.startsWith("@")){characteristic[name.replace(".value",".formula")]=value}await this.update(characteristic),await this.reportCharactedriticsValue()}async developementPhase(fastForward=!1){const failure=[],success=[],title=game.i18n.localize("CoC7.RollAll4Dev");let skillsRolled=0,message='<p class="chat-card">';for(const item of this.items)if("skill"===item.type&&item.developementFlag){skillsRolled++;const die=await new Die({faces:100}).evaluate({async:!0}),skillValue=item.value;let augment=null,skillMasteringMessage=null;if(die.total>skillValue||die.total>=95){const augmentDie=await new Die({faces:10}).evaluate({async:!0});if(success.push(item.id),skillValue<90&&skillValue+augmentDie.total>=90){const augmentSANDie=await new Die({faces:6,number:2}).evaluate({async:!0}),sanGained=augmentSANDie.total,sanGainedMessage=`Gained 2d6 (${augmentSANDie.values[0]} + ${augmentSANDie.values[1]} = ${sanGained}) SAN`;console.debug(sanGainedMessage),skillMasteringMessage=`<span class="upgrade-success">${game.i18n.format("CoC7.SanGained",{results:`${augmentSANDie.values[0]} + ${augmentSANDie.values[1]}`,sanGained,skill:item.name,skillValue:skillValue+augmentDie.total})}</span><br>`,await this.setSan(this.san+sanGained)}augment+=augmentDie.total,message+=`<span class="upgrade-success">${game.i18n.format("CoC7.DevSuccess",{item:item.name,die:die.total,score:item.value,augment:augmentDie.total})}</span><br>`,null!==skillMasteringMessage&&(message+=skillMasteringMessage),await item.increaseExperience(augment)}else message+=`<span class="upgrade-failed">${game.i18n.format("CoC7.DevFailure",{item:item.name,die:die.total,score:item.value})}</span><br>`,failure.push(item.id);await item.unflagForDevelopement()}const sanityLossEvents=[];let changed=!1;for(const sanityLossEvent of this.system.sanityLossEvents)sanityLossEvent.immunity?sanityLossEvents.push(sanityLossEvent):sanityLossEvent.totalLoss>1?(sanityLossEvent.totalLoss--,sanityLossEvents.push(sanityLossEvent),changed=!0):changed=!0;if(changed&&(skillsRolled&&(message+="<br>"),message+=`<span>${game.i18n.format("CoC7.ReduceSanityLimits")}</span>`,await this.update({"system.sanityLossEvents":sanityLossEvents})),!fastForward){message+="</p>";const speaker={actor:this};await chatHelper.createMessage(skillsRolled?title:"",message,{speaker}),this.onlyRunOncePerSession=!0}return{failure,success}}async developLuck(fastForward=!1){const currentLuck=this.system.attribs.lck.value;currentLuck||await this.update({"system.attribs.lck.value":0});const pulpRuleDevelopmentRollLuck=game.settings.get("CoC7","pulpRuleDevelopmentRollLuck"),upgradeRoll=(await new Roll("1D100").roll({async:!0})).total,higherThanCurrentLuck=upgradeRoll>currentLuck;let augmentRoll;pulpRuleDevelopmentRollLuck?augmentRoll=higherThanCurrentLuck?"2D10+10":"1D10+5":higherThanCurrentLuck&&(augmentRoll="1D10");const title=game.i18n.localize("CoC7.RollLuck4Dev");let message='<p class="chat-card">';if(pulpRuleDevelopmentRollLuck||higherThanCurrentLuck){const augmentValue=(await new Roll(augmentRoll).roll({async:!0})).total;await this.update({"system.attribs.lck.value":this.system.attribs.lck.value+augmentValue}),message+=`<span class="upgrade-success">${game.i18n.format("CoC7.LuckIncreased",{die:upgradeRoll,score:currentLuck,augment:augmentValue})}</span>`}else message+=`<span class="upgrade-failed">${game.i18n.format("CoC7.LuckNotIncreased",{die:upgradeRoll,score:currentLuck})}</span>`;if(!fastForward){message+="</p>";const speaker={actor:this};await chatHelper.createMessage(title,message,{speaker})}}async developSkill(skillId,fastForward=!1){const skill=this.items.get(skillId);if(!skill)return;let title="",message="";const upgradeRoll=new Roll("1D100");if(await upgradeRoll.roll({async:!0}),fastForward||await CoC7Dice.showRollDice3d(upgradeRoll),upgradeRoll.total>skill.value||upgradeRoll.total>=95){const augmentRoll=new Roll("1D10");await augmentRoll.roll({async:!0}),fastForward||await CoC7Dice.showRollDice3d(augmentRoll),message=game.i18n.format("CoC7.DevSuccessDetails",{item:skill.name,augment:augmentRoll.total}),title=game.i18n.format("CoC7.DevRollTitle",{item:skill.name,die:upgradeRoll.total,score:skill.value}),await skill.increaseExperience(augmentRoll.total)}else title=game.i18n.format("CoC7.DevRollTitle",{item:skill.name,die:upgradeRoll.total,score:skill.value}),message=game.i18n.format("CoC7.DevFailureDetails",{item:skill.name});const speaker={actor:this._id};await chatHelper.createMessage(title,message,{speaker}),await skill.unflagForDevelopement()}hasConditionStatus(conditionName){const conditionValue=this.system.conditions?.[conditionName]?.value;return"boolean"==typeof conditionValue&&conditionValue}hasConditionValue(conditionName,field){if(this.hasConditionStatus(conditionName)){if(conditionName===COC7.status.tempoInsane&&"durationText"===field){const realTime=this.hasConditionValue(conditionName,"realTime"),duration=this.hasConditionValue(conditionName,"duration");if(void 0!==duration){if(!0===realTime)return duration+" "+game.i18n.localize("CoC7.rounds");if(!1===realTime)return duration+" "+game.i18n.localize("CoC7.hours")}return""}return this.system.conditions?.[conditionName]?.[field]}}async toggleCondition(conditionName){this.hasConditionStatus(conditionName)?await this.unsetCondition(conditionName):await this.setCondition(conditionName)}async setCondition(conditionName,{forceValue=!1,justThis=!1,realTime=null,duration=null}={}){if(!forceValue&&game.settings.get("CoC7","enableStatusIcons")){const effects=this.effects.filter((effect=>effect.flags.core?.statusId===conditionName)).map((effect=>effect.id)),custom={};switch(conditionName){case COC7.status.dead:custom.flags={core:{overlay:!0}};break;case COC7.status.tempoInsane:custom.flags={CoC7:{realTime:void 0}},custom.duration={rounds:void 0,seconds:void 0},!0!==realTime&&!1!==realTime||(custom.flags.CoC7.realTime=realTime,custom.flags={CoC7:{realTime}},null!=duration&&(realTime?custom.duration.rounds=duration:custom.duration.seconds=3600*duration))}if(0===effects.length){const effect=CONFIG.statusEffects.filter((effect=>effect.id===conditionName));if(1===effect.length){const effectData=mergeObject({label:game.i18n.localize(effect[0].label),icon:effect[0].icon,flags:{core:{statusId:effect[0].id}},disabled:!1},custom);await super.createEmbeddedDocuments("ActiveEffect",[effectData])}else forceValue=!0}else custom._id=effects[0],await super.updateEmbeddedDocuments("ActiveEffect",[custom]),forceValue=!0}if(forceValue||!game.settings.get("CoC7","enableStatusIcons")){switch(conditionName){case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:await this.update({[`system.conditions.${conditionName}.value`]:!0});break;case COC7.status.tempoInsane:{const fields={};fields[`system.conditions.${conditionName}.value`]=!0,!0!==realTime&&!1!==realTime||(fields[`system.conditions.${conditionName}.realTime`]=realTime,null!=duration&&(fields[`system.conditions.${conditionName}.duration`]=duration)),Object.prototype.hasOwnProperty.call(fields,`system.conditions.${conditionName}.realTime`)||(fields[`system.conditions.${conditionName}.-=realTime`]=null),Object.prototype.hasOwnProperty.call(fields,`system.conditions.${conditionName}.duration`)||(fields[`system.conditions.${conditionName}.-=duration`]=null),await this.update(fields)}}if(!justThis)switch(conditionName){case COC7.status.criticalWounds:if(await this.setCondition(COC7.status.prone),!this.hasConditionStatus(COC7.status.unconscious)&&!this.hasConditionStatus(COC7.status.dead)){new CoC7ConCheck(this.isToken?this.tokenKey:this.id).toMessage()}break;case COC7.status.dead:await this.unsetCondition(COC7.status.criticalWounds),await this.unsetCondition(COC7.status.dying),await this.unsetCondition(COC7.status.unconscious)}}}async unsetCondition(conditionName,{forceValue=!1}={}){if(!forceValue&&game.settings.get("CoC7","enableStatusIcons")){const effects=this.effects.filter((effect=>effect.flags.core?.statusId===conditionName)).map((effect=>effect.id));effects.length>0?await super.deleteEmbeddedDocuments("ActiveEffect",effects):forceValue=!0}if(forceValue||!game.settings.get("CoC7","enableStatusIcons"))switch(conditionName){case COC7.status.tempoInsane:case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:await this.update({[`system.conditions.${conditionName}.value`]:!1})}}async resetCounter(counter){await this.update({[counter]:0})}async resetDailySanity(){await this.update({"system.attribs.san.dailyLimit":Math.floor(this.system.attribs.san.value/5),"system.attribs.san.dailyLoss":0})}get fightingSkills(){const skillList=[];for(const value of this.items)"skill"===value.type&&value.system.properties.fighting&&skillList.push(value);return skillList.sort(CoC7Utilities.sortByNameKey),skillList}get closeCombatWeapons(){const weaponList=[];for(const value of this.items)if("weapon"===value.type&&!value.system.properties.rngd){const skill=this.items.get(value.system.skill.main.id);value.system.skill.main.value=skill?skill.value:0,weaponList.push(value)}return weaponList.sort(CoC7Utilities.sortByNameKey),weaponList}get firearmSkills(){const skillList=[];for(const value of this.items)"skill"===value.type&&value.system.properties.firearm&&skillList.push(value);return skillList.sort(CoC7Utilities.sortByNameKey),skillList}get user(){return game.users.find((user=>!(!user.character||user.character.id!==this.id)))}get dodgeSkill(){const skill=this.getFirstSkillByCoCID("i.skill.dodge");if(skill)return skill;const skillList=this.getSkillsByName(game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.dodge"));return 0!==skillList.length?skillList[0]:null}get creditRatingSkill(){const skill=this.getFirstSkillByCoCID("i.skill.credit-rating");if(skill)return skill;const skillList=this.getSkillsByName(game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.credit-rating"));return 0!==skillList.length?skillList[0]:null}get cthulhuMythosSkill(){const skill=this.getFirstSkillByCoCID("i.skill.cthulhu-mythos");if(skill)return skill;const skillList=this.getSkillsByName(game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.cthulhu-mythos"));return 0!==skillList.length?skillList[0]:null}get cthulhuMythos(){const CM=this.cthulhuMythosSkill;if(CM){const value=CM.value;return value||parseInt(CM.system.value)}return 0}get mythosHardened(){return this.getFlag("CoC7","mythosHardened")||!1}async setMythosHardened(){await this.setFlag("CoC7","mythosHardened",!0)}get mythosInsanityExperienced(){return this.getFlag("CoC7","mythosInsanityExperienced")||!1}async experienceFirstMythosInsanity(){await this.setFlag("CoC7","mythosInsanityExperienced",!0)}get creditRating(){const CR=this.creditRatingSkill;if(CR){const value=CR.value;return value||parseInt(CR.system.value)}return 0}static monetaryFormat(format,symbol,value){switch(format){case COC7.monetaryFormatKeys.lsd:return Math.floor(value/240)+"/"+Math.floor(value/12)%20+"/"+value%12;case COC7.monetaryFormatKeys.roman:return Math.floor(value/400)+"/"+Math.floor(value/16)%25+"/"+Math.floor(value/8)%2+"/"+Math.floor(value/4)%2+"/"+value%4;case COC7.monetaryFormatKeys.decimalLeft:return symbol+Number(value).toLocaleString(void 0,{minimumFractionDigits:2}).replace(/\.00$/,"");case COC7.monetaryFormatKeys.decimalRight:return Number(value).toLocaleString(void 0,{minimumFractionDigits:2}).replace(/\.00$/,"")+" "+symbol;case COC7.monetaryFormatKeys.integerLeft:return symbol+Number(value).toLocaleString();case COC7.monetaryFormatKeys.integerRight:return Number(value).toLocaleString()+" "+symbol}return"0"}static monetaryValue(format,values,CR,type,value){CR=CR||0;const row=values.find((r=>("object"==typeof r.min||r.min<=CR)&&("object"==typeof r.max||r.max>=CR)));if(void 0!==row&&void 0!==row[type]&&void 0!==row[value])switch(format){case COC7.monetaryFormatKeys.lsd:switch(row[type]){case COC7.monetaryTypeKeys.multiplier:return 240*CR*row[value];case COC7.monetaryTypeKeys.value:return 240*row[value];case COC7.monetaryTypeKeys.s:return 12*row[value];case COC7.monetaryTypeKeys.d:return 1*row[value]}break;case COC7.monetaryFormatKeys.roman:switch(row[type]){case COC7.monetaryTypeKeys.multiplier:return 400*CR*row[value];case COC7.monetaryTypeKeys.value:return 400*row[value];case COC7.monetaryTypeKeys.denarii:return 16*row[value];case COC7.monetaryTypeKeys.quinarii:return 8*row[value];case COC7.monetaryTypeKeys.sestertii:return 4*row[value];case COC7.monetaryTypeKeys.asses:return 1*row[value]}break;default:switch(row[type]){case COC7.monetaryTypeKeys.multiplier:return CR*row[value];case COC7.monetaryTypeKeys.value:return 1*row[value]}}return 0}get spendingLevel(){return CoCActor.monetaryValue(this.system.monetary.format,this.system.monetary.values,this.creditRating,"spendingType","spendingValue")}get cash(){return CoCActor.monetaryValue(this.system.monetary.format,this.system.monetary.values,this.creditRating,"cashType","cashValue")}get assets(){return CoCActor.monetaryValue(this.system.monetary.format,this.system.monetary.values,this.creditRating,"assetsType","assetsValue")}get skills(){const skillList=[];for(const value of this.items)"skill"===value.type&&skillList.push(value);return skillList.sort(CoC7Utilities.sortByNameKey),skillList}get owners(){return game.users.filter((u=>this.testUserPermission(u,"OWNER")&&!u.isGM))}get player(){return this.owners.filter((u=>u.character?.id===this.id))}get characterUser(){return game.users.contents.filter((u=>u.character?.id===this.id))[0]||null}async setHp(value){value<0&&(value=0),value>this.system.attribs.hp.max&&(value=this.system.attribs.hp.max);const healthBefore=this.hp;let damageTaken;return isNaN(healthBefore)||value>=healthBefore?await this._setHp(value):(damageTaken=healthBefore-value,await this.dealDamage(damageTaken,{ignoreArmor:!0})),value}async dealDamage(amount,options={}){const armorData=options.armor?options.armor:this.system.attribs.armor,grossDamage=parseInt(amount);let armorValue=0;options.ignoreArmor||null===armorData||(CoC7Utilities.isFormula(armorData)?armorValue=(await new Roll(armorData).roll({async:!0})).total:isNaN(Number(armorData))?isNaN(Number(armorData?.value))?ui.notifications.warn(game.i18n.format("CoC7.ErrorUnableToParseArmorFormula",{value:armorData})):armorValue=Number(armorData.value):armorValue=Number(armorData));const netDamage=grossDamage-armorValue;if(netDamage<=0)return 0;if(await this._setHp(this.hp-netDamage),netDamage>=this.system.attribs.hp.max)await this.setCondition(COC7.status.dead);else if(game.settings.get("CoC7","pulpRuleIgnoreMajorWounds")){if(0===this.hp)netDamage>=Math.ceil(this.system.attribs.hp.max/2)?this.setCondition(COC7.status.dying):this.setCondition(COC7.status.unconscious);else if(netDamage>=Math.ceil(this.system.attribs.hp.max/2)){new CoC7ConCheck(this.isToken?this.tokenKey:this.id).toMessage()}}else{let hasMajorWound=!1;netDamage>=Math.ceil(this.system.attribs.hp.max/2)?(await this.setCondition(COC7.status.criticalWounds),hasMajorWound=!0):hasMajorWound=this.hasConditionStatus(COC7.status.criticalWounds),0===this.hp&&(await this.setCondition(COC7.status.unconscious),hasMajorWound&&this.setCondition(COC7.status.dying))}return netDamage}get majorWound(){return this.hasConditionStatus(COC7.status.criticalWounds)}get dying(){return this.hasConditionStatus(COC7.status.dying)}get unconscious(){return this.hasConditionStatus(COC7.status.unconscious)}get dead(){return this.hasConditionStatus(COC7.status.dead)}get prone(){return this.hasConditionStatus(COC7.status.prone)}}class CoC7Link{static get CHECK_TYPE(){return{CHECK:"check",SANLOSS:"sanloss",ITEM:"item",EFFECT:"effect"}}static get LINK_TYPE(){return{CHARACTERISTIC:"characteristic",ATTRIBUTE:"attribute",SKILL:"skill"}}static init(){CONFIG.CoC7Link={documentClass:CoC7Link}}static bindEventsHandler(html){html.find("a.coc7-link:not(.hascoc7linked)").on("click",(event=>CoC7Link._onLinkClick(event))).on("dragstart",(event=>CoC7Link._onDragCoC7Link(event))).addClass("hascoc7linked")}static _linkFromEvent(event){const a=event.currentTarget,i=a.querySelector("[data-link-icon]"),data=duplicate(a.dataset),oldType=data.type;return data.type="CoC7Link",data.icon=null,oldType&&(data.linkType=oldType),data.object&&("string"==typeof data.object||data.object instanceof String)&&(data.object=JSON.parse(data.object)),i.dataset&&i.dataset.linkIcon&&"fas fa-dice"!==i.dataset.linkIcon&&(data.icon=i.dataset.linkIcon),data.displayName=a.dataset.displayName?a.innerText:null,data.difficulty&&(data.difficulty=CoC7Utilities.convertDifficulty(data.difficulty)),data}static _onDragCoC7Link(event){const data=CoC7Link._linkFromEvent(event);event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}static async fromDropData(data,options={}){const cls=new CoC7Link;cls.object=mergeObject({type:"CoC7Link",check:CoC7Link.CHECK_TYPE.CHECK,linkType:CoC7Link.LINK_TYPE.SKILL,difficulty:CoC7Check.difficultyLevel.regular,modifier:0,object:{label:game.i18n.localize("CoC7.EffectNew"),icon:"icons/svg/aura.svg",changes:[]}},data);for(const key of["name","displayName","icon","id","pack","sanMin","sanMax","sanReason"])cls.object[key]=cls.object[key]??"";return void 0!==cls.object.object.icon&&void 0!==cls.object.object.external&&["http","https"].includes(cls.object.object.external)&&(cls.object.object.icon=cls.object.object.external+"://"+cls.object.object.icon),cls.options=options,cls}static _createLink(match){const name=match[4]??void 0,options=match[3]??void 0,type=match[2]??void 0,data={cls:["coc7-link"],dataset:{check:type},icon:null,blind:!1,name};if(type===CoC7Link.CHECK_TYPE.EFFECT)data.effect=JSON.parse(options),data.dataset.object=options,void 0!==data.effect.icon&&void 0!==data.effect.external&&["http","https"].includes(data.effect.external)&&(data.effect.icon=data.effect.external+"://"+data.effect.icon);else{const matches=options.matchAll(/[^,]+/gi);for(const match of Array.from(matches)){let[key,value]=match[0].split(":");"icon"===key&&(data.icon=value),"blind"===key&&void 0===value&&(value=!0,data.blind=[CoC7Link.CHECK_TYPE.CHECK].includes(type.toLowerCase())),data.dataset[key]=value}void 0!==data.dataset.icon&&void 0!==data.dataset.external&&["http","https"].includes(data.dataset.external)&&(data.dataset.icon=data.dataset.external+"://"+data.dataset.icon,data.icon=data.dataset.icon)}let title;const difficulty=CoC7Check.difficultyString(data.dataset.difficulty);switch(type.toLowerCase()){case CoC7Link.CHECK_TYPE.CHECK:{let humanName=data.dataset.name;["attributes","attribute","attrib","attribs"].includes(data.dataset.type?.toLowerCase())&&("lck"===data.dataset.name&&(humanName=game.i18n.localize("CoC7.Luck")),"san"===data.dataset.name&&(humanName=game.i18n.localize("CoC7.Sanity"))),["charac","char","characteristic","characteristics"].includes(data.dataset.type?.toLowerCase())&&(humanName=CoC7Utilities.getCharacteristicNames(data.dataset.name)?.label),title=game.i18n.format(`CoC7.LinkCheck${data.dataset.difficulty?"Diff":""}${data.dataset.modifier?"Modif":""}`,{difficulty,modifier:data.dataset.modifier,name:humanName});break}case CoC7Link.CHECK_TYPE.SANLOSS:title=game.i18n.format(`CoC7.LinkSanLoss${data.dataset.difficulty?"Diff":""}${data.dataset.modifier?"Modif":""}`,{difficulty,modifier:data.dataset.modifier,sanMin:data.dataset.sanMin,sanMax:data.dataset.sanMax});break;case CoC7Link.CHECK_TYPE.ITEM:title=game.i18n.format(`CoC7.LinkItem${data.dataset.difficulty?"Diff":""}${data.dataset.modifier?"Modif":""}`,{difficulty,modifier:data.dataset.modifier,name:data.dataset.name});break;case CoC7Link.CHECK_TYPE.EFFECT:title=data.effect.label}name?data.dataset.displayName=!0:data.name=title;const a=document.createElement("a");a.title=game.user.isGM?data.name:title,a.classList.add(...data.cls);for(const[k,v]of Object.entries(data.dataset))a.dataset[k]=v;return a.draggable=!0,data.icon=data.icon??data.effect?.icon??"fas fa-dice",(data.icon.includes("\\")||data.icon.includes("."))&&(data.img=data.icon),data.blind&&(a.innerHTML+='<i class="fas fa-eye-slash"></i>'),data.img?a.innerHTML+=`<img data-link-icon="${data.icon}" src="${data.img}">`:a.innerHTML+=`<i data-link-icon="${data.icon}" class="link-icon ${data.icon}"></i>`,a.innerHTML+=`<span>${data.name}</span>`,a}_createDocumentLink(eventData,{relativeTo,label}={}){if(!eventData.check)return"";switch(eventData.check.toLowerCase()){case CoC7Link.CHECK_TYPE.CHECK:{if(!eventData.linkType||!eventData.name)return"";let options=`${eventData.blind?"blind,":""}type:${eventData.linkType},name:${eventData.name}`;if(void 0!==eventData.difficulty&&eventData.difficulty!==CoC7Check.difficultyLevel.regular&&(options+=`,difficulty:${eventData.difficulty}`),void 0!==eventData.modifier&&0!==eventData.modifier&&(options+=`,modifier:${eventData.modifier}`),eventData.icon){const parts=eventData.icon.match(/^(https?):\/\/(.+)$/);options+=parts?`,external:${parts[1]},icon:${parts[2]}`:`,icon:${eventData.icon}`}eventData.pack&&(options+=`,pack:${eventData.pack}`),eventData.id&&(options+=`,id:${eventData.id}`);let link=`@coc7.check[${options}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}case CoC7Link.CHECK_TYPE.SANLOSS:{if(!eventData.sanMax||!eventData.sanMin)return"";let options=`${eventData.blind?"blind,":""}sanMax:${eventData.sanMax},sanMin:${eventData.sanMin}`;if(eventData.sanReason&&(options+=`,sanReason:${eventData.sanReason}`),eventData.difficulty&&eventData.difficulty!==CoC7Check.difficultyLevel.regular&&(options+=`,difficulty:${eventData.difficulty}`),eventData.modifier&&0!==eventData.modifier&&(options+=`,modifier:${eventData.modifier}`),eventData.icon){const parts=eventData.icon.match(/^(https?):\/\/(.+)$/);options+=parts?`,external:${parts[1]},icon:${parts[2]}`:`,icon:${eventData.icon}`}let link=`@coc7.sanloss[${options}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}case CoC7Link.CHECK_TYPE.ITEM:{if(!eventData.name)return"";let options=`${eventData.blind?"blind,":""}name:${eventData.name}`;if(eventData.icon){const parts=eventData.icon.match(/^(https?):\/\/(.+)$/);options+=parts?`,external:${parts[1]},icon:${parts[2]}`:`,icon:${eventData.icon}`}eventData.pack&&(options+=`,pack:${eventData.pack}`),eventData.id&&(options+=`,id:${eventData.id}`);let link=`@coc7.item[${options}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}case CoC7Link.CHECK_TYPE.EFFECT:{const parts=eventData.object.icon.match(/^(https?):\/\/(.+)$/);parts&&(eventData.object.external=parts[1],eventData.object.icon=parts[2]);let link=`@coc7.effect[${JSON.stringify(eventData.object)}]`;const displayName=eventData.displayName??label??"";return displayName&&(link+=`{${displayName}}`),link}}return"?"}static async _onLinkActorClick(actor,options,{shiftKey=!1}={}){switch(options.check){case CoC7Link.CHECK_TYPE.CHECK:if(["charac","char","characteristic","characteristics"].includes(options.linkType.toLowerCase()))return actor.characteristicCheck(options.name,shiftKey,options);if(["skill"].includes(options.linkType.toLowerCase()))return actor.skillCheck(options,shiftKey,options);if(["attributes","attribute","attrib","attribs"].includes(options.linkType.toLowerCase()))return actor.attributeCheck(options.name,shiftKey,options);break;case CoC7Link.CHECK_TYPE.SANLOSS:return void SanCheckCard.create(actor.actorKey,options,{fastForward:shiftKey});case CoC7Link.CHECK_TYPE.ITEM:return actor.weaponCheck(options,shiftKey);case CoC7Link.CHECK_TYPE.EFFECT:await actor.createEmbeddedDocuments("ActiveEffect",[{label:options.object.label,icon:options.object.icon,changes:options.object.changes}])}}static toChatMessage(options){const option={speaker:{alias:game.user.name}};let message;const link=(new CoC7Link)._createDocumentLink(options);message=options.check===CoC7Link.CHECK_TYPE.EFFECT?`<div class="effect-message">${link}</div>`:game.i18n.format("CoC7.MessageCheckRequestedWait",{check:link}),chatHelper.createMessage(null,message,option)}static toWhisperMessage(options,actors){for(const actor of actors){const option={speaker:{alias:game.user.name},whisper:actor.owners.map((a=>a.id))};let message;const link=(new CoC7Link)._createDocumentLink(options);message=options.check===CoC7Link.CHECK_TYPE.EFFECT?`<div class="effect-message">${link}</div>`:game.i18n.format("CoC7.MessageTargetCheckRequested",{name:actor.name,check:link}),chatHelper.createMessage(null,message,option)}}static async _onLinkClick(event){const options=CoC7Link._linkFromEvent(event);if(game.user.isGM){if(isCtrlKey(event))return void CoC7ContentLinkDialog.create(options);if(canvas.tokens.controlled.length){for(const token of canvas.tokens.controlled)CoC7Link._onLinkActorClick(token.actor,options,{shiftKey:event.shiftKey});return}const speaker=ChatMessage.getSpeaker(),actor=ChatMessage.getSpeakerActor(speaker);return actor?void CoC7Link._onLinkActorClick(actor,options,{shiftKey:event.shiftKey}):void CoC7Link.toChatMessage(options)}{const speaker=ChatMessage.getSpeaker();let actor=ChatMessage.getSpeakerActor(speaker);if(!actor){const actors=game.actors.filter((a=>(a.ownership[game.user.id]??a.ownership.default)>=CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER));1===actors.length&&(actor=actors[0])}if(actor)return void CoC7Link._onLinkActorClick(actor,options,{shiftKey:event.shiftKey})}ui.notifications.warn(game.i18n.localize("CoC7.WarnNoControlledActor"))}setValue(key,value){this.object[key]=value}get link(){return this._createDocumentLink(this.object)}get id(){return this.object.id}get pack(){return this.object.pack}get checkType(){return this.object.check}get difficulty(){return this.object.difficulty}get icon(){return this.object.icon}get displayName(){return this.object.displayName}get modifier(){return this.object.modifier}get linkType(){return this.object.linkType}get sanMin(){return this.object.sanMin}get sanMax(){return this.object.sanMax}get sanReason(){return this.object.sanReason}get effect(){return this.object.object}get checkName(){if(this.isCharacteristicCheck){const characteristics=CoCActor.getCharacteristicDefinition();return characteristics.find((c=>c.key===this.object.name||c.shortName===this.object.name||c.label===this.object.name))?.key??""}return this.object.name}get isCheck(){return this.object.check===CoC7Link.CHECK_TYPE.CHECK}get isCharacteristicCheck(){return this.isCheck&&this.object.linkType===CoC7Link.LINK_TYPE.CHARACTERISTIC}get isAttributeCheck(){return this.isCheck&&this.object.linkType===CoC7Link.LINK_TYPE.ATTRIBUTE}get isSkillCheck(){return this.isCheck&&this.object.linkType===CoC7Link.LINK_TYPE.SKILL}get isItemCheck(){return this.object.check===CoC7Link.CHECK_TYPE.ITEM}get isSanLossCheck(){return this.object.check===CoC7Link.CHECK_TYPE.SANLOSS}get isEffect(){return this.object.check===CoC7Link.CHECK_TYPE.EFFECT}get isBlind(){return this.isCheck&&this.object.blind}}class CoC7Parser{static enrichHTML(content){const html=document.createElement("div");html.innerHTML=String(content);let text=[];text=TextEditor._getTextNodes(html);const rgx=new RegExp("@(coc7)\\.(check|effect|item|sanloss)\\[([^\\[\\]]*(?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\])*[^\\[\\]]*\\])*[^\\[\\]]*)\\](?:{([^}]+)})?","gi");return TextEditor._replaceTextContent(text,rgx,CoC7Link._createLink),html.innerHTML}static ParseSheetContent(app,html){for(const element of html.find("div.editor-content > *, p"))element.outerHTML.toLocaleLowerCase().includes("@coc7")&&(element.outerHTML=CoC7Parser.enrichHTML(element.outerHTML));CoC7Link.bindEventsHandler(html)}static ParseMessage(app,html,data){if(app.isContentVisible){if(data.message.content.toLocaleLowerCase().includes("@coc7")){const parsedContent=CoC7Parser.enrichHTML(data.message.content);html.find(".message-content").html(parsedContent),data.message.content=parsedContent}return!0}}}class CoC7Item extends Item{constructor(data,context){if(data.type in CONFIG.Item.documentClasses&&!context?.extended)return new CONFIG.Item.documentClasses[data.type](data,{extended:!0,...context});void 0===data.img&&("skill"===data.type?data.img="systems/CoC7/assets/icons/skills.svg":"status"===data.type?data.img="icons/svg/aura.svg":"weapon"===data.type&&(data.img="icons/svg/sword.svg")),super(data,context)}async _createDocumentLink(eventData,{relativeTo,label}={}){if("string"==typeof eventData.type&&"string"==typeof eventData.uuid&&"Item"===eventData.type&&eventData.uuid.match(/^Actor\./)&&relativeTo instanceof CONFIG.JournalEntryPage.documentClass){const item=await fromUuid(eventData.uuid);if(["skill","weapon"].includes(item.type))return"@coc7.check[type:"+item.type+",name:"+item.name+"]"}return super._createDocumentLink(eventData,{relativeTo,label})}static get iconLanguage(){return"systems/CoC7/assets/icons/skills/language.svg"}static get flags(){return{malfunction:"malfc"}}async toggleProperty(propertyId,override=!1){let fighting,firearms,checkedProps={};if(void 0!==COC7.eras[propertyId])return CoCIDEditor.eraToggle(this,propertyId);if("weapon"!==this.type||override){if("skill"===this.type&&!override){let modif=!1;if("combat"===propertyId&&(this.system.properties.combat?checkedProps={"system.properties.combat":!1,"system.properties.special":!1,"system.properties.fighting":!1,"system.properties.firearm":!1,"system.specialization":"",name:this.system.skillName}:this.system.properties.firearm?firearms=!0:fighting=!0,modif=!0),"fighting"===propertyId&&(this.system.properties.fighting?(firearms=!0,fighting=!1):(firearms=!1,fighting=!0),modif=!0),"firearm"===propertyId&&(this.system.properties.firearm?(firearms=!1,fighting=!0):(firearms=!0,fighting=!1),modif=!0),modif){if(fighting){checkedProps={"system.properties.fighting":!0,"system.properties.firearm":!1,"system.properties.combat":!0,"system.properties.special":!0};const parts=CoC7Item.getNamePartsSpec(this.system.skillName,game.i18n.localize(COC7.fightingSpecializationName));checkedProps.name=parts.name,checkedProps.skillName=parts.skillName,checkedProps["system.specialization"]=parts.specialization}if(firearms){checkedProps={"system.properties.fighting":!1,"system.properties.firearm":!0,"system.properties.combat":!0,"system.properties.special":!0};const parts=CoC7Item.getNamePartsSpec(this.system.skillName,game.i18n.localize(COC7.firearmSpecializationName));checkedProps.name=parts.name,checkedProps.skillName=parts.skillName,checkedProps["system.specialization"]=parts.specialization}}}}else if("ahdb"===propertyId&&(checkedProps=this.system.properties.ahdb?{"system.properties.ahdb":!1}:{"system.properties.ahdb":!0,"system.properties.addb":!1}),"addb"===propertyId&&(checkedProps=this.system.properties.addb?{"system.properties.addb":!1}:{"system.properties.addb":!0,"system.properties.ahdb":!1}),"shotgun"===propertyId&&(checkedProps=this.system.properties.shotgun?{"system.properties.shotgun":!1,"system.range.extreme.value":null,"system.range.extreme.damage":null,"system.range.long.value":null,"system.range.long.damage":null}:{"system.properties.rngd":!0,"system.properties.melee":!1,"system.properties.shotgun":!0}),"melee"===propertyId||"rngd"===propertyId){let meleeWeapon;"melee"!==propertyId||this.system.properties.melee||(meleeWeapon=!0),"melee"===propertyId&&this.system.properties.melee&&(meleeWeapon=!1),"rngd"!==propertyId||this.system.properties.rngd||(meleeWeapon=!1),"rngd"===propertyId&&this.system.properties.rngd&&(meleeWeapon=!0),checkedProps=meleeWeapon?{"system.properties.melee":!0,"system.properties.rngd":!1,"system.properties.shotgun":!1,"system.properties.brst":!1,"system.properties.auto":!1,"system.properties.dbrl":!1}:{"system.properties.melee":!1,"system.properties.rngd":!0}}if("special"===propertyId&&(checkedProps=this.system.properties[propertyId]?{"system.properties.special":!1,"system.properties.fighting":!1,"system.properties.firearm":!1,"system.properties.combat":!1,"system.specialization":"",name:this.system.skillName}:{"system.properties.special":!0,name:this.system.specialization+" ("+this.system.skillName+")"}),Object.keys(checkedProps).length>0){return await this.update(checkedProps)}{const propName=`system.properties.${propertyId}`,propValue=!this.system.properties[propertyId];await this.update({[propName]:propValue}).then((item=>item))}}hasProperty(propertyId){return this.isIncludedInSet("properties",propertyId)}get shortName(){return this.system.properties.special?this.system.skillName:this.name}async updateRoll(roll){return"updateRoll"in this.sheet?await this.sheet.updateRoll(roll):"updateRoll"in this?await this.updateRoll(roll):void 0}static getNamePartsSpec(skillName,specialization){if(!specialization)return{name:skillName,specialization:"",skillName};const specNameRegex=new RegExp("^("+CoC7Utilities.quoteRegExp(specialization)+")\\s*\\((.+)\\)$","i"),match=skillName.match(specNameRegex);return match&&(specialization=match[1],skillName=match[2]),{name:specialization+" ("+skillName+")",specialization,skillName}}static getNameWithoutSpec(item){if(item instanceof CoC7Item){if(item.system?.properties?.special&&void 0!==item.system.skillName)return item.system.skillName}else if(item.properties?.special&&void 0!==item.skillName)return item.skillName;return item.name}static isAnySpec(item){return!("skill"!==item.type||!item.system.properties?.special)&&(!(!item.system.properties?.requiresname&&!item.system.properties?.picknameonly)||[game.i18n.localize("CoC7.AnySpecName").toLowerCase(),"any"].includes(CONFIG.Item.documentClasses.skill.guessNameParts(item.name).skillName.toLowerCase()))}async checkSkillProperties(){if("skill"!==this.type)return;const checkedProps={};return this.system.properties.combat?(this.system.properties.special||(this.system.properties.special=!0,checkedProps["system.properties.special"]=!0),this.system.properties.fighting||this.system.properties.firearm||(this.system.properties.fighting=!0,checkedProps["system.properties.fighting"]=!0),!this.system.properties.fighting||this.system.specialization&&""!==this.system.specialization||(this.system.specialization=game.i18n.localize(COC7.fightingSpecializationName),checkedProps["system.specialization"]=game.i18n.localize(COC7.fightingSpecializationName)),!this.system.properties.firearm||this.system.specialization&&""!==this.system.specialization||(this.system.specialization=game.i18n.localize(COC7.firearmSpecializationName),checkedProps["system.specialization"]=game.i18n.localize(COC7.firearmSpecializationName))):(this.system.properties.fighting&&(this.system.properties.fighting=!1,checkedProps["system.properties.fighting"]=!1),this.system.properties.firearm&&(this.system.properties.firearm=!1,checkedProps["system.properties.firearm"]=!1)),Object.keys(checkedProps).length>0&&await this.update(checkedProps),checkedProps}isIncludedInSet(set,propertyId){this.system[set]||(this.system[set]=[]);return this.system[set].indexOf(propertyId)>-1}async flagForDevelopement(){(game.settings.get("CoC7","xpEnabled")||game.user.isGM)&&(this.system.flags||await this.update({"system.flags":{}}),await this.update({"system.flags.developement":!0}))}async unflagForDevelopement(){(game.settings.get("CoC7","xpEnabled")||game.user.isGM)&&(this.system.flags||await this.update({"system.flags":{}}),await this.update({"system.flags.developement":!1}))}get developementFlag(){return this.getItemFlag("developement")}async toggleItemFlag(flagName,eraseAdjustment=!0){const flagValue=!this.getItemFlag(flagName),name=`system.flags.${flagName}`;"occupation"!==flagName&&"archetype"!==flagName||flagValue||!eraseAdjustment?"developement"===flagName?game.settings.get("CoC7","xpEnabled")||game.user.isGM?await this.update({[name]:flagValue}):ui.notifications.info(game.i18n.localize("CoC7.SkillXpGainDisabled")):await this.update({[name]:flagValue}):await this.update({[`system.adjustments.${flagName}`]:null,[name]:flagValue})}async setItemFlag(flagName){await this.update({[`system.flags.${flagName}`]:!0})}async unsetItemFlag(flagName,eraseAdjustment=!0){const name=`system.flags.${flagName}`;"occupation"!==flagName&&"archetype"!==flagName||!eraseAdjustment?await this.update({[name]:!1}):await this.update({[`system.adjustments.${flagName}`]:null,[name]:!1})}getItemFlag(flagName){return this.system.flags?!!this.system.flags[flagName]&&this.system.flags[flagName]:(this.system.flags={},this.system.flags.locked=!0,this.update({"system.flags":{}}),!1)}get usesAlternativeSkill(){return"weapon"===this.type&&(!0===this.system.properties?.auto||!0===this.system.properties?.brst||!0===this.system.properties?.thrown)}get maxUsesPerRound(){if("weapon"!==this.type)return null;const multiShot=parseInt(this.system.usesPerRound.max);return isNaN(multiShot)?0:multiShot}get usesPerRound(){if("weapon"!==this.type)return null;const singleShot=parseInt(this.system.usesPerRound.normal);return isNaN(singleShot)?0:singleShot}get usesPerRoundString(){let usesPerRound;return usesPerRound=this.system.usesPerRound.normal?this.system.usesPerRound.normal:"1",this.system.usesPerRound.max&&(usesPerRound+=`(${this.system.usesPerRound.max})`),this.system.properties.auto&&(usesPerRound+=` ${game.i18n.localize("CoC7.WeaponAuto")}`),this.system.properties.brst&&(usesPerRound+=` ${game.i18n.localize("CoC7.WeaponBrst")}`,this.system.usesPerRound.burst&&(usesPerRound+=`(${this.system.usesPerRound.burst})`)),usesPerRound}get multipleShots(){return"weapon"!==this.type?null:!(this.maxUsesPerRound<=1)}get singleShot(){return"weapon"!==this.type?null:!!this.usesPerRound}get baseRange(){return parseInt(this.system.range.normal.value)}get longRange(){return parseInt(this.system.range.long.value)}get extremeRange(){return parseInt(this.system.range.extreme.value)}get skillProperties(){if("skill"!==this.type)return[];const skillProperties=[];for(const[key,value]of Object.entries(COC7.skillProperties))!0===this.system.properties[key]&&skillProperties.push(game.i18n.localize(value));return skillProperties}static async calculateBase(actor,data){if("skill"!==data.type)return null;if(String(data.system.base).includes("@")){const parsed={};for(const[key,value]of Object.entries(COC7.formula.actorsheet))key.startsWith("@")&&value.startsWith("this.actor.")&&(parsed[key.substring(1)]=getProperty(actor,value.substring(11)));let value;try{value=Math.floor(new Roll(data.system.base,parsed).evaluate({maximize:!0}).total)}catch(err){value=0}return value}return isNaN(parseInt(data.system.base))?null:parseInt(data.system.base)}get _base(){if("skill"!==this.type)return[null,!1];if("string"!=typeof this.system.base)return[this.system.base,!1];if(this.system.base.includes("@")){const parsed={};for(const[key,value]of Object.entries(COC7.formula.actorsheet))key.startsWith("@")&&value.startsWith("this.")&&(parsed[key.substring(1)]=getProperty(this,value.substring(5)));let value;try{value=Math.floor(new Roll(this.system.base,parsed).evaluate({maximize:!0}).total)}catch(err){value=0}return[value,!0]}return[isNaN(parseInt(this.system.base))?null:parseInt(this.system.base),!1]}async asyncBase(){const e=this._base;return e[1]&&(console.info(`[COC7] (${this.parent?.name}) Evaluating skill ${this.name}:${this.system.base} to ${e[0]}`),await this.update({"system.base":e[0]})),e[0]}get base(){const e=this._base;return e[1]&&this.update({"system.base":e[0]}),e[0]}getBulletLeft(){return"weapon"!==this.type?null:this.system.ammo?this.system.ammo:(this.setBullets(0),0)}async reload(){if("weapon"!==this.type)return null;const maxBullet=this.system.bullets?parseInt(this.system.bullets):1;await this.setBullets(maxBullet)}async setBullets(bullets){if("weapon"!==this.type)return null;await this.update({"system.ammo":bullets||0})}async addBullet(){if("weapon"!==this.type)return null;const bullets=await this.getBulletLeft(),maxBullets=this.system.bullets?parseInt(this.system.bullets):1;bullets+1>=maxBullets?await this.setBullets(maxBullets):await this.setBullets(bullets+1)}async shootBullets(x){if("weapon"!==this.type)return null;const bullets=await this.getBulletLeft();x>bullets?await this.setBullets(0):await this.setBullets(bullets-x)}static mergeOptionalSkills(skillList,options){return skillList.concat(options).reduce(((newArray,item)=>!CoC7Item.isAnySpec(item)&&newArray.find((skill=>skill.name===item.name))?newArray:[...newArray,item]),[]).sort(CoC7Utilities.sortByNameKey)}static _getChatCardActor(card){const tokenKey=card.dataset.tokenId;if(tokenKey){const[sceneId,tokenId]=tokenKey.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];{const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;return new Token(tokenData).actor}}const actorId=card.dataset.actorId;return game.actors.get(actorId)||null}getChatData(htmlOptions={}){htmlOptions.async=!1;const data=duplicate(this.system);"string"==typeof data.description&&(data.description={value:data.description,special:""}),void 0===data.description.value&&(data.description.value=""),void 0===data.description.special&&(data.description.special="");const labels=[];data.description.value=TextEditor.enrichHTML(data.description.value,htmlOptions),data.description.value=CoC7Parser.enrichHTML(data.description.value),data.description.special=TextEditor.enrichHTML(data.description.special,htmlOptions),data.description.special=CoC7Parser.enrichHTML(data.description.special);const props=[],fn=this[`_${this.type}ChatData`];if(fn&&fn.bind(this)(data,labels,props,htmlOptions),"skill"===this.type)for(const[key,value]of Object.entries(COC7.skillProperties))!0===this.system.properties[key]&&props.push(value);return data.properties=props.filter((p=>!!p)),data.labels=labels,data}_weaponChatData(data,labels,props){for(const[key,value]of Object.entries(COC7.weaponProperties))!0===this.system.properties[key]&&props.push(value);let skillLabel=game.i18n.localize("CoC7.Skill"),skillName="",found=!1;if(this.system.skill.main.id){const skill=this.actor?.items.get(this.system.skill.main.id);skill&&(skillName+=CoC7Item.getNameWithoutSpec(skill),found=!0)}if(this.usesAlternativeSkill&&this.system.skill.alternativ.id){skillLabel=game.i18n.localize("CoC7.Skills");const skill=this.actor?.items.get(this.system.skill.alternativ.id);skill&&(skillName+=`/${CoC7Item.getNameWithoutSpec(skill)}`,found=!0)}found||(skillName=this.system.skill.main.name,this.usesAlternativeSkill&&this.system.skill.alternativ.name&&(skillName+=`/${this.system.skill.alternativ.name}`)),skillName&&labels.push({name:skillLabel,value:skillName}),labels.push({name:game.i18n.localize("CoC7.WeaponUsesPerRound"),value:this.usesPerRoundString}),labels.push({name:game.i18n.localize("CoC7.WeaponMalfunction"),value:this.system.malfunction?this.system.malfunction:"-"}),this.system.bullets&&labels.push({name:game.i18n.localize("CoC7.WeaponBulletsInMag"),value:this.system.bullets})}canBePushed(){return!("skill"!==this.type||!this.system.properties.push)}get impale(){return this.system.properties.impl}get isDodge(){return"skill"===this.type&&this.name.toLowerCase()===game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.dodge").toLowerCase()}}class CoC7Check{constructor(actor=null,skill=null,item=null,diceMod=0,difficulty=null,flatThresholdModifier=0,flatDiceModifier=0){if(this.actor=actor,this.skill=skill,this.item=item,this.difficulty=difficulty,this.diceModifier=diceMod,this.rawValue=0,this.successLevel=null,this.referenceMessageId=null,this.pushing=!1,this.flatDiceModifier=flatDiceModifier,this.flatThresholdModifier=flatThresholdModifier,null===difficulty){const isUnknown="unknown"===game.settings.get("CoC7","defaultCheckDifficulty");this.difficulty=isUnknown?CoC7Check.difficultyLevel.unknown:CoC7Check.difficultyLevel.regular}}static get cardType(){return"rollCard"}static get difficultyLevel(){return{unknown:-1,regular:1,hard:2,extreme:3,critical:4,impossible:9}}static get successLevel(){return{fumble:-99,failure:0,regular:1,hard:2,extreme:3,critical:4}}static get type(){return{characteristic:"characteristic",attribute:"attribute",skill:"item",item:"item",value:"value"}}static difficultyString(difficultyLevel){switch(isNaN(Number(difficultyLevel))?difficultyLevel:Number(difficultyLevel)){case"?":return game.i18n.localize("CoC7.UnknownDifficulty");case"+":return game.i18n.localize("CoC7.HardDifficulty");case"++":return game.i18n.localize("CoC7.ExtremeDifficulty");case"+++":return game.i18n.localize("CoC7.CriticalDifficulty");case 0:return game.i18n.localize("CoC7.RegularDifficulty");case CoC7Check.difficultyLevel.unknown:return game.i18n.localize("CoC7.UnknownDifficulty");case CoC7Check.difficultyLevel.regular:return game.i18n.localize("CoC7.RegularDifficulty");case CoC7Check.difficultyLevel.hard:return game.i18n.localize("CoC7.HardDifficulty");case CoC7Check.difficultyLevel.extreme:return game.i18n.localize("CoC7.ExtremeDifficulty");case CoC7Check.difficultyLevel.critical:return game.i18n.localize("CoC7.CriticalDifficulty");default:return null}}get rawValue(){if(this._rawValue||(this.characteristic&&(this.rawValue=this.actor.system.characteristics[this.characteristic].value),this.skill&&(this.rawValue=this.skill.value),this.attribute&&(this.rawValue=this.actor.system.attribs[this.attribute].value)),this._rawValue)return this.flatThresholdModifier&&game.settings.get("CoC7","allowFlatThresholdModifier")?this._rawValue+this.flatThresholdModifier<1?1:this._rawValue+this.flatThresholdModifier:this._rawValue}set rawValue(x){this._rawValue=x}set uuid(x){this._uuid=x}get uuid(){return this._uuid||(this._uuid=foundry.utils.randomID(16)),this._uuid}get hasCard(){return ui.chat.collection.filter((message=>this.uuid===message.getFlag("CoC7","uuid")&&CoC7Check.cardType===message.getFlag("CoC7","type"))).length>0}get rawValueString(){if(this._rawValue)return this.flatThresholdModifier&&game.settings.get("CoC7","allowFlatThresholdModifier")?this.flatThresholdModifier<0?this._rawValue.toString()+this.flatThresholdModifier.toString():this._rawValue.toString()+"+"+this.flatThresholdModifier.toString():this._rawValue.toString()}get criticalThreshold(){return 1}get regularThreshold(){return this.rawValue?this.rawValue>=100?99:parseInt(this.rawValue):null}get hardThreshold(){return this.rawValue?Math.floor(this.rawValue/2):null}get extremeThreshold(){return this.rawValue?Math.floor(this.rawValue/5):null}get fumbleThreshold(){if(this.rawValue){if(this.difficulty){if(this.difficulty>=CoC7Check.difficultyLevel.extreme)return this.extremeThreshold<50?96:100;if(this.difficulty>=CoC7Check.difficultyLevel.hard)return this.hardThreshold<50?96:100}return this.rawValue<50?96:100}return null}get succesThreshold(){if(void 0!==this.difficulty)switch(this.difficulty){case CoC7Check.difficultyLevel.extreme:return this.extremeThreshold;case CoC7Check.difficultyLevel.hard:return this.hardThreshold;case CoC7Check.difficultyLevel.regular:return this.regularThreshold;case CoC7Check.difficultyLevel.critical:return this.criticalThreshold;case CoC7Check.difficultyLevel.unknown:return-1;default:return this.rawValue}return null}get difficultyString(){if(void 0!==this.difficulty)switch(this.difficulty){case CoC7Check.difficultyLevel.extreme:return game.i18n.format("CoC7.ExtremeDifficulty");case CoC7Check.difficultyLevel.hard:return game.i18n.format("CoC7.HardDifficulty");case CoC7Check.difficultyLevel.regular:return game.i18n.format("CoC7.RegularDifficulty");case CoC7Check.difficultyLevel.critical:return game.i18n.format("CoC7.CriticalDifficulty");case CoC7Check.difficultyLevel.unknown:return game.i18n.format("CoC7.UnknownDifficulty");default:return""}return""}get modifiedResult(){if(!this.standby){if(void 0!==this._modifiedResult)return this._modifiedResult;if(this.flatDiceModifier){const modified=this.dices.total+this.flatDiceModifier;return modified<1?1:modified>100?100:modified}return this.dices.total}}set modifiedResult(x){this._modifiedResult=x}get flatDiceModifierString(){return this.flatDiceModifier?this.flatDiceModifier>0?`+${this.flatDiceModifier}`:this.flatDiceModifier.toString():null}get isFumble(){if(!this.standby&&!this.isSimpleRoll)return this.modifiedResult>=this.fumbleThreshold}get isCritical(){if(!this.standby)return 1===this.modifiedResult}get isExtremeSuccess(){if(!this.standby)return this.successLevel>=CoC7Check.successLevel.extreme}get passed(){if(!this.standby&&!this.isSimpleRoll)return this.luckSpent?this.difficulty<=this.successLevel:this.succesThreshold>=this.modifiedResult||this.isCritical}get failed(){if(!this.standby&&!this.isSimpleRoll)return!this.passed}get isSimpleRoll(){return void 0===this.rawValue}get hasBonus(){return!!(this.diceModifier&&this.diceModifier>0)}get hasPenalty(){return!!(this.diceModifier&&this.diceModifier<0)}get hasModifier(){return!(!this.diceModifier||0===this.diceModifier)}get diceModifier(){return this._diceModifier?this._diceModifier:null}set diceModifier(x){this._diceModifier=parseInt(x)}get name(){if(this.actor){if(this.skill)return this.skill.shortName;if(this.item)return this.item.name;if(this.characteristic)return CoC7Utilities.getCharacteristicNames(this.characteristic)?.label;if(this.attribute){if("lck"===this.attribute)return game.i18n.localize("CoC7.Luck");if("san"===this.attribute)return game.i18n.localize("CoC7.Sanity")}}return null}get shortName(){if(this.actor){if(this.skill)return this.skill.shortName;if(this.item)return this.item.name;if(this.characteristic)return CoC7Utilities.getCharacteristicNames(this.characteristic)?.short;if(this.attribute){if("lck"===this.attribute)return game.i18n.localize("CoC7.Luck");if("san"===this.attribute)return game.i18n.localize("CoC7.SAN")}}return null}get fullName(){const difficulty=this._difficulty!==CoC7Check.difficultyLevel.regular&&CoC7Check.difficultyString(this._difficulty),modifier=this._diceModifier>0?`+${this._diceModifier}`:this._diceModifier.toString();return game.i18n.format(`CoC7.LinkCheck${difficulty?"Diff":""}${this._diceModifier?"Modif":""}`,{difficulty,modifier,name:this.name})}get rolled(){return!!this.dice}static getFromCard(card){const rollResult=card.classList.contains("roll-result")?card:card.querySelector(".roll-result"),check=new CoC7Check;CoC7Roll.getFromElement(rollResult,check);const message=card.closest(".message");return check.messageId=message?message.dataset.messageId:null,check}static async push(card,publish=!0){const oldCheck=CoC7Check.getFromCard(card),actorId=card.dataset.tokenId?card.dataset.tokenId:card.dataset.actorId,skillId=card.dataset.skillId,charac=card.dataset.characteristic,itemId=card.dataset.itemId,diceMod=card.dataset.diceMod,difficulty=card.dataset.difficulty;let pushedRoll;if(skillId)pushedRoll=new CoC7Check(actorId,skillId,itemId,diceMod,difficulty);else{if(!charac)return;pushedRoll=new CoC7Check,pushedRoll.diceModifier=diceMod,pushedRoll.difficulty=difficulty,pushedRoll.actor=actorId,pushedRoll.characteristic=charac}oldCheck.uuid&&(pushedRoll.context=oldCheck.context,pushedRoll.uuid=oldCheck.uuid),oldCheck.parent&&(pushedRoll.parent=oldCheck.parent),pushedRoll.pushing=!0,await pushedRoll.roll(),publish&&pushedRoll.toMessage(!0,card)}get token(){return this.actor?chatHelper.getTokenFromKey(this.actorKey):null}set actor(x){if(this.actorKey=x,null!=x){if(x instanceof Actor)return this._actor=x,this._actor.alias=this.actor.name,void(x.token&&x.token.scene&&x.token.scene.id?this.actorKey=`${x.token.scene.id}.${x.token.id}`:this.actorKey=x.id);if(x.includes(".")){const[sceneId,tokenId]=x.split(".");if("TOKEN"===sceneId)this._actor=game.actors.tokens[tokenId],this._actor.alias=this._actor.name;else{const scene=game.scenes.get(sceneId);if(!scene)return;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return;const token=new Token(tokenData);this._actor=token.actor,this._actor.alias=token.name}}else this._actor=game.actors.get(x),this.actor.alias=this.actor.name}else this._actor=x}get successLevelIcons(){if(this.unknownDifficulty)return null;if(this.isSimpleRoll)return null;if(this.successLevel>=this.difficulty){const icons=[];for(let index=0;index<this.successLevel-this.difficulty+1;index++)icons.push(this.isCritical?"medal":"star");const successHint=game.i18n.format("CoC7.SuccesLevelHint",{value:this.successLevel-this.difficulty+1});return{success:!0,cssClass:this.isCritical?"critical":"success",hint:successHint,icons}}{const icons=[],successLevel=this.isFumble?-1:this.successLevel;for(let index=0;index<this.difficulty-successLevel;index++)icons.push(this.isFumble?"skull":"spider");const failureHint=game.i18n.format("CoC7.FailureLevelHint",{value:this.difficulty-successLevel});return{success:!1,cssClass:this.isFumble?"fumble":"failure",hint:failureHint,icons}}}get isBlind(){return void 0===this._isBlind&&(this._isBlind="blindroll"===this.rollMode),this._isBlind}set isBlind(x){this._isBlind=x}get unknownDifficulty(){return!(this.gmDifficultyCritical||this.gmDifficultyExtreme||this.gmDifficultyHard||this.gmDifficultyRegular)&&CoC7Check.difficultyLevel.unknown===this.difficulty}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}set skill(x){this._skill=this._getItemFromId(x),this.skillId=x}set item(x){this._item=this._getItemFromId(x),"weapon"===this._item?.type?this.itemId=x:(this._item=void 0,this.itemId=void 0)}_getItemFromId(x){return null==x?null:x instanceof Item?x:this._actor?this._actor.items.get(x):game.items.get(x)}get actor(){if(this._actor&&this._actor?.id){if("Object"===this._actor.constructor.name){const actor=new CoCActor(this._actor);this._actor=actor}}else if(this.actorKey&&(this._actor=chatHelper.getActorFromKey(this.actorKey)),this.actorId&&(this._actor=chatHelper.getActorFromKey(this.actorId)),!this._actor)return{isDummy:!0,name:this.actorName?this.actorName:void 0,id:void 0,img:"systems/CoC7/assets/icons/question-circle-regular.svg",portrait:"systems/CoC7/assets/icons/question-circle-regular.svg"};return this._actor}get skill(){return!this._skill&&this.skillId&&(this._skill=this.actor?.items.get(this.skillId)),!this._skill&&this.item&&this.item.system.skill&&(this.item.system.skill.main.id&&!this.weaponAltSkill?this._skill=this._actor.items.get(this.item.system.skill.main.id):this.item.system.skill.alternativ.id&&this.weaponAltSkill&&(this._skill=this._actor.items.get(this.item.system.skill.alternativ.id))),this._skill}get item(){return!this._item&&this.itemId&&this.actor&&(this._item=this.actor.items.get(this.itemId)),this._item}get displayResultType(){return game.settings.get("CoC7","displayResultType")}get displayCheckSuccessLevel(){return game.settings.get("CoC7","displayCheckSuccessLevel")}get displayBothSuccessLevel(){return this.displayResultType&&this.displayCheckSuccessLevel}get dontDisplaySuccessLevel(){return!this.displayResultType&&!this.displayCheckSuccessLevel}get image(){return this.skill?this.skill.img:this.item?this.item.img:void 0}get link(){return this.getLinkElement().outerHTML}get displayActorOnCard(){return game.settings.get("CoC7","displayActorOnCard")}getLinkElement(classes=null){const data={cls:["coc7-link","coc7-roll"].concat(classes),dataset:{check:"check"},icon:this.image?`<div style="background-image: url(${this.image})"></div>`:'<i class="fas fa-dice"></i>',blind:this.isBlind},difficulty=CoC7Check.difficultyString(this._difficulty),title=game.i18n.format(`CoC7.LinkCheck${this._difficulty?"Diff":""}${this._diceModifier?"Modif":""}`,{difficulty,modifier:this._diceModifier,name:this.name}),a=document.createElement("a");return a.title=title,a.classList.add(...data.cls),a.innerHTML=`${data.blind?'<i class="fas fa-eye-slash"></i>':""}${data.icon}${this.name}`,a}async roll(diceMod=null,difficulty=null,options={}){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.standby||await this._perform(options)}static createFromActorRollData(rollData){const roll={};switch(rollData.difficulty&&(roll.difficulty=rollData.difficulty),rollData.diceModifier&&(roll.diceModifier=rollData.diceModifier),!0===rollData.denyPush&&(roll.denyPush=!0),rollData.flatDiceModifier&&(roll.flatDiceModifier=rollData.flatDiceModifier),rollData.flatThresholdModifier&&(roll.flatThresholdModifier=rollData.flatThresholdModifier),rollData.actor?.actorKey?roll.actorKey=rollData.actor.actorKey:rollData.actor?.name&&(roll.actorName=rollData.actor.name),rollData.type){case CoC7Check.type.characteristic:roll.characteristic=rollData.value?.key;break;case CoC7Check.type.attribute:roll.attribute=rollData.value?.key;break;case CoC7Check.type.item:roll.actorKey=rollData.value.actor.actorKey,"skill"===rollData.value?.type?roll.skill=rollData.value.id:roll.item=rollData.value.id;break;case CoC7Check.type.skill:roll.actorKey=rollData.value.actor.actorKey,roll.skill=rollData.value.id;break;case CoC7Check.type.value:roll.displayName=rollData.value.name,roll.rawValue=rollData.value.threshold}return CoC7Check.create(roll)}static create({difficulty=CoC7Check.difficultyLevel.regular,diceModifier=null,actorKey=null,characteristic=null,attribute=null,rawValue=0,item=null,skill=null,flatDiceModifier=0,flatThresholdModifier=0,displayName=null,actorName=null,denyPush}={}){const check=new CoC7Check;return check.difficulty=difficulty,!0===denyPush&&(check.denyPush=!0),diceModifier&&(check.diceModifier=diceModifier),flatDiceModifier&&(check.flatDiceModifier=flatDiceModifier),flatThresholdModifier&&(check.flatThresholdModifier=flatThresholdModifier),displayName&&(check.displayName=displayName),actorKey&&(check.actor=actorKey),actorName&&(check.actorName=actorName),isNaN(Number(rawValue))||(check.rawValue=Number(rawValue)),check.actor&&!check.actor.isDummy&&(skill?check.skill=skill:characteristic?check.characteristic=characteristic:attribute?check.attribute=attribute:item&&(check.item=item)),check}async rollCharacteristic(char,diceMod=null,difficulty=null){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.characteristic=char,this.standby||await this._perform()}async rollAttribute(attrib,diceMod=null,difficulty=null){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.attribute=attrib,this.standby||await this._perform()}async rollValue(val,diceMod=null,difficulty=null){diceMod&&(this.diceModifier=diceMod),difficulty&&(this.difficulty=difficulty),this.rawValue=val,this.standby||await this._perform()}get rolledSuccessLevel(){return this.successLevel}async _perform(options={}){this.dice=options.roll||await CoC7Dice.roll(this.diceModifier,this.rollMode,this.isBlind),options.silent||game.modules.get("dice-so-nice")?.active||AudioHelper.play({src:CONFIG.sounds.dice},!0),options.forceDSN&&await CoC7Dice.showRollDice3d(this.dice.roll),this.dices={tens:[],unit:{value:this.dice.unit.total},total:this.dice.total,tenResult:this.dice.total-this.dice.unit.total,hasBonus:!!this.diceModifier,bonus:Math.abs(this.diceModifier),bonusType:this.diceModifier<0?game.i18n.format("CoC7.DiceModifierPenalty"):game.i18n.format("CoC7.DiceModifierBonus"),difficulty:this.difficulty};const max=0===this.dice.unit.total?100:90,min=0===this.dice.unit.total?10:0;let selected=this.dice.total-this.dice.unit.total;for(let i=0;i<this.dice.tens.results.length;i++){const die={};die.value=this.dice.tens.results[i],die.value===selected?(selected=101,die.selected=!0,this.dices.hasBonus?(die.isMax=!0,die.isMin=!1):(die.isMin=!0,die.isMax=!1)):(die.value===max?die.isMax=!0:die.isMax=!1,die.value===min?die.isMin=!0:die.isMin=!1),this.dices.tens.push(die)}this.computeCheck()}async computeCheck(){switch(this.isUnknown=this.unknownDifficulty,this.gmDifficultyRegular&&(this.difficulty=CoC7Check.difficultyLevel.regular),this.gmDifficultyHard&&(this.difficulty=CoC7Check.difficultyLevel.hard),this.gmDifficultyExtreme&&(this.difficulty=CoC7Check.difficultyLevel.extreme),this.gmDifficultyCritical&&(this.difficulty=CoC7Check.difficultyLevel.critical),this.tenOnlyOneDie=1===this.dices.tens.length,this.isValue=!1,this.isCharactiristic=!1,this.isSkill=!1,this.isItem=!1,this.isAttribute=!1,this.isSimpleRoll?(this.denyPush=!0,this.denyLuck=!0):null==this.actor?this.isValue=!0:(this.characteristic&&(this.isCharactiristic=!0,this.rawValue=this.actor.system.characteristics[this.characteristic].value),this.skill&&(this.isSkill=!0,this.rawValue=this.skill.value),this.attribute&&(this.isAttribute=!0,this.rawValue=this.actor.system.attribs[this.attribute].value)),this.luckSpent||this.isSimpleRoll||(this.modifiedResult<=this.rawValue&&(this.successLevel=CoC7Check.successLevel.regular),this.modifiedResult<=this.hardThreshold&&(this.successLevel=CoC7Check.successLevel.hard),this.modifiedResult<=this.extremeThreshold&&(this.successLevel=CoC7Check.successLevel.extreme),this.modifiedResult>this.rawValue&&(this.successLevel=CoC7Check.successLevel.failure),1===this.modifiedResult&&(this.successLevel=CoC7Check.successLevel.critical),this.fumbleThreshold<=this.modifiedResult&&(this.successLevel=CoC7Check.successLevel.fumble)),this.successLevel){case CoC7Check.successLevel.regular:this.resultType=game.i18n.format("CoC7.RegularSuccess");break;case CoC7Check.successLevel.hard:this.resultType=game.i18n.format("CoC7.HardSuccess");break;case CoC7Check.successLevel.extreme:this.resultType=game.i18n.format("CoC7.ExtremeSuccess");break;case CoC7Check.successLevel.critical:this.resultType=game.i18n.format("CoC7.CriticalSuccess");break;case CoC7Check.successLevel.fumble:this.resultType=game.i18n.format("CoC7.Fumble");break;case CoC7Check.successLevel.failure:this.resultType=game.i18n.format("CoC7.Failure")}if(this.unknownDifficulty?this.successRequired="":this.isSimpleRoll||(this.successRequired=game.i18n.format("CoC7.SuccessRequired",{successRequired:this.difficultyString})),1===this.modifiedResult&&(this.successLevel=CoC7Check.successLevel.critical),this.luckSpent||this.isUnknown||this.isSimpleRoll||(this.isFailure=this.failed,this.isSuccess=this.passed),this.hasMalfunction=!1,this.isFumble&&(this.successLevel=CoC7Check.successLevel.fumble),this.item&&(this.isItem=!0,this.item.system.malfunction&&Number(this.modifiedResult)>=Number(this.item.system.malfunction)&&(this.hasMalfunction=!0,this.malfunctionTxt=game.i18n.format("CoC7.Malfunction",{itemName:this.item.name}),await this.item.toggleItemFlag(CoC7Item.flags.malfunction))),void 0===this.canBePushed&&(this.canBePushed=!!this.skill&&this.skill.canBePushed(),null!=this.characteristic&&(this.canBePushed=!0),this.isFumble&&(this.canBePushed=!1),this.denyPush&&(this.canBePushed=!1)),!this.denyLuck&&this.actor){if(!(this.luckSpent||this.passed||this.isFumble||this.difficulty===CoC7Check.difficultyLevel.critical||this.unknownDifficulty)&&(this.skill||this.characteristic)){const luckNeeded=this.modifiedResult-this.succesThreshold;this.actor.luck>luckNeeded&&(this.hasEnoughLuck=!0,this.luckNeeded=luckNeeded,this.luckNeededTxt=game.i18n.format("CoC7.SpendLuck",{luckNeededValue:luckNeeded}))}if(!this.luckSpent&&(this.increaseSuccess=[],!this.pushing&&"lck"!==this.attribute&&"san"!==this.attribute)){if(this.unknownDifficulty&&this.modifiedResult>this.regularThreshold){const nextLevel={};nextLevel.difficultyName=game.i18n.localize("CoC7.RegularDifficulty"),nextLevel.difficulty=CoC7Check.difficultyLevel.regular,nextLevel.luckToSpend=this.modifiedResult-this.regularThreshold,nextLevel.hasEnoughLuck=nextLevel.luckToSpend<=this.actor.luck,nextLevel.luckToSpend<=this.actor.luck&&this.increaseSuccess.push(nextLevel)}if(this.difficulty<=CoC7Check.difficultyLevel.regular&&this.modifiedResult>this.hardThreshold){const nextLevel={};nextLevel.difficultyName=game.i18n.localize("CoC7.HardDifficulty"),nextLevel.difficulty=CoC7Check.difficultyLevel.hard,nextLevel.luckToSpend=this.modifiedResult-this.hardThreshold,nextLevel.hasEnoughLuck=nextLevel.luckToSpend<=this.actor.luck,nextLevel.luckToSpend<=this.actor.luck&&this.increaseSuccess.push(nextLevel)}if(this.difficulty<=CoC7Check.difficultyLevel.hard&&this.modifiedResult>this.extremeThreshold){const nextLevel={};nextLevel.difficultyName=game.i18n.localize("CoC7.ExtremeDifficulty"),nextLevel.difficulty=CoC7Check.difficultyLevel.extreme,nextLevel.luckToSpend=this.modifiedResult-this.extremeThreshold,nextLevel.hasEnoughLuck=nextLevel.luckToSpend<=this.actor.luck,nextLevel.luckToSpend<=this.actor.luck&&this.increaseSuccess.push(nextLevel)}}this.canIncreaseSuccess=this.increaseSuccess.length>0,this.isFumble&&(this.canIncreaseSuccess=!1)}if(this.canAwardExperience=this.skill&&!this.skill.system.properties.noxpgain,!(this.passed&&this.diceModifier<=0&&this.skill)||this.skill.system.properties.noxpgain||this.luckSpent||this.forced||this.isBlind||this.isUnknown||this.flagForDevelopement(),this.parent){const parent=await fromUuid(this.parent);parent&&"updateRoll"in parent&&await parent.updateRoll(this.JSONRollString)}}showDiceRoll(){if(game.modules.get("dice-so-nice")?.active){const diceResults=[];for(const dieResult of this.dices.tens)diceResults.push(100===dieResult.value?0:dieResult.value/10);diceResults.push(this.dices.unit.value);const diceData={formula:`${this.dices.tens.length}d100+1d10`,results:diceResults,whisper:null,blind:!1};game.dice3d.show(diceData)}}get cssClass(){let cssClass="";return this.isSuccess&&(cssClass="success"),this.isFailure&&(cssClass="failure"),this.isCritical&&!this.isFailure&&(cssClass="success critical"),this.isFumble&&!this.isSuccess&&(cssClass="failure fumble"),CoC7Check.successLevel.regular===this.successLevel&&(cssClass+=" regular-success"),CoC7Check.successLevel.hard===this.successLevel&&(cssClass+=" hard-success"),CoC7Check.successLevel.extreme===this.successLevel&&(cssClass+=" extreme-success"),cssClass}get cssClassList(){const cssClass=[];return this.isSuccess&&cssClass.push("success"),this.isFailure&&cssClass.push("failure"),this.isCritical&&!this.isFailure&&cssClass.push("success","critical"),this.isFumble&&!this.isSuccess&&cssClass.push("failure","fumble"),CoC7Check.successLevel.regular===this.successLevel&&cssClass.push("regular-success"),CoC7Check.successLevel.hard===this.successLevel&&cssClass.push("hard-success"),CoC7Check.successLevel.extreme===this.successLevel&&cssClass.push("extreme-success"),cssClass}get playerCssClass(){return this.isSuccess||this.forcedSuccess?"success":this.isFailure||this.forcedFailure?"failure":null}async upgradeCheck(upgradeindex,update=!0){const increasedSuccess=this.increaseSuccess[upgradeindex],luckAmount=parseInt(increasedSuccess.luckAmount)||parseInt(increasedSuccess.luckToSpend);if(!this.actor.spendLuck(luckAmount))return void ui.notifications.error(game.i18n.format("CoC7.ErrorNotEnoughLuck",{actor:this.actor.name}));this.totalLuckSpent=parseInt(this.totalLuckSpent)?parseInt(this.totalLuckSpent):0,this.totalLuckSpent+=parseInt(luckAmount);const newSuccessLevel=parseInt(increasedSuccess.newSuccessLevel)||parseInt(increasedSuccess.difficulty);this.successLevel=newSuccessLevel,this.difficulty<=newSuccessLevel&&(this.isSuccess=!0,this.isFailure=!1);for(let index=0;index<upgradeindex+1;index++)this.increaseSuccess.shift();for(const s of this.increaseSuccess)s.luckToSpend=s.luckToSpend-luckAmount;return this.luckSpent=!0,this.computeCheck(),update?await this.updateChatCard():void 0}removeUpgrades(){this.canIncreaseSuccess=!1,this.increaseSuccess=[],this.luckNeeded=0,this.luckNeededTxt=null,this.canBePushed=!1}forcePass(luckAmount=null,update=!0){if(luckAmount){this.actor.spendLuck(luckAmount),this.successLevel=this.difficulty;for(const s of this.increaseSuccess)s.luckToSpend=s.luckToSpend-luckAmount;this.luckSpent=!0,this.isSuccess=!0,this.isFailure=!1,this.totalLuckSpent=parseInt(this.totalLuckSpent)?parseInt(this.totalLuckSpent):0,this.totalLuckSpent+=parseInt(luckAmount),this.computeCheck(),update&&this.updateChatCard()}else this.forced=!0,this.forcedSuccess=!0,this.isUnknown?this.forceSuccessLevel(CoC7Check.successLevel.regular,update):this.forceSuccessLevel(this.difficulty,update)}forceFail(update=!0){this.forced=!0,this.forcedFailure=!0,this.isUnknown?this.forceSuccessLevel(CoC7Check.successLevel.failure,update):this.forceSuccessLevel(this.difficulty-1,update)}_forceCheck(high,low,update=!0){let total=Math.floor(Math.random()*(high-low))+low+1;const unitTotal=total%10;let tenTotal=Math.floor(total/10);const tens=[];let hasEnough=Math.abs(this.diceModifier)===tens.length;for(;!hasEnough;){let ten=Math.floor(10*Math.random()),roll=10*ten+unitTotal;0===roll&&(roll=100,ten=100),this.hasPenalty&&roll<=high&&(tens.push(ten),roll>total&&(total=roll)),this.hasBonus&&roll>low&&(tens.push(ten),roll<total&&(total=roll)),hasEnough=tens.length===Math.abs(this.diceModifier)}10===tenTotal&&0===unitTotal&&(tenTotal=100),tens.splice(Math.floor(Math.random()*tens.length+1),0,10===tenTotal?0:tenTotal),this.dices.tens=[],this.dices.unit.value=unitTotal,this.modifiedResult=total,this.dices.total=total,this.dices.tenResult=total-unitTotal;const max=0===unitTotal?100:90,min=0===unitTotal?10:0;let selected=total-unitTotal;for(let i=0;i<tens.length;i++){const die={};die.value=tens[i],die.value===selected?(selected=101,die.selected=!0,this.hasBonus?(die.isMax=!0,die.isMin=!1):(die.isMin=!0,die.isMax=!1)):(die.value===max?die.isMax=!0:die.isMax=!1,die.value===min?die.isMin=!0:die.isMin=!1),this.dices.tens.push(die)}this.computeCheck(),update&&this.updateChatCard()}forceSuccessLevel(successLevel,update=!0){let high,low;CoC7Check.successLevel.fumble===successLevel&&(high=100,low=this.fumbleThreshold-1),CoC7Check.successLevel.failure===successLevel&&(high=this.regularThreshold===this.fumbleThreshold-1?100:this.fumbleThreshold-1,low=this.regularThreshold),CoC7Check.successLevel.regular===successLevel&&(high=this.regularThreshold,low=this.hardThreshold),CoC7Check.successLevel.hard===successLevel&&(high=this.hardThreshold,low=this.extremeThreshold),CoC7Check.successLevel.extreme===successLevel&&(high=this.extremeThreshold,low=1),CoC7Check.successLevel.critical===successLevel&&(high=1,low=0),high===low&&low--,0===high&&(high=this.fumbleThreshold-1),this._forceCheck(high,low,update)}increaseSuccessLevel(update=!0){let high,low;CoC7Check.successLevel.fumble===this.successLevel&&(high=this.fumbleThreshold-1,low=this.regularThreshold===this.fumbleThreshold-1?this.hardThreshold:this.regularThreshold),CoC7Check.successLevel.failure===this.successLevel&&(high=this.regularThreshold,low=this.hardThreshold),CoC7Check.successLevel.regular===this.successLevel&&(high=this.hardThreshold,low=this.extremeThreshold),CoC7Check.successLevel.hard===this.successLevel&&(high=this.extremeThreshold,low=this.criticalThreshold),CoC7Check.successLevel.extreme===this.successLevel&&(high=this.criticalThreshold,low=0),high===low&&low--,this._forceCheck(high,low,update)}decreaseSuccessLevel(update=!0){let high,low;CoC7Check.successLevel.failure===this.successLevel&&(high=100,low=this.fumbleThreshold-1),CoC7Check.successLevel.regular===this.successLevel&&(high=this.fumbleThreshold-1,low=this.regularThreshold),CoC7Check.successLevel.hard===this.successLevel&&(high=this.regularThreshold,low=this.hardThreshold),CoC7Check.successLevel.extreme===this.successLevel&&(high=this.hardThreshold,low=this.extremeThreshold),CoC7Check.successLevel.critical===this.successLevel&&(high=this.extremeThreshold,low=1),0===high&&(high=this.fumbleThreshold-1),this._forceCheck(high,low,update)}async flagForDevelopement(){this.flaggedForDevelopment=!0,this.skill&&await this.skill.flagForDevelopement()}set difficulty(x){this._difficulty=parseInt(x)}get difficulty(){return this._difficulty}set flavor(x){this._flavor=x}set context(x){this._context=x}get context(){if(this._context)return this._context}set parent(x){this.uuid||(this.uuid=foundry.utils.randomID(16)),this.parentUuid=x}get parent(){if(this.parentUuid)return this.parentUuid}get flavor(){if(this._flavor)return this._flavor;let flavor="";return this.actor?.system&&(this.skill?flavor=game.i18n.format("CoC7.CheckResult",{name:this.skill.name,value:this.rawValueString,difficulty:this.difficultyString}):this.item?flavor=game.i18n.format("CoC7.ItemCheckResult",{item:this.item.name,skill:this.skill.name,value:this.rawValueString,difficulty:this.difficultyString}):this.characteristic?flavor=game.i18n.format("CoC7.CheckResult",{name:game.i18n.format(this.actor.system.characteristics[this.characteristic].label),value:this.rawValueString,difficulty:this.difficultyString}):this.attribute?flavor=game.i18n.format("CoC7.CheckResult",{name:game.i18n.format(`CoC7.${this.actor.system.attribs[this.attribute].label}`),value:this.rawValueString,difficulty:this.difficultyString}):this.displayName&&(flavor=game.i18n.format("CoC7.CheckResult",{name:this.displayName,value:this.rawValueString,difficulty:this.difficultyString}))),flavor||this.rawValue&&(flavor=this.displayName?game.i18n.format("CoC7.CheckResult",{name:this.displayName,value:this.rawValueString,difficulty:this.difficultyString}):game.i18n.format("CoC7.CheckRawValue",{rawvalue:this.rawValue,difficulty:this.difficultyString})),this.pushing&&(flavor=`${game.i18n.format("CoC7.Pushing")} ${flavor}`),flavor}get tooltipHeader(){return this.attribute?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:game.i18n.format(`CoC7.${this.actor.system.attribs[this.attribute].label}`)})+` (${this.actor.system.attribs[this.attribute].value}%)`:this.characteristic?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:game.i18n.localize(this.actor.system.characteristics[this.characteristic].label)})+` (${this.actor.system.characteristics[this.characteristic].value}%)`:this.skill?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:this.skill.name})+` (${this.skill.value}%)`:this.displayName?game.i18n.format(`CoC7.LinkCheck${this.difficulty===CoC7Check.difficultyLevel.regular?"":"Diff"}${this.diceModifier?"Modif":""}`,{difficulty:this.difficultyString,modifier:this.diceModifier,name:this.displayName})+` (${this.rawValueString}%)`:null}async getHtmlRollElement(options={}){this.options?this.options=mergeObject(this.options,options):this.options=options;const html=await renderTemplate("systems/CoC7/templates/chat/rolls/in-card-roll.html",this);return html?$.parseHTML(html)[0]:null}async getHtmlRoll(options={}){this.options?this.options=mergeObject(this.options,options):this.options=options;return await renderTemplate("systems/CoC7/templates/chat/rolls/in-card-roll.html",this)||void 0}async toMessage(pushing=!1){this.pushing=pushing;const html=await renderTemplate("systems/CoC7/templates/chat/roll-result.html",this),speakerData={};let speaker;this.actor?(this.actor.isToken?speakerData.token=this.token.document:this.actor.isDummy?this.actor.name&&(speaker={alias:this.actor.name}):speakerData.actor=this.actor,speaker=ChatMessage.getSpeaker(speakerData)):speaker=ChatMessage.getSpeaker();const chatData={user:(this.actor?.user?this.actor.user:game.user).id,speaker,flavor:this.flavor,content:html,flags:{CoC7:{type:CoC7Check.cardType}}};if(this.uuid&&(chatData.flags.CoC7.uuid=this.uuid),this.context&&(chatData.flags.CoC7.context=this.context),"selfroll"===this.rollMode)if(game.user.isGM){if(chatData.user=game.user.id,chatData.flavor=`[${this.actor.name}] ${chatData.flavor}`,chatData.flags={CoC7:{GMSelfRoll:!0}},void 0!==chatData.speaker&&(chatData.flags.CoC7.originalSpeaker=duplicate(chatData.speaker)),game.user.isGM)switch(game.settings.get("CoC7","selfRollWhisperTarget")){case"owners":delete chatData.speaker,chatData.whisper=this.actor.owners,chatData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER;break;case"everyone":delete chatData.speaker,chatData.whisper=game.users.players,chatData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER;break;default:ChatMessage.applyRollMode(chatData,this.rollMode)}}else ChatMessage.applyRollMode(chatData,this.rollMode);["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"blindroll"===this.rollMode&&(chatData.blind=!0),this.dice?.roll&&!this.dice?.hideDice&&(chatData.roll=this.dice.roll,chatData.type=CONST.CHAT_MESSAGE_TYPES.ROLL,chatData.rollMode=this.isBlind?"blindroll":this.rollMode),ChatMessage.create(chatData).then((msg=>msg))}async updateChatCard({makePublic=!1,forceRoll=!1}={}){makePublic&&(this.rollMode=!1);const chatData={flavor:this.flavor};makePublic&&(chatData.whisper=[],chatData.blind=!1,ChatMessage.applyRollMode(chatData)),chatData.blind&&(this.isBlind=!0);const html=await renderTemplate("systems/CoC7/templates/chat/roll-result.html",this);let newContent=html;if(!this.messageId)return $.parseHTML(html)[0];const message=game.messages.get(this.messageId),htmlMessage=$.parseHTML(message.content)[0];if(!htmlMessage.classList.contains("roll-result")){const htmlCheck=$.parseHTML(html)[0],rollResultElement=htmlMessage.querySelector(".roll-result");null!==rollResultElement&&rollResultElement.replaceWith(htmlCheck),newContent=htmlMessage.outerHTML}chatData.content=newContent,CONST.CHAT_MESSAGE_TYPES.ROLL===message.type&&(message.whisper?.length?chatData.type=CONST.CHAT_MESSAGE_TYPES.WHISPER:chatData.type=CONST.CHAT_MESSAGE_TYPES.OTHER),forceRoll&&this.dice?.roll&&(game.user.isGM||!this.isBlind)&&await CoC7Dice.showRollDice3d(this.dice.roll);const msg=await message.update(chatData);return await ui.chat.updateMessage(msg,!1),msg}static async updateCardSwitch(event){const card=event.currentTarget.closest(".chat-card"),check=await CoC7Check.getFromCard(card);check.gmDifficultyRegular=!1,check.gmDifficultyHard=!1,check.gmDifficultyExtreme=!1,check.gmDifficultyCritical=!1,"gmDifficultyRegular"===event.currentTarget.dataset.flag&&(check.gmDifficultyRegular=!0),"gmDifficultyHard"===event.currentTarget.dataset.flag&&(check.gmDifficultyHard=!0),"gmDifficultyExtreme"===event.currentTarget.dataset.flag&&(check.gmDifficultyExtreme=!0),"gmDifficultyCritical"===event.currentTarget.dataset.flag&&(check.gmDifficultyCritical=!0),check.computeCheck(),check.updateChatCard()}get tooltip(){return renderTemplate("systems/CoC7/templates/chat/rolls/roll-tooltip.html",this)}get inlineCheck(){const a=document.createElement("a");return a.classList.add("coc7-inline-check"),a.classList.add("coc7-check-result"),a.classList.add("coc7-inline"),a.classList.add(...this.cssClassList),a.title=this.tooltipHeader,a.dataset.roll=escape(this.JSONRollString),a.innerHTML=`<i class="game-icon game-icon-d10"></i> ${this.modifiedResult||"??"}`,a}get rollToolTip(){if(this.standby)return;const parts=[],tens=this.dices.tens.map((r=>({result:r.value,selected:r.selected,classes:["die","d10",r.selected?null:"discarded",r.isMin?"min":null,r.isMax?"max":null].filter((c=>c)).join(" ")}))),unit=[{result:this.dices.unit.value,selected:!0,classes:"die d10"}];return parts.push({formula:this.tooltipHeader,total:this.modifiedResult,icons:this.successLevelIcons,class:this.cssClass,successRequired:this.successRequired,resultType:this.resultType,face:10,rolls:[...tens,...unit]}),renderTemplate("systems/CoC7/templates/chat/rolls/roll-tooltip.html",{parts})}get JSONRollData(){return JSON.parse(this.JSONRollString)}get JSONRollString(){return JSON.stringify(this,((key,value)=>{if(null===value)return;return["_actor","_skill","_item"].includes(key)?void 0:value}))}static fromData(data){return Object.assign(new CoC7Check,data)}static fromRollString(dataString){let data;try{data=JSON.parse(unescape(dataString))}catch(err){return ui.notifications.error(err.message),null}return CoC7Check.fromData(data)}static async alter(check,command,options={}){switch(command){case"useLuck":if(options.target.classList.contains("pass-check")){const luckAmount=parseInt(options.target.dataset.luckAmount);check.forcePass(luckAmount,options.update)}else{const upgradeIndex=parseInt(options.target.dataset.index);await check.upgradeCheck(upgradeIndex,options.update)}break;case"force-pass":check.forcePass(null,options.update);break;case"force-fail":check.forceFail(options.update);break;case"increase-success-level":check.increaseSuccessLevel(options.update);break;case"decrease-success-level":check.decreaseSuccessLevel(options.update);break;case"reveal-check":check.isBlind=!1,check.rollMode=!1,check.computeCheck(),options.update&&check.updateChatCard();break;case"flag-for-development":await check.flagForDevelopement(),check.computeCheck(),options.update&&check.updateChatCard();break;case"push":await check._perform(),check.pushing=!0,options.update&&check.updateChatCard()}}static async _onClickInlineRoll(event){event.preventDefault();const a=event.currentTarget;if(a.classList.contains("coc7-check-result"))return a.classList.contains("expanded")?CoC7Check._collapseInlineResult(a):CoC7Check._expandInlineResult(a)}static _collapseInlineResult(a){if(!a.classList.contains("coc7-inline-check"))return;if(!a.classList.contains("expanded"))return;const tooltip=a.querySelector(".coc7-check-tooltip");return tooltip&&tooltip.remove(),a.classList.remove("expanded")}static async _expandInlineResult(a){if(!a.classList.contains("coc7-inline-check"))return;if(a.classList.contains("expanded"))return;const check=Object.assign(new CoC7Check,JSON.parse(unescape(a.dataset.roll)));if(check.standby)return;const tip=document.createElement("div");tip.innerHTML=await check.rollToolTip;const tooltip=tip.children[0];a.appendChild(tooltip),a.classList.add("expanded");const pa=a.getBoundingClientRect(),pt=tooltip.getBoundingClientRect();tooltip.style.left=`${Math.min(pa.x,window.innerWidth-(pt.width+3))}px`,tooltip.style.top=`${Math.min(pa.y+pa.height+3,window.innerHeight-(pt.height+3))}px`;const zi=getComputedStyle(a).zIndex;tooltip.style.zIndex=Number.isNumeric(zi)?zi+1:100}}class CoC7Utilities{static isFormula(x){return"string"==typeof x&&(!!isNaN(Number(x))&&Roll.validate(x))}static ParseChatEntry(html,content){const terms=content.match(/(\S+)/g);if(terms[0]?.toLowerCase().match(/^\/r(oll)?$/)&&terms[1]?.toLowerCase().startsWith("1d%"))return setTimeout((function(){CoC7Utilities._ExecCommand(content)}),200),!1}static async _ExecCommand(content){const options=content.toLowerCase().split(" ")?.join("")?.replace(/\/r(oll)?1d%/,""),check=new CoC7Check;if(options.length){let threshold,flatDiceModifier,flatThresholdModifier,escaped=options,difficulty=CoC7Check.difficultyLevel.regular,diceModifier=0,ask=!1;const thresholdStr=escaped.match(/[^(]+(?=\))/);if(thresholdStr&&thresholdStr.length){threshold=Number(thresholdStr[0]);for(const match of thresholdStr)escaped=escaped.replace(`(${match})`,"")}const difficultyStr=escaped.match(/[^[]+(?=\])/);if(difficultyStr&&difficultyStr.length){difficulty=CoC7Utilities.convertDifficulty(difficultyStr[0]);for(const match of difficultyStr)escaped=escaped.replace(`[${match}]`,"")}if(escaped.includes("?")&&(ask=!0,escaped=escaped.replace("?","")),isNaN(Number(escaped))||(diceModifier=Number(escaped)),ask){const dialogOptions={threshold,modifier:diceModifier,difficulty,askValue:!0},usage=await RollDialog.create(dialogOptions);usage&&(diceModifier=Number(usage.get("bonusDice")),difficulty=Number(usage.get("difficulty")),threshold=Number(usage.get("threshold"))||threshold,flatDiceModifier=Number(usage.get("flatDiceModifier")),flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.diceModifier=diceModifier||0,check.difficulty=difficulty||CoC7Check.difficultyLevel.regular,check.rawValue=threshold,check.flatDiceModifier=flatDiceModifier,check.flatThresholdModifier=flatThresholdModifier,threshold&&(check.rawValue=isNaN(threshold)?void 0:threshold)}const speaker=ChatMessage.getSpeaker();if(speaker.token&&speaker.scene){const actor=chatHelper.getActorFromKey(`${speaker.scene}.${speaker.token}`);actor&&(check.actor=actor)}else if(speaker.actor){const actor=game.actors.get(speaker.actor);actor&&(check.actor=actor)}await check.roll(),check.toMessage()}static async test(){ui.notifications.infos("Do some stuff")}static getActorFromString(actorString){let actor;return game.actors.tokens[actorString]?game.actors.tokens[actorString]:(actor=game.actors.get(actorString),actor||(actor=Object.values(game.actors.tokens).find((t=>t.name.toLowerCase()===actorString.toLowerCase())),actor||(actor=game.actors.find((a=>a.name.toLowerCase()===actorString.toLowerCase()))),actor||null))}static getCharacteristicNames(char){const charKey=char.toLowerCase();switch(charKey){case"str":return{short:game.i18n.localize("CHARAC.STR"),label:game.i18n.localize("CHARAC.Strength")};case"con":return{short:game.i18n.localize("CHARAC.CON"),label:game.i18n.localize("CHARAC.Constitution")};case"siz":return{short:game.i18n.localize("CHARAC.SIZ"),label:game.i18n.localize("CHARAC.Size")};case"dex":return{short:game.i18n.localize("CHARAC.DEX"),label:game.i18n.localize("CHARAC.Dexterity")};case"app":return{short:game.i18n.localize("CHARAC.APP"),label:game.i18n.localize("CHARAC.Appearance")};case"int":return{short:game.i18n.localize("CHARAC.INT"),label:game.i18n.localize("CHARAC.Intelligence")};case"pow":return{short:game.i18n.localize("CHARAC.POW"),label:game.i18n.localize("CHARAC.Power")};case"edu":return{short:game.i18n.localize("CHARAC.EDU"),label:game.i18n.localize("CHARAC.Education")};case"luck":return{short:game.i18n.localize("CoC7.Luck"),label:game.i18n.localize("CoC7.Luck")};default:for(const[,value]of Object.entries(game.system.template.Actor.templates.characteristics.characteristics))if(charKey===game.i18n.localize(value.short).toLowerCase())return{short:game.i18n.localize(value.short),label:game.i18n.localize(value.label)};return null}}static convertDifficulty(difficulty){if("0"===String(difficulty))return CoC7Check.difficultyLevel.regular;if("string"!=typeof difficulty)return difficulty;if(!isNaN(Number(difficulty)))return Number(difficulty);switch(difficulty){case"?":return CoC7Check.difficultyLevel.unknown;case"+":return CoC7Check.difficultyLevel.hard;case"++":return CoC7Check.difficultyLevel.extreme;case"+++":return CoC7Check.difficultyLevel.critical;default:return CoC7Check.difficultyLevel.regular}}static skillCheckMacro(skill,event,options={}){event.preventDefault();const speaker=ChatMessage.getSpeaker();let actor;speaker.token&&(actor=game.actors.tokens[speaker.token]),actor||(actor=game.actors.get(speaker.actor)),actor?actor.skillCheck(skill,event.shiftKey,options):ui.notifications.warn(game.i18n.localize("CoC7.WarnNoActorAvailable"))}static weaponCheckMacro(weapon,event){event.preventDefault();const speaker=ChatMessage.getSpeaker();let actor;if(speaker.token&&(actor=game.actors.tokens[speaker.token]),!actor)if(speaker.scene&&speaker.token){const baseActor=game.actors.get(speaker.actor),token=game.scenes.get(speaker.scene).tokens.get(speaker.token);actor=new(getDocumentClass("Actor"))(baseActor.toJSON(),{parent:token})}else actor=game.actors.get(speaker.actor);actor?actor.weaponCheck(weapon,event.shiftKey):ui.notifications.warn(game.i18n.localize("CoC7.WarnNoActorAvailable"))}static async checkMacro(threshold=void 0,event=null){await CoC7Utilities.rollDice(event,{threshold})}static createMacro(bar,data,slot){if("Item"!==data.type)return;const item=fromUuidSync(data.uuid,bar);if(!item)return ui.notifications.warn(game.i18n.localize("CoC7.WarnMacroNoItemFound"));if("weapon"!==item.type&&"skill"!==item.type)return ui.notifications.warn(game.i18n.localize("CoC7.WarnMacroIncorrectType"));let command="";if("weapon"===item.type&&(command=`game.CoC7.macros.weaponCheck({name:'${item.name}', uuid:'${data.uuid}'}, event);`),"skill"===item.type){if(CoC7Item.isAnySpec(item))return ui.notifications.warn(game.i18n.localize("CoC7.WarnNoGlobalSpec"));command=`game.CoC7.macros.skillCheck({name:'${item.name}', uuid:'${data.uuid}'}, event);`}if(""!==command){const macro=game.macros.contents.find((m=>m.name===item.name&&m.command===command));return macro?(game.user.assignHotbarMacro(macro,slot),!1):(Macro.create(duplicate({name:item.name,type:"script",img:item.img,command})).then((macro=>{game.user.assignHotbarMacro(macro,slot)})),!1)}return!0}static async toggleDevPhase(toggle){await game.settings.set("CoC7","developmentEnabled",toggle),ui.notifications.info(toggle?game.i18n.localize("CoC7.DevPhaseEnabled"):game.i18n.localize("CoC7.DevPhaseDisabled")),game.socket.emit("system.CoC7",{type:"updateChar"}),CoC7Utilities.updateCharSheets()}static async toggleCharCreation(toggle){await game.settings.set("CoC7","charCreationEnabled",toggle),ui.notifications.info(toggle?game.i18n.localize("CoC7.CharCreationEnabled"):game.i18n.localize("CoC7.CharCreationDisabled")),game.socket.emit("system.CoC7",{type:"updateChar"}),CoC7Utilities.updateCharSheets(),Hooks.call("toggleCharCreation",toggle)}static async getTarget(){const users=game.users.filter((user=>user.active)),actors=game.actors;let checkOptions=`<input type="checkbox" name="COCCheckAllPC" id="COCCheckAllPC">\n\n    <label for="COCCheckAllPC">${game.i18n.localize("CoC7.allActors")}</label>`;const playerTokenIds=users.map((u=>u.character?.id)).filter((id=>void 0!==id)),selectedPlayerIds=canvas.tokens.controlled.map((token=>token.actor.id));actors.forEach((actor=>{const checked=(selectedPlayerIds.includes(actor.id)||playerTokenIds.includes(actor.id))&&"checked";checkOptions+=`\n     <br>\n     <input type="checkbox" name="${actor.id}" id="${actor.id}" value="${actor.name}" ${checked}>\n\n     <label for="${actor.id}">${actor.name}</label>\n       `})),new Dialog({title:`${game.i18n.localize("CoC7.dreaming")}`,content:`${game.i18n.localize("CoC7.restTargets")}: ${checkOptions} <br>`,buttons:{whisper:{label:`${game.i18n.localize("CoC7.startRest")}`,callback:async html=>{const targets=[];let all=!1;const users=html.find('[type="checkbox"]');for(const user of users)"COCCheckAllPC"===user.name&&user.checked&&(all=!0),(user.checked||all)&&targets.push(user.id);await CoC7Utilities.startRest(targets)}}}}).render(!0)}static async startRest(targets){if(!targets.length)return;const actors=game.actors.filter((actor=>targets.includes(actor.id)));let chatContent=`<i>${game.i18n.localize("CoC7.dreaming")}...</i><br>`;for(const actor of actors)if(["character","npc","creature"].includes(actor.type)){let quickHealer=!1;for(const item of actor.items)"talent"===item.type&&item.name===`${game.i18n.localize("CoC7.quickHealer")}`&&(quickHealer=!0);const isCriticalWounds=!game.settings.get("CoC7","pulpRuleIgnoreMajorWounds")&&actor.hasConditionStatus(COC7.status.criticalWounds),dailySanityLoss=actor.system.attribs.san.dailyLoss,hpValue=actor.system.attribs.hp.value,hpMax=actor.system.attribs.hp.max,mpValue=actor.system.attribs.mp.value,mpMax=actor.system.attribs.mp.max,pow=actor.system.characteristics.pow.value;if(chatContent+=`<br><b>${actor.name}. </b>`,hpValue<hpMax)if(!0===isCriticalWounds)chatContent+=`<b style="color:darkred">${game.i18n.localize("CoC7.hasCriticalWounds")}. </b>`;else{let healAmount=1;game.settings.get("CoC7","pulpRuleFasterRecovery")&&(healAmount=2),!0===quickHealer&&healAmount++,healAmount=Math.min(healAmount,hpMax-hpValue),chatContent+=1===healAmount?`<b style="color:darkolivegreen">${game.i18n.localize("CoC7.healthRecovered")}. </b>`:`<b style="color:darkolivegreen">${game.i18n.format("CoC7.pulpHealthRecovered",{number:healAmount})}. </b>`,actor.update({"system.attribs.hp.value":actor.system.attribs.hp.value+healAmount})}dailySanityLoss>0&&(chatContent+=`<b style="color:darkolivegreen">${game.i18n.localize("CoC7.dailySanLossRestarted")}.</b>`,actor.update({"system.attribs.san.dailyLoss":0,"system.attribs.san.dailyLimit":Math.floor(actor.system.attribs.san.value/5)}));const hours=7;if(hours>0&&mpValue<mpMax){let magicAmount=hours*Math.ceil(pow/100);magicAmount=Math.min(magicAmount,mpMax-mpValue),chatContent+=`<b style="color:darkolivegreen">${game.i18n.format("CoC7.magicPointsRecovered")}: ${magicAmount}.</b>`,actor.update({"system.attribs.mp.value":actor.system.attribs.mp.value+magicAmount})}}const chatData={user:game.user.id,speaker:ChatMessage.getSpeaker(),content:chatContent,type:CONST.CHAT_MESSAGE_TYPES.OTHER};ChatMessage.create(chatData)}static async toggleXPGain(toggle){await game.settings.set("CoC7","xpEnabled",toggle),ui.notifications.info(toggle?game.i18n.localize("CoC7.XPGainEnabled"):game.i18n.localize("CoC7.XPGainDisabled"))}static async rollDice(event,options={}){let diceModifier,difficulty,flatDiceModifier,flatThresholdModifier;options.askValue=!options.threshold;let threshold=options.threshold;if(void 0!==options.modifier&&(diceModifier=Number(options.modifier)),void 0!==options.difficulty&&(difficulty=CoC7Utilities.convertDifficulty(options.difficulty)),!event?.shiftKey&&!options.fastForward){const usage=await RollDialog.create(options);usage&&(diceModifier=Number(usage.get("bonusDice")),difficulty=Number(usage.get("difficulty")),threshold=Number(usage.get("threshold")),flatDiceModifier=Number(usage.get("flatDiceModifier")),flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}const actors=[];if(game.user.isGM&&canvas.tokens.controlled.length)for(const token of canvas.tokens.controlled)actors.push(token.actor.tokenKey);else game.user.character&&actors.push(game.user.character.tokenKey);for(const tk of actors){const check=new CoC7Check;check.diceModifier=diceModifier||0,check.difficulty=difficulty||CoC7Check.difficultyLevel.regular,check.rawValue=threshold,check.flatDiceModifier=flatDiceModifier,check.flatThresholdModifier=flatThresholdModifier,check.actor=tk,await check.roll(),check.toMessage()}if(!actors.length){const check=new CoC7Check;check.diceModifier=diceModifier||0,check.difficulty=difficulty||CoC7Check.difficultyLevel.regular,check.rawValue=threshold,check.flatDiceModifier=flatDiceModifier,check.flatThresholdModifier=flatThresholdModifier,await check.roll(),check.toMessage()}}static updateCharSheets(){if(game.user.isGM)for(const a of game.actors.contents)"character"===a?.type&&a?.sheet&&a?.sheet?.rendered&&(a.update({"system.flags.locked":!0}),a.render(!1));else for(const a of game.actors.contents)a.isOwner&&(a.update({"system.flags.locked":!0}),a.render(!1))}static async getDataFromDropEvent(event,entityType="Item"){if(event.originalEvent)return[];try{const dataList=JSON.parse(event.dataTransfer.getData("text/plain"));if("Folder"===dataList.type&&dataList.documentName===entityType){const folder=await fromUuid(dataList.uuid);return folder?folder.contents:[]}if(dataList.type===entityType){const item=await fromUuid(dataList.uuid);return item?[item]:[]}return[]}catch(err){return[]}}static async copyToClipboard(text){try{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(text);{const textArea=document.createElement("textarea");return textArea.value=text,textArea.style.position="fixed",textArea.style.left="-999px",textArea.style.top="-999px",document.body.appendChild(textArea),textArea.focus(),textArea.select(),new Promise(((resolve,reject)=>{document.execCommand("copy")?resolve():reject(new Error(game.i18n.localize("CoC7.UnableToCopyToClipboard"))),textArea.remove()})).catch((err=>ui.notifications.error(err)))}}catch(err){ui.notifications.error(game.i18n.localize("CoC7.UnableToCopyToClipboard"))}}static quoteRegExp(string){const len=string.length;let qString="";for(let current,i=0;i<len;++i)if(current=string.charAt(i),current>=" "&&current<="~")"\\"!==current&&"'"!==current||(qString+="\\"),qString+=current.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");else switch(current){case"\b":qString+="\\b";break;case"\f":qString+="\\f";break;case"\n":qString+="\\n";break;case"\r":qString+="\\r";break;case"\t":qString+="\\t";break;case"\v":qString+="\\v";break;default:qString+="\\u",current=current.charCodeAt(0).toString(16);for(let j=4;--j>=current.length;qString+="0");qString+=current}return qString}static setByPath(obj,path,value){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++)o[parts[i]]||(o[parts[i]]={}),o=o[parts[i]];o[parts[parts.length-1]]=value}static getByPath(obj,path){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++){if(!o[parts[i]])return;o=o[parts[i]]}return o[parts[parts.length-1]]}static SfromUuid(uuid){let doc,parts=uuid.split(".");if("Compendium"===parts[0])return null;{const[docName,docId]=parts.slice(0,2);parts=parts.slice(2);doc=CONFIG[docName].collection.instance.get(docId)}for(;doc&&parts.length>1;){const[embeddedName,embeddedId]=parts.slice(0,2);doc=doc.getEmbeddedDocument(embeddedName,embeddedId),parts=parts.slice(2)}return doc||null}static isDocumentUuidPack(uuid){return!!uuid.includes("Compendium")}static isDocumentUuid(uuid){const identifiers=["Actor","Scene","Token","Item","Compendium"];for(let i=0;i<identifiers.length;i++)if(uuid.includes(identifiers[i]))return!0;return!1}static getActorDocumentFromDropData(dropData){let docUuid,actor;return docUuid=dropData.tokenUuid?dropData.tokenUuid:void 0!==dropData.uuid?dropData.uuid:dropData.sceneId&&dropData.tokenId?`Scene.${dropData.sceneId}.Token.${dropData.tokenId}`:dropData.actorId||dropData.actorKey||dropData.id,"Token"===dropData.type?docUuid=dropData.uuid:docUuid&&(actor=CoC7Utilities.getActorFromKey(docUuid),actor||"Item"!==dropData.type||(docUuid=null)),actor&&docUuid!==actor.uuid&&(docUuid=actor.uuid),docUuid}static getDocumentFromKey(key){if(!key)return null;if(CoC7Utilities.isDocumentUuid(key))return CoC7Utilities.isDocumentUuidPack(key)?fromUuid(key):CoC7Utilities.SfromUuid(key);if(key.includes(".")){const[sceneId,tokenId]=key.split(".");if("TOKEN"===sceneId)return game.actors.tokens[tokenId];const scene=game.scenes.get(sceneId);if(!scene)return null;const tokenData=scene.getEmbeddedDocument("Token",tokenId);if(!tokenData)return null;const token=new Token(tokenData);return token.scene||(token.scene=duplicate(scene)),token}return game.actors.get(key)||null}static getActorFromKey(key){const doc=CoC7Utilities.getDocumentFromKey(key);return doc?doc.actor?doc.actor:"CoCActor"===doc.constructor?.name?doc:null:null}static async createImportCharactersFolderIfNotExists(){let folderName=game.i18n.localize("CoC7.ImportedCharactersFolder");"CoC7.ImportedCharactersFolder"===folderName&&(folderName="Imported characters");let importedCharactersFolder=game.folders.find((entry=>entry.name===folderName&&"Actor"===entry.type));return null==importedCharactersFolder&&(importedCharactersFolder=await Folder.create({name:folderName,type:"Actor",parent:null}),ui.notifications.info(game.i18n.localize("CoC7.CreatedImportedCharactersFolder"))),importedCharactersFolder}static async guessItem(type,name,{combat=null,source="",fallbackAny=!1}={}){let existing=null;name=name.toLowerCase();for(let o=0,oM=source.length;o<oM;o++)switch(source.substring(o,o+1)){case"i":if(existing=game.items.find((item=>item.type===type&&item.name.toLowerCase()===name&&(null===combat||item.system.properties.combat===combat))),existing)return existing;break;case"w":case"m":case"s":for(const pack of game.packs)if("Item"===pack.metadata.type&&("w"===source[o]&&"world"===pack.metadata.package||"S"===source[o]&&"CoC7"===pack.metadata.package||"s"===source[o]&&!["world","CoC7"].includes(pack.metadata.package))){if(existing=(await pack.getDocuments()).find((item=>item.type===type&&item.name.toLowerCase()===name&&(null===combat||item.system.properties.combat===combat))),existing)return existing}}if(fallbackAny&&"skill"===type){const match=name.match(/^(.+ \()(?!any).+(\))$/);if(match)return await CoC7Utilities.guessItem(type,match[1]+"any"+match[2],{combat,source})}}static toKebabCase(s){if(!s)return"";const match=s.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g);return match?match.join("-").toLowerCase():""}static sortByNameKey(a,b){return a.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleLowerCase().localeCompare(b.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleLowerCase())}}class CoCIDEditor extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","dialog","coc-id-editor"],template:"systems/CoC7/templates/apps/coc-id-editor.hbs",width:900,height:"auto",title:"CoC7.CoCIDFlag.title",closeOnSubmit:!1,submitOnClose:!0,submitOnChange:!0})}async getData(){const sheetData=super.getData();sheetData.supportedLanguages=CONFIG.supportedLanguages,this.options.editable=this.object.sheet.isEditable,sheetData.guessCode=game.system.api.cocid.guessId(this.object),sheetData.idPrefix=game.system.api.cocid.getPrefix(this.object),sheetData.cocidFlag=this.object.flags?.CoC7?.cocidFlag,sheetData.id=sheetData.cocidFlag?.id||"",sheetData.lang=sheetData.cocidFlag?.lang||game.i18n.lang,sheetData.priority=sheetData.cocidFlag?.priority||0,sheetData.eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData.eras.push({id:key,name:game.i18n.localize(value),isEnabled:!0===(sheetData.cocidFlag?.eras??{})[key]});sheetData.eras.sort(CoC7Utilities.sortByNameKey);const CoCIDKeys=flattenObject(game.i18n.translations.CoC7.CoCIDFlag.keys??{}),prefix=new RegExp("^"+CoC7Utilities.quoteRegExp(sheetData.idPrefix));sheetData.existingKeys=Object.keys(CoCIDKeys).reduce(((obj,k)=>(k.match(prefix)&&obj.push({k,name:CoCIDKeys[k]}),obj)),[]).sort(CoC7Utilities.sortByNameKey),sheetData.isSystemID=void 0!==CoCIDKeys[sheetData.id];const match=sheetData.id.match(/^([^\\.]+)\.([^\\.]*)\.(.+)/);if(sheetData._existing=match&&void 0!==match[3]?match[3]:"",sheetData.id&&sheetData.lang){const worldDocuments=await game.system.api.cocid.fromCoCIDAll({cocid:sheetData.id,lang:sheetData.lang,scope:"world"}),usedEras={},uniqueWorldPriority={};sheetData.worldDocumentInfo=worldDocuments.map((d=>{d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>(Object.prototype.hasOwnProperty.call(uniqueWorldPriority,d.flags.CoC7.cocidFlag.priority+"/"+e[0])||(uniqueWorldPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]=0),uniqueWorldPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]++,!1))):uniqueWorldPriority[d.flags.CoC7.cocidFlag.priority+"/*"]=1;const eras=d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>e[0])).sort():[];for(const era of eras)usedEras[era]=COC7.eras[era]??"?";return{eras:eras.reduce((function(all,current){return all[current]=!0,all}),{}),priority:d.flags.CoC7.cocidFlag.priority,lang:d.flags.CoC7.cocidFlag.lang??"en",link:TextEditor.enrichHTML(d.link,{async:!1}),folder:d?.folder?.name}})),Object.entries(uniqueWorldPriority).filter((c=>c[1]>1)).length>0&&(sheetData.warnDuplicateWorldPriority=!0),sheetData.worldDuplicates=worldDocuments.length??0;const compendiumDocuments=await game.system.api.cocid.fromCoCIDAll({cocid:sheetData.id,lang:sheetData.lang,scope:"compendiums"}),uniqueCompendiumPriority={};sheetData.compendiumDocumentInfo=compendiumDocuments.map((d=>{d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>(Object.prototype.hasOwnProperty.call(uniqueCompendiumPriority,d.flags.CoC7.cocidFlag.priority+"/"+e[0])||(uniqueCompendiumPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]=0),uniqueCompendiumPriority[d.flags.CoC7.cocidFlag.priority+"/"+e[0]]++,!1))):uniqueCompendiumPriority[d.flags.CoC7.cocidFlag.priority+"/*"]=1;const eras=d.flags.CoC7.cocidFlag.eras?Object.entries(d.flags.CoC7.cocidFlag.eras).filter((e=>e[1])).map((e=>e[0])).sort():[];for(const era of eras)usedEras[era]=COC7.eras[era]??"?";return{eras:eras.reduce((function(all,current){return all[current]=!0,all}),{}),priority:d.flags.CoC7.cocidFlag.priority,lang:d.flags.CoC7.cocidFlag.lang??"en",link:TextEditor.enrichHTML(d.link,{async:!1}),folder:d?.folder?.name??""}})),Object.entries(uniqueCompendiumPriority).filter((c=>c[1]>1)).length>0&&(sheetData.warnDuplicateCompendiumPriority=!0),sheetData.compendiumDuplicates=compendiumDocuments.length??0,sheetData.usedEras=[];for(const[key,value]of Object.entries(usedEras))sheetData.usedEras.push({id:key,name:game.i18n.localize(value)});sheetData.usedEras.sort(CoC7Utilities.sortByNameKey)}else sheetData.compendiumDocumentInfo=[],sheetData.worldDocumentInfo=[],sheetData.worldDuplicates=0,sheetData.compendiumDuplicates=0,sheetData.warnDuplicateWorldPriority=!1,sheetData.warnDuplicateCompendiumPriority=!1;return sheetData}activateListeners(html){super.activateListeners(html),html.find("a.copy-to-clipboard").click((function(e){CoC7Utilities.copyToClipboard($(this).siblings("input").val())})),this.object.sheet.isEditable&&(html.find(".toggle-switch").click(this._onClickToggle.bind(this)),html.find("input[name=_existing").change((function(e){const obj=$(this),prefix=obj.data("prefix");let value=obj.val();""!==value&&(value=prefix+CoC7Utilities.toKebabCase(value)),html.find("input[name=id]").val(value).trigger("change")})),html.find("select[name=known]").change((function(e){const obj=$(this);html.find("input[name=id]").val(obj.val())})),html.find("a[data-guess]").click((async function(e){e.preventDefault();const guess=$(this).data("guess");html.find("input[name=id]").val(guess).trigger("change")})))}static async eraToggle(document,propertyId){if("setup"===document.type){const update={[propertyId]:!0};if(void 0!==document.flags?.CoC7?.cocidFlag?.eras)for(const[key]of Object.entries(document.flags.CoC7.cocidFlag.eras))key!==propertyId&&(update["-="+key]=null);await document.update({"flags.CoC7.cocidFlag.eras":update})}else void 0===document.flags?.CoC7?.cocidFlag?.eras[propertyId]?void 0===document.flags?.CoC7?.cocidFlag?.eras?await document.update({"flags.CoC7.cocidFlag.eras":{[propertyId]:!0}}):await document.update({[`flags.CoC7.cocidFlag.eras.${propertyId}`]:!0}):await document.update({[`flags.CoC7.cocidFlag.eras.-=${propertyId}`]:null})}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.dataset.property;await CoCIDEditor.eraToggle(this.object,propertyId),this.render()}async _updateObject(event,formData){const id=formData.id||"";await this.object.update({"flags.CoC7.cocidFlag.id":id,"flags.CoC7.cocidFlag.lang":formData.lang||game.i18n.lang,"flags.CoC7.cocidFlag.priority":formData.priority||0,"flags.CoC7.cocidFlag.eras":this.object.flags?.CoC7?.cocidFlag?.eras??{}});const html=$(this.object.sheet.element).find("header.window-header a.header-button.edit-coc-id-warning,header.window-header a.header-button.edit-coc-id-exisiting");html.length&&html.css({color:id?"var(--color-text-light-highlight)":"red"}),this.render()}}function addCoCIDSheetHeaderButton(headerButtons,sheet){if(game.user.isGM){const sheetCoCID=sheet.object.flags?.CoC7?.cocidFlag,CoCIDEditorButton={class:void 0===sheetCoCID||void 0===sheetCoCID.id||""===sheetCoCID.id?"edit-coc-id-warning":"edit-coc-id-exisiting",label:"CoC7.CoCIDFlag.id",icon:"fas fa-fingerprint",onclick:()=>{new CoCIDEditor(sheet.object,{}).render(!0,{focus:!0})}},numberOfButtons=headerButtons.length;headerButtons.splice(numberOfButtons-1,0,CoCIDEditorButton)}}class CoC7ActiveEffect extends ActiveEffect{apply(actor,change){"system.attribs.armor.value"===change.key?isNaN(change.value)||isNaN(actor.system.attribs.armor.value)||(actor.system.attribs.armor.value=Number(actor.system.attribs.armor.value)):"system.attribs.db.value"===change.key&&isNaN(change.value)&&!isNaN(actor.system.attribs.db.value)&&(actor.system.attribs.db.value=String(actor.system.attribs.db.value));return super.apply(actor,change)}static onManageActiveEffect(event,owner){event.preventDefault();const a=event.currentTarget,li=a.closest("li"),effect=li.dataset.effectId?owner.effects.get(li.dataset.effectId):null;switch(a.dataset.action){case"create":return owner.createEmbeddedDocuments("ActiveEffect",[{label:game.i18n.localize("CoC7.EffectNew"),icon:"icons/svg/aura.svg",origin:owner.uuid,"duration.rounds":"temporary"===li.dataset.effectType?1:void 0,disabled:"inactive"===li.dataset.effectType}]);case"edit":return effect.sheet.render(!0);case"delete":return effect.delete();case"toggle":return effect.update({disabled:!effect.disabled})}}_prepareDuration(){const duration=super._prepareDuration();return"seconds"===duration.type&&(duration.seconds>3600?duration.label=new Date(1e3*duration.seconds).toISOString().slice(11,19):duration.seconds>100&&(duration.label=new Date(1e3*duration.seconds).toISOString().slice(14,19))),duration}get isStatus(){const statusId=this.getFlag("core","statusId");return["tempoInsane","indefInsane","criticalWounds","dying","dead","unconscious","prone"].includes(statusId)}static prepareActiveEffectCategories(effects,{status=!0}={}){const categories={temporary:{type:"temporary",label:game.i18n.localize("Temporary"),effects:[]},passive:{type:"passive",label:game.i18n.localize("Passive"),effects:[]},inactive:{type:"inactive",label:game.i18n.localize("Inactive"),effects:[]},suppressed:{type:"suppressed",label:game.i18n.localize("Suppressed"),effects:[],info:[game.i18n.localize("Unavailable")]}};status&&(categories.status={type:"status",label:game.i18n.localize("Status"),effects:[]});for(const e of effects)e._getSourceName(),e.isSuppressed?categories.suppressed.effects.push(e):e.isStatus?categories.status.effects.push(e):e.disabled?categories.inactive.effects.push(e):e.isTemporary?categories.temporary.effects.push(e):categories.passive.effects.push(e);return categories.suppressed.hidden=!categories.suppressed.effects.length,categories}static prepareNPCActiveEffectCategories(effects){let count=0;const categories={active:{type:"active",label:game.i18n.localize("Active"),effects:[]},inactive:{type:"inactive",label:game.i18n.localize("Inactive"),effects:[]}};for(const e of effects)count+=1,e._getSourceName(),e.isSuppressed||e.disabled?categories.inactive.effects.push(e):categories.active.effects.push(e);return count>0&&(categories.expended=!0),categories}}class CoC7ContextMenu{bind(menu,html,callback){this._callback=callback,this._html=html,this._menu=menu;try{const menuTrigger=html.find(`[data-context-menu=${menu.id}]`);if(0===menuTrigger.length)return;menuTrigger.contextmenu(this._onContextMenu.bind(this));const menuElement=CoC7ContextMenu.CreateMenu(menu);menuElement.on("click",".menu-action",this._onMenuAction.bind(this)),0!==this.menu.length?this.menu.replaceWith(menuElement):this.menuContainer.append(menuElement)}catch(error){console.error(error)}}get menuContainer(){let menuContainer=this._html.find(".menu-container");return 0===menuContainer.length&&(this._html.append('<div class="menu-container"></div>'),menuContainer=this._html.find(".menu-container")),menuContainer}get menu(){return this.menuContainer.find(`.context-menu-wrapper.${this._menu.id}`)}_onMenuAction(event){return this._callback(event,this.target)}static closeAll(){$("body").find(".menu-container").find(".context-menu-wrapper").each((function(i,m){m.style.visibility="hidden"}))}_onContextMenu(event){event.preventDefault(!0),CoC7ContextMenu.closeAll();const target=event?.currentTarget;if(this.target=target,!target)return;const menuName=target.dataset?.contextMenu;if(menuName===this._menu.id){const wrapper=this.menu;if(wrapper.length>0){const subMenu=wrapper.find(".sub-menu");let left=event.clientX,top=event.clientY;const menuHeight=wrapper.outerHeight(),menuWidth=wrapper.outerWidth();window.innerHeight<menuHeight+top&&(top-=menuHeight),window.innerWidth<menuWidth+left&&(left=window.innerWidth-menuWidth),subMenu.length>0&&(window.innerWidth<menuWidth+left+subMenu.outerWidth()?subMenu.css({right:menuWidth-5+"px",left:""}):subMenu.css({left:menuWidth-5+"px",right:""})),wrapper.css({left:`${left}px`,top:`${top}px`,visibility:"visible"})}}}static canSee(visibility){switch(visibility.toLowerCase()){case"gm":return game.user.isGM;case"trusted":return game.user.isTrusted;default:return!0}}static CreateMenu(menu){const classes="string"==typeof menu.classes?[menu.classes]:menu.classes;classes.push("context-menu-wrapper");const wrapper=$("<div></div>");if(wrapper.addClass(menu.id),classes.forEach((c=>wrapper.addClass(c))),menu.section)menu.section.forEach((s=>{const section=CoC7ContextMenu.CreateSection(s,{multi:!0});section&&wrapper.append(section)}));else{const section=CoC7ContextMenu.CreateSection(menu);section&&wrapper.append(section)}return wrapper}static CreateSection(s,{multi=!1,subMenu=!1}={}){if(!s.items)return null;if(s.visibility&&!CoC7ContextMenu.canSee(s.visibility))return null;const classes=s.classes?"string"==typeof s.classes?[s.classes]:s.classes:[];multi&&classes.push("menu-section"),subMenu&&classes.push("sub-menu");const section=$("<ul></ul>");return classes.forEach((c=>section.addClass(c))),s.items.forEach((i=>{const li=$("<li></li>");if(li.addClass("menu-item"),i.action&&(li.addClass("menu-action"),li.attr("data-action",i.action)),"string"==typeof i.label?li.append(`<span>${i.label}</span>`):(i.label.icon&&li.append(`<i class="${i.label.icon}"></i>`),i.label.text&&li.append(`<span>${i.label.text}</span>`)),i.subMenu){li.addClass("sub-menu-button"),li.append('<i class="fas fa-caret-right"></i>');const sub=CoC7ContextMenu.CreateSection(i.subMenu,{subMenu:!0});sub&&li.append(sub)}section.append(li)})),section}}class CoC7ActorSheet extends ActorSheet{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=await super.getData();if(sheetData.showHiddenDevMenu=game.settings.get("CoC7","hiddendevmenu"),sheetData.canDragToken=!!this.token&&game.user.isGM,sheetData.linkedActor=!0===this.actor.prototypeToken?.actorLink,sheetData.isToken=this.actor.isToken,sheetData.itemsByType={},sheetData.skills={},sheetData.combatSkills={},sheetData.weapons={},sheetData.rangeWpn=[],sheetData.meleeWpn=[],sheetData.actorFlags={},sheetData.effects="character"===this.actor.type?CoC7ActiveEffect.prepareActiveEffectCategories(this.actor.effects):CoC7ActiveEffect.prepareNPCActiveEffectCategories(this.actor.effects),sheetData.permissionLimited=!game.user.isGM&&(this.actor.ownership[game.user.id]??this.actor.ownership.default)===CONST.DOCUMENT_OWNERSHIP_LEVELS.LIMITED,sheetData.isKeeper=game.user.isGM,sheetData.allowUnlock="always"===game.settings.get("CoC7","playerUnlockSheetMode")||game.user.isGM||"creation"===game.settings.get("CoC7","playerUnlockSheetMode")&&game.settings.get("CoC7","charCreationEnabled"),"creation"===game.settings.get("CoC7","playerUnlockSheetMode")&&game.settings.get("CoC7","charCreationEnabled")&&(sheetData.data.system.flags.locked=!1),"vehicle"!==this.actor.type&&(sheetData.data.system.characteristics||(sheetData.data.system.characteristics={str:{value:null,short:"CHARAC.STR",label:"CHARAC.Strength",formula:null},con:{value:null,short:"CHARAC.CON",label:"CHARAC.Constitution",formula:null},siz:{value:null,short:"CHARAC.SIZ",label:"CHARAC.Size",formula:null},dex:{value:null,short:"CHARAC.DEX",label:"CHARAC.Dexterity",formula:null},app:{value:null,short:"CHARAC.APP",label:"CHARAC.Appearance",formula:null},int:{value:null,short:"CHARAC.INT",label:"CHARAC.Intelligence",formula:null},pow:{value:null,short:"CHARAC.POW",label:"CHARAC.Power",formula:null},edu:{value:null,short:"CHARAC.EDU",label:"CHARAC.Education",formula:null}}),sheetData.data.system.attribs||(sheetData.data.system.attribs={hp:{value:null,max:null,short:"HP",label:"Hit points",auto:!0},mp:{value:null,max:null,short:"HP",label:"Magic points",auto:!0},lck:{value:null,short:"LCK",label:"Luck"},san:{value:null,max:99,short:"SAN",label:"Sanity",auto:!0},mov:{value:null,short:"MOV",label:"Movement rate",auto:!0},db:{value:null,short:"DB",label:"Damage bonus",auto:!0},build:{value:null,short:"BLD",label:"Build",auto:!0},armor:{value:null,auto:!1}}),sheetData.data.system.biography||(sheetData.data.system.biography={personalDescription:{type:"string",value:""}}),sheetData.data.system.infos||(sheetData.data.system.infos={occupation:"",age:"",sex:"",residence:"",birthplace:"",archetype:"",organization:"",playername:""}),sheetData.data.system.flags||(sheetData.data.system.flags={locked:!0,manualCredit:!1}),sheetData.data.system.credit||(sheetData.data.system.credit={monetarySymbol:null,multiplier:null,spent:null,assetsDetails:null}),sheetData.data.system.development||(sheetData.data.system.development={personal:null,occupation:null,archetype:null}),sheetData.data.system.biography||(sheetData.data.system.biography=[]),sheetData.pulpRuleArchetype=game.settings.get("CoC7","pulpRuleArchetype"),sheetData.pulpRuleOrganization=game.settings.get("CoC7","pulpRuleOrganization")),sheetData.isDead=this.actor.dead,sheetData.isDying=this.actor.dying,sheetData.items){for(const item of sheetData.items){if("skill"===item.type)if(item.system.properties.special&&(item.system.properties.fighting&&(item.system.specialization=game.i18n.localize("CoC7.FightingSpecializationName")),item.system.properties.firearm&&(item.system.specialization=game.i18n.localize("CoC7.FirearmSpecializationName"))),"character"!==this.actor.type){if(isNaN(Number(item.system.value))){let value=null;const parsed={};for(const[key,value]of Object.entries(COC7.formula.actorsheet))key.startsWith("@")&&value.startsWith("this.")&&(parsed[key.substring(1)]=getProperty(this,value.substring(5)));try{value=(await new Roll(item.system.value,parsed).evaluate({async:!0})).total}catch(err){console.warn(game.i18n.format("CoC7.ErrorUnableToParseSkillFormula",{value:item.system.value,name:item.name})),value=null}if(value){item.system.value=value;const itemToUpdate=this.actor.items.get(item._id);console.info(`[COC7] (Actor:${this.name}) Evaluating skill ${item.name}:${item.system.value} to ${value}`),await itemToUpdate.update({"system.value":value})}}const skill=this.actor.items.get(item._id),{base,rawValue,value}=skill.system;item.system.rawValue=rawValue||value||base,item.system.value=value||base}else{const skill=this.actor.items.get(item._id);if(item.system.base=await skill.asyncBase(),item.system.value){let updatedExp=(item.system.adjustments?.experience?parseInt(item.system.adjustments.experience):0)+parseInt(item.system.value)-skill.value;updatedExp<=0&&(updatedExp=null),console.info(`[COC7] Updating skill ${skill.name} experience. Experience missing: ${updatedExp}`),await this.actor.updateEmbeddedDocuments("Item",[{_id:item._id,"system.adjustments.experience":updatedExp,"system.value":null}]),item.system.adjustments||(item.system.adjustments={}),item.system.adjustments.experience=updatedExp,item.system.rawValue=skill.rawValue,item.system.value=skill.value}else item.system.value=skill.value,item.system.rawValue=skill.rawValue}let list=sheetData.itemsByType[item.type];list||(list=[],sheetData.itemsByType[item.type]=list),list.push(item)}for(const itemType in sheetData.itemsByType)sheetData.itemsByType[itemType].sort(CoC7Utilities.sortByNameKey);sheetData.skills=sheetData.items.filter((item=>"skill"===item.type)).sort(CoC7Utilities.sortByNameKey),sheetData.meleeSkills=sheetData.skills.filter((skill=>!0===skill.system.properties.combat&&!0===skill.system.properties.fighting)),sheetData.rangeSkills=sheetData.skills.filter((skill=>!0===skill.system.properties.combat&&!0===skill.system.properties.firearm));const cbtSkills=sheetData.skills.filter((skill=>!0===skill.system.properties.combat));if(cbtSkills)for(const skill of cbtSkills)sheetData.combatSkills[skill._id]=skill;const weapons=sheetData.itemsByType.weapon;if(weapons)for(const weapon of weapons){if(weapon.usesAlternateSkill=!0===weapon.system.properties.auto||!0===weapon.system.properties.brst,weapon.system.ammo||(weapon.system.ammo=0),weapon.skillSet=!0,""===weapon.system.skill.main.id)weapon.skillSet=!1;else{if(sheetData.combatSkills[weapon.system.skill.main.id]){const skill=this.actor.items.get(weapon.system.skill.main.id);weapon.system.skill.main.name=skill.system.skillName,weapon.system.skill.main.value=skill.value}else weapon.skillSet=!1;if(""!==weapon.system.skill.alternativ.id&&sheetData.combatSkills[weapon.system.skill.alternativ.id]){const skill=this.actor.items.get(weapon.system.skill.alternativ.id);weapon.system.skill.alternativ.name=skill.system.skillName,weapon.system.skill.alternativ.value=skill.value}}weapon.system._properties=[];for(const[key,value]of Object.entries(COC7.weaponProperties)){const property={};property.id=key,property.name=value,property.value=!0===weapon.system.properties[key],weapon.system._properties.push(property)}sheetData.weapons[weapon._id]=weapon,weapon.system.properties.rngd?sheetData.rangeWpn.push(weapon):sheetData.meleeWpn.push(weapon)}const token=this.token;if(sheetData.tokenId=token?`${token.parent?.id?token.parent.id:"TOKEN"}.${token.id}`:null,sheetData.hasEmptyValueWithFormula=!1,sheetData.data.system.characteristics)for(const characteristic of Object.values(sheetData.data.system.characteristics))characteristic.value||(characteristic.editable=!0),characteristic.hard=Math.floor(characteristic.value/2),characteristic.extreme=Math.floor(characteristic.value/5),characteristic.value||characteristic.formula?characteristic.display=!0:characteristic.display=!1,!characteristic.value&&characteristic.formula&&(characteristic.hasEmptyValueWithFormula=!0),sheetData.hasEmptyValueWithFormula=sheetData.hasEmptyValueWithFormula||characteristic.hasEmptyValueWithFormula}if(["vehicle","container"].includes(this.actor.type))sheetData.data.system.attribs.hp.auto=!1,sheetData.data.system.attribs.mp.auto=!1,sheetData.data.system.attribs.san.auto=!1,sheetData.data.system.attribs.mov.auto=!1,sheetData.data.system.attribs.db.auto=!1,sheetData.data.system.attribs.build.auto=!1;else{const auto=this.actor.checkUndefinedAuto();sheetData.data.system=mergeObject(sheetData.data.system,auto)}return sheetData.data.system.attribs.mp.value<0&&(sheetData.data.system.attribs.mp.value=null),sheetData.data.system.attribs.san.value<0&&(sheetData.data.system.attribs.san.value=null),["vehicle"].includes(this.actor.type)||sheetData.data.system.biography instanceof Array&&sheetData.data.system.biography.length&&(sheetData.data.system.biography[0].isFirst=!0,sheetData.data.system.biography[sheetData.data.system.biography.length-1].isLast=!0),sheetData.showInventoryItems=!1,sheetData.showInventoryBooks=!1,sheetData.showInventorySpells=!1,sheetData.showInventoryTalents=!1,sheetData.showInventoryStatuses=!1,sheetData.showInventoryWeapons=!1,sheetData.hasConditions=this.actor.effects.size>0||void 0!==this.actor.system.conditions&&Object.keys(this.actor.system.conditions).filter((condition=>this.actor.system.conditions[condition].value)).length>0,sheetData}static parseFormula(formula){let parsedFormula=formula;for(const[key,value]of Object.entries(COC7.formula.actorsheet))parsedFormula=parsedFormula.replace(key,value);return parsedFormula}get tokenKey(){throw ui.notifications.error("DEPRECATED SHOULD NOT HAPPEN!"),new Error("base.js get tokenKey(): DEPRECATED SHOULD NOT HAPPEN!")}onCloseSheet(){}activateListeners(html){if(super.activateListeners(html),game.settings.get("CoC7","useContextMenus")){this.menus||(this.menus=[]);const rollMenu={id:"skill-roll",classes:"roll-menu",section:[{classes:"main",items:[{action:"roll",label:"Roll"},{action:"opposed-roll",label:"Opposed roll"},{action:"combined-roll",label:"Combined roll"}]},{classes:"keeper",visibility:"gm",items:[{label:{icon:"fas fa-link",text:"Link"},subMenu:{items:[{action:"link-tool",label:"Open in link tool"},{action:"send-chat",label:"Send to chat"},{action:"copy-to-clipboard",label:"Copy to clip-board"}]}},{action:"request-roll",label:"Request roll"}]}]},sanMenu={id:"san-roll",classes:"roll-menu",section:[{classes:"main",items:[{action:"encounter",label:"Encounter"},{action:"roll",label:"Roll"},{action:"opposed-roll",label:"Opposed roll"},{action:"combined-roll",label:"Combined roll"}]},{classes:"keeper",visibility:"trusted",items:[{action:"request-roll",label:"Request roll"},{label:{icon:"fas fa-link",text:"Link"},subMenu:{items:[{action:"link-tool",label:"Open in link tool"},{action:"send-chat",label:"Send to chat"},{action:"copy-to-clipboard",label:"Copy to clip-board"},{action:"link-encounter",label:"Encounter"}]}}]}]},rollContextMenu=new CoC7ContextMenu;rollContextMenu.bind(rollMenu,html,this._onContextMenuClick.bind(this)),this.menus.push(rollContextMenu);const sanContextMenu=new CoC7ContextMenu;sanContextMenu.bind(sanMenu,html,this._onContextMenuClick.bind(this)),this.menus.push(sanContextMenu)}else html.find(".characteristic-label").contextmenu(this._onOpposedRoll.bind(this)),html.find(".skill-name.rollable").contextmenu(this._onOpposedRoll.bind(this)),html.find(".attribute-label.rollable").contextmenu(this._onOpposedRoll.bind(this));if(html.find(".characteristic-label").click(this._onRollCharacteriticTest.bind(this)),html.find(".skill-name.rollable").click(this._onRollSkillTest.bind(this)),html.find(".skill-image").click(this._onRollSkillTest.bind(this)),html.find(".attribute-label.rollable").click(this._onRollAttribTest.bind(this)),html.find(".token-drag-handle").on("dragstart",this._onDragTokenStart.bind(this)),this.actor.isOwner&&void 0===this.actor.compendium){html.find(".characteristic-label").on("dragstart",(event=>this._onDragCharacteristic(event))),html.find(".attribute-label").on("dragstart",(event=>this._onDragAttribute(event))),html.find(".san-check").on("dragstart",(event=>this._onDragSanCheck(event))),html.find(".weapon-name.rollable").contextmenu(this._onOpposedRoll.bind(this)),html.find(".lock").click(this._onLockClicked.bind(this)),html.find(".flag").click(this._onFlagClicked.bind(this)),html.find(".formula").click(this._onFormulaClicked.bind(this)),html.find(".roll-characteritics").click(this._onRollCharacteriticsValue.bind(this)),html.find(".average-characteritics").click(this._onAverageCharacteriticsValue.bind(this)),html.find(".toggle-switch").click(this._onToggle.bind(this)),html.find(".auto-toggle").click(this._onAutoToggle.bind(this)),(game.user.isGM||game.settings.get("CoC7","statusPlayerEditable"))&&(html.find(".reset-counter").click(this._onResetCounter.bind(this)),html.find(".condition-monitor").click(this._onConditionToggle.bind(this)),html.find(".is-dying").click(this.heal.bind(this)),html.find(".is-dead").click(this.revive.bind(this))),html.find(".dying-check").click(this.checkForDeath.bind(this)),html.find(".item .item-image").click((event=>this._onItemRoll(event))),html.find(".weapon-name.rollable").click((event=>this._onWeaponRoll(event))),html.find(".item-name.effect-name").click((event=>this._onEffect(event))),html.find(".weapon-skill.rollable").click((async event=>this._onWeaponSkillRoll(event))),html.find(".reload-weapon").click((event=>this._onReloadWeapon(event))),html.find(".reload-weapon").on("contextmenu",(event=>this._onReloadWeapon(event))),html.find(".add-ammo").click(this._onAddAmo.bind(this)),html.find(".read-only").dblclick(this._toggleReadOnly.bind(this)),html.on("click",".weapon-damage",this._onWeaponDamage.bind(this)),html.find(".inventory-header").click(this._onInventoryHeader.bind(this)),html.find(".items-header").click(this._onItemHeader.bind(this)),html.find(".section-header").click(this._onSectionHeader.bind(this));const wheelInputs=html.find(".attribute-value");for(const wheelInput of wheelInputs)wheelInput.addEventListener("wheel",(event=>this._onWheel(event)),{passive:!0})}this.options.editable&&(html.find(".show-detail").click((event=>this._onItemSummary(event))),html.find(".item-popup").click(this._onItemPopup.bind(this)),html.find(".show-detail").dblclick((event=>this._onRenderItemSheet(event))),html.find(".item-edit").click((event=>this._onRenderItemSheet(event))),html.find(".item-delete").click((async ev=>{const li=$(ev.currentTarget).parents(".item"),itemToDelete=this.actor.items.get(li.data("itemId"),{strict:!0});await itemToDelete.delete(),li.slideUp(200,(()=>this.render(!1)))})),html.find(".add-item").click((ev=>{switch(ev.stopPropagation(),ev.currentTarget.dataset.type){case"book":this.actor.createEmptyBook(ev);break;case"item":this.actor.createEmptyItem(ev);break;case"skill":this.actor.createEmptySkill(ev);break;case"spell":this.actor.createEmptySpell(ev);break;case"weapon":{const properties={};ev.currentTarget.dataset.melee?properties.melee=!0:ev.currentTarget.dataset.rngd&&(properties.rngd=!0),this.actor.createEmptyWeapon(ev,properties)}}})),html.find(".item-trade").click(this._onTradeItem.bind(this)),html.find(".add-new-section").click((()=>{this.actor.createBioSection(),this.render()})),html.find(".delete-section").click((ev=>{const index=parseInt(ev.currentTarget.closest(".bio-section").dataset.index);this.actor.deleteBioSection(index)})),html.find(".move-section-up").click((ev=>{const index=parseInt(ev.currentTarget.closest(".bio-section").dataset.index);this.actor.moveBioSectionUp(index)})),html.find(".move-section-down").click((ev=>{const index=parseInt(ev.currentTarget.closest(".bio-section").dataset.index);this.actor.moveBioSectionDown(index)})),html.find(".development-flag").dblclick((ev=>{this.actor.items.get(ev.currentTarget.closest(".item").dataset.itemId).toggleItemFlag("developement")})),html.find(".occupation-skill-flag.clickable").click((ev=>{this.actor.items.get(ev.currentTarget.closest(".item").dataset.itemId).toggleItemFlag("occupation")})),html.find(".archetype-skill-flag.clickable").click((ev=>{this.actor.items.get(ev.currentTarget.closest(".item").dataset.itemId).toggleItemFlag("archetype")})),html.find(".skill-developement").click((event=>{this.actor.developementPhase(event.shiftKey)})),html.find(".luck-development").click((event=>{event.detail&&1!==event.detail||this.actor.developLuck(event.shiftKey)})),html.find(".clear_conditions").click((event=>{if(void 0!==this.actor.system.conditions){const disable={};for(const condition in this.actor.system.conditions)void 0!==this.actor.system.conditions[condition].value&&!0===this.actor.system.conditions[condition].value&&(disable[`system.conditions.${condition}.value`]=!1);Object.keys(disable).length>0&&this.actor.update(disable)}const effects=this.actor.effects.map((effect=>effect.id));effects.length>0&&this.actor.deleteEmbeddedDocuments("ActiveEffect",effects)})),CoC7Link.bindEventsHandler(html),html.find(".test-trigger").click((async event=>{if(!game.settings.get("CoC7","hiddendevmenu"))return null;await Item.create({name:"__CoC7InternalItem__",type:"item"}),ui.notifications.info("effect created !")})),html.find(".skill-name.rollable").mouseenter(this.toolTipSkillEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".characteristic-label").mouseenter(this.toolTipCharacteristicEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".attribute-label.rollable").mouseenter(this.toolTipAttributeEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".auto-toggle").mouseenter(this.toolTipAutoEnter.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".item-control.development-flag").mouseenter(this.toolTipFlagForDevelopment.bind(this)).mouseleave(game.CoC7Tooltips.toolTipLeave.bind(this)),html.find(".effect-control").click((ev=>CoC7ActiveEffect.onManageActiveEffect(ev,this.actor))))}toolTipSkillEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const isCombat=game.CoC7Tooltips.ToolTipHover.classList?.contains("combat"),item=game.CoC7Tooltips.ToolTipHover.closest(".item");if(void 0!==item){const skillId=item.dataset.skillId,skill=sheet.actor.items.get(skillId);let toolTip=game.i18n.format(isCombat?"CoC7.ToolTipCombat":"CoC7.ToolTipSkill",{skill:skill.name,regular:skill.value,hard:Math.floor(skill.value/2),extreme:Math.floor(skill.value/5)});game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):""})),game.CoC7Tooltips.displayToolTip(toolTip)}}}),delay)}}toolTipCharacteristicEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const char=game.CoC7Tooltips.ToolTipHover.closest(".char-box");if(void 0!==char&&char){const charId=char.dataset.characteristic,characteristic=sheet.actor.characteristics[charId];let toolTip=game.i18n.format("CoC7.ToolTipSkill",{skill:characteristic.label,regular:characteristic.value??0,hard:characteristic.hard??0,extreme:characteristic.extreme??0});game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):""})),game.CoC7Tooltips.displayToolTip(toolTip)}}}),delay)}}toolTipAttributeEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const attrib=game.CoC7Tooltips.ToolTipHover.closest(".attribute");if(void 0!==attrib){const attributeId=attrib.dataset.attrib;let toolTip="";const attributes=sheet.actor.system.attribs[attributeId];switch(attributeId){case"lck":toolTip=game.i18n.format("CoC7.ToolTipSkill",{skill:attributes.label,regular:attributes.value??0,hard:Math.floor((attributes.value??0)/2),extreme:Math.floor((attributes.value??0)/5)}),game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):""})),game.CoC7Tooltips.displayToolTip(toolTip);break;case"db":toolTip=game.i18n.localize("CoC7.ToolTipDB"),game.CoC7Tooltips.displayToolTip(toolTip);break;case"san":toolTip=game.i18n.format("CoC7.ToolTipSanity",{skill:"Sanity",regular:attributes.value??0,hard:Math.floor((attributes.value??0)/2),extreme:Math.floor((attributes.value??0)/5)}),game.user.isGM&&(toolTip+=game.i18n.format("CoC7.ToolTipKeeperSkill",{other:game.i18n.localize("CoC7.ToolTipKeeperSanity")+(game.settings.get("CoC7","stanbyGMRolls")&&sheet.actor.hasPlayerOwner?game.i18n.format("CoC7.ToolTipKeeperStandbySkill",{name:sheet.actor.name}):"")})),game.CoC7Tooltips.displayToolTip(toolTip)}}}}),delay)}}toolTipAutoEnter(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));delay>0&&(game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const toolTip=game.i18n.localize("CoC7.ToolTipAutoToggle");game.CoC7Tooltips.displayToolTip(toolTip)}}),delay))}toolTipFlagForDevelopment(event){const delay=parseInt(game.settings.get("CoC7","toolTipDelay"));if(delay>0){const sheet=this;game.CoC7Tooltips.ToolTipHover=event.currentTarget,game.CoC7Tooltips.toolTipTimer=setTimeout((function(){if(void 0!==game.CoC7Tooltips.ToolTipHover&&null!==game.CoC7Tooltips.ToolTipHover){const item=game.CoC7Tooltips.ToolTipHover.closest(".item");if(void 0!==item){const skillId=item.dataset.skillId,skill=sheet.actor.items.get(skillId),toolTip=game.i18n.format("CoC7.ToolTipSkillFlagToggle",{status:game.i18n.localize(skill.system.flags.developement?"CoC7.ToolTipSkillFlagged":"CoC7.ToolTipSkillUnflagged")});game.CoC7Tooltips.displayToolTip(toolTip)}}}),delay)}}_onContextMenuClick(event,target){const targetType=target.dataset?.targetType,rollOptions={preventStandby:!0,fastForward:!1,actor:this.actor};switch(targetType){case"skill":rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_SKILL,rollOptions.skillId=target.closest(".item")?.dataset.skillId;break;case"characteristic":rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,rollOptions.characteristic=target.closest(".char-box").dataset.characteristic;break;case"attribute":rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,rollOptions.attribute=target.closest(".attribute").dataset.attrib}switch(event.currentTarget.dataset.action){case"roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NORMAL;break;case"opposed-roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_OPPOSED;break;case"combined-roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_COMBINED;break;case"request-roll":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NORMAL,rollOptions.preventStandby=!1;break;case"link-tool":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.openLinkTool=!0;break;case"send-chat":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.sendToChat=!0;break;case"copy-to-clipboard":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.sendToClipboard=!0;break;case"link-encounter":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0;break;case"encounter":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_SAN_CHECK,rollOptions.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,rollOptions.fastForward=!0}CoC7ChatMessage.trigger(rollOptions)}_onRenderItemSheet(event){const li=$(event.currentTarget).parents(".item");this.actor.items.get(li.data("itemId")).sheet.render(!0)}async _onTradeItem(event){const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("itemId"));let content="<p>"+game.i18n.localize("CoC7.MessageSelectUserToGiveTo");const message={actorFrom:this.actor.id,scene:null,actorTo:this.actor.id,item:item.id};this.token?.actor&&(message.actorFrom=this.token.id,message.scene=this.token.parent.id);const actors=game.actors.filter((e=>{if(!["character","npc","creature","container"].includes(e.type))return!1;if(this.actor.id===e.id)return!1;let visible=!1;for(const[k,v]of Object.entries(e.ownership))"default"!==k&&k!==game.user.id||(visible=visible||v!==CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE);return visible}));content+='<form id="selectform"><select name="user">';for(const actor of actors)content=content+'<option value="'+actor.id+'">'+actor.name+"</option>";content+="</select></form></p>",message.actorTo=await new Promise((resolve=>{new Dialog({title:game.i18n.localize("CoC7.MessageTitleSelectUserToGiveTo"),content,buttons:{confirm:{label:game.i18n.localize("CoC7.Validate"),callback:html=>{const formData=new FormData(html[0].querySelector("#selectform"));for(const[name,value]of formData)if("user"===name)return resolve(value)}}},default:"confirm",close:()=>{}}).render(!0)})),await game.CoC7socket.executeAsGM("gmtradeitemto",message)}_onDragStart(event){if(super._onDragStart(event),this.token){const dragData=JSON.parse(event.dataTransfer.getData("text/plain"));dragData.tokenUuid=this.token.uuid,dragData.tokenId=this.token.id,dragData.sceneId=this.token.parent.id,event.dataTransfer.setData("text/plain",JSON.stringify(dragData))}}_onDragCharacteristic(event){const box=event.currentTarget.parentElement,data={CoC7Type:"link",linkType:"coc7-link",check:"check",type:"characteristic",hasPlayerOwner:this.actor.hasPlayerOwner,actorKey:this.actor.actorKey,name:box.dataset.characteristic,icon:null,document:{type:this.document.type,uuid:this.document.uuid}};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}_onDragAttribute(event){const box=event.currentTarget.parentElement,data={CoC7Type:"link",linkType:"coc7-link",check:"check",type:"attribute",hasPlayerOwner:this.actor.hasPlayerOwner,actorKey:this.actor.actorKey,name:box.dataset.attrib,icon:null,document:{type:this.document.type,uuid:this.document.uuid}};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}_onDragSanCheck(event){const sanMin=event.currentTarget.querySelector(".san-value.pass"),sanMax=event.currentTarget.querySelector(".san-value.failed"),data={CoC7Type:"link",linkType:"coc7-link",check:"sanloss",hasPlayerOwner:this.actor.hasPlayerOwner,actorKey:this.actor.actorKey,sanMin:sanMin.innerText,sanMax:sanMax.innerText,icon:null,document:{type:this.document.type,uuid:this.document.uuid}};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}async _onDrop(event){const dataString=event.dataTransfer.getData("text/plain");if(""===dataString)return!1;const data=JSON.parse(dataString);"CoC7Link"===data.type&&data.check===CoC7Link.CHECK_TYPE.EFFECT&&CoC7Link._onLinkActorClick(this.actor,data),await super._onDrop(event)}async _onConditionToggle(event){event.preventDefault(),event.currentTarget.dataset.condition&&await this.actor.toggleCondition(event.currentTarget.dataset.condition)}async revive(){game.user.isGM&&this.actor.unsetCondition(COC7.status.dead)}async heal(){game.user.isGM&&this.actor.unsetCondition(COC7.status.dying)}async checkForDeath(event){const conCheck=new CoC7ConCheck(this.actor.isToken?this.actor.tokenKey:this.actor.id);conCheck.stayAlive=!0,conCheck.toMessage(event.shiftKey)}async _onDragTokenStart(event){const data={type:"Token",uuid:this.token.uuid};event.originalEvent.dataTransfer.setData("text/plain",JSON.stringify(data))}async _onResetCounter(event){event.preventDefault(),await this.actor.resetDailySanity()}async _onAutoToggle(event){if(event.currentTarget.closest(".attribute")){const attrib=event.currentTarget.closest(".attribute").dataset.attrib;this.actor.toggleAttribAuto(attrib)}}async _onToggle(event){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);weapon&&weapon.toggleProperty(event.currentTarget.dataset.property,isCtrlKey(event))}async _onRollCharacteriticsValue(){await this.actor.rollCharacteristicsValue()}async _onAverageCharacteriticsValue(){this.actor.averageCharacteristicsValue()}async _onLockClicked(event){event.preventDefault();const isLocked=this.actor.locked;this.actor.locked=!isLocked,Hooks.call("actorLockClickedCoC7",[!isLocked])}async _onFlagClicked(event){event.preventDefault();const flagName=event.currentTarget.dataset.flag;this.actor.toggleActorFlag(flagName)}async _onFormulaClicked(event){event.preventDefault(),this.actor.toggleActorFlag("displayFormula")}async _onWheel(event){let value=parseInt(event.currentTarget.value)||null;switch(event.deltaY>0&&(value=0===value?0:value-1),event.deltaY<0&&(value+=1),event.currentTarget.name){case"system.attribs.hp.value":case"system.attribs.build.current":this.actor.setHp(value);break;case"system.attribs.mp.value":this.actor.setMp(value);break;case"system.attribs.san.value":this.actor.setSan(value);break;case"system.attribs.lck.value":this.actor.setLuck(value)}}_toggleReadOnly(event){event.currentTarget.readOnly=!event.currentTarget.readOnly,event.currentTarget.classList.toggle("read-only")}_onItemSummary(event){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("item-id")),chatData=item.getChatData({secrets:this.actor.isOwner});if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>{summary.remove(),li.toggleClass("expanded")}))}else{const div=$('<div class="item-summary"></div>'),labels=$('<div class="item-labels"></div>');for(const p of chatData.labels)labels.append(`<div class="item-label"><span class="label-name">${p.name} :</span><span class="label-value">${p.value}</span></div>`);if(div.append(labels),div.append($(`<div class="item-description">${chatData.description.value}</div>`)),item.system.properties?.spcl){const specialDiv=$(`<div class="item-special">${chatData.description.special}</div>`);div.append(specialDiv)}const props=$('<div class="item-properties"></div>');for(const p of chatData.properties)props.append(`<div class="tag item-property">${game.i18n.localize(p)}</div>`);div.append(props),li.append(div.hide()),CoC7Link.bindEventsHandler(div),div.slideDown(200,(()=>li.toggleClass("expanded")))}}async _onSectionHeader(event){event.preventDefault();const section=event.currentTarget.closest("section"),pannelClass=event.currentTarget.dataset.pannel;if(void 0===pannelClass)return;const pannel=$(section).find(`.pannel.${pannelClass}`);pannel.hasClass("expanded")?pannel.slideUp(200,(()=>pannel.toggleClass("expanded"))):pannel.slideDown(200,(()=>pannel.toggleClass("expanded")));const camelFlag=chatHelper.hyphenToCamelCase(`data.pannel.${pannelClass}.expanded`);this.actor.update({[camelFlag]:!pannel.hasClass("expanded")},{render:!1})}_onInventoryHeader(event){event.preventDefault();const li=$(event.currentTarget).siblings("li");li.is(":visible")?li.slideUp(200):li.slideDown(200)}_onItemHeader(event){event.preventDefault();const ol=$(event.currentTarget).next("ol");ol.is(":visible")?ol.slideUp(200):ol.slideDown(200)}async _onItemPopup(event){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("item-id"));CoC7ActorSheet.popupSkill(item)}static async popupSkill(skill){skill.system.description.enrichedValue=TextEditor.enrichHTML(skill.system.description.value,{async:!1});new Dialog({title:game.i18n.localize("CoC7.SkillDetailsWindow"),content:skill,buttons:{},close:()=>{}},{classes:["coc7","sheet","skill"],width:520,height:480,scrollY:[".item-description"],template:"systems/CoC7/templates/apps/skill-details.html"}).render(!0)}async _onItemRoll(event){event.preventDefault()}async _onEffect(event){event.preventDefault();const effectId=event.currentTarget.closest("li").dataset.effectId,effect=this.actor.effects.get(effectId);isCtrlKey(event)&&game.user.isGM&&CoC7ContentLinkDialog.create({type:"CoC7Link",check:CoC7Link.CHECK_TYPE.EFFECT,object:effect})}async _onWeaponRoll(event){event.preventDefault();const itemId=event.currentTarget.closest("li").dataset.itemId,fastForward=event.shiftKey,weapon=this.actor.items.get(itemId);let actorKey;if(actorKey=this.token?this.actor.isToken&&game.actors.tokens[this.token.id]?`TOKEN.${this.token.id}`:`${this.token.parent.id}.${this.token.id}`:this.actor.id,isCtrlKey(event)&&game.user.isGM){const linkData={check:CoC7Link.CHECK_TYPE.ITEM,name:weapon.name};CoC7ContentLinkDialog.create(linkData,{actors:[this.actor]})}else{let proceedWithoutTarget;if(game.user.targets.size<=0&&(proceedWithoutTarget=await new Promise((resolve=>{const data={title:" ",content:game.i18n.format("CoC7.NoTargetSelected",{weapon:weapon.name}),buttons:{cancel:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("CoC7.Cancel"),callback:()=>resolve(!1)},proceed:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Proceed"),callback:()=>resolve(!0)}},default:"cancel",classes:["coc7","dialog"]};new Dialog(data).render(!0)}))),game.user.targets.size>0||proceedWithoutTarget){if(!weapon.system.properties.rngd){game.user.targets.size>1&&ui.notifications.warn(game.i18n.localize("CoC7.WarnTooManyTarget"));new CoC7MeleeInitiator(actorKey,itemId,fastForward).createChatCard()}if(weapon.system.properties.rngd){new CoC7RangeInitiator(actorKey,itemId,fastForward).createChatCard()}}}}async _onReloadWeapon(event){const itemId=event.currentTarget.closest(".item")?event.currentTarget.closest(".item").dataset.itemId:null;if(!itemId)return;const weapon=this.actor.items.get(itemId);0===event.button?event.shiftKey?await weapon.reload():await weapon.addBullet():2===event.button&&(event.shiftKey?await weapon.setBullets(0):await weapon.shootBullets(1))}async _onAddAmo(event){const itemId=event.currentTarget.closest(".item")?event.currentTarget.closest(".item").dataset.itemId:null;if(!itemId)return;const weapon=this.actor.items.get(itemId);await weapon.addBullet()}async _onWeaponSkillRoll(event){event.preventDefault();const skillId=event.currentTarget.dataset.skillId,actorId=event.currentTarget.closest("form").dataset.actorId,tokenKey=event.currentTarget.closest("form").dataset.tokenId,itemId=event.currentTarget.closest("li")?event.currentTarget.closest("li").dataset.itemId:null,check=new CoC7Check;if(!event.shiftKey){const usage=await RollDialog.create();usage&&(check.diceModifier=usage.get("bonusDice"),check.difficulty=usage.get("difficulty"),check.flatDiceModifier=Number(usage.get("flatDiceModifier")),check.flatThresholdModifier=Number(usage.get("flatThresholdModifier")))}check.actor=tokenKey||actorId,check.skill=skillId,check.item=itemId,await check.roll(),check.toMessage()}async _onWeaponDamage(event){event.preventDefault();const itemId=event.currentTarget.closest(".weapon").dataset.itemId,range=event.currentTarget.closest(".weapon-damage").dataset.range,damageChatCard=new DamageCard({fastForward:event.shiftKey,range});damageChatCard.actorKey=this.actor.tokenKey,damageChatCard.itemId=itemId,damageChatCard.updateChatCard()}async _onOpposedRoll(event){if(event.preventDefault(),"db"===event.currentTarget.parentElement.dataset.attrib)return;const data={rollType:CoC7ChatMessage.ROLL_TYPE_SKILL,cardType:CoC7ChatMessage.CARD_TYPE_OPPOSED,event,actor:this.actor};event.currentTarget.classList.contains("characteristic-label")?data.rollType=CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC:event.currentTarget.classList.contains("attribute-label")&&(data.rollType=CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE),event.altKey&&(data.cardType=CoC7ChatMessage.CARD_TYPE_COMBINED),CoC7ChatMessage.trigger(data)}async _onRollCharacteriticTest(event){event.preventDefault(),event.currentTarget.classList.contains("flagged4dev")||(game.settings.get("CoC7","useContextMenus")?CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,preventStandby:!0,fastForward:!0,characteristic:event.currentTarget.closest(".char-box").dataset.characteristic,actor:this.actor}):CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,event,actor:this.actor}))}async _onRollAttribTest(event){event.preventDefault();const attrib=event.currentTarget.parentElement.dataset.attrib;if("db"!==attrib)game.settings.get("CoC7","useContextMenus")?CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_CHARACTERISTIC,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,preventStandby:!0,fastForward:!0,attribute:event.currentTarget.closest(".attribute").dataset.attrib,actor:this.actor}):CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_ATTRIBUTE,cardType:event.altKey&&"san"===attrib?CoC7ChatMessage.CARD_TYPE_SAN_CHECK:CoC7ChatMessage.CARD_TYPE_NORMAL,event,actor:this.actor});else if(!/^-{0,1}\d+$/.test(event.currentTarget.parentElement.dataset.rollFormula)){const r=new Roll(event.currentTarget.parentElement.dataset.rollFormula);await r.roll({async:!0}),isNaN(r.total)||void 0===r.total||r.toMessage({speaker:ChatMessage.getSpeaker(),flavor:game.i18n.localize("CoC7.BonusDamageRoll")})}}_onRollSkillTest(event){event.preventDefault(),event.currentTarget.classList.contains("flagged4dev")||(game.settings.get("CoC7","useContextMenus")?CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_SKILL,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,preventStandby:!0,fastForward:!0,skillId:event?.currentTarget.closest(".item")?.dataset.skillId,actor:this.actor}):CoC7ChatMessage.trigger({rollType:CoC7ChatMessage.ROLL_TYPE_SKILL,cardType:CoC7ChatMessage.CARD_TYPE_NORMAL,event,actor:this.actor}))}async _updateObject(event,formData){const overrides=foundry.utils.flattenObject(this.actor.overrides),name=event?.currentTarget?.name;if(name&&overrides&&overrides[name]&&ui.notifications.warn(game.i18n.format("CoC7.EffectAppliedCantOverride",{name})),event.currentTarget&&event.currentTarget.classList){if(event.currentTarget.classList.contains("skill-adjustment")){const item=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);if(item){const value=event.currentTarget.value?parseInt(event.currentTarget.value):null;if(event.currentTarget.value?isNaN(value)||await item.update({[event.currentTarget.name]:value}):await item.update({[event.currentTarget.name]:null}),game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.credit-rating")===item.name&&void 0!==this.actor.occupation?.system?.creditRating?.max){const creditValue=(item.value||0)-(item.system.adjustments?.experience||0);(creditValue>Number(this.actor.occupation.system.creditRating.max)||creditValue<Number(this.actor.occupation.system.creditRating.min))&&ui.notifications.warn(game.i18n.format("CoC7.CreditOutOfRange",{min:Number(this.actor.occupation.system.creditRating.min),max:Number(this.actor.occupation.system.creditRating.max)}))}}}if(event.currentTarget.classList.contains("attribute-value")){if("system.attribs.san.value"===event.currentTarget.name)return await this.actor.setSan(parseInt(event.currentTarget.value)),void this.render(!0);if("system.attribs.hp.value"===event.currentTarget.name)return await this.actor.setHp(parseInt(event.currentTarget.value)),void this.render(!0)}if(event.currentTarget.classList.contains("text-area"))return void this.actor.updateTextArea(event.currentTarget);if(event.currentTarget.classList.contains("bio-section-value")){const index=parseInt(event.currentTarget.closest(".bio-section").dataset.index);await this.actor.updateBioValue(index,event.currentTarget.value)}if(event.currentTarget.classList.contains("bio-section-title")){const index=parseInt(event.currentTarget.closest(".bio-section").dataset.index);this.actor.updateBioTitle(index,event.currentTarget.value)}if(event.currentTarget.classList.contains("npc-skill-score")){const skill=this.actor.items.get(event.currentTarget.closest(".item").dataset.skillId);skill&&await skill.updateValue(event.currentTarget.value)}if(event.currentTarget.classList.contains("skill-name")||event.currentTarget.classList.contains("item-name")){const item=this.actor.items.get(event.currentTarget.closest(".item").dataset.skillId);if(item){const data={};if(item.system.properties.special){const parts=CoC7Item.getNamePartsSpec(event.currentTarget.value,item.system.specialization);data.name=parts.name,data["system.skillName"]=parts.skillName,data["system.specialization"]=parts.specialization}else data["system.skillName"]=event.currentTarget.value,data.name=event.currentTarget.value;await item.update(data)}}if(event.currentTarget.classList.contains("characteristic-formula")&&0!==event.currentTarget.value.length){const r=new Roll(event.currentTarget.value);await r.roll({async:!0}),(isNaN(r.total)||void 0===r.total)&&(ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:event.currentTarget.value})),formData[event.currentTarget.name]=game.i18n.format("CoC7.ErrorInvalid"))}if(event.currentTarget.classList.contains("attribute-value")&&0!==event.currentTarget.value.length&&"db"===event.currentTarget.closest(".attribute").dataset.attrib){const r=new Roll(event.currentTarget.value);await r.roll({async:!0}),(isNaN(r.total)||void 0===r.total)&&(ui.notifications.error(game.i18n.format("CoC7.ErrorInvalidFormula",{value:event.currentTarget.value})),formData[event.currentTarget.name]=game.i18n.format("CoC7.ErrorInvalid"))}if(event.currentTarget.classList.contains("weapon-skill")){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId),skill=this.actor.items.get(event.currentTarget.options[event.currentTarget.selectedIndex].value);if(weapon&&skill)switch(event.currentTarget.dataset.skill){case"main":await weapon.update({"system.skill.main.id":skill.id,"system.skill.main.name":skill.name});break;case"alternativ":await weapon.update({"system.skill.alternativ.id":skill.id,"system.skill.alternativ.name":skill.name})}}if(event.currentTarget.classList.contains("weapon-name")){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);weapon&&await weapon.update({name:event.currentTarget.value})}if(event.currentTarget.classList.contains("damage-formula")){const weapon=this.actor.items.get(event.currentTarget.closest(".item").dataset.itemId);if(weapon)if(0!==event.currentTarget.value.length){const r=new Roll(event.currentTarget.value);if(await r.roll({async:!0}),isNaN(r.total)||void 0===r.total)ui.notifications.error(game.i18n.format("CoC7.ErrorUnableToParseFormula",{value:event.currentTarget.value}));else switch(event.currentTarget.dataset.range){case"normal":await weapon.update({"system.range.normal.damage":event.currentTarget.value});break;case"long":await weapon.update({"system.range.long.damage":event.currentTarget.value});break;case"extreme":await weapon.update({"system.range.extreme.damage":event.currentTarget.value})}}else switch(event.currentTarget.dataset.range){case"normal":await weapon.update({"system.range.normal.damage":null});break;case"long":await weapon.update({"system.range.long.damage":null});break;case"extreme":await weapon.update({"system.range.extreme.damage":null})}}}return this.object.update(formData)}}class CoC7NPCSheet extends CoC7ActorSheet{async getData(){const sheetData=await super.getData();return sheetData.allowFormula=!0,sheetData.displayFormula=this.actor.getActorFlag("displayFormula")||!1,sheetData.hasSan=null!==sheetData.data.system.attribs.san.value,sheetData.hasMp=null!==sheetData.data.system.attribs.mp.value,sheetData.hasLuck=null!==sheetData.data.system.attribs.lck.value,sheetData.isCreature=!1,sheetData.showInventoryItems=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"item")||!sheetData.data.system.flags.locked,sheetData.showInventoryBooks=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"book")||!sheetData.data.system.flags.locked,sheetData.showInventorySpells=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"spell")||!sheetData.data.system.flags.locked,sheetData.showInventoryTalents=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"talent")||!sheetData.data.system.flags.locked&&game.settings.get("CoC7","pulpRuleTalents"),sheetData.showInventoryStatuses=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"status")||!sheetData.data.system.flags.locked,sheetData.showInventoryWeapons=!1,sheetData.hasInventory=sheetData.showInventoryItems||sheetData.showInventoryBooks||sheetData.showInventorySpells||sheetData.showInventoryTalents||sheetData.showInventoryStatuses||sheetData.showInventoryWeapons,sheetData.enrichedBiographyPersonalDescription=TextEditor.enrichHTML(sheetData.data.system.biography.personalDescription?.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){if(super.activateListeners(html),game.settings.get("CoC7","useContextMenus")){this.menus||(this.menus=[]);const sanlossMenu={id:"san-loss-roll",classes:"roll-menu",section:[{classes:"main",items:[{action:"link-tool",label:"Open in link tool"},{action:"send-chat",label:"Send to chat"},{action:"copy-to-clipboard",label:"Copy to clip-board"}]}]},sanlossContextMenu=new CoC7ContextMenu;sanlossContextMenu.bind(sanlossMenu,html,this._onSanLossContextMenuClick.bind(this)),this.menus.push(sanlossContextMenu)}html.find(".roll-san").click(this._onSanCheck.bind(this))}async _onSanLossContextMenuClick(event){const rollOptions={rollType:CoC7ChatMessage.ROLL_TYPE_ENCOUNTER,preventStandby:!0,fastForward:!1,event,cardType:CoC7ChatMessage.CARD_TYPE_SAN_CHECK,actor:this.actor};switch(event.currentTarget.dataset.action){case"link-tool":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0,rollOptions.openLinkTool=!0;break;case"send-chat":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0,rollOptions.sendToChat=!0;break;case"copy-to-clipboard":rollOptions.cardType=CoC7ChatMessage.CARD_TYPE_NONE,rollOptions.createEncounter=!0,rollOptions.sendToClipboard=!0}CoC7ChatMessage.trigger(rollOptions)}async _onSanCheck(event){if(event.preventDefault(),this.actor.system.special.sanLoss.checkPassed||this.actor.system.special.sanLoss.checkFailled)if(isCtrlKey(event)&&game.user.isGM){let difficulty,modifier;if(!event.shiftKey){const usage=await RollDialog.create({disableFlatDiceModifier:!0});usage&&(modifier=Number(usage.get("bonusDice")),difficulty=Number(usage.get("difficulty")))}const linkData={check:"sanloss",sanMin:this.actor.system.special.sanLoss.checkPassed,sanMax:this.actor.system.special.sanLoss.checkFailled,sanReason:this.actor.system.infos.type?.length?this.actor.system.infos.type:this.actor.name,tokenKey:this.actor.actorKey};"blindroll"===game.settings.get("core","rollMode")&&(linkData.blind=!0),void 0!==modifier&&(linkData.modifier=modifier),void 0!==difficulty&&(linkData.difficulty=difficulty);const link=(new CoC7Link)._createDocumentLink(linkData);link&&chatHelper.createMessage(null,game.i18n.format("CoC7.MessageCheckRequestedWait",{check:link}))}else{const sanData={sanMax:this.actor.sanLossCheckFailled,sanMin:this.actor.sanLossCheckPassed,sanReason:this.actor.system.infos.type?.length?this.actor.system.infos.type:this.actor.name,tokenKey:this.actor.actorKey};SanCheckCard.checkTargets(sanData,event.shiftKey)}}onCloseSheet(){this.actor.unsetActorFlag("displayFormula"),super.onCloseSheet()}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","actor","npc"],dragDrop:[{dragSelector:".item",dropSelector:null}],template:"systems/CoC7/templates/actors/npc-sheet.html",width:580,resizable:!1,minimizable:!0})}async _updateObject(event,formData){if(!(event.currentTarget&&event.currentTarget.classList&&event.currentTarget.classList.contains("characteristic-score")))return super._updateObject(event,formData);this.actor.setCharacteristic(event.currentTarget.name,event.currentTarget.value)}static forceAuto(app,html){html.height("auto")}setPosition(a){super.setPosition(a),CoC7NPCSheet.forceAuto(a,this._element)}}class CoC7CreatureSheet extends CoC7NPCSheet{async getData(){const sheetData=await super.getData();return sheetData.isCreature=!0,sheetData}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","actor","npc","creature"]})}}class CoC7CreateMythosEncounter extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7"],title:game.i18n.localize("CoC7.SanityLossTypeDialogTitle"),template:"systems/CoC7/templates/apps/sanity-loss-type.hbs",height:"auto"})}async getData(){const data=await super.getData();return data.isImmunity="immunity"===data.object.type,data}activateListeners(html){html.find(".field_type").change(this._onSelectChange.bind(this)),html.find(".dialog-button").click(this._onButtonClick.bind(this)),super.activateListeners(html)}_onButtonClick(event){if("add"===event.currentTarget.dataset.button){const html=$(event.currentTarget).closest(".window-content"),type=html.find(".field_type").val(),name=html.find(".field_name").val(),value=parseInt(html.find(".field_value").val()),sanityLossEvents=this.object.actor.system.sanityLossEvents??[];sanityLossEvents.push({type:name,totalLoss:value,immunity:"immunity"===type}),sanityLossEvents.sort((function(left,right){return left.type.localeCompare(right.type)})),this.object.actor.update({"data.sanityLossEvents":sanityLossEvents})}this.close()}_onSelectChange(event){const html=$(event.currentTarget).closest(".window-content");this.object.name=html.find(".field_name").val(),this.object.type=html.find(".field_type").val(),this.render(!0)}async _updateObject(event,formData){}}class CoC7CharacterSheet extends CoC7ActorSheet{_getHeaderButtons(){if("CoC7CharacterSheet"===this.constructor.name){this.summarized||(this.summarized=!1);let buttons=super._getHeaderButtons();return buttons=[{label:this.summarized?game.i18n.localize("CoC7.Maximize"):game.i18n.localize("CoC7.Summarize"),class:"test-extra-icon",icon:this.summarized?"fas fa-window-maximize":"fas fa-window-minimize",onclick:event=>this.toggleSheetMode(event)}].concat(buttons),buttons}return super._getHeaderButtons()}async toggleSheetMode(event){this.summarized=!this.summarized,await this.close();const options=this.summarized?{classes:["coc7","actor","character","summarized"],height:200,resizable:!1,width:700}:CoC7CharacterSheet.defaultOptions;await this.render(!0,options)}async getData(){const sheetData=await super.getData();this.isEditable&&void 0===this.actor.getFlag("CoC7","skillListMode")&&await this.actor.setFlag("CoC7","skillListMode",!1),this.isEditable&&void 0===this.actor.getFlag("CoC7","skillShowUncommon")&&await this.actor.setFlag("CoC7","skillShowUncommon",!0),sheetData.skillListModeValue=this.actor.getFlag("CoC7","skillListMode")??!1,sheetData.skillShowUncommon=this.actor.getFlag("CoC7","skillShowUncommon")??!0,sheetData.showIconsOnly=game.settings.get("CoC7","showIconsOnly"),this.actor.occupation?(sheetData.data.system.infos.occupation=this.actor.occupation.name,sheetData.data.system.infos.occupationSet=!0):sheetData.data.system.infos.occupationSet=!1,this.actor.archetype?(sheetData.data.system.infos.archetype=this.actor.archetype.name,sheetData.data.system.infos.archetypeSet=!0):sheetData.data.system.infos.archetypeSet=!1,sheetData.totalExperience=this.actor.experiencePoints,sheetData.totalOccupation=this.actor.occupationPointsSpent,sheetData.invalidOccupationPoints=Number(this.actor.occupationPointsSpent)!==Number(this.actor.system.development?.occupation),sheetData.totalArchetype=this.actor.archetypePointsSpent,sheetData.invalidArchetypePoints=Number(this.actor.archetypePointsSpent)!==Number(this.actor.system.development?.archetype),sheetData.totalPersonal=this.actor.personalPointsSpent,sheetData.invalidPersonalPoints=Number(this.actor.personalPointsSpent)!==Number(this.actor.system.development?.personal),sheetData.creditRatingMax=Number(this.actor.occupation?.system.creditRating.max),sheetData.creditRatingMin=Number(this.actor.occupation?.system.creditRating.min),sheetData.invalidCreditRating=this.actor.creditRatingSkill?.system.adjustments?.occupation>sheetData.creditRatingMax||this.actor.creditRatingSkill?.system.adjustments?.occupation<sheetData.creditRatingMin,sheetData.pulpTalentCount=sheetData.itemsByType.talent?.length?sheetData.itemsByType.talent?.length:0,sheetData.minPulpTalents=this.actor.archetype?.system.talents?this.actor.archetype?.system.talents:0,sheetData.invalidPulpTalents=sheetData.pulpTalentCount<sheetData.minPulpTalents,sheetData.hasDevelopmentPhase=this.actor.hasDevelopmentPhase,sheetData.allowDevelopment=game.settings.get("CoC7","developmentEnabled"),sheetData.allowCharCreation=game.settings.get("CoC7","charCreationEnabled"),sheetData.developmentRollForLuck=game.settings.get("CoC7","developmentRollForLuck"),sheetData.showDevPannel=sheetData.allowDevelopment||sheetData.allowCharCreation,sheetData._monetaryFormats=[];for(const key in COC7.monetaryFormats)sheetData._monetaryFormats.push({key,val:game.i18n.localize(COC7.monetaryFormats[key])});sheetData.showCurrencySymbol=["decimalLeft","decimalRight","integerLeft","integerRight"].includes(sheetData.data.system.monetary.format),sheetData._monetaryTypes=[];for(const key in COC7.monetaryTypes)(0===COC7.monetaryTypes[key].filter.length||COC7.monetaryTypes[key].filter.includes(sheetData.data.system.monetary.format))&&sheetData._monetaryTypes.push({key,val:game.i18n.localize(COC7.monetaryTypes[key].name)});sheetData.manualCredit=this.actor.getActorFlag("manualCredit"),sheetData.manualCredit||(sheetData.monetary={spendingLevel:CoCActor.monetaryFormat(sheetData.data.system.monetary.format,sheetData.data.system.monetary.symbol,this.actor.spendingLevel),assets:CoCActor.monetaryFormat(sheetData.data.system.monetary.format,sheetData.data.system.monetary.symbol,this.actor.assets),cash:CoCActor.monetaryFormat(sheetData.data.system.monetary.format,sheetData.data.system.monetary.symbol,this.actor.cash)}),sheetData.oneBlockBackStory=game.settings.get("CoC7","oneBlockBackstory"),sheetData.summarized=this.summarized&&!sheetData.permissionLimited,sheetData.skillList=[];let previousSpec="";for(const skill of sheetData.skills)!sheetData.skillShowUncommon&&skill.system.properties.rarity||(skill.system.properties.special&&previousSpec!==skill.system.specialization&&(previousSpec=skill.system.specialization,sheetData.skillList.push({isSpecialization:!0,name:skill.system.specialization})),sheetData.skillList.push(skill));if(sheetData.skillsByValue=[...sheetData.skills].sort(((a,b)=>b.system.value-a.system.value)),sheetData.topSkills=[...sheetData.skillsByValue].slice(0,14),sheetData.skillsByValue=sheetData.skillsByValue.filter((skill=>sheetData.skillShowUncommon||!skill.system.properties.rarity)),sheetData.topWeapons=[...sheetData.meleeWpn,...sheetData.rangeWpn].sort(((a,b)=>a.system.skill.main?.value-b.system.skill.main?.value)).reverse().slice(0,3),sheetData.displayPlayerName=game.settings.get("CoC7","displayPlayerNameOnSheet"),sheetData.displayPlayerName&&!sheetData.data.system.infos.playername){const user=this.actor.characterUser;user&&(sheetData.data.system.infos.playername=user.name)}return sheetData.skillListEmpty=0===sheetData.skills.length,sheetData.showInventoryItems=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"item")||!sheetData.data.system.flags.locked,sheetData.showInventoryBooks=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"book")||!sheetData.data.system.flags.locked,sheetData.showInventorySpells=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"spell")||!sheetData.data.system.flags.locked,sheetData.showInventoryTalents=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"talent")||!sheetData.data.system.flags.locked&&game.settings.get("CoC7","pulpRuleTalents"),sheetData.showInventoryStatuses=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"status")||!sheetData.data.system.flags.locked,sheetData.hasInventory=sheetData.showInventoryItems||sheetData.showInventoryBooks||sheetData.showInventorySpells||sheetData.showInventoryTalents||sheetData.showInventoryStatuses||sheetData.showInventoryWeapons,sheetData.enrichedBackstory=TextEditor.enrichHTML(sheetData.data.system.backstory,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}_saveScrollPositions(html){super._saveScrollPositions(html);this._scrollPositionsX=[".right-panel .tab.development ol"].reduce(((pos,sel)=>{const el=html.find(sel);return pos[sel]=Array.from(el).map((el=>el.scrollLeft)),pos}),{})}_restoreScrollPositions(html){super._restoreScrollPositions(html);const selectors=[".right-panel .tab.development ol"],positions=this._scrollPositionsX||{};for(const sel of selectors){html.find(sel).each(((i,el)=>{el.scrollLeft=positions[sel]?.[i]||0}))}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","actor","character"],template:"systems/CoC7/templates/actors/character/index.html",width:687,height:623,resizable:!0,dragDrop:[{dragSelector:".item",dropSelector:null}],scrollY:[".right-panel .tab"],tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"skills"}]})}activateListeners(html){super.activateListeners(html),this.actor.isOwner&&(html.find(".skill-name.rollable.flagged4dev").click((async event=>this._onSkillDev(event))),html.find(".reset-occupation").click((async()=>await this.actor.resetOccupation())),html.find(".reset-archetype").click((async()=>await this.actor.resetArchetype())),html.find(".open-item").click((event=>this._onItemDetails(event))),html.find(".toggle-list-mode").click((event=>{this.toggleSkillListMode(event)})),html.find(".toggle-uncommon-mode").click((event=>{this.toggleSkillUncommonMode(event)})),game.user.isGM&&(html.find(".sanity-loss-type-add").click(this._onAddSanityLossReason.bind(this)),html.find(".sanity-loss-type-delete").click(this._onDeleteSanityLossReason.bind(this)),html.find(".toggle-keeper-flags").click(this._onToggleKeeperFlags.bind(this)),html.find(".add-monetary").click(this._onAddMonetary.bind(this)),html.find(".remove-monetary").click(this._onRemoveMonetary.bind(this))))}_onAddMonetary(){const values=this.actor.system.monetary.values?duplicate(this.actor.system.monetary.values):[];values.push({name:"",min:null,max:null,cashType:0,cashValue:"",assetsType:0,assetsValue:"",spendingType:0,spendingValue:""}),this.actor.update({"system.monetary.values":values})}_onRemoveMonetary(event){const div=event.currentTarget.closest(".item"),values=duplicate(this.actor.system.monetary.values);values.splice(Number(div.dataset.index),1),this.actor.update({"system.monetary.values":values})}_onToggleKeeperFlags(event){switch(event.preventDefault(),event.currentTarget.dataset.flag){case"mythosInsanityExperienced":this.actor.setFlag("CoC7","mythosInsanityExperienced",!this.actor.mythosInsanityExperienced);break;case"mythosHardened":this.actor.setFlag("CoC7","mythosHardened",!this.actor.mythosHardened)}}async _onAddSanityLossReason(event){event.preventDefault(),new CoC7CreateMythosEncounter({actor:this.actor,type:event.currentTarget.dataset.type},{}).render(!0)}_onDeleteSanityLossReason(event){event.preventDefault();const offset=$(event.currentTarget).closest(".flexrow").data("offset"),sanityLossEvents=this.actor.system.sanityLossEvents??[];sanityLossEvents.splice(offset,1),sanityLossEvents.sort((function(left,right){return left.type.localeCompare(right.type)})),this.actor.update({"system.sanityLossEvents":sanityLossEvents})}async toggleSkillListMode(event){return await this.actor.setFlag("CoC7","skillListMode",!this.actor.getFlag("CoC7","skillListMode")),await this.render(!0)}async toggleSkillUncommonMode(event){return await this.actor.setFlag("CoC7","skillShowUncommon",!this.actor.getFlag("CoC7","skillShowUncommon")),await this.render(!0)}async _onSkillDev(event){event.preventDefault();const skillId=event.currentTarget.closest(".item").dataset.itemId;await this.actor.developSkill(skillId,event.shiftKey)}_onItemDetails(event){event.preventDefault();const type=event.currentTarget.dataset.type,item=this.actor[type];item&&item.sheet.render(!0)}_updateObject(event,formData){const system=expandObject(formData)?.system;system.monetary?.values&&(formData["system.monetary.values"]=Object.values(system.monetary.values||[])),super._updateObject(event,formData)}static renderSheet(sheet,html){if(game.settings.get("CoC7","overrideSheetArtwork")){if(game.settings.get("CoC7","artWorkSheetBackground"))if("null"===game.settings.get("CoC7","artWorkSheetBackground").toLowerCase())sheet.element.css("--main-sheet-bg","url( './assets/images/void.webp')");else if(sheet.element.css("--main-sheet-bg",game.settings.get("CoC7","artWorkSheetBackground")),"slice"!==game.settings.get("CoC7","artWorkSheetBackgroundType")){let styleSheet,cssRuleIndex;for(let i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].href?.endsWith("coc7g.css")){styleSheet=document.styleSheets[i];break}if(styleSheet)for(let i=0;i<styleSheet.rules.length;i++)if(".sheetV2.character form"===styleSheet.rules[i].selectorText){cssRuleIndex=i;break}if(cssRuleIndex){const CSSStyle=styleSheet.rules[cssRuleIndex].style;switch(CSSStyle.removeProperty("border-image"),CSSStyle.setProperty("background",game.settings.get("CoC7","artWorkSheetBackground")),game.settings.get("CoC7","artWorkSheetBackgroundType")){case"auto":default:CSSStyle.setProperty("background-size","auto");break;case"contain":CSSStyle.setProperty("background-size","contain");break;case"cover":CSSStyle.setProperty("background-size","cover")}}}if(game.settings.get("CoC7","artWorkOtherSheetBackground")&&("null"===game.settings.get("CoC7","artWorkOtherSheetBackground").toLowerCase()?sheet.element.css("--other-sheet-bg","url( './assets/images/void.webp')"):sheet.element.css("--other-sheet-bg",game.settings.get("CoC7","artWorkOtherSheetBackground"))),game.settings.get("CoC7","artworkSheetImage")&&("null"===game.settings.get("CoC7","artworkSheetImage").toLowerCase()?sheet.element.css("--main-sheet-image","url( './assets/images/void.webp')"):sheet.element.css("--main-sheet-image",game.settings.get("CoC7","artworkSheetImage"))),game.settings.get("CoC7","artworkFrontColor")&&sheet.element.css("--main-sheet-front-color",game.settings.get("CoC7","artworkFrontColor")),game.settings.get("CoC7","artworkBackgroundColor")&&sheet.element.css("--main-sheet-back-color",game.settings.get("CoC7","artworkBackgroundColor")),game.settings.get("CoC7","artworkInteractiveColor")&&sheet.element.css("--main-sheet-interactive-color",game.settings.get("CoC7","artworkInteractiveColor")),game.settings.get("CoC7","artworkFixedSkillLength")||(sheet.element.css("--skill-length","auto"),sheet.element.css("--skill-specialization-length","auto")),game.settings.get("CoC7","artworkMainFont")){new FontFace("customSheetFont",game.settings.get("CoC7","artworkMainFont")).load().then((function(loadedFace){document.fonts.add(loadedFace)})).catch((function(error){ui.notifications.error(error)}))}if(game.settings.get("CoC7","artworkMainFontBold")){new FontFace("customSheetFont",game.settings.get("CoC7","artworkMainFontBold"),{weight:"bold"}).load().then((function(loadedFace){document.fonts.add(loadedFace)})).catch((function(error){ui.notifications.error(error)}))}if(game.settings.get("CoC7","artworkMainFontSize")){const size=`${game.settings.get("CoC7","artworkMainFontSize")}px`;size!==$(":root").css("font-size")&&$(":root").css("font-size",size)}}if(void 0!==sheet.actor?.system.pannel)for(const[key,value]of Object.entries(sheet.actor.system.pannel)){const pannelClass=chatHelper.camelCaseToHyphen(key),pannel=html.find(`.pannel.${pannelClass}`);value.expanded?pannel.addClass("expanded"):pannel.removeClass("expanded")}}}class CoC7Combat{static renderCombatTracker(app,html,data){const currentCombat=data.combats[data.currentIndex-1];currentCombat&&(html.find(".combatant").each(((i,el)=>{const combId=el.getAttribute("data-combatant-id"),combatantControlsDiv=el.querySelector(".combatant-controls"),combatant=currentCombat.combatants.get(combId);if(combatant.getFlag("CoC7","hasGun")?$(combatantControlsDiv).prepend(`<a class="combatant-control active add-init" title="${game.i18n.localize("CoC7.PutGunAway")}" data-control="drawGun"><i class="game-icon game-icon-revolver"></i></a>`):$(combatantControlsDiv).prepend(`<a class="combatant-control add-init" title="${game.i18n.localize("CoC7.DrawGun")}" data-control="drawGun"><i class="game-icon game-icon-revolver"></i></a>`),"optional"===game.settings.get("CoC7","initiativeRule")&&game.settings.get("CoC7","displayInitAsText")){if(combatant.initiative){const tokenInitiative=el.querySelector(".token-initiative"),initiativeTest=tokenInitiative.querySelector(".initiative"),roll=100*combatant.initiative-100*Math.floor(combatant.initiative);switch(Math.floor(combatant.initiative)){case CoC7Check.successLevel.fumble:tokenInitiative.classList.add("fumble"),initiativeTest.innerText=game.i18n.localize("CoC7.Fumble"),initiativeTest.title=roll;break;case CoC7Check.successLevel.failure:tokenInitiative.classList.add("failure"),initiativeTest.innerText=game.i18n.localize("CoC7.Failure"),initiativeTest.title=roll;break;case CoC7Check.successLevel.regular:tokenInitiative.classList.add("regular-success"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyRegular"),initiativeTest.title=roll;break;case CoC7Check.successLevel.hard:tokenInitiative.classList.add("hard-success"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyHard"),initiativeTest.title=roll;break;case CoC7Check.successLevel.extreme:tokenInitiative.classList.add("extreme-success"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyExtreme"),initiativeTest.title=roll;break;case CoC7Check.successLevel.critical:tokenInitiative.classList.add("critical"),initiativeTest.innerText=game.i18n.localize("CoC7.RollDifficultyCritical"),initiativeTest.title=roll}}}else if(combatant.initiative<0){const h4=el.querySelector(".token-name").querySelector("h4"),span=el.querySelector("span.initiative");h4.style.fontWeight="900",h4.style.textShadow="1px 1px 4px darkred",span.style.fontWeight="900",span.style.textShadow="1px 1px 4px darkred",el.style.color="darkred",el.style.background="black",el.style.fontWeight="900"}})),html.find(".add-init").click((event=>CoC7Combat._onToggleGun(event))))}static async _onToggleGun(event){event.preventDefault(),event.stopPropagation();const li=event.currentTarget.closest(".combatant"),c=await game.combat.combatants.get(li.dataset.combatantId);c.actor.isOwner&&(c.getFlag("CoC7","hasGun")?await c.setFlag("CoC7","hasGun",!1):await c.setFlag("CoC7","hasGun",!0));const newInit=await c.actor.rollInitiative(!!c.getFlag("CoC7","hasGun"));c.getFlag("CoC7","hasGun")?c.initiative<newInit&&game.combat.setInitiative(c.id,newInit):game.combat.setInitiative(c.id,newInit)}}async function rollInitiative(ids,{formula=null,updateTurn=!0,messageOptions={}}={}){const updates=[];for(const[,id]of ids.entries()){const combatant=this.combatants.get(id),roll=await combatant.actor.rollInitiative(!!combatant.getFlag("CoC7","hasGun"));updates.push({_id:id,initiative:roll})}return updates.length?(await this.updateEmbeddedDocuments("Combatant",updates),this):this}class CoCIDBatch extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","dialog","coc-id-editor"],template:"systems/CoC7/templates/apps/coc-id-batch.hbs",width:700,height:"auto",title:"CoC7.CoCIDFlag.title",closeOnSubmit:!1,submitOnClose:!1,submitOnChange:!1})}async getData(){const sheetData=super.getData();return sheetData.foundKeys=Object.keys(sheetData.object.foundKeys).reduce(((out,key)=>(out.push({name:key,key:sheetData.object.foundKeys[key]}),out)),[]).sort(CoC7Utilities.sortByNameKey),sheetData.missingNames=Object.keys(sheetData.object.missingNames).reduce(((out,key)=>(out.push({key:sheetData.object.foundKeys[key]??"",name:key,custom:sheetData.object.missingNames[key],suffix:sheetData.object.missingNames[key].replace(this.object.suffixRegExp,"")}),out)),[]).sort(CoC7Utilities.sortByNameKey),sheetData}activateListeners(html){super.activateListeners(html),html.find(".existing").change(this.onSetName.bind(this)),html.find(".fa-wand-magic").click(this.onClickGuess.bind(this)),html.find("input").keyup(this.onKeyup.bind(this))}onSetName(event){const obj=$(event.currentTarget);this.object.missingNames[obj.closest("li").data("name")]=obj.val(),this.render(!0)}onClickGuess(event){const name=$(event.currentTarget).closest("li").data("name");this.object.missingNames[name]=this.object.idPrefix+CoC7Utilities.toKebabCase(name),this.render(!0)}onKeyup(event){const obj=$(event.currentTarget),name=obj.closest("li").data("name");this.object.missingNames[name]=this.object.idPrefix+obj.val()}async _updateObject(event,formData){event.submitter&&(this.object.typeName===game.i18n.localize("CoC7.Entities.Skill")&&(this.close(),await CoCIDBatch.processSkillKeys(this.object.updateList,this.object.missingNames)),this.object.resolve(!0))}static async processSkillKeys(updateList,missingNames){const items=[],actors={},scenes={};for(const update of updateList){update.cocidFlag.id=missingNames[update.name],void 0===update.cocidFlag.lang&&(update.cocidFlag.lang=game.i18n.lang),void 0===update.cocidFlag.priority&&(update.cocidFlag.priority=0),void 0===update.cocidFlag.eras&&(update.cocidFlag.eras={});const flags=flattenObject({flags:{CoC7:{cocidFlag:update.cocidFlag}}});if(void 0!==update.scene){if(void 0===scenes[update.scene]){const scene=game.scenes.get(update.scene);scenes[update.scene]=scene.toObject()}const tokenOffset=scenes[update.scene].tokens.findIndex((t=>t._id===update.token));if(tokenOffset>-1){const itemOffset=scenes[update.scene].tokens[tokenOffset].actorData.items.findIndex((i=>i._id===update.item));if(itemOffset>-1){const expandedFlags=expandObject(Object.entries(flags).reduce(((out,entry)=>(entry[0].match(/^flags\.CoC7\.cocidFlag/)&&(out[entry[0]]=entry[1]),out)),{}));scenes[update.scene].tokens[tokenOffset].actorData.items[itemOffset]=mergeObject(scenes[update.scene].tokens[tokenOffset].actorData.items[itemOffset],expandedFlags)}}}else if(void 0!==update.actor){void 0===actors[update.actor]&&(actors[update.actor]=[]);const item={_id:update.item};for(const key of Object.keys(flags))key.match(/^flags\.CoC7\.cocidFlag/)&&(item[key]=flags[key]);actors[update.actor].push(item)}else{const item={_id:update.item};for(const key of Object.keys(flags))key.match(/^flags\.CoC7\.cocidFlag/)&&(item[key]=flags[key]);items.push(item)}}if(items.length&&await Item.updateDocuments(items),Object.keys(actors).length)for(const actorId of Object.keys(actors))await Item.updateDocuments(actors[actorId],{parent:game.actors.get(actorId)});if(Object.keys(scenes).length)for(const sceneId of Object.keys(scenes)){game.scenes.get(sceneId).update(scenes[sceneId])}return!0}static async populateSkillKeys(updateList,missingNames,foundKeys){for(const actor of game.actors.contents){const actorData=actor.toObject();if(actorData.items)for(const item of actorData.items){const itemData=item instanceof CONFIG.Item.documentClass?item.toObject():item;"skill"===itemData.type&&(itemData.flags.CoC7?.cocidFlag?.id?.match(/^i.skill/)?foundKeys[itemData.name]=itemData.flags.CoC7.cocidFlag.id:(void 0===missingNames[itemData.name]&&(missingNames[itemData.name]=""),updateList.push({actor:actor._id,item:itemData._id,name:itemData.name,cocidFlag:itemData.flags.CoC7?.cocidFlag??{}})))}}for(const item of game.items.contents){const itemData=item instanceof CONFIG.Item.documentClass?item.toObject():item;"skill"===itemData.type&&(itemData.flags.CoC7?.cocidFlag?.id?.match(/^i.skill/)?foundKeys[itemData.name]=itemData.flags.CoC7.cocidFlag.id:(void 0===missingNames[itemData.name]&&(missingNames[itemData.name]=""),updateList.push({item:itemData._id,name:itemData.name,cocidFlag:itemData.flags.CoC7?.cocidFlag??{}})))}for(const scene of game.scenes){const sceneData=scene.toObject();for(const token of sceneData.tokens??[])if(token.actorId&&!token.actorLink){const actorData=duplicate(token.actorData);for(const item of actorData.items??[]){const itemData=item instanceof CONFIG.Item.documentClass?item.toObject():item;"skill"===itemData.type&&(itemData.flags.CoC7?.cocidFlag?.id?.match(/^i.skill/)?foundKeys[itemData.name]=itemData.flags.CoC7.cocidFlag.id:(void 0===missingNames[itemData.name]&&(missingNames[itemData.name]=""),updateList.push({scene:sceneData._id,token:token._id,item:itemData._id,name:itemData.name,cocidFlag:itemData.flags.CoC7?.cocidFlag??{}})))}}}if(Object.keys(missingNames).filter((key=>""===missingNames[key])).length>0){const items=await game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:/^i\.skill\./,type:"i",era:!1});for(const item of items)foundKeys[item.name]=item.flags.CoC7.cocidFlag.id;for(const key in flattenObject(game.i18n.translations.CoC7.CoCIDFlag.keys??{}))foundKeys[game.i18n.format("CoC7.CoCIDFlag.keys."+key)]=key;for(const name in missingNames)void 0!==foundKeys[name]&&(missingNames[name]=foundKeys[name])}}static async create(type){const updateList=[],missingNames={},foundKeys={};let typeName="",idPrefix="",suffixRegExp=null;return"skill"===type&&(typeName=game.i18n.localize("CoC7.Entities.Skill"),idPrefix="i.skill.",suffixRegExp=/^i\.skill\./,await CoCIDBatch.populateSkillKeys(updateList,missingNames,foundKeys),0===Object.keys(missingNames).filter((key=>""===missingNames[key])).length?(await CoCIDBatch.processSkillKeys(updateList,missingNames),!0):new Promise((resolve=>{new CoCIDBatch({typeName,idPrefix,suffixRegExp,updateList,missingNames,foundKeys,resolve}).render(!0)})))}}class Updater{static async checkForUpdate(){let systemUpdateVersion=game.settings.get("CoC7","systemUpdateVersion");game.actors.size+game.scenes.size+game.items.size+game.journal.size+game.tables.size===0&&(systemUpdateVersion=game.system.version,await game.settings.set("CoC7","systemUpdateVersion",systemUpdateVersion));const runMigrate=isNewerVersion(game.system.version,systemUpdateVersion??"0");this.updatedModules=game.settings.get("CoC7","systemUpdatedModuleVersion")||{},this.currentModules={};for(const pack of game.packs)if(!["CoC7","world"].includes(pack.metadata.packageName)&&["Actor","Item","Scene"].includes(pack.metadata.type)&&!Object.prototype.hasOwnProperty.call(this.currentModules,pack.metadata.packageName)){const module=game.modules.get(pack.metadata.packageName);module&&(!runMigrate&&Object.prototype.hasOwnProperty.call(this.updatedModules,module.id)&&String(this.updatedModules[module.id])===String(module.version)||(this.currentModules[module.id]=module.version))}(runMigrate||Object.keys(this.currentModules).length>0)&&(game.user.isGM?new Dialog({title:game.i18n.localize("CoC7.Migrate.Title"),content:game.i18n.format(0===Object.keys(this.currentModules).length?"CoC7.Migrate.Message":"CoC7.Migrate.WithModulesMessage",{version:game.system.version,modules:"<ul><li>"+Object.keys(this.currentModules).map((mod=>game.modules.get(mod).title)).join("</li><li>")+"</li></ul>"}),buttons:{update:{label:game.i18n.localize("CoC7.Migrate.ButtonUpdate"),callback:async()=>Updater.update()},skip:{label:game.i18n.localize("CoC7.Migrate.ButtonSkip")}}}).render(!0):new Dialog({title:game.i18n.localize("CoC7.Migrate.Title"),content:game.i18n.format("CoC7.Migrate.GMRequired",{version:game.system.version}),buttons:{OK:{label:game.i18n.localize("CoC7.Migrate.ButtonOkay")}}}).render(!0))}static async update(){await this.updateDocuments(),game.settings.get("CoC7","pulpRules")&&(game.settings.set("CoC7","pulpRuleDoubleMaxHealth",!0),game.settings.set("CoC7","pulpRuleDevelopmentRollLuck",!0),game.settings.set("CoC7","pulpRuleArchetype",!0),game.settings.set("CoC7","pulpRuleOrganization",!0),game.settings.set("CoC7","pulpRuleTalents",!0),game.settings.set("CoC7","pulpRuleFasterRecovery",!0),game.settings.set("CoC7","pulpRuleIgnoreMajorWounds",!0),game.settings.set("CoC7","pulpRuleIgnoreAgePenalties",!0)),await CoCIDBatch.create("skill");const settings=mergeObject(this.updatedModules||{},this.currentModules);game.settings.set("CoC7","systemUpdatedModuleVersion",settings),game.settings.set("CoC7","systemUpdateVersion",game.system.version),ui.notifications.info(game.i18n.format("CoC7.Migrate.Complete"),{permanent:!0})}static async updateDocuments(){for(const actor of game.actors.contents)try{const updateData=this.migrateActorData(actor.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Actor document ${actor.name}`),await actor.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorActor",{name:actor.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const item of game.items.contents)try{const updateData=Updater.migrateItemData(item.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Item document ${item.name}`),await item.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorItem",{name:item.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const table of game.tables.contents)try{const updateData=Updater.migrateTableData(table.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Table document ${table.name}`),await table.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorTable",{name:table.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const macro of game.macros.contents)try{const updateData=Updater.migrateMacroData(macro.toObject());foundry.utils.isEmpty(updateData)||(console.log(`Migrating Macro document ${macro.name}`),await macro.update(updateData,{enforceTypes:!1}))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorMacro",{name:macro.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const scene of game.scenes)try{const updateData=Updater.migrateSceneData(scene);foundry.utils.isEmpty(updateData)||(console.log(`Migrating Scene document ${scene.name}`),await scene.update(updateData,{enforceTypes:!1})),scene.tokens.forEach((t=>t._actor=null))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorScene",{name:scene.name,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}for(const pack of game.packs)"CoC7"!==pack.metadata.packageName&&["Actor","Item","Macro","RollTable","Scene"].includes(pack.metadata.type)&&await Updater.migrateCompendiumData(pack)}static migrateActorData(actor){const updateData={};if(Updater._migrateActorCharacterSanity(actor,updateData),Updater._migrateActorArtwork(actor,updateData),Updater._migrateActorKeeperNotes(actor,updateData),Updater._migrateActorNpcCreature(actor,updateData),Updater._migrateActorStatusEffectActive(actor,updateData),Updater._migrateActorSanLossReasons(actor,updateData),Updater._migrateActorMonetary(actor,updateData),actor.items){const items=actor.items.reduce(((arr,i)=>{const itemData=i instanceof CONFIG.Item.documentClass?i.toObject():i,itemUpdate=Updater.migrateItemData(itemData);return foundry.utils.isEmpty(itemUpdate)||(itemUpdate._id=itemData._id,arr.push(expandObject(itemUpdate))),arr}),[]);items.length>0&&(updateData.items=items)}return updateData}static async migrateCompendiumData(pack){const documentType=pack.metadata.type;if(!["Actor","Item","Macro","RollTable","Scene"].includes(documentType))return;const wasLocked=pack.locked;await pack.configure({locked:!1});try{await pack.migrate()}catch(err){console.log("pack migrate failed",pack,err)}const documents=await pack.getDocuments();for(const doc of documents){let updateData={};try{switch(documentType){case"Actor":updateData=Updater.migrateActorData(doc.toObject());break;case"Item":updateData=Updater.migrateItemData(doc.toObject());break;case"Macro":updateData=Updater.migrateMacroData(doc.toObject());break;case"RollTable":updateData=Updater.migrateTableData(doc.toObject());break;case"Scene":updateData=Updater.migrateSceneData(doc)}foundry.utils.isEmpty(updateData)||(console.log(`Migrated ${documentType} document ${doc.name} in Compendium ${pack.collection}`),await doc.update(updateData))}catch(err){console.log("Error details",err),err.message=game.i18n.format("CoC7.Migrate.ErrorDocumentPack",{name:doc.name,collection:pack.collection,message:err.message}),ui.notifications.error(err.message,{permanent:!0})}}await pack.configure({locked:wasLocked})}static migrateItemData(item){const updateData={};return Updater._migrateItemEmbeddedv10(item,updateData),Updater._migrateItemExperience(item,updateData),Updater._migrateItemArtwork(item,updateData),Updater._migrateItemBookAutomated(item,updateData),Updater._migrateItemKeeperNotes(item,updateData),Updater._migrateItemSpellAutomated(item,updateData),Updater._migrateItemKeeperNotesMerge(item,updateData),Updater._migrateItemEras(item,updateData),Updater._migrateItemv10(item,updateData),Updater._migrateItemBookUnits(item,updateData),updateData}static migrateMacroData(table){const updateData={};return Updater._migrateMacroArtwork(table,updateData),updateData}static migrateTableData(table){const updateData={};return Updater._migrateTableArtwork(table,updateData),updateData}static migrateSceneData(scene){const returns={tokens:[]};return void 0!==scene.tokens&&scene.tokens.length&&(returns.tokens=scene.tokens.map((token=>{const t=token.toObject(),updateData={};if(Updater._migrateTokenArtwork(t,updateData),Object.keys(updateData).length&&foundry.utils.mergeObject(t,updateData),!t.actorId||t.actorLink)t.actorData={};else if(game.actors.has(t.actorId)){if(!t.actorLink){const actorData=foundry.utils.duplicate(t.actorData);actorData.type=token.actor?.type;const update=Updater.migrateActorData(actorData);["items","effects"].forEach((embeddedName=>{if(!update[embeddedName]?.length)return;const updates=new Map(update[embeddedName].map((u=>[u._id,u])));t.actorData[embeddedName].forEach((original=>{const update=updates.get(original._id);update&&mergeObject(original,update)})),delete update[embeddedName]})),mergeObject(t.actorData,update)}}else t.actorId=null,t.actorData={};return t}))),returns}static _migrateItemKeeperNotes(item,updateData){return["archetype","chase","item","occupation","setup","skill","spell","status","talent","weapon"].includes(item.type)&&("string"==typeof item.system.description?updateData["system.description"]={value:item.system.description,keeper:""}:void 0===item.system.description||null===item.system.description?updateData["system.description"]={value:"",keeper:""}:void 0===item.system.description.keeper&&(updateData["system.description.keeper"]="")),updateData}static _migrateItemExperience(item,updateData){return"skill"===item.type&&void 0===item.system.adjustments?.experience&&(updateData["system.adjustments.experience"]=0),updateData}static _migrateItemArtwork(item,updateData){let image=String(item.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);if(null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),"setup"===item.type)for(const[k,v]of Object.entries(item.system.items))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.items"]&&(updateData["system.items"]=item.system.items),updateData["system.items"][k].img="systems/CoC7/assets/icons/"+image[1]));else if("occupation"===item.type){for(const[k,v]of Object.entries(item.system.skills))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].img="systems/CoC7/assets/icons/"+image[1]));for(const[o,g]of Object.entries(item.system.groups))for(const[k,v]of Object.entries(g.skills))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.groups"]&&(updateData["system.groups"]=item.system.groups),updateData["system.groups"][o].skills[k].img="systems/CoC7/assets/icons/"+image[1]))}else if("book"===item.type)for(const[k,v]of Object.entries(item.system.spells))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.spells"]&&(updateData["system.spells"]=item.system.spells),updateData["system.spells"][k].img="systems/CoC7/assets/icons/"+image[1]));else if("archetype"===item.type)for(const[k,v]of Object.entries(item.system.skills))"string"!=typeof v&&(image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].img="systems/CoC7/assets/icons/"+image[1]));return updateData}static _migrateItemSpellAutomated(item,updateData){"spell"===item.type&&void 0!==item.system.cost&&(updateData["system.castingTime"]=item.system.castingTime||"",updateData["system.costs.hitPoints"]=item.system.cost.hp||0,updateData["system.costs.magicPoints"]=item.system.cost.mp||0,updateData["system.costs.sanity"]=item.system.cost.san||0,updateData["system.costs.power"]=item.system.cost.pow||0,updateData["system.costs.others"]="",updateData["system.-=cost"]=null,updateData["system.description.-=unidentified"]=null,updateData["system.description.-=notes"]=null)}static _migrateItemBookAutomated(item,updateData){return"book"===item.type&&void 0!==item.system.description.unidentified&&(updateData["system.author"]=item.system.author||"",updateData["system.date"]=item.system.date||"",updateData["system.language"]=item.system.language||"",updateData["system.sanityLoss"]=item.system.sanLoss||0,updateData["system.mythosRating"]=Number(item.system.mythosRating)||0,updateData["system.content"]=item.system.description.unidentified,updateData["system.description.keeper"]=item.system.description.notes,updateData["system.difficultyLevel"]="regular",updateData["system.fullStudies"]=0,updateData["system.initialReading"]=!1,updateData["system.keeperNotes"]="",updateData["system.gains.cthulhuMythos.initial"]=Number(item.system.gain.cthulhuMythos.CMI)||0,updateData["system.gains.cthulhuMythos.final"]=Number(item.system.gain.cthulhuMythos.CMF)||0,updateData["system.gains.occult"]=Number(item.system.gain.occult)||0,updateData["system.gains.others"]=[],updateData["system.study"]={necessary:Number(item.system.weeksStudyTime)||0,progress:0,units:"CoC7.weeks"},updateData["system.-=sanLoss"]=null,updateData["system.-=weeksStudyTime"]=null,updateData["system.-=gain"]=null,updateData["system.description.-=unidentified"]=null,updateData["system.description.-=notes"]=null,updateData["system.gains.-=other"]=null,updateData["system.-=properties"]=null,updateData["system.-=flags"]=null),updateData}static _migrateItemBookUnits(item,updateData){"book"===item.type&&void 0!==item.system.study.necessary&&void 0===item.system.study.units&&(updateData["system.study.units"]="CoC7.weeks")}static _migrateItemKeeperNotesMerge(item,updateData){"spell"!==item.type&&"book"!==item.type||(void 0!==item.system.notes&&(void 0!==item.system.description.keeper?updateData["system.description.keeper"]=item.system.description.keeper+item.system.notes:updateData["system.description.keeper"]=item.system.notes,updateData["system.-=notes"]=null),void 0!==item.system.keeperNotes&&(void 0!==updateData["system.description.keeper"]?updateData["system.description.keeper"]=item.system.keeperNotes+updateData["system.description.keeper"]:updateData["system.description.keeper"]=item.system.keeperNotes,updateData["system.-=keeperNotes"]=null))}static _migrateItemEmbeddedv10(item,updateData){if("occupation"===item.type){let changed=!1;for(const[o,g]of Object.entries(item.system.groups))for(const[k,v]of Object.entries(g.skills))"string"!=typeof v&&void 0===v.system&&(item.system.groups[o].skills[k].system=v.data,changed=!0);changed&&(updateData["system.groups"]=item.system.groups)}if(["setup"].includes(item.type)){let changed=!1;for(const[k,v]of Object.entries(item.system.items))"string"!=typeof v&&void 0===v.system&&(item.system.items[k].system=v.data,changed=!0);changed&&(updateData["system.items"]=item.system.items)}if(["archetype","occupation"].includes(item.type)){let changed=!1;for(const[k,v]of Object.entries(item.system.skills))"string"!=typeof v&&void 0===v.system&&(item.system.skills[k].system=v.data,changed=!0);changed&&(updateData["system.skills"]=item.system.skills)}if(["book"].includes(item.type)){let changed=!1;for(const[k,v]of Object.entries(item.system.spells))"string"!=typeof v&&void 0===v.system&&(item.system.spells[k].system=v.data,changed=!0);changed&&(updateData["system.spells"]=item.system.spells)}}static _migrateItemv10(item,updateData){if("skill"!==item.type||void 0!==item.system.skillName&&""!==item.system.skillName){if("setup"===item.type){for(const[k,v]of Object.entries(item.system.items))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.items"]&&(updateData["system.items"]=item.system.items),updateData["system.items"][k].name=v.name,"Uniki"===updateData["system.items"][k].name&&(updateData["system.items"][k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.items"][k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.items"][k].name=parts.name,updateData["system.items"][k].system.skillName=parts.skillName,updateData["system.items"][k].system.specialization=parts.specialization}}else if("occupation"===item.type){for(const[k,v]of Object.entries(item.system.skills))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].name=v.name,"Uniki"===updateData["system.skills"][k].name&&(updateData["system.skills"][k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.skills"][k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.skills"][k].name=parts.name,updateData["system.skills"][k].system.skillName=parts.skillName,updateData["system.skills"][k].system.specialization=parts.specialization}for(const[o,g]of Object.entries(item.system.groups))for(const[k,v]of Object.entries(g.skills))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.groups"]&&(updateData["system.groups"]=item.system.groups),updateData["system.groups"][o].skills[k].name=v.name,"Uniki"===updateData["system.groups"][o].skills[k].name&&(updateData["system.groups"][o].skills[k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.groups"][o].skills[k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.groups"][o].skills[k].name=parts.name,updateData["system.groups"][o].skills[k].system.skillName=parts.skillName,updateData["system.groups"][o].skills[k].system.specialization=parts.specialization}}else if("archetype"===item.type)for(const[k,v]of Object.entries(item.system.skills))if("string"!=typeof v&&"skill"===v.type&&(void 0===v.system.skillName||""===v.system.skillName)){void 0===updateData["system.skills"]&&(updateData["system.skills"]=item.system.skills),updateData["system.skills"][k].name=v.name,"Uniki"===updateData["system.skills"][k].name&&(updateData["system.skills"][k].name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData["system.skills"][k].name,"string"==typeof v.system.specialization?.group?v.system.specialization.group:v.system.specialization);updateData["system.skills"][k].name=parts.name,updateData["system.skills"][k].system.skillName=parts.skillName,updateData["system.skills"][k].system.specialization=parts.specialization}}else{updateData.name=item.name,"Uniki"===updateData.name&&(updateData.name="Unik");const parts=CoC7Item.getNamePartsSpec(updateData.name,"string"==typeof item.system.specialization?.group?item.system.specialization.group:item.system.specialization);updateData.name=parts.name,updateData["system.skillName"]=parts.skillName,updateData["system.specialization"]=parts.specialization}}static _migrateItemEras(item,updateData){if(void 0!==item.system.eras){let eras={};for(const[key,value]of Object.entries(item.system.eras))if(!0===value||"string"!=typeof value&&void 0!==value.selected)switch(key){case"1920":eras.standard=!0;break;case"mdrn":eras.modern=!0,eras.modernPulp=!0;break;case"pulp":eras.pulp=!0;break;case"ddts":eras.downDarkerTrails=!0,eras.downDarkerTrailsPulp=!0;break;case"drka":eras.darkAges=!0,eras.darkAgesPulp=!0;break;case"glit":eras.gasLight=!0;break;case"nvct":eras.invictus=!0}if("setup"===item.type){const key=Object.keys(eras)[0];eras=key?{[key]:!0}:{standard:!0}}const CoC7={cocidFlag:{id:"",lang:game.i18n.lang,priority:0,eras}};void 0===item.flags?.CoC7?(item.flags.CoC7=CoC7,updateData["flags.CoC7"]=CoC7):void 0===item.flags?.CoC7?.cocidFlag?(item.flags.CoC7.cocidFlag=CoC7.cocidFlag,updateData["flags.CoC7.cocidFlag"]=CoC7.cocidFlag):(item.flags.CoC7.cocidFlag.eras=CoC7.cocidFlag.eras,updateData["flags.CoC7.cocidFlag.eras"]=CoC7.cocidFlag.eras),updateData["system.-=eras"]=null}}static _migrateActorArtwork(actor,updateData){let image=String(actor.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);if(null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),void 0!==actor.prototypeToken&&void 0!==actor.prototypeToken.texture?.src&&(image=String(actor.prototypeToken.texture.src).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(updateData["prototypeToken.texture.src"]="systems/CoC7/assets/icons/"+image[1])),void 0!==actor.effects)for(const[k,v]of Object.entries(actor.effects))image=String(v.icon).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData.effects&&(updateData.effects=actor.effects),updateData.effects[k].icon="systems/CoC7/assets/icons/"+image[1])}static _migrateActorKeeperNotes(actor,updateData){["character","npc","creature"].includes(actor.type)&&void 0!==actor.system&&void 0===actor.system.description&&(updateData["system.description"]={keeper:""})}static _migrateActorMonetary(actor,updateData){if("character"===actor.type&&void 0!==actor.system.credit?.multiplier){updateData["system.monetary.symbol"]=actor.system.credit?.monetarySymbol?actor.system.credit.monetarySymbol:"$",""===updateData["system.monetary.symbol"].toString().trim()&&(updateData["system.monetary.symbol"]="$");const multiplier=parseInt(actor.system.credit.multiplier)?parseInt(actor.system.credit.multiplier):1;if(updateData["system.monetary.spent"]=actor.system.credit.spent,updateData["system.monetary.assetsDetails"]=actor.system.credit.assetsDetails,updateData["system.monetary.spendingLevel"]=actor.system.credit.spendingLevel,updateData["system.monetary.cash"]=actor.system.credit.cash,updateData["system.monetary.assets"]=actor.system.credit.assets,updateData["system.monetary.values"]=duplicate(actor.system.monetary.values),1!==multiplier)for(const value of updateData["system.monetary.values"])value.cashValue=multiplier*value.cashValue,value.assetsValue=multiplier*value.assetsValue,value.spendingValue=multiplier*value.spendingValue;updateData["system.-=credit"]=null}}static _migrateActorSanLossReasons(actor,updateData){if("character"===actor.type&&void 0!==actor.system?.encounteredCreatures){const groups={};for(const sanityLossEvent of actor.system.encounteredCreatures)sanityLossEvent.totalLoss>0&&(groups[sanityLossEvent.name]=Math.max(groups[sanityLossEvent.name]??0,sanityLossEvent.totalLoss));const sanityLossEvents=[];for(const name in groups)sanityLossEvents.push({type:name,totalLoss:groups[name],immunity:!1});updateData["system.sanityLossEvents"]=sanityLossEvents,updateData["system.-=encounteredCreatures"]=null}}static _migrateActorStatusEffectActive(actor,updateData){if(["character","npc","creature"].includes(actor.type)&&void 0!==actor.system&&(void 0!==actor.system.status||void 0===actor.system.conditions)){if(updateData["system.conditions.criticalWounds.value"]=!1,updateData["system.conditions.unconscious.value"]=!1,updateData["system.conditions.dying.value"]=!1,updateData["system.conditions.dead.value"]=!1,updateData["system.conditions.prone.value"]=!1,updateData["system.conditions.tempoInsane.value"]=!1,updateData["system.conditions.indefInsane.value"]=!1,void 0!==actor.system.status?.criticalWounds?.value&&actor.system.status?.criticalWounds.value&&(updateData["system.conditions.criticalWounds.value"]=!0),void 0!==actor.system.status?.unconscious?.value&&actor.system.status?.unconscious.value&&(updateData["system.conditions.unconscious.value"]=!0),void 0!==actor.system.status?.dying?.value&&actor.system.status?.dying.value&&(updateData["system.conditions.dying.value"]=!0),void 0!==actor.system.status?.dead?.value&&actor.system.status?.dead.value&&(updateData["system.conditions.dead.value"]=!0),void 0!==actor.system.status?.prone?.value&&actor.system.status?.prone.value&&(updateData["system.conditions.prone.value"]=!0),void 0!==actor.system.status?.tempoInsane?.value&&actor.system.status?.tempoInsane.value&&(updateData["system.conditions.tempoInsane.value"]=!0),void 0!==actor.system.status?.indefInsane?.value&&actor.system.status?.indefInsane.value&&(updateData["system.conditions.indefInsane.value"]=!0),void 0!==actor.effects){const effects=actor.effects;let changed=!1;for(let i=0,im=effects.length;i<im;i++){const effect=effects[i],match=effect.icon.match(/\/(hanging-spider|tentacles-skull|arm-sling|heart-beats|tombstone|knocked-out-stars|falling|skull|unconscious)\./);if(null!==match){let statusId="";switch(match[1]){case"hanging-spider":statusId="tempoInsane";break;case"tentacles-skull":statusId="indefInsane";break;case"arm-sling":statusId="criticalWounds";break;case"heart-beats":statusId="dying";break;case"tombstone":case"skull":statusId="dead";break;case"knocked-out-stars":case"unconscious":statusId="unconscious";break;case"falling":statusId="prone"}""!==statusId&&(updateData[`system.conditions.${statusId}.value`]||(updateData[`system.conditions.${statusId}.value`]=!0,changed=!0),effect.flags.core?.statusId!==statusId&&(effects[i]=mergeObject(effect,{flags:{core:{statusId}}}),changed=!0))}}changed&&(updateData.effects=effects)}updateData["system.-=status"]=null}return updateData}static _migrateActorNpcCreature(actor,updateData){return["npc"].includes(actor.type)&&void 0!==actor.system&&(void 0===actor.system.special&&(updateData["system.special"]={checkPassed:null,checkFailled:null}),void 0===actor.system.attacksPerRound&&(updateData["system.attacksPerRound"]=1)),updateData}static _migrateActorCharacterSanity(actor,updateData){if("character"===actor.type&&void 0!==actor.system?.attribs?.san){const oneFifthSanity=Math.ceil(actor.system.attribs.san.value/5);void 0!==actor.system.attribs.san.dailyLoss&&null!==actor.system.attribs.san.dailyLoss||(updateData["system.attribs.san.dailyLoss"]=0),void 0!==actor.system.attribs.san.oneFifthSanity&&null!==actor.system.attribs.san.oneFifthSanity||(updateData["system.attribs.san.oneFifthSanity"]=" / "+oneFifthSanity),void 0!==actor.system.attribs.san.dailyLoss&&null!==actor.system.attribs.san.dailyLoss||(updateData["system.attribs.san.dailyLoss"]=0),void 0!==actor.system.indefiniteInsanityLevel&&null!==actor.system.indefiniteInsanityLevel&&void 0!==actor.system.indefiniteInsanityLevel.value&&null!==actor.system.indefiniteInsanityLevel.value||(updateData["system.indefiniteInsanityLevel.value"]=0),void 0!==actor.system.indefiniteInsanityLevel&&null!==actor.system.indefiniteInsanityLevel&&void 0!==actor.system.indefiniteInsanityLevel.max&&null!==actor.system.indefiniteInsanityLevel.max||(updateData["system.indefiniteInsanityLevel.max"]=oneFifthSanity),void 0!==actor.system.attribs.mp&&(void 0!==actor.system.attribs.mp.value&&null!==actor.system.attribs.mp.value||(updateData["system.attribs.mp.value"]=oneFifthSanity),void 0!==actor.system.attribs.mp.max&&null!==actor.system.attribs.mp.max||(updateData["system.attribs.mp.max"]=oneFifthSanity)),void 0!==actor.system.notes&&null!==actor.system.notes||(updateData["system.notes"]="")}return updateData}static _migrateMacroArtwork(table,updateData){const image=String(table.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);return null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),updateData}static _migrateTableArtwork(table,updateData){let image=String(table.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]);for(const[k,v]of Object.entries(table.results))image=String(v.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/),null!==image&&(void 0===updateData.results&&(updateData.results=table.results),updateData.results[k].img="systems/CoC7/assets/icons/"+image[1]);return updateData}static _migrateTokenArtwork(token,updateData){const image=String(token.img).match(/systems\/CoC7\/artwork\/icons\/(.+)/);return null!==image&&(updateData.img="systems/CoC7/assets/icons/"+image[1]),updateData}}const nameCharacters="\\u3000\\u3400-\\u4DBF\\u4E00-\\u9FFF\\w\\(\\)\\-\\/&\"'"+CoC7Utilities.quoteRegExp("aeio"),keys={en:{description:"CoC7.English",dbNone:"none",armorNone:"none",attacksPerRoundNone:"none",sanLossNone:"none",fulldb:"(Damage Bonus|DB)",halfdb:"(|half)",sectionCombats:"\n(?:combat|fighting attacks)[:\n]",newCombatHeader:"\nCombat\n",sectionSkills:"\n(?:skills(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:languages)[:\n]",sectionSpells:"\n(?:spells)[:\n]",handgun:"(?<type> Gun|Revolver|Pistol|Handgun|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Rifle|Shotgun|Carbine|Gauge |Lee-Enfield|Elephant)",smb:"(?<type>Submachine Gun|Thompson)",machineGun:"(?<type>Browning|Vickers)",launched:"(?<type>Molotov|Grenade|Dynamite)",example:"Example Character, age 27\nSTR 75 CON 60 SIZ 80 DEX 70 APP 60 INT 80\nPOW 50 EDU 85 SAN 55 HP 14 DB: 1D4\nBuild: 1 Move: 7 MP: 10 Luck: 40 Armor: 1\nAttacks per round: 3 SAN loss: 1d4/1d8\nCombat\nBite 50% (25/10), damage 1D6\nBrawl 30% (15/6), damage 1D3\nDerringer 40% (20/8), damage 1D8+1\nDodge 50% (25/10)\nSkills\nAnimal Handling 55%, Charm 30%, First Aid 25%, Disguise 20%,\nListen 50%, Medicine 45%, Persuade 25%, Psychology 75%,\nScience (Astronomy) 90%, Science (Botany) 35%, Science (Zoology) 10%,\nSpot Hidden 35%, Stealth 10%\nLanguages: English 80%, Eklo 5%.\nSpells: Summon NPC, Dispel NPC."},de:{description:"CoC7.German",dbNone:"none",armorNone:"none",attacksPerRoundNone:"none",sanLossNone:"none",diceShort:"w|d",fulldb:"(Schadensbonus|Sb)",halfdb:"(|1/2 Schadensbonus|Sb/2)",sectionCombats:"\n(?:Kampf|Angriff:|ANGRIFFE)[:\n]",newCombatHeader:"\nKampf\n",sectionSkills:"\n(?:Fertigkeiten(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Sprachen)[:\n]",sectionSpells:"\n(?:Zauber)[:\n]",handgun:"(?<type> Gun|Revolver|Pistole|Handgun|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Gewehr|Schrotflinte|Carabiner|Karabiner|Gauge |Lee-Enfield|Elefanten)",smb:"(?<type>Submachine Gun|Thompson)",machineGun:"(?<type>Browning|Vickers)",launched:"(?<type>Molotov|Granate|Dynamit)",example:"Vorname Nachname\nAlter: 29\nBeruf: Ein Beruf\nST 50\nMA 60\nKO 60\nGE 60\nGR 55\nER 65\nIN 80\nBI 85\nTrefferpunkte: 11\nGeistige Stabilitt: 60\nSchadensbonus: 0\nStatur: 0\nMagiepunkte: 12\nBewegungsweite: 8\n\nKampf\nAngriffe: 1\nHandgemenge 30% (15/6), Schaden 1D3\nMesser 30% (15/6), Schaden 1D4\nAusweichen 30% (15/6)\n\nFertigkeiten: Anthropologie 70% (35/14), Archologie 30% (15/6), Bibliotheksnutzung 50% (25/10), Erste Hilfe 50% (25/10), Finanzkraft 40% (20/8), Geschichte 60% (30/12), Klettern 50% (25/10)\n\nSprachen: Englisch 85% (42/17); Deutsch 45% (22/9), Latein 45% (22/9)"},pl:{description:"CoC7.Polish",dbNone:"brak",armorNone:"brak",attacksPerRoundNone:"brak",sanLossNone:"brak",diceShort:"k|d",fulldb:"(Modyfikator Obrae|MO)",halfdb:"(|1/2 MO|MO/2)",sectionCombats:"\n(?:Walka|Ataki)[:\n]",newCombatHeader:"\nWalka\n",sectionSkills:"\n(?:Umiejtnoci(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Jzyki)[:\n]",sectionSpells:"\n(?:Zaklcia)[:\n]",handgun:"(?<type> Pistolet|Rewolwer|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Karabin|Strzelba|Wiatrwka|Garand|Gauge |Lee-Enfield|Strzelba na sonie)",smb:"(?<type>Pistolet maszynowy|Thompson)",machineGun:"(?<type>Browning|Vickers)",launched:"(?<type>Mootowa|Granat|Laska dynamitu|Dynamit)",example:"Przykadowa posta, 27 lat\nBibliotekarz\nS 75 KON 60 BC 80 ZR 70 WYG 60 INT 80\nMOC 50 WYK 85 P 55 PW 14 MO: 1D4\nKrzepa: 1 Ruch: 7 PM: 10 Szczcie: 40 Pancerz: 1\nAtaki w rundzie: 3 Utrata Poczytalnoci: 1K4/1K8\nWalka\nUgryzienie 50% (25/10), obraenia 1K6\nWalka 30% (15/6), obraenia 1K3\nDerringer 40% (20/8), obraenia 1K8+1\nUnik 50% (25/10)\nUmiejtnoci\nTresura Zwierzt 55%, Urok Osobisty 30%, Pierwsza Pomoc 25%, Ukrywanie 20%,\nNasuchiwanie 50%, Medycyna 45%, Przekonywanie 25%, Psychologia 75%,\nNauka (Astronomia) 90%, Nauka (Botanika) 35%, Nauka (Zoologia) 10%,\nSpostrzegawczo 35%, Ukrywanie 10%\nJzyki: Angielski 80%, Eklo 5%.\nZaklcia: Przyzwanie NPC, Odesanie NPC."},fr:{description:"CoC7.French",dbNone:"Acune",armorNone:"(?:Acune|aucune)",attacksPerRoundNone:"Acune",sanLossNone:"Acune",fulldb:"(BD|Bonus aux dommages|Impact|Imp)",halfdb:"(|1/2 Imp|Imp/2)",sectionCombats:"\n(?:Combat|Armes|Attaques)[:\n]",newCombatHeader:"\nCombat\n",sectionSkills:"\n(?:Comptences(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Langues?)\\s*[:\n]",sectionSpells:"\n(?:Sortilges\\s*|Sorts)[:\n]",handgun:"(?<type>Revolver|Pistolet|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Carabine|Lee-Enfield|Fusil)",smb:"(?<type>SMG|Thompson)",machineGun:"(?<type>Browning|Vickers|Mitrailleuse)",launched:"(?<type>Boomerang de guerre|Javeline|Pierre|Shuriken|Bton de dynamite|Cocktail Molotov|Grenade  main|Molotov|Grenade|Dynamite)",example:"Example Character, 27 ans\nFOR 75 CON 60 TAI 80 DEX 70 APP 60 INT 80\nPOU 50 DU 85 SAN 55 PV 14 BD: 1D4\nCarrure: 1 Mvt: 7 PM: 10 Chance: 40 Armure: 1\nAttaques par round 3 Perte de SAN: 1d4/1d8\nAttaques\nBite 50% (25/10), dommage 1D6\nBrawl 30% (15/6), dommage 1D3\nDerringer 40% (20/8), dommage 1D8+1\nEsquiver 50% (25/10)\nComptences\nAnimal Handling 55%, Charm 30%, First Aid 25%, Disguise 20%,\nListen 50%, Medicine 45%, Persuade 25%, Psychology 75%,\nScience (Astronomy) 90%, Science (Botany) 35%, Science (Zoology) 10%,\nSpot Hidden 35%, Stealth 10%\nLangue: English 80%, Eklo 5%.\nSortilges: Summon NPC, Dispel NPC."},es:{description:"CoC7.Spanish",dbNone:"ninguna",armorNone:"ninguna",attacksPerRoundNone:"ninguno",sanLossNone:"no",fulldb:"(BD|bd|bonificacin de dao)",halfdb:"(|medio dao|mitad|dao a la mitad)",sectionCombats:"\n(?:Combate|Armas)[:\n]",newCombatHeader:"\nCombate\n",sectionSkills:"\n(?:Habilidades(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Idiomas|Lenguajes|Lenguas)[:\n]",sectionSpells:"\n(?:Conjuros|Hechizos)[:\n]",handgun:"(?<type>Revolver|Pistola|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>Rifle|Carabina|Lee-Enfield|Caza Elefantes|Fusil|Escopeta|Galga|Recortada)",smb:"(?<type>Subfusil|Thompson)",machineGun:"(?<type>Browning|Vickers|Ametralladora)",launched:"(?<type>Molotov|Granada|Dinamita)",example:"Example Character, 27 aos\nFUE 75 CON 60 TAM 80 DES 70 APA 60 INT 80\nPOD 50 EDU 85 COR 55 PV 14 BD: 1D4\nCorpulencia: 1 Movimiento: 7 PM: 10 Suerte: 40 Armadura: 1\nNmero de Ataques 3 Prdida de cordura: 1d4/1d8\nCombate\nBite 50% (25/10), dao 1D6\nBrawl 30% (15/6), dao 1D3\nDerringer 40% (20/8), dao 1D8+1\nEsquivar 50% (25/10)\nHabilidades\nAnimal Handling 55%, Charm 30%, First Aid 25%, Disguise 20%,\nListen 50%, Medicine 45%, Persuade 25%, Psychology 75%,\nScience (Astronomy) 90%, Science (Botany) 35%, Science (Zoology) 10%,\nSpot Hidden 35%, Stealth 10%\nIdiomas: English 80%, Eklo 5%.\nConjuros: Summon NPC, Dispel NPC."},"zh-TW":{description:"CoC7.TraditionalChinese",dbNone:"none",armorNone:"none",attacksPerRoundNone:"none",sanLossNone:"none",fulldb:"(Damage Bonus|DB|)",halfdb:"(|half)",sectionCombats:"\n(?:combat|fighting attacks|||)[:\n]",newCombatHeader:"\nCombat\n",sectionSkills:"\n(?:(?:Skills|)(?:\\s*\\([^\\)]+\\))?)[:\n]",sectionLangauges:"\n(?:Languages|)[:\n]",sectionSpells:"\n(?:spells||)[:\n]",handgun:"(?<type> |\\.22|\\.25()|\\.327\\.65mm|\\.327\\.65mm|\\.357 Magnum|\\.389mm|\\.38|M9|17|9mm|P08|\\.41|\\.44|\\.45|\\.45||Gun|Revolver|Pistol|Handgun|Derringer|Beretta|Luger|Desert Eagle| \\.38)",rifle:"(?<type>||||Rifle|Shotgun|Carbine|Gauge |Lee-Enfield|Elephant)",smb:"(?<type>Submachine Gun|Thompson|)",machineGun:"(?<type>Browning|Vickers|)",launched:"(?<type>Molotov|Grenade|Dynamite||)",example:",  27\n 75  60  80  70  60  80\n 50  85 SAN 55 HP 14 DB: 1D4\n: 1 Move: 7 MP: 10 : 40 : 1\n: 3 : 1d4/1d8\n\n 50% (25/10),  1D6\n 30% (15/6),  1D3\n 40% (20/8),  1D8+1\n 50% (25/10)\n\n 55%,  30%,  25%,  20%,\n 50%,  45%,  25%,  75%,\n () 90%,  () 35%, \n 35%,  10%\n:  80%,  5%.\n:  NPC,  NPC."}},translations={en:{age:"(?<![a-z])age(\\s*:)?\\s+(?<age>\\d+)[,\\s]*",occupation:"[,\\s]*Occupation(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])STR(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])SIZ(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POW(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DEX(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APP(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])EDU(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:SAN|Sanity)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:HP|Hit points)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:MP|Magic points)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.en.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys.en.dbNone+")[,\\s\n]*",build:"(?<![a-z])Build(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Armor(\\s*:)?\\s+(?<armor>"+keys.en.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Move(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Luck(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Attacks per round|# Attacks)(\\s*:)?\\s+(?<attacksPerRound>"+keys.en.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Sanity loss|SAN loss)(\\s*:)?\\s+(?<sanLoss>"+keys.en.sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*damage)?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.en.fulldb+"|"+keys.en.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Dodge)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Fighting|Firearms|Brawl|Bite)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.en.sectionCombats+"|"+keys.en.sectionSkills+"|"+keys.en.sectionLangauges+"|"+keys.en.sectionSpells+")"},de:{age:"(?<![a-z])Alter(\\s*:)?\\s+(?<age>\\d+)[,\\s]*",occupation:"[,\\s]*Beruf(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])ST(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])KO(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])GR(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])IN(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])MA(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])GE(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])ER(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])BI(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:gS|STA|Geistige Stabilitt)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:TP|Trefferpunkte)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:MP|Magiepunkte)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.de.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D|W\\d+)?|"+keys.de.dbNone+")[,\\s\n]*",build:"(?<![a-z])(?:Statur|Stat.)(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Panzerung(\\s*:)?\\s+(?<armor>"+keys.de.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])(?:BW|Bewegungsweite)(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Glck(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Angriffe pro Runde|Angriffe|Pro Runde)(\\s*:)?\\s+(?<attacksPerRound>"+keys.de.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Stabilittsverlust)(\\s*:)?\\s+(?<sanLoss>"+keys.de.sanLossNone+"|\\d[DW]?[+\\d]*\\/\\d[DW]?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*Schaden)?\\s+(?<damage>(:?(:?\\d+w|d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.de.fulldb+"|"+keys.de.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d|w)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Ausweichen)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,;]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Angriffe|Handgemenge|Nahkampf|Faustfeuerwaffe|Beien)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.de.sectionCombats+"|"+keys.de.sectionSkills+"|"+keys.de.sectionLangauges+"|"+keys.de.sectionSpells+")"},pl:{age:"(?<age>\\d+)\\s+(?:lata|lat|rok)[,\\s]*",occupation:"[,\\s]*Zawd(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])S(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])KON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])BC(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])MOC(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])ZR(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])WYG(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])WYK(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:P|Poczytalno)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:PW|Punkty Wytrzymaoci)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:PM|Punkty Magii)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.pl.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D|K\\d+)?|"+keys.pl.dbNone+")[,\\s\n]*",build:"(?<![a-z])Krzepa(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Pancerz(\\s*:)?\\s+(?<armor>"+keys.pl.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Ruch(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Szczcie(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Ataki w rundzie|# Ataki)(\\s*:)?\\s+(?<attacksPerRound>"+keys.pl.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Utrata Poczytalnoci|utrata P)(\\s*:)?\\s+(?<sanLoss>"+keys.pl.sanLossNone+"|\\d[DK]?[+\\d]*\\/\\d[DK]?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*obraenia)?\\s+(?<damage>(:?(:?\\d+k|d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.pl.fulldb+"|"+keys.pl.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Unik)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Walka|Bro Palna|Bijatyka|Ugryzienie)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.pl.sectionCombats+"|"+keys.pl.sectionSkills+"|"+keys.pl.sectionLangauges+"|"+keys.pl.sectionSpells+")"},fr:{age:"(?<age>\\d+)\\s*ans(?![a-z])[,\\s]*",occupation:"[,\\s]*Occupation(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])FOR(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])TAI(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POU(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DEX(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APP(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])DU(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<!([a-z]|de\\s))(?:SAN|Sant Mentale)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:PV|Points de vie)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:PM|Points de magie)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.fr.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys.fr.dbNone+")[,\\s\n]*",build:"(?<![a-z])Carrure(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])(?:Armure|Protection)(\\s*:)?\\s+(?<armor>"+keys.fr.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])(?:Mvt|Mouvement|Dplacement)(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Chance(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Attaques par round)(\\s*:)?\\s+(?<attacksPerRound>"+keys.fr.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Perte de Sant mentale|Perte de SAN)(\\s*:)?\\s+(?<sanLoss>"+keys.fr.sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*(?:dommage|dgts))?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.fr.fulldb+"|"+keys.fr.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Esquiver?)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Au contact| distance|Combat rapproch|Bite)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.fr.sectionCombats+"|"+keys.fr.sectionSkills+"|"+keys.fr.sectionLangauges+"|"+keys.fr.sectionSpells+")"},es:{age:"(?<age>\\d+)\\s*a[]os(?![a-z])[,\\s]*",occupation:"[,\\s]*Ocupacin(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])FUE(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])TAM(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POD(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DES(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APA(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])EDU(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:COR|Cordura)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:PV|Puntos de vida|P\\. ?V\\.)(\\s*:)?\\s+(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:PM|Puntos Mgicos|Puntos de Magia)(\\s*:)?\\s+(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys.es.fulldb+")(\\s*:)?\\s+(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys.es.dbNone+")[,\\s\n]*",build:"(?<![a-z])Corpulencia(\\s*:)?\\s+(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Armadura(\\s*:)?\\s+(?<armor>"+keys.es.armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Movimiento(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Suerte(\\s*:)?\\s+(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Nmero de Ataques)(\\s*:)?\\s+(?<attacksPerRound>"+keys.es.attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Prdida de cordura|Prdida de COR)(\\s*:)?\\s+(?<sanLoss>"+keys.es.sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*dao)?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys.es.fulldb+"|"+keys.es.halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Esquivar)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(Combatir|Armas de fuego|Brawl|Bite)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys.es.sectionCombats+"|"+keys.es.sectionSkills+"|"+keys.es.sectionLangauges+"|"+keys.es.sectionSpells+")"},"zh-TW":{age:"(?<![a-z])age|(\\s*:)?\\s*(?<age>\\d+)[,\\s]*",occupation:"[,\\s]*Occupation(\\s*:)?\\s+(?<occupation>.+)[,\\s\n]*",str:"(?<![a-z])STR|(\\s*:)?\\s*(?<str>\\d+|-)[,\\s\n]*",con:"(?<![a-z])CON|(\\s*:)?\\s*(?<con>\\d+|-)[,\\s\n]*",siz:"(?<![a-z])SIZ|(\\s*:)?\\s*(?<siz>\\d+|-)[,\\s\n]*",int:"(?<![a-z])INT|(\\s*:)?\\s*(?<int>\\d+|-)[,\\s\n]*",pow:"(?<![a-z])POW|(\\s*:)?\\s*(?<pow>\\d+|-)[,\\s\n]*",dex:"(?<![a-z])DEX|(\\s*:)?\\s*(?<dex>\\d+|-)[,\\s\n]*",app:"(?<![a-z])APP|(\\s*:)?\\s*(?<app>\\d+|-)[,\\s\n]*",edu:"(?<![a-z])EDU|(\\s*:)?\\s*(?<edu>\\d+|-)[,\\s\n]*",san:"(?<![a-z])(?:SAN|Sanity|)(\\s*:)?\\s*(?<san>\\d+|-)[,\\s\n]*",hp:"(?<![a-z])(?:HP|Hit points|)(\\s*:)?\\s*(?<hp>\\d+|-)[,\\s\n]*",mp:"(?<![a-z])(?:MP|Magic points)(\\s*:)?\\s*(?<mp>\\d+|-)[,\\s\n]*",db:"(?<![a-z])(?:"+keys["zh-TW"].fulldb+")(\\s*:)?\\s*(?<db>[+-]?\\d+(?:d\\d+|D\\d+)?|"+keys["zh-TW"].dbNone+")[,\\s\n]*",build:"(?<![a-z])Build|(\\s*:)?\\s*(?<build>[+-]?\\d+)[,\\s\n]*",armor:"(?<![a-z])Armor|(\\s*:)?\\s*(?<armor>"+keys["zh-TW"].armorNone+"|\\d+)[,\\s\n]*",mov:"(?<![a-z])Move(\\s*:)?\\s*(?<mov>\\d+)[,\\s\n]*",lck:"(?<![a-z])Luck|(\\s*:)?\\s*(?<lck>\\d+|-)[,\\s\n]*",attacksPerRound:"(?<![a-z])(?:Attacks per round|# Attacks||# )(\\s*:)?\\s*(?<attacksPerRound>"+keys["zh-TW"].attacksPerRoundNone+"|\\d+(?!d))[,\\s\n]*",sanLoss:"(?<![a-z])(?:Sanity loss|SAN loss||SAN|SAN|SAN)(\\s*:)?\\s*(?<sanLoss>"+keys["zh-TW"].sanLossNone+"|\\dD?[+\\d]*\\/\\dD?[+\\d]*)[,\\s\n]*",weapon:"(^|\\n)(?<name>[.\\t "+nameCharacters+"]+)(\\**,?\\s+|\\*)(?:\\(|(?<percentage>\\d+)%,?(?:\\s*\\(\\d+\\/\\d+\\)\\s*,?)?)?(\\s*(?:damage|))?\\s+(?<damage>(:?(:?\\d+d)?\\d+(\\s*/\\s*|\\s*[+-]\\s*(?:"+keys["zh-TW"].fulldb+"|"+keys["zh-TW"].halfdb+")\\s*|\\s*[+-]\\s*(:?\\d+d)?\\d+)*)+)\\)?",weaponDodge:"(?<name>Dodge||)(\\s*:)?\\s+\\(?(?<percentage>\\d+)\\)?\\s*%?(?:\\s*\\(\\d+\\/\\d+\\))?",skill:"^(?<name>[:\\*.\\s"+nameCharacters+"]+(?<!The player has|but they regenerate))\\s+\\(?(?<percentage>\\d+)[^d]%?\\)?(\\s*\\(\\d+/\\d+\\))?[\\.,]?\\s*",guessStartCombat:"(^|(?<!,)\n)(||Brawl|Bite)",name:"^(?<name>[\\.\\s"+nameCharacters+"]+)[,\\s\n]+",sections:"("+keys["zh-TW"].sectionCombats+"|"+keys["zh-TW"].sectionSkills+"|"+keys["zh-TW"].sectionLangauges+"|"+keys["zh-TW"].sectionSpells+")"}};class CoC7ActorImporterRegExp{static checkLanguage(lang=null){return lang||(lang=game.i18n.lang),void 0===translations[lang]&&(lang="en"),lang}static getExampleText(lang){let example=keys.en.example;return void 0!==keys[lang]&&(example=keys[lang].example),example}static getTranslations(){const output={};for(const key in keys)output[key]=keys[key].description;return output}static getKeys(lang){return keys[lang]||keys.en}static getRegularExpressions(lang){return translations[lang]||translations.en}}class CoC7ActorImporter{constructor(){this.parsed={},this.itemLocations=""}static get asNumber(){return"n"}static get asString(){return"s"}getRegEx(regex,modifiers="iu"){return"RegExp"===regex.constructor?.name?regex:new RegExp(regex,modifiers)}cleanString(s){return s.replace(/(\n|\r)/g," ").replace(/^\s*/,"").replace(/\s*\.?\s*\.?$/,"")}translateRoll(s){if(void 0===s)return s;if(void 0!==this.keys.diceShort){const regEx=new RegExp("(?<n1>\\d+)"+this.keys.diceShort+"(?<n2>\\d+)","iug");return s.replace(regEx,"$<n1>D$<n2>")}return s}toHTML(s){return 0===s.trim().length||0===(s=s.trim().split("\n").map((text=>text.trim().replace(/^[,.\s]+$/,""))).filter((text=>text)).join("</p><p>")).length?"":"<p>"+s+"</p>"}check(regExKey,{removeFromText=!0,saveKeys=!0,type=CoC7ActorImporter.asString,text=!1,requiredGroup=!1}={}){let output=!1,regExp=!1;if(void 0!==this.regEx[regExKey]?regExp=this.getRegEx(this.regEx[regExKey]):void 0!==this.keys[regExKey]&&(regExp=this.getRegEx(this.keys[regExKey])),!1!==regExp){!1===text&&(text=this.text);const check=regExp.exec(text);let value=null;if(null!==check&&(!1===requiredGroup||void 0!==(check.groups||{})[requiredGroup])){if(output=check.groups||{},removeFromText&&(this.text=this.text.replace(check[0].trim(),"\n").trim()),saveKeys)for(const key of Object.keys(check.groups))switch(type){case CoC7ActorImporter.asString:this.parsed[key]=String(check.groups[key]).replace("\n"," ");break;case CoC7ActorImporter.asNumber:value=Number(check.groups[key]),isNaN(value)||(this.parsed[key]=Number(check.groups[key]))}output["-source"]=check[0],output["-index"]=check.index}}return output}processCombat(text){if(0===text.trim().length)return;let weapon,dodge,newline;CONFIG.debug.CoC7Importer&&console.log("combat text",text);let lastPercent=!1,maxLoops=40;do{if(maxLoops--,text=text.trim(),dodge=this.check("weaponDodge",{saveKeys:!1,text}))text=text.replace(dodge["-source"],"\n"),void 0===this.parsed.skills&&(this.parsed.skills=[]),this.parsed.skills.push({name:this.cleanString(dodge.name),value:Number(dodge.percentage),push:!1});else if(weapon=this.check("weapon",{saveKeys:!1,text,requiredGroup:!1===lastPercent&&"percentage"})){text=text.replace(weapon["-source"],"\n");const name=this.cleanString(weapon.name||"");let damage=this.translateRoll(this.cleanString(weapon.damage||""));const isRanged=!!(this.check("handgun",{text:name,removeFromText:!1,saveKeys:!1})||this.check("rifle",{text:name,removeFromText:!1,saveKeys:!1})||this.check("smb",{text:name,removeFromText:!1,saveKeys:!1})||this.check("machineGun",{text:name,removeFromText:!1,saveKeys:!1})||this.check("launched",{text:name,removeFromText:!1,saveKeys:!1}));let found;lastPercent=null===weapon.percentage||void 0===weapon.percentage||Number(weapon.percentage);let ahdb=!1,addb=!1;do{found=this.getRegEx("\\s*[+-]?\\s*("+this.keys.halfdb+")\\s*("+this.keys.fulldb+")?[-+]?\\s*("+this.parsed.db.replace(/^[-+]/,"")+")?").exec(damage),found?(ahdb=!0,damage=damage.replace(found[0],"")):(found=this.getRegEx("\\s*[+-]?\\s*("+this.keys.fulldb+")\\s*[-+]?\\s*("+this.parsed.db.replace(/^[-+]/,"")+")?").exec(damage),found&&(addb=!0,damage=damage.replace(found[0],"")))}while(found);const damages=damage.split("/"),isShotgun=3===damages.length,data={name,type:"weapon",system:{skill:{id:lastPercent},properties:{},range:{normal:{value:isShotgun?10:0,damage:damages[0]},long:{value:isShotgun?20:0,damage:isShotgun?damages[1]:""},extreme:{value:isShotgun?50:0,damage:isShotgun?damages[2]:""}}}};data.system.properties.shotgun=isShotgun,data.system.properties.rngd=isRanged||isShotgun,data.system.properties.melee=!data.system.properties.rngd,data.system.properties.ahdb=ahdb,data.system.properties.addb=addb,void 0===this.parsed.attacks&&(this.parsed.attacks=[]),this.parsed.attacks.push(data)}else(newline=text.match(/^(.+)\n/))?text=text.replace(newline[0],"\n"):(newline=text.match(/^[^\n]+$/))&&(text="")}while(maxLoops>0&&(weapon||dodge||text));0===maxLoops&&(ui.notifications.warn(game.i18n.localize("CoC7.ErrorUnexpectedWeaponText")),console.debug("Unexpected weapons:",text))}processSkills(text,key="skills"){if(0===text.trim().length)return;const breaks=text.split(/\.\r?\n/);let skill;breaks.length>1&&(text=breaks[0]);let maxLoops=40;do{maxLoops--,text=text.trim(),skill=this.check("skill",{saveKeys:!1,text}),skill&&(text=text.replace(skill["-source"],"\n"),void 0===this.parsed[key]&&(this.parsed[key]=[]),this.parsed[key].push({name:this.cleanString(skill.name),value:Number(skill.percentage)}))}while(maxLoops>0&&skill);0===maxLoops&&(ui.notifications.warn(game.i18n.localize("CoC7.ErrorUnexpectedSkillsText")),console.debug("Unexpected skills:",text))}processSpells(text){if(0===text.trim().length)return;const breaks=text.split(/\.\r?\n/);breaks.length>1&&(text=breaks[0]);const spellsArr=text.replace(/([\n\r]+)/g," ").split(/(?<!\([^)]+),/);this.text=this.text.replace(text.trim(),"\n");for(const spell of spellsArr)void 0===this.parsed.spells&&(this.parsed.spells=[]),this.parsed.spells.push(this.cleanString(spell))}async parseCharacter(text){this.text=String(text).trim().replace(/\u2013|\u2014|\u2212/g,"-").replace(/\u2019/g,"'").replace(/[\udbc0-\udbfe][\udc00-\udfff]/g,"");let header,min=this.text.length,check=this.check("str",{type:CoC7ActorImporter.asNumber})["-index"];if(isNaN(check)||(min=Math.min(min,check)),check=this.check("con",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("siz",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("int",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("pow",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("dex",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("app",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("edu",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("san",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("hp",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),check=this.check("mp",{type:CoC7ActorImporter.asNumber})["-index"],isNaN(check)||(min=Math.min(min,check)),min>0){if(header=this.text.substr(0,min),check=this.check("name",{text:header}),!1===check?this.parsed.name=game.i18n.localize("CoC7.ImportedUnnamedCharacter"):header=header.replace(check["-source"],"\n"),check=this.check("age",{text:header}),!1!==check&&(header=header.replace(check["-source"],"\n")),!this.check("occupation",{text:header})&&""!==header.trim()){let occupation=header;header.indexOf(".")>-1&&(occupation=header.substr(0,header.indexOf(".")+1)),this.parsed.occupation=occupation.replace(/([\n\r]+)/g," ").trim().replace(/,$/,""),this.text=this.text.replace(occupation.trim(),"\n")}}else this.parsed.name=game.i18n.localize("CoC7.ImportedUnnamedCharacter");if(void 0!==this.parsed.occupation&&void 0===this.parsed.age){const occupationAge=this.parsed.occupation.match(/^(?<age>\d+),(?<occupation>.+)$/);occupationAge&&(this.parsed.age=occupationAge.groups.age,this.parsed.occupation=occupationAge.groups.occupation.trim())}this.check("db")&&!this.check("dbNone",{removeFromText:!1,saveKeys:!1,text:this.parsed.db})||(this.parsed.db="0"),this.parsed.db=this.translateRoll(this.parsed.db),this.check("build"),this.check("armor")&&!this.check("armorNone",{removeFromText:!1,saveKeys:!1,text:this.parsed.armor})||(this.parsed.armor="0"),this.check("mov",{type:CoC7ActorImporter.asNumber}),this.check("lck",{type:CoC7ActorImporter.asNumber}),this.check("sanLoss"),this.parsed.sanLoss=this.translateRoll(this.parsed.sanLoss),this.check("attacksPerRound")&&this.check("attacksPerRoundNone",{removeFromText:!1,saveKeys:!1,text:this.parsed.attacksPerRound})&&(this.parsed.attacksPerRound="0"),this.text="\n"+this.text;let sections=this.getRegEx("("+this.keys.sectionCombats+")","i");null===this.text.match(sections)&&(sections=this.check("guessStartCombat",{saveKeys:!1,removeFromText:!1}),sections&&(this.text=[this.text.slice(0,sections["-index"]),this.keys.newCombatHeader,this.text.slice(sections["-index"])].join("")));const regExpSections=this.getRegEx(this.regEx.sections,"i");if(sections=this.text.split(regExpSections),null!==sections)for(let i=0,im=sections.length;i<im;i++)null!==sections[i].match(this.getRegEx("("+this.keys.sectionCombats+")","i"))&&void 0!==sections[i+1]?(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processCombat(sections[i+1]),i++):null!==sections[i].match(this.getRegEx("("+this.keys.sectionSkills+")","i"))&&void 0!==sections[i+1]?(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processSkills(sections[i+1]),i++):null!==sections[i].match(this.getRegEx("("+this.keys.sectionLangauges+")","i"))&&void 0!==sections[i+1]?(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processSkills(sections[i+1],"languages"),i++):null!==sections[i].match(this.getRegEx("("+this.keys.sectionSpells+")","i"))&&void 0!==sections[i+1]&&(this.text=("\n"+this.text+"\n").replace(sections[i],"\n").trim(),this.processSpells(sections[i+1]),i++);return this.parsed.gmnotes=this.toHTML(this.text),this.parsed}disableAttribAuto(key,attribValue,check,updateData){const value=Math.max(0,Number(attribValue));return value!==Number(check)&&(updateData[`system.attribs.${key}.auto`]=!1,updateData[`system.attribs.${key}.value`]=value,"build"===key?updateData[`system.attribs.${key}.current`]=value:updateData[`system.attribs.${key}.max`]=value),updateData}async createEntity(characterData,entityType){const importedCharactersFolder=await CoC7Utilities.createImportCharactersFolderIfNotExists();"npc"!==entityType&&(entityType="creature");const actorData={name:characterData.name,type:entityType,folder:importedCharactersFolder.id,data:characterData.actor},npc=await Actor.create(actorData);await npc.createEmbeddedDocuments("Item",characterData.items,{renderSheet:!1});const updateData={};let value=0;void 0!==characterData.actor.attribs.hp?.value&&this.disableAttribAuto("hp",characterData.actor.attribs.hp.value,npc.hpMax,updateData),void 0!==characterData.actor.attribs.mp?.value&&this.disableAttribAuto("mp",characterData.actor.attribs.mp.value,npc.mpMax,updateData),void 0!==characterData.actor.attribs.mov?.value&&this.disableAttribAuto("mov",characterData.actor.attribs.mov.value,npc.mov,updateData),void 0!==characterData.actor.attribs.build?.value&&this.disableAttribAuto("build",characterData.actor.attribs.build.value,npc.build,updateData),void 0!==characterData.actor.attribs.db?.value&&(value=String(characterData.actor.attribs.db.value).replace(/^\+\s*/,""),value!==String(npc.db)&&(updateData["system.attribs.db.auto"]=!1,updateData["system.attribs.db.value"]=value)),Object.keys(updateData).length>0&&(CONFIG.debug.CoC7Importer&&console.debug("updateData:",updateData),await npc.update(updateData));const updateItemData=[];let lastWeaponSkill=null;for(const pair of this.weaponSkills){!1!==pair[0]&&(lastWeaponSkill=npc.items.filter((i=>i.name===pair[0].name&&"skill"===i.type&&Number(i.system.value)===Number(pair[0].system.value))));const weapon=npc.items.filter((i=>i.name===pair[1].name&&"weapon"===i.type&&i.system.range.normal.damage===pair[1].system.range.normal.damage));lastWeaponSkill[0]&&weapon[0]&&updateItemData.push({_id:weapon[0].id,"system.skill.main.id":lastWeaponSkill[0].id,"system.skill.main.name":lastWeaponSkill[0].name})}return updateItemData.length>0&&(CONFIG.debug.CoC7Importer&&console.debug("updateItemData:",updateItemData),await npc.updateEmbeddedDocuments("Item",updateItemData)),npc}actorData(pc){const data={characteristics:{},attribs:{},infos:{},special:{},description:{keeper:""},flags:{locked:!1,displayFormula:!1}};for(const key of["str","con","siz","dex","app","int","pow","edu"])void 0!==pc[key]&&(data.characteristics[key]={value:Number(pc[key])});for(const key of["san","mov","build","armor","lck","hp","mp"])void 0!==pc[key]&&(data.attribs[key]={value:Number(pc[key])});void 0!==pc.db&&(data.attribs.db={value:pc.db});for(const key of["age","occupation"])void 0!==pc[key]&&(data.infos[key]=pc[key]);if(void 0!==pc.sanLoss){const[passed,failed]=pc.sanLoss.split("/");data.special.sanLoss={checkPassed:passed,checkFailled:failed}}return void 0!==pc.attacksPerRound&&(data.special.attacksPerRound=Number(pc.attacksPerRound)),data.description.keeper=pc.gmnotes,CONFIG.debug.CoC7Importer&&console.debug("actorData:",data),data}async itemsData(pc){const items=[];if(this.weaponSkills=[],void 0!==pc.attacks)for(const attack of pc.attacks){let skill=!1;!0!==attack.system?.skill?.id&&(skill=await this.weaponSkill(attack),items.push(skill)),attack.system.skill.id=null,items.push(attack),this.weaponSkills.push([skill,attack])}if(void 0!==pc.skills)for(const skill of pc.skills){const existing=await CoC7Utilities.guessItem("skill",skill.name,{source:this.itemLocations});if(void 0!==existing){const cloned=existing.toObject();cloned.system.base=skill.value,void 0!==skill.push&&(cloned.system.properties.push=skill.push),items.push(duplicate(cloned))}else{const options={};void 0!==skill.push&&(options.push=skill.push),items.push(CoCActor.emptySkill(skill.name,skill.value,options))}}if(void 0!==pc.languages)for(const skill of pc.languages){const existing=await CoC7Utilities.guessItem("skill",skill.name,{source:this.itemLocations});if(void 0!==existing){const cloned=existing.toObject();cloned.system.base=skill.value,items.push(duplicate(cloned))}else items.push(CoCActor.emptySkill(skill.name,skill.value,{img:CoC7Item.iconLanguage,specialization:"Language"}))}if(void 0!==pc.spells)for(const name of pc.spells){const existing=await CoC7Utilities.guessItem("spell",name,{source:this.itemLocations});if(void 0!==existing){const cloned=existing.toObject();items.push(duplicate(cloned))}else items.push(CoCActor.emptySpell(name))}return items}async weaponSkill(weapon){let skill=null;if(this.getRegEx("handgun").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Handgun",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Handgun skill: ${skill}`)):this.getRegEx("rifle").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Rifle/Shotgun",{combat:!0,source:this.itemLocations}),skill||(skill=await CoC7Utilities.guessItem("skill","Rifle",{combat:!0,source:this.itemLocations}),skill||(skill=await CoC7Utilities.guessItem("skill","Shotgun",{combat:!0,source:this.itemLocations}))),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Rifle skill: ${skill}`)):this.getRegEx("smb").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Submachine Gun",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Submachine Gun skill: ${skill}`)):this.getRegEx("machineGun").exec(weapon.name)?(skill=await CoC7Utilities.guessItem("skill","Machine Gun",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Machine Gun skill: ${skill}`)):this.getRegEx("launched").exec(weapon.name)&&(skill=await CoC7Utilities.guessItem("skill","Launch",{combat:!0,source:this.itemLocations}),CONFIG.debug.CoC7Importer&&console.debug(`${weapon.name} uses Launch skill: ${skill}`)),null!=skill){return skill.clone({system:{value:weapon.system?.skill?.id}})}const firearms=weapon.system?.properties?.rngd,parts=CoC7Item.getNamePartsSpec(weapon.name,game.i18n.localize(firearms?"CoC7.FirearmSpecializationName":"CoC7.FightingSpecializationName")),newSkill={type:"skill",name:parts.name,system:{skillName:parts.skillName,specialization:parts.specialization,properties:{special:!0,fighting:!firearms,firearm:firearms,combat:!0},base:weapon.system?.skill?.id,value:weapon.system?.skill?.id}};return CONFIG.debug.CoC7Importer&&console.debug(`Weapon skill not found for ${weapon.name}, creating a new one`,newSkill),newSkill}needsConversion(npc){let needsConversionResult=!0;for(const key of["str","con","siz","dex","app","int","pow","edu"])void 0!==npc[key]&&npc[key]>30&&(needsConversionResult=!1);return CONFIG.debug.CoC7Importer&&console.debug("needsConversion:",needsConversionResult),needsConversionResult}async createActor(inputs){CONFIG.debug.CoC7Importer&&console.debug("createActor:",inputs);const lang=CoC7ActorImporterRegExp.checkLanguage(inputs.lang);this.keys=CoC7ActorImporterRegExp.getKeys(lang),this.regEx=CoC7ActorImporterRegExp.getRegularExpressions(lang),this.itemLocations=inputs.source,CONFIG.debug.CoC7Importer&&console.debug("Regular Expressions:",lang,this.keys,this.regEx);let character=await this.parseCharacter(inputs.text);CONFIG.debug.CoC7Importer&&console.debug("parseCharacter:",character),("coc-guess"===inputs.convertFrom6E&&this.needsConversion(character)||"coc-convert"===inputs.convertFrom6E)&&(character=await this.convert7E(character));const characterData={name:character.name,actor:this.actorData(character),items:await this.itemsData(character)};if(void 0!==inputs.testMode&&!0===inputs.testMode)return characterData;return await this.createEntity(characterData,inputs.entity)}async convert7E(creature){CONFIG.debug.CoC7Importer&&console.debug("Converting npc",creature);for(const key of["str","con","siz","dex","app","int","pow"])void 0!==creature[key]&&(creature[key]*=5);return void 0!==creature.edu&&(creature.edu<=18?creature.edu*=5:creature.edu<=26?creature.edu=creature.edu+90-18:creature.edu=99),void 0!==creature.db&&("-1d4"===creature.db?creature.db=-1:"-1d6"===creature.db&&(creature.db=-2)),CONFIG.debug.CoC7Importer&&console.debug("convert7E: ",creature),creature}}class CoC7DirectoryPicker extends FilePicker{get title(){return game.i18n.localize("CoC7.PickDirectory")}_onSubmit(event){event.preventDefault();const path=event.target.target.value,activeSource=this.activeSource,bucket=event.target.bucket?event.target.bucket.value:null;this.field.value=CoC7DirectoryPicker.format({activeSource,bucket,path}),this.close()}static DefaultDirectory(val){return null===val?"":String(val)}static format(value){return null!==value.bucket?`[${value.activeSource}:${value.bucket}] ${value.path}`:`[${value.activeSource}] ${value.path}`}static parse(raw){const str=raw??"",matches=str.match(/^\[([^:]+)(:(.+))?\]\s*(.+)?$/u);return matches?{activeSource:matches[1],bucket:matches[3]??"",current:matches[4]}:{activeSource:"data",bucket:null,current:str}}static processHtml(html){$(html).find('input[data-dtype="DefaultDirectory"]').each(((i,el)=>{const input=$(el);if(input.prop("readonly",!0),!input.next().length){const picker=new CoC7DirectoryPicker({field:input[0],...CoC7DirectoryPicker.parse(input.val())}),pickerButton=$('<button type="button" class="file-picker" title="'+game.i18n.localize("CoC7.PickDirectory")+'"><i class="fas fa-file-import fa-fw"></i></button>');CoC7DirectoryPicker.createDefaultDirectory(),pickerButton.on("click",(()=>{picker.render(!0)})),input.parent().append(pickerButton)}}))}activateListeners(html){super.activateListeners(html),$(html).find("ol.files-list").remove(),$(html).find("footer div").remove(),$(html).find("footer button").text(game.i18n.localize("CoC7.PickDirectory"))}static async createDefaultDirectory(){const parsed=CoC7DirectoryPicker.parse(game.settings.get("CoC7","dholeUploadDirectory"));try{return await CoC7DirectoryPicker.createDirectory(parsed.activeSource,parsed.current,{bucket:parsed.bucket}),!0}catch(e){if(!e.startsWith("EEXIST"))return ui.notifications.error(game.i18n.localize("CoC7.ActorImporterUploadError")),!1}}static async uploadToDefaultDirectory(file,filename){const parsed=CoC7DirectoryPicker.parse(game.settings.get("CoC7","dholeUploadDirectory"));return(await FilePicker.upload(parsed.activeSource,parsed.current,new File([file],filename,{type:"image/png"}),{bucket:parsed.bucket})).path?parsed.current+"/"+filename:(ui.notifications.error(game.i18n.localize("CoC7.FileUploadError")),!1)}}class CoC7DholeHouseActorImporter{static getBackstory(backstoryJSON){const sections=[["description","Description"],["traits","Traits"],["ideology","Ideology"],["injurues","Injuries","injuries"],["people","People"],["phobias","Phobias"],["locations","Locations"],["tomes","Tomes"],["possessions","Possessions"],["encounters","Encounters"]],backstory={block:[],sections:[]};for(const section of sections)null!==backstoryJSON[section[0]]&&(void 0!==section[2]&&""!==section[2]||(section[2]=section[0]),backstory.block.push(`<h3>${section[1]}</h3>\n<div class="${section[2]}">\n${backstoryJSON[section[0]]}\n</div>`),backstory.sections.push({title:section[1],value:backstoryJSON[section[0]]}));return backstory.block="<h2>Backstory</h2>\n"+backstory.block.join("\n",backstory.block),backstory}static async convertDholeHouseCharacterData(dholeHouseData,options){CONFIG.debug.CoC7Importer&&console.log("Source:",dholeHouseData),dholeHouseData=dholeHouseData.Investigator;const backstories=CoC7DholeHouseActorImporter.getBackstory(dholeHouseData.Backstory);return{name:dholeHouseData.PersonalDetails.Name,actor:{characteristics:{str:{value:parseInt(dholeHouseData.Characteristics.STR,10)},con:{value:parseInt(dholeHouseData.Characteristics.CON,10)},siz:{value:parseInt(dholeHouseData.Characteristics.SIZ,10)},dex:{value:parseInt(dholeHouseData.Characteristics.DEX,10)},app:{value:parseInt(dholeHouseData.Characteristics.APP,10)},int:{value:parseInt(dholeHouseData.Characteristics.INT,10)},pow:{value:parseInt(dholeHouseData.Characteristics.POW,10)},edu:{value:parseInt(dholeHouseData.Characteristics.EDU,10)}},attribs:{san:{value:parseInt(dholeHouseData.Characteristics.Sanity,10),max:parseInt(dholeHouseData.Characteristics.SanityMax,10),dailyLimit:Math.floor(dholeHouseData.Characteristics.Sanity/5)},hp:{value:parseInt(dholeHouseData.Characteristics.HitPts,10),max:parseInt(dholeHouseData.Characteristics.HitPtsMax,10)},mp:{value:parseInt(dholeHouseData.Characteristics.MagicPts,10),max:parseInt(dholeHouseData.Characteristics.MagicPtsMax,10)},lck:{value:parseInt(dholeHouseData.Characteristics.Luck,10)},mov:{value:parseInt(dholeHouseData.Characteristics.Move,10),max:parseInt(dholeHouseData.Characteristics.Move,10)},db:{value:dholeHouseData.Characteristics.DamageBonus},build:{value:parseInt(dholeHouseData.Characteristics.Build,10)}},infos:{occupation:dholeHouseData.PersonalDetails.Occupation,age:dholeHouseData.PersonalDetails.Age,sex:dholeHouseData.PersonalDetails.Gender,residence:dholeHouseData.PersonalDetails.Residence,birthplace:dholeHouseData.PersonalDetails.Birthplace},backstory:backstories.block,biography:backstories.sections,description:{keeper:game.i18n.localize("CoC7.DholeHouseActorImporterSource")}},skills:await CoC7DholeHouseActorImporter.extractSkills(dholeHouseData.Skills.Skill??[],options),possesions:await CoC7DholeHouseActorImporter.extractPossessions(dholeHouseData.Possessions?.item??[],options)}}static makeSkillName(name,specialization){return"None"===specialization&&(specialization="Any"),"Language (Other)"===name||"Language (Own)"===name?name="Language":"Operate Heavy Machine"===name?name="Operate Heavy Machinery":"Throw"===name&&""===specialization&&(name="Fighting",specialization="Throw"),{skillName:""===specialization?name:specialization,specialization:""===specialization?"":name,name:name+(""===specialization?"":" ("+specialization+")")}}static async extractSkills(dholeHouseskills,options){const skills=[];for(const skill of dholeHouseskills){if("None"===skill.subskill&&"1"===skill.value&&"0"===skill.half&&"0"===skill.fifth)continue;const parts=CoC7DholeHouseActorImporter.makeSkillName(skill.name,skill.subskill??""),existing=await CoC7Utilities.guessItem("skill",parts.name,{source:options.source,fallbackAny:!0});let cloned=null;void 0!==existing?(cloned=duplicate(existing.toObject()),cloned.name=parts.name,cloned.system.skillName=parts.skillName,cloned.system.specialization=parts.specialization):(cloned=CoCActor.emptySkill(parts.skillName,parseInt(skill.value??0,10),{specialization:""!==parts.specialization&&parts.specialization}),cloned.system.properties=cloned.system.properties??{},"Fighting"===parts.specialization?(cloned.system.properties.fighting=!0,cloned.system.properties.combat=!0,cloned.system.properties.push=!1):"Firearms"===parts.specialization?(cloned.system.properties.firearm=!0,cloned.system.properties.combat=!0,cloned.system.properties.push=!1):"Dodge"===parts.skillName&&(cloned.system.properties.push=!1)),"Any"===cloned.system.skillName&&(cloned.name=cloned.name.replace(" (Any)"," (None)"),cloned.system.skillName="None"),cloned.system.base=parseInt(skill.value??0,10),cloned.system.value=parseInt(skill.value??0,10),cloned.system.flags=cloned.system.flags??{},cloned.system.flags.occupation=!0===skill.occupation||"true"===skill.occupation,skills.push(cloned)}return skills}static findWeaponSkillId(skillName,character){const skills=character.getEmbeddedCollection("Item"),checkName=skillName.replace(/^\((.+)\)$/,"$1");return skills.find((i=>i.system?.skillName===checkName||i.system?.skillName?.indexOf(checkName)>-1))}static async extractPossessions(dholehousePossessions,options){const items=[];for(const item of dholehousePossessions){const existing=await CoC7Utilities.guessItem("item",item.description,{source:options.source});let cloned=null;cloned=void 0!==existing?duplicate(existing.toObject()):{name:item.description,type:"item"},items.push(cloned)}return items}static async extractWeapons(dholehouseWeapons,character,options){const weapons=[];Array.isArray(dholehouseWeapons)||(dholehouseWeapons=[dholehouseWeapons]);for(const weapon of dholehouseWeapons){const skill=CoC7DholeHouseActorImporter.findWeaponSkillId(weapon.skillname,character),damage=weapon.damage.replace(/\+DB/i,""),addb=damage!==weapon.damage,existing=await CoC7Utilities.guessItem("weapon",weapon.name,{source:options.source});let cloned=null;void 0!==existing?(cloned=duplicate(existing.toObject()),cloned.system.skill.main.name=skill?.name??"",cloned.system.skill.main.id=skill?.id??"",cloned.system.range=cloned.system.range??{},cloned.system.range.normal=cloned.system.range.normal??{},cloned.system.range.normal.damage=damage,cloned.system.ammo=weapon.ammo,cloned.system.malfunction=weapon.malf,cloned.system.properties=cloned.system.properties??{},cloned.system.properties.melee=skill?.system.properties?.fighting??!1,cloned.system.properties.rngd=skill?.system.properties?.firearm??!1,cloned.system.properties.addb=addb):cloned={name:weapon.name,type:"weapon",system:{skill:{main:{name:skill?.name??"",id:skill?.id??""}},range:{normal:{damage}},ammo:weapon.ammo,malfunction:weapon.malf,properties:{melee:skill?.system.properties?.fighting??!1,rngd:skill?.system.properties?.firearm??!1,addb}}},weapons.push(cloned)}return weapons}static async savePortrait(base64Portrait,fileName){const base64Response=await fetch("data:image/png;base64,"+base64Portrait),imageBlob=await base64Response.blob();return CoC7DirectoryPicker.uploadToDefaultDirectory(imageBlob,fileName)}static async createNPCFromDholeHouse(dholeHouseCharacterData,options){if(!game.user?.can("FILES_UPLOAD"))return ui.notifications.error(game.i18n.localize("CoC7.ActorImporterUploadError")),!1;const characterData=await CoC7DholeHouseActorImporter.convertDholeHouseCharacterData(dholeHouseCharacterData,options);CONFIG.debug.CoC7Importer&&console.log("Character Data:",characterData);const importedCharactersFolder=await CoC7Utilities.createImportCharactersFolderIfNotExists();if(!CoC7DirectoryPicker.createDefaultDirectory())return!1;const actorData={name:characterData.name,type:"character",folder:importedCharactersFolder.id,data:characterData.actor},npc=await Actor.create(actorData);if(dholeHouseCharacterData.Investigator.PersonalDetails.Portrait?.length>10){const fileName="avatar-"+npc.id+".png",portrait=await CoC7DholeHouseActorImporter.savePortrait(dholeHouseCharacterData.Investigator.PersonalDetails.Portrait,fileName);!1!==portrait&&npc.update({img:portrait})}CONFIG.debug.CoC7Importer&&console.log("Items: ",characterData.items),await npc.createEmbeddedDocuments("Item",characterData.skills,{renderSheet:!1}),await npc.createEmbeddedDocuments("Item",characterData.possesions,{renderSheet:!1});const weapons=await CoC7DholeHouseActorImporter.extractWeapons(dholeHouseCharacterData.Investigator.Weapons?.weapon??[],npc,options);return CONFIG.debug.CoC7Importer&&console.log("Weapons: ",weapons),await npc.createEmbeddedDocuments("Item",weapons,{renderSheet:!1}),npc}}class CoC7ActorImporterDialog extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","dialog","actor-importer"],title:game.i18n.localize("CoC7.ActorImporter"),template:"systems/CoC7/templates/apps/actor-importer.html",closeOnSubmit:!1,width:600,height:"auto"})}async getData(){const data=await super.getData();return data.importType=data.object.importType,data.convert6E=data.object.convert6E,data.source=data.object.source,data.characterData=data.object.characterData,data.canUpload=game.user?.can("FILES_UPLOAD"),["npc","creature"].includes(data.importType)&&(data.languages=CoC7ActorImporterRegExp.getTranslations(),data.language=CoC7ActorImporterRegExp.checkLanguage(data.object.language),data.placeholder=CoC7ActorImporterRegExp.getExampleText(data.language)),data}activateListeners(html){super.activateListeners(html),html.find("#dholehouse-character-preview").hide(),html.find("#coc-entity-type,#coc-entity-lang").change(this._onChangeSubmit.bind(this)),html.find("#dholehouse-json-file-picker").change(this._onJSONFileSelected.bind(this)),html.find("#coc-pasted-character-data").on("keyup",(function(e){const charactersTooExtended=$(this).val().match(/[\udbc0-\udbfe][\udc00-\udfff]/),prompt=$("#coc-prompt");prompt.data("extended")&&charactersTooExtended?prompt.html(game.i18n.localize("CoC7.TextFieldInvalidCharacters")).addClass("error"):prompt.html(prompt.data("text")).removeClass("error")})).trigger("keyup"),html.find(".submit-button").click(this._onClickSubmit.bind(this)),html.find("form").submit((e=>{e.preventDefault()}))}static getInputs(form){const inputs={};return inputs.entity=form.find("#coc-entity-type").val().trim(),CONFIG.debug.CoC7Importer&&console.debug("entity type:",inputs.entity),form.find("#coc-convert-6E").length>0&&(inputs.convertFrom6E=form.find("#coc-convert-6E").val().trim()),form.find("#coc-entity-lang").length>0&&(inputs.lang=CoC7ActorImporterRegExp.checkLanguage(form.find("#coc-entity-lang").val().trim())),form.find("#source").length>0&&(inputs.source=form.find("#source").val().trim()),form.find("#coc-pasted-character-data").length>0&&(inputs.text=form.find("#coc-pasted-character-data").val().trim()),CONFIG.debug.CoC7Importer&&console.debug("received text","##"+inputs.text+"##"),inputs}_onJSONFileSelected(event){const jsonFileInput=document.getElementById("dholehouse-json-file-picker"),portraitImage=document.getElementById("dholehouse-character-portrait"),characterName=document.getElementById("dholehouse-character-name"),preview=document.getElementById("dholehouse-character-preview"),file=jsonFileInput.files[0],dialog=this,fileReader=new FileReader;fileReader.onload=function(e){try{dialog.characterJSON=JSON.parse(fileReader.result)}catch(e){return $("#coc-prompt").html(game.i18n.localize("CoC7.TextFieldInvalidJSON")).addClass("error"),void event.preventDefault()}const personalDetails=dialog.characterJSON?.Investigator?.PersonalDetails;personalDetails?(characterName.textContent=personalDetails.Name,portraitImage.src="data:image/png;base64,"+personalDetails.Portrait,preview.style.display="block",$(".dialog.actor-importer").height("auto")):ui.notifications.error(game.i18n.localize("CoC7.DholeHouseInvalidActor"))},fileReader.readAsText(file)}_onChangeSubmit(event){this._onSubmit(event)}async _onClickSubmit(event){const id=event.currentTarget.dataset.button;if("no"===id)this.close();else if("getExampleNow"===id){const content=CoC7ActorImporterRegExp.getExampleText(this.object.language);CoC7Utilities.copyToClipboard(content).then((()=>ui.notifications.info(game.i18n.localize("CoC7.Copied"))))}else if("import"===id){const app=$(event.currentTarget).closest("div.dialog.actor-importer");app.hide();const form=$(event.currentTarget).closest("form"),inputs=CoC7ActorImporterDialog.getInputs(form);if("dholehouse"===inputs.entity&&this.characterJSON){const character=await CoC7DholeHouseActorImporter.createNPCFromDholeHouse(this.characterJSON,{source:inputs.source});!1!==character?(CONFIG.debug.CoC7Importer&&console.debug("character:",character),ui.notifications.info(game.i18n.format("CoC7.ActorImported",{actorType:game.i18n.localize("CoC7.Entities.Character"),actorName:character.name})),await character.sheet.render(!0),this.close()):app.show()}else inputs.text&&""!==inputs.text?(CoC7ActorImporterDialog.importActor(inputs),this.close()):app.show()}}async _updateObject(event,formData){this.object.importType=formData["coc-entity-type"],this.object.characterData=formData["coc-pasted-character-data"]?.trim(),void 0!==formData["coc-convert-6E"]&&(this.object.convert6E=formData["coc-convert-6E"]),void 0!==formData["coc-entity-lang"]&&(this.object.language=formData["coc-entity-lang"]),void 0!==formData.source&&(this.object.source=formData.source),this.render(!0)}static async importActor(inputs){"."!==inputs.text[inputs.text.length]&&(inputs.text+=".");const actor=new CoC7ActorImporter,createdActor=await actor.createActor(inputs);CONFIG.debug.CoC7Importer&&console.debug("createdActor:",createdActor),ui.notifications.info(game.i18n.format("CoC7.ActorImported",{actorType:createdActor.type?.toUpperCase(),actorName:createdActor.name})),await createdActor.sheet.render(!0)}static async create(options={}){options.importType=options.importType??"npc",options.language=options.language??CoC7ActorImporterRegExp.checkLanguage(null),options.convert6E=options.language??"coc-guess",options.source=options.source??"iwms",options.characterData=options.characterData??"",new CoC7ActorImporterDialog(options).render(!0)}}Hooks.once("ready",(()=>{game.modules.get("CoC7-Importer-Tests")?.active&&(window.CoC7ActorImporter=CoC7ActorImporter)}));class DropCoCID extends Dialog{static processForm(response,element,resolve){element.find("input").is(":checked")&&game.settings.set("CoC7","dropCoCID",response?"Y":"N"),resolve(response)}static processItem(response,item){return response&&item.flags?.CoC7?.cocidFlag?.id?item.flags.CoC7.cocidFlag.id:duplicate(item)}static async create(){switch(game.settings.get("CoC7","dropCoCID")){case"":return new Promise((resolve=>{new DropCoCID({title:game.i18n.format("CoC7.Settings.DropCoCID.Name"),content:"<p>"+game.i18n.format("CoC7.Settings.DropCoCID.Dialog")+'</p><p><input type="checkbox" id="rememberthis" style="vertical-align: sub;"><label for="rememberthis">'+game.i18n.format("CoC7.Settings.DropCoCID.Remember")+"</label></p>",classes:["coc7","app","dialog"],buttons:{yes:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("Yes"),callback:element=>{DropCoCID.processForm(!0,element,resolve)}},no:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("No"),callback:element=>{DropCoCID.processForm(!1,element,resolve)}}}}).render(!0)}));case"Y":return!0;case"N":return!1}}}class CoC7OccupationSheet extends ItemSheet{activateListeners(html){if(super.activateListeners(html),!this.options.editable)return;html.find(".item .item-name h4").click((event=>this._onItemSummary(event,"skills"))),html.find(".item-delete").click((event=>this._onItemDelete(event,"skills"))),html.find(".group-item-delete").click(this._onGroupItemDelete.bind(this)),html.find(".group-control").click(this._onGroupControl.bind(this));new DragDrop({dropSelector:".droppable",callbacks:{drop:this._onDrop.bind(this)}}).bind(html[0])}async _onDrop(event,type="skill",collectionName="skills"){event.preventDefault(),event.stopPropagation();const optionalSkill=event?.currentTarget?.classList?.contains("optional-skills"),ol=event?.currentTarget?.closest("ol"),index=ol?.dataset?.group,dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");let useCoCID=0;const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[],groups=this.item.system.groups?duplicate(this.item.system.groups):[];for(const item of dataList)if(item&&item.system&&[type].includes(item.type))if(optionalSkill){if(!CoC7Item.isAnySpec(item)){if(collection.find((el=>el.name===item.name)))continue;if(groups[index].skills.find((el=>el.name===item.name)))continue}0===useCoCID&&(useCoCID=await DropCoCID.create()),groups[index].skills=groups[index].skills.concat([DropCoCID.processItem(useCoCID,item)])}else{if(!CoC7Item.isAnySpec(item)){if(collection.find((el=>el.name===item.name)))continue;for(let i=0;i<groups.length;i++){const index=groups[i].skills.findIndex((el=>el.name===item.name));-1!==index&&groups[i].skills.splice(index,1)}}0===useCoCID&&(useCoCID=await DropCoCID.create()),collection.push(DropCoCID.processItem(useCoCID,item))}await this.item.update({"system.groups":groups}),await this.item.update({[`system.${collectionName}`]:collection})}async _onGroupControl(event){event.preventDefault();const a=event.currentTarget;if(a.classList.contains("add-group")){await this._onSubmit(event);const groups=this.item.system.groups;await this.item.update({"system.groups":groups.concat([{options:0,skills:[]}])})}if(a.classList.contains("remove-group")){await this._onSubmit(event);const groups=duplicate(this.item.system.groups),ol=a.closest(".item-list.group");groups.splice(Number(ol.dataset.group),1),await this.item.update({"system.groups":groups})}}_onItemSummary(event,collectionName="items"){event.preventDefault();const obj=$(event.currentTarget),li=obj.parents(".item"),group=obj.closest(".group");let item;if(item=group.length?this.item.system.groups[group.data("group")][collectionName].find((s=>s._id===li.data("item-id"))):this.item.system[collectionName].find((s=>s._id===li.data("item-id"))),!item)return;const chatData=item.system.description;if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$(`<div class="item-summary">${chatData.value}</div>`),props=$('<div class="item-properties"></div>');div.append(props),li.append(div.hide()),div.slideDown(200)}li.toggleClass("expanded")}async _onItemDelete(event,collectionName="items"){const item=$(event.currentTarget).closest(".item"),itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=this.item.system[collectionName].findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));if(itemIndex>-1){const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];collection.splice(itemIndex,1),await this.item.update({[`system.${collectionName}`]:collection})}}async _onGroupItemDelete(event){const item=$(event.currentTarget).closest(".item"),group=Number(item.closest(".item-list.group").data("group")),groups=duplicate(this.item.system.groups);if(void 0!==groups[group]){const itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=groups[group].skills.findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));itemIndex>-1&&(groups[group].skills.splice(itemIndex,1),await this.item.update({"system.groups":groups}))}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","occupation"],template:"systems/CoC7/templates/items/occupation.html",width:525,height:480,dragDrop:[{dragSelector:".item"}],scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.data.system.skills=await game.system.api.cocid.expandItemArray({itemList:sheetData.data.system.skills}),sheetData.skillListEmpty=0===sheetData.data.system.skills.length,sheetData.data.system.skills.sort(CoC7Utilities.sortByNameKey);for(let index=0,len=sheetData.data.system.groups.length;index<len;index++)sheetData.data.system.groups[index].skills=await game.system.api.cocid.expandItemArray({itemList:sheetData.data.system.groups[index].skills}),sheetData.data.system.groups[index].isEmpty=0===sheetData.data.system.groups[index].skills.length,sheetData.data.system.groups[index].skills.sort(CoC7Utilities.sortByNameKey);sheetData.occupationPointsString=CoC7OccupationSheet.occupationPointsString(sheetData.data.system.occupationSkillPoints),sheetData.itemProperties=[];for(const[key,value]of Object.entries(sheetData.data.system.type))value&&sheetData.itemProperties.push(COC7.occupationProperties[key]?COC7.occupationProperties[key]:null);return sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}static occupationPointsString(occupationSkillPoints){const optionnal=[],mandatory=[];for(const[key,carac]of Object.entries(occupationSkillPoints))if(carac.multiplier){const caracName=game.i18n.localize(`CHARAC.${key.toUpperCase()}`);carac.selected&&carac.optional&&optionnal.push(`${caracName}x${carac.multiplier}`),carac.selected&&!carac.optional&&mandatory.push(`${caracName}x${carac.multiplier}`)}let occupationPointsString="";const orString=` ${game.i18n.localize("CoC7.Or")} `;return mandatory.length&&(occupationPointsString+=mandatory.join(" + ")),optionnal.length&&mandatory.length&&(occupationPointsString+=` + (${optionnal.join(orString)})`),optionnal.length&&!mandatory.length&&(occupationPointsString+=optionnal.join(orString)),occupationPointsString}_updateObject(event,formData){const system=expandObject(formData)?.system;if(system.groups){formData["system.groups"]=Object.values(system.groups||[]);for(let index=0;index<this.item.system.groups.length;index++)formData[`system.groups.${index}.skills`]=duplicate(this.item.system.groups[index].skills)}super._updateObject(event,formData)}}class CoC7InvestigatorWizard extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{id:"investigator-wizard-application",classes:["coc7","dialog","investigator-wizard"],title:game.i18n.localize("CoC7.InvestigatorWizard.Title"),template:"systems/CoC7/templates/apps/investigator-wizard.hbs",width:520,height:600,closeOnSubmit:!1,scrollY:[".scrollsection"],dragDrop:[{dragSelector:".draggable",dropSelector:null}]})}get pageList(){return{PAGE_NONE:-1,PAGE_INTRODUCTION:0,PAGE_CONFIGURATION:1,PAGE_SETUPS:2,PAGE_ARCHETYPES:3,PAGE_CHARACTISTICS:4,PAGE_ATTRIBUTES:5,PAGE_VIEW_ATTRIBUTES:6,PAGE_OCCUPATIONS:7,PAGE_OCCUPATION_SKILLS:8,PAGE_ARCHETYPE_SKILLS:9,PAGE_POINTS_SKILLS:10,PAGE_INVESTIGATOR:11,PAGE_BACKSTORY:12,PAGE_CREATE:13}}get characteristicsMethods(){return{METHOD_DEFAULT:1,METHOD_ROLL:1,METHOD_POINTS:2,METHOD_VALUES:3}}get cocidCreditRating(){return"i.skill.credit-rating"}get cocidLanguageOwn(){return"i.skill.language-own"}get pageOrder(){const pages=this.pageList;let pageOrder=[pages.PAGE_INTRODUCTION];return game.user.isGM&&pageOrder.push(pages.PAGE_CONFIGURATION),""===this.object.defaultSetup&&pageOrder.push(pages.PAGE_SETUPS),game.settings.get("CoC7","pulpRuleArchetype")&&pageOrder.push(pages.PAGE_ARCHETYPES),pageOrder.push(pages.PAGE_CHARACTISTICS),game.settings.get("CoC7","pulpRuleIgnoreAgePenalties")||pageOrder.push(pages.PAGE_ATTRIBUTES),pageOrder=pageOrder.concat([pages.PAGE_VIEW_ATTRIBUTES,pages.PAGE_OCCUPATIONS,pages.PAGE_OCCUPATION_SKILLS]),game.settings.get("CoC7","pulpRuleArchetype")&&pageOrder.push(pages.PAGE_ARCHETYPE_SKILLS),pageOrder=pageOrder.concat([pages.PAGE_POINTS_SKILLS,pages.PAGE_INVESTIGATOR,pages.PAGE_BACKSTORY,pages.PAGE_CREATE]),pageOrder}static async loadCacheItemByCoCID(){return new Promise(((resolve,reject)=>{game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:/^i\./,type:"i",showLoading:!0}).then((items=>{const list={};for(const item of items)list[item.flags.CoC7.cocidFlag.id]=item;resolve(list)}))}))}async filterCacheItemByCoCID(regexp){return Object.entries(await this.object.cacheCoCID).filter((entry=>entry[0].match(regexp))).map((entry=>entry[1]))}async getCacheItemByCoCID(id){return(await this.object.cacheCoCID)[id]??!1}async expandItemArray(itemList){const items=itemList.filter((it=>"string"!=typeof it)),cocids=itemList.filter((it=>"string"==typeof it));if(cocids.length){const source=await this.object.cacheCoCID,missing=[];for(const cocid of cocids)void 0!==source[cocid]?items.push(source[cocid]):missing.push(cocid);if(missing.length){const era=game.i18n.format(COC7.eras[this.object.defaultEra]??"CoC7.CoCIDFlag.error.unknown-era",{era:this.object.defaultEra});ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.documents-not-found",{cocids:missing.join(", "),lang:game.i18n.lang,era}))}}return items}getAgeAdjustments(){for(const key in this.object.setupModifiers)this.object.setupModifiers[key]=0;if(!game.settings.get("CoC7","pulpRuleIgnoreAgePenalties")){if(this.object.age>=40){const key=Math.floor(this.object.age/10);this.object.requiresAgeAdjustments={edu:{total:key-2>4?4:key-2,rolled:!1},deduct:{total:key>1?5*Math.pow(2,key-4):0,from:["str","con","dex"],values:{}},reduce:{total:5*(key-3),from:"app"}}}else this.object.age>=20?this.object.requiresAgeAdjustments={edu:{total:1,rolled:!1}}:this.object.age>=15&&(this.object.requiresAgeAdjustments={deduct:{total:5,from:["str","siz"],values:{}},reduce:{total:5,from:"edu"},luck:!0});void 0!==this.object.requiresAgeAdjustments.reduce&&(this.object.setupModifiers[this.object.requiresAgeAdjustments.reduce.from]=-this.object.requiresAgeAdjustments.reduce.total)}}async getData(){const sheetData=await super.getData();let setup,archetype,occupation;sheetData.isKeeper=game.user.isGM,sheetData.pages=this.pageList,sheetData.canNext=!1,sheetData.createButton=!1;let showMonetary=!1;switch(sheetData.object.step){case sheetData.pages.PAGE_INTRODUCTION:sheetData.era=game.i18n.format(COC7.eras[sheetData.object.defaultEra]??"CoC7.CoCIDFlag.error.unknown-era",{era:sheetData.object.defaultEra}),sheetData.canNext=!0;break;case sheetData.pages.PAGE_CONFIGURATION:if(game.user.isGM){sheetData.setups=await this.filterCacheItemByCoCID(/^i\.setup\./),sheetData.occupations=await this.filterCacheItemByCoCID(/^i\.occupation\./),sheetData.archetypes=await this.filterCacheItemByCoCID(/^i\.archetype\./),setup=sheetData.setups.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.defaultSetup)),void 0===setup?(sheetData.object.defaultSetup="",sheetData.object.setup=""):sheetData.description=CoC7Parser.enrichHTML(setup.system.description.value),sheetData.ownership={[CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE]:"OWNERSHIP.NONE",[CONST.DOCUMENT_OWNERSHIP_LEVELS.LIMITED]:"OWNERSHIP.LIMITED",[CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER]:"OWNERSHIP.OBSERVER",[CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER]:"OWNERSHIP.OWNER"},sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({id:key,name:game.i18n.localize(value)});sheetData.characteristicsMethods=this.characteristicsMethods,sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_DEFAULT,sheetData.object.enforcePointBuy?sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_POINTS:this.object.quickFireValues.length&&(sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_VALUES),sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData.hasArchetypes=game.settings.get("CoC7","pulpRuleArchetype"),sheetData.canNext=!0}break;case sheetData.pages.PAGE_SETUPS:""===sheetData.object.defaultSetup&&(sheetData.setups=await this.filterCacheItemByCoCID(/^i\.setup\./),sheetData.setups.sort(CoC7Utilities.sortByNameKey),""!==sheetData.object.setup&&(setup=sheetData.setups.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.setup)),void 0!==setup&&(sheetData.description=CoC7Parser.enrichHTML(setup.system.description.value),sheetData.canNext=!0)));break;case sheetData.pages.PAGE_ARCHETYPES:if(sheetData.archetypes=await this.filterCacheItemByCoCID(/^i\.archetype\./),0===sheetData.archetypes.length)sheetData.canNext=!0;else if(sheetData.archetypes.sort(CoC7Utilities.sortByNameKey),""!==sheetData.object.archetype&&(archetype=sheetData.archetypes.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.archetype)),void 0!==archetype)){sheetData.description=CoC7Parser.enrichHTML(archetype.system.description.value),sheetData.bonusPoints=archetype.system.bonusPoints;const coreCharacteristics=[];for(const coreCharacteristic in archetype.system.coreCharacteristics)archetype.system.coreCharacteristics[coreCharacteristic]&&coreCharacteristics.push(coreCharacteristic);0===coreCharacteristics.length?this.object.coreCharacteristic="":1===coreCharacteristics.length&&(this.object.coreCharacteristic=coreCharacteristics[0]),sheetData.coreCharacteristic=coreCharacteristics.map((c=>c.toLocaleUpperCase())).join(" "+game.i18n.localize("CoC7.Or")+" ");const skills=[];archetype.system.skills=await this.expandItemArray(archetype.system.skills);for(const skill of archetype.system.skills)skills.push(skill.name);sheetData.skills=skills.join(", "),sheetData.suggestedOccupations=CoC7Parser.enrichHTML(archetype.system.suggestedOccupations),sheetData.suggestedTraits=CoC7Parser.enrichHTML(archetype.system.suggestedTraits),sheetData.canNext=!0}break;case sheetData.pages.PAGE_CHARACTISTICS:if(sheetData.characteristicsMethods=this.characteristicsMethods,sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_ROLL,""!==sheetData.object.setup&&(setup=await this.getCacheItemByCoCID(this.object.setup),void 0!==setup)){if(setup.system.characteristics.points.enabled||this.object.enforcePointBuy?sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_POINTS:this.object.quickFireValues.length&&(sheetData.characteristicsMethod=sheetData.characteristicsMethods.METHOD_VALUES),sheetData.setup={total:0,points:setup.system.characteristics.points.value,characteristics:[{key:"str",roll:setup.system.characteristics.rolls.str,label:"CHARAC.Strength"},{key:"con",roll:setup.system.characteristics.rolls.con,label:"CHARAC.Constitution"},{key:"siz",roll:setup.system.characteristics.rolls.siz,label:"CHARAC.Size"},{key:"dex",roll:setup.system.characteristics.rolls.dex,label:"CHARAC.Dexterity"},{key:"app",roll:setup.system.characteristics.rolls.app,label:"CHARAC.Appearance"},{key:"int",roll:setup.system.characteristics.rolls.int,label:"CHARAC.Intelligence"},{key:"pow",roll:setup.system.characteristics.rolls.pow,label:"CHARAC.Power"},{key:"edu",roll:setup.system.characteristics.rolls.edu,label:"CHARAC.Education"}],luck:{roll:setup.system.characteristics.rolls.luck,label:"CoC7.Luck"}},sheetData.coreCharacteristics=[],""!==sheetData.object.archetype&&(archetype=await this.getCacheItemByCoCID(this.object.archetype),void 0!==archetype)){for(const coreCharacteristic in archetype.system.coreCharacteristics)archetype.system.coreCharacteristics[coreCharacteristic]&&sheetData.coreCharacteristics.push({key:coreCharacteristic,name:game.i18n.format(sheetData.setup.characteristics.find((c=>c.key===coreCharacteristic))?.label??"Unknown")});sheetData.coreCharacteristics.sort(CoC7Utilities.sortByNameKey),""!==this.object.coreCharacteristic&&archetype.system.coreCharacteristicsFormula.enabled&&(sheetData.setup.characteristics.find((c=>c.key===this.object.coreCharacteristic)).roll=archetype.system.coreCharacteristicsFormula.value)}let empties=!1;for(const key in sheetData.object.setupPoints)""!==sheetData.object.setupPoints[key]?"luck"!==key&&(sheetData.setup.total+=parseInt(sheetData.object.setupPoints[key],10)):empties=!0;this.object.coreCharacteristic&&(sheetData.coreCharacteristic=this.object.coreCharacteristic.toLocaleUpperCase()),!empties&&this.object.age>=15&&([sheetData.characteristicsMethods.METHOD_ROLL,sheetData.characteristicsMethods.METHOD_VALUES].includes(sheetData.characteristicsMethod)||sheetData.setup.total.toString()===sheetData.setup.points)&&(sheetData.canNext=!0)}break;case sheetData.pages.PAGE_ATTRIBUTES:sheetData.pulpRuleIgnoreAgePenalties=game.settings.get("CoC7","pulpRuleIgnoreAgePenalties"),sheetData.canNext=!0,sheetData.points={};for(const key in this.object.setupModifiers)sheetData.points[key]={value:parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10),min:1-parseInt(this.object.setupPoints[key],10),label:CoC7Utilities.getCharacteristicNames(key).label};if(void 0===this.object.requiresAgeAdjustments.edu||this.object.requiresAgeAdjustments.edu.rolled||(sheetData.canNext=!1),void 0!==this.object.requiresAgeAdjustments.deduct){sheetData.deductTotal=0;for(const key of this.object.requiresAgeAdjustments.deduct.from)sheetData.deductTotal=sheetData.deductTotal-parseInt(this.object.setupModifiers[key],10);sheetData.deductFrom=this.object.requiresAgeAdjustments.deduct.from.map((n=>n.toLocaleUpperCase())).join(", ").replace(/, ([a-z]+)$/i,", or $1"),sheetData.deductTotal!==this.object.requiresAgeAdjustments.deduct.total&&(sheetData.canNext=!1)}void 0!==this.object.requiresAgeAdjustments.reduce&&(sheetData.reduceFrom=this.object.requiresAgeAdjustments.reduce.from.toLocaleUpperCase()),void 0!==this.object.requiresAgeAdjustments.luck&&(sheetData.luckValue=Math.max(this.object.setupPoints.luck,this.object.setupModifiers.luck),0===this.object.setupModifiers.luck&&(sheetData.canNext=!1));break;case sheetData.pages.PAGE_VIEW_ATTRIBUTES:sheetData.points={};for(const key in this.object.setupModifiers)sheetData.points[key]={value:parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10),prefix:"",suffix:"%",label:CoC7Utilities.getCharacteristicNames(key).label};sheetData.points.db={value:CoCActor.dbFromCharacteristics(sheetData.points),prefix:"",suffix:"",label:"CoC7.BonusDamage"},(isNaN(sheetData.points.db.value)||Number(sheetData.points.db.value)>=0)&&(sheetData.points.db.prefix="+"),sheetData.points.build={value:CoCActor.buildFromCharacteristics(sheetData.points),prefix:"",suffix:"",label:"CoC7.Build"},Number(sheetData.points.build.value)>=0&&(sheetData.points.build.prefix="+"),sheetData.points.hp={value:CoCActor.hpFromCharacteristics(sheetData.points,"character"),prefix:"",suffix:"",label:"CoC7.HitPoints"},sheetData.points.hp.prefix=sheetData.points.hp.value+"/",sheetData.points.mp={value:CoCActor.mpFromCharacteristics(sheetData.points),prefix:"",suffix:"",label:"CoC7.MagicPoints"},sheetData.points.mp.prefix=sheetData.points.mp.value+"/",sheetData.points.san={value:sheetData.points.pow.value,prefix:"",suffix:"/99",label:"CoC7.Sanity"},sheetData.points.mov={value:CoCActor.movFromCharacteristics(sheetData.points,"character",this.object.age),prefix:"",suffix:"",label:"CoC7.Movement"},sheetData.canNext=!0;break;case sheetData.pages.PAGE_OCCUPATIONS:if(sheetData.occupations=await this.filterCacheItemByCoCID(/^i\.occupation\./),sheetData.occupations.sort(CoC7Utilities.sortByNameKey),""!==sheetData.object.occupation&&(occupation=sheetData.occupations.find((s=>s.flags.CoC7.cocidFlag.id===sheetData.object.occupation)),void 0!==occupation)){sheetData.description=CoC7Parser.enrichHTML(occupation.system.description.value),sheetData.occupationPointsString=CoC7OccupationSheet.occupationPointsString(occupation.system.occupationSkillPoints),sheetData.creditRating=occupation.system.creditRating,sheetData.personal=occupation.system.personal,sheetData.skills=await this.expandItemArray(occupation.system.skills),sheetData.groups={};for(let index=0;index<occupation.system.groups.length;index++)sheetData.groups[index]={options:occupation.system.groups[index].options,skills:[]},sheetData.groups[index].skills=await this.expandItemArray(occupation.system.groups[index].skills);sheetData.points=0;const options=[];for(const[key,carac]of Object.entries(occupation.system.occupationSkillPoints))carac.selected&&(carac.optional?options.push(carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10))):sheetData.points+=carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10)));options.length>0&&(sheetData.points+=Math.max(...options)),sheetData.canNext=!0}break;case sheetData.pages.PAGE_INVESTIGATOR:sheetData.language=void 0!==this.object.skillItems[this.cocidLanguageOwn],sheetData.language?sheetData.languageName=this.object.skillItems[this.cocidLanguageOwn].item.name:sheetData.languageName="",sheetData.canNext=!0;break;case sheetData.pages.PAGE_OCCUPATION_SKILLS:sheetData.default=0,sheetData.selected=0,sheetData.skillItems=[];for(const key in this.object.skillItems){let group="other";const rows=sheetData.object.skillItems[key].rows.length,isMultiple=sheetData.object.skillItems[key].flags.isMultiple;isMultiple&&sheetData.skillItems.push({key,index:-1,name:sheetData.object.skillItems[key].item.name,group,toggle:!1,isCreditRating:!1,isMultiple:!0,isPickable:!1});for(let index=0;index<rows;index++){let isPickable=!1;sheetData.object.skillItems[key].rows[index].isOccupationDefault?(group="default",isMultiple&&(isPickable=!0),sheetData.default++):!1!==sheetData.object.skillItems[key].rows[index].inOccupationGroup?(group=sheetData.object.skillItems[key].rows[index].inOccupationGroup,isMultiple&&(isPickable=!0)):group="other";let toggle=sheetData.object.skillItems[key].rows[index].occupationToggle;isPickable&&(toggle=!1);let specialization=sheetData.object.skillItems[key].item.system.specialization,skillName=sheetData.object.skillItems[key].item.system.skillName,picked=!1,deleteable=!1;"string"==typeof sheetData.object.skillItems[key].rows[index].selected?(picked=!0,skillName=sheetData.object.skillItems[key].rows[index].selected):!1!==sheetData.object.skillItems[key].rows[index].selected&&(picked=!0,specialization=sheetData.object.skillItems[key].rows[index].selected.system.specialization,skillName=sheetData.object.skillItems[key].rows[index].selected.system.skillName),(toggle||isPickable&&picked)&&sheetData.selected++;let name=sheetData.object.skillItems[key].item.name;(key===this.cocidLanguageOwn||!isPickable&&picked)&&(name=specialization+" ("+skillName+")"),!isPickable&&picked&&(deleteable=!sheetData.object.skillItems[key].rows[index].archetypeToggle),sheetData.skillItems.push({key,index,name,group:group.toString(),toggle,isCreditRating:sheetData.object.skillItems[key].rows[index].isCreditRating,isMultiple:!1,isPickable,picked,deleteable,specialization,skillName})}}sheetData.max=parseInt(sheetData.default,10)+parseInt(sheetData.object.personal,10)+Object.values(sheetData.object.occupationGroups).reduce(((s,v)=>s+parseInt(v,10)),0),sheetData.skillItems.sort(CoC7Utilities.sortByNameKey),sheetData.selected===sheetData.max&&(sheetData.canNext=!0);break;case sheetData.pages.PAGE_ARCHETYPE_SKILLS:sheetData.max=0,sheetData.selected=0,sheetData.skillItems=[];for(const key in this.object.skillItems){let group="other";const rows=sheetData.object.skillItems[key].rows.length,isMultiple=sheetData.object.skillItems[key].flags.isMultiple;isMultiple&&sheetData.skillItems.push({key,index:-1,name:sheetData.object.skillItems[key].item.name,group,toggle:!1,isCreditRating:!1,isMultiple:!0,isPickable:!1});for(let index=0;index<rows;index++){let isPickable=!1;sheetData.object.skillItems[key].rows[index].isArchetypeDefault?(group="default",isMultiple&&(isPickable=!0),sheetData.max++):group="other";let toggle=sheetData.object.skillItems[key].rows[index].archetypeToggle;isPickable&&(toggle=!1);let specialization=sheetData.object.skillItems[key].item.system.specialization,skillName=sheetData.object.skillItems[key].item.system.skillName,picked=!1,deleteable=!1;"string"==typeof sheetData.object.skillItems[key].rows[index].selected?(picked=!0,skillName=sheetData.object.skillItems[key].rows[index].selected):!1!==sheetData.object.skillItems[key].rows[index].selected&&(picked=!0,specialization=sheetData.object.skillItems[key].rows[index].selected.system.specialization,skillName=sheetData.object.skillItems[key].rows[index].selected.system.skillName),(toggle||isPickable&&picked)&&sheetData.selected++;let name=sheetData.object.skillItems[key].item.name;(key===this.cocidLanguageOwn||!isPickable&&picked)&&(name=specialization+" ("+skillName+")"),!isPickable&&picked&&(deleteable=!sheetData.object.skillItems[key].rows[index].occupationToggle),sheetData.skillItems.push({key,index,name,group:group.toString(),toggle,isCreditRating:!1,isMultiple:!1,isPickable,picked,deleteable,specialization,skillName})}}sheetData.skillItems.sort(CoC7Utilities.sortByNameKey),sheetData.selected===sheetData.max&&(sheetData.canNext=!0);break;case sheetData.pages.PAGE_POINTS_SKILLS:if(sheetData.skills=[],sheetData.creditRatingOkay=!(this.object.creditRating.max>0),sheetData.personal={count:0,total:2*(parseInt(this.object.setupPoints.int,10)+parseInt(this.object.setupModifiers.int,10)),remaining:0},sheetData.occupation={count:0,total:0,remaining:0},sheetData.archetype={count:0,total:0,remaining:0},""!==sheetData.object.setup&&(showMonetary=(await this.getCacheItemByCoCID(sheetData.object.setup)).system.monetary.values.length>0),""!==sheetData.object.occupation&&(occupation=await this.getCacheItemByCoCID(this.object.occupation),occupation)){const options=[];for(const[key,carac]of Object.entries(occupation.system.occupationSkillPoints))carac.selected&&(carac.optional?options.push(carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10))):sheetData.occupation.total+=carac.multiplier*(parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10)));options.length>0&&(sheetData.occupation.total+=Math.max(...options))}if(""!==this.object.archetype){const archetype=await game.system.api.cocid.fromCoCID(this.object.archetype);1===archetype.length&&(sheetData.archetype.total=archetype[0].system.bonusPoints)}if(Object.keys(this.object.skillItems).length>0){for(const key in this.object.skillItems){const skill=this.object.skillItems[key];for(let index=0,im=skill.rows.length;index<im;index++){const row=skill.rows[index];if(!skill.flags.isMultiple||!1!==row.selected){let item=duplicate(skill.item);!1!==row.selected&&"string"!=typeof row.selected&&(item=duplicate(row.selected));let base=item.system.base;if(!Number.isNumeric(base))for(const key in this.object.setupPoints){const regEx=new RegExp("@"+key,"i");base=base.replace(regEx,parseInt(this.object.setupPoints[key],10)+parseInt(this.object.setupModifiers[key],10))}Number.isNumeric(base)||(base=Math.floor(new Roll(base).evaluate({async:!1}).total));let totalPoints=parseInt(base,10);if(Number(row.personalPoints)>0){const num=Number(row.personalPoints);sheetData.personal.count+=num,totalPoints+=num}if(Number(row.occupationPoints)>0){const num=Number(row.occupationPoints);sheetData.occupation.count+=num,totalPoints+=num}if(Number(row.archetypePoints)>0){const num=Number(row.archetypePoints);sheetData.archetype.count+=num,totalPoints+=num}if(Number(row.experiencePoints)>0){totalPoints+=Number(row.experiencePoints)}let name=item.name;key===this.cocidLanguageOwn?name=item.system.specialization+" ("+item.system.skillName+")":skill.flags.isCreditRating?(name=name+" ["+this.object.creditRating.min+" - "+this.object.creditRating.max+"]",totalPoints>=this.object.creditRating.min&&totalPoints<=this.object.creditRating.max&&(sheetData.creditRatingOkay=!0)):"string"==typeof row.selected&&(name=item.system.specialization+" ("+row.selected+")"),sheetData.skills.push({key,index,name,isOccupation:row.occupationToggle,isArchetype:row.archetypeToggle,base,personalPoints:row.personalPoints,occupationPoints:row.occupationPoints,archetypePoints:row.archetypePoints,experiencePoints:row.experiencePoints,totalPoints,showCreditRating:showMonetary&&key===this.cocidCreditRating})}}}sheetData.skills.sort(CoC7Utilities.sortByNameKey),sheetData.creditRatingOkay&&(sheetData.canNext=!0)}sheetData.personal.remaining=sheetData.personal.total-sheetData.personal.count,sheetData.occupation.remaining=sheetData.occupation.total-sheetData.occupation.count,sheetData.archetype.remaining=sheetData.archetype.total-sheetData.archetype.count;break;case sheetData.pages.PAGE_BACKSTORY:{const allBackstories=await this.object.cacheBackstories;sheetData.backstories={};for(let index=0;index<this.object.bioSections.length;index++)sheetData.backstories[index]={index,name:this.object.bioSections[index].name,rolls:game.system.api.cocid.findCocIdInList(this.object.bioSections[index].key,allBackstories).length?this.object.bioSections[index].key:"",value:this.object.bioSections[index].value}}sheetData.canNext=!0,sheetData.createButton=game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole;break;case sheetData.pages.PAGE_CREATE:sheetData.canNext=!0,sheetData.createButton=!0}return sheetData}activateListeners(html){super.activateListeners(html),html.keypress((e=>/textarea/i.test((e.target||e.srcElement).tagName)||13!==(e.keyCode||e.which||e.charCode||0))),html.find(".submit_on_change").change(this._onChangeSubmit.bind(this)),html.find(".roll-characteristic").click(this._onRollCharacteristic.bind(this)),html.find(".increase-10-characteristic").click(this._onIncreaseCharacteristic10.bind(this)),html.find(".increase-characteristic").click(this._onIncreaseCharacteristic.bind(this)),html.find(".decrease-characteristic").click(this._onDecreaseCharacteristic.bind(this)),html.find(".decrease-10-characteristic").click(this._onDecreaseCharacteristic10.bind(this)),html.find("button.roll_all").click(this._onRollAll.bind(this)),html.find("button.roll_edu").click(this._onRollEdu.bind(this)),html.find("button.roll_luck").click(this._onRollLuck.bind(this)),html.find(".item input.submit_on_blur").blur(this._onChangeSubmit.bind(this)),html.find(".item input.save-characteristic-on-blur").blur(this._onChangeSaveCharacteristic.bind(this)),html.find(".item.toggleable").click(this._onToggleSkill.bind(this)),html.find(".item.clickable").click(this._onClickPickSkill.bind(this)),html.find(".skills-list input").click(this._onClickSkillSpecial.bind(this)),html.find(".skills-list .remove-skill").click(this._onClickRemoveSkill.bind(this)),html.find(".item input.skill-adjustment").blur(this._onChangeSkillPoints.bind(this)),html.find("textarea.backstory-text").keyup(this._onChangeBackstoryText.bind(this)),html.find("button.backstory-roll").click(this._onRollBackstory.bind(this)),html.find("button.backstory-reset").click(this._onResetBackstory.bind(this))}async rollMessage(rolls){if(rolls.length){const html=[];for(const roll of rolls)html.push(await renderTemplate(Roll.CHAT_TEMPLATE,{formula:(CoC7Utilities.getCharacteristicNames(roll[0])?.label??roll[0])+": "+roll[1],tooltip:await roll[2].getTooltip(),total:roll[2].total}));ChatMessage.create({user:game.user.id,speaker:{alias:game.user.name},content:html.join("<div>&nbsp;</div>"),whisper:ChatMessage.getWhisperRecipients("GM")})}}addItemToList(item,{isOccupationDefault=!1,inOccupationGroup=!1,occupationToggle=!1,isArchetypeDefault=!1,archetypeToggle=!1,isCreditRating=!1}={}){const key=item.flags.CoC7?.cocidFlag?.id??item.name;if("skill"!==item.type)return void this.object.investigatorItems.push(item);const isMultiple=!(!item.system.properties.special||!(item.system.properties.requiresname&&!item.system.properties.onlyone||item.system.properties.picknameonly||item.name===game.i18n.format("CoC7.AnySpecName"))),flags={isOccupationDefault,inOccupationGroup,isArchetypeDefault,isCreditRating,occupationToggle,archetypeToggle},rows={occupationPoints:"",archetypePoints:"",experiencePoints:"",personalPoints:"",selected:!1};if(void 0===this.object.skillItems[key])this.object.skillItems[key]={item,flags:mergeObject(flags,{isMultiple},{inplace:!1}),rows:[]},isMultiple&&!1===isOccupationDefault&&!1===inOccupationGroup&&!1===isArchetypeDefault||this.object.skillItems[key].rows.push(mergeObject(flags,rows,{inplace:!1}));else{if(isMultiple)this.object.skillItems[key].rows.push(mergeObject(flags,rows,{inplace:!1}));else for(const flag in flags)this.object.skillItems[key].rows[0][flag]=this.object.skillItems[key].rows[0][flag]||flags[flag];for(const flag in flags)this.object.skillItems[key].flags[flag]=this.object.skillItems[key].flags[flag]||flags[flag]}!isMultiple&&flags.isCreditRating&&(this.object.skillItems[key].rows[0].occupationPoints=this.object.creditRating.min)}clearSetupPoints(){for(const key in this.object.setupPoints)this.object.setupPoints[key]=""}async setSkillLists(){this.object.skillItems={},this.object.occupationGroups={},this.object.investigatorItems=[],this.object.placeable=duplicate(this.object.quickFireValues);const setup=await this.getCacheItemByCoCID(this.object.setup),occupation=await this.getCacheItemByCoCID(this.object.occupation);let archetype=!1;if(""!==this.object.archetype&&(archetype=await this.getCacheItemByCoCID(this.object.archetype)),setup&&occupation&&(!game.settings.get("CoC7","pulpRuleArchetype")||archetype)){this.object.bioSections=[];for(let index=0;index<setup.system.bioSections.length;index++)this.object.bioSections.push({name:setup.system.bioSections[index],value:"",key:"rt..backstory-"+CoC7Utilities.toKebabCase(setup.system.bioSections[index])});this.object.personal=occupation.system.personal,this.object.creditRating=occupation.system.creditRating;let items=[];items=await this.expandItemArray(setup.system.items);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index]);items=await this.expandItemArray(occupation.system.skills);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index],{isOccupationDefault:!0,occupationToggle:!0});for(let group=0,gm=occupation.system.groups.length;group<gm;group++){this.object.occupationGroups[group]=occupation.system.groups[group].options,items=await this.expandItemArray(occupation.system.groups[group].skills);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index],{inOccupationGroup:group})}if(archetype){items=await this.expandItemArray(archetype.system.skills);for(let index=0,im=items.length;index<im;index++)this.addItemToList(items[index],{isArchetypeDefault:!0,archetypeToggle:!0})}if(Number(this.object.creditRating.max)>0){const nameCreditRating=game.i18n.format("CoC7.CoCIDFlag.keys."+this.cocidCreditRating),flags={isOccupationDefault:!0,occupationToggle:!0,isCreditRating:!0};if(void 0!==this.object.skillItems[this.cocidCreditRating])this.addItemToList(this.object.skillItems[this.cocidCreditRating].item,flags);else if(void 0!==this.object.skillItems[nameCreditRating])this.addItemToList(this.object.skillItems[nameCreditRating].item,flags);else{const skill=await game.system.api.cocid.fromCoCID(this.cocidCreditRating);skill.length&&this.addItemToList(skill[0],flags)}}}}_onDragStart(event){if(event.currentTarget.dataset.characteristicKey){const dragData={type:"investigatorCharacteristic",key:event.currentTarget.dataset.characteristicKey,value:event.currentTarget.dataset.value};event.dataTransfer.setData("text/plain",JSON.stringify(dragData))}}async _onDrop(event){try{const dataList=JSON.parse(event.dataTransfer.getData("text/plain"));if(void 0!==dataList.type&&"investigatorCharacteristic"===dataList.type){if(dataList.destination=event.target.closest("li").dataset.characteristicKey,dataList.okay=!1,"-"===dataList.key&&void 0!==this.object.setupPoints[dataList.destination]){const index=this.object.placeable.indexOf(parseInt(dataList.value,10));-1!==index&&this.object.placeable.splice(index,1),""!==this.object.setupPoints[dataList.destination]&&this.object.placeable.push(parseInt(this.object.setupPoints[dataList.destination],10)),this.object.setupPoints[dataList.destination]=parseInt(dataList.value,10),this.object.placeable.sort().reverse(),dataList.okay=!0}else if(void 0!==this.object.setupPoints[dataList.key]&&"-"===dataList.destination)""!==this.object.setupPoints[dataList.key]&&(this.object.placeable.push(parseInt(this.object.setupPoints[dataList.key],10)),this.object.setupPoints[dataList.key]="",this.object.placeable.sort().reverse(),dataList.okay=!0);else if(void 0!==this.object.setupPoints[dataList.key]&&void 0!==this.object.setupPoints[dataList.destination]){const temp=""===this.object.setupPoints[dataList.key]?"":parseInt(this.object.setupPoints[dataList.key],10);this.object.setupPoints[dataList.key]=""===this.object.setupPoints[dataList.destination]?"":parseInt(this.object.setupPoints[dataList.destination],10),this.object.setupPoints[dataList.destination]=temp,dataList.okay=!0}if(dataList.okay)return void this.render(!0)}}catch(err){}const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");if([this.pageList.PAGE_ARCHETYPE_SKILLS,this.pageList.PAGE_OCCUPATION_SKILLS].includes(this.object.step))for(const item of dataList)"skill"===item.type&&(this.addItemToList(item),this.render(!0))}_onClickSkillSpecial(event){event.stopPropagation()}_onClickRemoveSkill(event){event.stopPropagation();const key=event.currentTarget?.parentNode?.dataset?.key,index=event.currentTarget?.parentNode?.dataset?.index;void 0!==this.object.skillItems[key]?.rows[index]&&(this.object.skillItems[key].rows.splice(index,index),this.render(!0))}async _onToggleSkill(event){const key=event.currentTarget?.dataset?.key,index=event.currentTarget?.dataset?.index,toggleKey=event.currentTarget?.dataset?.toggleKey;void 0!==this.object.skillItems[key]?.rows[index]&&(this.object.skillItems[key].rows[index][toggleKey]=!this.object.skillItems[key].rows[index][toggleKey],this.render(!0))}async _onClickPickSkill(event){const key=event.currentTarget?.dataset?.key,index=event.currentTarget?.dataset?.index,toggleKey=event.currentTarget?.dataset?.toggleKey;if(void 0!==this.object.skillItems[key]){index>-1&&(this.object.skillItems[key].rows[index][toggleKey]=!1,this.object.skillItems[key].rows[index].selected=!1,this.render(!0));let skillList=[];const group=game.system.api.cocid.guessGroupFromKey(key);group&&(skillList=(await game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:new RegExp("^"+CoC7Utilities.quoteRegExp(group)+".+$"),type:"i"})).filter((item=>!(item.system.properties?.special&&(item.system.properties?.requiresname||item.system.properties?.picknameonly)))),skillList.length>1&&skillList.sort(CoC7Utilities.sortByNameKey));const skillData=await SkillSpecializationSelectDialog.create({skills:skillList,allowCustom:this.object.skillItems[key].item.system.properties?.requiresname??!1,fixedBaseValue:!0,specializationName:this.object.skillItems[key].item.system.specialization,label:this.object.skillItems[key].item.name});if(index>-1)""!==skillData.selected?(this.object.skillItems[key].rows[index].selected=skillList.find((i=>i.id===skillData.selected)),this.object.skillItems[key].rows[index][toggleKey]=!0):""!==skillData.name&&(this.object.skillItems[key].rows[index].selected=skillData.name,this.object.skillItems[key].rows[index][toggleKey]=!0);else{let selected=!1;""!==skillData.selected?selected=skillList.find((i=>i.id===skillData.selected)):""!==skillData.name&&(selected=skillData.name),this.object.skillItems[key].rows.push({isOccupationDefault:!1,inOccupationGroup:!1,isArchetypeDefault:!1,isCreditRating:!1,occupationToggle:"occupationToggle"===toggleKey,archetypeToggle:"archetypeToggle"===toggleKey,occupationPoints:"",archetypePoints:"",experiencePoints:"",personalPoints:"",selected})}this.render(!0)}}async _onChangeSkillPoints(event){const input=$(event.currentTarget),adjustment=input.data("adjustment"),li=input.closest("li"),key=li.data("key"),index=li.data("index");void 0!==this.object.skillItems[key]?.rows[index][adjustment]&&(this.object.skillItems[key].rows[index][adjustment]=input.val()),this.render(!0)}async _onChangeBackstoryText(event){const textarea=$(event.currentTarget),index=textarea.data("index");void 0!==this.object.bioSections[index]&&(this.object.bioSections[index].value=textarea.val())}async _onRollBackstory(event){const button=$(event.currentTarget),index=button.data("index"),key=button.data("key");if(void 0!==this.object.bioSections[index]){const rolltable=await game.system.api.cocid.fromCoCID(key);if(1===rolltable.length){const tableResult=await rolltable[0].roll();tableResult.results[0].type===CONST.TABLE_RESULT_TYPES.TEXT&&(this.object.bioSections[index].value=(this.object.bioSections[index].value+"\n"+tableResult.results[0].text.trim()).trim())}}this.render(!0)}async _onResetBackstory(event){const index=$(event.currentTarget).data("index");void 0!==this.object.bioSections[index]&&(this.object.bioSections[index].value=""),this.render(!0)}async _onRollLuck(event){const setup=await this.getCacheItemByCoCID(this.object.setup);if(setup){const die=await new Roll(setup.system.characteristics.rolls.luck.toString()).evaluate({async:!0});this.object.setupModifiers.luck=[die.total];const html=await renderTemplate(Roll.CHAT_TEMPLATE,{formula:game.i18n.localize("CoC7.InvestigatorWizard.RollTwiceForLuck")+": "+setup.system.characteristics.rolls.luck.toString(),tooltip:await die.getTooltip(),total:die.total});ChatMessage.create({user:game.user.id,speaker:{alias:game.user.name},content:html,whisper:ChatMessage.getWhisperRecipients("GM")}),this.render(!0)}}async _onRollEdu(event){if(event.preventDefault(),void 0!==this.object.requiresAgeAdjustments.edu&&!this.object.requiresAgeAdjustments.edu.rolled&&this.object.requiresAgeAdjustments.edu.total){let value=parseInt(this.object.setupPoints.edu,10);const message=[];for(let rolls=this.object.requiresAgeAdjustments.edu.total;rolls>0;rolls--){const die=await new Roll("1d100").evaluate({async:!0});if(die.total>value){const augmentDie=await new Roll("1d10").evaluate({async:!0});message.push(`<span class="upgrade-success">${game.i18n.format("CoC7.DevSuccess",{item:game.i18n.localize("CHARAC.Education"),die:die.total,score:value,augment:augmentDie.total})}</span><br>`),value+=parseInt(augmentDie.total,10)}else message.push(`<span class="upgrade-failed">${game.i18n.format("CoC7.DevFailure",{item:game.i18n.localize("CHARAC.Education"),die:die.total,score:value})}</span><br>`)}ChatMessage.create({flavor:game.i18n.localize("CoC7.RollAll4Dev"),user:game.user.id,speaker:{alias:game.user.name},content:message.join(""),whisper:ChatMessage.getWhisperRecipients("GM")}),this.object.setupModifiers.edu=value-parseInt(this.object.setupPoints.edu,10),this.object.requiresAgeAdjustments.edu.rolled=!0,this.render(!0)}}async _onRollAll(event){event.preventDefault();const rolls=[];for(const key of["str","con","siz","dex","app","int","pow","edu","luck"]){const result=await this.rollCharacteristic(key);!1!==result&&rolls.push(result)}this.rollMessage(rolls),this.render(!0)}async _onIncreaseCharacteristic10(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,10,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,10),this.render(!0)}async _onIncreaseCharacteristic(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,1,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,1),this.render(!0)}async _onDecreaseCharacteristic(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,-1,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,-1),this.render(!0)}_onDecreaseCharacteristic10(event){event.preventDefault();const li=event.currentTarget.closest(".item");void 0!==li.dataset.offset&&void 0!==li.dataset.min&&void 0!==li.dataset.max?this.modifyOffset(li.dataset.offset,-10,li.dataset.min,li.dataset.max):void 0!==li.dataset.key&&this.modifyCharacteristic(li.dataset.key,-10),this.render(!0)}modifyOffset(key,value,min,max){this.object.setupModifiers[key]=Math.max(Math.min(parseInt(this.object.setupModifiers[key],10)+value,parseInt(max,10)),parseInt(min,10))}modifyCharacteristic(key,value){const li=this._element[0].querySelector(`li.item[data-key=${key}]`),input=li?.querySelector("input");input&&(input.value=Number(input.value)+value,this.object.setupPoints[key]=Number(input.value))}async _onRollCharacteristic(event){event.preventDefault();const characKey=event.currentTarget.closest(".item").dataset.key,result=await this.rollCharacteristic(characKey);!1!==result&&this.rollMessage([result]),this.render(!0)}async rollCharacteristic(key){const li=$(`#investigator-wizard-application li.item[data-key=${key}]`),input=li.find("input"),formula=li.data("roll");if(input&&formula&&(this.object.rerollsEnabled||""===this.object.setupPoints[key])){const roll=new Roll(formula.toString());return await roll.evaluate({async:!0}),input.val(roll.total),this.object.setupPoints[key]=Number(roll.total),[key,formula.toString(),roll]}return!1}_onChangeSubmit(event){this._onSubmit(event)}_onChangeSaveCharacteristic(event){const obj=$(event.currentTarget),name=obj.prop("name");if(void 0!==this.object.setupPoints[name]){this.object.setupPoints[name]=obj.val();let empties=!1,total=0;for(const key in this.object.setupPoints)""!==this.object.setupPoints[key]?"luck"!==key&&(total+=parseInt(this.object.setupPoints[key],10)):empties=!0;const objTotal=obj.closest("ol.item-list").find("span.total"),max=parseInt(objTotal.siblings("span.value").text(),10);objTotal.text(total),total!==max||empties?obj.closest("form").find("button.submit-button[data-button=next]").length>0&&this.render(!0):0===obj.closest("form").find("button.submit-button[data-button=next]").length&&this.render(!0)}}getPageNumber(direction){const pageOrder=this.pageOrder,key=parseInt(Object.keys(pageOrder).find((key=>pageOrder[key]===this.object.step)),10)+direction;return pageOrder[key]}async _updateObject(event,formData){if(["back","next"].includes(event.submitter?.dataset.button)){if(event.submitter.className.indexOf("currently-submitting")>-1)return;event.submitter.className=event.submitter.className+" currently-submitting"}if(void 0!==formData["default-setup"]&&void 0!==formData["world-era"]&&void 0!==formData["default-ownership"]){if(this.object.defaultSetup!==formData["default-setup"]&&(this.object.defaultSetup=formData["default-setup"],game.settings.set("CoC7","InvestigatorWizardSetup",this.object.defaultSetup),this.object.setup=this.object.defaultSetup,this.clearSetupPoints(),await this.setSkillLists()),this.object.defaultOwnership!==formData["default-ownership"]&&(this.object.defaultOwnership=formData["default-ownership"],game.settings.set("CoC7","InvestigatorWizardOwnership",this.object.defaultOwnership)),this.object.defaultEra!==formData["world-era"]){const obj=$(this.element.find("form")),started=Date.now();obj.find(".dialog-buttons:first").hide(),obj.find(".scrollsection:first").hide(),obj.find(".erachange:first").show(),this.object.defaultEra=formData["world-era"],await game.settings.set("CoC7","worldEra",this.object.defaultEra),this.object.cacheCoCID=await CoC7InvestigatorWizard.loadCacheItemByCoCID();const buffer=500-(Date.now()-started);buffer>10&&await new Promise((resolve=>setTimeout(resolve,buffer)))}if(void 0!==formData["characteristics-method"]){const type=Number(formData["characteristics-method"]);type===this.characteristicsMethods.METHOD_DEFAULT?(this.object.enforcePointBuy=!1,this.object.quickFireValues=[]):type===this.characteristicsMethods.METHOD_POINTS?(this.object.enforcePointBuy=!0,this.object.quickFireValues=[]):type===this.characteristicsMethods.METHOD_VALUES&&(this.object.enforcePointBuy=!1,game.settings.get("CoC7","pulpRuleArchetype")?this.object.quickFireValues=[90,80,70,60,60,50,50,40]:this.object.quickFireValues=[80,70,60,60,50,50,50,40]),game.settings.set("CoC7","InvestigatorWizardPointBuy",this.object.enforcePointBuy),game.settings.set("CoC7","InvestigatorWizardQuickFire",this.object.quickFireValues)}this.object.rerollsEnabled="string"==typeof formData["rerolls-enabled"],game.settings.set("CoC7","InvestigatorWizardRerolls",this.object.rerollsEnabled);for(let i=0,im=this.object.quickFireValues.length;i<im;i++){const num=Number(formData["quick-fire-values-"+i]);num>0&&(this.object.quickFireValues[i]=num)}this.object.quickFireValues.sort().reverse(),this.object.placeable=duplicate(this.object.quickFireValues),"string"==typeof formData["default-enabled"]?"0"===this.object.defaultQuantity.toString()?(this.object.defaultQuantity=1,game.settings.set("CoC7","InvestigatorWizardQuantity",this.object.defaultQuantity)):(this.object.defaultQuantity=formData["default-quantity"],game.settings.set("CoC7","InvestigatorWizardQuantity",this.object.defaultQuantity)):"0"!==this.object.defaultQuantity.toString()&&(this.object.defaultQuantity=0,game.settings.set("CoC7","InvestigatorWizardQuantity",this.object.defaultQuantity))}else if(void 0!==formData["coc-setup"])this.object.setup!==formData["coc-setup"]&&(this.object.setup=formData["coc-setup"],this.clearSetupPoints(),await this.setSkillLists());else if(void 0!==formData["coc-archetype"])this.object.archetype!==formData["coc-archetype"]&&(this.object.archetype=formData["coc-archetype"],this.object.coreCharacteristic="",this.clearSetupPoints(),await this.setSkillLists());else if(void 0!==formData["coc-occupation"])this.object.occupation!==formData["coc-occupation"]&&(this.object.occupation=formData["coc-occupation"],await this.setSkillLists());else{for(const key in this.object.setupPoints)void 0!==formData[key]&&this.object.setupPoints[key]!==formData[key]&&(this.object.setupPoints[key]=formData[key]);void 0!==formData["coc-core-characteristic"]&&this.object.coreCharacteristic!==formData["coc-core-characteristic"]&&(this.object.coreCharacteristic=formData["coc-core-characteristic"],this.clearSetupPoints(),this.object.placeable=duplicate(this.object.quickFireValues))}const flatKeys=["name","age","residence","birthplace","language","avatar","token"];for(const key of flatKeys)void 0!==formData[key]&&this.object[key]!==formData[key]&&(this.object[key]=formData[key],"age"===key&&this.getAgeAdjustments());if("back"===event.submitter?.dataset.button){const pageNumber=this.getPageNumber(-1);if(void 0!==pageNumber){this.object.step=pageNumber;const obj=this.element.find(".scrollsection");obj.length&&obj[0].scrollTop&&(obj[0].scrollTop=0)}}else if("next"===event.submitter?.dataset.button){if(this.object.step===this.pageList.PAGE_CREATE||this.object.step===this.pageList.PAGE_BACKSTORY&&game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole)return void this.attemptToCreate();{const pageNumber=this.getPageNumber(1);if(void 0!==pageNumber){this.object.step=pageNumber;const obj=this.element.find(".scrollsection");obj.length&&obj[0].scrollTop&&(obj[0].scrollTop=0)}}}this.render(!0)}async attemptToCreate(){const actorData=await this.normalizeCharacterData(this.object);if(game.user.isGM||game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole){(await CoC7InvestigatorWizard.createCharacter(actorData)).sheet.render(!0),this.close()}else{const keepers=game.users.filter((u=>u.active&&u.isGM));if(keepers.length){actorData.ownership[game.user.id]=CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER;const data={type:"character-wizard",listener:keepers[0].id,payload:actorData};game.socket.emit("system.CoC7",data),ui.notifications.info(game.i18n.localize("CoC7.InvestigatorWizard.CreatingInvestigator")),this.close()}else ui.notifications.error(game.i18n.localize("CoC7.ErrorMissingKeeperUser"))}}async normalizeCharacterData(data){const weaponSkills={melee:{},rngd:{}},items=[];for(const key in data.skillItems){const skill=data.skillItems[key];for(let index=0,im=skill.rows.length;index<im;index++){const row=skill.rows[index];if(!skill.flags.isMultiple||!1!==row.selected){let item=duplicate(skill.item);!1!==row.selected&&"string"!=typeof row.selected&&(item=duplicate(row.selected),row.selected=!1),row.occupationToggle&&(item.system.flags.occupation=!0),row.archetypeToggle&&(item.system.flags.archetype=!0);let base=item.system.base;if(!Number.isNumeric(base))for(const key in data.setupPoints){const regEx=new RegExp("@"+key,"i");base=base.replace(regEx,parseInt(data.setupPoints[key],10)+parseInt(data.setupModifiers[key],10))}Number.isNumeric(base)||(base=Math.floor(new Roll(base).evaluate({async:!1}).total)),item.system.base=base,item.system.adjustments=item.system.adjustments??{},Number(row.personalPoints)>0&&(item.system.adjustments.personal=parseInt(row.personalPoints,10)),Number(row.occupationPoints)>0&&(item.system.adjustments.occupation=parseInt(row.occupationPoints,10)),Number(row.archetypePoints)>0&&(item.system.adjustments.archetype=parseInt(row.archetypePoints,10)),Number(row.experiencePoints)>0&&(item.system.adjustments.experience=parseInt(row.experiencePoints,10)),key===this.cocidLanguageOwn?(item.system.skillName=data.language,item.name=item.system.specialization+" ("+item.system.skillName+")"):"string"==typeof row.selected&&(item.system.skillName=row.selected,item._id=randomID(),item.name=item.system.specialization+" ("+item.system.skillName+")",void 0!==item.flags.CoC7?.cocidFlag?.id&&(item.flags.CoC7.cocidFlag.id=game.system.api.cocid.guessId(item))),item.system.properties?.fighting?(weaponSkills.melee[item.name]=item._id,weaponSkills.melee[item.system.skillName]=item._id):item.system.properties?.firearm&&(weaponSkills.rngd[item.name]=item._id,weaponSkills.rngd[item.system.skillName]=item._id),items.push(item)}}}for(const sourceItem of data.investigatorItems){const item=duplicate(sourceItem);item.system.properties.melee?(void 0!==weaponSkills.melee[item.system.skill.main.name]&&(item.system.skill.main.id=weaponSkills.melee[item.system.skill.main.name]),void 0!==weaponSkills.melee[item.system.skill.alternativ.name]&&(item.system.skill.alternativ.id=weaponSkills.melee[item.system.skill.alternativ.name])):item.system.properties.rngd&&(void 0!==weaponSkills.rngd[item.system.skill.main.name]&&(item.system.skill.main.id=weaponSkills.rngd[item.system.skill.main.name]),void 0!==weaponSkills.rngd[item.system.skill.alternativ.name]&&(item.system.skill.alternativ.id=weaponSkills.rngd[item.system.skill.alternativ.name])),items.push(item)}let monetary={};const setup=await this.getCacheItemByCoCID(this.object.setup);setup&&(monetary=duplicate(setup.system.monetary));const development={personal:2*(parseInt(data.setupPoints.int,10)+parseInt(data.setupModifiers.int,10)),occupation:0,archetype:0};if(""!==data.archetype){const archetype=await game.system.api.cocid.fromCoCID(data.archetype);1===archetype.length&&(items.push(archetype[0].toObject()),development.archetype=archetype[0].system.bonusPoints)}if(""!==data.occupation){const occupation=await game.system.api.cocid.fromCoCID(data.occupation);if(1===occupation.length){items.push(occupation[0].toObject());const options=[];for(const[key,carac]of Object.entries(occupation[0].system.occupationSkillPoints))carac.selected&&(carac.optional?options.push(carac.multiplier*(parseInt(data.setupPoints[key],10)+parseInt(data.setupModifiers[key],10))):development.occupation+=carac.multiplier*(parseInt(data.setupPoints[key],10)+parseInt(data.setupModifiers[key],10)));options.length>0&&(development.occupation+=Math.max(...options))}}const biography=[];for(let index=0,im=data.bioSections.length;index<im;index++)biography.push({title:data.bioSections[index].name,value:data.bioSections[index].value});return{type:"character",name:data.name,img:data.avatar,system:{characteristics:{str:{value:parseInt(data.setupPoints.str,10)+parseInt(data.setupModifiers.str,10)},con:{value:parseInt(data.setupPoints.con,10)+parseInt(data.setupModifiers.con,10)},siz:{value:parseInt(data.setupPoints.siz,10)+parseInt(data.setupModifiers.siz,10)},dex:{value:parseInt(data.setupPoints.dex,10)+parseInt(data.setupModifiers.dex,10)},app:{value:parseInt(data.setupPoints.app,10)+parseInt(data.setupModifiers.app,10)},int:{value:parseInt(data.setupPoints.int,10)+parseInt(data.setupModifiers.int,10)},pow:{value:parseInt(data.setupPoints.pow,10)+parseInt(data.setupModifiers.pow,10)},edu:{value:parseInt(data.setupPoints.edu,10)+parseInt(data.setupModifiers.edu,10)}},attribs:{lck:{value:Math.max(parseInt(data.setupPoints.luck,10),parseInt(data.setupModifiers.luck,10))},san:{value:parseInt(data.setupPoints.pow,10)+parseInt(data.setupModifiers.pow,10)}},infos:{age:data.age,residence:data.residence,birthplace:data.birthplace},development,biography,monetary},prototypeToken:{name:data.name,actorLink:!0,texture:{src:data.token},disposition:CONST.TOKEN_DISPOSITIONS.FRIENDLY,sight:{enabled:!0},detectionModes:[{id:"basicSight",range:30,enabled:!0}]},items,ownership:{default:parseInt(data.defaultOwnership,10)}}}static async createCharacterFromData(actorData){const actor=await CoC7InvestigatorWizard.createCharacter(actorData),functionId=Hooks.on("renderActorSheet",((app,html,data)=>{app.object.id===actor.id&&(game.socket.emit("system.CoC7",{type:"open-character",listener:Object.keys(actorData.ownership).find((k=>"default"!==k)),payload:actor.id}),Hooks.off("renderActorSheet",functionId))}));actor.sheet.render(!0)}static async createCharacter(actorData){const actor=await Actor.create(actorData);return await actor.update({"system.attribs.hp.value":actor.rawHpMax,"system.attribs.mp.value":actor.rawMpMax,"system.attribs.san.max":actor.rawMpMax}),await actor.resetDailySanity(),actor}static async create(options={}){options=mergeObject({step:0,defaultSetup:game.settings.get("CoC7","InvestigatorWizardSetup"),defaultQuantity:game.settings.get("CoC7","InvestigatorWizardQuantity"),defaultOwnership:game.settings.get("CoC7","InvestigatorWizardOwnership"),defaultEra:game.settings.get("CoC7","worldEra"),rerollsEnabled:game.settings.get("CoC7","InvestigatorWizardRerolls"),enforcePointBuy:game.settings.get("CoC7","InvestigatorWizardPointBuy"),quickFireValues:game.settings.get("CoC7","InvestigatorWizardQuickFire"),placeable:duplicate(game.settings.get("CoC7","InvestigatorWizardQuickFire")),cacheCoCID:CoC7InvestigatorWizard.loadCacheItemByCoCID(),cacheBackstories:game.system.api.cocid.fromCoCIDRegexBest({cocidRegExp:/^rt\.\.backstory-/,type:"rt"}),cacheItems:{},setup:game.settings.get("CoC7","InvestigatorWizardSetup"),skillItems:{},occupationGroups:{},investigatorItems:[],setupPoints:{str:"",con:"",siz:"",dex:"",app:"",int:"",pow:"",edu:"",luck:""},setupModifiers:{str:0,con:0,siz:0,dex:0,app:0,int:0,pow:0,edu:0,luck:0},archetype:"",coreCharacteristic:"",occupation:"",bioSections:[],personal:0,creditRating:{min:0,max:0},name:"",age:"",requiresAgeAdjustments:!1,residence:"",birthplace:"",language:"",avatar:"icons/svg/mystery-man.svg",token:"icons/svg/mystery-man.svg"},options),new CoC7InvestigatorWizard(options).render(!0)}}class CoC7MenuLayer extends PlaceablesLayer{constructor(){super(),this.objects={}}static get layerOptions(){return foundry.utils.mergeObject(super.layerOptions,{name:"coc7menu",zIndex:60})}static get documentName(){return"Token"}get placeables(){return[]}}class CoC7Menu{static getButtons(controls){canvas.coc7gmtools=new CoC7MenuLayer;const isKeeper=game.user.isGM,showHiddenDevMenu=game.settings.get("CoC7","hiddendevmenu");controls.push({name:"coc7menu",title:"CoC7.GmTools",layer:"coc7gmtools",icon:"game-icon game-icon-tentacle-strike",visible:isKeeper,tools:[{toggle:!0,icon:"fas fa-angle-double-up",name:"devphase",active:game.settings.get("CoC7","developmentEnabled"),title:"CoC7.DevPhase",onClick:async toggle=>await CoC7Utilities.toggleDevPhase(toggle)},{toggle:!0,icon:"fas fa-user-edit",name:"charcreate",active:game.settings.get("CoC7","charCreationEnabled"),title:"CoC7.CharCreationMode",onClick:async toggle=>await CoC7Utilities.toggleCharCreation(toggle)},{button:!0,icon:"fas fa-user-plus",name:"actor-import",title:"CoC7.ActorImporter",onClick:async()=>await CoC7ActorImporterDialog.create()},{button:!0,icon:"fas fa-user-check",name:"investigator-wizard",title:"CoC7.InvestigatorWizard.Title",onClick:async()=>await CoC7InvestigatorWizard.create()},{toggle:!0,icon:"fas fa-certificate",class:"xp_toggle",name:"xptoggle",active:game.settings.get("CoC7","xpEnabled"),title:"CoC7.toggleXP",onClick:async toggle=>await CoC7Utilities.toggleXPGain(toggle)},{button:!0,icon:"game-icon game-icon-card-joker",name:"fakeroll",title:"CoC7.FakeRoll",onClick:CoC7Chat.fakeRollMessage},{button:!0,icon:"fas fa-moon",name:"startrest",title:"CoC7.startRest",onClick:async()=>await CoC7Utilities.getTarget()}]}),showHiddenDevMenu&&(canvas.coc7DevTools=new CoC7MenuLayer,controls.push({name:"coc7DevMenu",title:"Dev tools. If you don't know what it is, you don't need it and you shouldn't use it !!",layer:"coc7DevTools",icon:"game-icon game-icon-police-badge",visible:isKeeper,tools:[{toggle:!0,icon:"game-icon game-icon-dice-fire",name:"alwaysCrit",active:game.CoC7.dev.dice.alwaysCrit,title:"All rolls will crit",onClick:toggle=>{game.CoC7.dev.dice.alwaysFumble=!1,game.CoC7.dev.dice.alwaysCrit=toggle}},{toggle:!0,icon:"game-icon game-icon-fire-extinguisher",name:"alwaysFumble",active:game.CoC7.dev.dice.alwaysFumble,title:"All rolls will fumble",onClick:toggle=>{game.CoC7.dev.dice.alwaysFumble=toggle,game.CoC7.dev.dice.alwaysCrit=!1}}]}))}static renderControls(app,html,data){const isKeeper=game.user.isGM,keeperMenu=html.find(".game-icon-tentacle-strike").parent();keeperMenu.addClass("coc7-menu"),isKeeper&&keeperMenu.after('<li class="scene-control coc7-menu coc7-create-link" title="'+game.i18n.localize("CoC7.CreateLink")+'"><i class="fas fa-link"></i></li>'),keeperMenu.after('<li class="scene-control coc7-menu coc7-dice-roll" title="'+game.i18n.localize("CoC7.RollDice")+'"><i class="game-icon game-icon-d10"></i></li>'),html.find(".coc7-menu.coc7-dice-roll").click((event=>CoC7Utilities.rollDice(event))),html.find(".coc7-menu.coc7-create-link").click((event=>CoC7ContentLinkDialog.create(event)))}}class CoC7Canvas{static get COC7_TYPES_SUPPORTED(){return["CoC7Link"]}static async onDropSomething(canvas,data){if(data.type&&CoC7Canvas.COC7_TYPES_SUPPORTED.includes(data.type)){const gridSize=canvas.scene.grid.size,x=data.x-gridSize/2,y=data.y-gridSize/2,height=gridSize,width=gridSize;let dropTargetTokens=canvas.tokens.placeables.filter((obj=>{const c=obj.center;return Number.between(c.x,x,x+width)&&Number.between(c.y,y,y+height)}));if(dropTargetTokens.length||(dropTargetTokens=canvas.tokens.controlled),"CoC7Link"===data.type)if(data.check===CoC7Link.CHECK_TYPE.EFFECT){if(dropTargetTokens.length)for(const token of dropTargetTokens)CoC7Link._onLinkActorClick(token.actor,data)}else dropTargetTokens.length?CoC7Link.toWhisperMessage(data,dropTargetTokens.filter((t=>t.actor.owners.length)).map((t=>t.actor))):CoC7Link.toWhisperMessage(data,game.users.players.filter((u=>!!u.character)).map((u=>u.character)))}}}class CoC7SettingsDirectory extends Settings{activateListeners(html){super.activateListeners(html),game.user.isGM&&(html.find("#settings-game").append('<button class="trigger-data-migration"><i class="fas fa-wrench"></i> '+game.i18n.localize("CoC7.Migrate.TriggerButton")+"</button>"),html.find(".trigger-data-migration").click((()=>{new Dialog({title:game.i18n.localize("CoC7.Migrate.TriggerTitle"),content:game.i18n.localize("CoC7.Migrate.TriggerContents"),buttons:{migrate:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Migrate.TriggerRestart"),callback:async()=>{await game.settings.set("CoC7","systemUpdateVersion",0),window.location.reload()}},close:{icon:'<i class="fas fa-ban"></i>',label:game.i18n.localize("Cancel"),callback:()=>{}}},default:"close"},{}).render(!0)})))}}class CoC7CompendiumDirectory extends CompendiumDirectory{activateListeners(html){super.activateListeners(html);let translated=!1;if("en"===game.i18n.lang)translated=!0;else if(void 0!==game.babele)for(const v of Object.values(game.babele.modules))v.lang===game.i18n.lang&&(translated=!0);translated||(html.find("footer.directory-footer").append('<a class="compendium-translation" title="'+game.i18n.localize("CoC7.HowToTranslateTitle")+'">'+game.i18n.localize("CoC7.HowToTranslateTitle")+"</a>"),html.find(".compendium-translation").click((()=>{const message="<p>"+game.i18n.localize("CoC7.HowToTranslateWarning")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateInstallBabele")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateInstallTranslation")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateEnableTranslation")+"</p><p>"+game.i18n.localize("CoC7.HowToTranslateNoTranslation")+"</p>";new Dialog({title:game.i18n.localize("CoC7.HowToTranslateTitle"),content:message,buttons:{},default:"close"},{}).render(!0)})))}}class CoC7ActorDirectory extends ActorDirectory{activateListeners(html){super.activateListeners(html);let allowWizard=game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole;if(!allowWizard){const allowed=game.settings.get("CoC7","InvestigatorWizardQuantity");if(allowed>0){allowWizard=game.actors.filter((a=>[a.ownership.default,a.ownership[game.user.id]??CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE].includes(CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER))).length<allowed}}allowWizard&&(html.find("footer.directory-footer").append('<a class="investigator-wizard">'+game.i18n.localize("CoC7.InvestigatorWizard.Title")+"</a>"),html.find(".investigator-wizard").click((()=>{CoC7InvestigatorWizard.create()}))),game.user.role>=CONST.USER_PERMISSIONS.ACTOR_CREATE.defaultRole&&(html.find("footer.directory-footer").append('<a class="actor-import">'+game.i18n.localize("CoC7.ActorImporter")+"</a>"),html.find(".actor-import").click((()=>{CoC7ActorImporterDialog.create()})))}}class CoC7Spell extends CoC7Item{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/pentagram-rose.svg"),super(data,context),this.context=context}async cast(){if(!this.isOwned)return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"));const costs=this.system.costs,losses=[];let convertSurplusIntoHitPoints;if(costs.magicPoints=CoC7Utilities.isFormula(costs.magicPoints)?(await new Roll(costs.magicPoints).roll({async:!0})).total:parseInt(costs.magicPoints),costs.magicPoints&&costs.magicPoints>this.actor.system.attribs.mp.value&&(convertSurplusIntoHitPoints=await new Promise((resolve=>{const convertedHitPoints=costs.magicPoints-this.actor.system.attribs.mp.value,convertedMagicPoints=costs.magicPoints-convertedHitPoints,data={title:" ",content:game.i18n.format("CoC7.NotEnoughMagicPoints",{actorMagicPoints:this.actor.system.attribs.mp.value,convertedHitPoints,convertedMagicPoints,originalMagicPoints:costs.magicPoints,spell:this.name}),buttons:{cancel:{icon:'<i class="fas fa-times"></i>',label:game.i18n.localize("CoC7.Cancel"),callback:()=>resolve(!1)},proceed:{icon:'<i class="fas fa-check"></i>',label:game.i18n.localize("CoC7.Proceed"),callback:()=>(costs.hitPoints=convertedHitPoints,costs.magicPoints=convertedMagicPoints,resolve(!0))}},default:"cancel",classes:["coc7","dialog"]};new Dialog(data).render(!0)})),!convertSurplusIntoHitPoints))return;for(const[key,value]of Object.entries(costs))value&&0!==Number(value)&&losses.push(await this.resolveLosses(key,value));const description=this.system.description.value,html=await renderTemplate("systems/CoC7/templates/items/spell/chat.html",{description,losses});return await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:this.name,content:html})}async resolveLosses(characteristic,value){let characteristicName,loss;loss=CoC7Utilities.isFormula(value)?(await new Roll(value).roll({async:!0})).total:parseInt(value);const actorData=this.actor.system;switch(characteristic){case"hitPoints":characteristicName=game.i18n.localize("CoC7.HitPoints"),this.actor.dealDamage(loss,{ignoreArmor:!0});break;case"sanity":characteristicName=game.i18n.localize("CoC7.SanityPoints"),this.grantSanityLoss(loss);break;case"magicPoints":characteristicName=game.i18n.localize("CoC7.MagicPoints"),this.actor.setMp(actorData.attribs.mp.value-loss);break;case"power":characteristicName=game.i18n.localize("CHARAC.Power"),this.actor.update({"system.characteristics.pow.value":actorData.characteristics.pow.value-loss})}return{characteristicName,loss}}async grantSanityLoss(value){const template=SanCheckCard.template;let html=await renderTemplate(template,{});const message=await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:game.i18n.format("CoC7.CastingSpell",{spell:this.name}),content:html}),card=await message.getHTML();if(void 0!==card.length&&1===card.length){const sanityLoss=value;html=card.find(".chat-card")[0],html.dataset.object=escape(JSON.stringify({actorKey:this.actor.id,fastForward:!1,sanData:{sanMin:sanityLoss,sanMax:sanityLoss}}));const sanityCheck=SanCheckCard.getFromCard(html);await sanityCheck.bypassRollSan(),await sanityCheck.rollSanLoss(),sanityCheck.updateChatCard()}}async update(data,context){if(void 0!==this.context.parent&&void 0!==this.context.bookId){let item,book;null===this.context.parent?(item=game.items.get(this.context.bookId),book=item.toObject()):book=this.context.parent.items.get(this.context.bookId).toObject();for(let i=0,im=book.system.spells.length;i<im;i++)book.system.spells[i]._id===this.id&&(book.system.spells[i]=mergeObject(book.system.spells[i],data));null===this.context.parent?(await item.update({"system.spells":book.system.spells}),this.sheet.object=new CoC7Spell(book.system.spells.find((spell=>spell._id===this.id)),this.context)):(await this.context.parent.updateEmbeddedDocuments("Item",[book]),this.sheet.object=new CoC7Spell(book.system.spells.find((spell=>spell._id===this.id)),this.context)),this.sheet.render(!0)}else super.update(data,context)}}class CoC7Book extends CoC7Item{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/secret-book.svg"),super(data,context)}static convertDifficulty(difficulty){switch(difficulty){case"hard":return CoC7Check.difficultyLevel.hard;case"extreme":return CoC7Check.difficultyLevel.extreme;case"critical":return CoC7Check.difficultyLevel.critical;case"unreadable":return CoC7Check.difficultyLevel.impossible;default:return CoC7Check.difficultyLevel.regular}}async addSpells(spells){const collection=this.system.spells?duplicate(this.system.spells):[];for(const spell of spells)collection.push(spell);return await this.update({"system.spells":collection})}async spellDetail(index){const isKeeper=game.user.isGM,data=this.system.spells[index],parent=this.actor?this.actor:null,spell=new CoC7Spell(data,{parent,bookId:this.id});if(isKeeper||spell.system.learned)return await spell.sheet.render(!0)}async attemptInitialReading(){const difficulty=CoC7Book.convertDifficulty(this.system.difficultyLevel),language=this.system.language,skill=this.actor?.getSkillsByName(language);if(skill){if(0===skill.length)return ui.notifications.error(game.i18n.format("CoC7.UnknownLanguage",{actor:this.actor.name}));{const check=new CoC7Check;return check.actor=this.actor,check.skill=skill[0].id,check.difficulty=difficulty,check.parent=this.uuid,check.context="INITIAL_READING",check.flavor=game.i18n.format("CoC7.ReadAttempt",{book:this.name,language,difficulty:this.system.difficultyLevel}),await check.roll(),await check.toMessage()}}return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"))}async changeProgress(mode,value){if(!this.isOwned&&"reset"!==mode)return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"));if(!this.system.initialReading&&"reset"!==mode)return ui.notifications.error(game.i18n.format("CoC7.InitialReadingNeeded",{actor:this.actor.name,book:this.name}));if(!this.system.type.mythos&&"reset"!==mode)return ui.notifications.error(game.i18n.localize("CoC7.NotMythosTome"));const necessary=this.system.study.necessary;let fullStudy=this.system.fullStudy,progress=this.system.study.progress;if(isNaN(progress))return await this.update({"system.study.progress":0});if(value&&progress>value)return await this.update({"system.fullStudy":++fullStudy,"system.study.progress":value}),await this.completeFullStudy();if("increase"===mode&&progress<necessary){if(!1!==await this.checkExhaustion())return;if(await this.update({"system.study.progress":++progress}),progress===necessary)return await this.update({"system.fullStudy":++fullStudy}),await this.grantFullStudy()}else if("decrease"===mode&&progress>0)return await this.update({"system.study.progress":--progress})}async checkExhaustion(){const actorMythosValue=this.actor?.cthulhuMythos,mythosRating=this.system.mythosRating;if(this.system.initialReading)return actorMythosValue>=mythosRating&&(await this.update({"system.study.progress":this.system.study.necessary}),ui.notifications.warn(game.i18n.format("CoC7.BookHasNothingMoreToTeach",{actor:this.actor.name,book:this.name})))}async grantFullStudy(){if(!this.system.type.mythos)return;if(!1!==await this.checkExhaustion())return;const actorMythosValue=this.actor.cthulhuMythos,developments=[],mythosRating=this.system.mythosRating;let mythosFinal=this.system.gains.cthulhuMythos.final;if(actorMythosValue+mythosFinal>mythosRating)for(let index=1;index<=mythosFinal;index++)actorMythosValue+mythosFinal-index<=mythosRating&&(mythosFinal-=index);return developments.push({name:game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.cthulhu-mythos"),gain:parseInt(mythosFinal)},{name:this.system.language,gain:"development"}),await this.grantSkillDevelopment(developments),await this.rollSanityLoss(),await this.update({"system.fullStudies":++this.system.fullStudies})}async grantInitialReading(){if(this.system.initialReading)return;const developments=[],mythos={gains:this.system.gains.cthulhuMythos.initial,type:this.system.type.mythos},occult={gains:this.system.gains.occult,type:this.system.type.occult},other_gains=this.system.gains.others,other_type=this.system.type.other;if(mythos.type&&mythos.gains&&developments.push({name:game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.cthulhu-mythos"),gain:parseInt(mythos.gains)}),occult.type&&occult.gains&&developments.push({name:game.i18n.localize("CoC7.Occult"),gain:parseInt(occult.gains)}),other_type)for(const skill of other_gains){const pattern=skill.name.match(/^(.+) \((.+)\)$/);pattern&&(skill.specialization=pattern[1],skill.name=pattern[2]),"development"!==skill.value&&(skill.value=(await new Roll(skill.value).roll({async:!0})).total),skill.value&&developments.push({name:skill.name,gain:skill.value,specialization:skill.specialization})}return await this.grantSkillDevelopment(developments),(mythos.type||occult.type)&&this.system.sanityLoss&&await this.rollSanityLoss(),await this.update({"system.initialReading":!0})}async grantSpellLearning(spelllearned){for(const spell of this.system.spells)if(spell._id===spelllearned._id){spell.system.learned=!0;await this.actor.items.find((item=>"spell"===item.type&&item.name===spelllearned.name))?ui.notifications.warn(game.i18n.format("CoC7.SpellAlreadyLearned",{spell:spelllearned.name,book:this.name})):spelllearned.system.learned=!0;break}await this.update({"system.spells":this.system.spells}),spelllearned.system.learned&&(ui.notifications.info(game.i18n.format("CoC7.SpellSuccessfullyLearned",{spell:spelllearned.name,book:this.name})),await this.actor.createEmbeddedDocuments("Item",[duplicate(spelllearned)]))}async grantSkillDevelopment(developments){if(0!==developments.length){for(const development of developments){if(!development.gain)continue;let skill=await this.actor.getSkillsByName(development.name);if(0===skill.length){const existingSkill=await game.items.find((item=>"skill"===item.type&&item.name===development.name));existingSkill?skill=await this.actor.createEmbeddedDocuments("Item",[duplicate(existingSkill)]):(skill=await this.actor.createSkill(development.name,0),development.specialization&&await skill[0].update({"system.properties.special":!0,"system.specialization":development.specialization}))}if(skill=skill[0],"development"===development.gain)await skill.flagForDevelopement();else{if(skill.value+development.gain>99)for(let index=1;index<=development.gain;index++)skill.value+development.gain-index<=99&&(development.gain-=index,await skill.increaseExperience(development.gain));await skill.increaseExperience(development.gain)}}return this.showDevelopmentsTable(developments)}}async redoFullStudy(){return await this.update({"system.study.progress":0}),await this.update({"system.study.necessary":2*this.system.study.necessary})}async rollSanityLoss(){const value=this.system.sanityLoss;if(!value||""===value)return;const template=SanCheckCard.template;let html=await renderTemplate(template,{});const message=await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:game.i18n.format("CoC7.ReadingMythosTome",{book:this.name}),content:html}),card=await message.getHTML();if(void 0!==card.length&&1===card.length){const sanityLoss=(await new Roll(value).roll({async:!0})).total;html=card.find(".chat-card")[0],html.dataset.object=escape(JSON.stringify({actorKey:this.actor.id,fastForward:!1,sanData:{sanMin:sanityLoss,sanMax:sanityLoss}}));const sanityCheck=SanCheckCard.getFromCard(html);await sanityCheck.bypassRollSan(),await sanityCheck.rollSanLoss(),sanityCheck.updateChatCard()}}async showDevelopmentsTable(developments){for(const development of developments)development.specialization&&(development.name=`${development.specialization} (${development.name})`),"development"===development.gain?development.gain=game.i18n.localize("CoC7.MarkedForDevelopment"):development.gain=`+${development.gain} ${game.i18n.localize("CoC7.Points")}`;const html=await renderTemplate("systems/CoC7/templates/items/book/development.html",{developments});return await ChatMessage.create({user:game.user.id,speaker:ChatMessage.getSpeaker({actor:this.actor}),flavor:game.i18n.format("CoC7.GainsForReading",{book:this.name}),content:html})}async attemptSpellLearning(id){if(!this.isOwned)return ui.notifications.error(game.i18n.localize("CoC7.NotOwned"));if(!this.system.initialReading)return ui.notifications.error(game.i18n.format("CoC7.InitialReadingNeeded",{actor:this.actor.name,book:this.name}));const spell=this.system.spells.find((spell=>spell._id===id));if(spell){const check=new CoC7Check;check.actor=this.actor,check.difficulty=CoC7Check.difficultyLevel.hard,check.parent=this.uuid,check.flavor=game.i18n.format("CoC7.LearnSpellAttempt",{book:this.name,spell:spell.name}),check.context="SPELL_LEARNING",check.spell=spell,await check.rollCharacteristic("int"),await check.toMessage()}}async updateRoll(roll){const check=CoC7Check.fromRollString(roll);if(check.passed){if("INITIAL_READING"===check.context)return await this.grantInitialReading();if("SPELL_LEARNING"===check.context)return await this.grantSpellLearning(check.spell)}}}const ECC_CLASS="enhanced-chat-card",PERMISSION_TYPE_GM="gm",PERMISSION_TYPE_NOT_GM="!gm",PERMISSION_TYPE_SPEAKER="speaker",PERMISSION_TYPE_USER="user",PERMISSION_TYPE_BLACKLIST="blacklist",STATE_ON="switched-on",STATE_OFF="switched-off";async function updateMessage(messageId,newContent){const chatMessage=game.messages.get(messageId);await chatMessage.update({content:newContent})}async function GMUpdate(data,options,cardClassName,messageId=void 0){const card=await EnhancedChatCard.fromData(data,options,cardClassName,messageId);return await card.GMUpdate(),card.toObject()}async function advise(){}class EnhancedChatCardLib{constructor(){this.types=new Map,this.socket=null}static injectCSS(){let style=$("head").find("style");style?.length||($("head").append($('<style  type="text/css"></style>')),style=$("head").find("style")),style.append(".ecc-restricted {color: red}\n    .ecc-restricted:hover {cursor: not-allowed}")}static set socket(x){game.enhancedChatCardsLib||(game.enhancedChatCardsLib=new EnhancedChatCardLib),game.enhancedChatCardsLib.socket=x}static get socket(){if(game.enhancedChatCardsLib){if(game.enhancedChatCardsLib.socket)return game.enhancedChatCardsLib.socket;ui.notifications.error("ECC no socket")}else ui.notifications.error("ECC not Initialized")}static get types(){return game.enhancedChatCardsLib||(game.enhancedChatCardsLib=new EnhancedChatCardLib),game.enhancedChatCardsLib.types}static register(cardConstructors){cardConstructors.forEach((cardConstructor=>{EnhancedChatCardLib.types.get(cardConstructor.name)||EnhancedChatCardLib.types.set(cardConstructor.name,cardConstructor)}))}}function setByPath(obj,path,value){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++)o[parts[i]]||(o[parts[i]]={}),o=o[parts[i]];o[parts[parts.length-1]]=value}function getByPath(obj,path){const parts=path.split(".");let o=obj;if(parts.length>1)for(let i=0;i<parts.length-1;i++){if(!o[parts[i]])return;o=o[parts[i]]}return o[parts[parts.length-1]]}class EnhancedChatCard{constructor(data={},options={}){this.data=data,this.data.flags||(this.data.flags={}),this._options=options}async initialize(){}get options(){return mergeObject(this.constructor.defaultOptions,this._options)}set options(x){this._options=x}get template(){return this.options.template}get cssClasses(){return this.options.classes?.join(" ")}get speaker(){return this.options.ooc?game.user:this.options.speaker&&ChatMessage.getSpeakerActor(this.options.speaker)?ChatMessage.getSpeakerActor(this.options.speaker):game.user}async getData(){return{card:this,flags:this.flags,data:this.toObject(),options:this.options,css:this.cssClasses,user:game.user,speaker:this.speaker}}toObject(){if(!this.data)return;const data={};for(const k of Object.keys(this.data)){const v=this.data[k];data[k]=v instanceof Object?v.toObject?v.toObject():deepClone(v):v}return data}async toMessage(optionnalChatData={}){await this.initialize();const data=await this.getData(),html=await renderTemplate(this.template,data),htmlCardElement=$(html)[0];this.options.attachObject&&(htmlCardElement.dataset.object=escape(this.objectDataString)),htmlCardElement.dataset.eccClass=this.constructor.name,htmlCardElement.classList.add(...this.options.classes);const speaker=this.options.speaker&&!this.options.ooc?ChatMessage.getSpeaker(this.options.speaker):{},chatData=foundry.utils.mergeObject({user:game.user.id,speaker,flavor:game.i18n.localize(this.options.title),content:htmlCardElement.outerHTML},optionnalChatData);["gmroll","blindroll"].includes(this.rollMode)&&(chatData.whisper=ChatMessage.getWhisperRecipients("GM")),"selfroll"===this.rollMode&&(chatData.whisper=[game.user.id]),"blindroll"===this.rollMode&&(chatData.blind=!0),ChatMessage.create(chatData).then((msg=>msg))}async updateChatCard({attachObject=!0}={}){if(this.options.compute&&await this.localCompute(),this.options.GMUpdate&&await this.ExecuteGMUpdate(),this.messageId){const data=await this.getData(),html=await renderTemplate(this.template,data),htmlCardElement=$.parseHTML(html)[0];attachObject&&!this.data.EEC_ACTION?.detachData&&(htmlCardElement.dataset.object=escape(this.objectDataString)),htmlCardElement.dataset.eccClass=this.constructor.name,htmlCardElement.classList.add(...this.options.classes),game.enhancedChatCardsLib.socket.executeAsGM("updateMessage",this.messageId,htmlCardElement.outerHTML)}else this.toMessage()}async activateListeners(html){html.on("change","input,select,textarea",this._onChange.bind(this)),html.on("click",`.${ECC_CLASS} .ecc-switch`,this._onToggle.bind(this)),html.on("click",`.${ECC_CLASS} .submit`,this._onSubmit.bind(this)),html.on("focusout",`.${ECC_CLASS} input`,this._onChange.bind(this)),html.on("click",`.${ECC_CLASS} button`,this._onButton.bind(this)),html.on("keydown",`.${ECC_CLASS} form`,this._onKey.bind(this)),html.find("[data-ecc-visibility]").each((async(i,el)=>await this.setVisibility(el))),html.find("[data-ecc-permissions]").each((async(i,el)=>await this.setPermission(el))),html.find(`.${ECC_CLASS} .ecc-switch`).each(((i,el)=>this.setState(el))),html.find(`.${ECC_CLASS} input[type="radio"]`).each(((i,el)=>this.setRadioState(el)))}setState(element){if(element&&(element.dataset.flag&&element.classList.add(this.flags[element.dataset.flag]?STATE_ON:STATE_OFF),element.dataset.name)){const value=getByPath(this,element.dataset.name);element.classList.add(value?STATE_ON:STATE_OFF)}}setRadioState(element){if(!element||!element.name)return;const splited=element.name.split(".");"data"===splited[0].toLowerCase()&&this.data&&void 0!==this.data[splited[1]]&&this.data[splited[1]]===element.value&&(element.checked=!0)}async setVisibility(element){if(!element.dataset.eccVisibility)return;await this.hasPerm(element.dataset.eccVisibility,!0)||(element.style.display="none")}async setPermission(element){if(!element.dataset.eccPermissions)return;await this.hasPerm(element.dataset.eccPermissions)||(element.classList.add("ecc-restricted"),$(element).is("input")&&("range"===element.type?$(element).attr("disabled",!0):$(element).attr("readonly",!0)),$(element).is("select")&&$(element).attr("disabled",!0))}async hasPerm(restrictedTo,vision=!1){if(!restrictedTo.length)return!0;let permissionsArray=restrictedTo.split(" ");const whiteList=!permissionsArray.includes(PERMISSION_TYPE_BLACKLIST);if(whiteList||(permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_BLACKLIST))),game.user.isGM){if(!vision)return!0;if(permissionsArray.includes(PERMISSION_TYPE_GM))return whiteList;if(permissionsArray.includes(PERMISSION_TYPE_NOT_GM))return!whiteList}if(permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_GM)),permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_NOT_GM)),permissionsArray.includes(PERMISSION_TYPE_USER)){if(this.message.isAuthor)return whiteList;permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_USER))}if(permissionsArray.includes(PERMISSION_TYPE_SPEAKER)){const speaker=this.message.data.speaker;if(speaker.token&&speaker.scene){const actor=await fromUuid(`Scene.${speaker.scene}.Token.${speaker.token}`);if(actor&&actor.isOwner)return whiteList}else if(speaker.actor){const actor=game.actors.get(speaker.actor);if(actor&&actor.isOwner)return whiteList}permissionsArray=permissionsArray.filter((e=>e!==PERMISSION_TYPE_SPEAKER))}if(permissionsArray.length)for(let i=0;i<permissionsArray.length;i++){const uuid=permissionsArray[i];let actor=await fromUuid(uuid);if(actor||(actor=game.actors.get(uuid)),actor)return actor.isOwner;ui.notifications.error(`Unable to find actor ${uuid}`)}return!whiteList}static async bindListeners(html){const htmlCardElement=html[0].querySelector(`.${ECC_CLASS}`);if(!htmlCardElement)return;const card=await EnhancedChatCard.fromHTMLCardElement(htmlCardElement);card&&card.activateListeners(html)}get flags(){return this.data.flags}async assignObjects(){}async localCompute(){}async GMUpdate(){}async ExecuteGMUpdate(){const newData=await game.enhancedChatCardsLib.socket.executeAsGM("GMUpdate",this.toObject(),this._options,this.constructor.name,this.messageId);this.data=newData,await this.assignObjects()}async _onButton(event){event.preventDefault();const target=event.currentTarget;target.style.display="none";const action=target.dataset.action;let formUpdate,actionUpdate=!1;const card=target.closest(`.${ECC_CLASS}`);card?formUpdate=this._update(card):console.error(`Could not find a EEC class for this card: ${this.constructor.name}`);const originalDisplayStyle=target.style.display;(action||(console.warn("no action associated with this button"),formUpdate))&&(this[action]||(console.warn(`no ${action} action found for this card`),formUpdate))&&(this[action]&&(actionUpdate=await this[action]({event,updateCard:!1})),formUpdate||actionUpdate?await this.updateChatCard():target.style.display=originalDisplayStyle)}_onKey(event){return"Enter"===event.key&&this._onSubmit(event),"Enter"!==event.key}_onChange(event){if(this.options.submitOnChange)return this._onSubmit(event)}_onSubmit(event){const target=event.currentTarget;if("BUTTON"===target.tagName&&"action"in target.dataset)return;event.preventDefault();const card=target.closest(`.${ECC_CLASS}`);if(!card)return;this._update(card)&&this.updateChatCard()}_update(card){const forms=card.querySelectorAll("form");let updates=!1;for(let i=0;i<forms.length;i++){const form=forms[i],data=new FormDataExtended(form).object;for(const[key,value]of Object.entries(data)){getByPath(this,key)!==value&&(setByPath(this,key,value),updates=!0)}}return updates}get message(){return this._message?this._message:this._messageId?game.messages.get(this._messageId):void 0}set message(x){this._message=x}get messageId(){return this._messageId?this._messageId:this._message?this._message.id:void 0}set messageId(x){this._messageId=x}static get defaultOptions(){return{attachObject:!0,classes:[ECC_CLASS],exclude:[],excludeStartWith:"_",submitOnChange:!0,speaker:ChatMessage.getSpeaker(),ooc:!1,compute:!0,GMUpdate:!1}}get objectDataString(){const saveData={data:this.data,options:this._options};return JSON.stringify(saveData,((key,value)=>{if(null!==value&&!this.options.exclude?.includes(key)&&!key.startsWith(this.options.excludeStartWith))return value}))}get rollMode(){return this._rollMode||(this._rollMode=game.settings.get("core","rollMode")),this._rollMode}set rollMode(x){!1===x&&(this._rollMode=game.settings.get("core","rollMode")),this._rollMode=x}static async fromMessageId(messageId){const message=game.messages.get(messageId);if(!message)return;const card=await this.fromMessage(message);return card.messageId=messageId,card}static async fromMessage(message){const cardElement=$(message.data.content)[0];if(!cardElement)return;const card=await this.fromHTMLCardElement(cardElement);return card.message=message,card}static async fromHTMLCardElement(htmmlCard){if(!htmmlCard)return;if(!htmmlCard.dataset.eccClass)return;if(!htmmlCard.dataset.object)return;const cardData=JSON.parse(unescape(htmmlCard.dataset.object)),message=htmmlCard.closest(".message"),messageId=message?.dataset?.messageId;return await this.fromData(cardData.data,cardData.options,htmmlCard.dataset.eccClass,messageId)}static async fromData(data,options,cardClassName,messageId=void 0){const CardClass=game.enhancedChatCardsLib.types.get(cardClassName);if(!CardClass)return void console.error(`Unknown chat card type: ${cardClassName}`);const card=new CardClass(data,options);return messageId&&(card.messageId=messageId),await card.assignObjects(),card}setData(name){(name||"string"===$.type(name))&&setByPath(this,name,!0)}unsetData(name){(name||"string"===$.type(name))&&setByPath(this,name,!1)}toggleData(name){if(!name&&"string"!==$.type(name))return;setByPath(this,name,!getByPath(this,name))}async _onToggle(event){event.preventDefault();const target=event.currentTarget;if("action"in target.dataset)return this._onButton(event);if(target&&target.classList.contains("gm-select-only")&&!game.user.isGM)return;const name=target.dataset.flag?`data.flags.${target.dataset.flag}`:target.dataset.name;if(!name)return;const toggle=target.closest(".ecc-radio");if(toggle){const buttons=toggle.querySelectorAll(".ecc-switch");for(const b of buttons){const bName=b.dataset.flag?`data.flags.${b.dataset.flag}`:b.dataset.name;this.unsetData(bName)}this.setData(name)}else this.toggleData(name);const card=target.closest(`.${ECC_CLASS}`);this.options.submitOnChange&&card&&this._update(card),await this.updateChatCard()}}class _participant{constructor(data={}){this.data=data}_fetch(){if(!this._doc&&this.data.docUuid&&(this._doc=CoC7Utilities.getDocumentFromKey(this.data.docUuid)),!this._actor)if(this._doc)switch(this._doc.constructor?.name){case"TokenDocument":this._actor=this._doc.actor;break;case"CoCActor":this._actor=this._doc}else this._actor=CoC7Utilities.getActorFromKey(this.data.docUuid)}get actor(){return this._fetch(),this._actor}get isActor(){return this.hasActor||this.hasVehicle}get isActive(){return this.data.active||!1}get key(){return this.hasVehicle?this.vehicle.actorKey:this.hasActor?this.actor.actorKey:void 0}get icon(){return this.isActor?this.hasVehicle?this.vehicle.img:this.hasActor?this.actor.img:void 0:"systems/CoC7/assets/icons/question-circle-regular.svg"}get driver(){return this._driver||(this._driver=CoC7Utilities.getActorFromKey(this.data.docUuid)),this._driver}get vehicle(){return this.data.vehicleKey&&(this._vehicle=chatHelper.getActorFromKey(this.data.vehicleKey)),this._vehicle}get hasActor(){return!!this.actor}get hasVehicle(){return!!this.vehicle}get name(){return this.hasVehicle?this.vehicle.name:this.hasActor?this.actor.name:this.data.name||void 0}get mov(){return this.data.mov||(this.hasVehicle?this.data.mov=this.vehicle.mov:this.hasActor&&(this.data.mov=this.actor.mov)),this.data.mov&&(isNaN(Number(this.data.mov))?(this.data.hasValidMov=!1,this.data.mov=void 0):this.data.hasValidMov=!0),this.data.mov}get uuid(){return this.data.uuid}get hasMaxBonusDice(){return this.bonusDice>=2}get bonusDice(){return isNaN(this.data.bonusDice)||this.data.bonusDice<0||this.data.bonusDice>2?0:this.data.bonusDice}set bonusDice(x){isNaN(x)?ui.notifications.error("Bonus dice can Only be a number"):x>2?ui.notifications.error("Max 2 bonus dice"):x<0?ui.notifications.error("No negativ bonus dice"):this.data.bonusDice=x}get hp(){return this.data.hp||(this.data.hp=0),this.actor&&(this.data.hp=this.actor.hp),this.data.hp}set hp(x){this.data.hp=x,this.actor&&this.actor.setHp(x)}addBonusDice(){this.data.bonusDice>=2?ui.notifications.error("Already have max bonus dice"):this.data.bonusDice+=1}removeBonusDice(){this.data.bonusDice<=0?ui.notifications.error("Already have 0 bonus dice"):this.data.bonusDice-=1}resetBonusDice(){this.data.bonusDice=0}get hasBonusDice(){return this.hasOneBonusDice||this.hasTwoBonusDice}get hasOneBonusDice(){return this.bonusDice>=1}get hasTwoBonusDice(){return this.bonusDice>=2}get canAssist(){return this.assist?.length>0}get canBeCautious(){return!this.hasMaxBonusDice}get assist(){return this.data.assist||[]}get dex(){return this.data.dex||(this.hasVehicle&&this.hasDriver?this.data.dex=this.driver.characteristics.dex.value:this.hasActor&&(this.data.dex=this.actor.characteristics.dex.value)),this.data.dex&&(isNaN(Number(this.data.dex))?(this.data.hasValidDex=!1,this.data.dex=0):this.data.hasValidDex=!0),this.data.dex}get hasAGunReady(){return this.data.hasAGunReady||!1}get initiative(){let init=this.dex;return this.hasAGunReady&&(init+=50),init}get isChaser(){return!!this.data.chaser}get isPrey(){return!this.isChaser}get isValid(){return this.hasValidDex&&this.hasValidMov}get hasValidDex(){return!isNaN(Number(this.data.dex))}get hasValidMov(){return!isNaN(Number(this.data.mov))}get hasDriver(){return this.hasVehicle&&this.hasActor}get movAdjustment(){if(this.data.speedCheck?.rollDataString){const roll=CoC7Check.fromRollString(this.data.speedCheck.rollDataString);if(roll&&!roll.standby){if(roll.successLevel>=CoC7Check.successLevel.extreme)return 1;if(roll.failed)return-1}}return 0}get adjustedMov(){if(void 0!==this.mov&&!isNaN(Number(this.mov)))return Number(this.mov)+this.movAdjustment}get hasMovAdjustment(){return this.hasBonusMov||this.hasMalusMov}get hasBonusMov(){return this.data.movAdjustment>0}get hasMalusMov(){return this.data.movAdjustment<0}tooSlow(){this.data.excluded=!0}includeInChase(){this.data.excluded=!1,this.data.escaped=!1}escaped(){this.data.escaped=!0}set slowest(x){this.data.slowest=x}get slowest(){return this.data.slowest}set fastest(x){this.data.fastest=x}get fastest(){return this.data.fastest}calculateMovementActions(minMov){void 0===this.movementAction||void 0===this.adjustedMov||isNaN(minMov)?this.movementAction=0:this.movementAction=this.adjustedMov-minMov+1}set movementAction(x){this.data.movementAction=x}get movementAction(){return this.data.movementAction}set currentMovementActions(x){this.data.currentMovementActions=x}get currentMovementActions(){return this.data.currentMovementActions||0}get hasMaxMvtActions(){return this.currentMovementActions>=this.movementAction}get hasNoMvtActions(){return this.currentMovementActions<=0}addMovementActions(x=1){this.currentMovementActions+=x,this.currentMovementActions>this.movementAction&&(this.currentMovementActions=this.movementAction)}alterMovementActions(x){this.currentMovementActions+=x,this.currentMovementActions>this.movementAction&&(this.currentMovementActions=this.movementAction)}get movementActionArray(){const baseArray=Array(this.movementAction).fill("base");if(this.currentMovementActions>=0){for(let i=0;i<this.currentMovementActions;i++)baseArray[i]="base available";return baseArray}if(this.currentMovementActions<0){return Array(Math.abs(this.currentMovementActions)).fill("deficit").concat(baseArray)}}get cssClass(){const cssClasses=[];return this.isChaser?cssClasses.push("chaser"):cssClasses.push("prey"),this.data.excluded&&cssClasses.push("excluded","too_slow"),this.data.escaped&&cssClasses.push("escaped"),this.data.fastest&&cssClasses.push("fastest"),this.data.slowest&&cssClasses.push("slowest"),this.data.active&&cssClasses.push("active"),this.data.currentMovementActions<=0&&cssClasses.push("no-actions"),cssClasses.join(" ")}get speedCheck(){const check={};if(this.data.speedCheck?.name&&(check.name=this.data.speedCheck.name),this.data.speedCheck?.score&&(check.score=this.data.speedCheck.score),check.cssClasses="",this.data.speedCheck?.rollDataString&&(check.roll=CoC7Check.fromRollString(this.data.speedCheck.rollDataString),check.roll&&(check.roll.standby&&!check.roll.hasCard||(check.rolled=!0,check.inlineRoll=check.roll.inlineCheck.outerHTML,check.cssClasses+="rolled",check.roll.standby||(check.roll.successLevel>=CoC7Check.successLevel.extreme?check.modifierCss="upgrade":check.roll.failed&&(check.modifierCss="downgrade"),(check.roll.successLevel>=CoC7Check.successLevel.extreme||check.roll.failed)&&(check.hasModifier=!0))))),this.hasActor){check.options=[];for(const c of["con"]){const characteristic=this.actor.getCharacteristic(c);characteristic?.value&&check.options.push(characteristic.label)}for(const s of this.actor.driveSkills)check.options.push(s.name);for(const s of this.actor.pilotSkills)check.options.push(s.name);if(check.hasOptions=!!check.options.length,this.data.speedCheck?.id){let item=this.actor.find(this.data.speedCheck.id);if(!item){const gameItem=game.items.get(this.data.speedCheck.id);gameItem&&(item=this.actor.find(gameItem.name))}item&&("item"===item.type&&"skill"===item.value.data?.type&&(check.ref=item.value,check.name=item.value.name,check.type="skill",check.isSkill=!0,check.refSet=!0,check.score=item.value.value),"characteristic"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="characteristic",check.isCharacteristic=!0,check.refSet=!0,check.score=item.value.value),"attribute"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="attribute",check.isAttribute=!0,check.refSet=!0,check.score=item.value.value))}else if(this.data.speedCheck?.name){const item=this.actor.find(this.data.speedCheck.name);item&&("item"===item.type&&"skill"===item.value.data?.type&&(check.ref=item.value,check.name=item.value.name,check.type="skill",check.isSkill=!0,check.refSet=!0,check.score=item.value.value),"characteristic"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="characteristic",check.isCharacteristic=!0,check.refSet=!0,check.score=item.value.value),"attribute"===item.type&&(check.ref=item.value,check.name=item.value.label,check.type="attribute",check.isAttribute=!0,check.refSet=!0,check.score=item.value.value))}}else if(this.data.speedCheck?.id){const item=game.items.get(this.data.speedCheck.id);item&&"skill"===item.data?.type&&(check.ref=item,check.name=item.name,check.type="skill",check.isSkill=!0,check.refSet=!1,check.score=item.base)}else this.data.speedCheck?.name&&this.data.speedCheck?.score&&(check.name=this.data.speedCheck.name,check.score=this.data.speedCheck.score,check.refSet=!1);return check.canBeRolled=!0,check.rolled||check.score||(check.cssClasses+=" invalid",check.canBeRolled=!1),check.isValid=check.rolled&&!isNaN(check.score),check}}function sortByRoleAndDex(a,b){return!a&&b?1:!b&&a?-1:a||b?b.chaser&&!a.chaser?1:a.chaser&&!b.chaser?-1:a.dex-b.dex:0}class ChaseObstacleCard extends EnhancedChatCard{static get defaultOptions(){const options=mergeObject(super.defaultOptions,{template:"systems/CoC7/templates/chat/cards/chase-obstacle.html",GMUpdate:!0});return options.classes.push("obstacle-card"),options}async getData(){const data=await super.getData();if(data.status=[],data.strings={},data.displayActorOnCard=game.settings.get("CoC7","displayActorOnCard"),data.status.push({name:game.i18n.localize("CoC7.ActionCost")+` :${this.data.totalActionCost}`}),data.card.breakableObstacle=data.data.obstacle?.barrier&&data.data.obstacle.hasHitPoints,data.card.validCheck=!1,data.data.states?.obstacleDefined&&(data.data.obstacle.hazard||data.data.obstacle.barrier&&!data.data.obstacle.hasHitPoints)&&(data.data.states.tryToNegotiate=!0,data.data.states.tryToBreak=!1,data.data.states.breakOrNegotiateDefined=!0),this.participant?.actor?(data.skill=this.participant.actor.find(data.data.obstacle.checkName),data.checkOptions=this.chase.getActorSkillsAndCharacteristics(this.data.participantUuid),data.skill?(data.validCheck=!0,data.validSkill=!0):data.data.obstacle.checkName&&data.data.checkThreshold&&(data.validCheck=!0)):(data.checkOptions=this.chase.allSkillsAndCharacteristics,data.dummyActor=!0,data.data.obstacle.checkName&&data.data.checkThreshold&&(data.validCheck=!0)),data.data.bonusDice||(data.data.bonusDice=0),data.data.bonusDice<2&&data.data.totalActionCost<data.data.movementAction&&(data.canTakeCautiousApproach=!0),data.customWeapon=!1,"0"===this.data.weaponChoice&&(data.customWeapon=!0),data.validCheck){let checkName,value;data.skill?(checkName=data.skill.value.name,value=data.skill.value.value):(checkName=data.data.obstacle.checkName,value=data.data.checkThreshold),data.strings.checkRollRequest=game.i18n.format("CoC7.AskRoll",{name:checkName,value}),0!==data.data.bonusDice&&(data.data.bonusDice>0?data.strings.checkRollRequest+=` (+${data.data.bonusDice})`:data.strings.checkRollRequest+=` (${data.data.bonusDice})`)}if(data.data.states?.obstacleDefined){if(data.strings.obstacleDefined=game.i18n.format("CoC7.FacingObstacle",{type:data.data.obstacle.barrier?game.i18n.localize("CoC7.ABarrier"):game.i18n.localize("CoC7.AHazard")}),data.data.obstacle.name&&(data.strings.obstacleDefined+=` (${data.data.obstacle.name})`),data.data.states.canAskRoll=!0,data.data.obstacle.barrier&&(data.status.push({name:game.i18n.localize("CoC7.Barrier")}),data.data.obstacle.hasHitPoints&&data.status.push({name:game.i18n.localize("CoC7.Breakable")})),data.data.obstacle.hazard&&data.status.push({name:game.i18n.localize("CoC7.Hazard")}),this.data.states.tryToNegotiate&&(data.validCheck?data.validSkill||data.status.push({name:game.i18n.localize("CoC7.NoValidSkill"),css:"warning"}):(data.status.push({name:game.i18n.localize("CoC7.NoValidCheck"),css:"error"}),data.strings.EnterValueTitle=game.i18n.format("CoC7.SkillSelectBase",{name:data.data.obstacle.checkName}),data.data.checkThreshold||(data.data.states.canAskRoll=!1))),this.data.states.tryToBreak){let damageStatus=game.i18n.localize("CoC7.BreakDown");this.data.objects?.obstacleDamageRoll?.total&&(damageStatus+=` : ${this.data.objects.obstacleDamageRoll.total}`),data.status.push({name:damageStatus}),this.data.states.obstacleDamageRolled&&(this.data.objects?.obstacleDamageRoll?.total<=0?data.strings.obstacleDamage=game.i18n.localize("CoC7.NoDamageDealt"):(data.inlineDamageRoll=createInlineRoll(this.data.objects.obstacleDamageRoll)?.outerHTML,data.strings.obstacleDamage=game.i18n.format("CoC7.DamageDealt",{value:data.inlineDamageRoll})))}if(this.data.states.tryToNegotiate&&data.status.push({name:game.i18n.localize("CoC7.Negotiate")}),this.data.totalCautiousApproach){const cautiousStatus={name:game.i18n.localize("CoC7.Cautious"),css:""};this.data.totalCautiousApproach>1?(cautiousStatus.css="strong",data.strings.cautiousApproachType=game.i18n.localize("CoC7.BeingVeryCautious")):data.strings.cautiousApproachType=game.i18n.localize("CoC7.BeingCautious"),this.data.flags.consumeBonusDice&&(cautiousStatus.css+=" consume"),data.status.push(cautiousStatus)}this.data.objects?.check&&(this.data.obstacle.hazard&&(this.data.movePlayer=!0),this.data.objects.check.passed?(void 0===this.data.movePlayer&&(this.data.movePlayer=!0),data.strings.obstaclePassed=game.i18n.localize("CoC7.ObstaclePassed"),this.data.objects.check.luckSpent&&(data.strings.obstaclePassed+=` (${game.i18n.localize("CoC7.GotLucky")})`),data.status.push({name:game.i18n.localize("CoC7.Success"),css:"success"})):this.data.objects.check.isFumble?(data.strings.checkFailed=game.i18n.localize("CoC7.ObstacleFumble"),data.status.push({name:game.i18n.localize("CoC7.Fumble"),css:"fumble"})):(data.strings.checkFailed=game.i18n.localize("CoC7.ObstacleFail"),data.status.push({name:game.i18n.localize("CoC7.Failure"),css:"failure"})))}if(this.data.states.playerActionDefined&&(this.data.obstacle.hazard?data.strings.playerIntentions=game.i18n.localize("CoC7.TryToNegotiateHazard"):this.data.obstacle.barrier&&(this.data.states.tryToNegotiate?data.strings.playerIntentions=game.i18n.localize("CoC7.TryToGetPastBarriers"):this.data.states.tryToBreak&&(data.strings.playerIntentions=game.i18n.localize("CoC7.TryToBreak")))),this.data.states.checkRolled&&(this.data.states.cardResolved?data.htmlCheck=await(this.data.objects.check.inlineCheck?.outerHTML):data.htmlCheck=await this.data.objects.check.getHtmlRoll()),this.data.states.cardResolved){data.playerDamageTaken=!1,data.obstalceDefinitionChanged=!1;this.listChanges().changes&&(data.obstalceDefinitionChanged=!0),this.data.obstacle.hasDamage&&this.data.objects?.check?.isFailure&&(data.playerDamageTaken=!0,data.inlineDamageTakenRoll=createInlineRoll(this.data.objects.failedDamageRoll)?.outerHTML,0===data.data.totalPlayerDamageTaken?data.strings.damageTaken=game.i18n.localize("CoC7.YouTakeNoDamage"):data.strings.damageTaken=game.i18n.format("CoC7.YouTakeSomeDamage",{amount:data.data.totalPlayerDamageTaken}),data.status.push({name:game.i18n.localize("CoC7.TotalDamage")+` :${data.data.totalPlayerDamageTaken}`})),this.data.obstacle.hasActionCost&&this.data.obstacle.hazard&&this.data.objects?.check?.isFailure&&(data.actionLost=!0,data.strings.actionLost=game.i18n.localize("CoC7.YouLostTime"),data.inlineActionLostRoll=createInlineRoll(this.data.objects.failedActionRoll)?.outerHTML),data.status.push({name:game.i18n.localize("CoC7.CardResolved")})}return this.data.states.closed&&(this.data.movePlayer?data.strings.finalOutcome=game.i18n.localize("CoC7.MoveToLocation"):data.strings.finalOutcome=game.i18n.localize("CoC7.DontMoveToLocation")),data}async GMUpdate(){if(game.user.isGM){if(this.data.states.cardResolved){if(this.data.objects?.failedDamageRoll?.total){const totalDamage=this.data.objects.failedDamageRoll.total,armorValue=this.data.flags.ignoreArmor?0:this.data.armor;CoC7Utilities.isFormula(armorValue)?this.data.armor=(await new Roll(armorValue).roll({async:!0})).total:isNaN(Number(armorValue))||(this.data.armor=Number(armorValue)),void 0===this.data.totalPlayerDamageTaken&&(this.data.totalPlayerDamageTaken=totalDamage-this.data.armor,this.data.totalPlayerDamageTaken<0&&(this.data.totalPlayerDamageTaken=0))}void 0===this.data.reflectObstaleChanges&&(this.data.reflectObstaleChanges=!0),void 0===this.data.movePlayer&&(this.data.movePlayer=(this.data.states.tryToNegotiate||this.data.obstacle.hazard)&&!this.data.states.failedConsequencesRolled),this.data.obstacle.barrier&&this.data.obstacle.hasHitPoints&&this.data.objects?.obstacleDamageRoll?.total&&(void 0===this.data.totalObstacleDamage&&(this.data.totalObstacleDamage=this.data.objects.obstacleDamageRoll.total),void 0===this.data.flags.obstacleDestoyed&&(this.data.flags.obstacleDestoyed=this.data.obstacle.HitPoints-this.data.totalObstacleDamage<=0))}this.data.states.closed&&(this.data.movementActionArray=duplicate(this.participant.movementActionArray),this.data.EEC_ACTION={detachData:!0})}else console.error("CoC7: GMUpdate called from non GM user")}async localCompute(){}async assignObjects(){this.data.objects?.check&&"Object"===this.data.objects.check?.constructor?.name&&(this.data.objects.check=CoC7Check.fromData(this.data.objects.check)),this.data.objects?.obstacleDamageRoll&&"Object"===this.data.objects.obstacleDamageRoll?.constructor?.name&&(this.data.objects.obstacleDamageRoll=Roll.fromData(this.data.objects.obstacleDamageRoll)),this.data.objects?.failedDamageRoll&&"Object"===this.data.objects.failedDamageRoll?.constructor?.name&&(this.data.objects.failedDamageRoll=Roll.fromData(this.data.objects.failedDamageRoll)),this.data.objects?.failedActionRoll&&"Object"===this.data.objects.failedActionRoll?.constructor?.name&&(this.data.objects.failedActionRoll=Roll.fromData(this.data.objects.failedActionRoll))}async initialize(){this.chase&&void 0!==this.chase.activeParticipantData?.uuid&&(void 0===this.data&&(this.data={}),void 0===this.data.states&&(this.data.states={}),this.data.obstacle=this.location?.obstacleDetails,this.data.participantUuid=this.chase.activeParticipantData.uuid,this.participantData?.bonusDice>0&&(this.data.bonusDice=this.participantData.bonusDice,this.data.flags.consumeBonusDice=!0,this.data.flags.hasBonusDice=this.participant.hasBonusDice),this.data.movementActionArray=duplicate(this.participant.movementActionArray),this.data.movementAction=this.participant.currentMovementActions,this.data.totalActionCost=0)}get participant(){if(this.participantData)return new _participant(this.participantData)}get participantData(){if(this.chase&&this.data.participantUuid)return this.chase.getParticipantData(this.data.participantUuid)}get location(){if(this.chase)return this.chase.getLocationData(this.data.locationUuid)}get obstacle(){if(this.location)return this.location.obstacleDetails}get chase(){if(this.data.chaseUuid)return this._chase||(this._chase=CoC7Utilities.SfromUuid(this.data.chaseUuid)),this._chase}get roll(){let rollData;if(this.participant.actor&&this.data.obstacle.checkName){const actorSkill=this.participant.actor.find(this.data.obstacle.checkName);rollData=void 0!==actorSkill?actorSkill:{type:"value",value:{name:this.data.obstacle.checkName,threshold:this.data.checkThreshold}},rollData.actor={actorKey:this.participant.actor.id}}else this.data.obstacle.checkName&&this.data.checkThreshold&&(rollData={type:"value",value:{name:this.data.obstacle.checkName,threshold:this.data.checkThreshold},actor:{name:this.participant.name}});return rollData&&(rollData.diceModifier=this.data?.bonusDice||0,rollData.difficulty=CoC7Check.difficultyLevel.regular,rollData.denyPush=!0),rollData||void 0}get validFailedRolls(){if(!this.data.objects?.check?.isFailure)return!1;if(this.data.obstacle.hasDamage){const damage="number"==typeof this.data.obstacle.failedCheckDamage?`${this.data.obstacle.failedCheckDamage}`:this.data.obstacle.failedCheckDamage;if(!this.data.obstacle.failedCheckDamage)return!1;if(this.data.obstacle.failedCheckDamage&&!Roll.validate(damage))return!1}if(this.data.obstacle.hazard&&this.data.obstacle.hasActionCost){const actionCost="number"==typeof this.data.obstacle.failedActionCost?`${this.data.obstacle.failedActionCost}`:this.data.obstacle.failedActionCost;if(!this.data.obstacle.failedActionCost)return!1;if(this.data.obstacle.failedActionCost&&!Roll.validate(actionCost))return!1}return!0}get weaponsOptions(){const weapons=[];if(this.participant.actor?.itemTypes?.weapon?.forEach((w=>{let formula=w.data.data.range.normal.damage,db=this.participant.actor.db;db=null===db||0===Number(db)?"":`${db}`,db&&!db.startsWith("-")&&(db="+"+db),w.data.data.properties.addb&&(formula+=db),w.data.data.properties.ahbd&&(formula=formula+db+"/2"),weapons.push({name:`${w.data.name} (${formula})`,damage:formula,uuid:w.uuid})})),weapons.sort(CoC7Utilities.sortByNameKey),!weapons.find((w=>w.name.toUpperCase().startsWith(game.i18n.localize("CoC7.UnarmedWeaponName")?.toUpperCase())))){let db="";this.participant.actor&&(db=this.participant.actor.db,db&&!db.startsWith("-")&&(db="+"+db),null!==db&&0!==Number(db)||(db="")),weapons.unshift({name:`${game.i18n.localize("CoC7.UnarmedWeaponName")} (1D3${db})`,damage:`1D3${db}`,uuid:"unarmed"})}return weapons.push({name:game.i18n.localize("CoC7.Other"),damage:this.data?.customWeaponDamage||null,uuid:0}),weapons}get usedWeapon(){if(!this.data?.weaponChoice){if(!this.weaponsOptions)return;this.data||(this.data={}),this.data.weaponChoice=this.weaponsOptions[0].uuid}if(this.data.weaponChoice){const weapon=this.weaponsOptions.find((e=>e.uuid===this.data.weaponChoice));if(weapon)return weapon}}get inflictedDamageFormula(){if(this.usedWeapon){const weapon=this.usedWeapon;return weapon&&weapon.damage&&Roll.validate(weapon.damage)?weapon.damage:void 0}}get validObstacleDamage(){return!!(this.data.obstacle.hasHitPoints&&!isNaN(Number(this.data.obstacle.HitPoints))&&Number(this.data.obstacle.HitPoints)>0&&this.inflictedDamageFormula)}get strings(){const strings={};return strings.damageRollRequest=this.usedWeapon.name,strings}async validateCard(options){let loactionChanged,participantChaged=!1;const obstacleUpdate={obstacleDetails:{}},participantUpdate={};this.data.flags.obstacleDestoyed&&(loactionChanged=!0,obstacleUpdate.obstacle=!1,obstacleUpdate.obstacleDetails.hazard=!1,obstacleUpdate.obstacleDetails.barrier=!1);const diff=this.listChanges();if(diff.changes&&this.data.reflectObstaleChanges)for(const[key,value]of Object.entries(diff.obstacle))"type"!==key&&(obstacleUpdate.obstacleDetails[value.key]=value.new,loactionChanged=!0);if(this.data.totalObstacleDamage>0&&this.data.obstacle.hasHitPoints){let remainingHp=this.data.obstacle.HitPoints;remainingHp-=this.data.totalObstacleDamage,remainingHp<0&&(remainingHp=0),this.obstacle.HitPoints!==remainingHp&&(obstacleUpdate.obstacleDetails.HitPoints=remainingHp,this.data.obstacle.HitPoints=remainingHp,loactionChanged=!0)}if(this.data.totalPlayerDamageTaken>0&&(participantChaged=!0,this.participant.actor?await this.participant.actor.dealDamage(this.data.totalPlayerDamageTaken,{ignoreArmor:!0}):(participantUpdate.hp=this.participantData.hp,participantUpdate.hp-=this.data.totalPlayerDamageTaken,participantUpdate.hp<0&&(participantUpdate.hp=0))),this.data.totalActionCost>0&&(participantChaged=!0,participantUpdate.currentMovementActions=this.participantData.currentMovementActions,participantUpdate.currentMovementActions-=this.data.totalActionCost),void 0===this.data.flags.consumeBonusDice&&(this.data.flags.consumeBonusDice=!0),this.data.flags.consumeBonusDice?(participantChaged=!0,participantUpdate.bonusDice=0):isNaN(this.data.bonusDice)||this.data.bonusDice===this.participant.bonusDice||(participantUpdate.bonusDice=this.data.bonusDice),this.data.movePlayer){let targetLocation;targetLocation=this.data.forward?this.location:this.chase.getLocationShift(this.location.uuid,{skip:-1}),targetLocation.uuid&&await this.chase.moveParticipantToLocation(this.participantData.uuid,targetLocation.uuid,{scrollToLocation:!0,activateLocation:!1,render:!1})}return loactionChanged&&await this.chase.updateLocation(this.location.uuid,obstacleUpdate,{render:!1}),participantChaged&&await this.chase.updateParticipant(this.participantData.uuid,participantUpdate,{render:!1}),this.data.states.closed=!0,await this.chase.activateNextParticipantTurn(),!0}async defineObstacle(options){return this.data.states||(this.data.states={}),this.data.states.obstacleDefined=!0,!0}async tryToNegotiateObstacle(options){return this.data.states.breakOrNegotiateDefined=!0,this.data.states.tryToNegotiate=!0,this.data.states.tryToBreak=!1,!0}async tryToBreakDownObstacle(options){return this.data.states.breakOrNegotiateDefined=!0,this.data.states.tryToNegotiate=!1,this.data.states.tryToBreak=!0,!0}async cancelObstacleDefinition(options){return this.data.states.obstacleDefined=!1,this.data.states.breakOrNegotiateDefined=!1,this.data.states.tryToNegotiate=!1,this.data.states.tryToBreak=!1,!0}async cancelBreakOrPassChoice(options){return this.data.obstacle.hasHitPoints?(this.data.states.breakOrNegotiateDefined=!1,this.data.states.tryToNegotiate=!1,this.data.states.tryToBreak=!1,!0):this.cancelObstacleDefinition()}async requestRoll(options){return this.data.states.playerActionDefined=!0,!0}async takeCautiousApproach(options){return this.data.totalCautiousApproach||(this.data.totalCautiousApproach=0),this.data.totalCautiousApproach+=1,this.data.bonusDice+=1,this.data.totalActionCost+=1,this.data.flags.consumeBonusDice||(this.data.flags.consumeBonusDice=!0),this.data.flags.hasBonusDice||(this.data.flags.hasBonusDice=!0),this.data.movementAction<=this.data.totalActionCost&&(this.data.flags.consumeBonusDice=!1,this.data.states.cardResolved=!0,this.data.movePlayer=!1),!0}async rollSkillCheck(options){const target=options.event.currentTarget;if(!target.classList.contains("disabled")){if(target.classList.toggle("disabled"),this.roll)return this.data.objects||(this.data.objects={}),this.data.objects.check=CoC7Check.createFromActorRollData(this.roll),!!this.data.objects.check&&(this.data.objects.check.denyPush=!0,await this.data.objects.check._perform({forceDSN:!0}),this.data.totalActionCost+=1,this.data.states.checkRolled=!0,target.classList.toggle("disabled"),this.data.objects.check.passed?(this.data.movePlayer=!0,this.data.states.cardResolved=!0):void 0===this.data.armor&&this.participant.actor&&(this.data.armor=this.participant.actor.data.data.attribs.armor.value||0),!0);ui.notifications.error(game.i18n.localize("CoC7.NothingToRoll"))}}async useLuck(options){return await CoC7Check.alter(this.data.objects.check,"useLuck",{target:options.event.currentTarget,update:!1}),this.data.objects.check.passed&&(this.data.states.cardResolved=!0,this.data.movePlayer=!0,this.data.totalActionCost+=1),!0}async rollFailConsequences(options){if(this.data.objects||(this.data.objects={}),this.data.obstacle.hasDamage&&this.data.objects.check?.isFailure){const damage="number"==typeof this.data.obstacle.failedCheckDamage?`${this.data.obstacle.failedCheckDamage}`:this.data.obstacle.failedCheckDamage;this.data.objects.failedDamageRoll=new Roll(damage),await this.data.objects.failedDamageRoll.evaluate({async:!0})}if(this.data.obstacle.hazard&&this.data.obstacle.hasActionCost&&this.data.objects.check?.isFailure){const actionCost="number"==typeof this.data.obstacle.failedActionCost?`${this.data.obstacle.failedActionCost}`:this.data.obstacle.failedActionCost;this.data.objects.failedActionRoll=new Roll(actionCost),await this.data.objects.failedActionRoll.evaluate({async:!0}),this.data.totalActionCost+=this.data.objects.failedActionRoll.total-1}return this.data.states.failedConsequencesRolled=!0,this.data.states.cardResolved=!0,!0}async askRollObstacleDamage(options){return this.data.states.playerActionDefined=!0,!0}async rollObstacleDamage(options){return this.data.objects||(this.data.objects={}),this.data.objects.obstacleDamageRoll=new Roll(this.usedWeapon?.damage),await this.data.objects.obstacleDamageRoll.evaluate({async:!0}),await CoC7Dice.showRollDice3d(this.data.objects.obstacleDamageRoll),this.data.states.obstacleDamageRolled=!0,this.data.totalActionCost+=1,this.data.states.cardResolved=!0,!0}listChanges(validate=!1){const diff={obstacle:{},player:{},changes:!1},names={barrier:game.i18n.localize("CoC7.Type"),hazard:game.i18n.localize("CoC7.Type"),hasHitPoints:game.i18n.localize("CoC7.Breakable"),HitPoints:game.i18n.localize("CoC7.HitPoints"),hasActionCost:game.i18n.localize("CoC7.ActionCost"),failedActionCost:game.i18n.localize("CoC7.ActionCost"),hasDamage:game.i18n.localize("CoC7.FightBack"),failedCheckDamage:game.i18n.localize("CoC7.WeaponDamage"),checkName:game.i18n.localize("CoC7.Check"),name:game.i18n.localize("CoC7.Name")};validate&&!this.data.validation&&(this.data.validation={});const newObstacle=foundry.utils.diffObject(this.obstacle,this.data.obstacle);for(const[key]of Object.entries(newObstacle))""===newObstacle[key]&&null===this.obstacle[key]||!isNaN(Number(newObstacle[key]))&&Number(newObstacle[key])===this.obstacle[key]||(diff.changes=!0,diff.obstacle[key]={old:this.obstacle[key],new:newObstacle[key],name:names[key],key},validate&&(this.data.validation[key]=!0));return diff}}class CoC7Chase extends CoC7Item{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/running-solid.svg"),super(data,context),this.context=context}get participants(){const pList=[],preys=this.system.participants.filter((p=>!p.chaser)).map((p=>new _participant(p))),chasers=this.system.participants.filter((p=>p.chaser)).map((p=>new _participant(p)));return this.system.participants.forEach((p=>{p.assist=[],p.chaser?p.assist=chasers.filter((c=>c.uuid!==p.uuid&&!c.hasMaxBonusDice)).map((c=>({uuid:c.uuid,name:c.name}))):p.assist=preys.filter((c=>c.uuid!==p.uuid&&!c.hasMaxBonusDice)).map((c=>({uuid:c.uuid,name:c.name})));const particpant=new _participant(p);pList.push(particpant)})),pList}get participantsObject(){const participants=this.participants;return participants.forEach((p=>{p.location=this.getParticipantLocation(p.uuid)})),participants}get activeParticipantData(){return this.system.participants.find((p=>p.active))}get activeActor(){const p=this.activeParticipantData;if(p)return p.docUuid?CoC7Utilities.getActorFromKey(p.docUuid):void 0}get participantsByAdjustedMov(){const pList=this.actualParticipants.sort(((a,b)=>a.adjustedMov-b.adjustedMov));return pList.forEach((p=>{p.location=this.getParticipantLocation(p.uuid)})),pList}get participantsByInitiative(){const pList=this.actualParticipants.sort(((a,b)=>b.initiative-a.initiative));return pList.forEach((p=>{p.location=this.getParticipantLocation(p.uuid)})),pList}get preys(){return this.participants.filter((p=>!p.isChaser&&p.isValid))||[]}get chasers(){return this.participants.filter((p=>p.isChaser&&p.isValid))||[]}get allHaveValidMov(){return this.participants.every((e=>e.hasValidMov))}get allHaveSpeedRoll(){return this.participants.every((p=>p.speedCheck?.rolled))}getParticipantLocation(participantUuid){if(!this.system.locations?.list?.length)return;if(!this.started)return;const location=this.locations.find((l=>{const lp=l.participants?.find((p=>participantUuid===p.uuid));return!!lp}));return location||void 0}getParticipantData(participantUuid){const participant=this.system.participants.find((p=>participantUuid===p.uuid));if(participant)return foundry.utils.duplicate(participant)}getParticipant(participantUuid){const participantData=this.getParticipantData(participantUuid);if(participantData)return new _participant(participantData)}get nextActiveParticipant(){if(this.started)return this.participantsByInitiative.find((p=>p.data.currentMovementActions>0))}get slowestPrey(){const preys=this.participants.sort(((a,b)=>a.adjustedMov-b.adjustedMov))?.filter((p=>p.isPrey));if(preys.length>0)return preys[0]}get fastestChaser(){const chasers=this.participants.sort(((a,b)=>a.adjustedMov-b.adjustedMov))?.filter((p=>p.isChaser));if(chasers.length>0)return chasers.slice(-1).pop()}get actualParticipants(){const slowestPrey=this.slowestPrey,fastestChaser=this.fastestChaser;let pList=this.participants;return!this.system.includeLatecomers&&slowestPrey&&(pList=pList.filter((p=>p.isPrey||p.isChaser&&p.adjustedMov>=slowestPrey.adjustedMov))),!this.system.includeEscaped&&fastestChaser&&(pList=pList.filter((p=>p.isChaser||p.isPrey&&p.adjustedMov<=fastestChaser.adjustedMov))),pList}get slowestParticipant(){const pList=this.participantsByAdjustedMov;if(pList.length>0)return pList[0]}async updateParticipants(list,{render=!0}={}){const participantsData=this.cleanParticipantList(list);return await this.update({"system.participants":participantsData},{render})}async updateParticipant(particiantUuid,updateData,{render=!0}={}){const participants=foundry.utils.duplicate(this.system.participants),update=foundry.utils.duplicate(updateData),participantIndex=participants.findIndex((p=>particiantUuid===p.uuid));-1!==participantIndex&&(update.uuid&&delete update.uuid,foundry.utils.mergeObject(participants[participantIndex],update,{overwrite:!0}),await this.updateParticipants(participants,{render}))}cleanParticipantList(list){const participantsData=list||foundry.utils.duplicate(this.system.participants);return list.forEach((p=>{let data;data="_participant"===p.constructor.name?p.data:p;const index=this.findIndex(participantsData,data.uuid);-1===index?(participantsData.push(data),ui.notifications.warn(game.i18n.localize("CoC7.ParticipantDataMissing"))):participantsData[index]=data})),participantsData}async assistParticipant(assistantUuid,beneficiaryUuid,{useMovementActions=!0,render=!0}={}){const assistant=this.getParticipant(assistantUuid),beneficiary=this.getParticipant(beneficiaryUuid),participantsData=foundry.utils.duplicate(this.system.participants),assistantIndex=participantsData.findIndex((p=>assistantUuid===p.uuid)),beneficiaryIndex=participantsData.findIndex((p=>beneficiaryUuid===p.uuid));if(assistant&&beneficiary)if(beneficiary.hasMaxBonusDice)ui.notifications.error(game.i18n.format("CoC7.ErrorBeneficiaryAtMaxBonus",{name:beneficiary.name}));else{if(useMovementActions){if(assistant.currentMovementActions<1)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantNotEnoughMovement",{assistantUuid,actions:assistant.currentMovementActions}));assistant.alterMovementActions(-1),participantsData[assistantIndex]=foundry.utils.duplicate(assistant.data)}beneficiary.addBonusDice(),participantsData[beneficiaryIndex]=foundry.utils.duplicate(beneficiary.data),await this.update({"system.participants":participantsData},{render})}else ui.notifications.error(game.i18n.localize("CoC7.ParticipantNotFound"))}async toggleBonusDice(participantUuid,diceNumber,{render=!0}={}){const participant=this.getParticipant(participantUuid);if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid}));const participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));participant.bonusDice>=diceNumber?participant.removeBonusDice():participant.addBonusDice(),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render})}async cautiousApproach(participantUuid,{useMovementActions=!0,render=!0}={}){const participant=this.getParticipant(participantUuid);if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid}));const participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));if(participant.hasMaxBonusDice)ui.notifications.error(game.i18n.format("CoC7.ErrorParticipantAtMaxBonus",{participantUuid}));else{if(useMovementActions){if(participant.currentMovementActions<1)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantNotEnoughMovement",{assistantUuid:participantUuid,actions:participant.currentMovementActions}));participant.alterMovementActions(-1)}participant.addBonusDice(),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render})}}async alterParticipantMovementAction(participantUuid,count,{render=!0}={}){const participant=this.getParticipant(participantUuid);if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid}));const participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));participant.alterMovementActions(count),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render})}async activateNextParticipantTurn({scrollToLocation=!0,activateLocation=!0,render=!0,html=null}={}){const activeParticipant=this.nextActiveParticipant,options={scrollToLocation,activateLocation,render,html};return activeParticipant?this.activateParticipant(activeParticipant.uuid,options):this.activateParticipant(void 0,options)}async activateParticipant(participantUuid,{scrollToLocation=!0,activateLocation=!0,render=!0,html=null}={}){const dataUpdate=this.getActivateParticipantUpdateData(participantUuid,{scrollToLocation,activeLocation:activateLocation,html});await this.update(dataUpdate,{render})}getActivateParticipantUpdateData(participantUuid,{scrollToLocation=!0,activateLocation=!0,html=null}={}){const pUuid=participantUuid,participantsDataUpdate={},participants=this.system.participants?foundry.utils.duplicate(this.system.participants):[];participants.forEach((p=>{delete p.active,pUuid&&pUuid===p.uuid&&(p.active=!0)})),participantsDataUpdate["system.participants"]=participants;const participantLocation=this.getParticipantLocation(pUuid);let locationsDataUpdate=null;return participantLocation?activateLocation?locationsDataUpdate=this.getActivateLocationUpdateData(participantLocation.uuid,{scrollToLocation,html}):scrollToLocation&&(locationsDataUpdate={},locationsDataUpdate["system.scroll.chaseTrack.from"]=this.chaseTrackCurrentScrollPosition,locationsDataUpdate["system.scroll.chaseTrack.to"]=this.getChaseTrackLocationScrollPosition(participantLocation.uuid,{html})):locationsDataUpdate=this.getActivateLocationUpdateData(void 0,{scrollToLocation}),locationsDataUpdate?foundry.utils.mergeObject(participantsDataUpdate,locationsDataUpdate):participantsDataUpdate}activeParticipantObstacleCheck(locationUuid,{moveParticipant=!0}={}){new ChaseObstacleCard({chaseUuid:this.uuid,locationUuid,moveParticipant,forward:locationUuid!==this.activeLocation.uuid}).toMessage()}async progressToNextRound({render=!0}={}){const participants=this.system.participants?foundry.utils.duplicate(this.system.participants):[];participants.forEach((p=>{p.currentMovementActions<p.movementAction&&(p.currentMovementActions+=p.movementAction,p.currentMovementActions>p.movementAction&&(p.currentMovementActions=p.movementAction))})),await this.updateParticipants(participants,{render:!1}),this.activateNextParticipantTurn({render})}async updateRoll(rollString){if(game.user.isGM){const roll=CoC7Check.fromRollString(rollString),participants=this.system.participants?foundry.utils.duplicate(this.system.participants):[],index=participants.findIndex((p=>p.rollUuid===roll.uuid));index>=0&&(participants[index].speedCheck.rollDataString=roll.JSONRollString,await this.update({"system.participants":participants}))}else{const data={data:rollString,type:"invoke",method:"updateRoll",item:this.uuid};game.socket.emit("system.CoC7",data)}}get locations(){const locations=this.started?this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[]:this.initTrack;return this.processLocations(locations),locations}getLocationData(locationUuid,{duplicateData=!0}={}){return(duplicateData?foundry.utils.duplicate(this.locations):this.locations).find((l=>locationUuid===l.uuid))}processLocations(locations){if(locations?.length){locations[0].first=!0;for(let index=0;index<locations.length;index++){const classes=[],location=locations[index];location.name||classes.push("empty"),location.active&&classes.push("active"),location.init&&!this.started&&classes.push("init"),location.cssClasses=classes.join(" ")}locations.length>1&&(locations[locations.length-1].last=!0),locations.forEach((l=>{if(l.participants&&l.participants.length){l.participants=l.participants.filter((p=>!(null===p)));for(let i=0;i<l.participants.length;i++){const elem=l.participants[i];let p;"string"==typeof elem||elem instanceof String?p=this.system.participants.find((p=>elem===p.uuid)):"_participant"===elem?.constructor?.name?(p=void 0,ui.notifications.warn(game.i18n.localize("CoC7.ParticipantAlreadyProcessed"))):p=void 0,void 0!==p?l.participants[i]=new _participant(p):console.error("Undefined paticipant while processing participants array")}l.participants.sort(sortByRoleAndDex)}}))}}get initTrack(){if(!this.system.locations.list||0===this.system.locations.list.length)return;const locations=[],init=this.startingLine;let locationsIndexStart,initIndexStart,locationsLength;if(locationsIndexStart=init.length<=0||this.system.startingIndex>=init.length?0:init.length-this.system.startingIndex,initIndexStart=this.system.startingIndex<=0||this.system.startingIndex<=init.length?0:this.system.startingIndex-init.length,locationsLength=0===locationsIndexStart?this.system.locations.list.length:this.system.locations.list.length+locationsIndexStart,0!==init.length&&this.system.startingIndex<0)for(let index=0;index<Math.abs(this.system.startingIndex);index++)init.push({uuid:this.generateNewUuid(),init:!0,participants:[]});const chaseLocations=foundry.utils.duplicate(this.system.locations);for(let index=0;index<locationsLength;index++){let location={};const participants=[];index>=locationsIndexStart&&index-locationsIndexStart<chaseLocations.list.length&&(location=foundry.utils.duplicate(chaseLocations.list[index-locationsIndexStart]),location.init=!1,location.participants?.forEach((p=>{null!=p&&participants.push(p)}))),index>=initIndexStart&&index-initIndexStart<init.length&&(mergeObject(location,init[index-initIndexStart],{overwrite:!1}),init[index-initIndexStart].participants?.forEach((p=>{null!=p&&participants.push(p)})),location.participants=participants),location.first=!1,location.end=!1,locations.push(location)}return locations}get startingLine(){const preys=this.system.includeEscaped?this.preys:this.preys?.filter((p=>!p.data.escaped)),chasers=this.system.includeLatecomers?this.chasers:this.chasers?.filter((c=>!c.data.excluded)),chaseTrack=[],chasersMinMov=this.findMinMov(chasers),chasersMaxMov=this.findMaxMov(chasers),preysMinMov=this.findMinMov(preys),preysMaxMov=this.findMaxMov(preys);if(-1!==chasersMinMov&&-1!==chasersMaxMov){for(let mov=chasersMinMov;mov<=chasersMaxMov;mov++){const location={uuid:this.generateNewUuid(),init:!0,participants:[]};chasers.filter((p=>mov===p.adjustedMov)).sort(((a,b)=>a.dex-b.dex)).forEach((p=>location.participants.push(p.uuid))),chaseTrack.push(location)}for(let index=0;index<this.system.startingRange;index++)chaseTrack.push({uuid:this.generateNewUuid(),init:!0,participants:[]})}if(-1!==preysMinMov&&-1!==preysMaxMov)for(let mov=preysMinMov;mov<=preysMaxMov;mov++){const location={uuid:this.generateNewUuid(),init:!0,participants:[]};preys.filter((p=>mov===p.adjustedMov)).sort(((a,b)=>a.dex-b.dex)).forEach((p=>location.participants.push(p.uuid))),chaseTrack.push(location)}return chaseTrack}async updateLocationsList(list,{render=!0}={}){const updatedList=this.cleanLocationsList(list);await this.update({"system.locations.list":updatedList},{render})}async updateLocation(locationUuid,updateData,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),update=foundry.utils.duplicate(updateData),locationIndex=locations.findIndex((l=>locationUuid===l.uuid));-1!==locationIndex&&(update.uuid&&delete update.uuid,foundry.utils.mergeObject(locations[locationIndex],update,{overwrite:!0}),await this.updateLocationsList(locations,{render}))}cleanLocationsList(list){const updatedList=foundry.utils.duplicate(list),partipantsUuidArray=this.system.participants.map((p=>p.uuid));return updatedList.forEach((l=>{if(delete l.cssClasses,delete l.first,delete l.last,delete l.end,l.participants&&l.participants.length){for(let i=0;i<l.participants.length;i++)l.participants=l.participants.filter((p=>!(null===p))),l.participants[i].data?.uuid&&(l.participants[i]=l.participants[i].data.uuid);l.participants=l.participants.filter((uuid=>partipantsUuidArray.includes(uuid)))}})),updatedList}async insertLocation(insertAtUuid,{shift=0,locData={},render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list);locations.forEach((l=>{delete l.active}));const locationIndex=locations.findIndex((l=>insertAtUuid===l.uuid));if(-1===locationIndex)return!1;const newLocationIndex=locationIndex+shift;if(newLocationIndex>locations.length)return!1;const newLocation=foundry.utils.duplicate(locData);return newLocation.uuid=this.generateNewUuid(),newLocation.init=locations[locationIndex].init,newLocation.active=!0,locations.splice(newLocationIndex,0,newLocation),await this.updateLocationsList(locations,{render})}async removeLocation(uuid,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),locationIndex=locations.findIndex((l=>uuid===l.uuid));if(locations.splice(locationIndex,1),locations.forEach((l=>{delete l.active})),locations.length>0){let index=locationIndex-1;index<0&&(index=0),locations[index].active=!0}return await this.updateLocationsList(locations,{render})}async activateLocation(locationUuid,{scrollToLocation=!0,render=!0}={}){const updateData=this.getActivateLocationUpdateData(locationUuid,{scrollToLocation});await this.update(updateData,{render})}getClearActiveLocationUpdateData({scrollToLocation=!0,html=null}={}){const updateData={},locations=this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[];return locations.forEach((l=>{delete l.active})),updateData["system.locations.list"]=this.cleanLocationsList(locations),scrollToLocation&&(updateData["system.scroll.chaseTrack.from"]=0,updateData["system.scroll.chaseTrack.to"]=-1),updateData}getActivateLocationUpdateData(locationUuid,{scrollToLocation=!0,html=null}={}){if(!locationUuid)return this.getClearActiveLocationUpdateData({scrollToLocation});const updateData={},locations=this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[];return locations.forEach((l=>{delete l.active,locationUuid===l.uuid&&(l.active=!0)})),updateData["system.locations.list"]=this.cleanLocationsList(locations),scrollToLocation&&(updateData["system.scroll.chaseTrack.from"]=this.chaseTrackCurrentScrollPosition,updateData["system.scroll.chaseTrack.to"]=this.getChaseTrackLocationScrollPosition(locationUuid,{html})),updateData}get activeLocation(){if(!this.locations)return;const location=this.locations.find((l=>l.active));if(!location)return;location.participants?.length&&(location.hasParticipant=!0);const actor=this.activeActor;if(actor){const test=actor.find(location.obstacleDetails?.checkName);test&&(location.activeActorHasSkill=!0,location.activeActorTest=test)}return location}get previousLocation(){if(!this.locations)return;const activeIndex=this.locations.findIndex((l=>l.active));if(-1===activeIndex)return;if(0===activeIndex)return;const location=this.locations[activeIndex-1],actor=this.activeActor;if(actor){const test=actor.find(location.obstacleDetails?.checkName);test&&(location.activeActorHasSkill=!0,location.activeActorTest=test)}return location}get nextLocation(){if(!this.locations)return;const activeIndex=this.locations.findIndex((l=>l.active));if(-1===activeIndex)return;if(activeIndex===this.locations.length-1)return;const location=this.locations[activeIndex+1],actor=this.activeActor;if(actor){const test=actor.find(location.obstacleDetails?.checkName);test&&(location.activeActorHasSkill=!0,location.activeActorTest=test)}return location}async locatorDropped(data){await this.setLocationCoordinates(data.locationUuid,data.x,data.y,data.scene)}async setLocationCoordinates(locationUuid,x,y,sceneId,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),locationIndex=locations.findIndex((l=>locationUuid===l.uuid));return locations[locationIndex].coordinates={x,y,scene:sceneId},await this.updateLocationsList(locations,{render})}async clearActiveLocationCoordinates({render=!0}={}){if(this.activeLocation)return await this.clearLocationCoordinates(this.activeLocation.uuid,{render})}async clearLocationCoordinates(locationUuid,{render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),locationIndex=locations.findIndex((l=>locationUuid===l.uuid));return delete locations[locationIndex].coordinates,await this.updateLocationsList(locations,{render})}async cutToTheChase(){if(this.allHaveSpeedRoll){if(this.actualParticipants?.length<2)ui.notifications.warn(game.i18n.localize("CoC7.NeedMin2Participants"));else if(this.allHaveValidMov){const participants=this.participants,minMov=this.findMinMov(this.actualParticipants);participants.forEach((p=>{p.calculateMovementActions(minMov),p.currentMovementActions=p.movementAction,p.bonusDice=0})),await this.updateParticipants(participants,{render:!1}),await this.updateLocationsList(this.locations,{render:!1}),await this.start()}}else ui.notifications.warn(game.i18n.localize("CoC7.NotAllHaveSpeedRoll"))}async restart(){const locations=this.locations.filter((l=>!l.init));for(let i=0;i<locations.length;i++)locations[i].participants&&(locations[i].participants=[]),locations[i].active&&delete locations[i].active;const participantsData=this.system.participants?foundry.utils.duplicate(this.system.participants):[];for(let i=0;i<participantsData.length;i++)participantsData[i].active&&delete participantsData[i].active;await this.setchaseTrackScroll(0,0,{render:!1}),await this.updateLocationsList(locations,{render:!1}),await this.updateParticipants(participantsData,{render:!1}),await this.stop()}getLocationShift(locationUuid,{skip=1}={}){const locations=foundry.utils.duplicate(this.system.locations.list),destinationIndex=locations.findIndex((l=>locationUuid===l.uuid))+skip;return 0===locations.length?null:destinationIndex>=locations.length?locations[locations.length-1]:destinationIndex<0?locations[0]:locations[destinationIndex]}async removeParticipant(participantUuid,{render=!0}={}){const p=this.getParticipant(participantUuid);await Dialog.confirm({title:game.i18n.localize("CoC7.RemoveParticipant"),content:`<p>${game.i18n.format("CoC7.RemoveParticipantHint",{name:p.name})}</p>`,yes:async()=>{const newParticipantsData=foundry.utils.duplicate(this.system.participants).filter((p=>participantUuid!==p.uuid)),locationsData=foundry.utils.duplicate(this.system.locations.list);locationsData.forEach((l=>{l.participants&&l.participants.length&&(l.participants=l.participants.filter((uuid=>participantUuid!==uuid)))})),await this.updateParticipants(newParticipantsData,{render:!1}),await this.updateLocationsList(locationsData,{render})}})}async addParticipant(participant,{render=!0,locationUuid=null,recalculateMovementActions=!0,update=!1}={}){const participantsData=this.system.participants?foundry.utils.duplicate(this.system.participants):[];if(participant.data.chaseUuid&&delete participant.data.chaseUuid,participant.data.locationUuid&&delete participant.data.locationUuid,participant.data.update&&delete participant.data.update,!participant.uuid){let unique=!1;for(;!unique;)participant.data.uuid=foundry.utils.randomID(16),unique=0===participantsData.filter((p=>p.uuid===participant.uuid)).length}if(update){participant.currentMovementActions>participant.movementAction&&(participant.currentMovementActions=participant.movementAction);const index=participantsData.findIndex((p=>p.uuid===participant.uuid));participantsData[index]=participant.data}else participantsData.push(participant.data);if(await this.updateParticipants(participantsData,{render:render&&!this.started&&!this.recalculateMovementActions}),recalculateMovementActions){const slowest=this.slowestParticipant?.adjustedMov,participants=this.participants;participants.forEach((p=>p.calculateMovementActions(slowest))),await this.updateParticipants(participants,{render:render&&!this.started})}if(this.started&&!participant.data.escaped&&!participant.data.excluded){const locationsData=this.system.locations.list?foundry.utils.duplicate(this.system.locations.list):[];0===locationsData.length&&ui.notifications.error(game.i18n.localize("CoC7.ErrorEmptyLocationsList"));let locationIndex=locationsData.findIndex((l=>locationUuid===l.uuid));-1===locationIndex&&(locationIndex=0),locationsData[locationIndex].participants||(locationsData[locationIndex].participants=[]),-1===locationsData[locationIndex].participants.findIndex((p=>p===participant.uuid))&&locationsData[locationIndex].participants.push(participant.uuid),await this.updateLocationsList(locationsData,{render})}}async editParticipant(participantUuid,{useMovementActions=!0,scrollToLocation=!0,activateLocation=!0,activateParticipant=!0,render=!0}={}){}async moveParticipant(participantUuid,locationMoved,{useMovementActions=!0,scrollToLocation=!0,activateLocation=!0,activateParticipant=!0,render=!0}={}){let modified=!1;const locations=foundry.utils.duplicate(this.system.locations.list),originIndex=locations.findIndex((l=>l.participants?.includes(participantUuid)));let destinationIndex=originIndex+locationMoved;destinationIndex>locations.length-1&&(destinationIndex=locations.length-1),destinationIndex<0&&(destinationIndex=0);const totalMove=destinationIndex-originIndex,participant=this.getParticipant(participantUuid),participantsData=foundry.utils.duplicate(this.system.participants),participantIndex=participantsData.findIndex((p=>participantUuid===p.uuid));if(useMovementActions){if(!participant)return void ui.notifications.error(game.i18n.format("CoC7.ParticipantUuidNotFound",{participantUuid:this.participantUuid}));if(participant.currentMovementActions<Math.abs(totalMove))return void ui.notifications.error(game.i18n.format("CoC7.ParticipantNotEnoughMovement",{assistantUuid:participantUuid,actions:participant.currentMovementActions}));participant.alterMovementActions(0-Math.abs(totalMove)),participantsData[participantIndex]=foundry.utils.duplicate(participant.data),await this.update({"system.participants":participantsData},{render:!1}),modified=!0}return 0!==totalMove&&(await this.moveParticipantToLocation(participantUuid,locations[destinationIndex].uuid,{render:!1}),modified=!0),activateParticipant&&(await this.activateParticipant(participantUuid,{scrollToLocation,activateLocation,render:!1}),modified=!0),activateLocation&&!activateParticipant&&(await this.activateLocation(locations[destinationIndex].uuid,{scrollToLocation,render:!1}),modified=!0),modified&&render&&await this.sheet.render(!0),totalMove}async moveParticipantToLocation(participantUuid,locationUuid,{scrollToLocation=!0,activateLocation=!0,animate=null,moveToken=!0,render=!0}={}){const locations=foundry.utils.duplicate(this.system.locations.list),destination=locations.find((l=>locationUuid===l.uuid));if(!destination)return void console.error(`Failed to move ${participantUuid}. Location ${locationUuid} unknown`);const origin=locations.find((l=>l.participants?.includes(participantUuid)));if(!origin)return void console.error(`Failed to find ${participantUuid} in locations`);if(destination.participants||(destination.participants=[]),destination.participants.includes(participantUuid))return;destination.participants.push(participantUuid);const oldParticipantsList=origin.participants.filter((p=>participantUuid!==p));if(origin.participants=oldParticipantsList,moveToken&&destination.coordinates){const participant=this.getParticipant(participantUuid),particpantDocument=CoC7Utilities.getDocumentFromKey(participant?.data?.docUuid);if(particpantDocument&&!(particpantDocument instanceof TokenDocument||particpantDocument?.object instanceof Token))console.warn("No token associated with this actor");else if(destination.coordinates.scene!==game.scenes.viewed.uuid&&console.warn("Caution the scene is not the active scene"),particpantDocument.parent?.uuid!==destination.coordinates.scene)ui.notifications.error(game.i18n.localize("CoC7.ErrorTokenNotOnScene"));else{const scene=CoC7Utilities.getDocumentFromKey(destination.coordinates.scene);let x=destination.coordinates.x;const y=destination.coordinates.y;let targetRect=new NormalizedRectangle(x,y,particpantDocument.object.width,particpantDocument.object.height);const update=[];let foundFreeSpace=!1;for(;!foundFreeSpace;){const overlapingToken=scene.tokens.find((t=>t.id!==particpantDocument.id&&t.object.bounds.intersects(targetRect)));overlapingToken?(x=overlapingToken.object.bounds.right+1,targetRect=new NormalizedRectangle(x,y,particpantDocument.object.width,particpantDocument.object.height)):foundFreeSpace=!0}update.push({_id:particpantDocument.id,x,y});const showTokenMovement="boolean"==typeof animate?animate:this.system.showTokenMovement;await particpantDocument.parent.updateEmbeddedDocuments("Token",update,{animate:showTokenMovement})}}await this.updateLocationsList(locations,{render})}async setchaseTrackScroll({from,to=-1,render=!0}={}){await this.update({"system.scroll.chaseTrack.from":void 0===from?this.chaseTrackCurrentScrollPosition:from,"system.scroll.chaseTrack.to":void 0===to?this.chaseTrackCurrentScrollPosition:to},{render})}get chaseTrackCurrentScrollPosition(){const html=this.sheet?._element;if(!html)return-1;const chaseTrack=html[0].querySelector(".chase-track");return chaseTrack?chaseTrack.scrollLeft:-1}get chaseTrackActiveLocationScrollPosition(){return this.activeLocation?this.getChaseTrackLocationScrollPosition(this.activeLocation.uuid):-1}getChaseTrackLocationScrollPosition(locationUuid,{html=null}){const htmlElement=html||this.sheet?._element;if(!htmlElement||!htmlElement[0])return-1;const chaseTrack=htmlElement[0].querySelector(".chase-track");if(!chaseTrack)return-1;const activeLocationElement=chaseTrack.querySelector(`.chase-location[data-uuid="${locationUuid}"]`);if(!activeLocationElement)return-1;const leftScroll=activeLocationElement.offsetLeft+activeLocationElement.clientWidth/2-chaseTrack.clientWidth/2;return leftScroll<0?0:Math.floor(leftScroll)}findMinMov(list){return list?.length?list.reduce(((prev,current)=>prev.adjustedMov<current.adjustedMov?prev:current)).adjustedMov:-1}findMaxMov(list){return list?.length?list.reduce(((prev,current)=>prev.adjustedMov>current.adjustedMov?prev:current)).adjustedMov:-1}findIndex(list,uuid){return list.findIndex((p=>p.uuid===uuid))}get started(){return this.getFlag("CoC7","started")}async start(){const remString=$(":root").css("font-size"),remSize=Number(remString.replace("px","")),pCount=this.actualParticipants.length,width=Math.max((11.2*pCount+3)*remSize,40*remSize);this.sheet._tabs[0].active="setup",this.sheet.position.width=width,await this.setFlag("CoC7","started",!0),await this.activateNextParticipantTurn()}async stop(){return this.unsetFlag("CoC7","started")}generateNewUuid(){return foundry.utils.randomID(16)}getActorSkillsAndCharacteristics(participantUuid){const participant=this.getParticipant(participantUuid);if(!participant.actor)return;const list=[];return CoCActor.getCharacteristicDefinition().forEach((c=>list.push(`${game.i18n.localize("CoC7.Characteristics")} (${c.shortName})`))),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.Luck")})`),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.SAN")})`),participant.actor.skills.forEach((s=>list.push(s.name))),list}get activeActorSkillsAndCharacteristics(){const particicpantData=this.activeParticipantData;if(particicpantData)return this.getActorSkillsAndCharacteristics(particicpantData.uuid)}get allSkillsAndCharacteristics(){const list=[];return CoCActor.getCharacteristicDefinition().forEach((c=>list.push(`${game.i18n.localize("CoC7.Characteristics")} (${c.shortName})`))),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.Luck")})`),list.push(`${game.i18n.localize("CoC7.Attribute")} (${game.i18n.localize("CoC7.SAN")})`),game.CoC7.skillList?.forEach((s=>{list.includes(s.name)||s.name.toLowerCase().includes(`(${game.i18n.localize("CoC7.AnySpecName")})`.toLowerCase())||list.push(s.name)})),this.participants.forEach((p=>{p.actor&&p.actor.skills.forEach((s=>{list.includes(s.name)||list.push(s.name)}))})),list.sort(Intl.Collator().compare)}get allSkillsAndCharacteristicsShort(){const list=[];return CoCActor.getCharacteristicDefinition().forEach((c=>list.push(`${c.label}`))),list.push(`${game.i18n.localize("CoC7.Luck")}`),list.push(`${game.i18n.localize("CoC7.SAN")}`),game.CoC7.skillList?.forEach((s=>{list.includes(s.name)||s.name.toLowerCase().includes(`(${game.i18n.localize("CoC7.AnySpecName")})`.toLowerCase())||list.push(s.name)})),this.participants.forEach((p=>{p.actor&&p.actor.skills.forEach((s=>{list.includes(s.name)||list.push(s.name)}))})),list.sort(Intl.Collator().compare)}}class CoC7Skill extends CoC7Item{constructor(data,context){if(void 0===data.system?.skillName){const skill=CoC7Skill.guessNameParts(data.name),{name,skillName,specialization,...newProperties}=skill;data.name=name,data.system||={};const properties={...data.system.properties,...newProperties};data.system={...data.system,skillName,specialization,properties}}super(data,context)}static guessNameParts(skillName){const output={combat:!1,fighting:!1,firearm:!1,name:skillName,skillName,special:!1,specialization:""},match=skillName.match(/^(.+)\s*\(([^)]+)\)$/);if(match){output.skillName=match[2].trim(),output.special=!0;const specialization=match[1].trim();output.specialization=specialization,output.name=specialization+" ("+output.skillName+")",output.fighting=specialization===game.i18n.localize("CoC7.FightingSpecializationName"),output.firearm=specialization===game.i18n.localize("CoC7.FirearmSpecializationName"),output.combat=output.fighting||output.firearm}return output}get hasActiveEffects(){return this.activeEffects.length>0}get activeEffects(){if(this.parent&&this.parent.effects){const effectKeyFull=`skill.${this.name}`.toLowerCase(),effectKeyShort=`skill.${this.system.skillName}`.toLowerCase();let changes=this.parent.effects.reduce(((changes,e)=>e.disabled||e.isSuppressed?changes:changes.concat(e.data.changes.map((c=>((c=foundry.utils.duplicate(c)).effect=e,c.priority=c.priority??10*c.mode,c))))),[]);return changes.sort(((a,b)=>a.priority-b.priority)),changes=changes.filter((e=>e.key.toLowerCase()===effectKeyShort||e.key.toLowerCase()===effectKeyFull)),changes}return[]}get itemIdentifier(){return this.name}get rawValue(){let value=0;return"character"===this.actor.type?(value=this.base,value+=this.system.adjustments?.personal?parseInt(this.system.adjustments?.personal):0,value+=this.system.adjustments?.occupation?parseInt(this.system.adjustments?.occupation):0,value+=this.system.adjustments?.experience?parseInt(this.system.adjustments?.experience):0,game.settings.get("CoC7","pulpRuleArchetype")&&this.system.adjustments?.archetype&&(value+=parseInt(this.system.adjustments?.archetype))):value=parseInt(this.system.value),isNaN(value)?null:value}get value(){const value=this.parent?.system.skills?.[`${this.itemIdentifier}`]?.value;return value||this.rawValue}async updateValue(value){if("character"===this.actor.type){const delta=parseInt(value)-this.rawValue,exp=(this.system.adjustments?.experience?parseInt(this.system.adjustments.experience):0)+delta;await this.update({"system.adjustments.experience":exp>0?exp:0})}else await this.update({"system.value":value})}async increaseExperience(x){if("skill"!==this.type)return null;if("character"===this.actor.type){const exp=(this.system.adjustments?.experience?parseInt(this.system.adjustments.experience):0)+parseInt(x);await this.update({"system.adjustments.experience":exp>0?exp:0})}}}class CoC7Vehicle extends CoCActor{constructor(data,context){void 0===data.img&&(data.img="systems/CoC7/assets/icons/jeep.svg"),super(data,context)}get rawBuild(){return this.build}get build(){const build=parseInt(this.system.attribs.build.value);return isNaN(build)?null:build}get hp(){if(null===this.system.attribs.build.current||void 0===this.system.attribs.build.current||""===this.system.attribs.build.current)return this.build;if(this.system.attribs.build.current>this.system.attribs.build.value)return this.build;const hp=parseInt(this.system.attribs.build.current);return isNaN(hp)?null:hp}get hpMax(){return this.build}get rawHpMax(){return this.build}async setHp(value){return value>this.build&&(value=this.build),await this.update({"system.attribs.build.current":value})}get rawDb(){return this.db}get db(){const db=parseInt(this.system.attribs.db?.value);return isNaN(db)?null:db}get rawMov(){return this.mov}get mov(){const mov=parseInt(this.system.attribs.mov?.value);return isNaN(mov)?null:mov}get mpMax(){return parseInt(this.system.attribs?.mp?.max)||0}get rawMpMax(){return this.mpMax}get sanMax(){return null}get rawSanMax(){return null}}class CoC7DecaderDie extends DiceTerm{constructor(termData){super(termData),this.faces=10}get total(){const total=super.total;return 10===total?0:10*total}static get DENOMINATION(){return"t"}}class CoC7DecaderDieOther extends CoC7DecaderDie{static get DENOMINATION(){return"o"}}const SETTINGS={pulpRules:{name:"",hint:"",scope:"world",config:!1,default:!1,type:Boolean},initiativeRule:{name:"SETTINGS.InitiativeRule",hint:"SETTINGS.InitiativeRuleHint",scope:"world",config:!1,default:"basic",type:String,choices:{basic:"SETTINGS.InitiativeRuleBasic",optional:"SETTINGS.InitiativeRuleOptional"},onChange:rule=>_setInitiativeOptions(rule)},developmentRollForLuck:{name:"SETTINGS.developmentRollForLuck",hint:"SETTINGS.developmentRollForLuckHint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleDoubleMaxHealth:{name:"CoC7.Settings.PulpRules.DoubleMaxHealth.Name",hint:"CoC7.Settings.PulpRules.DoubleMaxHealth.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleDevelopmentRollLuck:{name:"CoC7.Settings.PulpRules.DevelopmentRollLuck.Name",hint:"CoC7.Settings.PulpRules.DevelopmentRollLuck.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleArchetype:{name:"CoC7.Settings.PulpRules.Archetype.Name",hint:"CoC7.Settings.PulpRules.Archetype.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleOrganization:{name:"CoC7.Settings.PulpRules.Organization.Name",hint:"CoC7.Settings.PulpRules.Organization.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleTalents:{name:"CoC7.Settings.PulpRules.Talents.Name",hint:"CoC7.Settings.PulpRules.Talents.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleFasterRecovery:{name:"CoC7.Settings.PulpRules.FasterRecovery.Name",hint:"CoC7.Settings.PulpRules.FasterRecovery.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleIgnoreMajorWounds:{name:"CoC7.Settings.PulpRules.IgnoreMajorWounds.Name",hint:"CoC7.Settings.PulpRules.IgnoreMajorWounds.Hint",scope:"world",config:!1,default:!1,type:Boolean},pulpRuleIgnoreAgePenalties:{name:"CoC7.Settings.PulpRules.IgnoreAgePenalties.Name",hint:"CoC7.Settings.PulpRules.IgnoreAgePenalties.Hint",scope:"world",config:!1,default:!1,type:Boolean},opposedRollTieBreaker:{name:"SETTINGS.OpposedRollTieBreaker",hint:"SETTINGS.OpposedRollTieBreakerHint",scope:"world",config:!1,default:!1,type:Boolean}};function _setInitiativeOptions(rule){let decimals=0;switch(rule){case"optional":decimals=2;break;case"basic":decimals=0}CONFIG.Combat.initiative={formula:null,decimals}}class CoC7GameRuleSettings extends FormApplication{static get defaultOptions(){return mergeObject(super.defaultOptions,{title:"SETTINGS.TitleRules",id:"rules-settings",template:"systems/CoC7/templates/system/rule-settings.html",width:550,height:"auto",closeOnSubmit:!0})}getData(){const options={},pulpRules={true:!1,false:!1};for(const[k,v]of Object.entries(SETTINGS))options[k]={value:game.settings.get("CoC7",k),setting:v},k.match(/^pulpRule.{2,}$/)&&(pulpRules[options[k].value]=!0);return options.pulpSelection=pulpRules.true?pulpRules.false?"some":"all":"none",options}static registerSettings(){for(const[k,v]of Object.entries(SETTINGS))game.settings.register("CoC7",k,v);_setInitiativeOptions(game.settings.get("CoC7","initiativeRule"))}activateListeners(html){super.activateListeners(html),html.find("#pulpRulesSelect").on("change",(event=>this.onChangePulpSelect(event))),html.find("input.pulpRulesSelect[type=checkbox]").on("click",(event=>this.onClickPulp(event))),html.find("button[name=reset]").on("click",(event=>this.onResetDefaults(event)))}onChangePulpSelect(event){const val=$(event.currentTarget).val();"none"!==val&&"all"!==val||$("#rules-settings").find("input.pulpRulesSelect[type=checkbox]").each((function(){const checkbox=$(this);"none"===val?checkbox.prop("checked",!1):checkbox.prop("checked",!0)}))}onClickPulp(event){const pulpRules={true:!1,false:!1};$("#rules-settings").find("input.pulpRulesSelect[type=checkbox]").each((function(){$(this).prop("checked")?pulpRules.true=!0:pulpRules.false=!0})),$("#pulpRulesSelect").val(pulpRules.true?pulpRules.false?"some":"all":"none")}async onResetDefaults(event){event.preventDefault();for await(const[k,v]of Object.entries(SETTINGS))await game.settings.set("CoC7",k,v?.default);return this.render()}async _updateObject(event,data){const pulpRules={true:!1,false:!1};for await(const key of Object.keys(SETTINGS))game.settings.set("CoC7",key,data[key]),key.match(/^pulpRule.{2,}$/)&&(pulpRules[data[key]]=!0);game.settings.set("CoC7","pulpRules",pulpRules.true&&!pulpRules.false)}}class CoC7ArchetypeSheet extends ItemSheet{activateListeners(html){super.activateListeners(html),this.options.editable&&(html.find(".item .item-name h4").click((event=>this._onItemSummary(event,"skills"))),html.find(".item-delete").click((event=>this._onItemDelete(event,"skills"))))}async _onDrop(event,type="skill",collectionName="skills"){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");let useCoCID=0;const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];for(const item of dataList)item&&item.system&&[type].includes(item.type)&&(!CoC7Item.isAnySpec(item)&&collection.find((el=>el.name===item.name))||(0===useCoCID&&(useCoCID=await DropCoCID.create()),collection.push(DropCoCID.processItem(useCoCID,item))));await this.item.update({[`system.${collectionName}`]:collection})}_onItemSummary(event,collectionName="items"){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.item.system[collectionName].find((s=>s._id===li.data("item-id")));if(!item)return;const chatData=item.system.description;if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$(`<div class="item-summary">${chatData.value}</div>`),props=$('<div class="item-properties"></div>');div.append(props),li.append(div.hide()),div.slideDown(200)}li.toggleClass("expanded")}async _onItemDelete(event,collectionName="items"){const item=$(event.currentTarget).closest(".item"),itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=this.item.system[collectionName].findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));if(itemIndex>-1){const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];collection.splice(itemIndex,1),await this.item.update({[`system.${collectionName}`]:collection})}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","occupation"],template:"systems/CoC7/templates/items/archetype.html",width:520,height:480,dragDrop:[{dragSelector:".item"}],scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded;const coreCharacteristics=[];for(const[key,selected]of Object.entries(sheetData.data.system.coreCharacteristics))if(selected){const characName=game.i18n.localize(`CHARAC.${key.toUpperCase()}`);coreCharacteristics.push(characName)}sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.enrichedSuggestedOccupations=TextEditor.enrichHTML(sheetData.data.system.suggestedOccupations,{async:!1,secrets:sheetData.editable}),sheetData.enrichedSuggestedTraits=TextEditor.enrichHTML(sheetData.data.system.suggestedTraits,{async:!1,secrets:sheetData.editable}),sheetData.data.system.skills=await game.system.api.cocid.expandItemArray({itemList:sheetData.data.system.skills}),sheetData.skillListEmpty=0===sheetData.data.system.skills.length,sheetData.data.system.skills.sort(CoC7Utilities.sortByNameKey),sheetData.coreCharacteristicsString="";const orString=` ${game.i18n.localize("CoC7.Or")} `;return coreCharacteristics.length&&(sheetData.coreCharacteristicsString+=coreCharacteristics.join(orString)),sheetData.itemProperties=[],sheetData.itemProperties.push(`${game.i18n.localize("CoC7.PulpTalents")}: ${sheetData.data.system.talents}`),sheetData.itemProperties.push(`${game.i18n.localize("CoC7.BonusPoints")}: ${sheetData.data.system.bonusPoints}`),sheetData.isKeeper=game.user.isGM,sheetData}}class CoC7BookSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{template:"systems/CoC7/templates/items/book/main.html",classes:["coc7","item","book"],width:500,height:"auto",resizable:!1,dragDrop:[{dragSelector:".spells",dropSelector:null}],scrollY:[".body"],tabs:[{navSelector:".navigation",contentSelector:".body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();return sheetData.initialReading=this.item.system.initialReading,sheetData.isKeeper=game.user.isGM,sheetData.isOwner=this.item.isOwner,sheetData.spellsLearned=this.spellsLearned,sheetData.exhausted=!1!==await this.item.checkExhaustion(),sheetData.studyCompleted=this.item.system.study.progress===this.item.system.study.necessary,sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.spellListEmpty=0===this.item.system.spells.length,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.enrichedContent=TextEditor.enrichHTML(sheetData.data.system.content,{async:!1,secrets:sheetData.editable}),sheetData}get spellsLearned(){let amount=0;const spells=this.item.system.spells;for(const spell of spells)spell.system.learned&&amount++;return`${amount} / ${spells.length}`}activateListeners(html){super.activateListeners(html),html.find("#attempt-initial-reading").click((event=>{event.preventDefault(),this.item.attemptInitialReading()})),html.find(".delete-spell").click((event=>this._onDelete(event))),html.find(".edit-spell").click((event=>this._onSpellDetail(event))),html.find(".spell-name").click((event=>this._onSpellDetail(event))),html.find(".teach-spell").click((event=>{const id=$(event.currentTarget).parents("li").data("id");this.item.attemptSpellLearning(id)})),html.find('[name="system.study.necessary"]').change((event=>{const value=parseInt(event.currentTarget.value);this.item.changeProgress("reset",value)})),html.find("#increase-progress").click((()=>{this.item.changeProgress("increase")})),html.find("#decrease-progress").click((()=>{this.item.changeProgress("decrease")})),html.find(".add-other-gains").click((event=>{this.modifyOthersGains(event,"add")})),html.find(".change-other-gains").change((event=>{this.modifyOthersGains(event,"change")})),html.find("#redo-full-study").click((()=>{this.item.redoFullStudy()})),html.find(".remove-other-gains").click((event=>{this.modifyOthersGains(event,"remove")})),html.find(".option").click((event=>this.modifyType(event)))}async _onSpellDetail(event){event.preventDefault();const index=$(event.currentTarget).parents("li").data("index");return await this.item.spellDetail(index)}async _onDelete(event){if(!game.user.isGM)return;event.preventDefault();const index=$(event.currentTarget).parents("li").data("index"),spells=this.item.system.spells?duplicate(this.item.system.spells):[];return index>=0&&spells.splice(index,1),await this.item.update({"system.spells":spells})}async _onDrop(event,type="spell"){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item"),spells=[];for(const item of dataList)item&&["skill","spell"].includes(item.type)&&("spell"===item.type?spells.push(item):"skill"===item.type&&this.item.system.type.other&&this.modifyOthersGains(null,"add",{name:item.name}));await this.item.addSpells(spells)}modifyType(event){event.preventDefault(),event.stopPropagation();return $(event.currentTarget).prev().trigger("click")}async modifyOthersGains(event,mode,options={}){let index=null,element=null;event&&(event.preventDefault(),element=$(event.currentTarget),index=element.parents("tr").data("index"));const skills=this.item.system.gains.others?duplicate(this.item.system.gains.others):[];switch(mode){case"add":skills.push({name:options.name||game.i18n.localize("CoC7.NewSkillName"),value:"development"});break;case"change":skills[index]={name:element.is("input")?element.val():skills[index].name,value:element.is("select")?element.val():skills[index].value};break;case"remove":index>=0&&skills.splice(index,1)}return await this.item.update({"system.gains.others":skills})}}class CoC7ContainerSheet extends ActorSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","actor","storage"],template:"systems/CoC7/templates/actors/storage-sheet.html",width:672,height:765,dragDrop:[{dragSelector:".item",dropSelector:null}],tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"items"}]})}async _onDrop(event){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");if(!this.options.editable)return;const items=this.actor.items.toObject()||[];for(const item of dataList)item&&item.system&&["book","item","spell","weapon"].includes(item.type)&&items.push(item.toObject());await this.actor.update({items})}onCloseSheet(){}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=await super.getData();if(sheetData.isKeeper=game.user.isGM,sheetData.editable=this.isEditable,sheetData.itemsByType={},sheetData.items){for(const item of sheetData.items)Object.prototype.hasOwnProperty.call(sheetData.itemsByType,item.type)||(sheetData.itemsByType[item.type]=[]),sheetData.itemsByType[item.type].push(item);for(const itemType in sheetData.itemsByType)sheetData.itemsByType[itemType].sort(CoC7Utilities.sortByNameKey)}return sheetData.allowUnlock="always"===game.settings.get("CoC7","playerUnlockSheetMode")||game.user.isGM,sheetData.showInventoryItems=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"item")||!sheetData.data.system.flags.locked,sheetData.showInventoryBooks=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"book")||!sheetData.data.system.flags.locked,sheetData.showInventorySpells=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"spell")||!sheetData.data.system.flags.locked,sheetData.showInventoryTalents=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"talent")||!sheetData.data.system.flags.locked&&game.settings.get("CoC7","pulpRuleTalents"),sheetData.showInventoryWeapons=Object.prototype.hasOwnProperty.call(sheetData.itemsByType,"weapon")||!sheetData.data.system.flags.locked,sheetData.hasInventory=sheetData.showInventoryItems||sheetData.showInventoryBooks||sheetData.showInventorySpells||sheetData.showInventoryTalents||sheetData.showInventoryWeapons,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".item-edit").click((ev=>{const li=$(ev.currentTarget).parents(".item");this.actor.items.get(li.data("itemId")).sheet.render(!0)})),html.find(".inventory-header").click(this._onInventoryHeader.bind(this)),html.find(".item-trade").click(this._onTradeItem.bind(this)),html.find(".show-detail").click(this._onItemSummary.bind(this)),html.find(".item-delete").click((async ev=>{const li=$(ev.currentTarget).parents(".item"),itemToDelete=this.actor.items.get(li.data("itemId"),{strict:!0});await itemToDelete.delete(),li.slideUp(200,(()=>this.render(!1)))})),html.find(".add-item").click((ev=>{switch(ev.currentTarget.dataset.type){case"book":this.actor.createEmptyBook(ev);break;case"item":this.actor.createEmptyItem(ev);break;case"skill":this.actor.createEmptySkill(ev);break;case"spell":this.actor.createEmptySpell(ev);break;case"weapon":this.actor.createEmptyWeapon(ev)}})),html.find(".lock").click(this._onLockClicked.bind(this))}async _onLockClicked(event){event.preventDefault();const isLocked=this.actor.locked;this.actor.locked=!isLocked}async _onTradeItem(event){const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("itemId"));let content="<p>"+game.i18n.localize("CoC7.MessageSelectUserToGiveTo");const message={actorFrom:this.actor.id,scene:null,actorTo:this.actor.id,item:item.id};this.token?.actor&&(message.actorFrom=this.token.id,message.scene=this.token.parent.id);const actors=game.actors.filter((e=>{if(!["character","npc","creature","container"].includes(e.type))return!1;if(this.actor.id===e.id)return!1;let visible=!1;for(const[k,v]of Object.entries(e.ownership))"default"!==k&&k!==game.user.id||(visible=visible||v!==CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE);return visible}));content+='<form id="selectform"><select name="user">';for(const actor of actors)content=content+'<option value="'+actor.id+'">'+actor.name+"</option>";content+="</select></form></p>",await Dialog.prompt({title:game.i18n.localize("CoC7.MessageTitleSelectUserToGiveTo"),content,callback:html=>{const formData=new FormData(html[0].querySelector("#selectform"));for(const[name,value]of formData)"user"===name&&(message.actorTo=value)}}),await game.CoC7socket.executeAsGM("gmtradeitemto",message)}_onItemSummary(event){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.actor.items.get(li.data("item-id")),chatData=item.getChatData({secrets:this.actor.isOwner});if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$('<div class="item-summary"></div>'),labels=$('<div class="item-labels"></div>');for(const p of chatData.labels)labels.append(`<div class="item-label"><span class="label-name">${p.name} :</span><span class="label-value">${p.value}</span></div>`);if(div.append(labels),div.append($(`<div class="item-description">${chatData.description.value}</div>`)),item.system.properties?.spcl){const specialDiv=$(`<div class="item-special">${chatData.description.special}</div>`);div.append(specialDiv)}const props=$('<div class="item-properties"></div>');for(const p of chatData.properties)props.append(`<div class="tag item-property">${game.i18n.localize(p)}</div>`);div.append(props),li.append(div.hide()),CoC7Link.bindEventsHandler(div),div.slideDown(200)}li.toggleClass("expanded")}_onInventoryHeader(event){event.preventDefault(),$(event.currentTarget).siblings("li").slideToggle(200)}}class CoC7ChaseParticipantImporter extends FormApplication{static get defaultOptions(){return foundry.utils.mergeObject(super.defaultOptions,{title:game.i18n.localize("CoC7.AddActorToChase"),template:"systems/CoC7/templates/apps/chase-participant-importer.html",classes:["coc7","dialog","chase-participant-importer"],editable:!0,resizable:!1,submitOnChange:!0,closeOnSubmit:!1,width:300,height:"auto"})}activateListeners(html){super.activateListeners(html);new DragDrop({dropSelector:".form-container",permissions:{drop:game.user.isGM},callbacks:{drop:this._onDropParticipant.bind(this)}}).bind(html[0]),html.find(".reset-participant").click((async()=>{this.object={},this._actor=null,await this.render(!0)})),html.find(".food-chain").click((async()=>{this.object.chaser=!this.object.chaser,await this.render(!0)})),html.find("[data-action]").click(this._onAction.bind(this))}async getData(){if(!this.object.initiative){const init=CoCActor.getCharacteristicDefinition().find((c=>"dex"===c.key));this.object.initiative=init.label}if(!this.object.speedCheck){const speedCheck=CoCActor.getCharacteristicDefinition().find((c=>"con"===c.key));this.object.speedCheck={name:speedCheck.label}}this.validateParticipant();const data=await super.getData();if(data.participant=new _participant(this.object),data.object.speedCheck.name&&this.actor){const speedCheck=this.actor.find(data.object.speedCheck.name);speedCheck?(data.object.speedCheck.score=speedCheck.value.value,data.speedCheckReadOnly=!0):data.participant.speedCheck.score&&!this.object.speedCheck?.score&&(data.object.speedCheck.score=data.participant.speedCheck.score)}if(data.object.initiative&&this.actor){const initiative=this.actor.find(data.object.initiative);initiative?(data.object.dex=initiative.value.value,data.initReadOnly=!0):data.object.dex=data.participant.initiative}return data.actor=this.actor,data.chase=this.chase,data.data=this.data,data.optionsList={},this.chase&&(data.skillsAndCharacteristicsList=this.chase.allSkillsAndCharacteristicsShort),this.actor&&(data.skillsAndCharacteristicsList=[],CoCActor.getCharacteristicDefinition().forEach((c=>data.skillsAndCharacteristicsList.push(`${c.label}`))),data.skillsAndCharacteristicsList.push(`${game.i18n.localize("CoC7.Luck")}`),data.skillsAndCharacteristicsList.push(`${game.i18n.localize("CoC7.SAN")}`),this.actor.skills.forEach((s=>data.skillsAndCharacteristicsList.push(s.name)))),data}get chase(){return this._chase||(this._chase=CoC7Utilities.SfromUuid(this.object.chaseUuid)),this._chase}get actor(){return this.object.docUuid?(this._actor||(this._actor=CoC7Utilities.getActorFromKey(this.object.docUuid)),this._actor):null}async _updateObject(event,formData){foundry.utils.mergeObject(this,formData),await this.render(!0)}async _onDropParticipant(event){const dropString=event.dataTransfer.getData("text/plain"),dropData=JSON.parse(dropString),docUuid=CoC7Utilities.getActorDocumentFromDropData(dropData);this.object.docUuid=docUuid,this.object.chaser=0===this.actor?.owners?.filter((u=>!u.isGM)).length,this.object.speedCheck.rollDataString&&delete this.object.speedCheck.rollDataString,await this.render(!0)}async _onAction(event){event.preventDefault();switch(event.currentTarget.dataset.action){case"chase-cancel":this.close();break;case"chase-add":{const participant=new _participant(this.object);if(this.chase.started){if(!(participant.movementAction&&participant.movementAction>0))return void ui.notifications.warn(game.i18n.localize("CoC7.DoesNotMeetMinimumReqToBeAdded"));if(this.data.overrideMovementAction){const slowest=this.chase.slowestParticipant;isNaN(participant.adjustedMov)&&(participant.mov=slowest.adjustedMov),this.data.recalculationNeeded=!1}}await this.chase.addParticipant(participant,{locationUuid:this.object.locationUuid,recalculateMovementActions:this.data.recalculationNeeded,update:this.object.update}),this.close()}break;case"roll-speed-check":{const participant=new _participant(this.object);if(participant.speedCheck.refSet){const roll=new CoC7Check;participant.data.rolled=!0,roll.actor=participant.actor.actorKey,participant.speedCheck.isCharacteristic?(await roll.rollCharacteristic(participant.speedCheck.ref.key),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isSkill?(roll.skill=participant.speedCheck.ref,await roll.roll(),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isAttribute&&(await roll.rollAttribute(participant.speedCheck.ref.key),participant.data.speedCheck.rollDataString=roll.JSONRollString)}else if(participant.speedCheck.score){const rollData={rawValue:participant.speedCheck.score,displayName:participant.speedCheck.name,actorName:participant.name?participant.name:void 0};participant.hasActor&&(rollData.actor=participant.actor.actorKey);const roll=CoC7Check.create(rollData);await roll.roll(),participant.data.speedCheck.rollDataString=roll.JSONRollString,participant.data.rolled=!0}foundry.utils.mergeObject(this.object,participant.data),this.render(!0)}}}validateParticipant(){const participant=new _participant(this.object);if(this.data||(this.data={}),this.object.excluded=!1,this.object.escaped=!1,this.data.recalculationNeeded=!1,this.data.participantExcluded=!1,this.data.movementActionDelta=0,!this.data.overrideMovementAction){const slowestPrey=this.chase.slowestPrey,fastestChaser=this.chase.fastestChaser,slowest=this.chase.slowestParticipant;participant.adjustedMov<slowest?.adjustedMov?(this.data.recalculationNeeded=!0,participant.movementAction=1):(this.data.recalculationNeeded=!1,participant.calculateMovementActions(slowest?.adjustedMov)),participant.isChaser&&slowestPrey&&!this.chase.data.data.includeLastCommers&&participant.adjustedMov<slowestPrey.adjustedMov&&(this.object.excluded=!0,this.data.participantExcluded=!0,this.data.excludedBecause=game.i18n.localize("CoC7.TooSlow"),this.data.recalculationNeeded=!1),participant.isPrey&&fastestChaser&&!this.chase.data.data.includeEscaped&&participant.adjustedMov>fastestChaser.adjustedMov&&(this.object.escaped=!0,this.data.participantExcluded=!0,this.data.excludedBecause=game.i18n.localize("CoC7.TooFast"),this.data.recalculationNeeded=!1)}}static async create(data){if(data.dropData){const docUuid=CoC7Utilities.getActorDocumentFromDropData(data.dropData);docUuid&&(data.docUuid=docUuid),delete data.dropData}return new CoC7ChaseParticipantImporter(data).render(!0)}}class CoC7ChaseSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","item","chase"],template:"systems/CoC7/templates/items/chase.html",width:550,height:500,resizable:!0,tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"participants"}]})}static get type(){return"coc7ChaseSheet"}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(options={}){const sheetData=super.getData(options);return sheetData.participants=this.item.participantsObject,sheetData.participantsByInitiative=this.item.participantsByInitiative,sheetData.preys=this.item.preys,sheetData.chasers=this.item.chasers,sheetData.preysMinMov=sheetData.preys.length?sheetData.preys.reduce(((prev,current)=>prev.adjustedMov<current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.preysMaxMov=sheetData.preys.length?sheetData.preys.reduce(((prev,current)=>prev.adjustedMov>current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.chasersMinMov=sheetData.chasers.length?sheetData.chasers.reduce(((prev,current)=>prev.adjustedMov<current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.chasersMaxMov=sheetData.chasers.length?sheetData.chasers.reduce(((prev,current)=>prev.adjustedMov>current.adjustedMov?prev:current)).adjustedMov:-1,sheetData.chasers.forEach((p=>{p.adjustedMov<sheetData.preysMinMov?p.tooSlow():p.includeInChase(),p.fastest=p.adjustedMov===sheetData.chasersMaxMov,p.slowest=p.adjustedMov===sheetData.chasersMinMov})),sheetData.preys.forEach((p=>{p.adjustedMov>sheetData.chasersMaxMov?p.escaped():p.includeInChase(),p.fastest=p.adjustedMov===sheetData.preysMaxMov,p.slowest=p.adjustedMov===sheetData.preysMinMov})),sheetData.locations=this.item.locations,sheetData.allHaveValidMov=this.allHaveValidMov,sheetData.activeLocation=this.item.activeLocation,sheetData.activeLocation&&(sheetData.activeLocation.title=sheetData.activeLocation.coordinates?game.i18n.format("CoC7.LocationCoordinate",{x:sheetData.activeLocation.coordinates.x,y:sheetData.activeLocation.coordinates.y}):game.i18n.localize("CoC7.DragOnCanvas")),sheetData.previousLocation=this.item.previousLocation,sheetData.nextLocation=this.item.nextLocation,sheetData.started=this.item.started,sheetData.isKeeper=game.user.isGM,sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".dropdown-element").on("click",(event=>this._onDropDownElementSelected(event))),html.find(".dropbtn").click((event=>{event.preventDefault(),event.stopPropagation();event.currentTarget.closest(".dropdown").querySelector(".dropdown-content").classList.toggle("show")})),html.find(".dropdown").mouseleave((event=>event.currentTarget.querySelector(".dropdown-content").classList.remove("show"))),html.on("dblclick",".open-actor",CoC7Chat._onOpenActor.bind(this)),html.find(".pin-location").contextmenu(this.clearActiveLocationCoordinates.bind(this)),html.find(".participant").on("dragenter",(event=>this._onDragEnterParticipant(event))),html.find(".participant").on("dragover",(event=>this._onDragEnterParticipant(event))),html.find(".participant").on("dragleave",(event=>this._onDragLeaveParticipant(event))),html.find(".participant").on("drop",(event=>this._onDragLeaveParticipant(event))),html.find(".p-side").click(this._onChangeSide.bind(this)),html.find(".delete-participant").click(this._onDeleteParticipant.bind(this)),html.find(".reset-roll").click(this._onResetRoll.bind(this)),html.find(".delete-driver").click(this._onDeleteDriver.bind(this)),html.find(".new-participant").on("dragenter",(event=>this._onDragEnterParticipant(event))),html.find(".new-participant").on("dragover",(event=>this._onDragEnterParticipant(event))),html.find(".new-participant").on("dragleave",(event=>this._onDragLeaveParticipant(event))),html.find(".new-participant").on("drop",(event=>this._onDragLeaveParticipant(event))),html.find(".add-sign").click(this._onAddParticipant.bind(this)),html.find(".roll-participant").click(this._onRollParticipant.bind(this)),html.find(".button").click(this._onButtonClick.bind(this)),html.find(".name-container").click(this._onLocationClick.bind(this)),html.find(".obstacle-type").click(this._onObstacleTypeClick.bind(this)),html.find(".toggle").click(this._onToggle.bind(this)),html.find(".participant-control").click(this._onParticipantControlClicked.bind(this)),html.find(".chase-control").click(this._onChaseControlClicked.bind(this)),html.find(".location-control").click(this._onLocationControlClick.bind(this));new DragDrop({dragSelector:".pin-location",permissions:{dragstart:this._canPinLocationDragStart.bind(this)},callbacks:{dragstart:this._onPinLocationDragStart.bind(this)}}).bind(html[0]);new DragDrop({dropSelector:".participant",callbacks:{drop:this._onDropParticipant.bind(this)}}).bind(html[0]);if(new DragDrop({dropSelector:".new-participant",callbacks:{drop:this._onAddParticipant.bind(this)}}).bind(html[0]),this.item.started){html.find(".chase-location .chase-participant").click(this._onChaseParticipantClick.bind(this));new DragDrop({dragSelector:".chase-participant",dropSelector:".chase-location",permissions:{dragstart:this._canChaseParticipantDragStart.bind(this),drop:this._canChaseParticipantDragDrop.bind(this)},callbacks:{dragstart:this._onChaseParticipantDragStart.bind(this),drop:this._onChaseParticipantDragDrop.bind(this),dragover:this._onDragEnter.bind(this)}}).bind(html[0]),html.find(".chase-location").on("dragleave",(event=>this._onDragLeave(event)))}}_getSubmitData(updateData={}){let data=new FormDataExtended(this.form,{editors:this.editors}).object;if(data=updateData?mergeObject(data,updateData):expandObject(data),this.item.system.locations?.list?.length&&data.system.startingIndex>this.item.system.locations.list.length&&(data.system.startingIndex=this.item.system.locations.list.length),data.system.participants){const participants=duplicate(this.item.system.participants);for(const[k,v]of Object.entries(data.system.participants)){const index=participants.findIndex((p=>p.uuid===k));if(-1===index)ui.notifications.error("Participant table corrupted");else{const original=participants[index],cleaned=clean(v);mergeObject(original,cleaned),participants[index]=original}}data.system.participants=participants}if(data.locations){const locations=duplicate(this.item.system.locations.list);for(const[key,value]of Object.entries(data.locations)){const locationIndex=locations.findIndex((l=>l.uuid===key));if(-1===locationIndex)ui.notifications.error("Locations table corrupted");else{const originalLocation=locations[locationIndex],cleaned=clean(value);mergeObject(originalLocation,cleaned),locations[locationIndex]=originalLocation}}delete data.locations,data.system.locations={list:locations}}return flattenObject(data)}async _updateObject(event,formData){const target=event.currentTarget,override="true"===target?.dataset?.override;if(target?.name?.includes(".hp")){const[,,uuid]=target.name.split("."),participant=this.item.getParticipant(uuid);participant&&participant.actor&&(isNaN(Number(target.value))||await participant.actor.setHp(Number(target.value)))}if(override){const[,type,uuid,subType,data]=target.name.split("."),index=this.findParticipantIndex(uuid);if("participants"===type&&!isNaN(index)&&"speed-check"===subType&&"name"===data){const participants=this.item.system.participants?duplicate(this.item.system.participants):[];return participants[index].speedCheck?(delete participants[index].speedCheck.id,delete participants[index].speedCheck.type):participants[index].speedCheck={},participants[index].speedCheck.name=target.value,void await this.item.update({"system.participants":participants})}}super._updateObject(event,formData)}static async setScroll(app,html,data){if(!data.editable)return;const initialOpening=html[0].classList.contains("window-app"),chaseTrack=html[0].querySelector(".chase-track");if(!chaseTrack)return;let start=data.data.scroll?.chaseTrack.from,end=data.data.scroll?.chaseTrack.to;if(void 0===start&&(start=0),void 0===end&&(end=-1),initialOpening){const remString=$(":root").css("font-size"),remSize=Number(remString.replace("px",""));if(app.item.started){const pCount=app.item.actualParticipants?.length,width=(11.2*pCount+3)*remSize;app.activateTab("setup"),app.position.width=Math.max(width,40*remSize)}else app.position.width=45*remSize;return await app.item.activateNextParticipantTurn({html})}start&&-1!==start&&chaseTrack.scrollTo({top:0,left:start,behavior:"instant"}),-1!==end&&chaseTrack.scrollTo({top:0,left:end,behavior:"smooth"})}static onClose(app,html){app.item.update({"system.trackScrollPosition":-1})}findParticipantIndex(uuid){return this.item.system.participants.findIndex((p=>p.uuid===uuid))}findLocationIndex(uuid){return this.item.system.locations.list.findIndex((p=>p.uuid===uuid))}findLocation(uuid){return this.item.system.locations.list.find((p=>p.uuid===uuid))}findIndex(list,uuid){return list.findIndex((p=>p.uuid===uuid))}async _onDropDownElementSelected(event){event.preventDefault(),event.stopPropagation();const target=event.currentTarget;target.closest(".dropdown-content")?.classList.toggle("show");const assistantUuid=target.closest(".initiative-block")?.dataset?.uuid,beneficiaryUuid=target.dataset.beneficiaryUuid;await this.item.assistParticipant(assistantUuid,beneficiaryUuid)}async _onToggle(event){const target=event.currentTarget,toggle=target.getAttribute("toggle"),data=expandObject({[toggle]:!target.classList.contains("switched-on")});if(data.locations){const locations=duplicate(this.item.system.locations.list);for(const[key,value]of Object.entries(data.locations)){const locationIndex=locations.findIndex((l=>l.uuid===key));if(-1===locationIndex)ui.notifications.error("Locations table corrupted");else{const originalLocation=locations[locationIndex],cleaned=clean(value);mergeObject(originalLocation,cleaned),locations[locationIndex]=originalLocation}}await this.item.updateLocationsList(locations)}}async _onObstacleTypeClick(event){const target=event.currentTarget,uuid=target.closest(".obstacle").dataset.uuid,locations=duplicate(this.item.system.locations.list),locationIndex=this.findIndex(locations,uuid);locations[locationIndex].obstacleDetails||(locations[locationIndex].obstacleDetails={});const obstacle=locations[locationIndex].obstacleDetails,type=target.classList.contains("barrier")?"barrier":"hazard",active=obstacle[type];obstacle.barrier=!1,obstacle.hazard=!1,obstacle[type]=!active,locations[locationIndex].obstacle=!active,await this.item.updateLocationsList(locations)}async _onLocationClick(event){const lUuid=event.currentTarget.closest(".chase-location").dataset.uuid;await this.item.activateLocation(lUuid)}async _onLocationControlClick(event){event.preventDefault();const target=event.currentTarget;if(target.classList.contains("inactive"))return;const action=target.dataset.action,lUuid=target.closest(".chase-location").dataset.uuid;switch(action){case"remove":await this.item.removeLocation(lUuid);break;case"add-after":await this.item.insertLocation(lUuid,{shift:1});break;case"add-before":await this.item.insertLocation(lUuid,{shift:0});break;case"add-participant":CoC7ChaseParticipantImporter.create({chaseUuid:this.item.uuid,locationUuid:lUuid,dropData:{}})}}async _onChaseParticipantClick(event){const pUuid=event.currentTarget.dataset?.uuid;await this.item.activateParticipant(pUuid)}async _onParticipantControlClicked(event){event.preventDefault();const target=event.currentTarget;if(target.classList.contains("inactive"))return;if(target.classList.contains("dropdown"))return;event.stopPropagation();const participantUuid=target.closest(".initiative-block")?.dataset?.uuid;if(participantUuid){switch(target.dataset.action){case"drawGun":await this.toggleParticipantGun(participantUuid);break;case"decreaseActions":await this._onChangeMovementActions(-1,event);break;case"increaseActions":await this._onChangeMovementActions(1,event);break;case"moveBackward":await this.item.moveParticipant(participantUuid,-1,{render:!0});break;case"moveForward":await this.item.moveParticipant(participantUuid,1,{render:!0});break;case"activateParticipant":return await this.item.activateParticipant(participantUuid);case"bonusDice":{const diceNumber=target.dataset.count;await this.item.toggleBonusDice(participantUuid,diceNumber),this.item.activateNextParticipantTurn()}break;case"cautiousApproach":await this.item.cautiousApproach(participantUuid);break;case"editParticipant":{const participant=this.item.getParticipant(participantUuid),location=this.item.getParticipantLocation(participantUuid);participant.data.chaseUuid=this.item.uuid,participant.data.locationUuid=location.uuid,participant.data.update=!0,CoC7ChaseParticipantImporter.create(participant.data)}break;case"removeParticipant":await this.item.removeParticipant(participantUuid)}this.item.activateNextParticipantTurn()}}async _onChaseControlClicked(event){event.preventDefault();const target=event.currentTarget;event.stopPropagation();const locationUuid=target.closest(".obstacle")?.dataset?.uuid;if(locationUuid)return"obstacle-skill-check"===target.dataset.action?this.item.activeParticipantObstacleCheck(locationUuid):void 0}async _onChangeMovementActions(count,event){event.preventDefault(),event.stopPropagation();const target=event.currentTarget,participantUuid=target.closest(".initiative-block")?.dataset?.uuid;if(!participantUuid)return;const participants=this.item.participants,participant=participants.find((p=>participantUuid===p.uuid));participant.hasMaxMvtActions&&count>0||(participant.alterMovementActions(count),await this.item.setchaseTrackScroll({render:!1}),await this.item.updateParticipants(participants))}async _onButtonClick(event){const target=event.currentTarget,action=target.dataset?.action;if(action)switch(action){case"init":if(!isNaN(this.item.system.locations.total)&&this.item.system.locations.total>0){const locations=Array.apply(null,Array(this.item.system.locations.total)).map((function(){return{uuid:foundry.utils.randomID(16)}}));locations[0].name="Start",locations.length>1&&(locations[locations.length-1].name="End"),await this.item.updateLocationsList(locations)}break;case"reset":Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmResetChase")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmResetChaseHint")}</p>`,yes:async()=>{await this.item.updateLocationsList([]),await this.item.stop()}});break;case"cut2chase":this.item.allHaveSpeedRoll?Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmCut2Chase")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmCut2ChaseHint")}</p>`,yes:()=>this.item.cutToTheChase()}):ui.notifications.warn(game.i18n.localize("CoC7.NotAllHaveSpeedRoll"));break;case"restart":Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmRestartChase")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmRestartChaseHint")}</p>`,yes:()=>this.item.restart()});break;case"nextRound":this.item.nextActiveParticipant?Dialog.confirm({title:`${game.i18n.localize("CoC7.ConfirmNextChaseRound")}`,content:`<p>${game.i18n.localize("CoC7.ConfirmNextChaseRoundHint")}</p>`,yes:()=>this.item.progressToNextRound()}):this.item.progressToNextRound()}}_canPinLocationDragStart(selector){return!!game.user.isGM}async _onPinLocationDragStart(event){const a=event.currentTarget,i=a.querySelector("i.icon"),dragIcon=a.querySelector(".pin-image");event.dataTransfer.setDragImage(dragIcon,0,dragIcon.height);const locationElement=a.closest(".chase-location"),data={type:"locator",CoC7Type:"chase"};data.icon=i.dataset.linkIcon,data.locationUuid=locationElement.dataset.uuid,data.docUuid=this.item.uuid,data.callBack="locatorDropped",event.dataTransfer.setData("text/plain",JSON.stringify(data))}_canChaseParticipantDragStart(selector){return!!game.user.isGM}_canChaseParticipantDragDrop(selector){return!!game.user.isGM}async _onChaseParticipantDragStart(dragEvent){const dragData={uuid:dragEvent.currentTarget.dataset.uuid,type:"participant"};dragEvent.dataTransfer.setData("text/plain",JSON.stringify(dragData))}async _onChaseParticipantDragDrop(dragEvent){const dataString=dragEvent.dataTransfer.getData("text/plain"),data=JSON.parse(dataString);this._onDragLeave(dragEvent);const locationUuid=dragEvent.currentTarget.dataset.uuid;if("participant"===data.type){const oldLocation=this.findLocation(locationUuid);if(oldLocation&&oldLocation.participants?.includes(data.uuid))return;await this.item.setchaseTrackScroll({render:!1}),await this.item.moveParticipantToLocation(data.uuid,locationUuid)}else CoC7ChaseParticipantImporter.create({chaseUuid:this.item.uuid,locationUuid,dropData:data})}_onDragOver(dragEvent){this._onDragEnter(dragEvent)}_onDragEnter(dragEvent){dragEvent.currentTarget.classList.add("drag-over")}_onDragLeave(dragEvent){const target=dragEvent.currentTarget;target.classList?.remove("drag-over")}async _onDropParticipant(event){const target=event.currentTarget,uuid=target.dataset?.uuid,dataString=event.dataTransfer.getData("text/plain"),data=JSON.parse(dataString);await this.alterParticipant(data,uuid)}async _onAddParticipant(event){event.preventDefault();const data={chaseUuid:this.item.uuid};if(event.dataTransfer){const dataString=event.dataTransfer.getData("text/plain");data.dropData=JSON.parse(dataString)}CoC7ChaseParticipantImporter.create(data)}async _onRollParticipant(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[],participant=new _participant(participants[index]);if(participant.speedCheck.refSet){const roll=new CoC7Check;roll.parent=this.item.uuid,participant.data.rolled=!0,participant.data.rollUuid=roll.uuid,roll.actor=participant.actor.actorKey,!event.shiftKey&&participant.actor.player&&(roll.standby=!0,roll.standbyText="CoC7.Chase",roll.standbyRightIcon="systems/CoC7/assets/icons/running-solid.svg"),participant.speedCheck.isCharacteristic?(await roll.rollCharacteristic(participant.speedCheck.ref.key),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isSkill?(roll.skill=participant.speedCheck.ref,await roll.roll(),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString):participant.speedCheck.isAttribute&&(await roll.rollAttribute(participant.speedCheck.ref.key),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString)}else if(participant.speedCheck.score){const rollData={rawValue:participant.speedCheck.score,displayName:participant.speedCheck.name,actorName:participant.name?participant.name:void 0};participant.hasActor&&(rollData.actor=participant.actor.actorKey);const roll=CoC7Check.create(rollData);roll.parent=this.item.uuid,await roll.roll(),await roll.toMessage(),participant.data.speedCheck.rollDataString=roll.JSONRollString,participant.data.rolled=!0,participant.data.rollUuid=roll.uuid}await this.item.update({"data.participants":participants})}_onDragEnterParticipant(event){event.currentTarget.classList.add("drag-over")}_onDragLeaveParticipant(event){event.currentTarget.classList.remove("drag-over")}async _onChangeSide(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];participants[index].chaser=!participants[index].chaser,await this.item.update({"data.participants":participants})}async _onDeleteDriver(event){const uuid=event.currentTarget.closest(".driver").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];delete participants[index].docUuid,await this.item.update({"data.participants":participants})}async _onDeleteParticipant(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];participants.splice(index,1),await this.item.update({"data.participants":participants})}async _onResetRoll(event){const uuid=event.currentTarget.closest(".participant").dataset.uuid,index=this.findParticipantIndex(uuid),participants=this.item.system.participants?duplicate(this.item.system.participants):[];delete participants[index].speedCheck.rollDataString,await this.item.update({"data.participants":participants})}async alterParticipant(data,uuid){let docUuid,actor;docUuid=data.tokenUuid?data.tokenUuid:data.sceneId&&data.tokenId?`Scene.${data.sceneId}.Token.${data.tokenId}`:data.actorId||data.actorKey||data.id,"Token"===data.type?docUuid=data.uuid:docUuid&&(actor=chatHelper.getActorFromKey(docUuid),actor||"Item"!==data.type||(docUuid=null)),actor&&docUuid!==actor.uuid&&(docUuid=actor.uuid);const participant={};switch(docUuid&&(participant.docUuid=docUuid),data.type?.toLowerCase()){case"actor":default:break;case"item":participant.speedCheck={id:data.data?._id||data.id,type:"item"};break;case"characteristic":participant.speedCheck={id:data.name,type:"characteristic"};break;case"attribute":participant.speedCheck={id:data.name,type:"attribute"}}const participants=this.item.system.participants?duplicate(this.item.system.participants):[],oldParticipant=participants[this.findParticipantIndex(uuid)];oldParticipant.mov&&delete oldParticipant.mov,mergeObject(oldParticipant,participant),await this.item.update({"data.participants":participants})}async clearActiveLocationCoordinates(){await this.item.clearActiveLocationCoordinates()}async addParticipant(data){let docUuid,actor;docUuid=data.tokenUuid?data.tokenUuid:data.sceneId&&data.tokenId?`Scene.${data.sceneId}.Token.${data.tokenId}`:data.actorId||data.actorKey||data.id,"Token"===data.type?docUuid=data.uuid:docUuid&&(actor=chatHelper.getActorFromKey(docUuid),actor||"Item"!==data.type||(docUuid=null)),actor&&docUuid!==actor.uuid&&(docUuid=actor.uuid);const participant={};switch(docUuid&&(participant.docUuid=docUuid),data.type?.toLowerCase()){case"actor":default:break;case"item":if(data.id){const item=game.items.get(data.id);if("skill"!==item?.data?.type)return}participant.speedCheck={id:data.data?._id||data.id,type:"item"};break;case"characteristic":participant.speedCheck={id:data.name,type:"characteristic"};break;case"attribute":participant.speedCheck={id:data.name,type:"attribute"}}participant.speedCheck||(this.item.system.vehicle?participant.speedCheck={type:"item",name:game.i18n.localize("CoC7.CoCIDFlag.keys.i.skill.drive-auto")}:participant.speedCheck={id:"con",type:"characteristic",name:game.i18n.localize("CHARAC.Constitution")});const participants=this.item.system.participants?duplicate(this.item.system.participants):[];let unique=!1;for(;!unique;)participant.uuid=foundry.utils.randomID(16),unique=0===participants.filter((p=>p.uuid===participant.uuid)).length;participants.push(participant),await this.item.update({"data.participants":participants})}async toggleParticipantGun(participantUuid){const participants=this.item.system.participants?duplicate(this.item.system.participants):[],participant=participants.find((p=>participantUuid===p.uuid));participant&&(participant.hasAGunReady=!participant.hasAGunReady,await this.item.setchaseTrackScroll({render:!1}),await this.item.updateParticipants(participants))}}function clean(obj){for(const propName in obj){const tp=getType(obj[propName]);"Object"===tp&&(obj[propName]=clean(obj[propName])),("Object"!==tp||Object.entries(obj[propName]).length)&&("string"!==tp||obj[propName].length)?"string"!==tp||isNaN(Number(obj[propName]))||(obj[propName]=Number(obj[propName])):obj[propName]=null}return obj}class CoC7ItemSheetV2 extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","item"],template:"systems/CoC7/templates/items/item-sheetV2.html",width:500,height:450,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(options={}){const sheetData=super.getData(options);return sheetData.effects=CoC7ActiveEffect.prepareActiveEffectCategories(this.item.effects,{status:!1}),sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}activateListeners(html){super.activateListeners(html),this.options.editable&&html.find(".effect-control").click((ev=>CoC7ActiveEffect.onManageActiveEffect(ev,this.item)))}}class CoC7ItemSheet extends CoC7ItemSheetV2{static get defaultOptions(){return mergeObject(super.defaultOptions,{width:525,height:506})}}class CoC7JournalSheet extends JournalSheet{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7MacroConfig extends MacroConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7PlaylistConfig extends PlaylistConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7RollTableConfig extends RollTableConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7SceneConfig extends SceneConfig{_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}}class CoC7SetupSheet extends ItemSheet{activateListeners(html){super.activateListeners(html),this.options.editable&&(html.find(".item .item-name h4").click((event=>this._onItemSummary(event,"items"))),html.find(".item-delete").click((event=>this._onItemDelete(event,"items"))),html.find(".add-bio").click((async()=>await this._onAddBio())),html.find(".remove-section").click(this._onRemoveSection.bind(this)),html.find(".toggle-switch").click(this._onClickToggle.bind(this)),html.find(".add-monetary").click(this._onAddMonetary.bind(this)),html.find(".remove-monetary").click(this._onRemoveMonetary.bind(this)))}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.dataset.property;await this.item.toggleProperty(propertyId,isCtrlKey(event))}async _onDrop(event,collectionName="items"){event.preventDefault(),event.stopPropagation();const dataList=await CoC7Utilities.getDataFromDropEvent(event,"Item");let useCoCID=0;const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];for(const item of dataList)item&&item.system&&["item","weapon","skill","book","spell"].includes(item.type)&&(!CoC7Item.isAnySpec(item)&&collection.find((el=>el.name===item.name))||(0===useCoCID&&(useCoCID=await DropCoCID.create()),collection.push(DropCoCID.processItem(useCoCID,item))));await this.item.update({[`system.${collectionName}`]:collection})}async _onRemoveSection(event){const div=event.currentTarget.closest(".item"),bio=duplicate(this.item.system.bioSections);bio.splice(Number(div.dataset.index),1),await this.item.update({"system.bioSections":bio})}async _onAddBio(){const bio=this.item.system.bioSections?duplicate(this.item.system.bioSections):[];bio.push(null),await this.item.update({"system.bioSections":bio})}_onAddMonetary(){const values=this.item.system.monetary.values?duplicate(this.item.system.monetary.values):[];values.push({name:"",min:null,max:null,cashType:0,cashValue:"",assetsType:0,assetsValue:"",spendingType:0,spendingValue:""}),this.item.update({"system.monetary.values":values})}_onRemoveMonetary(event){const div=event.currentTarget.closest(".item"),values=duplicate(this.item.system.monetary.values);values.splice(Number(div.dataset.index),1),this.item.update({"system.monetary.values":values})}_onItemSummary(event,collectionName="items"){event.preventDefault();const li=$(event.currentTarget).parents(".item"),item=this.item.system[collectionName].find((s=>s._id===li.data("item-id")));if(!item)return;const chatData=item.system.description;if(li.hasClass("expanded")){const summary=li.children(".item-summary");summary.slideUp(200,(()=>summary.remove()))}else{const div=$(`<div class="item-summary">${chatData.value}</div>`),props=$('<div class="item-properties"></div>');div.append(props),li.append(div.hide()),div.slideDown(200)}li.toggleClass("expanded")}async _onItemDelete(event,collectionName="items"){const item=$(event.currentTarget).closest(".item"),itemId=item.data("item-id"),CoCId=item.data("cocid"),itemIndex=this.item.system[collectionName].findIndex((i=>itemId&&i._id===itemId||CoCId&&i===CoCId));if(itemIndex>-1){const collection=this.item.system[collectionName]?duplicate(this.item.system[collectionName]):[];collection.splice(itemIndex,1),await this.item.update({[`system.${collectionName}`]:collection})}}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","setup"],template:"systems/CoC7/templates/items/setup.html",width:565,height:530,dragDrop:[{dragSelector:".item"}],scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded;const era=Object.entries(this.item.flags?.CoC7?.cocidFlag?.eras??{}).filter((e=>e[1])).map((e=>e[0])),items=await game.system.api.cocid.expandItemArray({itemList:this.item.system.items,era:void 0===era[0]||era[0]});sheetData.skills=items.filter((it=>"skill"===it.type)),sheetData.otherItems=items.filter((it=>"skill"!==it.type)),sheetData.skillListEmpty=0===sheetData.skills.length,sheetData.itemsListEmpty=0===sheetData.otherItems.length,sheetData.skills.sort(CoC7Utilities.sortByNameKey),sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({id:key,name:game.i18n.localize(value),isEnabled:!0===(this.item.flags?.CoC7?.cocidFlag?.eras??{})[key]});sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData._monetaryFormats=[];for(const key in COC7.monetaryFormats)sheetData._monetaryFormats.push({key,val:game.i18n.localize(COC7.monetaryFormats[key])});sheetData.showCurrencySymbol=["decimalLeft","decimalRight","integerLeft","integerRight"].includes(sheetData.data.system.monetary.format),sheetData._monetaryTypes=[];for(const key in COC7.monetaryTypes)(0===COC7.monetaryTypes[key].filter.length||COC7.monetaryTypes[key].filter.includes(sheetData.data.system.monetary.format))&&sheetData._monetaryTypes.push({key,val:game.i18n.localize(COC7.monetaryTypes[key].name)});return sheetData.oneBlockBackStory=game.settings.get("CoC7","oneBlockBackstory"),sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.enrichedBackstory=TextEditor.enrichHTML(sheetData.data.system.backstory,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}_updateObject(event,formData){const system=expandObject(formData)?.system;system.bioSections&&(formData["system.bioSections"]=Object.values(system.bioSections||[])),system.monetary.values&&(formData["system.monetary.values"]=Object.values(system.monetary.values||[])),"system.characteristics.points.enabled"===event.currentTarget?.name&&(formData["system.characteristics.rolls.enabled"]=!event.currentTarget.checked),"system.characteristics.rolls.enabled"===event.currentTarget?.name&&(formData["system.characteristics.points.enabled"]=!event.currentTarget.checked),super._updateObject(event,formData)}}class CoC7SkillSheet extends ItemSheet{constructor(...args){super(...args),this._sheetTab="items"}static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","item"],width:520,height:480,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}get template(){return`systems/CoC7/templates/items/${this.item.type}-sheet.html`}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.effects=CoC7ActiveEffect.prepareActiveEffectCategories(this.item.effects),sheetData._properties=[];for(const[key,value]of Object.entries(COC7.skillProperties))sheetData._properties.push({id:key,name:value,isEnabled:!0===this.item.system.properties[key]});sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({id:key,name:game.i18n.localize(value),isEnabled:!0===(this.item.flags?.CoC7?.cocidFlag?.eras??{})[key]});return sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData.isSpecialized=this.item.system.properties.special,sheetData.canModifySpec=!this.item.system.properties.firearm&&!this.item.system.properties.fighting,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}activateListeners(html){super.activateListeners(html),this.options.editable&&html.find(".toggle-switch").click(this._onClickToggle.bind(this))}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.closest(".toggle-switch").dataset.property;await this.item.toggleProperty(propertyId,isCtrlKey(event))}async _updateObject(event,formData){const skillName=formData["system.skillName"]||this.item.system.skillName;if(this.item.system.properties?.special){const specialization=formData["system.specialization"]||this.item.system.specialization;formData.name=specialization+" ("+skillName+")"}else formData.name=skillName;return super._updateObject(event,formData)}}class CoC7SpellSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{template:"systems/CoC7/templates/items/spell/main.html",classes:["coc7","item","spell"],width:500,height:"auto",resizable:!1,scrollY:[".body"],tabs:[{navSelector:".navigation",contentSelector:".body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}async getData(){const sheetData=super.getData();return sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.isKeeper=game.user.isGM,sheetData.isOwner=this.item.isOwner,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".option").click((event=>this.modifyType(event))),html.find("#cast-spell").click((event=>{event.preventDefault(),this.item.cast()}))}modifyType(event){event.preventDefault(),event.stopPropagation();return $(event.currentTarget).prev().trigger("click")}}class CoC7StatusSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","status"],template:"systems/CoC7/templates/items/status.html",width:525,height:480,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}activateListeners(html){super.activateListeners(html),html.find(".effect-control").click((ev=>CoC7ActiveEffect.onManageActiveEffect(ev,this.item)))}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.effects=CoC7ActiveEffect.prepareActiveEffectCategories(this.item.effects,{status:!1}),sheetData.itemProperties=[];for(const[key,value]of Object.entries(this.item.system.type))value&&sheetData.itemProperties.push(COC7.statusType[key]?COC7.statusType[key]:null);return sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionNotes=TextEditor.enrichHTML(sheetData.data.system.description.notes,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}}class CoC7TalentSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","talent"],template:"systems/CoC7/templates/items/talent.html",width:525,height:480,scrollY:[".tab.description"],tabs:[{navSelector:".sheet-navigation",contentSelector:".sheet-body",initial:"description"}]})}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.itemProperties=[];for(const[key,value]of Object.entries(this.item.system.type))value&&sheetData.itemProperties.push(COC7.talentType[key]?COC7.talentType[key]:null);return sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionNotes=TextEditor.enrichHTML(sheetData.data.system.description.notes,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}}class CoC7VehicleSheet extends CoC7ActorSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheetV2","actor","item","vehicle"],width:555,height:420,resizable:!0,template:"systems/CoC7/templates/actors/vehicle.html",dragDrop:[{dragSelector:".actor",dropSelector:".dropZone"}],tabs:[{navSelector:".sheet-nav",contentSelector:".sheet-body",initial:"description"}]})}async getData(){const sheetData=await super.getData();sheetData.properties=[],this.actor.system.properties.armed&&sheetData.properties.push(game.i18n.localize("CoC7.ArmedVehicle"));const expanded=this.actor.getFlag("CoC7","expanded");return sheetData.expanded=void 0===expanded||expanded,sheetData.expanded?sheetData.options.height=420:sheetData.options.height="auto",sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionNotes=TextEditor.enrichHTML(sheetData.data.system.description.notes,{async:!1,secrets:sheetData.editable}),sheetData}activateListeners(html){super.activateListeners(html),html.find(".add-armor").click((async()=>await this._onAddArmor())),html.find(".remove-armor").click((async event=>await this._onRemoveArmor(event))),html.find(".expand-button").click(this._onToggleExpand.bind(this))}async _onToggleExpand(){const expanded=this.actor.getFlag("CoC7","expanded");expanded?(this.oldSize=this.position.height,this.position.height="auto"):this.position.height=this.oldSize||420,await this.actor.setFlag("CoC7","expanded",!expanded)}async _onAddArmor(){const locations=duplicate(this.actor.system.attribs.armor.locations||[]);locations.push({name:null,value:null}),await this.actor.update({"system.attribs.armor.locations":locations})}async _onRemoveArmor(event){const index=event.currentTarget.closest(".armor").dataset.index,locations=duplicate(this.actor.system.attribs.armor.locations||null);locations&&(locations.splice(index,1),await this.actor.update({"system.attribs.armor.locations":locations}))}onCloseSheet(){super.onCloseSheet()}_updateObject(event,formData){const system=expandObject(formData)?.system;system.attribs.armor.locations&&(formData["system.attribs.armor.locations"]=Object.values(system.attribs.armor.locations||[])),super._updateObject(event,formData)}}class CoC7WeaponSheet extends ItemSheet{static get defaultOptions(){return mergeObject(super.defaultOptions,{classes:["coc7","sheet","item"],width:545,height:480,tabs:[{navSelector:".sheet-tabs",contentSelector:".sheet-body",initial:"skills"}]})}get template(){return"systems/CoC7/templates/items/weapon-sheet.html"}_getHeaderButtons(){const headerButtons=super._getHeaderButtons();return addCoCIDSheetHeaderButton(headerButtons,this),headerButtons}getData(){const sheetData=super.getData();sheetData.combatSkill=[],sheetData.hasOwner=!0===this.item.isEmbedded,sheetData.hasOwner&&(sheetData.firearmSkills=this.actor.firearmSkills,sheetData.fightingSkills=this.actor.fightingSkills,sheetData.combatSkill=this.item.actor.items.filter((item=>!("skill"!==item.type||!item.system.properties.combat))),sheetData.combatSkill.sort(CoC7Utilities.sortByNameKey)),sheetData._properties=[];for(const[key,value]of Object.entries(COC7.weaponProperties))sheetData._properties.push({id:key,name:value,isEnabled:!0===this.item.system.properties[key]});sheetData._eras=[];for(const[key,value]of Object.entries(COC7.eras))sheetData._eras.push({price:this.item.system.price[key]??0,id:key,name:game.i18n.localize(value),isEnabled:!0===(this.item.flags?.CoC7?.cocidFlag?.eras??{})[key]});return sheetData._eras.sort(CoC7Utilities.sortByNameKey),sheetData.usesAlternateSkill=!0===this.item.system.properties.auto||!0===this.item.system.properties.brst||!0===this.item.system.properties.thrown,sheetData.enrichedDescriptionValue=TextEditor.enrichHTML(sheetData.data.system.description.value,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionSpecial=TextEditor.enrichHTML(sheetData.data.system.description.special,{async:!1,secrets:sheetData.editable}),sheetData.enrichedDescriptionKeeper=TextEditor.enrichHTML(sheetData.data.system.description.keeper,{async:!1,secrets:sheetData.editable}),sheetData.isKeeper=game.user.isGM,sheetData}activateListeners(html){super.activateListeners(html),this.options.editable&&(html.find(".toggle-switch").click(this._onClickToggle.bind(this)),html.find(".weapon-property").click(this._onPropertyClick.bind(this)))}async _onClickToggle(event){event.preventDefault();const propertyId=event.currentTarget.closest(".toggle-switch").dataset.property;await this.item.toggleProperty(propertyId,isCtrlKey(event))}async _onPropertyClick(event){event.preventDefault();const propertyId=event.currentTarget.closest(".weapon-property").dataset.property;await this.item.toggleProperty(propertyId)}}async function performFilter(e){const appId=e.currentTarget.name.replace(/^coc7[^0-9]+(\d+)$/,"$1"),app=$("div.app[data-appid="+appId+"]"),type=app.find("select[name=coc7type"+appId+"]").val(),name=app.find("input[name=search]").val(),eraElement=app.find("select[name=coc7era"+appId+"]");let era="";switch(type){case"setup":case"skill":case"weapon":eraElement.closest("div.era_select").show(),era=eraElement.val();break;default:eraElement.closest("div.era_select").hide()}const items=await(game.packs.get(app.data("packId"))?.getDocuments());if(void 0===items)return;const show=[],nameFilter=new RegExp(RegExp.escape(name),"i");for(const[,item]of Object.entries(items)){let filter=!0;if(filter&&""!==name&&(filter=item.name.match(nameFilter)),filter&&""!==type&&(filter=item.type===type),filter&&""!==era){const eras=item.flags?.CoC7?.cocidFlag?.eras;eras&&Object.keys(eras).length>0&&!eras[era]&&(filter=!1)}filter&&show.push(item.id)}app.find("ol.directory-list li").each((function(){this.style.display=show.includes(this.dataset.documentId)?"flex":"none"}))}class CoCID{static init(){CONFIG.Actor.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Item.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Item.compendiumIndexFields.push("system.base"),CONFIG.Item.compendiumIndexFields.push("system.properties"),CONFIG.JournalEntry.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Macro.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Playlist.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.RollTable.compendiumIndexFields.push("flags.CoC7.cocidFlag"),CONFIG.Scene.compendiumIndexFields.push("flags.CoC7.cocidFlag"),game.system.api={cocid:CoCID}}static regExKey(){return new RegExp("^("+Object.keys(CoCID.gamePropertyLookup).join("|")+")\\.(.*?)\\.(.+)$")}static getPrefix(document){for(const type in CoCID.documentNameLookup)if(document instanceof CoCID.documentNameLookup[type])return type+"."+(document.type??"")+".";return""}static guessId(document){return CoCID.getPrefix(document)+CoC7Utilities.toKebabCase(document.name)}static guessGroupFromKey(id){if(id){const key=id.replace(/([^\\.-]+)$/,"");if("-"===key.substr(-1))return key}return""}static guessGroupFromDocument(document){return CoCID.guessGroupFromKey(document.flags?.CoC7?.cocidFlag?.id)}static eraText(era){return!1===era?game.i18n.localize("CoC7.Any"):game.i18n.format(COC7.eras[era]??"CoC7.CoCIDFlag.error.unknown-era",{era})}static async expandItemArray({itemList,lang=game.i18n.lang,era=!0,langFallback=!0,showLoading=!1}={}){let items=[];const cocids=itemList.filter((it=>"string"==typeof it));if(items=itemList.filter((it=>"string"!=typeof it)),cocids.length){const found=await CoCID.fromCoCIDRegexBest({cocidRegExp:CoCID.makeGroupRegEx(cocids),type:"i",lang,era,langFallback,showLoading}),all=[];for(const cocid of cocids){const item=found.find((i=>i.flags.CoC7.cocidFlag.id===cocid));item&&all.push(item)}if(all.length<cocids.length){const notmissing=[];for(const doc of all)notmissing.push(doc.flags.CoC7.cocidFlag.id);!0===era&&(era=game.settings.get("CoC7","worldEra")),ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.documents-not-found",{cocids:cocids.filter((x=>!notmissing.includes(x))).join(", "),lang,era:CoCID.eraText(era)}))}items=items.concat(all)}return items}static findCocIdInList(cocid,list){let itemName="";const CoCIDKeys=flattenObject(game.i18n.translations.CoC7.CoCIDFlag.keys);return void 0!==CoCIDKeys[cocid]&&(itemName=CoCIDKeys[cocid]),(void 0===list.filter?Object.values(list):list).filter((i=>i.flags?.CoC7?.cocidFlag?.id===cocid||""!==itemName&&itemName===i.name))}static makeGroupRegEx(cocids){if("string"==typeof cocids)cocids=[cocids];else if(void 0===cocids||"function"!=typeof cocids.filter)return;const splits={},rgx=CoCID.regExKey();for(const i of cocids){const key=i.match(rgx);key&&(void 0===splits[key[1]]&&(splits[key[1]]={}),void 0===splits[key[1]][key[2]]&&(splits[key[1]][key[2]]=[]),splits[key[1]][key[2]].push(key[3]))}const regExParts=[];for(const t in splits){const row=[];for(const s in splits[t])splits[t][s].length>1?row.push(s+"\\.("+splits[t][s].join("|")+")"):row.push(s+"\\."+splits[t][s].join(""));row.length>1?regExParts.push(t+"\\.("+row.join("|")+")"):regExParts.push(t+"\\."+row.join(""))}return regExParts.length>1?new RegExp("^("+regExParts.join("|")+")$"):new RegExp("^"+regExParts.join("")+"$")}static async fromCoCIDRegexAll({cocidRegExp,type,lang=game.i18n.lang,era=!1,scope="match",langFallback=!0,showLoading=!1}={}){if(!cocidRegExp)return[];const result=[];let count=0;if(showLoading&&(["match","all","world"].includes(scope)&&count++,["match","all","compendiums"].includes(scope)&&(count+=game.packs.size)),["match","all","world"].includes(scope)){const worldDocuments=await CoCID.documentsFromWorld({cocidRegExp,type,lang,era,langFallback,progressBar:count});if("match"===scope&&worldDocuments.length)return showLoading&&SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:100}),this.filterAllCoCID(worldDocuments,langFallback&&"en"!==lang);result.splice(0,0,...worldDocuments)}if(["match","all","compendiums"].includes(scope)){const compendiaDocuments=await CoCID.documentsFromCompendia({cocidRegExp,type,lang,era,langFallback,progressBar:count});result.splice(result.length,0,...compendiaDocuments)}return showLoading&&SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:100}),this.filterAllCoCID(result,langFallback&&"en"!==lang)}static async fromCoCIDAll({cocid,lang=game.i18n.lang,era=!1,scope="match",langFallback=!0,showLoading=!1}={}){if(!cocid||"string"!=typeof cocid)return[];const parts=cocid.match(CoCID.regExKey());return parts?(""===lang&&(lang=game.i18n.lang),CoCID.fromCoCIDRegexAll({cocidRegExp:new RegExp("^"+CoC7Utilities.quoteRegExp(cocid)+"$"),type:parts[1],lang,era,scope,langFallback,showLoading})):[]}static async fromCoCIDRegexBest({cocidRegExp,type,lang=game.i18n.lang,era=!0,langFallback=!0,showLoading=!1}={}){const allDocuments=await this.fromCoCIDRegexAll({cocidRegExp,type,lang,era,scope:"all",langFallback,showLoading});return this.filterBestCoCID(allDocuments)}static fromCoCID(cocid,lang=game.i18n.lang,era=!0,langFallback=!0){return CoCID.fromCoCIDBest({cocid,lang,era,langFallback})}static fromCoCIDBest({cocid,lang=game.i18n.lang,era=!0,langFallback=!0,showLoading=!1}={}){if(!cocid||"string"!=typeof cocid)return[];const type=cocid.split(".")[0],cocidRegExp=new RegExp("^"+CoC7Utilities.quoteRegExp(cocid)+"$");return CoCID.fromCoCIDRegexBest({cocidRegExp,type,lang,era,langFallback,showLoading})}static filterBestCoCID(documents){const bestMatchDocuments=new Map;for(const doc of documents){const docCoCID=doc.getFlag("CoC7","cocidFlag")?.id;if(docCoCID){const currentExists=bestMatchDocuments.get(docCoCID)?.id,docLang=doc.getFlag("CoC7","cocidFlag")?.lang??"en",existingLang=bestMatchDocuments.get(docCoCID)?.getFlag("CoC7","cocidFlag")?.lang??"en",preferLang=!currentExists||"en"===existingLang||existingLang===docLang,docPack=doc.pack??"",existingPack=bestMatchDocuments.get(docCoCID)?.pack??"",preferWorld=!currentExists||""===docPack||""!==existingPack,docPriority=parseInt(doc.getFlag("CoC7","cocidFlag")?.priority,10),existingPriority=parseInt(bestMatchDocuments.get(docCoCID)?.getFlag("CoC7","cocidFlag")?.priority??Number.MIN_SAFE_INTEGER);preferLang&&preferWorld&&(!currentExists||docPriority===existingPriority||docPriority>existingPriority)&&bestMatchDocuments.set(docCoCID,doc)}}return[...bestMatchDocuments.values()]}static filterAllCoCID(documents,langFallback){if(!langFallback)return documents;const bestMatchDocuments=new Map;for(const doc of documents){const docCoCID=doc.getFlag("CoC7","cocidFlag")?.id,docEras=Object.entries(doc.getFlag("CoC7","cocidFlag")?.eras??{}).filter((e=>e[1])).map((e=>e[0])).join("/");if(docCoCID){const currentExists=bestMatchDocuments.get(docCoCID)?.id,docLang=doc.getFlag("CoC7","cocidFlag")?.lang??"en",existingLang=bestMatchDocuments.get(docCoCID)?.getFlag("CoC7","cocidFlag")?.lang??"en";(!currentExists||"en"===existingLang||existingLang===docLang)&&bestMatchDocuments.set(docCoCID+"/"+docEras,doc)}}return[...bestMatchDocuments.values()]}static async documentsFromWorld({cocidRegExp,type,lang=game.i18n.lang,era=!1,langFallback=!0,progressBar=0}={}){if(!cocidRegExp)return[];""===lang&&(lang=game.i18n.lang),!0===era&&(era=game.settings.get("CoC7","worldEra")),progressBar>0&&SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:Math.floor(100/progressBar)});const gameProperty=CoCID.getGameProperty(`${type}..`),candidateDocuments=game[gameProperty]?.filter((d=>{const cocidFlag=d.getFlag("CoC7","cocidFlag");if(void 0===cocidFlag)return!1;const eras=cocidFlag.eras??[],matchingEras=!1===era||0===Object.entries(eras).length||Object.prototype.hasOwnProperty.call(eras,era)&&eras[era];return cocidRegExp.test(cocidFlag.id)&&[lang,langFallback?"en":"-"].includes(cocidFlag.lang)&&matchingEras}));return void 0===candidateDocuments?[]:candidateDocuments.sort(CoCID.compareCoCIDPrio)}static async documentsFromCompendia({cocidRegExp,type,lang=game.i18n.lang,era=!1,langFallback=!0,progressBar=0}){if(!cocidRegExp)return[];""===lang&&(lang=game.i18n.lang),!0===era&&(era=game.settings.get("CoC7","worldEra"));const eraText=CoCID.eraText(era),documentType=CoCID.getDocumentType(type).schema.name,candidateDocuments=[];let count=1;for(const pack of game.packs)if(progressBar>0&&(SceneNavigation.displayProgressBar({label:game.i18n.localize("SETUP.PackagesLoading"),pct:Math.floor(100*count/progressBar)}),count++),pack.documentName===documentType){pack.indexed||await pack.getIndex();const indexInstances=pack.index.filter((i=>{const cocidFlag=i.flags?.CoC7?.cocidFlag;if(void 0===cocidFlag)return!1;const eras=cocidFlag.eras??[],matchingEras=!1===era||0===Object.entries(eras).length||Object.prototype.hasOwnProperty.call(eras,era)&&eras[era];return cocidRegExp.test(cocidFlag.id)&&[lang,langFallback?"en":"-"].includes(cocidFlag.lang)&&matchingEras}));for(const index of indexInstances){const document=await pack.getDocument(index._id);if(!document){const msg=game.i18n.format("CoC7.CoCIDFlag.error.document-not-found",{cocid:cocidRegExp,lang,era:eraText});throw ui.notifications.error(msg),console.log("CoC7 |",msg,index),new Error}candidateDocuments.push(document)}}return candidateDocuments.sort(CoCID.compareCoCIDPrio)}static compareCoCIDPrio(a,b){return b.getFlag("CoC7","cocidFlag")?.priority-a.getFlag("CoC7","cocidFlag")?.priority}static getGameProperty(cocid){const type=cocid.split(".")[0],gameProperty=CoCID.gamePropertyLookup[type];if(!gameProperty)throw ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.incorrect.type")),console.log("CoC7 | ",cocid),new Error;return gameProperty}static get gamePropertyLookup(){return{a:"actors",c:"cards",i:"items",je:"journal",m:"macros",p:"playlists",rt:"tables",s:"scenes"}}static getDocumentType(cocid){const type=cocid.split(".")[0],documentType=CoCID.documentNameLookup[type];if(!documentType)throw ui.notifications.warn(game.i18n.format("CoC7.CoCIDFlag.error.incorrect.type")),console.log("CoC7 | ",cocid),new Error;return documentType}static get documentNameLookup(){return{a:Actor,c:Card,i:Item,je:JournalEntry,m:Macro,p:Playlist,rt:RollTable,s:Scene}}}function listen(){Hooks.once("init",(async()=>{CONFIG.ActiveEffect.documentClass=CoC7ActiveEffect,CONFIG.Actor.documentClass=CoCActor,CONFIG.Actor.documentClasses={vehicle:CoC7Vehicle},CONFIG.Item.documentClass=CoC7Item,CONFIG.Item.documentClasses={book:CoC7Book,spell:CoC7Spell,chase:CoC7Chase,skill:CoC7Skill},async function(){loadTemplates(["systems/CoC7/templates/actors/parts/npc-skills.html","systems/CoC7/templates/actors/parts/npc-combat.html","systems/CoC7/templates/actors/parts/actor-inventory.html","systems/CoC7/templates/actors/parts/actor-inventory-items.html","systems/CoC7/templates/actors/parts/actor-background.html","systems/CoC7/templates/common/active-effects.hbs","systems/CoC7/templates/actors/parts/actor-mythos-enounters.hbs","systems/CoC7/templates/actors/parts/actor-keeper-mythos-enounters.hbs","systems/CoC7/templates/actors/parts/actor-skills-v2.html","systems/CoC7/templates/actors/parts/character-development-v2.html","systems/CoC7/templates/actors/parts/development-controls.html","systems/CoC7/templates/actors/parts/vitals.html","systems/CoC7/templates/actors/parts/combat.html","systems/CoC7/templates/actors/character-sheet-v2.html","systems/CoC7/templates/actors/character/summary.html","systems/CoC7/templates/items/book/details.html","systems/CoC7/templates/items/spell/details.html","systems/CoC7/templates/apps/investigator-wizard/introduction.hbs","systems/CoC7/templates/apps/investigator-wizard/configuration.hbs","systems/CoC7/templates/apps/investigator-wizard/select-setup.hbs","systems/CoC7/templates/apps/investigator-wizard/select-archetype.hbs","systems/CoC7/templates/apps/investigator-wizard/select-occupation.hbs","systems/CoC7/templates/apps/investigator-wizard/set-characteristics.hbs","systems/CoC7/templates/apps/investigator-wizard/set-attributes.hbs","systems/CoC7/templates/apps/investigator-wizard/view-attributes.hbs","systems/CoC7/templates/apps/investigator-wizard/set-investigator.hbs","systems/CoC7/templates/apps/investigator-wizard/set-occupation-skills.hbs","systems/CoC7/templates/apps/investigator-wizard/toggle-skill.hbs","systems/CoC7/templates/apps/investigator-wizard/set-archetype-skills.hbs","systems/CoC7/templates/apps/investigator-wizard/points-skills.hbs","systems/CoC7/templates/apps/investigator-wizard/backstory.hbs","systems/CoC7/templates/apps/investigator-wizard/create.hbs"])}(),function(){if(game.settings.registerMenu("CoC7","gameRules",{name:"CoC7.Settings.Rules.Name",label:"CoC7.Settings.Rules.Label",hint:"CoC7.Settings.Rules.Hint",icon:"fas fa-book",type:CoC7GameRuleSettings,restricted:!0}),CoC7GameRuleSettings.registerSettings(),game.settings.register("CoC7","useContextMenus",{name:"SETTINGS.UseContextMenus",hint:"SETTINGS.UseContextMenusHint",scope:"world",config:!0,type:Boolean,default:!1}),game.settings.register("CoC7","dholeUploadDirectory",{name:"CoC7.Settings.DholeUpload.Directory.Name",hint:"CoC7.Settings.DholeUpload.Directory.Hint",scope:"world",config:!0,type:CoC7DirectoryPicker.DefaultDirectory,default:"[data] worlds/"+game.world.id+"/dhole-images"}),game.settings.register("CoC7","worldEra",{name:"CoC7.Settings.WorldEra.Name",hint:"CoC7.Settings.WorldEra.Hint",scope:"world",config:!0,default:"standard",type:String,choices:COC7.eras,onChange:()=>{ui.players.render(!0)}}),game.settings.register("CoC7","dropCoCID",{name:"CoC7.Settings.DropCoCID.Name",hint:"CoC7.Settings.DropCoCID.Hint",scope:"world",config:!0,default:"",type:String,choices:{"":"CoC7.Settings.DropCoCID.Prompt",Y:"CoC7.Settings.DropCoCID.UseCoCID",N:"CoC7.Settings.DropCoCID.IgnoreCoCID"}}),game.settings.register("CoC7","displayInitDices",{name:"SETTINGS.displayInitDices",hint:"SETTINGS.displayInitDicesHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","displayInitAsText",{name:"SETTINGS.displayInitAsText",hint:"SETTINGS.displayInitAsTextHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","stanbyGMRolls",{name:"SETTINGS.StanbyGMRolls",hint:"SETTINGS.StanbyGMRollsHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","allowFlatDiceModifier",{name:"SETTINGS.AllowFlatDiceModifier",hint:"SETTINGS.AllowFlatDiceModifierHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","allowFlatThresholdModifier",{name:"SETTINGS.AllowFlatThresholdModifier",hint:"SETTINGS.AllowFlatThresholdModifierHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","defaultCheckDifficulty",{name:"SETTINGS.DefaultDifficulty",hint:"SETTINGS.DefaultDifficultyHint",scope:"world",config:!0,default:"regular",type:String,choices:{regular:"SETTINGS.CheckDifficultyRegular",unknown:"SETTINGS.CheckDifficultyUnknown"}}),game.settings.register("CoC7","selfRollWhisperTarget",{name:"SETTINGS.SelfRollWhisperTarget",hint:"SETTINGS.SelfRollWhisperTargetHint",scope:"world",config:!0,default:"everyone",type:String,choices:{nobody:"SETTINGS.DoNotAdvise",owners:"SETTINGS.AdviseOwnersOnly",everyone:"SETTINGS.AdviseAllPlayer"}}),game.settings.register("CoC7","trustedCanModfyChatCard",{name:"SETTINGS.TrustedCanModfyChatCard",hint:"SETTINGS.TrustedCanModfyChatCardHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","trustedCanSeeChatCard",{name:"SETTINGS.TrustedCanSeeChatCard",hint:"SETTINGS.TrustedCanSeeChatCardHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","displayActorOnCard",{name:"SETTINGS.DisplayActorOnCard",hint:"SETTINGS.DisplayActorOnCardHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","displayCheckSuccessLevel",{name:"SETTINGS.DisplayCheckSuccessLevel",scope:"client",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","displayResultType",{name:"SETTINGS.DisplayResultType",scope:"client",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","useToken",{name:"SETTINGS.UseToken",hint:"SETTINGS.UseTokenHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","enableStatusIcons",{name:"SETTINGS.EnableStatusIcons",hint:"SETTINGS.EnableStatusIconsHint",scope:"world",config:!0,type:Boolean,default:!0}),game.settings.register("CoC7","gridSpaces",{name:"SETTINGS.RestrictGridSpaces",hint:"SETTINGS.RestrictGridSpacesHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","distanceElevation",{name:"SETTINGS.CheckElevation",hint:"SETTINGS.CheckElevationHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","overrideGameArtwork",{name:"SETTINGS.OverrideGameArtwork",hint:"SETTINGS.OverrideGameArtworkHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.get("CoC7","overrideGameArtwork")&&(game.settings.register("CoC7","artPauseImage",{name:"SETTINGS.ArtPauseImage",hint:"SETTINGS.ArtPauseImageHint",scope:"world",config:!0,default:"systems/CoC7/assets/icons/time-trap.svg",type:String}),game.settings.register("CoC7","artPauseText",{name:"SETTINGS.ArtPauseText",hint:"SETTINGS.ArtPauseTextHint",scope:"world",config:!0,default:"The Blind Idiot God is dreaming...",type:String})),game.settings.register("CoC7","displayPlayerNameOnSheet",{name:"SETTINGS.displayPlayerNameOnSheet",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","toolTipDelay",{name:"CoC7.toolTipDelay",scope:"world",config:!0,default:2e3,type:Number}),game.settings.register("CoC7","showIconsOnly",{name:"SETTINGS.showIconsOnly",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","playerUnlockSheetMode",{name:"SETTINGS.PlayerUnlockSheetMode",scope:"world",config:!0,default:"always",type:String,choices:{always:"SETTINGS.AlwaysEditable",creation:"SETTINGS.CreationModeOnly",never:"SETTINGS.NeverEditable"}}),game.settings.register("CoC7","statusPlayerEditable",{name:"SETTINGS.StatusPlayerEditable",hint:"SETTINGS.StatusPlayerEditableHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","oneBlockBackstory",{name:"SETTINGS.OneBlockBackStory",hint:"SETTINGS.OneBlockBackStoryHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","overrideSheetArtwork",{name:"SETTINGS.OverrideSheetArtwork",hint:"SETTINGS.OverrideSheetArtworkHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.get("CoC7","overrideSheetArtwork")){function _setRootFontSize(size){$(":root").css("font-size",size),ui.sidebar.render(!0);for(const[,w]of Object.entries(ui.windows))w.render(!0)}game.settings.register("CoC7","artWorkSheetBackground",{name:"SETTINGS.ArtWorkSheetBackground",hint:"SETTINGS.ArtWorkSheetBackgroundHint",scope:"world",config:!0,default:"url('./assets/images/background.webp') 4 repeat",type:String}),game.settings.register("CoC7","artWorkSheetBackgroundType",{name:"SETTINGS.ArtWorkSheetBackgroundType",scope:"world",config:!0,default:"slice",type:String,choices:{slice:"SETTINGS.BackgroundSlice",auto:"SETTINGS.BackgroundAuto",contain:"SETTINGS.BackgroundContain",cover:"SETTINGS.BackgroundCover"}}),game.settings.register("CoC7","artWorkOtherSheetBackground",{name:"SETTINGS.ArtWorkOtherSheetBackground",hint:"SETTINGS.ArtWorkOtherSheetBackgroundHint",scope:"world",config:!0,default:"url( './assets/images/background.webp')",type:String}),game.settings.register("CoC7","artworkSheetImage",{name:"SETTINGS.ArtworkSheetImage",hint:"SETTINGS.ArtworkSheetImageHint",scope:"world",config:!0,default:"url('./assets/images/tentacles.webp')",type:String}),game.settings.register("CoC7","artworkFrontColor",{name:"SETTINGS.ArtworkFrontColor",hint:"SETTINGS.ArtworkFrontColorHint",scope:"world",config:!0,default:"rgba(43,55,83,1)",type:String}),game.settings.register("CoC7","artworkBackgroundColor",{name:"SETTINGS.ArtworkBackgroundColor",hint:"SETTINGS.ArtworkBackgroundColorHint",scope:"world",config:!0,default:"rgba(103,11,11,1)",type:String}),game.settings.register("CoC7","artworkInteractiveColor",{name:"SETTINGS.ArtworkInteractiveColor",hint:"SETTINGS.ArtworkInteractiveColorHint",scope:"world",config:!0,default:"rgba(103,11,11,1)",type:String}),game.settings.register("CoC7","artworkFixedSkillLength",{name:"SETTINGS.ArtworkFixedSkillLength",hint:"SETTINGS.ArtworkFixedSkillLengthHint",scope:"world",config:!0,default:!0,type:Boolean}),game.settings.register("CoC7","artworkMainFont",{name:"SETTINGS.ArtworkMainFont",scope:"world",config:!0,default:"",type:String}),game.settings.register("CoC7","artworkMainFontBold",{name:"SETTINGS.ArtworkMainFontBold",scope:"world",config:!0,default:"",type:String}),game.settings.register("CoC7","artworkMainFontSize",{name:"SETTINGS.ArtworkMainFontSize",scope:"world",config:!0,default:16,type:Number,onChange:size=>_setRootFontSize(size)})}if(game.settings.register("CoC7","disregardUsePerRound",{name:"SETTINGS.DisregardUsePerRound",hint:"SETTINGS.DisregardUsePerRoundHint",scope:"world",config:!0,default:!1,type:Boolean}),game.settings.register("CoC7","disregardAmmo",{name:"SETTINGS.DisregardAmmo",hint:"SETTINGS.DisregardAmmoHint",scope:"world",config:!0,default:!1,type:Boolean}),game.modules.get("dice-so-nice")?.active){game.settings.register("CoC7","syncDice3d",{name:"SETTINGS.SyncDice3D",hint:"SETTINGS.SyncDice3DHint",scope:"world",config:!0,default:!0,type:Boolean});const[version]=game.modules.get("dice-so-nice")?.version.split(".");!isNaN(Number(version))&&Number(version)>=3&&(game.settings.register("CoC7","tenDieBonus",{name:"SETTINGS.TenDieBonus",hint:"SETTINGS.TenDieBonusHint",scope:"client",config:!0,default:"bronze",type:String}),game.settings.register("CoC7","tenDiePenalty",{name:"SETTINGS.TenDiePenalty",hint:"SETTINGS.TenDiePenaltyHint",scope:"client",config:!0,default:"bloodmoon",type:String}))}game.settings.register("CoC7","debugmode",{name:"SETTINGS.DebugMode",hint:"SETTINGS.DebugModeHint",scope:"client",config:!0,type:Boolean,default:!1}),game.settings.register("CoC7","experimentalFeatures",{name:"SETTINGS.ShowExperimentalFeatures",hint:"SETTINGS.ShowExperimentalFeaturesHint",scope:"world",config:!0,type:Boolean,default:!1}),game.settings.register("CoC7","hiddendevmenu",{name:"Hidden dev menu",hint:"Use at your own risk",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","developmentEnabled",{name:"Dev phased allowed",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","showWelcomeMessage",{name:"SETTINGS.showWelcomeMessage",hint:"SETTINGS.showWelcomeMessage",scope:"world",config:!1,default:!0,type:Boolean}),game.settings.register("CoC7","charCreationEnabled",{name:"Char creation allowed",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","systemUpdateVersion",{name:"System update version",scope:"world",config:!1,type:String,default:"0"}),game.settings.register("CoC7","systemUpdatedModuleVersion",{scope:"world",config:!1,default:{}}),game.settings.register("CoC7","xpEnabled",{name:"Enable XP gain",scope:"world",config:!1,type:Boolean,default:!0}),game.settings.register("CoC7","showInstructions",{name:"Show changelog/instructions",scope:"world",config:!1,type:String,default:"0"}),game.settings.register("CoC7","InvestigatorWizardSetup",{name:"Force specific setup CoC ID for Investigator Wizard",scope:"world",config:!1,type:String,default:""}),game.settings.register("CoC7","InvestigatorWizardQuantity",{name:"Number of investigators a single user without create actor rights can own",scope:"world",config:!1,type:Number,default:0}),game.settings.register("CoC7","InvestigatorWizardOwnership",{name:"Default permissions for non owner players",scope:"world",config:!1,type:Number,default:CONST.DOCUMENT_OWNERSHIP_LEVELS.NONE}),game.settings.register("CoC7","InvestigatorWizardRerolls",{name:"Allow players to reroll characteristics",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","InvestigatorWizardPointBuy",{name:"Force point buy instead of setup choice",scope:"world",config:!1,type:Boolean,default:!1}),game.settings.register("CoC7","InvestigatorWizardQuickFire",{name:"Quick fire setup values",scope:"world",config:!1,type:Array,default:[]}),CONFIG.Combat.initiative={formula:"@characteristics.dex.value",decimals:4},CONFIG.debug.hooks=!!game.settings.get("CoC7","debugmode"),CONFIG.Dice.terms.t=CoC7DecaderDie,CONFIG.Dice.terms.o=CoC7DecaderDieOther}(),Actors.unregisterSheet("core",ActorSheet),Actors.registerSheet("CoC7",CoC7NPCSheet,{types:["npc"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7VehicleSheet,{types:["vehicle"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7CreatureSheet,{types:["creature"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7ContainerSheet,{types:["container"],makeDefault:!0}),Actors.registerSheet("CoC7",CoC7CharacterSheet,{types:["character"],makeDefault:!0}),Items.unregisterSheet("core",ItemSheet),Items.registerSheet("CoC7",CoC7SkillSheet,{types:["skill"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7WeaponSheet,{types:["weapon"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7BookSheet,{types:["book"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7SpellSheet,{types:["spell"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7TalentSheet,{types:["talent"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7StatusSheet,{types:["status"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7OccupationSheet,{types:["occupation"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7ArchetypeSheet,{types:["archetype"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7SetupSheet,{types:["setup"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7ChaseSheet,{types:["chase"],makeDefault:!0}),Items.registerSheet("CoC7",CoC7ItemSheet,{types:["item"]}),Items.registerSheet("CoC7",CoC7ItemSheetV2,{types:["item"],makeDefault:!0}),Scenes.unregisterSheet("core",SceneConfig),Scenes.registerSheet("CoC7",CoC7SceneConfig,{makeDefault:!0}),Journal.unregisterSheet("core",JournalSheet),Journal.registerSheet("CoC7",CoC7JournalSheet,{makeDefault:!0}),RollTables.unregisterSheet("core",RollTableConfig),RollTables.registerSheet("CoC7",CoC7RollTableConfig,{makeDefault:!0}),Macros.unregisterSheet("core",MacroConfig),Macros.registerSheet("CoC7",CoC7MacroConfig,{makeDefault:!0}),Playlists.unregisterSheet("core",PlaylistConfig),Playlists.registerSheet("CoC7",CoC7PlaylistConfig,{makeDefault:!0}),Handlebars.registerHelper("rollActorImg",(function(actorKey){return chatHelper.getActorImgFromKey(actorKey)||"../icons/svg/mystery-man-black.svg"})),function(){Hooks.on("renderCompendium",(async(app,html,data)=>{if("Item"===app.collection.documentName){await app.collection.getIndex();const types=[...new Set(data.index.filter((i=>"#[CF_tempEntity]"!==i.name)).map((item=>item.type)))],select=[];select.push('<option value="">'+game.i18n.localize("CoC7.All")+"</option>"),types.includes("archetype")&&select.push('<option value="archetype">'+game.i18n.localize("CoC7.Entities.Archetype")+"</option>"),types.includes("book")&&select.push('<option value="book">'+game.i18n.localize("CoC7.Entities.Book")+"</option>"),types.includes("item")&&select.push('<option value="item">'+game.i18n.localize("CoC7.Entities.Item")+"</option>"),types.includes("occupation")&&select.push('<option value="occupation">'+game.i18n.localize("CoC7.Entities.Occupation")+"</option>"),types.includes("setup")&&select.push('<option value="setup">'+game.i18n.localize("CoC7.Entities.Setup")+"</option>"),types.includes("skill")&&select.push('<option value="skill">'+game.i18n.localize("CoC7.Entities.Skill")+"</option>"),types.includes("spell")&&select.push('<option value="spell">'+game.i18n.localize("CoC7.Entities.Spell")+"</option>"),types.includes("status")&&select.push('<option value="status">'+game.i18n.localize("CoC7.Entities.Status")+"</option>"),types.includes("talent")&&select.push('<option value="talent">'+game.i18n.localize("CoC7.Entities.Talent")+"</option>"),types.includes("weapon")&&select.push('<option value="weapon">'+game.i18n.localize("CoC7.Entities.Weapon")+"</option>");const eras=[];eras.push('<option value="">'+game.i18n.localize("CoC7.All")+"</option>");for(const era of Object.entries(COC7.eras).map((e=>({id:e[0],name:game.i18n.localize(e[1])}))).sort(CoC7Utilities.sortByNameKey))eras.push('<option value="'+era.id+'">'+era.name+"</option>");html.data("packId",app.metadata.id);let uncommon=game.i18n.localize("CoC7.SkillRarityShort");"CoC7.SkillRarityShort"===uncommon&&(uncommon="??"),html.find("li.directory-item").each((function(){const row=$(this);let item=[];item=void 0!==data.index?data.index.find((i=>i._id===row.data("document-id"))):app.collection.index.get(row.data("document-id")),item&&"skill"===item.type&&row.find("a").html(item.name+" ("+(item.system?.base??"?")+"%"+(item.system?.properties?.rarity?" "+uncommon:"")+")")})),html.find("header.directory-header").after('<div class="compendiumfilter"><div class="header-search flexrow"><i class="fas fa-layer-group"></i><select name="coc7type'+app.appId+'" style="">'+select.join("")+'</select></div><div class="header-search flexrow era_select" style="display:none"><i class="fas fa-layer-group"></i><select name="coc7era'+app.appId+'" style="">'+eras.join("")+"</select></div></div>"),html.find("select").change(performFilter.bind(this)),html.find("input").keyup(performFilter.bind(this))}}))}(),CoCID.init(),CoC7Link.init()}))}class CoC7DecaderDSNFaces{construtor(){this.selected=""}setFaces(){let selected=game.user.getFlag("dice-so-nice","appearance")?.global.system;if(selected!==this.selected){let data,destination,sourceDie=game.dice3d.DiceFactory.systems[selected]?.dice.find((d=>"d100"===d.type));void 0===sourceDie&&(sourceDie=game.dice3d.DiceFactory.systems.standard.dice.find((d=>"d100"===d.type)),selected="standard"),void 0!==sourceDie&&(destination=game.dice3d.DiceFactory.systems.standard.dice.findIndex((d=>"dt"===d.type)),data=Object.assign({},sourceDie),data.type="dt",game.dice3d.DiceFactory.systems.standard.dice[destination]=Object.assign(sourceDie.constructor.prototype,data)),this.selected=selected}}}class CoC7Tooltips{constructor(){this.ToolTipHover=null,this.toolTipTimer=null}displayToolTip(toolTip){if(void 0!==this.ToolTipHover){const bounds=this.ToolTipHover.getBoundingClientRect();if(!isNaN(bounds.left||"")&&!isNaN(bounds.top||"")){let left=bounds.left,top=bounds.top;const heightText=$(this.ToolTipHover).outerHeight();$("body").append('<div id="help-tooltip">'+toolTip+"</div>");const tip=$("#help-tooltip"),heightTip=tip.outerHeight(),widthTip=tip.outerWidth();window.innerHeight<1.5*heightText+heightTip+top?top-=heightTip:top+=1.5*heightText,window.innerWidth<widthTip+left&&(left=window.innerWidth-widthTip),tip.css({left:left+"px",top:top+"px"})}}}toolTipLeave(event){game.CoC7Tooltips.ToolTipHover===event.currentTarget&&(clearTimeout(game.CoC7Tooltips.toolTipTimer),game.CoC7Tooltips.ToolTipHover=null,$("#help-tooltip").remove())}}let CoC7Tour=class{};"undefined"!=typeof Tour&&(CoC7Tour=class extends Tour{async waitForElement(selector){return new Promise(((resolve,reject)=>{if(document.querySelector(selector))return void resolve();new MutationObserver(((mutations,observer)=>{document.querySelectorAll(selector).forEach((el=>{resolve(),observer.disconnect()}))})).observe(document.body,{childList:!0,subtree:!0})}))}async _preStep(){if(await super._preStep(),0===this.stepIndex)for(const app of Object.values(ui.windows))app.close();await this.waitForElement(this.currentStep.selector)}async _postStep(){if(await super._postStep(),!(this.stepIndex<0)&&this.hasNext&&this.currentStep.action)if(this.isResetting)this.isResetting=!1;else if("click"===this.currentStep.action)document.querySelector(this.currentStep.selector).click()}async reset(){"completed"!==this.status&&(this.isResetting=!0),await super.reset()}});class EnableVariantRulesEn extends CoC7Tour{constructor(config){super(mergeObject({title:"Enable optional/variant rules.",description:"Learn how to enable Pulp Cthulhu rules, or other variant rules",canBeResumed:!1,display:!0,steps:[{id:"goto-settings",selector:'[data-tab="settings"]',title:"COC7.Tour.GotoSettingsTitle",content:"COC7.Tour.GotoSettingsContent",action:"click"},{id:"goto-configure",selector:'[data-action="configure"]',title:"COC7.Tour.GotoConfigureTitle",content:"COC7.Tour.GotoConfigureContent",action:"click"},{id:"goto-system-settings",selector:'[data-category="system"]',title:"COC7.Tour.GotoSystemSettingsTitle",content:"COC7.Tour.GotoSystemSettingsContent",action:"click"},{id:"goto-game-rules",selector:'[data-category="system"] [data-key="CoC7.gameRules"]',title:"COC7.Tour.GotoGameRulesTitle",content:"COC7.Tour.GotoGameRulesContent",action:"click"},{id:"save-game-rules",selector:"#rules-settings [name=submit]",title:"COC7.Tour.SaveGameRulesTitle",content:"COC7.Tour.SaveGameRulesContent"}],localization:{"COC7.Tour.GotoSettingsTitle":"Game Settings","COC7.Tour.GotoSettingsContent":"Go to the Game Settings tab","COC7.Tour.GotoConfigureTitle":"Configure Settings","COC7.Tour.GotoConfigureContent":"Click on the Configure Settings button","COC7.Tour.GotoSystemSettingsTitle":"System Settings","COC7.Tour.GotoSystemSettingsContent":"Go to the System Settings tab","COC7.Tour.GotoGameRulesTitle":"Configure Variant/Optional Rules","COC7.Tour.GotoGameRulesContent":"Click on the Configure Variant/Optional Rules button","COC7.Tour.SaveGameRulesTitle":"Save rule changes","COC7.Tour.SaveGameRulesContent":"Once you have made your changes click on the Save Changes button"}},config))}async _preStep(){await super._preStep(),"goto-game-rules"===this.currentStep.id&&(await this.waitForElement(".category-filter.system.active"),await this.waitForElement(this.currentStep.selector))}}class EnableVariantRulesFr extends EnableVariantRulesEn{constructor(config){super({title:"Activez les rgles optionnelles.",description:"Activez les rgles optionelles et Pulp Cthulhu",localization:{"COC7.Tour.GotoSettingsTitle":"Paramtres","COC7.Tour.GotoSettingsContent":'Ouvrir l\'onglet "Paramtres"',"COC7.Tour.GotoConfigureTitle":"Configuration des options","COC7.Tour.GotoConfigureContent":'Cliquez sur "Configuration des options"',"COC7.Tour.GotoSystemSettingsTitle":"Systme de jeu","COC7.Tour.GotoSystemSettingsContent":'Ouvrez l\'onglet "Systme de jeu"',"COC7.Tour.GotoGameRulesTitle":"Configurer les variantes/rgles optionnelles","COC7.Tour.GotoGameRulesContent":'Clickez sur le boutton "Configurer les variantes/rgles optionnelles"',"COC7.Tour.SaveGameRulesTitle":"Sauvegarder les modifications","COC7.Tour.SaveGameRulesContent":'Apres avoir choisis les options cliquez sur le bouton "Sauvegarder les modifications"'}})}}function ready_listen(){Hooks.once("ready",(async()=>{console.log("Call of Cthulhu 7th Edition | Ready"),game.settings.get("CoC7","showWelcomeMessage")&&game.user.isGM,game.CoC7Tooltips=new CoC7Tooltips;const instructionsVersion=game.settings.get("CoC7","showInstructions");if(isNewerVersion(game.system.version,instructionsVersion??"0")){let lang=game.i18n.lang;const readMe={en:"sxB2OXbfwV6M0nyQ",fr:"tdakyzTVOQsAMdSm"};void 0===readMe[lang]&&(lang="en"),(await game.packs.get("CoC7.system-doc").getDocument(readMe[lang])).sheet.render(!0),game.settings.set("CoC7","showInstructions",game.system.version)}!async function(){try{let lang=game.i18n.lang;const tours={en:{"enable-variant-rules":EnableVariantRulesEn},fr:{"enable-variant-rules":EnableVariantRulesFr}};void 0===tours[lang]&&(lang="en");for(const tourName in tours[lang])game.tours.register("CoC7",tourName,new tours[lang][tourName])}catch(err){console.error("TOUR ERROR",err)}}()}))}const CoC7Hooks={listen(){listen(),ready_listen(),Hooks.on("renderActorSheet",(async(data,html,options)=>{})),Hooks.on("renderChatMessage",((app,html,data)=>{CoC7Chat.renderMessageHook(app,html,data),CoC7Chat.renderChatMessageHook(app,html,data),CoC7Parser.ParseMessage(app,html,data),CoC7Link.bindEventsHandler(html)})),Hooks.on("renderDialog",((dialog,html)=>{const form=html.find("form");if(form.is("#document-create")&&0!==form.find("select").length){const entityCreateSelectTag=form.find("[name='type']"),entitySortedList=[],showExperimental=!!game.settings.get("CoC7","experimentalFeatures");entityCreateSelectTag.children().each(((o,entityOption)=>{const key=entityOption.textContent?.capitalize();game.i18n.has(`CoC7.Entities.${key}`)&&(entityOption.textContent=game.i18n.localize(`CoC7.Entities.${key}`)),!showExperimental&&["vehicle"].includes(entityOption.value)||entitySortedList.push(entityOption)})),entityCreateSelectTag.empty(),entityCreateSelectTag.append(entitySortedList.sort(((first,second)=>first.innerText.localeCompare(second.innerText)))),"actor"===entityCreateSelectTag.val()?entityCreateSelectTag.val("character"):"book"===entityCreateSelectTag.val()&&entityCreateSelectTag.val("item")}})),Hooks.on("renderItemSheet",(async(data,html,options)=>{})),Hooks.on("renderPause",(async(data,html,options)=>{game.settings.get("CoC7","overrideGameArtwork")&&("null"===game.settings.get("CoC7","artPauseImage").toLowerCase()&&html.find("img").remove(),""!==game.settings.get("CoC7","artPauseImage")&&html.find("img").attr("src",game.settings.get("CoC7","artPauseImage")),""!==game.settings.get("CoC7","artPauseText")&&html.find("h3").html(game.settings.get("CoC7","artPauseText")))})),Hooks.once("diceSoNiceReady",(dice3d=>{dice3d.addDicePreset({type:"dt",labels:["10","20","30","40","50","60","70","80","90","00"],fontScale:.75,system:"standard"}),dice3d.addDicePreset({type:"do",labels:["10","20","30","40","50","60","70","80","90","00"],fontScale:.75,system:"standard"}),game.CoC7DecaderDSNFaces=new CoC7DecaderDSNFaces})),Hooks.on("diceSoNiceRollStart",(dice3d=>{game.CoC7DecaderDSNFaces.setFaces()})),Hooks.on("renderPlayerList",((playerList,html,data)=>{$("<h4>").append('<div><i class="fa-regular fa-calendar"></i>'+game.i18n.format(COC7.eras[game.settings.get("CoC7","worldEra")]??"CoC7.CoCIDFlag.error.unknown-era",{era:game.settings.get("CoC7","worldEra")})+"</div>").insertAfter($("h3",html))})),Hooks.on("renderSettingsConfig",((app,html,user)=>{CoC7DirectoryPicker.processHtml(html)}))}};async function gmcreatemessageas(data){const meleeTarget=new CoC7MeleeTarget(data.targetKey,data.messageId,data.fastForward);meleeTarget.initiatorKey=data.actorKey;return await meleeTarget.createChatCard()}async function gmtradeitemto(data){try{let actor;actor=data.scene?game.scenes.get(data.scene).tokens.get(data.actorFrom).actor:game.actors.get(data.actorFrom);const item=actor.items.get(data.item);await game.actors.get(data.actorTo).createEmbeddedDocuments("Item",[item.toJSON()])&&actor.deleteEmbeddedDocuments("Item",[item.id])}catch(e){return ui.notifications.error(e),!1}return!0}class CoC7SystemSocket{static async callSocket(data){if(void 0!==data.listener){if(game.user.id===data.listener)switch(data.type){case"character-wizard":CoC7InvestigatorWizard.createCharacterFromData(data.payload);break;case"open-character":game.actors.get(data.payload).sheet.render(!0)}}else{if(game.user.isGM)switch(data.type){case OpposedCheckCard.defaultConfig.type:OpposedCheckCard.dispatch(data);break;case CombinedCheckCard.defaultConfig.type:CombinedCheckCard.dispatch(data);break;case"invoke":(await fromUuid(data.item))[data.method](data.data)}if("updateChar"===data.type)CoC7Utilities.updateCharSheets()}}static requestKeeperAction(data){if(game.user.isGM)data.listener=game.user.id,CoC7SystemSocket.callSocket(data);else{const keepers=game.users.filter((u=>u.active&&u.isGM));keepers.length?(data.listener=keepers[0].id,game.socket.emit("system.CoC7",data)):ui.notifications.error(game.i18n.localize("CoC7.ErrorMissingKeeperUser"))}}static requestUserAction(data,{userId=null,errorIfMissing=!0,includeSelf=!0}={}){if(userId&&void 0!==userId)if(userId===game.user.id)data.listener=game.user.id,CoC7SystemSocket.callSocket(data);else{const user=game.users.get(userId);void 0!==user.id&&user.active?(data.listener=user.id,game.socket.emit("system.CoC7",data)):errorIfMissing&&ui.notifications.error(game.i18n.localize("CoC7.ErrorMissingUser"))}else includeSelf&&CoC7SystemSocket.callSocket(data),game.socket.emit("system.CoC7",data)}}function _onLeftClick(event){return event.shiftKey}Hooks.on("renderSettingsConfig",((app,html,options)=>{const systemTab=$(app.form).find(".tab[data-tab=system]");systemTab.find("input[name=CoC7\\.displayInitDices]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleInitiative")+"</h2>"),systemTab.find("input[name=CoC7\\.stanbyGMRolls]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleRoll")+"</h2>"),systemTab.find("input[name=CoC7\\.trustedCanModfyChatCard]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleChatCards")+"</h2>"),systemTab.find("input[name=CoC7\\.enableStatusIcons]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleScene")+"</h2>"),systemTab.find("input[name=CoC7\\.overrideGameArtwork]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleGameArtwork")+"</h2>"),systemTab.find("input[name=CoC7\\.displayPlayerNameOnSheet]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleSheet")+"</h2>"),systemTab.find("input[name=CoC7\\.disregardUsePerRound]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleWeapon")+"</h2>"),systemTab.find("input[name=CoC7\\.syncDice3d]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleDiceSoNice")+"</h2>"),systemTab.find("input[name=CoC7\\.debugmode]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleDeveloperDebug")+"</h2>"),systemTab.find("select[name=CoC7\\.boutOfMadnessSummaryTable]").closest("div.form-group").before('<h2 class="setting-header">'+game.i18n.localize("SETTINGS.TitleRollTable")+"</h2>")})),Hooks.once("init",(async function(){game.CoC7={macros:{skillCheck:CoC7Utilities.skillCheckMacro,weaponCheck:CoC7Utilities.weaponCheckMacro,check:CoC7Utilities.checkMacro},cards:{DamageCard},dev:{dice:{alwaysCrit:!1,alwaysFumble:!1}},eras:(era,name)=>{COC7.eras[era]=name}},Combat.prototype.rollInitiative=rollInitiative})),function(...cardclass){Hooks.on("renderChatLog",((app,html,data)=>EnhancedChatCardLib.injectCSS(app,html,data))),Hooks.once("socketlib.ready",(function(){EnhancedChatCardLib.register(cardclass),EnhancedChatCardLib.socket=socketlib.registerSystem(game.system.id),EnhancedChatCardLib.socket.register("updateMessage",updateMessage),EnhancedChatCardLib.socket.register("GMUpdate",GMUpdate),EnhancedChatCardLib.socket.register("advise",advise)})),Hooks.on("renderChatMessage",((app,html,data)=>EnhancedChatCard.bindListeners(html)))}(ChaseObstacleCard),Hooks.on("renderCombatTracker",((app,html,data)=>CoC7Combat.renderCombatTracker(app,html,data))),Hooks.on("chatMessage",((html,content)=>{if(content.match(/^\/(cbr|cc)/i)){const commands=content.match(/(\d+)/g);return commands?new Roll("1d100").roll({async:!0}).then((r=>{const s=r.result,res=commands.map((m=>{let res="";return res=s<=1?game.i18n.localize("CoC7.CriticalSuccess"):s>=100?game.i18n.localize("CoC7.Fumble"):s<=m/5?game.i18n.localize("CoC7.ExtremeSuccess"):s<=m/2?game.i18n.localize("CoC7.HardSuccess"):s<=m?game.i18n.localize("CoC7.RegularSuccess"):s>=96&&m<50?game.i18n.localize("CoC7.Fumble"):game.i18n.localize("CoC7.Failure"),res+=" "+game.i18n.localize("CoC7.Value")+" "+m,res})).join(" / ");r.toMessage({speaker:ChatMessage.getSpeaker(),flavor:res})})):ui.notifications.error("Incorrect usage of command"),!1}})),CoC7Hooks.listen(),Hooks.once("socketlib.ready",(function(){game.CoC7socket=socketlib.registerSystem("CoC7"),game.CoC7socket.register("gmcreatemessageas",gmcreatemessageas),game.CoC7socket.register("gmtradeitemto",gmtradeitemto)})),Hooks.once("setup",(function(){const toLocalize=["spellProperties","bookType","talentType","occupationProperties","statusType"];for(const o of toLocalize){const localized=Object.entries(COC7[o]).map((e=>[e[0],game.i18n.localize(e[1])]));COC7[o]=localized.reduce(((obj,e)=>(obj[e[0]]=e[1],obj)),{})}let effectIndex=CONFIG.statusEffects.findIndex((t=>t.id===COC7.status.dead));-1!==effectIndex&&(CONFIG.statusEffects[effectIndex].icon="systems/CoC7/assets/icons/tombstone.svg"),effectIndex=CONFIG.statusEffects.findIndex((t=>t.id===COC7.status.unconscious)),-1!==effectIndex&&(CONFIG.statusEffects[effectIndex].icon="systems/CoC7/assets/icons/knocked-out-stars.svg"),CONFIG.statusEffects.unshift({id:COC7.status.tempoInsane,label:"CoC7.BoutOfMadnessName",icon:"systems/CoC7/assets/icons/hanging-spider.svg"},{id:COC7.status.indefInsane,label:"CoC7.InsanityName",icon:"systems/CoC7/assets/icons/tentacles-skull.svg"},{id:COC7.status.criticalWounds,label:"CoC7.CriticalWounds",icon:"systems/CoC7/assets/icons/arm-sling.svg"},{id:COC7.status.dying,label:"CoC7.Dying",icon:"systems/CoC7/assets/icons/heart-beats.svg"})})),Hooks.on("createActiveEffect",((data,options,userId)=>{if(game.userId===userId&&void 0!==data.flags.core&&void 0!==data.flags.core.statusId)switch(data.flags.core.statusId){case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:data.parent.setCondition(data.flags.core.statusId,{forceValue:!0});break;case COC7.status.tempoInsane:{const realTime=data.flags.CoC7?.realTime;let duration=null;!0===realTime?duration=data.duration?.rounds:!1===realTime&&(duration=data.duration?.seconds,isNaN(duration)||(duration=Math.floor(duration/3600))),data.parent.setCondition(COC7.status.tempoInsane,{forceValue:!0,realTime,duration})}}})),Hooks.on("deleteActiveEffect",((data,options,userId)=>{if(game.userId===userId&&void 0!==data.flags.core&&void 0!==data.flags.core.statusId)switch(data.flags.core.statusId){case COC7.status.tempoInsane:case COC7.status.indefInsane:case COC7.status.unconscious:case COC7.status.criticalWounds:case COC7.status.dying:case COC7.status.prone:case COC7.status.dead:data.parent.unsetCondition(data.flags.core.statusId,{forceValue:!0})}})),Hooks.on("changeSidebarTab",(directory=>{if(directory instanceof ItemDirectory){const item=game.items.find((i=>"__CoC7InternalItem__"===i.name));if(item){const itemElement=directory._element.find(`[data-document-id='${item.id}']`);itemElement&&(itemElement[0].style.display="none")}}})),Hooks.on("hotbarDrop",((bar,data,slot)=>CoC7Utilities.createMacro(bar,data,slot))),Hooks.on("renderChatLog",((app,html,data)=>CoC7Chat.chatListeners(app,html,data))),Hooks.on("updateChatMessage",((chatMessage,chatData,diff,speaker)=>CoC7Chat.onUpdateChatMessage(chatMessage,chatData,diff,speaker))),Hooks.on("ready",(async()=>{function _tableSettingsChanged(table,id){game.CoC7.tables[table]="none"===id?null:game.tables.get(id)}await Updater.checkForUpdate(),function(){const body=$("body");document.addEventListener("click",CoC7ContextMenu.closeAll),body.on("click","a.coc7-inline-check",CoC7Check._onClickInlineRoll),document.addEventListener("mousedown",_onLeftClick)}(),game.CoC7.skillList=await(game.packs.get("CoC7.skills")?.getDocuments()),game.socket.on("system.CoC7",(async data=>{CoC7SystemSocket.callSocket(data)}));const tableChoice={none:"SETTINGS.LetKeeperDecide"};for(const t of game.tables)tableChoice[t._id]=t.name;game.settings.register("CoC7","boutOfMadnessSummaryTable",{name:"SETTINGS.BoutOfMadnessSummaryTable",scope:"world",config:!0,default:"none",type:String,choices:tableChoice,onChange:id=>_tableSettingsChanged("boutOfMadness_Summary",id)}),game.settings.register("CoC7","boutOfMadnessRealTimeTable",{name:"SETTINGS.BoutOfMadnessRealTimeTable",scope:"world",config:!0,default:"none",type:String,choices:tableChoice,onChange:id=>_tableSettingsChanged("boutOfMadness_RealTime",id)}),game.CoC7.tables={boutOfMadness_Summary:"none"===game.settings.get("CoC7","boutOfMadnessSummaryTable")?null:game.tables.get(game.settings.get("CoC7","boutOfMadnessSummaryTable")),boutOfMadness_RealTime:"none"===game.settings.get("CoC7","boutOfMadnessRealTimeTable")?null:game.tables.get(game.settings.get("CoC7","boutOfMadnessRealTimeTable"))}})),Hooks.on("renderCoC7ChaseSheet",((app,html,data)=>CoC7ChaseSheet.setScroll(app,html,data))),Hooks.on("closeCoC7ChaseSheet",((app,html)=>CoC7ChaseSheet.onClose(app,html))),Hooks.on("closeActorSheet",(characterSheet=>characterSheet.onCloseSheet())),Hooks.on("renderCoC7CreatureSheet",((app,html,data)=>CoC7CreatureSheet.forceAuto(app,html,data))),Hooks.on("renderCoC7NPCSheet",((app,html,data)=>CoC7NPCSheet.forceAuto(app,html,data))),Hooks.on("chatMessage",CoC7Utilities.ParseChatEntry),Hooks.on("getSceneControlButtons",(()=>{})),Hooks.on("renderItemSheet",CoC7Parser.ParseSheetContent),Hooks.on("renderJournalPageSheet",CoC7Parser.ParseSheetContent),Hooks.on("renderActorSheet",CoC7Parser.ParseSheetContent),Hooks.on("renderActorSheet",CoC7CharacterSheet.renderSheet),Hooks.on("renderItemSheet",CoC7CharacterSheet.renderSheet),Hooks.on("getSceneControlButtons",CoC7Menu.getButtons),Hooks.on("renderSceneControls",CoC7Menu.renderControls),Hooks.on("dropCanvasData",CoC7Canvas.onDropSomething),Hooks.on("dropActorSheetData",(function(actor,sheet,data){if("Item"===data.type&&data.actorId){if(actor.data._id===data.actorId)return;let actorFrom=null;switch(actorFrom=data.sceneId&&data.tokenId?game.scenes.get(data.sceneId).tokens.get(data.tokenId).actor:game.actors.get(data.actorId),actor.data.type){case"character":case"npc":case"creature":if(!["chase"].includes(data.data.type))return;break;case"vehicle":return;case"container":if(!["book","item","spell","weapon"].includes(data.data.type))return}actorFrom&&actorFrom.deleteEmbeddedDocuments("Item",[data.data._id])}})),CONFIG.ui.settings=CoC7SettingsDirectory,CONFIG.ui.compendium=CoC7CompendiumDirectory,CONFIG.ui.actors=CoC7ActorDirectory})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsQ0FDeEMsR0FBSS9XLE1BQU1rTixLQUFLNDJCLE1BQVE1MkIsS0FBSzZKLFFBQzFCLE9BRUYsSUFBSTQvQyxVQUFZLEtBTWhCLE9BSkVBLFVBREV6cEQsS0FBS3dELFNBQVd4RCxLQUFLeUQsUUFDWDdPLEtBQUttUSxPQUFPalEsSUFBSWtMLEtBQUt3RCxTQUFTakUsT0FBT3pLLElBQUlrTCxLQUFLeUQsU0FBUzNRLE1BRXZEOEIsS0FBSzJILE9BQU96SCxJQUFJa0wsS0FBSzZKLFNBRTNCL1csTUFBTWtOLEtBQUtoQixNQUNqQixJQUFLLFlBQ0wsSUFBSyxNQUNMLElBQUssV0FDSCxJQUFLLENBQUMsU0FBU3pJLFNBQVN5SixLQUFLQSxLQUFLaEIsTUFDaEMsT0FFRixNQUNGLElBQUssVUFDSCxPQUNGLElBQUssWUFDSCxJQUFLLENBQUMsT0FBUSxPQUFRLFFBQVMsVUFBVXpJLFNBQVN5SixLQUFLQSxLQUFLaEIsTUFDMUQsT0FHRnlxRCxXQUNGQSxVQUFVMWdCLHdCQUF3QixPQUFRLENBQUMvb0MsS0FBS0EsS0FBSzQyQixLQUV6RCxDQUNGLElGZ2RBemdDLE9BQU9zSixHQUFHekssU0FBVzYvRSxzQkFDckIxK0UsT0FBT3NKLEdBQUd3bEQsV0FBYSt2Qix3QkFDdkI3K0UsT0FBT3NKLEdBQUdsRCxPQUFTNjRFLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvZGljZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jb2M3LWNvbnRlbnQtbGluay1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvaGVscGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3JvbGwtZGlhbG9nLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2NhcmRzL3JvbGwtY2FyZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jYXJkcy9jb21iaW5lZC1yb2xsLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2ludGVyYWN0aXZlLWNoYXQtY2FyZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jYXJkcy9kYW1hZ2UuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY2FyZHMvb3Bwb3NlZC1yb2xsLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2NhcmQtYWN0b3IuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY2FyZHMvc2FuLWNoZWNrLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3NhbmRhdGEtZGlhbG9nLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYzctY2hhdC1tZXNzYWdlLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGF0L2NvbmNoZWNrLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3NraWxsLXNlbGVjdGlvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvcG9pbnQtc2VsZWN0aW9uLWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jaGFyLXNlbGVjdGlvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvY2hhci1yb2xsLWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9za2lsbC1zcGVjLXNlbGVjdC1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvc2tpbGwtc3BlY2lhbGl6YXRpb24tc2VsZWN0LWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9za2lsbC12YWx1ZS1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY29tYmF0L21lbGVlLXJlc29sdXRpb24uanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NoYXQvY29tYmF0L21lbGVlLXRhcmdldC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9yYW5nZWNvbWJhdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jb21iYXQvbWVsZWUtaW5pdGlhdG9yLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvYWN0b3IuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvY29jNy1saW5rLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYzctcGFyc2VyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9pdGVtLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jaGVjay5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvdXRpbGl0aWVzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYy1pZC1lZGl0b3IuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYWN0aXZlLWVmZmVjdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY29udGV4dC1tZW51LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FjdG9ycy9zaGVldHMvbnBjLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL2NyZWF0dXJlLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NyZWF0ZS1teXRob3MtZW5jb3VudGVycy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYWN0b3JzL3NoZWV0cy9jaGFyYWN0ZXIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2NvbWJhdC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jb2MtaWQtYmF0Y2guanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3VwZGF0ZXIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvYWN0b3ItaW1wb3J0ZXItcmVnZXhwLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2FjdG9yLWltcG9ydGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zY3JpcHRzL2NvYzctZGlyZWN0b3J5LXBpY2tlci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kaG9sZWhvdXNlX2ltcG9ydGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2FjdG9yLWltcG9ydGVyLWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kcm9wLWNvYy1pZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc2hlZXRzL29jY3VwYXRpb24uanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvbWVudS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NldHRpbmdzLWRpcmVjdG9yeS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY29tcGVuZGl1bS1kaXJlY3RvcnkuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FjdG9yLWRpcmVjdG9yeS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc3BlbGwvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvYm9vay9kYXRhLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jb21tb24vY2hhdGNhcmRsaWIvc3JjL2NoYXRjYXJkbGliLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9jaGFzZS9wYXJ0aWNpcGFudC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvY2hhdC9jYXJkcy9jaGFzZS1vYnN0YWNsZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvY2hhc2UvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc2tpbGwvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYWN0b3JzL3ZlaGljbGUvZGF0YS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kZWNhZGVyLWRpZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9kZWNhZGVyLWRpZS1vdGhlci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvc2NyaXB0cy9nYW1lLXJ1bGVzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvYXJjaGV0eXBlLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9ib29rL3NoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL2NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvYXBwcy9jaGFzZS1wYXJ0aWNpcGFudC1pbXBvcnRlci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvY2hhc2Uvc2hlZXQuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NoZWV0cy9pdGVtLXNoZWV0VjIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NoZWV0cy9pdGVtLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zaGVldHMvY29jNy1qb3VybmFsLXNoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zaGVldHMvY29jNy1tYWNyby1jb25maWcuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NoZWV0cy9jb2M3LXBsYXlsaXN0LWNvbmZpZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvc2hlZXRzL2NvYzctcm9sbC10YWJsZS1jb25maWcuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NoZWV0cy9jb2M3LXNjZW5lLWNvbmZpZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaXRlbXMvc2hlZXRzL3NldHVwLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvc2tpbGwuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NwZWxsL3NoZWV0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvc3RhdHVzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9pdGVtcy9zaGVldHMvdGFsZW50LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hY3RvcnMvc2hlZXRzL3ZlaGljbGUuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2l0ZW1zL3NoZWV0cy93ZWFwb24tc2hlZXQuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvY29tcGVuZGl1bS1maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvY29jLWlkLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9pbml0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zY3JpcHRzL2NvbmZpZ3VyZS1kb2N1bWVudHMuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvbG9hZC10ZW1wbGF0ZXMuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvcmVnaXN0ZXItc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3NjcmlwdHMvcmVnaXN0ZXItc2hlZXRzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9zY3JpcHRzL2hhbmRsZWJhcnMtaGVscGVyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2RlY2FkZXItZHNuLWZhY2VzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL3Rvb2x0aXBzLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9hcHBzL2NvYzctdG91ci5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvdG91cnMvZW5hYmxlLXZhcmlhbnQtcnVsZXMtZW4uanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL3RvdXJzL2VuYWJsZS12YXJpYW50LXJ1bGVzLWZyLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9yZWFkeS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvc2NyaXB0cy9yZWdpc3Rlci10b3Vycy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2hvb2tzL3JlbmRlci1hY3Rvci1zaGVldC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvcmVuZGVyLWNoYXQtbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvcmVuZGVyLWRpYWxvZy5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvcmVuZGVyLWl0ZW0tc2hlZXQuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2hvb2tzL3JlbmRlci1wYXVzZS5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvZGljZS1zby1uaWNlLXJlYWR5LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9kaWNlLXNvLW5pY2Utcm9sbC1zdGFydC5qcyIsIndlYnBhY2s6Ly9mdnR0LWNvYzcvLi9tb2R1bGUvaG9va3MvcmVuZGVyLXBsYXllci1saXN0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9yZW5kZXItc2V0dGluZ3MtY29uZmlnLmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZnZ0dC1jb2M3Ly4vbW9kdWxlL2FwcHMvY29jNy1zeXN0ZW0tc29ja2V0LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9jb2M3LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9kaWNlYm90LmpzIiwid2VicGFjazovL2Z2dHQtY29jNy8uL21vZHVsZS9ob29rcy9kcm9wLWFjdG9yLXNoZWV0LWRhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTmFtZXNwYWNlIENPQzcgQ29uZmlndXJhdGlvbiBWYWx1ZXNcbmV4cG9ydCBjb25zdCBDT0M3ID0ge31cblxuLy8gQ3VzdG9tIGNoYXRNZXNzYWdlXG4vLyBDT05GSUcuQ2hhdE1lc3NhZ2UudGVtcGxhdGUgPSAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L2NoYXQtbWVzc2FnZS5odG1sJztcblxuLyoqXG4gKiBUaGUgc2V0IG9mIEVyYXMgdXNlZCB3aXRoaW4gdGhlIHN5c3RlbVxuICogQHR5cGUge09iamVjdH1cbiAqL1xuQ09DNy5lcmFzID0ge1xuICBzdGFuZGFyZDogJ0NvQzcuRXJhMTkyMCcsXG4gIG1vZGVybjogJ0NvQzcuRXJhTW9kZXJuJyxcbiAgbW9kZXJuUHVscDogJ0NvQzcuRXJhTW9kZXJuUHVscCcsXG4gIHB1bHA6ICdDb0M3LkVyYVB1bHAnLFxuICBkb3duRGFya2VyVHJhaWxzOiAnQ29DNy5FcmFEb3duRGFya2VyVHJhaWxzJyxcbiAgZG93bkRhcmtlclRyYWlsc1B1bHA6ICdDb0M3LkVyYURvd25EYXJrZXJUcmFpbHNQdWxwJyxcbiAgZGFya0FnZXM6ICdDb0M3LkVyYURhcmtBZ2VzJyxcbiAgZGFya0FnZXNQdWxwOiAnQ29DNy5FcmFEYXJrQWdlc1B1bHAnLFxuICAvLyBSZWdlbmN5IEN0aHVsaHVcbiAgLy8gUmVnZW5jeSBDdGh1bGh1IFB1bHBcbiAgLy8gUmVpZ24gb2YgVGVycm9yXG4gIGdhc0xpZ2h0OiAnQ29DNy5FcmFHYXNMaWdodCcsXG4gIGludmljdHVzOiAnQ29DNy5FcmFJbnZpY3R1cydcbn1cblxuQ09DNy5tb25ldGFyeUZvcm1hdEtleXMgPSB7XG4gIGRlY2ltYWxMZWZ0OiAnZGVjaW1hbExlZnQnLFxuICBkZWNpbWFsUmlnaHQ6ICdkZWNpbWFsUmlnaHQnLFxuICBpbnRlZ2VyTGVmdDogJ2ludGVnZXJMZWZ0JyxcbiAgaW50ZWdlclJpZ2h0OiAnaW50ZWdlclJpZ2h0JyxcbiAgbHNkOiAnbHNkJyxcbiAgcm9tYW46ICdyb21hbidcbn1cblxuQ09DNy5tb25ldGFyeUZvcm1hdHMgPSB7XG4gIGRlY2ltYWxMZWZ0OiAnQ29DNy5Nb25ldGFyeUZvcm1hdERlY2ltYWxMZWZ0JyxcbiAgZGVjaW1hbFJpZ2h0OiAnQ29DNy5Nb25ldGFyeUZvcm1hdERlY2ltYWxSaWdodCcsXG4gIGludGVnZXJMZWZ0OiAnQ29DNy5Nb25ldGFyeUZvcm1hdEludGVnZXJMZWZ0JyxcbiAgaW50ZWdlclJpZ2h0OiAnQ29DNy5Nb25ldGFyeUZvcm1hdEludGVnZXJSaWdodCcsXG4gIGxzZDogJ0NvQzcuTW9uZXRhcnlGb3JtYXRMc2QnLFxuICByb21hbjogJ0NvQzcuTW9uZXRhcnlGb3JtYXRSb21hbidcbn1cblxuQ09DNy5tb25ldGFyeVR5cGVLZXlzID0ge1xuICBub25lOiAnbm9uZScsXG4gIGFzc2VzOiAnYXNzZXMnLFxuICBzZXN0ZXJ0aWk6ICdzZXN0ZXJ0aWknLFxuICBxdWluYXJpaTogJ3F1aW5hcmlpJyxcbiAgZGVuYXJpaTogJ2RlbmFyaWknLFxuICBkOiAnZCcsXG4gIHM6ICdzJyxcbiAgdmFsdWU6ICd2YWx1ZScsXG4gIG11bHRpcGxpZXI6ICdtdWx0aXBsaWVyJ1xufVxuXG5DT0M3Lm1vbmV0YXJ5VHlwZXMgPSB7XG4gIG5vbmU6IHtcbiAgICBuYW1lOiAnQ29DNy5Nb25ldGFyeVR5cGVOb25lJyxcbiAgICBmaWx0ZXI6IFtdXG4gIH0sXG4gIGFzc2VzOiB7XG4gICAgbmFtZTogJ0NvQzcuTW9uZXRhcnlUeXBlQXNzZXMnLFxuICAgIGZpbHRlcjogWydyb21hbiddXG4gIH0sXG4gIHNlc3RlcnRpaToge1xuICAgIG5hbWU6ICdDb0M3Lk1vbmV0YXJ5VHlwZVNlc3RlcnRpaScsXG4gICAgZmlsdGVyOiBbJ3JvbWFuJ11cbiAgfSxcbiAgcXVpbmFyaWk6IHtcbiAgICBuYW1lOiAnQ29DNy5Nb25ldGFyeVR5cGVRdWluYXJpaScsXG4gICAgZmlsdGVyOiBbJ3JvbWFuJ11cbiAgfSxcbiAgZGVuYXJpaToge1xuICAgIG5hbWU6ICdDb0M3Lk1vbmV0YXJ5VHlwZURlbmFyaWknLFxuICAgIGZpbHRlcjogWydyb21hbiddXG4gIH0sXG4gIGQ6IHtcbiAgICBuYW1lOiAnQ29DNy5Nb25ldGFyeVR5cGVEZW5pZXJzJyxcbiAgICBmaWx0ZXI6IFsnbHNkJ11cbiAgfSxcbiAgczoge1xuICAgIG5hbWU6ICdDb0M3Lk1vbmV0YXJ5VHlwZVNvdXMnLFxuICAgIGZpbHRlcjogWydsc2QnXVxuICB9LFxuICB2YWx1ZToge1xuICAgIG5hbWU6ICdDb0M3Lk1vbmV0YXJ5VHlwZU9uZScsXG4gICAgZmlsdGVyOiBbXVxuICB9LFxuICBtdWx0aXBsaWVyOiB7XG4gICAgbmFtZTogJ0NvQzcuTW9uZXRhcnlUeXBlQ3JlZGl0UmF0aW5nJyxcbiAgICBmaWx0ZXI6IFtdXG4gIH1cbn1cblxuQ09DNy5jaGFyYWN0ZXJpc3RpY3MgPSB7XG4gIHN0cjogJ0NvQzcuQ2hhcmFjU3RyJyxcbiAgY29uOiAnQ29DNy5DaGFyYWNDb24nLFxuICBzaXo6ICdDb0M3LkNoYXJhY1NpeicsXG4gIGRleDogJ0NvQzcuQ2hhcmFjRGV4JyxcbiAgYXBwOiAnQ29DNy5DaGFyYWNBcHAnLFxuICBpbnQ6ICdDb0M3LkNoYXJhY0ludCcsXG4gIHBvdzogJ0NvQzcuQ2hhcmFjUG93JyxcbiAgZWR1OiAnQ29DNy5DaGFyYWNFZHUnXG59XG5cbi8qKlxuICogVGhlIHNldCBvZiBTa2lsbHMgYXR0cmlidXRlcyB1c2VkIHdpdGhpbiB0aGUgc3lzdGVtXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5DT0M3LnNraWxsUHJvcGVydGllcyA9IHtcbiAgbm9hZGp1c3RtZW50czogJ0NvQzcuU2tpbGxOb0FkanVzdG1lbnRzJyxcbiAgbm94cGdhaW46ICdDb0M3LlNraWxsTm9YcEdhaW4nLFxuICBzcGVjaWFsOiAnQ29DNy5Ta2lsbFNwZWNpYWwnLFxuICByYXJpdHk6ICdDb0M3LlNraWxsUmFyaXR5JyxcbiAgcHVzaDogJ0NvQzcuU2tpbGxQdXNoJyxcbiAgY29tYmF0OiAnQ29DNy5Ta2lsbENvbWJhdCcsXG4gIGZpZ2h0aW5nOiAnQ29DNy5Ta2lsbEZpZ2h0aW5nJyxcbiAgZmlyZWFybTogJ0NvQzcuU2tpbGxGaXJlYXJtJyxcbiAgcmVxdWlyZXNuYW1lOiAnQ29DNy5Ta2lsbFJlcXVpcmVzTmFtZScsXG4gIGtlZXBiYXNldmFsdWU6ICdDb0M3LlNraWxsS2VlcEJhc2VWYWx1ZScsXG4gIHBpY2tuYW1lb25seTogJ0NvQzcuU2tpbGxQaWNrTmFtZU9ubHknLFxuICBvbmx5b25lOiAnQ29DNy5Ta2lsbFNwZWNpYWxpemF0aW9uSXNVbmlxdWUnXG59XG5cbkNPQzcud2VhcG9uUHJvcGVydGllcyA9IHtcbiAgbWVsZWU6ICdDb0M3LldlYXBvbi5Qcm9wZXJ0eS5NZWxlZScsXG4gIHJuZ2Q6ICdDb0M3LldlYXBvblJuZ2QnLFxuICBtbnZyOiAnQ29DNy5XZWFwb25Qcm9wZXJ5TWFuZXV2ZXInLFxuICB0aHJvd246ICdDb0M3LldlYXBvbi5Qcm9wZXJ0eS5UaHJvd24nLFxuICBzaG90Z3VuOiAnQ29DNy5XZWFwb24uUHJvcGVydHkuU2hvdGd1bicsXG4gIGRicmw6ICdDb0M3LldlYXBvbkRicmwnLFxuICBpbXBsOiAnQ29DNy5XZWFwb25JbXBsJyxcbiAgYnJzdDogJ0NvQzcuV2VhcG9uQnJzdCcsXG4gIGF1dG86ICdDb0M3LldlYXBvbkF1dG8nLFxuICBhaGRiOiAnQ29DNy5XZWFwb25BaGRiJyxcbiAgYWRkYjogJ0NvQzcuV2VhcG9uQWRkYicsXG4gIHNsbnQ6ICdDb0M3LldlYXBvblNsbnQnLFxuICBzcGNsOiAnQ29DNy5XZWFwb25TcGNsJyxcbiAgbW9udDogJ0NvQzcuV2VhcG9uTW9udCcsXG4gIGJsc3Q6ICdDb0M3LldlYXBvbkJsc3QnLFxuICBzdHVuOiAnQ29DNy5XZWFwb25TdHVuJyxcbiAgcmFyZTogJ0NvQzcuV2VhcG9uUmFyZScsXG4gIGJ1cm46ICdDb0M3LldlYXBvbi5Qcm9wZXJ0eS5CdXJuJ1xufVxuXG5DT0M3LnNwZWxsUHJvcGVydGllcyA9IHtcbiAgY2FsbDogJ0NvQzcuQ2FsbFNwZWxsJyxcbiAgZGlzbWlzczogJ0NvQzcuRGlzbWlzc1NwZWxsJyxcbiAgY29udGFjdDogJ0NvQzcuQ29udGFjdFNwZWxsJyxcbiAgc3VtbW9uOiAnQ29DNy5TdW1tb25TcGVsbCcsXG4gIGJpbmQ6ICdDb0M3LkJpbmRTcGVsbCcsXG4gIGVuY2hhbnRtZW50OiAnQ29DNy5FbmNoYW50bWVudFNwZWxsJyxcbiAgZ2F0ZTogJ0NvQzcuR2F0ZVNwZWxsJyxcbiAgY29tYmF0OiAnQ29DNy5Db21iYXRTcGVsbCdcbn1cblxuQ09DNy5ib29rVHlwZSA9IHtcbiAgbXl0aG9zOiAnQ29DNy5NeXRob3NCb29rJyxcbiAgb2NjdWx0OiAnQ29DNy5PY2N1bHRCb29rJyxcbiAgb3RoZXI6ICdDb0M3Lk90aGVyJ1xufVxuXG5DT0M3LnRhbGVudFR5cGUgPSB7XG4gIHBoeXNpY2FsOiAnQ29DNy5QaHlzaWNhbFRhbGVudCcsXG4gIG1lbnRhbDogJ0NvQzcuTWVudGFsVGFsZW50JyxcbiAgY29tYmF0OiAnQ29DNy5Db21iYXRUYWxlbnQnLFxuICBtaXNjZWxsYW5lb3VzOiAnQ29DNy5NaXNjZWxsYW5lb3VzVGFsZW50JyxcbiAgYmFzaWM6ICdDb0M3LkJhc2ljVGFsZW50JyxcbiAgaW5zYW5lOiAnQ29DNy5JbnNhbmVUYWxlbnQnLFxuICBvdGhlcjogJ0NvQzcuT3RoZXJUYWxlbnQnXG59XG5cbkNPQzcuc3RhdHVzVHlwZSA9IHtcbiAgbWFuaWE6ICdDb0M3Lk1hbmlhJyxcbiAgcGhvYmlhOiAnQ29DNy5QaG9iaWEnXG59XG5cbkNPQzcub2NjdXBhdGlvblByb3BlcnRpZXMgPSB7XG4gIGNsYXNzaWM6ICdDb0M3LkNsYXNzaWMnLFxuICBsb3ZlY3JhZnRpYW46ICdDb0M3LkxvdmVjcmFmdGlhbicsXG4gIG1vZGVybjogJ0NvQzcuTW9kZXJuJyxcbiAgcHVscDogJ0NvQzcuUHVscCdcbn1cblxuQ09DNy5mb3JtdWxhID0ge31cblxuQ09DNy5mb3JtdWxhLmFjdG9yID0ge1xuICAnQFNUUic6ICd0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3Muc3RyLnZhbHVlJyxcbiAgJ0BDT04nOiAndGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmNvbi52YWx1ZScsXG4gICdAU0laJzogJ3RoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5zaXoudmFsdWUnLFxuICAnQERFWCc6ICd0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuZGV4LnZhbHVlJyxcbiAgJ0BBUFAnOiAndGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmFwcC52YWx1ZScsXG4gICdASU5UJzogJ3RoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5pbnQudmFsdWUnLFxuICAnQFBPVyc6ICd0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MucG93LnZhbHVlJyxcbiAgJ0BFRFUnOiAndGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmVkdS52YWx1ZSdcbn1cblxuQ09DNy5mb3JtdWxhLmFjdG9yc2hlZXQgPSB7XG4gICdAU1RSJzogJ3RoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5zdHIudmFsdWUnLFxuICAnQENPTic6ICd0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuY29uLnZhbHVlJyxcbiAgJ0BTSVonOiAndGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZScsXG4gICdAREVYJzogJ3RoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUnLFxuICAnQEFQUCc6ICd0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuYXBwLnZhbHVlJyxcbiAgJ0BJTlQnOiAndGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmludC52YWx1ZScsXG4gICdAUE9XJzogJ3RoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUnLFxuICAnQEVEVSc6ICd0aGlzLmFjdG9yLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuZWR1LnZhbHVlJ1xufVxuXG5DT0M3LnN0YXR1cyA9IHtcbiAgdGVtcG9JbnNhbmU6ICd0ZW1wb0luc2FuZScsXG4gIGluZGVmSW5zYW5lOiAnaW5kZWZJbnNhbmUnLFxuICB1bmNvbnNjaW91czogJ3VuY29uc2Npb3VzJyxcbiAgY3JpdGljYWxXb3VuZHM6ICdjcml0aWNhbFdvdW5kcycsXG4gIGR5aW5nOiAnZHlpbmcnLFxuICBwcm9uZTogJ3Byb25lJyxcbiAgZGVhZDogJ2RlYWQnXG59XG5cbkNPQzcubmV3Qm9va05hbWUgPSAnQ29DNy5OZXdCb29rTmFtZSdcbkNPQzcubmV3U2tpbGxOYW1lID0gJ0NvQzcuTmV3U2tpbGxOYW1lJ1xuQ09DNy5uZXdTcGVsbE5hbWUgPSAnQ29DNy5OZXdTcGVsbE5hbWUnXG5DT0M3Lm5ld0l0ZW1OYW1lID0gJ0NvQzcuTmV3SXRlbU5hbWUnXG5DT0M3Lm5ld1dlYXBvbk5hbWUgPSAnQ29DNy5OZXdXZWFwb25OYW1lJ1xuXG5DT0M3LmNyZWF0dXJlRmlnaHRpbmdTa2lsbCA9ICdDb0M3LmNyZWF0dXJlRmlnaHRpbmdTa2lsbCdcblxuQ09DNy5maWdodGluZ1NwZWNpYWxpemF0aW9uTmFtZSA9ICdDb0M3LkZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lJ1xuQ09DNy5maXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lID0gJ0NvQzcuRmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZSdcblxuQ09DNy5jb21iYXRDYXJkcyA9IHtcbiAgZmlnaHRCYWNrOiAnQ29DNy5GaWdodEJhY2snLFxuICBkb2RnZTogJ0NvQzcuRG9kZ2UnLFxuICBtYW5ldXZlcjogJ0NvQzcuTWFuZXV2ZXInLFxuICBub1Jlc3BvbnNlOiAnQ29DNy5Ob1Jlc3BvbnNlJ1xufVxuIiwiLyogZ2xvYmFsIENoYXRNZXNzYWdlLCBDT05GSUcsIGdhbWUsIFJvbGwgKi9cblxuZXhwb3J0IGNsYXNzIENvQzdEaWNlIHtcbiAgc3RhdGljIGFzeW5jIHJvbGwgKG1vZGlmID0gMCwgcm9sbE1vZGUgPSBudWxsLCBoaWRlRGljZSA9IGZhbHNlKSB7XG4gICAgbGV0IGFsdGVybmF0aXZlRGljZSA9ICcnXG4gICAgaWYgKGdhbWUubW9kdWxlcy5nZXQoJ2RpY2Utc28tbmljZScpPy5hY3RpdmUpIHtcbiAgICAgIGlmIChtb2RpZiA8IDApIHtcbiAgICAgICAgYWx0ZXJuYXRpdmVEaWNlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndGVuRGllUGVuYWx0eScpXG4gICAgICB9IGVsc2UgaWYgKG1vZGlmID4gMCkge1xuICAgICAgICBhbHRlcm5hdGl2ZURpY2UgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0ZW5EaWVCb251cycpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCByb2xsXG4gICAgaWYgKFxuICAgICAgZ2FtZS5Db0M3LmRldi5kaWNlLmFsd2F5c0NyaXQgJiZcbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2hpZGRlbmRldm1lbnUnKVxuICAgICkge1xuICAgICAgcm9sbCA9IFJvbGwuZnJvbURhdGEoQ29DN0RpY2UuY3JpdDAxKVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzRnVtYmxlICYmXG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdoaWRkZW5kZXZtZW51JylcbiAgICApIHtcbiAgICAgIHJvbGwgPSBSb2xsLmZyb21EYXRhKENvQzdEaWNlLmZ1bWJsZTk5KVxuICAgIH0gZWxzZSB7XG4gICAgICByb2xsID0gYXdhaXQgbmV3IFJvbGwoXG4gICAgICAgICcxZHQnICtcbiAgICAgICAgICAoYWx0ZXJuYXRpdmVEaWNlICE9PSAnJ1xuICAgICAgICAgICAgPyAnKzFkb1snICsgYWx0ZXJuYXRpdmVEaWNlICsgJ10nXG4gICAgICAgICAgICA6ICcrMWR0J1xuICAgICAgICAgICkucmVwZWF0KE1hdGguYWJzKG1vZGlmKSkgK1xuICAgICAgICAgICcrMWQxMCdcbiAgICAgICkucm9sbCh7IGFzeW5jOiB0cnVlIH0pXG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgdW5pdDoge1xuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgcmVzdWx0czogW11cbiAgICAgIH0sXG4gICAgICB0ZW5zOiB7XG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgfSxcbiAgICAgIHRvdGFsOiAwLFxuICAgICAgcm9sbFxuICAgIH1cblxuICAgIGlmIChyb2xsTW9kZSkgcmVzdWx0LnJvbGxNb2RlID0gcm9sbE1vZGVcbiAgICBpZiAoaGlkZURpY2UpIHJlc3VsdC5oaWRlRGljZSA9IGhpZGVEaWNlXG4gICAgZm9yIChjb25zdCBkIG9mIHJvbGwuZGljZSkge1xuICAgICAgaWYgKGQgaW5zdGFuY2VvZiBDT05GSUcuRGljZS50ZXJtcy50KSB7XG4gICAgICAgIHJlc3VsdC50ZW5zLnJlc3VsdHMucHVzaChkLnRvdGFsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LnVuaXQudG90YWwgPSBkLnRvdGFsID09PSAxMCA/IDAgOiBkLnRvdGFsXG4gICAgICAgIHJlc3VsdC51bml0LnJlc3VsdHMucHVzaChyZXN1bHQudW5pdC50b3RhbClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1vZGlmIDwgMCkge1xuICAgICAgcmVzdWx0LnRlbnMudG90YWwgPVxuICAgICAgICByZXN1bHQudW5pdC50b3RhbCA9PT0gMCAmJiByZXN1bHQudGVucy5yZXN1bHRzLmluY2x1ZGVzKDApXG4gICAgICAgICAgPyAxMDBcbiAgICAgICAgICA6IE1hdGgubWF4KC4uLnJlc3VsdC50ZW5zLnJlc3VsdHMpXG4gICAgfSBlbHNlIGlmIChyZXN1bHQudW5pdC50b3RhbCA9PT0gMCkge1xuICAgICAgY29uc3QgZGljZSA9IHJlc3VsdC50ZW5zLnJlc3VsdHMuZmlsdGVyKHQgPT4gdCA+IDApXG4gICAgICByZXN1bHQudGVucy50b3RhbCA9IGRpY2UubGVuZ3RoID09PSAwID8gMTAwIDogTWF0aC5taW4oLi4uZGljZSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnRlbnMudG90YWwgPSBNYXRoLm1pbiguLi5yZXN1bHQudGVucy5yZXN1bHRzKVxuICAgIH1cbiAgICByZXN1bHQudG90YWwgPSByZXN1bHQudW5pdC50b3RhbCArIHJlc3VsdC50ZW5zLnRvdGFsXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHNob3dSb2xsRGljZTNkIChyb2xsKSB7XG4gICAgaWYgKGdhbWUubW9kdWxlcy5nZXQoJ2RpY2Utc28tbmljZScpPy5hY3RpdmUpIHtcbiAgICAgIGNvbnN0IHN5bmNEaWNlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3luY0RpY2UzZCcpXG5cbiAgICAgIGNvbnN0IGNoYXREYXRhID0ge1xuICAgICAgICB3aGlzcGVyOiBudWxsLFxuICAgICAgICBibGluZDogZmFsc2VcbiAgICAgIH1cbiAgICAgIENoYXRNZXNzYWdlLmFwcGx5Um9sbE1vZGUoY2hhdERhdGEsIGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJykpXG5cbiAgICAgIGF3YWl0IGdhbWUuZGljZTNkLnNob3dGb3JSb2xsKFxuICAgICAgICByb2xsLFxuICAgICAgICBnYW1lLnVzZXIsXG4gICAgICAgIHN5bmNEaWNlLFxuICAgICAgICBjaGF0RGF0YS53aGlzcGVyLFxuICAgICAgICBjaGF0RGF0YS5ibGluZFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjb21iaW5lZFJvbGwgKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zLnBvb2wgPSBvcHRpb25zLnBvb2wgPz8ge31cbiAgICBvcHRpb25zLnBvb2xbJzAnXSA9IGZhbHNlXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMucG9vbCkubWFwKHYgPT4gcGFyc2VJbnQodiwgMTApKVxuICAgIGxldCBwZW5hbHR5RGljZSA9IE1hdGguYWJzKE1hdGgubWluKDAsIE1hdGgubWluKC4uLmtleXMpKSlcbiAgICBsZXQgYm9udXNEaWNlID0gTWF0aC5tYXgoMCwgTWF0aC5tYXgoLi4ua2V5cykpXG4gICAgY29uc3QgaGFzRFNOID0gZ2FtZS5tb2R1bGVzLmdldCgnZGljZS1zby1uaWNlJyk/LmFjdGl2ZVxuXG4gICAgY29uc3QgcG9vbCA9IFtdXG4gICAgcG9vbC5wdXNoKCcxZHQrMWQxMCcpXG5cbiAgICBpZiAocGVuYWx0eURpY2UgPiAwKSB7XG4gICAgICBwb29sLnB1c2goXG4gICAgICAgIChoYXNEU05cbiAgICAgICAgICA/ICcrMWRvWycgKyBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0ZW5EaWVQZW5hbHR5JykgKyAnXSdcbiAgICAgICAgICA6ICcxZHQnXG4gICAgICAgICkucmVwZWF0KE1hdGguYWJzKHBlbmFsdHlEaWNlKSlcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKGJvbnVzRGljZSA+IDApIHtcbiAgICAgIHBvb2wucHVzaChcbiAgICAgICAgKGhhc0RTTlxuICAgICAgICAgID8gJysxZG9bJyArIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3RlbkRpZUJvbnVzJykgKyAnXSdcbiAgICAgICAgICA6ICcxZHQnXG4gICAgICAgICkucmVwZWF0KE1hdGguYWJzKGJvbnVzRGljZSkpXG4gICAgICApXG4gICAgfVxuICAgIGNvbnN0IHJvbGwgPSBhd2FpdCBuZXcgUm9sbChwb29sLmpvaW4oJycpKS5yb2xsKHsgYXN5bmM6IHRydWUgfSlcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBncm91cHM6IHtcbiAgICAgICAgYmFzZURpZTogMCxcbiAgICAgICAgcGVuYWx0eURpY2U6IFtdLFxuICAgICAgICBib251c0RpY2U6IFtdXG4gICAgICB9LFxuICAgICAgdW5pdDogMCxcbiAgICAgIHJvbGxcbiAgICB9XG4gICAgbGV0IGJhc2VTZXQgPSBmYWxzZVxuICAgIGZvciAoY29uc3QgZCBvZiByb2xsLmRpY2UpIHtcbiAgICAgIGlmIChkIGluc3RhbmNlb2YgQ09ORklHLkRpY2UudGVybXMudCkge1xuICAgICAgICBpZiAoIWJhc2VTZXQpIHtcbiAgICAgICAgICByZXN1bHQuZ3JvdXBzLmJhc2VEaWUgPSBkLnRvdGFsXG4gICAgICAgICAgYmFzZVNldCA9IHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChwZW5hbHR5RGljZSA+IDApIHtcbiAgICAgICAgICByZXN1bHQuZ3JvdXBzLnBlbmFsdHlEaWNlLnB1c2goZC50b3RhbClcbiAgICAgICAgICBwZW5hbHR5RGljZS0tXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0Lmdyb3Vwcy5ib251c0RpY2UucHVzaChkLnRvdGFsKVxuICAgICAgICAgIGJvbnVzRGljZS0tXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC51bml0ID0gZC50b3RhbCA9PT0gMTAgPyAwIDogZC50b3RhbFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG91dHB1dCA9IHt9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zLnBvb2wpIHtcbiAgICAgIG91dHB1dFtrZXldID0ge1xuICAgICAgICB1bml0OiB7XG4gICAgICAgICAgdG90YWw6IHJlc3VsdC51bml0LFxuICAgICAgICAgIHJlc3VsdHM6IFtyZXN1bHQudW5pdF1cbiAgICAgICAgfSxcbiAgICAgICAgdGVuczoge1xuICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICByb2xsXG4gICAgICB9XG4gICAgICBjb25zdCBtb2RpZiA9IHBhcnNlSW50KGtleSwgMTApXG4gICAgICBsZXQgbW9kaWZpZXIgPSBtb2RpZlxuICAgICAgb3V0cHV0W2tleV0udGVucy5yZXN1bHRzLnB1c2gocmVzdWx0Lmdyb3Vwcy5iYXNlRGllKVxuICAgICAgZm9yIChjb25zdCBvZmZzZXQgPSBNYXRoLmFicyhtb2RpZmllcik7IG1vZGlmaWVyIDwgMDsgbW9kaWZpZXIrKykge1xuICAgICAgICBvdXRwdXRba2V5XS50ZW5zLnJlc3VsdHMucHVzaChcbiAgICAgICAgICByZXN1bHQuZ3JvdXBzLnBlbmFsdHlEaWNlW21vZGlmaWVyICsgb2Zmc2V0XVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IG9mZnNldCA9IG1vZGlmaWVyOyBtb2RpZmllciA+IDA7IG1vZGlmaWVyLS0pIHtcbiAgICAgICAgb3V0cHV0W2tleV0udGVucy5yZXN1bHRzLnB1c2goXG4gICAgICAgICAgcmVzdWx0Lmdyb3Vwcy5ib251c0RpY2VbTWF0aC5hYnMobW9kaWZpZXIgLSBvZmZzZXQpXVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAobW9kaWYgPCAwKSB7XG4gICAgICAgIG91dHB1dFtrZXldLnRlbnMudG90YWwgPVxuICAgICAgICAgIG91dHB1dFtrZXldLnVuaXQudG90YWwgPT09IDAgJiYgb3V0cHV0W2tleV0udGVucy5yZXN1bHRzLmluY2x1ZGVzKDApXG4gICAgICAgICAgICA/IDEwMFxuICAgICAgICAgICAgOiBNYXRoLm1heCguLi5vdXRwdXRba2V5XS50ZW5zLnJlc3VsdHMpXG4gICAgICB9IGVsc2UgaWYgKG91dHB1dFtrZXldLnVuaXQudG90YWwgPT09IDApIHtcbiAgICAgICAgY29uc3QgZGljZSA9IG91dHB1dFtrZXldLnRlbnMucmVzdWx0cy5maWx0ZXIodCA9PiB0ID4gMClcbiAgICAgICAgb3V0cHV0W2tleV0udGVucy50b3RhbCA9IGRpY2UubGVuZ3RoID09PSAwID8gMTAwIDogTWF0aC5taW4oLi4uZGljZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dFtrZXldLnRlbnMudG90YWwgPSBNYXRoLm1pbiguLi5vdXRwdXRba2V5XS50ZW5zLnJlc3VsdHMpXG4gICAgICB9XG4gICAgICBvdXRwdXRba2V5XS50b3RhbCA9IG91dHB1dFtrZXldLnVuaXQudG90YWwgKyBvdXRwdXRba2V5XS50ZW5zLnRvdGFsXG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRcbiAgfVxuXG4gIC8vIFByZWRldGVybWluZWQgdmFsdWUgb2YgZGljZSwgdXNlZCBvbmx5IGZvciBERVYgYW5kIHRlc3QgcHVycG9zZXNcbiAgc3RhdGljIGZ1bWJsZTk5ID0ge1xuICAgIGNsYXNzOiAnUm9sbCcsXG4gICAgb3B0aW9uczoge30sXG4gICAgZGljZTogW10sXG4gICAgZm9ybXVsYTogJzFkdCArIDFkMTAnLFxuICAgIHRlcm1zOiBbXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiAnQ29DN0RlY2FkZXJEaWUnLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgZXZhbHVhdGVkOiB0cnVlLFxuICAgICAgICBudW1iZXI6IDEsXG4gICAgICAgIGZhY2VzOiAxMCxcbiAgICAgICAgbW9kaWZpZXJzOiBbXSxcbiAgICAgICAgcmVzdWx0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdDogOSxcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY2xhc3M6ICdPcGVyYXRvclRlcm0nLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgZXZhbHVhdGVkOiB0cnVlLFxuICAgICAgICBvcGVyYXRvcjogJysnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjbGFzczogJ0RpZScsXG4gICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICBldmFsdWF0ZWQ6IHRydWUsXG4gICAgICAgIG51bWJlcjogMSxcbiAgICAgICAgZmFjZXM6IDEwLFxuICAgICAgICBtb2RpZmllcnM6IFtdLFxuICAgICAgICByZXN1bHRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0OiA5LFxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXSxcbiAgICB0b3RhbDogOTksXG4gICAgZXZhbHVhdGVkOiB0cnVlXG4gIH1cblxuICBzdGF0aWMgY3JpdDAxID0ge1xuICAgIGNsYXNzOiAnUm9sbCcsXG4gICAgb3B0aW9uczoge30sXG4gICAgZGljZTogW10sXG4gICAgZm9ybXVsYTogJzFkdCArIDFkMTAnLFxuICAgIHRlcm1zOiBbXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiAnQ29DN0RlY2FkZXJEaWUnLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgZXZhbHVhdGVkOiB0cnVlLFxuICAgICAgICBudW1iZXI6IDEsXG4gICAgICAgIGZhY2VzOiAxMCxcbiAgICAgICAgbW9kaWZpZXJzOiBbXSxcbiAgICAgICAgcmVzdWx0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdDogMTAsXG4gICAgICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiAnT3BlcmF0b3JUZXJtJyxcbiAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgIGV2YWx1YXRlZDogdHJ1ZSxcbiAgICAgICAgb3BlcmF0b3I6ICcrJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY2xhc3M6ICdEaWUnLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgZXZhbHVhdGVkOiB0cnVlLFxuICAgICAgICBudW1iZXI6IDEsXG4gICAgICAgIGZhY2VzOiAxMCxcbiAgICAgICAgbW9kaWZpZXJzOiBbXSxcbiAgICAgICAgcmVzdWx0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdDogMSxcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIF0sXG4gICAgdG90YWw6IDEsXG4gICAgZXZhbHVhdGVkOiB0cnVlXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBjYW52YXMsIENPTlNULCBGb3JtQXBwbGljYXRpb24sIGdhbWUsIG1lcmdlT2JqZWN0LCB1aSAqL1xuaW1wb3J0IHsgQ29DQWN0b3IgfSBmcm9tICcuLi9hY3RvcnMvYWN0b3IuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi9jb2M3LWxpbmsuanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0NvbnRlbnRMaW5rRGlhbG9nIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBpZDogJ2xpbmstY3JlYXRpb24nLFxuICAgICAgY2xhc3NlczogWydjb2M3JywgJ2FjdGl2ZS1lZmZlY3Qtc2hlZXQnXSxcbiAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JlYXRlTGluaycpLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogbnVsbCwgZHJvcFNlbGVjdG9yOiAnLmNvbnRhaW5lcicgfV0sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9saW5rLWNyZWF0aW9uLmh0bWwnLFxuICAgICAgY2xvc2VPblN1Ym1pdDogZmFsc2UsXG4gICAgICB3aWR0aDogNTYwLFxuICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy50YWJzJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuZWZmZWN0LW9wdGlvbnMnLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXRhaWxzJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuXG4gICAgLy8gUHJlcGFyZSBjaGVjayB0eXBlXG4gICAgc2hlZXREYXRhLmNoZWNrVHlwZSA9IFtcbiAgICAgIHtcbiAgICAgICAga2V5OiBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNoZWNrJylcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogQ29DN0xpbmsuQ0hFQ0tfVFlQRS5TQU5MT1NTLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNhbml0eUNoZWNrJylcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogQ29DN0xpbmsuQ0hFQ0tfVFlQRS5JVEVNLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkl0ZW1XZWFwb24nKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnRUZGRUNULlRhYkVmZmVjdHMnKVxuICAgICAgfVxuICAgIF1cblxuICAgIC8vIFByZXBhcmUgJ2NoZWNrJyBsaW5rIHR5cGVcbiAgICBzaGVldERhdGEubGlua1R5cGUgPSBbXG4gICAgICB7XG4gICAgICAgIGtleTogQ29DN0xpbmsuTElOS19UWVBFLkNIQVJBQ1RFUklTVElDLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNoYXJhY3RlcmlzdGljJylcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogQ29DN0xpbmsuTElOS19UWVBFLkFUVFJJQlVURSxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BdHRyaWJ1dGUnKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiBDb0M3TGluay5MSU5LX1RZUEUuU0tJTEwsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2tpbGwnKVxuICAgICAgfVxuICAgIF1cblxuICAgIC8vIFByZXBhcmUgJ2NoZWNrJyAnYXR0cmlidXRlJyB0eXBlc1xuICAgIHNoZWV0RGF0YS5hdHRyaWJ1dGVUeXBlID0gW1xuICAgICAge1xuICAgICAgICBrZXk6ICdsY2snLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiAnc2FuJyxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TYW5pdHknKVxuICAgICAgfVxuICAgIF1cblxuICAgIC8vIFByZXBhcmUgZWZmZWN0IG1vZGUgdHlwZXNcbiAgICBzaGVldERhdGEuZWZmZWN0TW9kZXMgPSBPYmplY3QuZW50cmllcyhDT05TVC5BQ1RJVkVfRUZGRUNUX01PREVTKS5yZWR1Y2UoXG4gICAgICAob2JqLCBlKSA9PiB7XG4gICAgICAgIG9ialtlWzFdXSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnRUZGRUNULk1PREVfJyArIGVbMF0pXG4gICAgICAgIHJldHVybiBvYmpcbiAgICAgIH0sXG4gICAgICB7fVxuICAgIClcblxuICAgIC8vIFByZXBhcmUgJ2NoZWNrJyAnY2hhcmFjdGVyaXN0aWMnIHR5cGVzXG4gICAgc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljVHlwZSA9IENvQ0FjdG9yLmdldENoYXJhY3RlcmlzdGljRGVmaW5pdGlvbigpXG5cbiAgICBzaGVldERhdGEubGluayA9IHNoZWV0RGF0YS5vYmplY3QubGlua1xuXG4gICAgc2hlZXREYXRhLmZyb21HYW1lID0gc2hlZXREYXRhLmxpbmsuaXNJdGVtQ2hlY2sgfHwgc2hlZXREYXRhLmxpbmsuaXNTa2lsbENoZWNrXG5cbiAgICBzaGVldERhdGEuZnJvbURpcmVjdG9yeSA9IChzaGVldERhdGEub2JqZWN0Lmhhc0lEID09PSAnZnJvbURpcmVjdG9yeScpXG4gICAgc2hlZXREYXRhLmZyb21Db21wZW5kaXVtID0gKHNoZWV0RGF0YS5vYmplY3QuaGFzSUQgPT09ICdmcm9tQ29tcGVuZGl1bScpXG5cbiAgICBzaGVldERhdGEuaXNTZXRGcm9tR2FtZSA9IChzaGVldERhdGEubGluay5pZCAmJiAoc2hlZXREYXRhLmZyb21EaXJlY3RvcnkgfHwgc2hlZXREYXRhLmZyb21Db21wZW5kaXVtKSlcblxuICAgIHNoZWV0RGF0YS5kaWZmaWN1bHR5TGV2ZWwgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsXG5cbiAgICBzaGVldERhdGEuYWN0b3JOYW1lcyA9IHNoZWV0RGF0YS5vYmplY3QuYWN0b3JzLm1hcChhID0+IGEubmFtZSkuam9pbignLCAnKVxuXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJ3NlbGVjdFtuYW1lPXR5cGVdLHNlbGVjdFtuYW1lPWNoZWNrXSxzZWxlY3RbbmFtZT1hdHRyaWJ1dGVLZXldLHNlbGVjdFtuYW1lPWNoYXJhY3RlcmlzdGljS2V5XSxpbnB1dFt0eXBlPWNoZWNrYm94XScpXG4gICAgICAuY2hhbmdlKHRoaXMuX29uQ2hhbmdlU3VibWl0LmJpbmQodGhpcykpXG5cbiAgICAvLyBIYW5kbGluZyBlZmZlY3RzXG4gICAgaHRtbC5maW5kKCcuZWZmZWN0LWNvbnRyb2wnKS5jbGljayh0aGlzLl9vbkVmZmVjdENvbnRyb2wuYmluZCh0aGlzKSlcbiAgfVxuXG4gIF9vbkNoYW5nZVN1Ym1pdCAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmN1cnJlbnRUYXJnZXQubmFtZSkge1xuICAgICAgY2FzZSAnZnJvbUNvbXBlbmRpdW0nOlxuICAgICAgY2FzZSAnZnJvbURpcmVjdG9yeSc6XG4gICAgICAgIHRoaXMub2JqZWN0Lmhhc0lEID0gKGV2ZW50LmN1cnJlbnRUYXJnZXQubmFtZSA9PT0gdGhpcy5vYmplY3QuaGFzSUQgPyAnJyA6IGV2ZW50LmN1cnJlbnRUYXJnZXQubmFtZSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgdGhpcy5fb25TdWJtaXQoZXZlbnQpXG4gIH1cblxuICBfb25FZmZlY3RDb250cm9sIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgc3dpdGNoIChidXR0b24uZGF0YXNldC5hY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRFZmZlY3RDaGFuZ2UoKVxuICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgYnV0dG9uLmNsb3Nlc3QoJy5lZmZlY3QtY2hhbmdlJykucmVtb3ZlKClcbiAgICAgICAgdGhpcy5fb25TdWJtaXQoZXZlbnQpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX2FkZEVmZmVjdENoYW5nZSAoKSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5vYmplY3QubGluay5lZmZlY3QuY2hhbmdlcy5sZW5ndGhcbiAgICByZXR1cm4gdGhpcy5zdWJtaXQoe1xuICAgICAgcHJldmVudENsb3NlOiB0cnVlLFxuICAgICAgdXBkYXRlRGF0YToge1xuICAgICAgICBbYGVmZmVjdC5jaGFuZ2VzLiR7aWR4fWBdOiB7XG4gICAgICAgICAga2V5OiAnJyxcbiAgICAgICAgICBtb2RlOiBDT05TVC5BQ1RJVkVfRUZGRUNUX01PREVTLkFERCxcbiAgICAgICAgICB2YWx1ZTogJydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBsZXQgaGFzRWZmZWN0ID0gZmFsc2VcbiAgICBjb25zdCBlZmZlY3QgPSB7XG4gICAgICBkdXJhdGlvbjoge30sXG4gICAgICBjaGFuZ2VzOiBbXVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtRGF0YSkge1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSAnY2hlY2tOYW1lJzpcbiAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCduYW1lJywgZm9ybURhdGEuY2hlY2tOYW1lKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2JsaW5kJzpcbiAgICAgICAgY2FzZSAnZGlmZmljdWx0eSc6XG4gICAgICAgIGNhc2UgJ2Rpc3BsYXlOYW1lJzpcbiAgICAgICAgY2FzZSAnaWNvbic6XG4gICAgICAgIGNhc2UgJ2lkJzpcbiAgICAgICAgY2FzZSAnbW9kaWZpZXInOlxuICAgICAgICBjYXNlICdwYWNrJzpcbiAgICAgICAgY2FzZSAnc2FuTWluJzpcbiAgICAgICAgY2FzZSAnc2FuTWF4JzpcbiAgICAgICAgY2FzZSAnc2FuUmVhc29uJzpcbiAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKGtleSwgZm9ybURhdGFba2V5XSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdoYXNNb2RpZmllcnMnOlxuICAgICAgICBjYXNlICdoYXNMYWJlbCc6XG4gICAgICAgIGNhc2UgJ2hhc0ljb24nOlxuICAgICAgICAgIHRoaXMub2JqZWN0W2tleV0gPSBmb3JtRGF0YVtrZXldXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZWZmZWN0LmxhYmVsJzpcbiAgICAgICAgICBlZmZlY3QubGFiZWwgPSBmb3JtRGF0YVtrZXldXG4gICAgICAgICAgaGFzRWZmZWN0ID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2VmZmVjdC5pY29uJzpcbiAgICAgICAgICBlZmZlY3QuaWNvbiA9IGZvcm1EYXRhW2tleV1cbiAgICAgICAgICBoYXNFZmZlY3QgPSB0cnVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZWZmZWN0LnRpbnQnOlxuICAgICAgICAgIGVmZmVjdC50aW50ID0gZm9ybURhdGFba2V5XVxuICAgICAgICAgIGhhc0VmZmVjdCA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdlZmZlY3QuZGlzYWJsZWQnOlxuICAgICAgICAgIGVmZmVjdC5kaXNhYmxlZCA9IGZvcm1EYXRhW2tleV1cbiAgICAgICAgICBoYXNFZmZlY3QgPSB0cnVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZWZmZWN0LmR1cmF0aW9uLnNlY29uZHMnOlxuICAgICAgICAgIGVmZmVjdC5kdXJhdGlvbi5zZWNvbmRzID0gZm9ybURhdGFba2V5XVxuICAgICAgICAgIGhhc0VmZmVjdCA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdlZmZlY3QuZHVyYXRpb24ucm91bmRzJzpcbiAgICAgICAgICBlZmZlY3QuZHVyYXRpb24ucm91bmRzID0gZm9ybURhdGFba2V5XVxuICAgICAgICAgIGhhc0VmZmVjdCA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdlZmZlY3QuZHVyYXRpb24udHVybnMnOlxuICAgICAgICAgIGVmZmVjdC5kdXJhdGlvbi50dXJucyA9IGZvcm1EYXRhW2tleV1cbiAgICAgICAgICBoYXNFZmZlY3QgPSB0cnVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IG1hdGNoID0ga2V5Lm1hdGNoKC9eZWZmZWN0XFwuY2hhbmdlc1xcLihcXGQrKVxcLmtleSQvKVxuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgZWZmZWN0LmNoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgIGtleTogZm9ybURhdGFba2V5XSxcbiAgICAgICAgICAgICAgbW9kZTogZm9ybURhdGFbJ2VmZmVjdC5jaGFuZ2VzLicgKyBtYXRjaFsxXSArICcubW9kZSddLFxuICAgICAgICAgICAgICB2YWx1ZTogZm9ybURhdGFbJ2VmZmVjdC5jaGFuZ2VzLicgKyBtYXRjaFsxXSArICcudmFsdWUnXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGhhc0VmZmVjdCA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhc0VmZmVjdCkge1xuICAgICAgdGhpcy5vYmplY3QubGluay5zZXRWYWx1ZSgnb2JqZWN0JywgZWZmZWN0KVxuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgc3dpdGNoICh0YXJnZXQubmFtZSkge1xuICAgICAgICBjYXNlICd0eXBlJzpcbiAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCdjaGVjaycsIHRhcmdldC52YWx1ZSlcbiAgICAgICAgICBpZiAodGFyZ2V0LnZhbHVlID09PSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCdsaW5rVHlwZScsIENvQzdMaW5rLkxJTktfVFlQRS5TS0lMTClcbiAgICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ25hbWUnLCAnJylcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY2hlY2snOlxuICAgICAgICAgIHRoaXMub2JqZWN0Lmxpbmsuc2V0VmFsdWUoJ2xpbmtUeXBlJywgdGFyZ2V0LnZhbHVlKVxuICAgICAgICAgIGlmICh0YXJnZXQudmFsdWUgPT09IENvQzdMaW5rLkxJTktfVFlQRS5DSEFSQUNURVJJU1RJQykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QubGluay5zZXRWYWx1ZSgnbmFtZScsIENvQ0FjdG9yLmdldENoYXJhY3RlcmlzdGljRGVmaW5pdGlvbigpWzBdLmtleSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC52YWx1ZSA9PT0gQ29DN0xpbmsuTElOS19UWVBFLkFUVFJJQlVURSkge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QubGluay5zZXRWYWx1ZSgnbmFtZScsICdsY2snKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCduYW1lJywgJycpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2F0dHJpYnV0ZUtleSc6XG4gICAgICAgIGNhc2UgJ2NoYXJhY3RlcmlzdGljS2V5JzpcbiAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCduYW1lJywgdGFyZ2V0LnZhbHVlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC5zdWJtaXR0ZXIuZGF0YXNldC5hY3Rpb24pIHtcbiAgICAgICAgICBjYXNlICdjbGlwYm9hcmQnOlxuICAgICAgICAgICAgQ29DN1V0aWxpdGllcy5jb3B5VG9DbGlwYm9hcmQodGhpcy5vYmplY3QubGluay5saW5rKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdjaGF0JzpcbiAgICAgICAgICAgIENvQzdMaW5rLnRvQ2hhdE1lc3NhZ2UodGhpcy5vYmplY3QubGluay5vYmplY3QpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ3doaXNwZXItb3duZXInOlxuICAgICAgICAgICAgQ29DN0xpbmsudG9XaGlzcGVyTWVzc2FnZSh0aGlzLm9iamVjdC5saW5rLm9iamVjdCwgdGhpcy5vYmplY3QuYWN0b3JzKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICd3aGlzcGVyLXNlbGVjdGVkJzpcbiAgICAgICAgICAgIGlmICghY2FudmFzLnRva2Vucy5jb250cm9sbGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yTm9Ub2tlbnNTZWxlY3RlZCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBDb0M3TGluay50b1doaXNwZXJNZXNzYWdlKHRoaXMub2JqZWN0Lmxpbmsub2JqZWN0LCBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQuZmlsdGVyKHQgPT4gdC5hY3Rvci5vd25lcnMubGVuZ3RoKS5tYXAodCA9PiB0LmFjdG9yKSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25Ecm9wIChldmVudCkge1xuICAgIGNvbnN0IGRhdGFTdHJpbmcgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpXG4gICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZGF0YVN0cmluZylcbiAgICBpZiAoZGF0YS50eXBlID09PSAnQ29DN0xpbmsnKSB7XG4gICAgICB0aGlzLnNldExpbmsoYXdhaXQgQ29DN0xpbmsuZnJvbURyb3BEYXRhKGRhdGEpKVxuICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChkYXRhLnR5cGUgPT09ICdGb2xkZXInICYmIGRhdGEuZG9jdW1lbnROYW1lID09PSAnQWN0b3InKSB8fCBbJ0l0ZW0nLCAnQWN0b3InXS5pbmNsdWRlcyhkYXRhLnR5cGUpKSB7XG4gICAgICAgIGNvbnN0IGRhdGFMaXN0ID0gYXdhaXQgQ29DN1V0aWxpdGllcy5nZXREYXRhRnJvbURyb3BFdmVudChldmVudCwgZGF0YS5kb2N1bWVudE5hbWUgPz8gZGF0YS50eXBlKVxuICAgICAgICBpZiAoZGF0YS5kb2N1bWVudE5hbWUgPz8gZGF0YS50eXBlID09PSAnQWN0b3InKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QuYWN0b3JzID0gZGF0YUxpc3QuZmlsdGVyKGEgPT4gYS5vd25lcnMubGVuZ3RoKVxuICAgICAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YUxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgaWYgKFsnc2tpbGwnLCAnd2VhcG9uJ10uaW5jbHVkZXMoZGF0YUxpc3RbMF0udHlwZSkpIHtcbiAgICAgICAgICAgIGlmIChkYXRhTGlzdFswXS5wYWNrKSB7XG4gICAgICAgICAgICAgIHRoaXMub2JqZWN0Lmhhc0lEID0gJ2Zyb21Db21wZW5kaXVtJ1xuICAgICAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCdwYWNrJywgZGF0YUxpc3RbMF0ucGFjaylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMub2JqZWN0Lmhhc0lEID0gJ2Zyb21EaXJlY3RvcnknXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5saW5rLnNldFZhbHVlKCdpZCcsIGRhdGFMaXN0WzBdLmlkKVxuICAgICAgICAgICAgdGhpcy5vYmplY3QubGluay5zZXRWYWx1ZSgnbmFtZScsIGRhdGFMaXN0WzBdLm5hbWUpXG4gICAgICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldExpbmsgKGxpbmspIHtcbiAgICB0aGlzLm9iamVjdC5saW5rID0gbGlua1xuICAgIGlmIChsaW5rLnBhY2sgIT09ICcnKSB7XG4gICAgICB0aGlzLm9iamVjdC5oYXNJRCA9ICdmcm9tQ29tcGVuZGl1bSdcbiAgICB9IGVsc2UgaWYgKGxpbmsuaWQgIT09ICcnKSB7XG4gICAgICB0aGlzLm9iamVjdC5oYXNJRCA9ICdmcm9tRGlyZWN0b3J5J1xuICAgIH1cbiAgICBpZiAobGluay5kaWZmaWN1bHR5ICE9PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIgfHwgcGFyc2VJbnQobGluay5tb2RpZmllciwgMTApICE9PSAwKSB7XG4gICAgICB0aGlzLm9iamVjdC5oYXNNb2RpZmllcnMgPSB0cnVlXG4gICAgfVxuICAgIGlmIChsaW5rLmRpc3BsYXlOYW1lICE9PSAnJykge1xuICAgICAgdGhpcy5vYmplY3QuaGFzTGFiZWwgPSB0cnVlXG4gICAgfVxuICAgIGlmIChsaW5rLmljb24gIT09ICcnKSB7XG4gICAgICB0aGlzLm9iamVjdC5oYXNJY29uID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKGxpbmtEYXRhID0ge30sIG9wdGlvbiA9IHt9KSB7XG4gICAgY29uc3Qgb2JqZWN0ID0gbWVyZ2VPYmplY3Qoe1xuICAgICAgbGluazogbnVsbCxcbiAgICAgIGhhc0lEOiAnJyxcbiAgICAgIGhhc01vZGlmaWVyczogZmFsc2UsXG4gICAgICBoYXNMYWJlbDogZmFsc2UsXG4gICAgICBoYXNJY29uOiBmYWxzZSxcbiAgICAgIGFjdG9yczogW11cbiAgICB9LCBvcHRpb24pXG4gICAgY29uc3QgZGlhbG9nID0gbmV3IENvQzdDb250ZW50TGlua0RpYWxvZyhvYmplY3QsIHt9KVxuICAgIGRpYWxvZy5zZXRMaW5rKGF3YWl0IENvQzdMaW5rLmZyb21Ecm9wRGF0YShsaW5rRGF0YSkpXG4gICAgZGlhbG9nLnJlbmRlcih0cnVlKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgY2FudmFzLCBDaGF0TWVzc2FnZSwgQ09OU1QsIGR1cGxpY2F0ZSwgZnJvbVV1aWQsIGdhbWUsIFJheSwgVG9rZW4sIHVpICovXG5cbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBSZXR1cm4gPGE+IGVsZW1lbnQgb2YgYSByb2xsIGluc3RhbmNlLiBmb3VuZHJ5LmpzIHJlZjpUZXh0RWRpdG9yLl9jcmVhdGVJbmxpbmVSb2xsXG4gKiBAcGFyYW0ge1JvbGx9IHJvbGwgICAgICBUaGUgcm9sbCBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlubGluZVJvbGwgKHJvbGwpIHtcbiAgY29uc3QgZGF0YSA9IHtcbiAgICBjbHM6IFsnaW5saW5lLXJvbGwnXSxcbiAgICBkYXRhc2V0OiB7fVxuICB9XG5cbiAgdHJ5IHtcbiAgICBkYXRhLmNscy5wdXNoKCdpbmxpbmUtcmVzdWx0JylcbiAgICBkYXRhLnJlc3VsdCA9IHJvbGwudG90YWxcbiAgICBkYXRhLnRpdGxlID0gcm9sbC5mb3JtdWxhXG4gICAgZGF0YS5kYXRhc2V0LnJvbGwgPSBlc2NhcGUoSlNPTi5zdHJpbmdpZnkocm9sbCkpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyBDb25zdHJ1Y3QgYW5kIHJldHVybiB0aGUgZm9ybWVkIGxpbmsgZWxlbWVudFxuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gIGEuY2xhc3NMaXN0LmFkZCguLi5kYXRhLmNscylcbiAgYS50aXRsZSA9IGRhdGEudGl0bGVcbiAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5kYXRhc2V0KSkge1xuICAgIGEuZGF0YXNldFtrXSA9IHZcbiAgfVxuICBhLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhcyBmYS1kaWNlLWQyMFwiPjwvaT4gJHtkYXRhLnJlc3VsdH1gXG4gIHJldHVybiBhXG59XG5cbi8qKlxuICogRnVuY3Rpb24gdXNlZCBmb3IgSlNPTi5zdHJpbmdpZnkgcmVwbGFjZXIuXG4gKiBFeGNsdWRlIGFueSBrZXkgc3RhcnRpbmcgd2l0aCBfXG4gKiBAcGFyYW0geyp9IGtleSAgICAgVGhlIG9iamVjdCdzIHByb3BlcnR5IEtleVxuICogQHBhcmFtIHsqfSB2YWx1ZSAgIFRoZSBhc3NvY2lhdGVkIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlXyAoa2V5LCB2YWx1ZSkge1xuICAvLyBjb252ZXJ0IFJlZ0V4cCB0byBzdHJpbmdcbiAgaWYgKGtleS5zdGFydHNXaXRoKCdfJykpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkIC8vIHJlbW92ZSBmcm9tIHJlc3VsdFxuICB9XG4gIHJldHVybiB2YWx1ZSAvLyByZXR1cm4gYXMgaXNcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB1c2VkIGZvciBKU09OLnN0cmluZ2lmeSByZXBsYWNlci5cbiAqIEV4Y2x1ZGUgYW55IGtleSBzdGFydGluZyB3aXRoIF9fXG4gKiBAcGFyYW0geyp9IGtleSAgICAgVGhlIG9iamVjdCdzIHByb3BlcnR5IEtleVxuICogQHBhcmFtIHsqfSB2YWx1ZSAgIFRoZSBhc3NvY2lhdGVkIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlX18gKGtleSwgdmFsdWUpIHtcbiAgLy8gY29udmVydCBSZWdFeHAgdG8gc3RyaW5nXG4gIGlmIChrZXkuc3RhcnRzV2l0aCgnX18nKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQgLy8gcmVtb3ZlIGZyb20gcmVzdWx0XG4gIH1cbiAgcmV0dXJuIHZhbHVlIC8vIHJldHVybiBhcyBpc1xufVxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlzIENUUkwga2V5IGlzIHByZXNzZWRcbiAqIFVzZWQgZm9yIE1BQyBjb21wYXQuXG4gKiBAcGFyYW0ge1MuRXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDdHJsS2V5IChldmVudCkge1xuICBpZiAoZXZlbnQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcmV0dXJuIChcbiAgICBldmVudC5tZXRhS2V5IHx8XG4gICAgZXZlbnQuY3RybEtleSB8fFxuICAgIGV2ZW50LmtleUNvZGUgPT09IDkxIHx8XG4gICAgZXZlbnQua2V5Q29kZSA9PT0gMjI0XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIGNoYXRIZWxwZXIge1xuICBzdGF0aWMgaHlwaGVuVG9DYW1lbENhc2UgKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZ1sxXS50b1VwcGVyQ2FzZSgpXG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVNZXNzYWdlICh0aXRsZSwgbWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWVzc2FnZURhdGEgPSB7fVxuICAgIG1lc3NhZ2VEYXRhLmZsYXZvciA9IHRpdGxlXG4gICAgbWVzc2FnZURhdGEuc3BlYWtlciA9IG9wdGlvbnMuc3BlYWtlciB8fCBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICBpZiAob3B0aW9ucy53aGlzcGVyKSB7XG4gICAgICBtZXNzYWdlRGF0YS50eXBlID0gQ09OU1QuQ0hBVF9NRVNTQUdFX1RZUEVTLldISVNQRVJcbiAgICAgIG1lc3NhZ2VEYXRhLndoaXNwZXIgPSBvcHRpb25zLndoaXNwZXJcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnJvbGwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtZXNzYWdlRGF0YS5yb2xsID0gb3B0aW9ucy5yb2xsXG4gICAgICBtZXNzYWdlRGF0YS50eXBlID0gQ09OU1QuQ0hBVF9NRVNTQUdFX1RZUEVTLlJPTExcbiAgICAgIG1lc3NhZ2VEYXRhLnJvbGxNb2RlID0gQ09OU1QuRElDRV9ST0xMX01PREVTLlNFTEZcbiAgICB9XG4gICAgbWVzc2FnZURhdGEudXNlciA9IGdhbWUudXNlci5pZFxuICAgIG1lc3NhZ2VEYXRhLmNvbnRlbnQgPSBtZXNzYWdlXG5cbiAgICBDaGF0TWVzc2FnZS5jcmVhdGUobWVzc2FnZURhdGEpLnRoZW4obXNnID0+IHtcbiAgICAgIHJldHVybiBtc2dcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIGNhbWVsQ2FzZVRvSHlwaGVuIChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgcmV0dXJuICctJyArIHN0cmluZy50b0xvd2VyQ2FzZSgpXG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBnZXRBY3RvckZyb21LZXkgKGtleSkge1xuICAgIGlmICgha2V5KSByZXR1cm4gbnVsbFxuICAgIC8vIENhc2UgMCAtIGEgZG9jdW1lbnQgVXVpZFxuICAgIGlmIChDb0M3VXRpbGl0aWVzLmlzRG9jdW1lbnRVdWlkKGtleSkpIHtcbiAgICAgIGlmIChDb0M3VXRpbGl0aWVzLmlzRG9jdW1lbnRVdWlkUGFjayhrZXkpKSByZXR1cm4gZnJvbVV1aWQoa2V5KSAvLyBUT0RPIENoZWNrIHdlIGNhbiBkbyB0aGF0XG4gICAgICByZXR1cm4gQ29DN1V0aWxpdGllcy5TZnJvbVV1aWQoa2V5KVxuICAgIH1cblxuICAgIC8vIENhc2UgMSAtIGEgc3ludGhldGljIGFjdG9yIGZyb20gYSBUb2tlblxuICAgIGlmIChrZXkuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSBrZXkuc3BsaXQoJy4nKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuYWN0b3JzLnRva2Vuc1t0b2tlbklkXSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRva2VuID0gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkoa2V5KVxuICAgICAgcmV0dXJuIHRva2VuPy5hY3RvclxuICAgIH1cblxuICAgIC8vIENhc2UgMiAtIHVzZSBBY3RvciBJRCBkaXJlY3RvcnlcbiAgICByZXR1cm4gZ2FtZS5hY3RvcnMuZ2V0KGtleSkgfHwgbnVsbFxuICB9XG5cbiAgc3RhdGljIGdldFNwZWFrZXJGcm9tS2V5IChhY3RvcktleSkge1xuICAgIGNvbnN0IHNwZWFrZXIgPSB7fVxuICAgIGNvbnN0IGFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgIGlmIChhY3RvcktleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSBhY3RvcktleS5zcGxpdCgnLicpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgc3BlYWtlci50b2tlbiA9IHRva2VuSWRcbiAgICAgIHNwZWFrZXIuc2NlbmUgPSBzY2VuZUlkXG4gICAgICBpZiAoYWN0b3IudG9rZW4/Lm5hbWUpIHNwZWFrZXIuYWxpYXMgPSBhY3Rvci50b2tlbi5uYW1lXG4gICAgICBzcGVha2VyLmFjdG9yID0gYWN0b3IuaWRcbiAgICB9IGVsc2Uge1xuICAgICAgc3BlYWtlci5hY3RvciA9IGFjdG9yS2V5XG4gICAgICBzcGVha2VyLmFsaWFzID0gYWN0b3IubmFtZVxuICAgIH1cbiAgICByZXR1cm4gc3BlYWtlclxuICB9XG5cbiAgc3RhdGljIGF0dGFjaE9iamVjdFRvRWxlbWVudCAob2JqZWN0LCBlbGVtZW50LCBvYmplY3ROYW1lID0gJycpIHtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgT2JqZWN0LmtleXMob2JqZWN0KSkge1xuICAgICAgaWYgKCFwcm9wLnN0YXJ0c1dpdGgoJ18nKSkge1xuICAgICAgICBpZiAodHlwZW9mIG9iamVjdFtwcm9wXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBjaGF0SGVscGVyLmF0dGFjaE9iamVjdFRvRWxlbWVudChcbiAgICAgICAgICAgIG9iamVjdFtwcm9wXSxcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICBgJHtvYmplY3ROYW1lfToke3Byb3B9OmBcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5kYXRhc2V0W2Ake29iamVjdE5hbWV9JHtwcm9wfWBdID0gb2JqZWN0W3Byb3BdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0T2JqZWN0RnJvbUVsZW1lbnQgKG9iamVjdCwgZWxlbWVudCkge1xuICAgIGZ1bmN0aW9uIGRlc2VyaWFsaXplIChvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgIGNvbnN0IHMgPSBrZXkuc2xpY2UoMSlcbiAgICAgICAgY29uc3Qgb2JqUHJvcCA9IHMuc2xpY2Uocy5pbmRleE9mKCc6JykgKyAxKVxuICAgICAgICBjb25zdCBvYmpOYW1lID0gcy5zdWJzdHJpbmcoMCwgcy5pbmRleE9mKCc6JykpXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW29iak5hbWVdID09PSAndW5kZWZpbmVkJykgb2JqW29iak5hbWVdID0ge31cbiAgICAgICAgZGVzZXJpYWxpemUob2JqW29iak5hbWVdLCBvYmpQcm9wLCB2YWx1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSBvYmpba2V5XSA9IHRydWVcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09ICdmYWxzZScpIG9ialtrZXldID0gZmFsc2VcbiAgICAgICAgZWxzZSBpZiAoTnVtYmVyKHZhbHVlKS50b1N0cmluZygpID09PSB2YWx1ZSkgb2JqW2tleV0gPSBOdW1iZXIodmFsdWUpXG4gICAgICAgIGVsc2Ugb2JqW2tleV0gPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZWxlbWVudCB8fCAhb2JqZWN0KSByZXR1cm5cbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgT2JqZWN0LmtleXMoZWxlbWVudC5kYXRhc2V0KSkge1xuICAgICAgaWYgKHByb3AgPT09ICd0ZW1wbGF0ZScpIHJldHVyblxuICAgICAgZGVzZXJpYWxpemUob2JqZWN0LCBwcm9wLCBlbGVtZW50LmRhdGFzZXRbcHJvcF0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldFRva2VuRnJvbUtleSAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHJldHVybiBudWxsXG4gICAgaWYgKGtleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSBrZXkuc3BsaXQoJy4nKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgY29uc3QgdG9rZW5Eb2MgPSBnYW1lLmFjdG9ycy50b2tlbnNbdG9rZW5JZF0/LnRva2VuXG4gICAgICAgIHJldHVybiB0b2tlbkRvYy5vYmplY3QgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgICBpZiAoIXNjZW5lKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5nZXRFbWJlZGRlZERvY3VtZW50KCdUb2tlbicsIHRva2VuSWQpXG4gICAgICAgIGlmICghdG9rZW5EYXRhKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCB0b2tlbiA9IG5ldyBUb2tlbih0b2tlbkRhdGEpXG4gICAgICAgIGlmICghdG9rZW4uc2NlbmUpIHRva2VuLnNjZW5lID0gZHVwbGljYXRlKHNjZW5lLmRvY3VtZW50KVxuICAgICAgICByZXR1cm4gdG9rZW5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoa2V5KVxuICAgICAgcmV0dXJuIGNoYXRIZWxwZXIuZ2V0QWN0b3JUb2tlbihhY3RvcilcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0QWN0b3JUb2tlbiAoYWN0b3IpIHtcbiAgICBpZiAoIWFjdG9yKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBhY3Rvci50b2tlbiB8fCBhY3Rvci5wcm90b3R5cGVUb2tlblxuICAgIC8qKioqKioqKioqKioqKioqKioqL1xuICAgIC8vIC8vIENhc2UgMCAtIEFjdG9yIGlzIGEgdG9rZW4gKHN5bnRoZXRpYyBhY3RvciksIHJldHVybiB0aGF0IHRva2VuLlxuICAgIC8vIGlmKGFjdG9yLmlzVG9rZW4pIHJldHVybiBhY3Rvci50b2tlbjtcbiAgICAvLyBlbHNle1xuICAgIC8vICAvLyBDYXNlIDEgLSBBY3RvciBpcyBub3QgYSB0b2tlbiwgZmluZCBpZiBhIHRva2VuIGV4aXN0IGZvciB0aGF0IGFjdG9yLlxuICAgIC8vICBjb25zdCBhY3RvclRva2VucyA9IGFjdG9yLmdldEFjdGl2ZVRva2VucygpO1xuICAgIC8vICBpZiggYWN0b3JUb2tlbnMubGVuZ3RoKXtcbiAgICAvLyAgICAvLyBDYXNlIDEuMSAtIElmIGhlIGhhcyBvbmx5IG9uZSBUb2tlbiByZXR1cm4gaXQuXG4gICAgLy8gICAgaWYoIDEgPT09IGFjdG9yVG9rZW5zLmxlbmd0aCkgcmV0dXJuIGFjdG9yVG9rZW5zWzBdO1xuXG4gICAgLy8gICAgLy8gQ2FzZSAxLjIgLSBBY3RvciBoYXMgbXVsdGlwbGUgdG9rZW5zLCBmaW5kIGlmIG9uZSBvZiB0aGVtIGlzIHRoZSBjb250cm9sbGVkIHRva2VuLlxuICAgIC8vICAgIGNvbnN0IGNvbnRyb2xsZWRUb2tlbnMgPSBhY3RvclRva2Vucy5maWx0ZXIoIHQgPT4gdC5fY29udHJvbGxlZCk7XG4gICAgLy8gICAgaWYoIGNvbnRyb2xsZWRUb2tlbnMubGVuZ3RoKXtcbiAgICAvLyAgICAgIC8vIFJldHVybiB0aGUgMXN0IGNvbnRyb2xsZWQgdG9rZW4sIHJpc2UgYSB3YXJuaW5nIGlmIGhlIGhhcyBtdWx0aXBsZSBjb250cm9sbGVkIHRva2Vucy5cbiAgICAvLyAgICAgIGlmKCB2ZXJib3NlICYmIGNvbnRyb2xsZWRUb2tlbnMubGVuZ3RoID4gMSkgdWkubm90aWZpY2F0aW9ucy53YXJuKCBgQWN0b3IgJHthY3Rvci5uYW1lfSBoYXMgJHtjb250cm9sbGVkVG9rZW5zLmxlbmd0aH0gY29udHJvbGxlZCB0b2tlbnMuIFVzaW5nIHRoZSBmaXJzdCBmb3VuZGApO1xuICAgIC8vICAgICAgcmV0dXJuIGNvbnRyb2xsZWRUb2tlbnNbMF07XG4gICAgLy8gICAgfVxuXG4gICAgLy8gICAgLy8gQ2FzZSAxLjMgYWN0b3IgZG9lc24ndCBoYXZlIGFueSBhY3RpdmUgdG9rZW4uIFJldHVybiB0aGUgZmlyc3QgdmFsaWQgdG9rZW4gZm9yIHRoYXQgYWN0b3IgYW5kIHJhaXNlIGEgd2FybmluZy5cbiAgICAvLyAgICBpZiggdmVyYm9zZSkgdWkubm90aWZpY2F0aW9ucy53YXJuKCBgQWN0b3IgJHthY3Rvci5uYW1lfSBkb2Vzbid0IGhhdmUgYW55IGNvbnRyb2xsZWQgdG9rZW4uIFVzaW5nIGZpcnN0IHRva2VuIGZvdW5kLmApO1xuICAgIC8vICAgIHJldHVybiBhY3RvclRva2Vuc1swXTtcbiAgICAvLyAgfVxuXG4gICAgLy8gIGlmKCB2ZXJib3NlKSB1aS5ub3RpZmljYXRpb25zLmVycm9yKCBgQ291bGQgbm90IGZpbiBhbnkgdG9rZW4gZm9yICR7YWN0b3IubmFtZX0uYCk7XG4gICAgLy8gIHJldHVybiBudWxsO1xuICAgIC8vIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRBY3RvckltZ0Zyb21LZXkgKGFjdG9yS2V5KSB7XG4gICAgaWYgKCFhY3RvcktleSkgcmV0dXJuIG51bGxcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndXNlVG9rZW4nKSkge1xuICAgICAgLy8gVHJ5IHRvIGZpbmQgYSB0b2tlbi5cbiAgICAgIGNvbnN0IHRva2VuID0gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkoYWN0b3JLZXkpXG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgaWYgKCh0b2tlbi5kb2N1bWVudCB8fCB0b2tlbikudGV4dHVyZS5zcmMpIHtcbiAgICAgICAgICBpZiAoKHRva2VuLmRvY3VtZW50IHx8IHRva2VuKS50ZXh0dXJlLnNyYy5pbmRleE9mKCcqJykgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRva2VuLmRvY3VtZW50IHx8IHRva2VuKS50ZXh0dXJlLnNyY1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KGFjdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndXNlVG9rZW4nKSkge1xuICAgICAgLy8gaWYgbm8gdG9rZW4gZm91bmQgZm9yIHRoYXQgYWN0b3IgcmV0dXJuIHRoZSBwcm90b3R5cGUgdG9rZW4gaW1hZ2UuXG4gICAgICBpZiAoYWN0b3IucHJvdG90eXBlVG9rZW4pIHtcbiAgICAgICAgaWYgKGFjdG9yLnByb3RvdHlwZVRva2VuLnRleHR1cmUuc3JjKSB7XG4gICAgICAgICAgaWYgKGFjdG9yLnByb3RvdHlwZVRva2VuLnRleHR1cmUuc3JjPy5pbmRleE9mKCcqJykgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0b3IucHJvdG90eXBlVG9rZW4udGV4dHVyZS5zcmNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjdG9yLmltZ1xuICB9XG5cbiAgc3RhdGljIGdldERpc3RhbmNlIChzdGFydFRva2VuLCBlbmRUb2tlbikge1xuICAgIC8vIHN0YXJ0VG9rZW4udXBkYXRlU291cmNlKCk7XG4gICAgLy8gY2FudmFzLnNpZ2h0LmluaXRpYWxpemVUb2tlbnMoKTtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZW5kVG9rZW4uY2VudGVyID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGVuZFRva2VuLmlkICE9PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgaWYgKHN0YXJ0VG9rZW4uc2NlbmU/LmlkIHx8IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHN0YXJ0VG9rZW4uc2NlbmUuaWQpXG4gICAgICAgIGlmICh0eXBlb2Ygc2NlbmU/LnRva2VucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCB0b2tlbnMgPSBzY2VuZT8udG9rZW5zXG4gICAgICAgICAgICAuZmlsdGVyKHRva2VuID0+IHRva2VuLmFjdG9yLmlkID09PSBlbmRUb2tlbi5kYXRhLmRvY3VtZW50LmlkKVxuICAgICAgICAgICAgLm1hcCh0b2tlbiA9PiB0b2tlbi5vYmplY3QpXG4gICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGVuZFRva2VuID0gdG9rZW5zWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBkaXN0YW5jZSA9IHtcbiAgICAgIGdyaWRVbml0OiAwLFxuICAgICAgdmFsdWU6IDAsXG4gICAgICB1bml0OiBjYW52YXMuc2NlbmUuZ3JpZC51bml0c1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygc3RhcnRUb2tlbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBzdGFydFRva2VuLmNlbnRlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBlbmRUb2tlbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBlbmRUb2tlbi5jZW50ZXIgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBjb25zdCByYXkgPSBuZXcgUmF5KHN0YXJ0VG9rZW4uY2VudGVyLCBlbmRUb2tlbi5jZW50ZXIpXG4gICAgICBjb25zdCBzZWdtZW50ID0gW3sgcmF5IH1dXG4gICAgICBkaXN0YW5jZSA9IHtcbiAgICAgICAgZ3JpZFVuaXQ6IHJheS5kaXN0YW5jZSAvIGNhbnZhcy5zY2VuZS5ncmlkLnNpemUsXG4gICAgICAgIC8vIHZhbHVlOiAocmF5LmRpc3RhbmNlL2NhbnZhcy5zY2VuZS5kYXRhLmdyaWQpKmNhbnZhcy5zY2VuZS5kYXRhLmdyaWREaXN0YW5jZSxcbiAgICAgICAgdmFsdWU6IGNhbnZhcy5ncmlkLm1lYXN1cmVEaXN0YW5jZXMoc2VnbWVudCwge1xuICAgICAgICAgIGdyaWRTcGFjZXM6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2dyaWRTcGFjZXMnKVxuICAgICAgICB9KVswXSxcbiAgICAgICAgdW5pdDogY2FudmFzLnNjZW5lLmdyaWQudW5pdHNcbiAgICAgIH1cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaXN0YW5jZUVsZXZhdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGVsZXZhdGlvbiA9IE1hdGguYWJzKFxuICAgICAgICAgIChzdGFydFRva2VuLmRvY3VtZW50LmVsZXZhdGlvbiB8fCAwKSAtIChlbmRUb2tlbi5kb2N1bWVudC5lbGV2YXRpb24gfHwgMClcbiAgICAgICAgKVxuICAgICAgICBkaXN0YW5jZS52YWx1ZSA9IE1hdGguc3FydChcbiAgICAgICAgICBkaXN0YW5jZS52YWx1ZSAqIGRpc3RhbmNlLnZhbHVlICsgZWxldmF0aW9uICogZWxldmF0aW9uXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWVzc2FnZURpc3RhbmNlQ2FsY3VsYXRpb25GYWlsdXJlJylcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGRpc3RhbmNlXG4gIH1cblxuICBzdGF0aWMgdG9ZYXJkcyAoZGlzdGFuY2UpIHtcbiAgICBzd2l0Y2ggKGRpc3RhbmNlLnVuaXQpIHtcbiAgICAgIGNhc2UgJ2Z0JzpcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlLnZhbHVlIC8gM1xuXG4gICAgICBjYXNlICd5ZCc6XG4gICAgICAgIHJldHVybiBkaXN0YW5jZS52YWx1ZVxuXG4gICAgICBjYXNlICdtJzpcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlLnZhbHVlXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBkaXN0YW5jZS52YWx1ZVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29DN1JvbGwge1xuICBzdGF0aWMgZ2V0RnJvbUNhcmQgKGNhcmQpIHtcbiAgICBjb25zdCByb2xsRGl2ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdkaXYuZGljZS1yb2xsJylcbiAgICBpZiAoIXJvbGxEaXYpIHJldHVybiBudWxsXG5cbiAgICBjb25zdCByb2xsID0gbmV3IENvQzdSb2xsKClcbiAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KHJvbGwsIHJvbGxEaXYpXG5cbiAgICByZXR1cm4gcm9sbFxuICB9XG5cbiAgZ2V0IHJlc3VsdFR5cGUgKCkge1xuICAgIHRoaXMuc3VjY2Vzc0xldmVsID0gcGFyc2VJbnQodGhpcy5zdWNjZXNzTGV2ZWwpXG4gICAgc3dpdGNoICh0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXI6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlJlZ3VsYXJTdWNjZXNzJylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5IYXJkU3VjY2VzcycpXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZTpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXh0cmVtZVN1Y2Nlc3MnKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Dcml0aWNhbFN1Y2Nlc3MnKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZ1bWJsZTpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRnVtYmxlJylcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5mYWlsdXJlOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5GYWlsdXJlJylcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIGlmICh0aGlzLmFjdG9yS2V5KSByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5hY3RvcktleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBpdGVtICgpIHtcbiAgICBpZiAodGhpcy5pdGVtSWQgJiYgdGhpcy5hY3RvcikgcmV0dXJuIHRoaXMuYWN0b3IuaXRlbXMuZ2V0KHRoaXMuaXRlbUlkKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgc2tpbGwgKCkge1xuICAgIGlmICh0aGlzLnNraWxsSWQgJiYgdGhpcy5hY3RvcikgcmV0dXJuIHRoaXMuYWN0b3IuaXRlbXMuZ2V0KHRoaXMuc2tpbGxJZClcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgc2hvd0RpY2VSb2xsICgpIHtcbiAgICBpZiAoZ2FtZS5tb2R1bGVzLmdldCgnZGljZS1zby1uaWNlJyk/LmFjdGl2ZSkge1xuICAgICAgY29uc3QgZGljZVJlc3VsdHMgPSBbXVxuICAgICAgZm9yIChjb25zdCBkaWVSZXN1bHQgb2YgdGhpcy5kaWNlcy50ZW5zKSB7XG4gICAgICAgIGRpY2VSZXN1bHRzLnB1c2goZGllUmVzdWx0LnZhbHVlID09PSAxMDAgPyAwIDogZGllUmVzdWx0LnZhbHVlIC8gMTApXG4gICAgICB9XG4gICAgICBkaWNlUmVzdWx0cy5wdXNoKHRoaXMuZGljZXMudW5pdC52YWx1ZSlcblxuICAgICAgY29uc3QgZGljZURhdGEgPSB7XG4gICAgICAgIGZvcm11bGE6IGAke3RoaXMuZGljZXMudGVucy5sZW5ndGh9ZDEwMCsxZDEwYCxcbiAgICAgICAgcmVzdWx0czogZGljZVJlc3VsdHMsXG4gICAgICAgIHdoaXNwZXI6IG51bGwsXG4gICAgICAgIGJsaW5kOiBmYWxzZVxuICAgICAgfVxuICAgICAgZ2FtZS5kaWNlM2Quc2hvdyhkaWNlRGF0YSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUVsZW1lbnQgKGVsZW1lbnQsIG9iamVjdCA9IG51bGwpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVyblxuICAgIGNvbnN0IHJvbGwgPSBvYmplY3QgfHwgbmV3IENvQzdSb2xsKClcbiAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KHJvbGwsIGVsZW1lbnQpXG4gICAgcm9sbC5kaWNlcyA9IHtcbiAgICAgIHRlbnM6IFtdLFxuICAgICAgdW5pdDoge31cbiAgICB9XG4gICAgY2hhdEhlbHBlci5nZXRPYmplY3RGcm9tRWxlbWVudChcbiAgICAgIHJvbGwuZGljZXMsXG4gICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXJlc3VsdCcpXG4gICAgKVxuICAgIHJvbGwuZGljZXMuaGFzQm9udXMgPSByb2xsLmRpY2VNb2RpZmllciAhPT0gMFxuICAgIHJvbGwuZGljZXMuYm9udXMgPSBNYXRoLmFicyhyb2xsLmRpY2VNb2RpZmllcilcbiAgICByb2xsLmRpY2VzLmJvbnVzVHlwZSA9XG4gICAgICByb2xsLmRpY2VNb2RpZmllciA8IDBcbiAgICAgICAgPyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkRpY2VNb2RpZmllclBlbmFsdHknKVxuICAgICAgICA6IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRGljZU1vZGlmaWVyQm9udXMnKVxuICAgIGNvbnN0IHRlbkRpY2UgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW4tZGljZScpXG4gICAgaWYgKHRlbkRpY2UpIHtcbiAgICAgIGZvciAoY29uc3QgZCBvZiB0ZW5EaWNlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykpIHtcbiAgICAgICAgY29uc3QgZGllID0ge1xuICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICBpc01heDogZmFsc2UsXG4gICAgICAgICAgaXNNaW46IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiAtMVxuICAgICAgICB9XG4gICAgICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQoZGllLCBkKVxuICAgICAgICByb2xsLmRpY2VzLnRlbnMucHVzaChkaWUpXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVuaXREaWUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy51bml0LWRpZScpXG4gICAgICA/IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnVuaXQtZGllJykucXVlcnlTZWxlY3RvcignbGknKVxuICAgICAgOiBudWxsXG4gICAgcm9sbC5kaWNlcy51bml0LnZhbHVlID0gdW5pdERpZSA/IHBhcnNlSW50KHVuaXREaWUuZGF0YXNldC52YWx1ZSkgOiBudWxsXG5cbiAgICByb2xsLmluY3JlYXNlU3VjY2VzcyA9IFtdXG4gICAgY29uc3QgaW5jcmVhc2VTdWNjZXNzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW5jcmVhc2Utc3VjY2VzcycpXG4gICAgaWYgKGluY3JlYXNlU3VjY2VzcyAmJiBpbmNyZWFzZVN1Y2Nlc3MucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpIHtcbiAgICAgIGZvciAoY29uc3QgaXNsIG9mIGluY3JlYXNlU3VjY2Vzcy5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKSkge1xuICAgICAgICBjb25zdCBuZXdTdWNjZXNMZXZlbCA9IHt9XG4gICAgICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQobmV3U3VjY2VzTGV2ZWwsIGlzbClcbiAgICAgICAgcm9sbC5pbmNyZWFzZVN1Y2Nlc3MucHVzaChuZXdTdWNjZXNMZXZlbClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocm9sbC5sdWNrTmVlZGVkKSB7XG4gICAgICByb2xsLmx1Y2tOZWVkZWRUeHQgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNwZW5kTHVjaycsIHtcbiAgICAgICAgbHVja05lZWRlZFZhbHVlOiByb2xsLmx1Y2tOZWVkZWRcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICghb2JqZWN0KSByZXR1cm4gcm9sbFxuICB9XG5cbiAgc3RhdGljIGdldEZyb21DaGVjayAoY2hlY2spIHtcbiAgICBjb25zdCByb2xsID0gbmV3IENvQzdSb2xsKClcblxuICAgIHJvbGwucm9sbFR5cGUgPSBjaGVjay5yb2xsVHlwZVxuICAgIHJvbGwuc2lkZSA9IGNoZWNrLnNpZGVcbiAgICByb2xsLmFjdGlvbiA9IGNoZWNrLmFjdGlvblxuICAgIHJvbGwucmVmTWVzc2FnZUlkID0gY2hlY2sucmVmTWVzc2FnZUlkXG4gICAgcm9sbC5yZWZlcmVuY2VNZXNzYWdlSWQgPSBjaGVjay5yZWZlcmVuY2VNZXNzYWdlSWRcblxuICAgIHJvbGwuc3VjY2Vzc0xldmVsID0gY2hlY2suc3VjY2Vzc0xldmVsXG4gICAgcm9sbC5kaWZmaWN1bHR5ID0gY2hlY2suZGlmZmljdWx0eVxuICAgIHJvbGwuc2tpbGxJZCA9IGNoZWNrLnNraWxsID8gY2hlY2suc2tpbGwuaWQgOiBudWxsXG4gICAgcm9sbC5pdGVtSWQgPSBjaGVjay5pdGVtID8gY2hlY2suaXRlbS5pZCA6IG51bGxcbiAgICByb2xsLmRpY2VNb2QgPSBjaGVjay5kaWNlTW9kaWZpZXJcbiAgICByb2xsLnZhbHVlID0gcGFyc2VJbnQoY2hlY2sucmF3VmFsdWUpXG4gICAgcm9sbC5mdW1ibGUgPSBjaGVjay5pc0Z1bWJsZVxuICAgIHJvbGwuY3JpdGljYWwgPSBjaGVjay5pc0NyaXRpY2FsXG4gICAgcm9sbC5jaGFyYWN0ZXJpc3RpYyA9IGNoZWNrLmNoYXJhY3RlcmlzdGljID8gY2hlY2suY2hhcmFjdGVyaXN0aWMgOiBudWxsXG4gICAgcm9sbC5yZXN1bHQgPSBjaGVjay5kaWNlLnRvdGFsXG5cbiAgICByb2xsLmFjdG9yS2V5ID0gY2hlY2suYWN0b3IudG9rZW5LZXkgLy8gUkVGQUNUT1JJTkcgKDIpXG5cbiAgICBpZiAoY2hlY2suYWN0b3IuaXNUb2tlbikge1xuICAgICAgcm9sbC50b2tlbklkID0gY2hlY2suYWN0b3IudG9rZW5LZXkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICByb2xsLmFjdG9ySWQgPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIHJvbGwudG9rZW5LZXkgPSBudWxsXG4gICAgICByb2xsLmFjdG9ySWQgPSBjaGVjay5hY3Rvci50b2tlbktleSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICB9XG5cbiAgICByZXR1cm4gcm9sbFxuICB9XG5cbiAgc3RhdGljIGF0dGFjaENoZWNrVG9FbGVtZW50IChodG1sRWxlbWVudCwgY2hlY2spIHtcbiAgICBjb25zdCByb2xsID0gQ29DN1JvbGwuZ2V0RnJvbUNoZWNrKGNoZWNrKVxuICAgIHJvbGwuYXR0YWNoVG9FbGVtZW50KGh0bWxFbGVtZW50KVxuXG4gICAgcmV0dXJuIHJvbGxcbiAgfVxuXG4gIGF0dGFjaFRvRWxlbWVudCAoaHRtbEVsZW1lbnQpIHtcbiAgICBjaGF0SGVscGVyLmF0dGFjaE9iamVjdFRvRWxlbWVudCh0aGlzLCBodG1sRWxlbWVudClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29DN0RhbWFnZSB7XG4gIHN0YXRpYyBnZXRNYWluRGllIChkYW1hZ2VTdHJpbmcpIHtcbiAgICBpZiAoZGFtYWdlU3RyaW5nLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2QyMCcpKSByZXR1cm4gJ2QyMCdcbiAgICBpZiAoZGFtYWdlU3RyaW5nLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2QxMicpKSByZXR1cm4gJ2QxMidcbiAgICBpZiAoZGFtYWdlU3RyaW5nLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2QxMCcpKSByZXR1cm4gJ2QxMCdcbiAgICBpZiAoZGFtYWdlU3RyaW5nLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2Q4JykpIHJldHVybiAnZDgnXG4gICAgaWYgKGRhbWFnZVN0cmluZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkNCcpKSByZXR1cm4gJ2Q0J1xuICAgIHJldHVybiAnZDYnXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUVsZW1lbnQgKGVsZW1lbnQsIG9iamVjdCA9IG51bGwpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVyblxuICAgIGNvbnN0IGRhbWFnZSA9IG9iamVjdCB8fCB7fVxuICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQoZGFtYWdlLCBlbGVtZW50KVxuICAgIGNvbnN0IHJvbGxzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGljZS1yb2xscycpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJylcbiAgICBkYW1hZ2Uucm9sbHMgPSBbXVxuICAgIGZvciAoY29uc3QgciBvZiByb2xscykge1xuICAgICAgY29uc3Qgcm9sbCA9IHt9XG4gICAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KHJvbGwsIHIpXG4gICAgICBkYW1hZ2Uucm9sbHMucHVzaChyb2xsKVxuICAgIH1cblxuICAgIGlmICghb2JqZWN0KSByZXR1cm4gZGFtYWdlXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBEaWFsb2csIEZvcm1EYXRhLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSAqL1xuXG5pbXBvcnQgeyBDb0M3Q2hhdE1lc3NhZ2UgfSBmcm9tICcuL2NvYzctY2hhdC1tZXNzYWdlLmpzJ1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vY2hlY2suanMnXG5cbmV4cG9ydCBjbGFzcyBSb2xsRGlhbG9nIHtcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAob3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKG9wdGlvbnMuZGlmZmljdWx0eSkge1xuICAgICAgb3B0aW9ucy5kaWZmaWN1bHR5TGV2ZWwgPSB7fVxuICAgICAgaWYgKENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwudW5rbm93biA9PT0gb3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICAgIG9wdGlvbnMuZGlmZmljdWx0eUxldmVsLnVua25vd24gPSB0cnVlXG4gICAgICB9XG4gICAgICBpZiAoQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyID09PSBvcHRpb25zLmRpZmZpY3VsdHkpIHtcbiAgICAgICAgb3B0aW9ucy5kaWZmaWN1bHR5TGV2ZWwucmVndWxhciA9IHRydWVcbiAgICAgIH1cbiAgICAgIGlmIChDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmQgPT09IG9wdGlvbnMuZGlmZmljdWx0eSkge1xuICAgICAgICBvcHRpb25zLmRpZmZpY3VsdHlMZXZlbC5oYXJkID0gdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZSA9PT0gb3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICAgIG9wdGlvbnMuZGlmZmljdWx0eUxldmVsLmV4dHJlbWUgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmKCB1bmRlZmluZWQgPT0gb3B0aW9ucy5hc2tWYWx1ZSkgb3B0aW9ucy5hc2tWYWx1ZSA9IHRydWU7XG4gICAgaWYgKG9wdGlvbnMubmFtZSAmJiAhb3B0aW9ucy5kaXNwbGF5TmFtZSkgb3B0aW9ucy5kaXNwbGF5TmFtZSA9IG9wdGlvbnMubmFtZVxuICAgIGNvbnN0IHVua25vd25EaWZmaWN1bHR5RGVmYXVsdCA9XG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkZWZhdWx0Q2hlY2tEaWZmaWN1bHR5JykgPT09ICd1bmtub3duJ1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBhbGxvd0ZsYXREaWNlTW9kaWZpZXI6XG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FsbG93RmxhdERpY2VNb2RpZmllcicpICYmXG4gICAgICAgICFvcHRpb25zLmRpc2FibGVGbGF0RGljZU1vZGlmaWVyLFxuICAgICAgYWxsb3dGbGF0VGhyZXNob2xkTW9kaWZpZXI6XG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FsbG93RmxhdFRocmVzaG9sZE1vZGlmaWVyJykgJiZcbiAgICAgICAgIW9wdGlvbnMuZGlzYWJsZUZsYXRUaHJlc2hvbGRNb2RpZmllcixcbiAgICAgIGRpZmZpY3VsdHk6IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwsXG4gICAgICB1bmtub3duRGlmZmljdWx0eURlZmF1bHQsXG4gICAgICBoaWRlRGlmZmljdWx0eTogb3B0aW9ucy5oaWRlRGlmZmljdWx0eSA/PyBmYWxzZSxcbiAgICAgIG9wdGlvbnNcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG9wdGlvbnMuY2FyZFR5cGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAoIW9wdGlvbnMuZm9yY2VkQ2FyZFR5cGUgPz8gdHJ1ZSlcbiAgICApIHtcbiAgICAgIGRhdGEuY2FyZFR5cGVzID0gQ29DN0NoYXRNZXNzYWdlLmNhcmRUeXBlcyhvcHRpb25zKVxuICAgIH1cbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUoXG4gICAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2JvbnVzLmh0bWwnLFxuICAgICAgZGF0YVxuICAgIClcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBsZXQgZm9ybURhdGEgPSBudWxsXG4gICAgICBjb25zdCBkbGcgPSBuZXcgRGlhbG9nKHtcbiAgICAgICAgdGl0bGU6IG9wdGlvbnMuZGlzcGxheU5hbWVcbiAgICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQm9udXNTZWxlY3Rpb25XaW5kb3dOYW1lZCcsIHtcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuZGlzcGxheU5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkJvbnVzU2VsZWN0aW9uV2luZG93JyksXG4gICAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICByb2xsOiB7XG4gICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJvbGxEaWNlJyksXG4gICAgICAgICAgICBjYWxsYmFjazogaHRtbCA9PiB7XG4gICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGh0bWxbMF0ucXVlcnlTZWxlY3RvcignI2JvbnVzLXJvbGwtZm9ybScpKVxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmb3JtRGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6ICdyb2xsJyxcbiAgICAgICAgY2xvc2U6ICgpID0+IHt9XG4gICAgICB9KVxuICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBDaGF0TWVzc2FnZSwgZ2FtZSwgcmVuZGVyVGVtcGxhdGUsIHVpICovXG4vLyBpbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4uLy4uL2FjdG9ycy9hY3Rvci5qcyc7XG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcblxuZXhwb3J0IGNsYXNzIFJvbGxDYXJkIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMucm9sbHMgPSBbXVxuICAgIHRoaXMuaW5pdGlhdG9yID0gbnVsbFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21NZXNzYWdlSWQgKG1lc3NhZ2VJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgaWYgKCFtZXNzYWdlKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IHRoaXMuZnJvbU1lc3NhZ2UobWVzc2FnZSlcbiAgICBjYXJkLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZFxuICAgIHJldHVybiBjYXJkXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbU1lc3NhZ2UgKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9ICQobWVzc2FnZS5jb250ZW50KVswXVxuICAgIGlmICghY2FyZEVsZW1lbnQpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5mcm9tSFRNTENhcmRFbGVtZW50KGNhcmRFbGVtZW50KVxuICAgIGNhcmQubWVzc2FnZSA9IG1lc3NhZ2VcbiAgICByZXR1cm4gY2FyZFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21IVE1MQ2FyZEVsZW1lbnQgKGNhcmQpIHtcbiAgICBjb25zdCBjYXJkRGF0YSA9IEpTT04ucGFyc2UodW5lc2NhcGUoY2FyZC5kYXRhc2V0Lm9iamVjdCkpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZnJvbURhdGEoY2FyZERhdGEpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbURhdGEgKGRhdGEpIHtcbiAgICBjb25zdCBjYXJkID0gT2JqZWN0LmFzc2lnbihuZXcgdGhpcygpLCBkYXRhKVxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjYXJkLnJvbGxzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKGNhcmQucm9sbHNbaW5kZXhdPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgY2FyZC5yb2xsc1tpbmRleF0gPSBPYmplY3QuYXNzaWduKG5ldyBDb0M3Q2hlY2soKSwgY2FyZC5yb2xsc1tpbmRleF0pXG4gICAgICAgIGlmIChjYXJkLnJvbGxzW2luZGV4XS5yb2xsZWQpIHtcbiAgICAgICAgICBjYXJkLnJvbGxzW2luZGV4XS5faHRtbFJvbGwgPSBhd2FpdCBjYXJkLnJvbGxzW2luZGV4XS5nZXRIdG1sUm9sbCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfb25Ub2dnbGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3Qgc3BhbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBpZiAoc3BhbiAmJiBzcGFuLmNsYXNzTGlzdC5jb250YWlucygnZ20tc2VsZWN0LW9ubHknKSAmJiAhZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlID0gc3Bhbi5jbG9zZXN0KCcuY2hhdC1tZXNzYWdlJylcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5mcm9tTWVzc2FnZUlkKG1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWQpXG4gICAgaWYgKCFjYXJkKSByZXR1cm5cbiAgICBjb25zdCBmbGFnID0gc3Bhbi5kYXRhc2V0LmZsYWdcbiAgICBpZiAoIWZsYWcpIHJldHVyblxuICAgIGNvbnN0IHRvZ2dsZSA9IHNwYW4uY2xvc2VzdCgnLnRvZ2dsZScpXG4gICAgaWYgKCF0b2dnbGUpIHtcbiAgICAgIGNhcmQudG9nZ2xlRmxhZyhmbGFnKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBidXR0b25zID0gdG9nZ2xlLnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2dnbGUtc3dpdGNoJylcbiAgICAgIGZvciAoY29uc3QgYiBvZiBidXR0b25zKSB7XG4gICAgICAgIGNhcmQudW5zZXRGbGFnKGIuZGF0YXNldC5mbGFnKVxuICAgICAgfVxuICAgICAgY2FyZC5zZXRGbGFnKGZsYWcpXG4gICAgfVxuICAgIGNhcmQudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRpc3BhdGNoIChkYXRhKSB7XG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBsZXQgbWVzc2FnZXMgPSB1aS5jaGF0LmNvbGxlY3Rpb24uZmlsdGVyKG1lc3NhZ2UgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5kZWZhdWx0Q29uZmlnLnR5cGUgPT09IG1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICd0eXBlJykgJiZcbiAgICAgICAgICBtZXNzYWdlLmdldEZsYWcoJ0NvQzcnLCAnc3RhdGUnKSAhPT0gJ3Jlc29sdmVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoWydjb21iaW5lZENhcmQnXS5pbmNsdWRlcyh0aGlzLmRlZmF1bHRDb25maWcudHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmdldEZsYWcoJ0NvQzcnLCAnaW5pdGlhdG9yJykgPT09IGRhdGEucm9sbC5pbml0aWF0b3JcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gT2xkIG1lc3NhZ2VzIGNhbid0IGJlIHVzZWQgaWYgbWVzc2FnZSBpcyBtb3JlIHRoYW4gYSBkYXkgb2xkIG1hcmsgaXQgYXMgcmVzb2x2ZWRcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUobWVzc2FnZXNbMF0udGltZXN0YW1wKVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgICAgIGNvbnN0IHRpbWVEaWZmU2VjID0gKG5vdyAtIHRpbWVzdGFtcCkgLyAxMDAwXG4gICAgICAgIGlmICgyNCAqIDYwICogNjAgPCB0aW1lRGlmZlNlYykge1xuICAgICAgICAgIGF3YWl0IG1lc3NhZ2VzWzBdLnNldEZsYWcoJ0NvQzcnLCAnc3RhdGUnLCAncmVzb2x2ZWQnKVxuICAgICAgICAgIG1lc3NhZ2VzID0gW11cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgY2FyZFxuICAgICAgaWYgKCFtZXNzYWdlcy5sZW5ndGgpIGNhcmQgPSBuZXcgdGhpcygpXG4gICAgICBlbHNlIGNhcmQgPSBhd2FpdCB0aGlzLmZyb21NZXNzYWdlKG1lc3NhZ2VzWzBdKVxuICAgICAgaWYgKHR5cGVvZiBkYXRhLl9yb2xsTW9kZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2FyZC5fcm9sbE1vZGUgPSBkYXRhLl9yb2xsTW9kZVxuICAgICAgfVxuICAgICAgYXdhaXQgY2FyZC5wcm9jZXNzKGRhdGEpXG4gICAgfSBlbHNlIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3JywgZGF0YSlcbiAgfVxuXG4gIGFzeW5jIHRvTWVzc2FnZSAoKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMuY29uZmlnLnRlbXBsYXRlLCB0aGlzKVxuICAgIGNvbnN0IGh0bWxDYXJkRWxlbWVudCA9ICQoaHRtbClcbiAgICBodG1sQ2FyZEVsZW1lbnRbMF0uZGF0YXNldC5vYmplY3QgPSBlc2NhcGUodGhpcy5kYXRhU3RyaW5nKVxuXG4gICAgY29uc3QgY2hhdERhdGEgPSB7XG4gICAgICB1c2VyOiBnYW1lLnVzZXIuaWQsXG4gICAgICBmbGF2b3I6IGdhbWUuaTE4bi5sb2NhbGl6ZSh0aGlzLmNvbmZpZy50aXRsZSksXG4gICAgICBjb250ZW50OiBodG1sQ2FyZEVsZW1lbnRbMF0ub3V0ZXJIVE1MLFxuICAgICAgZmxhZ3M6IHtcbiAgICAgICAgQ29DNzoge1xuICAgICAgICAgIHR5cGU6IHRoaXMuY29uZmlnLnR5cGUsXG4gICAgICAgICAgc3RhdGU6ICdpbml0aWF0ZWQnLFxuICAgICAgICAgIGluaXRpYXRvcjogdGhpcy5pbml0aWF0b3JcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChbJ2dtcm9sbCcsICdibGluZHJvbGwnXS5pbmNsdWRlcyh0aGlzLnJvbGxNb2RlKSkge1xuICAgICAgY2hhdERhdGEud2hpc3BlciA9IENoYXRNZXNzYWdlLmdldFdoaXNwZXJSZWNpcGllbnRzKCdHTScpXG4gICAgfVxuICAgIGlmICh0aGlzLnJvbGxNb2RlID09PSAnYmxpbmRyb2xsJykgY2hhdERhdGEuYmxpbmQgPSB0cnVlXG5cbiAgICBjb25zdCBtc2cgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpXG4gICAgcmV0dXJuIG1zZ1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ2hhdENhcmQgKCkge1xuICAgIGF3YWl0IHRoaXMuY29tcHV0ZSgpXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2VJZCkge1xuICAgICAgYXdhaXQgdGhpcy50b01lc3NhZ2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy5jb25maWcudGVtcGxhdGUsIHRoaXMpXG4gICAgICBjb25zdCBodG1sQ2FyZEVsZW1lbnQgPSAkLnBhcnNlSFRNTChodG1sKVswXVxuXG4gICAgICAvLyBBdHRhY2ggdGhlIHNhbkNoZWNrQ2FyZCBvYmplY3QgdG8gdGhlIG1lc3NhZ2UuXG4gICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUodGhpcy5kYXRhU3RyaW5nKVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIG1lc3NhZ2UuXG4gICAgICBjb25zdCBjaGF0TWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KHRoaXMubWVzc2FnZUlkKVxuICAgICAgaWYgKHRoaXMuY2xvc2VkKSBhd2FpdCBjaGF0TWVzc2FnZS5zZXRGbGFnKCdDb0M3JywgJ3N0YXRlJywgJ3Jlc29sdmVkJylcblxuICAgICAgY29uc3QgbXNnID0gYXdhaXQgY2hhdE1lc3NhZ2UudXBkYXRlKHtcbiAgICAgICAgY29udGVudDogaHRtbENhcmRFbGVtZW50Lm91dGVySFRNTFxuICAgICAgfSlcbiAgICAgIGF3YWl0IHVpLmNoYXQudXBkYXRlTWVzc2FnZShtc2csIGZhbHNlKVxuICAgICAgcmV0dXJuIG1zZ1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVJvbGwgKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuZnJvbUdNKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMucm9sbHNbZGF0YS5yYW5rXSwgZGF0YS5yb2xsKVxuICAgIH1cbiAgfVxuXG4gIGFkZFJvbGxEYXRhIChkYXRhKSB7XG4gICAgY29uc3QgY2hlY2sgPSBPYmplY3QuYXNzaWduKG5ldyBDb0M3Q2hlY2soKSwgZGF0YS5yb2xsKVxuICAgIHRoaXMucm9sbHMucHVzaChjaGVjaylcbiAgICBpZiAodGhpcy5jb25maWcudHlwZSA9PT0gJ2NvbWJpbmVkQ2FyZCcpIHtcbiAgICAgIHRoaXMuaW5pdGlhdG9yID0gZGF0YS5yb2xsLmluaXRpYXRvclxuICAgIH1cbiAgfVxuXG4gIGFkZFJvbGwgKGRhdGEpIHtcbiAgICB0aGlzLnJvbGxzLnB1c2goZGF0YSlcbiAgfVxuXG4gIHJlbW92ZVJvbGwgKHJhbmspIHtcbiAgICB0aGlzLnJvbGxzLnNwbGljZShyYW5rLCAxKVxuICB9XG5cbiAgc2V0RmxhZyAoZmxhZ05hbWUpIHtcbiAgICBpZiAoIWZsYWdOYW1lICYmICEoJC50eXBlKGZsYWdOYW1lKSA9PT0gJ3N0cmluZycpKSByZXR1cm5cbiAgICB0aGlzW2ZsYWdOYW1lXSA9IHRydWVcbiAgfVxuXG4gIHVuc2V0RmxhZyAoZmxhZ05hbWUpIHtcbiAgICBpZiAoIWZsYWdOYW1lICYmICEoJC50eXBlKGZsYWdOYW1lKSA9PT0gJ3N0cmluZycpKSByZXR1cm5cbiAgICB0aGlzW2ZsYWdOYW1lXSA9IGZhbHNlXG4gIH1cblxuICB0b2dnbGVGbGFnIChmbGFnTmFtZSkge1xuICAgIHRoaXNbZmxhZ05hbWVdID0gIXRoaXNbZmxhZ05hbWVdXG4gIH1cblxuICBnZXQgbWVzc2FnZSAoKSB7XG4gICAgaWYgKHRoaXMuX21lc3NhZ2UpIHJldHVybiB0aGlzLl9tZXNzYWdlXG4gICAgaWYgKHRoaXMuX21lc3NhZ2VJZCkgcmV0dXJuIGdhbWUubWVzc2FnZXMuZ2V0KHRoaXMuX21lc3NhZ2VJZClcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBzZXQgbWVzc2FnZSAoeCkge1xuICAgIHRoaXMuX21lc3NhZ2UgPSB4XG4gIH1cblxuICBnZXQgbWVzc2FnZUlkICgpIHtcbiAgICBpZiAodGhpcy5fbWVzc2FnZUlkKSByZXR1cm4gdGhpcy5fbWVzc2FnZUlkXG4gICAgaWYgKHRoaXMuX21lc3NhZ2UpIHJldHVybiB0aGlzLl9tZXNzYWdlLmlkXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgc2V0IG1lc3NhZ2VJZCAoeCkge1xuICAgIHRoaXMuX21lc3NhZ2VJZCA9IHhcbiAgfVxuXG4gIC8vLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgc3RhdGljIGdldCBkZWZhdWx0Q29uZmlnICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhjbHVkZTogWydfYWN0b3InLCAnX3NraWxsJywgJ19pdGVtJywgJ19tZXNzYWdlJywgJ19odG1sUm9sbCddLFxuICAgICAgZXhjbHVkZVN0YXJ0V2l0aDogJ19fJ1xuICAgIH1cbiAgfVxuXG4gIC8vLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBnZXQgd2lubmVycyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9sbHMuZmlsdGVyKHIgPT4gci53aW5uZXIpXG4gIH1cblxuICBnZXQgd2lubmVyICgpIHtcbiAgICBpZiAodGhpcy53aW5uZXJzLmxlbmd0aCkgcmV0dXJuIHRoaXMud2lubmVyc1swXVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBsb29zZXJzICgpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xscy5maWx0ZXIociA9PiAhci53aW5uZXIpXG4gIH1cblxuICBnZXQgbG9vc2VyICgpIHtcbiAgICBpZiAodGhpcy5sb29zZXJzLmxlbmd0aCkgcmV0dXJuIHRoaXMubG9vc2Vyc1swXVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBoYXNXaW5uZXIgKCkge1xuICAgIGlmICh0aGlzLndpbm5lcnMubGVuZ3RoID4gMCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBpc0tlZXBlciAoKSB7XG4gICAgcmV0dXJuIGdhbWUudXNlci5pc0dNXG4gIH1cblxuICBnZXQgcm9sbE1vZGUgKCkge1xuICAgIGlmICghdGhpcy5fcm9sbE1vZGUpIHRoaXMuX3JvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIHJldHVybiB0aGlzLl9yb2xsTW9kZVxuICB9XG5cbiAgc2V0IHJvbGxNb2RlICh4KSB7XG4gICAgaWYgKHggPT09IGZhbHNlKSB0aGlzLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICB0aGlzLl9yb2xsTW9kZSA9IHhcbiAgfVxuXG4gIGdldCBkYXRhICgpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmRhdGFTdHJpbmcpXG4gIH1cblxuICBnZXQgZGF0YVN0cmluZyAoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWRcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5leGNsdWRlPy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgodGhpcy5jb25maWcuZXhjbHVkZVN0YXJ0V2l0aCkpIHJldHVybiB1bmRlZmluZWRcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBBdWRpb0hlbHBlciwgQ09ORklHLCBnYW1lLCBtZXJnZU9iamVjdCAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vLi4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3RGljZSB9IGZyb20gJy4uLy4uL2RpY2UuanMnXG5pbXBvcnQgeyBSb2xsQ2FyZCB9IGZyb20gJy4vcm9sbC1jYXJkLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29tYmluZWRDaGVja0NhcmQgZXh0ZW5kcyBSb2xsQ2FyZCB7XG4gIHN0YXRpYyBhc3luYyBiaW5kTGlzdGVybmVycyAoaHRtbCkge1xuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5yb2xsLWNhcmQuY29tYmluZWQgLnRvZ2dsZS1zd2l0Y2gnLFxuICAgICAgdGhpcy5fb25Ub2dnbGUuYmluZCh0aGlzKVxuICAgIClcbiAgICAvLyBodG1sLmZpbmQoJy5yb2xsLWNhcmQgYScpLmNsaWNrKGFzeW5jIChldmVudCkgPT4gQ29tYmluZWRDaGVja0NhcmQuX29uQ2xpY2soIGV2ZW50KSk7XG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnJvbGwtY2FyZC5jb21iaW5lZCBhJyxcbiAgICAgIENvbWJpbmVkQ2hlY2tDYXJkLl9vbkNsaWNrLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnJvbGwtY2FyZC5jb21iaW5lZCBidXR0b24nLFxuICAgICAgQ29tYmluZWRDaGVja0NhcmQuX29uQ2xpY2suYmluZCh0aGlzKVxuICAgIClcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdENvbmZpZyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRDb25maWcsIHtcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L2NhcmRzL2NvbWJpbmVkLXJvbGwuaHRtbCcsXG4gICAgICB0eXBlOiAnY29tYmluZWRDYXJkJyxcbiAgICAgIHRpdGxlOiAnQ29DNy5Db21iaW5lZFJvbGxDYXJkJ1xuICAgIH0pXG4gIH1cblxuICBnZXQgY29uZmlnICgpIHtcbiAgICByZXR1cm4gQ29tYmluZWRDaGVja0NhcmQuZGVmYXVsdENvbmZpZ1xuICB9XG5cbiAgZ2V0IHN1Y2Nlc3NDb3VudCAoKSB7XG4gICAgaWYgKHRoaXMucm9sbGVkKSB7XG4gICAgICBsZXQgY291bnQgPSAwXG4gICAgICBmb3IgKGNvbnN0IHIgb2YgdGhpcy5yb2xscykge1xuICAgICAgICBpZiAoci5wYXNzZWQpIGNvdW50ICs9IDFcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb3VudFxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgbWFpbkFjdG9yS2V5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xsc1swXT8uYWN0b3I/LmFjdG9yS2V5IHx8IHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IHN1Y2Nlc3MgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5zdWNjZXNzQ291bnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKHRoaXMuYW55KSB7XG4gICAgICBpZiAodGhpcy5zdWNjZXNzQ291bnQgPiAwKSByZXR1cm4gdHJ1ZVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmICh0aGlzLmFsbCkge1xuICAgICAgaWYgKHRoaXMuc3VjY2Vzc0NvdW50ID09PSB0aGlzLnJvbGxzLmxlbmd0aCkgcmV0dXJuIHRydWVcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgZmFpbHVyZSAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnN1Y2Nlc3MgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuICF0aGlzLnN1Y2Nlc3NcbiAgfVxuXG4gIGdldCBjaGVja0dNSW5pdGlhdG9yICgpIHtcbiAgICByZXR1cm4gZ2FtZS51c2Vycy5nZXQodGhpcy5pbml0aWF0b3IpPy5pc0dNXG4gIH1cblxuICBhc3luYyBnZXRIdG1sUm9sbCAoKSB7XG4gICAgaWYgKCF0aGlzLnJvbGxlZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgYXdhaXQgY2hlY2suX3BlcmZvcm0oe1xuICAgICAgcm9sbDogdGhpcy5fcm9sbFtjaGVjay5kaWNlTW9kaWZpZXIgfHwgMF0sXG4gICAgICBzaWxlbnQ6IHRydWVcbiAgICB9KVxuICAgIHJldHVybiBhd2FpdCBjaGVjay5nZXRIdG1sUm9sbCh7IGhpZGVTdWNjZXNzOiB0cnVlIH0pXG4gIH1cblxuICBwcm9jZXNzIChkYXRhKSB7XG4gICAgc3dpdGNoIChkYXRhLmFjdGlvbikge1xuICAgICAgY2FzZSAnbmV3JzpcbiAgICAgICAgdGhpcy5hZGRSb2xsRGF0YShkYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdyb2xsJzpcbiAgICAgICAgdGhpcy5hZGRSb2xsRGF0YShkYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICd1cGRhdGVSb2xsJzoge1xuICAgICAgICB0aGlzLnVwZGF0ZVJvbGwoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnYXNzaWduUm9sbCc6IHtcbiAgICAgICAgdGhpcy5hc3NpZ25Sb2xsKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgICBlbHNlIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3JywgZGF0YSlcbiAgfVxuXG4gIGFzeW5jIGFzc2lnblJvbGwgKGRhdGEpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGlmICghdGhpcy5yb2xsZWQpIHtcbiAgICAgICAgdGhpcy5yb2xsZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuX3JvbGwgPSBkYXRhLnJvbGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX29uQ2xpY2sgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBhY3Rpb24gPSBhLmRhdGFzZXQuYWN0aW9uXG4gICAgY29uc3QgbGkgPSBhLmNsb3Nlc3QoJ2xpLmFjdG9yLXJvbGwnKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhLmNsb3Nlc3QoJy5jaGF0LW1lc3NhZ2UnKVxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gYS5jbG9zZXN0KCdkaXYucm9sbC1jYXJkJylcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgQ29tYmluZWRDaGVja0NhcmQuZnJvbUhUTUxDYXJkRWxlbWVudChjYXJkRWxlbWVudClcbiAgICBjYXJkLm1lc3NhZ2VJZCA9IG1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWRcbiAgICBjb25zdCByYW5rID0gTnVtYmVyKGxpPy5kYXRhc2V0Py5yYW5rKVxuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ3JlbW92ZS1yb2xsJzoge1xuICAgICAgICBjYXJkLnJlbW92ZVJvbGwocmFuaylcbiAgICAgICAgYXdhaXQgY2FyZC51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2Nsb3NlLWNhcmQnOiB7XG4gICAgICAgIGNhcmQuY2xvc2VDYXJkKClcbiAgICAgICAgYXdhaXQgY2FyZC51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JvbGwtY2FyZCc6IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IHt9XG4gICAgICAgIGZvciAoY29uc3QgZGljZSBvZiBjYXJkLnJvbGxzKSB7XG4gICAgICAgICAgY29uc3QgZGljZU1vZGlmaWVyID0gcGFyc2VJbnQoZGljZS5kaWNlTW9kaWZpZXIsIDEwKVxuICAgICAgICAgIGlmICghaXNOYU4oZGljZU1vZGlmaWVyKSkge1xuICAgICAgICAgICAgcG9vbFtkaWNlTW9kaWZpZXJdID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByb2xsID0gYXdhaXQgQ29DN0RpY2UuY29tYmluZWRSb2xsKHsgcG9vbCB9KVxuICAgICAgICByb2xsLmluaXRpYXRvciA9IGdhbWUudXNlci5pZFxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgdHlwZTogdGhpcy5kZWZhdWx0Q29uZmlnLnR5cGUsXG4gICAgICAgICAgYWN0aW9uOiAnYXNzaWduUm9sbCcsXG4gICAgICAgICAgZnJvbUdNOiBnYW1lLnVzZXIuaXNHTSxcbiAgICAgICAgICByb2xsXG4gICAgICAgIH1cbiAgICAgICAgQXVkaW9IZWxwZXIucGxheSh7IHNyYzogQ09ORklHLnNvdW5kcy5kaWNlIH0sIHRydWUpXG4gICAgICAgIGNhcmQucHJvY2VzcyhkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgdXBkYXRlOiBmYWxzZSxcbiAgICAgICAgICBkYXRhOiBhLmRhdGFzZXQsXG4gICAgICAgICAgY2xhc3NlczogYS5jbGFzc0xpc3QsXG4gICAgICAgICAgdGFyZ2V0OiBhXG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgQ29DN0NoZWNrLmFsdGVyKGNhcmQucm9sbHNbcmFua10sIGFjdGlvbiwgb3B0aW9ucylcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICB0eXBlOiB0aGlzLmRlZmF1bHRDb25maWcudHlwZSxcbiAgICAgICAgICBhY3Rpb246ICd1cGRhdGVSb2xsJyxcbiAgICAgICAgICByYW5rLFxuICAgICAgICAgIGZyb21HTTogZ2FtZS51c2VyLmlzR00sXG4gICAgICAgICAgcm9sbDoge1xuICAgICAgICAgICAgaW5pdGlhdG9yOiBnYW1lLnVzZXIuaWRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnYW1lLnVzZXIuaXNHTSkgZGF0YS5yb2xsID0gY2FyZC5yb2xsc1tyYW5rXS5KU09OUm9sbERhdGFcbiAgICAgICAgY2FyZC5wcm9jZXNzKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY29tcHV0ZSAoKSB7XG4gICAgaWYgKCF0aGlzLl9yb2xsKSByZXR1cm5cblxuICAgIHRoaXMucm9sbHMgPSB0aGlzLnJvbGxzLmZpbHRlcihyb2xsID0+IHtcbiAgICAgIHJldHVybiB0eXBlb2Ygcm9sbC5hY3Rvci5kYXRhICE9PSAndW5kZWZpbmVkJyAvLyByZW1vdmUgYW55IGFjdG9ycyB0aGF0IG5vIGxvbmdlciBleGlzdFxuICAgIH0pXG5cbiAgICBmb3IgKGNvbnN0IHIgb2YgdGhpcy5yb2xscykge1xuICAgICAgaWYgKCFyLnJvbGxlZCkge1xuICAgICAgICByLm1vZGlmaWVyID0gci5kaWNlTW9kaWZpZXIgfHwgMFxuICAgICAgICByLmRpZmZpY3VsdHkgPSByLmRpZmZpY3VsdHkgfHwgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgICAgIHIuZmxhdERpY2VNb2RpZmllciA9IHIuZmxhdERpY2VNb2RpZmllciB8fCAwXG4gICAgICAgIHIuZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gci5mbGF0VGhyZXNob2xkTW9kaWZpZXIgfHwgMFxuICAgICAgICBhd2FpdCByLl9wZXJmb3JtKHsgcm9sbDogdGhpcy5fcm9sbFtyLm1vZGlmaWVyXSwgc2lsZW50OiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yb2xscy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucm9sbHNbaV0ucm9sbGVkKSB7XG4gICAgICAgIHRoaXMucm9sbHNbaV0uX2h0bWxSb2xsID0gYXdhaXQgdGhpcy5yb2xsc1tpXS5nZXRIdG1sUm9sbCh7XG4gICAgICAgICAgaGlkZURpY2VSZXN1bHQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9odG1sUm9sbCA9IGF3YWl0IHRoaXMuZ2V0SHRtbFJvbGwoKVxuICB9XG5cbiAgY2xvc2VDYXJkICgpIHtcbiAgICB0aGlzLmNsb3NlZCA9IHRydWVcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENoYXRNZXNzYWdlLCBkaWZmT2JqZWN0LCBleHBhbmRPYmplY3QsIEZvcm1EYXRhRXh0ZW5kZWQsIGdhbWUsIG1lcmdlT2JqZWN0LCByZW5kZXJUZW1wbGF0ZSwgdWkgKi9cbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuL2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aXZlQ2hhdENhcmQge1xuICBjb25zdHJ1Y3RvciAob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnNcbiAgfVxuXG4gIGdldCBvcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3QodGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0T3B0aW9ucywgdGhpcy5fb3B0aW9ucylcbiAgfVxuXG4gIGdldCB0ZW1wbGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy50ZW1wbGF0ZVxuICB9XG5cbiAgZ2V0IGNzc0NsYXNzZXMgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2xhc3Nlc1xuICB9XG5cbiAgYXN5bmMgdG9NZXNzYWdlIChvcHRpb25uYWxDaGF0RGF0YSA9IHt9KSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG4gICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJChodG1sKVswXVxuICAgIGh0bWxDYXJkRWxlbWVudC5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZSh0aGlzLmRhdGFTdHJpbmcpXG4gICAgaHRtbENhcmRFbGVtZW50LmRhdGFzZXQuY2FyZENsYXNzID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgaHRtbENhcmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4udGhpcy5jc3NDbGFzc2VzKVxuXG4gICAgY29uc3QgY2hhdERhdGEgPSBtZXJnZU9iamVjdChcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgICBmbGF2b3I6IGdhbWUuaTE4bi5sb2NhbGl6ZSh0aGlzLm9wdGlvbnMudGl0bGUpLFxuICAgICAgICBjb250ZW50OiBodG1sQ2FyZEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgICB9LFxuICAgICAgb3B0aW9ubmFsQ2hhdERhdGFcbiAgICApXG5cbiAgICBpZiAoWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXModGhpcy5yb2xsTW9kZSkpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgIH1cbiAgICBpZiAodGhpcy5yb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCcpIGNoYXREYXRhLmJsaW5kID0gdHJ1ZVxuXG4gICAgQ2hhdE1lc3NhZ2UuY3JlYXRlKGNoYXREYXRhKS50aGVuKG1zZyA9PiB7XG4gICAgICByZXR1cm4gbXNnXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNoYXRDYXJkIChvcHRpb25zID0ge30pIHtcbiAgICBpZiAob3B0aW9ucy5jb21wdXRlKSB0aGlzLmNvbXB1dGUoKVxuICAgIGlmICghdGhpcy5tZXNzYWdlSWQpIHtcbiAgICAgIHRoaXMudG9NZXNzYWdlKClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG4gICAgICBjb25zdCBodG1sQ2FyZEVsZW1lbnQgPSAkLnBhcnNlSFRNTChodG1sKVswXVxuXG4gICAgICAvLyBBdHRhY2ggdGhlIHNhbkNoZWNrQ2FyZCBvYmplY3QgdG8gdGhlIG1lc3NhZ2UuXG4gICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUodGhpcy5kYXRhU3RyaW5nKVxuICAgICAgaHRtbENhcmRFbGVtZW50LmRhdGFzZXQuY2FyZENsYXNzID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgICBodG1sQ2FyZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi50aGlzLmNzc0NsYXNzZXMpXG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgbWVzc2FnZS5cbiAgICAgIGNvbnN0IGNoYXRNZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG4gICAgICBpZiAodGhpcy5jbG9zZWQpIGF3YWl0IGNoYXRNZXNzYWdlLnNldEZsYWcoJ0NvQzcnLCAnc3RhdGUnLCAncmVzb2x2ZWQnKVxuXG4gICAgICBjb25zdCBtc2cgPSBhd2FpdCBjaGF0TWVzc2FnZS51cGRhdGUoe1xuICAgICAgICBjb250ZW50OiBodG1sQ2FyZEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgICB9KVxuICAgICAgYXdhaXQgdWkuY2hhdC51cGRhdGVNZXNzYWdlKG1zZywgZmFsc2UpXG4gICAgICByZXR1cm4gbXNnXG4gICAgfVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcuaW50ZXJhY3RpdmUtY2FyZCAuaWMtcmFkaW8tc3dpdGNoJyxcbiAgICAgIHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbignY2xpY2snLCAnLmludGVyYWN0aXZlLWNhcmQgLmljLXN3aXRjaCcsIHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignY2xpY2snLCAnLmludGVyYWN0aXZlLWNhcmQgLnN1Ym1pdCcsIHRoaXMuX29uU3VibWl0LmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignZm9jdXNvdXQnLCAnaW5wdXQnLCB0aGlzLl9vblN1Ym1pdC5iaW5kKHRoaXMpKVxuICAgIGh0bWwub24oJ2NsaWNrJywgJy5pbnRlcmFjdGl2ZS1jYXJkIGJ1dHRvbicsIHRoaXMuX29uQnV0dG9uLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbigna2V5ZG93bicsICdmb3JtJywgdGhpcy5fb25LZXkuYmluZCh0aGlzKSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBiaW5kTGlzdGVuZXJzIChodG1sKSB7XG4gICAgY29uc3QgaHRtbE1lc3NhZ2VFbGVtZW50ID0gaHRtbFswXVxuICAgIGNvbnN0IGh0bWxDYXJkRWxlbWVudCA9IGh0bWxNZXNzYWdlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhdC1jYXJkJylcbiAgICBpZiAoIWh0bWxDYXJkRWxlbWVudCkgcmV0dXJuXG4gICAgaWYgKCFodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5jYXJkQ2xhc3MpIHJldHVyblxuICAgIGlmIChcbiAgICAgICFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhnYW1lLkNvQzcuY2FyZHMpLmluY2x1ZGVzKFxuICAgICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5jYXJkQ2xhc3NcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBjYXJkID0gYXdhaXQgSW50ZXJhY3RpdmVDaGF0Q2FyZC5mcm9tSFRNTENhcmRFbGVtZW50KGh0bWxDYXJkRWxlbWVudClcbiAgICBjb25zdCB0eXBlZENhcmQgPSBPYmplY3QuYXNzaWduKFxuICAgICAgbmV3IGdhbWUuQ29DNy5jYXJkc1todG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5jYXJkQ2xhc3NdKCksXG4gICAgICBjYXJkXG4gICAgKVxuICAgIHR5cGVkQ2FyZC5hc3NpZ25PYmplY3QoKVxuICAgIHR5cGVkQ2FyZC5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRvIHJlYXNzaWduIG9iamVjdCB0eXBlXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3NpZ25PYmplY3QgKCkge31cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHsqfSBldmVudCB3aWxsIGNoZWNrIGZvciBhbiBhY3Rpb24gKGRhdGEtYWN0aW9uKVxuICAgKiBpZiBhIG1ldGhvZCB3aXRoIHRoYXQgbmFtZSBleGlzdCBpdCB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICovXG4gIF9vbkJ1dHRvbiAoZXZlbnQpIHtcbiAgICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgLy8gYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgLy9Bdm9pZCBtdWx0aXBsZSBwdXNoXG4gICAgY29uc3QgYWN0aW9uID0gYnV0dG9uLmRhdGFzZXQuYWN0aW9uXG4gICAgaWYgKHRoaXNbYWN0aW9uXSkgdGhpc1thY3Rpb25dKHsgZXZlbnQsIHVwZGF0ZTogdHJ1ZSB9KVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICogQHJldHVybnMgZmFsc2UgaWYga2V5IGlzIGVudGVyIHRvIGF2b2lkIGdsb2JhbCBzdWJtaXNzaW9uXG4gICAqL1xuICBfb25LZXkgKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykgdGhpcy5fb25TdWJtaXQoZXZlbnQpXG4gICAgcmV0dXJuIGV2ZW50LmtleSAhPT0gJ0VudGVyJ1xuICB9XG5cbiAgX29uU3VibWl0IChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBjYXJkID0gdGFyZ2V0LmNsb3Nlc3QoJy5pbnRlcmFjdGl2ZS1jYXJkJylcbiAgICBpZiAoIWNhcmQpIHJldHVyblxuICAgIGNvbnN0IHVwZGF0ZXMgPSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICBpZiAodXBkYXRlcykgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBfdXBkYXRlIChjYXJkKSB7XG4gICAgY29uc3QgZm9ybXMgPSBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKVxuICAgIGxldCB1cGRhdGVzID0gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmb3JtID0gZm9ybXNbaV1cbiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhRXh0ZW5kZWQoZm9ybSlcbiAgICAgIGxldCBkYXRhID0gZmQudG9PYmplY3QoKVxuICAgICAgZGF0YSA9IGRpZmZPYmplY3QodGhpcywgZXhwYW5kT2JqZWN0KGRhdGEpKVxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgICAgdGhpc1trZXldID0gdmFsdWVcbiAgICAgICAgdXBkYXRlcyA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZXNcbiAgfVxuXG4gIGdldCBtZXNzYWdlICgpIHtcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2VcbiAgICBpZiAodGhpcy5fbWVzc2FnZUlkKSByZXR1cm4gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5fbWVzc2FnZUlkKVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHNldCBtZXNzYWdlICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZSA9IHhcbiAgfVxuXG4gIGdldCBtZXNzYWdlSWQgKCkge1xuICAgIGlmICh0aGlzLl9tZXNzYWdlSWQpIHJldHVybiB0aGlzLl9tZXNzYWdlSWRcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2UuaWRcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBzZXQgbWVzc2FnZUlkICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZUlkID0geFxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsYXNzZXM6IFsnaW50ZXJhY3RpdmUtY2FyZCddLFxuICAgICAgZXhjbHVkZTogWydfYWN0b3InLCAnX3NraWxsJywgJ19pdGVtJywgJ19tZXNzYWdlJywgJ19odG1sUm9sbCddLFxuICAgICAgZXhjbHVkZVN0YXJ0V2l0aDogJ19fJ1xuICAgIH1cbiAgfVxuXG4gIGdldCBkYXRhICgpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmRhdGFTdHJpbmcpXG4gIH1cblxuICBnZXQgZGF0YVN0cmluZyAoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWRcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXhjbHVkZT8uaW5jbHVkZXMoa2V5KSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKHRoaXMub3B0aW9ucy5leGNsdWRlU3RhcnRXaXRoKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSlcbiAgfVxuXG4gIGdldCByb2xsTW9kZSAoKSB7XG4gICAgaWYgKCF0aGlzLl9yb2xsTW9kZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgcmV0dXJuIHRoaXMuX3JvbGxNb2RlXG4gIH1cblxuICBzZXQgcm9sbE1vZGUgKHgpIHtcbiAgICBpZiAoeCA9PT0gZmFsc2UpIHRoaXMuX3JvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIHRoaXMuX3JvbGxNb2RlID0geFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21NZXNzYWdlSWQgKG1lc3NhZ2VJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgaWYgKCFtZXNzYWdlKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IHRoaXMuZnJvbU1lc3NhZ2UobWVzc2FnZSlcbiAgICBjYXJkLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZFxuICAgIHJldHVybiBjYXJkXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbU1lc3NhZ2UgKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9ICQobWVzc2FnZS5jb250ZW50KVswXVxuICAgIGlmICghY2FyZEVsZW1lbnQpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5mcm9tSFRNTENhcmRFbGVtZW50KGNhcmRFbGVtZW50KVxuICAgIGNhcmQubWVzc2FnZSA9IG1lc3NhZ2VcbiAgICByZXR1cm4gY2FyZFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21IVE1MQ2FyZEVsZW1lbnQgKGNhcmQpIHtcbiAgICBjb25zdCBjYXJkRGF0YSA9IEpTT04ucGFyc2UodW5lc2NhcGUoY2FyZC5kYXRhc2V0Lm9iamVjdCkpXG4gICAgaWYgKCFjYXJkRGF0YS5tZXNzYWdlSWQpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjYXJkLmNsb3Nlc3QoJy5tZXNzYWdlJylcbiAgICAgIGNhcmREYXRhLm1lc3NhZ2VJZCA9IG1lc3NhZ2U/LmRhdGFzZXQ/Lm1lc3NhZ2VJZFxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5mcm9tRGF0YShjYXJkRGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tRGF0YSAoZGF0YSkge1xuICAgIGNvbnN0IGNhcmQgPSBPYmplY3QuYXNzaWduKG5ldyB0aGlzKCksIGRhdGEpXG4gICAgYXdhaXQgY2FyZC5hc3NpZ25PYmplY3QoKVxuICAgIHJldHVybiBjYXJkXG4gIH1cblxuICAvLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgc2V0RmxhZyAoZmxhZ05hbWUpIHtcbiAgICBpZiAoIWZsYWdOYW1lICYmICEoJC50eXBlKGZsYWdOYW1lKSA9PT0gJ3N0cmluZycpKSByZXR1cm5cbiAgICB0aGlzW2ZsYWdOYW1lXSA9IHRydWVcbiAgfVxuXG4gIHVuc2V0RmxhZyAoZmxhZ05hbWUpIHtcbiAgICBpZiAoIWZsYWdOYW1lICYmICEoJC50eXBlKGZsYWdOYW1lKSA9PT0gJ3N0cmluZycpKSByZXR1cm5cbiAgICB0aGlzW2ZsYWdOYW1lXSA9IGZhbHNlXG4gIH1cblxuICB0b2dnbGVGbGFnIChmbGFnTmFtZSkge1xuICAgIHRoaXNbZmxhZ05hbWVdID0gIXRoaXNbZmxhZ05hbWVdXG4gIH1cblxuICBhc3luYyBfb25Ub2dnbGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGlmICgnYWN0aW9uJyBpbiB0YXJnZXQuZGF0YXNldCkgcmV0dXJuIHRoaXMuX29uQnV0dG9uKGV2ZW50KVxuICAgIGlmIChcbiAgICAgIHRhcmdldCAmJlxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZ20tc2VsZWN0LW9ubHknKSAmJlxuICAgICAgIWdhbWUudXNlci5pc0dNXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgZmxhZyA9IHRhcmdldC5kYXRhc2V0LmZsYWdcbiAgICBpZiAoIWZsYWcpIHJldHVyblxuICAgIGNvbnN0IHRvZ2dsZSA9IHRhcmdldC5jbG9zZXN0KCcuaWMtcmFkaW8nKVxuICAgIGlmICghdG9nZ2xlKSB7XG4gICAgICB0aGlzLnRvZ2dsZUZsYWcoZmxhZylcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYnV0dG9ucyA9IHRvZ2dsZS5xdWVyeVNlbGVjdG9yQWxsKCcuaWMtcmFkaW8tc3dpdGNoJylcbiAgICAgIGZvciAoY29uc3QgYiBvZiBidXR0b25zKSB7XG4gICAgICAgIHRoaXMudW5zZXRGbGFnKGIuZGF0YXNldC5mbGFnKVxuICAgICAgfVxuICAgICAgdGhpcy5zZXRGbGFnKGZsYWcpXG4gICAgfVxuICAgIGNvbnN0IGNhcmQgPSB0YXJnZXQuY2xvc2VzdCgnLmludGVyYWN0aXZlLWNhcmQnKVxuICAgIGlmIChjYXJkKSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIC8vLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZ2V0IGRpc3BsYXlBY3Rvck9uQ2FyZCAoKSB7XG4gICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3BsYXlBY3Rvck9uQ2FyZCcpXG4gIH1cblxuICBnZXQgaXNCbGluZCAoKSB7XG4gICAgaWYgKCF0aGlzLnJvbGxNb2RlKSByZXR1cm4gbnVsbFxuICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuX2lzQmxpbmQpIHtcbiAgICAgIHRoaXMuX2lzQmxpbmQgPSB0aGlzLnJvbGxNb2RlID09PSAnYmxpbmRyb2xsJ1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXNCbGluZFxuICB9XG5cbiAgc2V0IGlzQmxpbmQgKHgpIHtcbiAgICB0aGlzLl9pc0JsaW5kID0geFxuICB9XG5cbiAgZ2V0IGFjdG9yICgpIHtcbiAgICBpZiAoIXRoaXMuYWN0b3JLZXkpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICB9XG5cbiAgZ2V0IHRva2VuICgpIHtcbiAgICBpZiAoIXRoaXMuYWN0b3IpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMuYWN0b3JLZXkpXG4gIH1cblxuICBnZXQgaXRlbSAoKSB7XG4gICAgaWYgKCF0aGlzLml0ZW1JZCkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5pdGVtSWQpXG4gIH1cblxuICBnZXQgd2VhcG9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtXG4gIH1cblxuICBnZXQgdGFyZ2V0ZWRUb2tlbnMgKCkge1xuICAgIHJldHVybiBbLi4uZ2FtZS51c2VyLnRhcmdldHNdXG4gIH1cblxuICBnZXQgdGFyZ2V0ICgpIHtcbiAgICBpZiAodGhpcy50YXJnZXRUb2tlbikgcmV0dXJuIHRoaXMudGFyZ2V0VG9rZW5cbiAgICByZXR1cm4gdGhpcy50YXJnZXRBY3RvclxuICB9XG5cbiAgZ2V0IGlzVGFyZ2V0T3duZXIgKCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldC5pc093bmVyXG4gIH1cblxuICBnZXQgaXNLZWVwZXIgKCkge1xuICAgIHJldHVybiBnYW1lLnVzZXIuaXNHTVxuICB9XG5cbiAgLyoqXG4gICAqIElmIGEgdGFyZ2V0S2V5IHdhcyBwcm92aWRlZCB0cnkgdG8gZmluZCBhIHRva2VuIHdpdGggdGhhdCBrZXkgYW5kIHVzZSBpdC5cbiAgICogSWYgbm90IHRhcmdldEtleSBwcm92aWRlZCByZXR1cm4gdGhlIGZpcnN0IHRhcmdldC5cbiAgICovXG4gIGdldCB0YXJnZXRUb2tlbiAoKSB7XG4gICAgaWYgKCF0aGlzLl90YXJnZXRUb2tlbikge1xuICAgICAgaWYgKHRoaXMuX3RhcmdldEtleSkge1xuICAgICAgICB0aGlzLl90YXJnZXRUb2tlbiA9IGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMuX3RhcmdldEtleSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3RhcmdldFRva2VuID0gdGhpcy50YXJnZXRlZFRva2Vucy5wb3AoKVxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0VG9rZW4pIHtcbiAgICAgICAgICB0aGlzLl90YXJnZXRLZXkgPSBgJHt0aGlzLl90YXJnZXRUb2tlbi5zY2VuZS5pZH0uJHt0aGlzLl90YXJnZXRUb2tlbi5pZH1gXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICAgICAgdGhpcy5fdGFyZ2V0VG9rZW4gPSBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldFRva2VuXG4gIH1cblxuICBnZXQgdGFyZ2V0QWN0b3IgKCkge1xuICAgIGlmICghdGhpcy5fdGFyZ2V0QWN0b3IpIHtcbiAgICAgIGlmICh0aGlzLnRhcmdldFRva2VuKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldEFjdG9yID1cbiAgICAgICAgICB0aGlzLnRhcmdldFRva2VuLmFjdG9yIHx8XG4gICAgICAgICAgdGhpcy50YXJnZXRUb2tlbi5kYXRhLmFjdG9yIHx8XG4gICAgICAgICAgdGhpcy50YXJnZXRUb2tlbi5kYXRhLmRvY3VtZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl90YXJnZXRBY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuX3RhcmdldEtleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl90YXJnZXRBY3RvclxuICB9XG5cbiAgZ2V0IHRhcmdldEtleSAoKSB7XG4gICAgaWYgKCF0aGlzLnRhcmdldFRva2VuICYmICF0aGlzLnRhcmdldEFjdG9yKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiB0aGlzLl90YXJnZXRLZXlcbiAgfVxuXG4gIGdldCBoYXNUYXJnZXQgKCkge1xuICAgIGlmICghdGhpcy50YXJnZXRUb2tlbiAmJiAhdGhpcy50YXJnZXRBY3RvcikgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNldCB0YXJnZXRLZXkgKHgpIHtcbiAgICB0aGlzLl90YXJnZXRLZXkgPSB4XG4gIH1cblxuICBnZXQgc2tpbGxzICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5nZXRXZWFwb25Ta2lsbHModGhpcy5pdGVtSWQpXG4gIH1cblxuICBnZXQgdGFyZ2V0SW1nICgpIHtcbiAgICBjb25zdCBpbWcgPSBjaGF0SGVscGVyLmdldEFjdG9ySW1nRnJvbUtleSh0aGlzLnRhcmdldEtleSlcbiAgICBpZiAoaW1nKSByZXR1cm4gaW1nXG4gICAgcmV0dXJuICcuLi9pY29ucy9zdmcvbXlzdGVyeS1tYW4tYmxhY2suc3ZnJ1xuICB9XG5cbiAgZ2V0IG5hbWUgKCkge1xuICAgIGlmICh0aGlzLnRva2VuKSByZXR1cm4gdGhpcy50b2tlbi5uYW1lXG4gICAgcmV0dXJuIHRoaXMuYWN0b3IubmFtZVxuICB9XG5cbiAgZ2V0IHRhcmdldE5hbWUgKCkge1xuICAgIGlmICghdGhpcy50YXJnZXQpIHJldHVybiAnZHVtbXknXG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0Lm5hbWVcbiAgfVxuXG4gIGdldCBhY3RvckltZyAoKSB7XG4gICAgY29uc3QgaW1nID0gY2hhdEhlbHBlci5nZXRBY3RvckltZ0Zyb21LZXkodGhpcy5hY3RvcktleSlcbiAgICBpZiAoaW1nKSByZXR1cm4gaW1nXG4gICAgcmV0dXJuICcuLi9pY29ucy9zdmcvbXlzdGVyeS1tYW4tYmxhY2suc3ZnJ1xuICB9XG59XG4iLCIvKiBnbG9iYWwgY2FudmFzLCBDaGF0TWVzc2FnZSwgRGlhbG9nLCBnYW1lLCBtZXJnZU9iamVjdCwgUm9sbCwgdWkgKi9cbmltcG9ydCB7IENvQzdEaWNlIH0gZnJvbSAnLi4vLi4vZGljZS5qcydcbmltcG9ydCB7IEludGVyYWN0aXZlQ2hhdENhcmQgfSBmcm9tICcuLi9pbnRlcmFjdGl2ZS1jaGF0LWNhcmQuanMnXG5pbXBvcnQgeyBjcmVhdGVJbmxpbmVSb2xsIH0gZnJvbSAnLi4vaGVscGVyLmpzJ1xuXG5leHBvcnQgY2xhc3MgRGFtYWdlQ2FyZCBleHRlbmRzIEludGVyYWN0aXZlQ2hhdENhcmQge1xuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIDVlIEFjdG9yIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGV4Y2x1ZGU6IFtcbiAgICAgICAgJ190YXJnZXRUb2tlbicsXG4gICAgICAgICdfdGFyZ2V0QWN0b3InLFxuICAgICAgICAnX2h0bWxSb2xsJyxcbiAgICAgICAgJ19odG1sSW5saW5lUm9sbCdcbiAgICAgIF0uY29uY2F0KHN1cGVyLmRlZmF1bHRPcHRpb25zLmV4Y2x1ZGUpLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY2FyZHMvZGFtYWdlLmh0bWwnXG4gICAgfSlcbiAgfVxuXG4gIC8vIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gIC8vICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgLy8gfVxuXG4gIGFzeW5jIGFzc2lnbk9iamVjdCAoKSB7XG4gICAgaWYgKHRoaXMuZGFtYWdlUm9sbCAmJiB0aGlzLmRhbWFnZVJvbGwuY29uc3RydWN0b3IubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgIHRoaXMuZGFtYWdlUm9sbCA9IFJvbGwuZnJvbURhdGEodGhpcy5kYW1hZ2VSb2xsKVxuICAgIH1cbiAgfVxuXG4gIF9vbkJ1dHRvbiAoZXZlbnQpIHtcbiAgICBzdXBlci5fb25CdXR0b24oZXZlbnQpXG4gIH1cblxuICBnZXQgY3JpdGljYWwgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY3JpdGljYWxcbiAgfVxuXG4gIHNldCBjcml0aWNhbCAoeCkge1xuICAgIHRoaXMuX29wdGlvbnMuY3JpdGljYWwgPSB4XG4gIH1cblxuICBnZXQgaW1wYWxlICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2ltcGFsZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzLndlYXBvbi5pbXBhbGVcbiAgICByZXR1cm4gdGhpcy5faW1wYWxlXG4gIH1cblxuICBzZXQgaW1wYWxlICh4KSB7XG4gICAgdGhpcy5faW1wYWxlID0geFxuICB9XG5cbiAgZ2V0IGlzRGFtYWdlRm9ybXVsYSAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmRhbWFnZUZvcm11bGEgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoIWlzTmFOKE51bWJlcih0aGlzLmRhbWFnZUZvcm11bGEpKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIFJvbGwudmFsaWRhdGUodGhpcy5kYW1hZ2VGb3JtdWxhKVxuICB9XG5cbiAgZ2V0IGlzRGFtYWdlTnVtYmVyICgpIHtcbiAgICByZXR1cm4gIWlzTmFOKE51bWJlcih0aGlzLmRhbWFnZUZvcm11bGEpKVxuICB9XG5cbiAgZ2V0IGlzQXJtb3JGb3J1bGEgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5hcm1vciAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZVxuICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuYXJtb3IpKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIFJvbGwudmFsaWRhdGUodGhpcy5hcm1vcilcbiAgfVxuXG4gIGdldCB0b3RhbERhbWFnZVN0cmluZyAoKSB7XG4gICAgbGV0IGRhbWFnZSA9IE51bWJlcihcbiAgICAgIHRoaXMuaXNEYW1hZ2VOdW1iZXIgPyB0aGlzLmRhbWFnZUZvcm11bGEgOiB0aGlzLnJvbGwudG90YWxcbiAgICApXG4gICAgaWYgKCF0aGlzLmlnbm9yZUFybW9yKSB7XG4gICAgICBpZiAoaXNOYU4oTnVtYmVyKHRoaXMuYXJtb3IpKSB8fCBOdW1iZXIodGhpcy5hcm1vcikgPiAwKSB7XG4gICAgICAgIGRhbWFnZSA9IGRhbWFnZSAtIE51bWJlcih0aGlzLmFybW9yKVxuICAgICAgfVxuICAgICAgaWYgKCFpc05hTihOdW1iZXIodGhpcy5hcm1vcikpKSB7XG4gICAgICAgIGlmIChkYW1hZ2UgPD0gMCkge1xuICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQXJtb3JBYnNvcmJzRGFtYWdlJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGFtYWdlXG4gIH1cblxuICBnZXQgbm9EYW1hZ2UgKCkge1xuICAgIGlmICh0aGlzLnJvbGxlZCkge1xuICAgICAgY29uc3QgZGFtYWdlID0gdGhpcy5pc0RhbWFnZU51bWJlciA/IHRoaXMuZGFtYWdlRm9ybXVsYSA6IHRoaXMucm9sbC50b3RhbFxuICAgICAgaWYgKCF0aGlzLmlnbm9yZUFybW9yKSB7XG4gICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuYXJtb3IpKSkge1xuICAgICAgICAgIHJldHVybiAhIShkYW1hZ2UgLSBOdW1iZXIodGhpcy5hcm1vcikgPD0gMClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhIShkYW1hZ2UgPD0gMClcbiAgICAgIH1cbiAgICB9IGVsc2UgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mYXN0Rm9yd2FyZCAmJiAhdGhpcy5yb2xsICYmICF0aGlzLmlzRGFtYWdlTnVtYmVyKSB7XG4gICAgICBhd2FpdCB0aGlzLnJvbGxEYW1hZ2UoeyB1cGRhdGU6IGZhbHNlIH0pXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMuaXNEYW1hZ2VOdW1iZXIgfHxcbiAgICAgICh0aGlzLnJvbGwgJiYgdGhpcy5yb2xsLnRvdGFsICE9IG51bGwpIHx8XG4gICAgICB0aGlzLmhhcmRyb2xsZWRcbiAgICApIHtcbiAgICAgIHRoaXMucm9sbGVkID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvbGxlZCA9IGZhbHNlXG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZmFzdEZvcndhcmQgJiYgIXRoaXMuZGFtYWdlSW5mbGljdGVkICYmICF0aGlzLm5vRGFtYWdlKSB7XG4gICAgICBhd2FpdCB0aGlzLmRlYWxEYW1hZ2UoeyB1cGRhdGU6IGZhbHNlIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucm9sbGVkICYmIHRoaXMucm9sbCkge1xuICAgICAgaWYgKHRoaXMucm9sbC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgICB0aGlzLnJvbGwgPSBSb2xsLmZyb21EYXRhKHRoaXMucm9sbClcbiAgICAgIH1cbiAgICAgIGNvbnN0IGEgPSBjcmVhdGVJbmxpbmVSb2xsKHRoaXMucm9sbClcbiAgICAgIHRoaXMuX2h0bWxJbmxpbmVSb2xsID0gYS5vdXRlckhUTUxcbiAgICAgIHRoaXMuX2h0bWxSb2xsID0gYXdhaXQgdGhpcy5yb2xsLnJlbmRlcigpXG4gICAgfVxuICAgIGF3YWl0IHN1cGVyLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIGFzeW5jIHJvbGxEYW1hZ2UgKG9wdGlvbnMgPSB7IHVwZGF0ZTogdHJ1ZSB9KSB7XG4gICAgdGhpcy5yb2xsID0gYXdhaXQgbmV3IFJvbGwodGhpcy5kYW1hZ2VGb3JtdWxhIHx8ICcwJykuZXZhbHVhdGUoe1xuICAgICAgYXN5bmM6IHRydWVcbiAgICB9KVxuICAgIGF3YWl0IENvQzdEaWNlLnNob3dSb2xsRGljZTNkKHRoaXMucm9sbClcbiAgICB0aGlzLmhhcmRyb2xsZWQgPSB0cnVlXG4gICAgb3B0aW9ucy51cGRhdGUgPVxuICAgICAgdHlwZW9mIG9wdGlvbnMudXBkYXRlID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLnVwZGF0ZVxuICAgIGlmIChvcHRpb25zLnVwZGF0ZSkgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBhc3luYyByb2xsQXJtb3IgKG9wdGlvbnMgPSB7IHVwZGF0ZTogdHJ1ZSB9KSB7XG4gICAgY29uc3Qgcm9sbCA9IGF3YWl0IG5ldyBSb2xsKHRoaXMuYXJtb3IpLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICB0aGlzLmFybW9yID0gcm9sbC50b3RhbFxuICAgIG9wdGlvbnMudXBkYXRlID1cbiAgICAgIHR5cGVvZiBvcHRpb25zLnVwZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy51cGRhdGVcbiAgICBpZiAob3B0aW9ucy51cGRhdGUpIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgYXN5bmMgZGVhbERhbWFnZVRvU2VsZWN0ZWRUYXJnZXQgKG9wdGlvbnMgPSB7IHVwZGF0ZTogdHJ1ZSB9KSB7XG4gICAgaWYgKHRoaXMuaXNBcm1vckZvcnVsYSkgYXdhaXQgdGhpcy5yb2xsQXJtb3IoKVxuICAgIGlmIChpc05hTihOdW1iZXIodGhpcy50b3RhbERhbWFnZVN0cmluZykpKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvckV2YWx1YXRpbmdEYW1hZ2UnKSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB0YXJnZXRzID0gW11cbiAgICBjb25zdCB0YXJnZXROYW1lID0gW11cbiAgICBjb25zdCBzZWxlY3RlZFBsYXllcnMgPSBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQubWFwKHRva2VuID0+IHtcbiAgICAgIHJldHVybiB0b2tlbi5hY3RvclxuICAgIH0pXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHNlbGVjdGVkUGxheWVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmICh0aGlzLmFjdG9yLmlkID09PSBzZWxlY3RlZFBsYXllcnNbaW5kZXhdLmlkKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICB0YXJnZXROYW1lLnB1c2goc2VsZWN0ZWRQbGF5ZXJzW2luZGV4XS5uYW1lKVxuICAgICAgdGFyZ2V0cy5wdXNoKHNlbGVjdGVkUGxheWVyc1tpbmRleF0pXG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB0aXRsZTogJyAnLFxuICAgICAgY29udGVudDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EZWFsRGFtYWdlJywge1xuICAgICAgICBkYW1hZ2U6IHRoaXMudG90YWxEYW1hZ2VTdHJpbmcsXG4gICAgICAgIHRhcmdldDogdGFyZ2V0TmFtZVxuICAgICAgfSksXG4gICAgICBidXR0b25zOiB7XG4gICAgICAgIG9uZToge1xuICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT4nLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUHJvY2VlZCcpLFxuICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpcm1EYW1hZ2UodGFyZ2V0cylcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHR3bzoge1xuICAgICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT4nLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2FuY2VsJyksXG4gICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHt9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkZWZhdWx0OiAndHdvJ1xuICAgIH1cbiAgICBpZiAodGFyZ2V0TmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICBuZXcgRGlhbG9nKGRhdGEpLnJlbmRlcih0cnVlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNvbmZpcm1EYW1hZ2UgKHRhcmdldHMpIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGFyZ2V0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGF3YWl0IHRhcmdldHNbaW5kZXhdLmRlYWxEYW1hZ2UoTnVtYmVyKHRoaXMudG90YWxEYW1hZ2VTdHJpbmcpLCB7XG4gICAgICAgIGlnbm9yZUFybW9yOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIENoYXRNZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIGNvbnRlbnQ6IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRGFtYWdlRGVhbFRvJywge1xuICAgICAgICAgIG5hbWU6IHRhcmdldHNbaW5kZXhdLm5hbWUsXG4gICAgICAgICAgZGFtYWdlOiB0aGlzLnRvdGFsRGFtYWdlU3RyaW5nXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlYWxEYW1hZ2UgKG9wdGlvbnMgPSB7IHVwZGF0ZTogdHJ1ZSB9KSB7XG4gICAgaWYgKHRoaXMuaXNBcm1vckZvcnVsYSkgYXdhaXQgdGhpcy5yb2xsQXJtb3IoKVxuICAgIGxldCBkYW1hZ2UgPSB0aGlzLnRvdGFsRGFtYWdlU3RyaW5nXG4gICAgaWYgKGlzTmFOKE51bWJlcihkYW1hZ2UpKSkge1xuICAgICAgaWYgKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Bcm1vckFic29yYnNEYW1hZ2UnKSA9PT0gZGFtYWdlKSB7XG4gICAgICAgIGRhbWFnZSA9IDBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0Vycm9yIGV2YWx1YXRpbmcgZGFtYWdlJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRhcmdldEFjdG9yKSB7XG4gICAgICBhd2FpdCB0aGlzLnRhcmdldEFjdG9yLmRlYWxEYW1hZ2UoTnVtYmVyKGRhbWFnZSksIHtcbiAgICAgICAgaWdub3JlQXJtb3I6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMuZGFtYWdlSW5mbGljdGVkID0gdHJ1ZVxuICAgIG9wdGlvbnMudXBkYXRlID1cbiAgICAgIHR5cGVvZiBvcHRpb25zLnVwZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy51cGRhdGVcbiAgICBpZiAob3B0aW9ucy51cGRhdGUpIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICB9XG5cbiAgZ2V0IHJhbmdlICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnJhbmdlIHx8ICdub3JtYWwnXG4gIH1cblxuICBzZXQgcmFuZ2UgKHgpIHtcbiAgICBjb25zdCByYW5nZXMgPSBbJ25vcm1hbCcsICdsb25nJywgJ2V4dHJlbWUnXVxuICAgIGlmICghcmFuZ2VzLmluY2x1ZXMoeC50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuXG4gICAgdGhpcy5fb3B0aW9ucy5yYW5nZSA9IHhcbiAgfVxuXG4gIGdldCBkYW1hZ2VGb3JtdWxhICgpIHtcbiAgICBjb25zdCByYW5nZSA9IHRoaXMucmFuZ2VcbiAgICBsZXQgZm9ybXVsYSA9IHRoaXMud2VhcG9uPy5zeXN0ZW0/LnJhbmdlW3JhbmdlXT8uZGFtYWdlXG4gICAgbGV0IGRiID0gdGhpcy5hY3Rvci5kYlxuICAgIGRiID0gKChkYiA/PyAnJykudG9TdHJpbmcoKS50cmltKCkgPT09ICcnID8gMCA6IGRiKS50b1N0cmluZygpLnRyaW0oKVxuXG4gICAgaWYgKCFkYi5zdGFydHNXaXRoKCctJykpIGRiID0gJysnICsgZGJcbiAgICBpZiAodGhpcy53ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMuYWRkYikgZm9ybXVsYSA9IGZvcm11bGEgKyBkYlxuICAgIGlmICh0aGlzLndlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5haGRiKSBmb3JtdWxhID0gZm9ybXVsYSArICcrIGZsb29yKCcgKyBkYiArICcvMiknXG5cbiAgICBpZiAoZm9ybXVsYSkge1xuICAgICAgY29uc3QgbWF4RGFtYWdlID0gbmV3IFJvbGwoZm9ybXVsYSkuZXZhbHVhdGUoeyBtYXhpbWl6ZTogdHJ1ZSB9KS50b3RhbFxuICAgICAgbGV0IHJvbGxTdHJpbmdcbiAgICAgIGlmICh0aGlzLmNyaXRpY2FsKSB7XG4gICAgICAgIGlmICh0aGlzLmltcGFsZSkge1xuICAgICAgICAgIHJvbGxTdHJpbmcgPSBmb3JtdWxhICsgJysnICsgbWF4RGFtYWdlXG4gICAgICAgICAgcmV0dXJuIHJvbGxTdHJpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbWF4RGFtYWdlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmb3JtdWxhXG4gICAgICB9XG4gICAgfSBlbHNlIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBhcm1vciAoKSB7XG4gICAgaWYgKHVuZGVmaW5lZCAhPT0gdGhpcy5fYXJtb3IgJiYgdGhpcy5fYXJtb3IgIT09ICcnKSByZXR1cm4gdGhpcy5fYXJtb3JcbiAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldEFjdG9yLnN5c3RlbS5hdHRyaWJzLmFybW9yLnZhbHVlXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBzZXQgYXJtb3IgKHgpIHtcbiAgICB0aGlzLl9hcm1vciA9IHhcbiAgfVxufVxuIiwiLyogZ2xvYmFsIENoYXRNZXNzYWdlLCBnYW1lLCBtZXJnZU9iamVjdCAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vLi4vY2hlY2suanMnXG5pbXBvcnQgeyBEYW1hZ2VDYXJkIH0gZnJvbSAnLi9kYW1hZ2UuanMnXG5pbXBvcnQgeyBSb2xsQ2FyZCB9IGZyb20gJy4vcm9sbC1jYXJkLmpzJ1xuXG5leHBvcnQgY2xhc3MgT3Bwb3NlZENoZWNrQ2FyZCBleHRlbmRzIFJvbGxDYXJkIHtcbiAgc3RhdGljIGFzeW5jIGJpbmRMaXN0ZXJuZXJzIChodG1sKSB7XG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnJvbGwtY2FyZC5vcHBvc2VkIC50b2dnbGUtc3dpdGNoJyxcbiAgICAgIHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcylcbiAgICApXG4gICAgLy8gc3VwZXIuYmluZExpc3Rlcm5lcnMoIGh0bWwpO1xuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5yb2xsLWNhcmQub3Bwb3NlZCBhJyxcbiAgICAgIE9wcG9zZWRDaGVja0NhcmQuX29uQ2xpY2suYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucm9sbC1jYXJkLm9wcG9zZWQgYnV0dG9uJyxcbiAgICAgIE9wcG9zZWRDaGVja0NhcmQuX29uQ2xpY2suYmluZCh0aGlzKVxuICAgIClcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdENvbmZpZyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRDb25maWcsIHtcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L2NhcmRzL29wcG9zZWQtcm9sbC5odG1sJyxcbiAgICAgIHR5cGU6ICdvcHBvc2VkQ2FyZCdcbiAgICB9KVxuICB9XG5cbiAgZ2V0IGNvbmZpZyAoKSB7XG4gICAgcmV0dXJuIE9wcG9zZWRDaGVja0NhcmQuZGVmYXVsdENvbmZpZ1xuICB9XG5cbiAgZ2V0IGF0dGFja2VyUm9sbCAoKSB7XG4gICAgaWYgKHRoaXMuY29tYmF0KSB7XG4gICAgICBpZiAodGhpcy5yb2xscz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGF0dGFja2VyID0gdGhpcy5yb2xscy5maWx0ZXIociA9PiByLmluZGV4ID09PSAwIHx8IHIuYXR0YWNrZXIpXG4gICAgICAgIGlmIChhdHRhY2tlci5sZW5ndGgpIHJldHVybiBhdHRhY2tlclswXVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgZGVmZW5kZXJSb2xsICgpIHtcbiAgICBpZiAodGhpcy5jb21iYXQpIHtcbiAgICAgIGlmICh0aGlzLnJvbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZGVmZW5kZXIgPSB0aGlzLnJvbGxzLmZpbHRlcihyID0+IHIuaW5kZXggIT09IDAgfHwgIXIuYXR0YWNrZXIpXG4gICAgICAgIGlmIChkZWZlbmRlci5sZW5ndGgpIHJldHVybiBkZWZlbmRlclswXVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgZGVmZW5kZXJJc0RvZGdpbmcgKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuZGVmZW5kZXJSb2xsPy5hY3Rvcj8uZG9kZ2VTa2lsbD8ubmFtZSAmJlxuICAgICAgdGhpcy5kZWZlbmRlclJvbGw/LnNraWxsPy5uYW1lXG4gICAgKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmRlZmVuZGVyUm9sbC5hY3Rvci5kb2RnZVNraWxsLm5hbWUudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgdGhpcy5kZWZlbmRlclJvbGwuc2tpbGwubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IGFkdmFudGFnZUF0dGFja2VyICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2FhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRoaXMuZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5kZWZlbmRlcklzRG9kZ2luZ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hYVxuICB9XG5cbiAgZ2V0IHdpbm5lclJvbGxzRGFtYWdlICgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNvbWJhdCAmJlxuICAgICAgdGhpcy5yb2xscy5sZW5ndGggPj0gMiAmJlxuICAgICAgdGhpcy5oYXNXaW5uZXIgJiZcbiAgICAgIHRoaXMud2lubmVyPy5pdGVtPy50eXBlID09PSAnd2VhcG9uJ1xuICAgICkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBzZXQgYWR2YW50YWdlQXR0YWNrZXIgKHgpIHtcbiAgICB0aGlzLl9hYSA9IHRydWVcbiAgICB0aGlzLl9hZCA9IGZhbHNlXG4gIH1cblxuICBnZXQgYWR2YW50YWdlRGVmZW5kZXIgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fYWQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gdGhpcy5kZWZlbmRlcklzRG9kZ2luZ1xuICAgIHJldHVybiB0aGlzLl9hZFxuICB9XG5cbiAgc2V0IGFkdmFudGFnZURlZmVuZGVyICh4KSB7XG4gICAgdGhpcy5fYWQgPSB0cnVlXG4gICAgdGhpcy5fYWEgPSBmYWxzZVxuICB9XG5cbiAgZ2V0IGlzVGllICgpIHtcbiAgICByZXR1cm4gdGhpcy53aW5uZXJDb3VudCA+IDFcbiAgfVxuXG4gIGdldCBuZWVkc1RpZUJyZWFrZXIgKCkge1xuICAgIGlmICghdGhpcy5jb21iYXQpIHJldHVybiBmYWxzZVxuICAgIGlmIChcbiAgICAgIHRoaXMuYXR0YWNrZXJSb2xsICYmXG4gICAgICB0aGlzLmRlZmVuZGVyUm9sbCAmJlxuICAgICAgdGhpcy5hdHRhY2tlclJvbGwuc3VjY2Vzc0xldmVsID09PSB0aGlzLmRlZmVuZGVyUm9sbC5zdWNjZXNzTGV2ZWxcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IHdpbm5lckNvdW50ICgpIHtcbiAgICBsZXQgY291bnQgPSAwXG4gICAgZm9yIChjb25zdCByIG9mIHRoaXMucm9sbHMpIHtcbiAgICAgIGlmIChyLndpbm5lcikgY291bnQgKz0gMVxuICAgIH1cbiAgICByZXR1cm4gY291bnRcbiAgfVxuXG4gIGdldCBpc0F0dGFja01hbmV1dmVyICgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNvbWJhdCAmJlxuICAgICAgdGhpcy5hdHRhY2tlclJvbGwgJiZcbiAgICAgICghdGhpcy5hdHRhY2tlclJvbGw/Lml0ZW0gfHxcbiAgICAgICAgdGhpcy5hdHRhY2tlclJvbGw/Lml0ZW0uc3lzdGVtLnByb3BlcnRpZXM/Lm1udnIpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCByZXN1bHRUZXh0ICgpIHtcbiAgICBpZiAodGhpcy5jb21iYXQgJiYgdGhpcy5hdHRhY2tlclJvbGwgJiYgdGhpcy5kZWZlbmRlclJvbGwpIHtcbiAgICAgIGlmICghdGhpcy5hdHRhY2tlclJvbGwud2lubmVyICYmICF0aGlzLmRlZmVuZGVyUm9sbC53aW5uZXIpIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob1dpbm5lcicpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hdHRhY2tlclJvbGwud2lubmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dGFja2VyUm9sbC5tYW5ldXZlcikge1xuICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1hbmV1dmVyU3VjY2VzcycsIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuYXR0YWNrZXJSb2xsLmFjdG9yLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkF0dGFja1N1Y2Nlc3MnLCB7XG4gICAgICAgICAgbmFtZTogdGhpcy5hdHRhY2tlclJvbGwuYWN0b3IubmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZGVmZW5kZXJSb2xsLndpbm5lcikge1xuICAgICAgICBpZiAodGhpcy5kZWZlbmRlclJvbGwubWFuZXV2ZXIpIHtcbiAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NYW5ldXZlclN1Y2Nlc3MnLCB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLmRlZmVuZGVyUm9sbC5hY3Rvci5uYW1lXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWZlbmRlcklzRG9kZ2luZykge1xuICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkRvZGdlU3VjY2VzcycsIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuZGVmZW5kZXJSb2xsLmFjdG9yLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkF0dGFja1N1Y2Nlc3MnLCB7XG4gICAgICAgICAgbmFtZTogdGhpcy5kZWZlbmRlclJvbGwuYWN0b3IubmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBhc3luYyBwcm9jZXNzIChkYXRhKSB7XG4gICAgc3dpdGNoIChkYXRhLmFjdGlvbikge1xuICAgICAgY2FzZSAnbmV3JzpcbiAgICAgICAgaWYgKCF0aGlzLnJvbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmNvbWJhdCA9IGRhdGEuY29tYmF0IHx8IHVuZGVmaW5lZFxuICAgICAgICAgIGlmICh0aGlzLmNvbWJhdCkge1xuICAgICAgICAgICAgZGF0YS5yb2xsLmF0dGFja2VyID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkYXRhLnJvbGwuaW5kZXggPSB0aGlzLnJvbGxzLmxlbmd0aFxuICAgICAgICB0aGlzLmFkZFJvbGxEYXRhKGRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3JvbGwnOlxuICAgICAgICB0aGlzLmFkZFJvbGxEYXRhKGRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3VwZGF0ZVJvbGwnOlxuICAgICAgICB0aGlzLnVwZGF0ZVJvbGwoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIGF3YWl0IHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICAgIGVsc2UgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLkNvQzcnLCBkYXRhKVxuICB9XG5cbiAgYXN5bmMgcm9sbCAocmFuaykge1xuICAgIGF3YWl0IHRoaXMucm9sbHNbcmFua10uX3BlcmZvcm0oKVxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB0eXBlOiB0aGlzLmNvbmZpZy50eXBlLFxuICAgICAgYWN0aW9uOiAndXBkYXRlUm9sbCcsXG4gICAgICByYW5rLFxuICAgICAgZnJvbUdNOiBnYW1lLnVzZXIuaXNHTVxuICAgIH1cbiAgICBpZiAoIWdhbWUudXNlci5pc0dNKSBkYXRhLnJvbGwgPSB0aGlzLnJvbGxzW3JhbmtdLkpTT05Sb2xsRGF0YVxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX29uQ2xpY2sgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBhY3Rpb24gPSBhLmRhdGFzZXQuYWN0aW9uXG4gICAgY29uc3QgbGkgPSBhLmNsb3Nlc3QoJ2xpLmFjdG9yLXJvbGwnKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhLmNsb3Nlc3QoJy5jaGF0LW1lc3NhZ2UnKVxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gYS5jbG9zZXN0KCdkaXYucm9sbC1jYXJkJylcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgT3Bwb3NlZENoZWNrQ2FyZC5mcm9tSFRNTENhcmRFbGVtZW50KGNhcmRFbGVtZW50KVxuICAgIGNhcmQubWVzc2FnZUlkID0gbWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZFxuICAgIGNvbnN0IHJhbmsgPSBOdW1iZXIobGk/LmRhdGFzZXQ/LnJhbmspXG5cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAndG9nZ2xlLWNvbWJhdCc6IHtcbiAgICAgICAgY2FyZC5jb21iYXQgPSAhY2FyZC5jb21iYXRcbiAgICAgICAgLy8gaWYoICFjYXJkLmFkdmFudGFnZUF0dGFja2VyICYmICFjYXJkLmFkdmFudGFnZURlZmVuZGVyKSBjYXJkLmFkdmFudGFnZUF0dGFja2VyID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgY2FyZC51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JlbW92ZS1yb2xsJzoge1xuICAgICAgICBjYXJkLnJlbW92ZVJvbGwocmFuaylcbiAgICAgICAgYXdhaXQgY2FyZC51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2Nsb3NlLWNhcmQnOiB7XG4gICAgICAgIGNhcmQuY2xvc2VDYXJkKClcbiAgICAgICAgYXdhaXQgY2FyZC51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JvbGwtY2hlY2snOiB7XG4gICAgICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICAgICAgaWYgKCFjYXJkLnJvbGxzW3JhbmtdLmFjdG9yS2V5KSB7XG4gICAgICAgICAgY2FyZC5yb2xsc1tyYW5rXS5hY3RvcktleSA9IGAke3NwZWFrZXIuc2NlbmV9LiR7c3BlYWtlci50b2tlbn1gXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgY2FyZC5yb2xsKHJhbmspXG4gICAgICAgIGF3YWl0IGNhcmQucHJvY2VzcyhkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyb2xsLWRhbWFnZSc6IHtcbiAgICAgICAgY2FyZC5jbG9zZUNhcmQoKVxuICAgICAgICBhd2FpdCBjYXJkLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgY29uc3QgZGFtYWdlQ2hhdENhcmQgPSBuZXcgRGFtYWdlQ2FyZCh7XG4gICAgICAgICAgY3JpdGljYWw6IGNhcmQud2lubmVyLmlzRXh0cmVtZVN1Y2Nlc3MsXG4gICAgICAgICAgZmFzdEZvcndhcmQ6IGV2ZW50LnNoaWZ0S2V5XG4gICAgICAgIH0pXG4gICAgICAgIGRhbWFnZUNoYXRDYXJkLmFjdG9yS2V5ID0gY2FyZC53aW5uZXIuYWN0b3IuYWN0b3JLZXlcbiAgICAgICAgZGFtYWdlQ2hhdENhcmQudGFyZ2V0S2V5ID0gY2FyZC5sb29zZXIuYWN0b3IuYWN0b3JLZXlcbiAgICAgICAgZGFtYWdlQ2hhdENhcmQuaXRlbUlkID0gY2FyZC53aW5uZXIuaXRlbUlkXG4gICAgICAgIC8vIGlmKCBvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkKSBkYW1hZ2VDaGF0Q2FyZC5tZXNzYWdlSWQgPSBvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkO1xuICAgICAgICBkYW1hZ2VDaGF0Q2FyZC51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICB1cGRhdGU6IGZhbHNlLFxuICAgICAgICAgIGRhdGE6IGEuZGF0YXNldCxcbiAgICAgICAgICBjbGFzc2VzOiBhLmNsYXNzTGlzdCxcbiAgICAgICAgICB0YXJnZXQ6IGFcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBDb0M3Q2hlY2suYWx0ZXIoY2FyZC5yb2xsc1tyYW5rXSwgYWN0aW9uLCBvcHRpb25zKVxuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgIHR5cGU6IHRoaXMuZGVmYXVsdENvbmZpZy50eXBlLFxuICAgICAgICAgIGFjdGlvbjogJ3VwZGF0ZVJvbGwnLFxuICAgICAgICAgIHJhbmssXG4gICAgICAgICAgZnJvbUdNOiBnYW1lLnVzZXIuaXNHTVxuICAgICAgICB9XG4gICAgICAgIGlmICghZ2FtZS51c2VyLmlzR00pIGRhdGEucm9sbCA9IGNhcmQucm9sbHNbcmFua10uSlNPTlJvbGxEYXRhXG4gICAgICAgIGNhcmQucHJvY2VzcyhkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNvbXB1dGUgKHJhbmsgPSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnJvbGxzID0gdGhpcy5yb2xscy5maWx0ZXIocm9sbCA9PiB7XG4gICAgICByZXR1cm4gdHlwZW9mIHJvbGwuYWN0b3IuYWN0b3JLZXkgIT09ICd1bmRlZmluZWQnIC8vIHJlbW92ZSBhbnkgYWN0b3JzIHRoYXQgbm8gbG9uZ2VyIGV4aXN0XG4gICAgfSlcblxuICAgIGlmICghcmFuaykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJvbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnJvbGxzW2ldLm1hbmV1dmVyXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmNvbWJhdCAmJlxuICAgICAgICAgICghdGhpcy5yb2xsc1tpXS5pdGVtIHx8XG4gICAgICAgICAgICB0aGlzLnJvbGxzW2ldLml0ZW0uc3lzdGVtLnByb3BlcnRpZXM/Lm1udnIpICYmXG4gICAgICAgICAgKCh0aGlzLnJvbGxzW2ldPy5hY3Rvcj8uZG9kZ2VTa2lsbD8ubmFtZSAmJlxuICAgICAgICAgICAgdGhpcy5yb2xsc1tpXT8uc2tpbGw/Lm5hbWUgJiZcbiAgICAgICAgICAgIHRoaXMucm9sbHNbaV0uYWN0b3IuZG9kZ2VTa2lsbC5uYW1lLnRvTG93ZXJDYXNlKCkgIT09XG4gICAgICAgICAgICAgIHRoaXMucm9sbHNbaV0uc2tpbGwubmFtZS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAgICAgIXRoaXMucm9sbHNbaV0/LmFjdG9yPy5kb2RnZVNraWxsPy5uYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnJvbGxzW2ldLm1hbmV1dmVyID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJvbGxzW2ldLnJvbGxlZCkge1xuICAgICAgICAgIHRoaXMucm9sbHNbaV0uX2h0bWxSb2xsID0gYXdhaXQgdGhpcy5yb2xsc1tpXS5nZXRIdG1sUm9sbCh7XG4gICAgICAgICAgICBoaWRlRGljZVJlc3VsdDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucm9sbHNbcmFua10ucm9sbGVkKSB7XG4gICAgICAgIHRoaXMucm9sbHNbcmFua10uX2h0bWxSb2xsID0gYXdhaXQgdGhpcy5yb2xsc1tyYW5rXS5nZXRIdG1sUm9sbCh7XG4gICAgICAgICAgaGlkZURpY2VSZXN1bHQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb21iYXQpIHtcbiAgICAgIC8vIFNvcnQgY29tYmF0IHJvbGxzIGJ5IGluZGV4LlxuICAgICAgdGhpcy5yb2xscy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGlmIChhLmluZGV4ID4gYi5pbmRleCkgcmV0dXJuIDFcbiAgICAgICAgaWYgKGEuaW5kZXggPCBiLmluZGV4KSByZXR1cm4gLTFcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH0pXG5cbiAgICAgIC8vIENvbWJhdCByb2xsIGluY2x1ZGVzIG9ubHkgMiBwZXJzb25zLCByZW1vdmUgdGhlIHJlc3QuXG4gICAgICBpZiAodGhpcy5yb2xscy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMucm9sbHMgPSBbdGhpcy5yb2xsc1swXSwgdGhpcy5yb2xsc1sxXV1cbiAgICAgICAgZm9yIChjb25zdCByIG9mIHRoaXMucm9sbHMpIHtcbiAgICAgICAgICBkZWxldGUgci53aW5uZXJcbiAgICAgICAgICBkZWxldGUgci50aWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBGaXJzdCBwZXJzb24gYWRkZWQgaXMgdGhlIGF0dGFja2VyLlxuICAgICAgaWYgKHRoaXMucm9sbHNbMF0pIHRoaXMucm9sbHNbMF0uYXR0YWNrZXIgPSB0cnVlXG5cbiAgICAgIGlmICh0aGlzLnJvbGxzWzBdPy5yb2xsZWQgJiYgdGhpcy5yb2xsc1sxXT8ucm9sbGVkKSB7XG4gICAgICAgIGlmICh0aGlzLnJvbGxzWzBdLnBhc3NlZCB8fCB0aGlzLnJvbGxzWzFdLnBhc3NlZCkge1xuICAgICAgICAgIGlmICh0aGlzLnJvbGxzWzBdLnN1Y2Nlc3NMZXZlbCA+IHRoaXMucm9sbHNbMV0uc3VjY2Vzc0xldmVsKSB7XG4gICAgICAgICAgICB0aGlzLnJvbGxzWzBdLndpbm5lciA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucm9sbHNbMV0uc3VjY2Vzc0xldmVsID4gdGhpcy5yb2xsc1swXS5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMucm9sbHNbMV0ud2lubmVyID0gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZHZhbnRhZ2VBdHRhY2tlcikgdGhpcy5yb2xsc1swXS53aW5uZXIgPSB0cnVlXG4gICAgICAgICAgICBlbHNlIHRoaXMucm9sbHNbMV0ud2lubmVyID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvbGxzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGEucm9sbGVkICYmICFiLnJvbGxlZCkgcmV0dXJuIC0xXG4gICAgICAgIGlmICghYS5yb2xsZWQgJiYgYi5yb2xsZWQpIHJldHVybiAxXG4gICAgICAgIGlmICghYS5yb2xsZWQgJiYgIWIucm9sbGVkKSByZXR1cm4gMFxuICAgICAgICBpZiAoYS5zdWNjZXNzTGV2ZWwgPiBiLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgICAgICAgcmV0dXJuIC0xXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEuc3VjY2Vzc0xldmVsIDwgYi5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgICAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZVxuICAgICAgICAgIHJldHVybiAxXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ29wcG9zZWRSb2xsVGllQnJlYWtlcicpKSB7XG4gICAgICAgICAgaWYgKGEubW9kaWZpZWRSZXN1bHQgPiBiLm1vZGlmaWVkUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuIC0xXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhLm1vZGlmaWVkUmVzdWx0IDwgYi5tb2RpZmllZFJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcbiAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChhLnJhd1ZhbHVlID4gYi5yYXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcbiAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYS5yYXdWYWx1ZSA8IGIucmF3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMFxuICAgICAgfSlcblxuICAgICAgdGhpcy53aW5Db3VudCA9IDBcbiAgICAgIGlmICh0aGlzLnJvbGxzWzBdICYmIHRoaXMucm9sbHNbMF0ucm9sbGVkICYmICF0aGlzLnJvbGxzWzBdLmZhaWxlZCkge1xuICAgICAgICB0aGlzLndpbkNvdW50ID0gMVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucm9sbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnJvbGxzW2ldICYmXG4gICAgICAgICAgICB0aGlzLnJvbGxzW2ldLnJvbGxlZCAmJlxuICAgICAgICAgICAgdGhpcy5yb2xsc1swXS5zdWNjZXNzTGV2ZWwgPT09IHRoaXMucm9sbHNbaV0uc3VjY2Vzc0xldmVsICYmXG4gICAgICAgICAgICAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb3Bwb3NlZFJvbGxUaWVCcmVha2VyJylcbiAgICAgICAgICAgICAgPyB0aGlzLnJvbGxzWzBdLm1vZGlmaWVkUmVzdWx0ID09PSB0aGlzLnJvbGxzW2ldLm1vZGlmaWVkUmVzdWx0XG4gICAgICAgICAgICAgIDogdGhpcy5yb2xsc1swXS5yYXdWYWx1ZSA9PT0gdGhpcy5yb2xsc1tpXS5yYXdWYWx1ZSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMud2luQ291bnQgPSB0aGlzLndpbkNvdW50ICsgMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm9sbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yb2xsc1tpXS53aW5uZXIgPSBpIDwgdGhpcy53aW5Db3VudFxuICAgICAgICB0aGlzLnJvbGxzW2ldLnRpZSA9IHRoaXMucm9sbHNbaV0ud2lubmVyICYmIHRoaXMud2luQ291bnQgPiAxXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xvc2VDYXJkICgpIHtcbiAgICB0aGlzLmNsb3NlZCA9IHRydWVcbiAgfVxufVxuIiwiLyogZ2xvYmFsIENoYXRNZXNzYWdlLCBnYW1lICovXG5pbXBvcnQgeyBjaGF0SGVscGVyIH0gZnJvbSAnLi9oZWxwZXIuanMnXG5cbmV4cG9ydCBjbGFzcyBDaGF0Q2FyZEFjdG9yIHtcbiAgY29uc3RydWN0b3IgKGFjdG9yS2V5ID0gbnVsbCwgZmFzdEZvcndhcmQgPSBmYWxzZSkge1xuICAgIHRoaXMuYWN0b3JLZXkgPSBhY3RvcktleVxuICAgIHRoaXMuZmFzdEZvcndhcmQgPSBmYXN0Rm9yd2FyZFxuICB9XG5cbiAgZ2V0IGRpc3BsYXlBY3Rvck9uQ2FyZCAoKSB7XG4gICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3BsYXlBY3Rvck9uQ2FyZCcpXG4gIH1cblxuICBnZXQgaXNCbGluZCAoKSB7XG4gICAgaWYgKCF0aGlzLnJvbGxNb2RlKSByZXR1cm4gbnVsbFxuICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuX2lzQmxpbmQpIHtcbiAgICAgIHRoaXMuX2lzQmxpbmQgPSB0aGlzLnJvbGxNb2RlID09PSAnYmxpbmRyb2xsJ1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXNCbGluZFxuICB9XG5cbiAgc2V0IGlzQmxpbmQgKHgpIHtcbiAgICB0aGlzLl9pc0JsaW5kID0geFxuICB9XG5cbiAgZ2V0IHJvbGxNb2RlICgpIHtcbiAgICBpZiAoIXRoaXMuX3JvbGxNb2RlKSB0aGlzLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICByZXR1cm4gdGhpcy5fcm9sbE1vZGVcbiAgfVxuXG4gIHNldCByb2xsTW9kZSAoeCkge1xuICAgIHRoaXMuX3JvbGxNb2RlID0geFxuICB9XG5cbiAgZ2V0IGFjdG9yICgpIHtcbiAgICBpZiAoIXRoaXMuYWN0b3JLZXkpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICB9XG5cbiAgZ2V0IHRva2VuICgpIHtcbiAgICBpZiAoIXRoaXMuYWN0b3IpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMuYWN0b3JLZXkpXG4gIH1cblxuICBnZXQgaXRlbSAoKSB7XG4gICAgaWYgKCF0aGlzLml0ZW1JZCkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5pdGVtSWQpXG4gIH1cblxuICBnZXQgd2VhcG9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtXG4gIH1cblxuICBnZXQgdGFyZ2V0ZWRUb2tlbnMgKCkge1xuICAgIHJldHVybiBbLi4uZ2FtZS51c2VyLnRhcmdldHNdXG4gIH1cblxuICBnZXQgdGFyZ2V0ICgpIHtcbiAgICBpZiAodGhpcy50YXJnZXRUb2tlbikgcmV0dXJuIHRoaXMudGFyZ2V0VG9rZW5cbiAgICByZXR1cm4gdGhpcy50YXJnZXRBY3RvclxuICB9XG5cbiAgLyoqXG4gICAqIElmIGEgdGFyZ2V0S2V5IHdhcyBwcm92aWRlZCB0cnkgdG8gZmluZCBhIHRva2VuIHdpdGggdGhhdCBrZXkgYW5kIHVzZSBpdC5cbiAgICogSWYgbm90IHRhcmdldEtleSBwcm92aWRlZCByZXR1cm4gdGhlIGZpcnN0IHRhcmdldC5cbiAgICovXG4gIGdldCB0YXJnZXRUb2tlbiAoKSB7XG4gICAgaWYgKCF0aGlzLl90YXJnZXRUb2tlbikge1xuICAgICAgaWYgKHRoaXMuX3RhcmdldEtleSkge1xuICAgICAgICB0aGlzLl90YXJnZXRUb2tlbiA9IGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMuX3RhcmdldEtleSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3RhcmdldFRva2VuID0gdGhpcy50YXJnZXRlZFRva2Vucy5wb3AoKVxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0VG9rZW4pIHtcbiAgICAgICAgICB0aGlzLl90YXJnZXRLZXkgPSBgJHt0aGlzLl90YXJnZXRUb2tlbi5zY2VuZS5pZH0uJHt0aGlzLl90YXJnZXRUb2tlbi5pZH1gXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICAgICAgdGhpcy5fdGFyZ2V0VG9rZW4gPSBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldFRva2VuXG4gIH1cblxuICBnZXQgdGFyZ2V0QWN0b3IgKCkge1xuICAgIGlmICghdGhpcy5fdGFyZ2V0QWN0b3IpIHtcbiAgICAgIGlmICh0aGlzLnRhcmdldFRva2VuKSB0aGlzLl90YXJnZXRBY3RvciA9IHRoaXMudGFyZ2V0VG9rZW4uYWN0b3JcbiAgICAgIGVsc2UgdGhpcy5fdGFyZ2V0QWN0b3IgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLl90YXJnZXRLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0QWN0b3JcbiAgfVxuXG4gIGdldCB0YXJnZXRLZXkgKCkge1xuICAgIGlmICghdGhpcy50YXJnZXRUb2tlbiAmJiAhdGhpcy50YXJnZXRBY3RvcikgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0S2V5XG4gIH1cblxuICBnZXQgaGFzVGFyZ2V0ICgpIHtcbiAgICBpZiAoIXRoaXMudGFyZ2V0VG9rZW4gJiYgIXRoaXMudGFyZ2V0QWN0b3IpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZXQgdGFyZ2V0S2V5ICh4KSB7XG4gICAgdGhpcy5fdGFyZ2V0S2V5ID0geFxuICB9XG5cbiAgZ2V0IHNraWxscyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0b3IuZ2V0V2VhcG9uU2tpbGxzKHRoaXMuaXRlbUlkKVxuICB9XG5cbiAgZ2V0IHRhcmdldEltZyAoKSB7XG4gICAgY29uc3QgaW1nID0gY2hhdEhlbHBlci5nZXRBY3RvckltZ0Zyb21LZXkodGhpcy50YXJnZXRLZXkpXG4gICAgaWYgKGltZykgcmV0dXJuIGltZ1xuICAgIHJldHVybiAnLi4vaWNvbnMvc3ZnL215c3RlcnktbWFuLWJsYWNrLnN2ZydcbiAgfVxuXG4gIGdldCBuYW1lICgpIHtcbiAgICBpZiAodGhpcy50b2tlbikgcmV0dXJuIHRoaXMudG9rZW4ubmFtZVxuICAgIHJldHVybiB0aGlzLmFjdG9yLm5hbWVcbiAgfVxuXG4gIGdldCB0YXJnZXROYW1lICgpIHtcbiAgICBpZiAoIXRoaXMudGFyZ2V0KSByZXR1cm4gJ2R1bW15J1xuICAgIHJldHVybiB0aGlzLnRhcmdldC5uYW1lXG4gIH1cblxuICBnZXQgYWN0b3JJbWcgKCkge1xuICAgIGNvbnN0IGltZyA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JJbWdGcm9tS2V5KHRoaXMuYWN0b3JLZXkpXG4gICAgaWYgKGltZykgcmV0dXJuIGltZ1xuICAgIHJldHVybiAnLi4vaWNvbnMvc3ZnL215c3RlcnktbWFuLWJsYWNrLnN2ZydcbiAgfVxuXG4gIGFzeW5jIHNheSAobWVzc2FnZSwgZmxhdm9yID0gbnVsbCkge1xuICAgIGNvbnN0IHNwZWFrZXJEYXRhID0ge31cbiAgICBsZXQgc3BlYWtlclxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICBzcGVha2VyRGF0YS5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICAgIHNwZWFrZXJEYXRhLnRva2VuID0gdGhpcy50b2tlbi5kb2N1bWVudFxuICAgICAgfVxuICAgICAgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoc3BlYWtlckRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gdGhpcy5hY3Rvci51c2VyID8gdGhpcy5hY3Rvci51c2VyIDogZ2FtZS51c2VyXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IHVzZXIuaWQsXG4gICAgICBzcGVha2VyLFxuICAgICAgZmxhdm9yLFxuICAgICAgY29udGVudDogbWVzc2FnZVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIFsnZ21yb2xsJywgJ2JsaW5kcm9sbCddLmluY2x1ZGVzKGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJykpXG4gICAgKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJykgLy8gQ2hhbmdlIGZvciB1c2VyXG4gICAgfVxuICAgIGlmICh0aGlzLnJvbGxNb2RlID09PSAnYmxpbmRyb2xsJykgY2hhdERhdGEuYmxpbmQgPSB0cnVlXG5cbiAgICBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpLnRoZW4obXNnID0+IHtcbiAgICAgIHJldHVybiBtc2dcbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgZ2FtZSwgcmVuZGVyVGVtcGxhdGUsIFJvbGwsIHVpICovXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vLi4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3RGljZSB9IGZyb20gJy4uLy4uL2RpY2UuanMnXG5pbXBvcnQgeyBDaGF0Q2FyZEFjdG9yIH0gZnJvbSAnLi4vY2FyZC1hY3Rvci5qcydcbmltcG9ydCB7IGNyZWF0ZUlubGluZVJvbGwsIGNoYXRIZWxwZXIgfSBmcm9tICcuLi9oZWxwZXIuanMnXG5cbmZ1bmN0aW9uIHJlcGxhY2VyIChrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkuc3RhcnRzV2l0aCgnX18nKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQgLy8gcmVtb3ZlIGZyb20gcmVzdWx0XG4gIH1cblxuICBjb25zdCBleGNsdWRlID0gWydfYWN0b3InXVxuICBpZiAoZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgY29uc3QgY2hlY2tzID0gWydzYW5DaGVjaycsICdpbnRDaGVjayddXG4gIGlmIChjaGVja3MuaW5jbHVkZXMoa2V5KSkge1xuICAgIHJldHVybiB2YWx1ZS5KU09OUm9sbERhdGFcbiAgfVxuXG4gIHJldHVybiB2YWx1ZSAvLyByZXR1cm4gYXMgaXNcbn1cblxuZXhwb3J0IGNsYXNzIFNhbkNoZWNrQ2FyZCBleHRlbmRzIENoYXRDYXJkQWN0b3Ige1xuICBjb25zdHJ1Y3RvciAoYWN0b3JLZXkgPSBudWxsLCBzYW5EYXRhID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKFxuICAgICAgYWN0b3JLZXksXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5mYXN0Rm9yd2FyZCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBCb29sZWFuKG9wdGlvbnMuZmFzdEZvcndhcmQpXG4gICAgICAgIDogZmFsc2VcbiAgICApXG4gICAgc2FuRGF0YS5zYW5SZWFzb24gPSBzYW5EYXRhLnNhblJlYXNvbiA/PyAnJ1xuICAgIHRoaXMuc2FuRGF0YSA9IHNhbkRhdGFcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgaWYgKHNhbkRhdGEubW9kaWZpZXIgJiYgIWlzTmFOKE51bWJlcihzYW5EYXRhLm1vZGlmaWVyKSkpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zYW5Nb2RpZmllciA9IE51bWJlcihzYW5EYXRhLm1vZGlmaWVyKVxuICAgIH1cbiAgICBpZiAoc2FuRGF0YS5kaWZmaWN1bHR5ICYmICFpc05hTihOdW1iZXIoc2FuRGF0YS5kaWZmaWN1bHR5KSkpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zYW5EaWZmaWN1bHR5ID0gTnVtYmVyKHNhbkRhdGEuZGlmZmljdWx0eSlcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IHt9XG4gIH1cblxuICBnZXQgaXNCbGluZCAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLm9wdGlvbnMuaXNCbGluZCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gQm9vbGVhbih0aGlzLm9wdGlvbnMuaXNCbGluZClcbiAgICAgIDogc3VwZXIuaXNCbGluZFxuICB9XG5cbiAgZ2V0IGRpZmZpY3VsdHkgKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5vcHRpb25zLmRpZmZpY3VsdHkgIT09ICd1bmRlZmluZWQnXG4gICAgICA/IHRoaXMub3B0aW9ucy5kaWZmaWN1bHR5XG4gICAgICA6IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICB9XG5cbiAgZ2V0IG1vZGlmaWVyICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMub3B0aW9ucy5tb2RpZmllciAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gdGhpcy5vcHRpb25zLm1vZGlmaWVyXG4gICAgICA6IDBcbiAgfVxuXG4gIGdldCBzYW5Mb3NzU291cmNlICgpIHtcbiAgICBpZiAoIXRoaXMuc2FuRGF0YS50b2tlbktleSkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5zYW5EYXRhLnRva2VuS2V5KVxuICB9XG5cbiAgZ2V0IGludm9sdW50YXJ5QWN0aW9uICgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLnNhblJvbGxlZCAmJlxuICAgICAgKHRoaXMuc2FuQ2hlY2suaXNGYWlsdXJlIHx8IHRoaXMuc2FuQ2hlY2suaXNGdW1ibGUpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBzYW5Mb3NzRm9ybXVsYSAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2FuUm9sbGVkKSB7XG4gICAgICBpZiAodGhpcy5zYW5EYXRhLnNhbk1heCAmJiB0aGlzLnNhbkNoZWNrLmZhaWxlZCkge1xuICAgICAgICByZXR1cm4gIWlzTmFOKE51bWJlcih0aGlzLnNhbkRhdGEuc2FuTWF4KSlcbiAgICAgICAgICA/IE51bWJlcih0aGlzLnNhbkRhdGEuc2FuTWF4KVxuICAgICAgICAgIDogdGhpcy5zYW5EYXRhLnNhbk1heFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2FuRGF0YS5zYW5NaW4gJiYgdGhpcy5zYW5DaGVjay5wYXNzZWQpIHtcbiAgICAgICAgcmV0dXJuICFpc05hTihOdW1iZXIodGhpcy5zYW5EYXRhLnNhbk1pbikpXG4gICAgICAgICAgPyBOdW1iZXIodGhpcy5zYW5EYXRhLnNhbk1pbilcbiAgICAgICAgICA6IHRoaXMuc2FuRGF0YS5zYW5NaW5cbiAgICAgIH1cbiAgICAgIHJldHVybiAwXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgc2FuTG9zdFRvUmVhc29uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5zYW5Mb3N0VG9SZWFzb24odGhpcy5zYW5EYXRhLnNhblJlYXNvbilcbiAgfVxuXG4gIGdldCBtYXhQb3NzaWJsZVNhbkxvc3MgKCkge1xuICAgIHJldHVybiB0aGlzLmFjdG9yLm1heExvc3NUb1NhblJlYXNvbihcbiAgICAgIHRoaXMuc2FuRGF0YS5zYW5SZWFzb24sXG4gICAgICB0aGlzLnNhbkRhdGEuc2FuTWF4XG4gICAgKVxuICB9XG5cbiAgZ2V0IG1heFNhbkxvc3MgKCkge1xuICAgIHJldHVybiBuZXcgUm9sbCh0aGlzLnNhbkRhdGEuc2FuTWF4LnRvU3RyaW5nKCkpLmV2YWx1YXRlKHtcbiAgICAgIG1heGltaXplOiB0cnVlXG4gICAgfSkudG90YWxcbiAgfVxuXG4gIGdldCBzYW5Mb3NzUmVhc29uRW5jb3VudGVyZWQgKCkge1xuICAgIHJldHVybiB0aGlzLmFjdG9yLnNhbkxvc3NSZWFzb25FbmNvdW50ZXJlZCh0aGlzLnNhbkRhdGEuc2FuUmVhc29uKVxuICB9XG5cbiAgZ2V0IGZpcnN0RW5jb3VudGVyICgpIHtcbiAgICByZXR1cm4gIXRoaXMuYWN0b3IubXl0aG9zSW5zYW5pdHlFeHBlcmllbmNlZFxuICB9XG5cbiAgZ2V0IGlzQWN0b3JMb29zaW5nU2FuICgpIHtcbiAgICAvLyBObyBzYW4gbG9zcyBkdXJpbmcgYm91dCBvZiBtYWQuXG4gICAgaWYgKHRoaXMuYWN0b3IuaGFzVGVtcG9JbnNhbmUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIFRoZSBzYW4gbG9zcyBpcyBhIDBcbiAgICBpZiAodGhpcy5zYW5Mb3NzRm9ybXVsYSA9PT0gMCkgcmV0dXJuIGZhbHNlXG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnNhbkRhdGEuc2FuUmVhc29uICYmXG4gICAgICB0aGlzLmFjdG9yLm1heExvc3NUb1NhblJlYXNvbihcbiAgICAgICAgdGhpcy5zYW5EYXRhLnNhblJlYXNvbixcbiAgICAgICAgdGhpcy5zYW5EYXRhLnNhbk1heFxuICAgICAgKSA9PT0gMFxuICAgICkge1xuICAgICAgdGhpcy5zdGF0ZS5pbW11bmVUb0NyZWF0dXJlID0gdHJ1ZVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGdldCBib3V0RHVyYXRpb25UZXh0ICgpIHtcbiAgICBpZiAodGhpcy5ib3V0RHVyYXRpb24pIHtcbiAgICAgIGlmICh0aGlzLmJvdXRSZWFsVGltZSkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5ib3V0RHVyYXRpb259ICR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LnJvdW5kcycpfWBcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmJvdXRTdW1tYXJ5KSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmJvdXREdXJhdGlvbn0gJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuaG91cnMnKX1gXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgeW91R2FpbkN0aHVsaHVNeXRob3NTdHJpbmcgKCkge1xuICAgIGlmICh0aGlzLm15dGhvc0dhaW4pIHtcbiAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LllvdUdhaW5lZEN0aHVsaHVNeXRob3MnLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLm15dGhvc0dhaW5cbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhc3luYyBhZHZhbmNlU3RhdGUgKHN0YXRlKSB7XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSAna2VlcENyZWF0dXJlU2FuRGF0YSc6IHtcbiAgICAgICAgdGhpcy5zdGF0ZS5rZWVwQ3JlYXR1cmVTYW5EYXRhID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnaW52b2x1bnRhcnlBY3Rpb25QZXJmb3JtZWQnOiB7XG4gICAgICAgIHRoaXMuc3RhdGVbc3RhdGVdID0gdHJ1ZVxuICAgICAgICBpZiAoIXRoaXMuaXNBY3Rvckxvb3NpbmdTYW4pIHRoaXMuc3RhdGUuZmluaXNoID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnc2FuTG9zc0FwcGxpZWQnOiB7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTYW5Mb3NzKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2VudGVyQm91dE9mTWFkbmVzc1JlYWxUaW1lJzoge1xuICAgICAgICB0aGlzLmJvdXREdXJhdGlvbiA9IChhd2FpdCBuZXcgUm9sbCgnMUQxMCcpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICAgICAgdGhpcy5ib3V0UmVhbFRpbWUgPSB0cnVlXG4gICAgICAgIHRoaXMuYm91dFN1bW1hcnkgPSBmYWxzZVxuICAgICAgICB0aGlzLmJvdXRSZXN1bHQgPSBhd2FpdCB0aGlzLmFjdG9yLmVudGVyQm91dE9mTWFkbmVzcyhcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIHRoaXMuYm91dER1cmF0aW9uXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5zdGF0ZS5ib3V0T2ZNYWRuZXNzUmVzb2x2ZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuc3RhdGUuYm91dE9mTWFkbmVzc092ZXIgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnZW50ZXJCb3V0T2ZNYWRuZXNzU3VtbWFyeSc6IHtcbiAgICAgICAgdGhpcy5ib3V0RHVyYXRpb24gPSAoYXdhaXQgbmV3IFJvbGwoJzFEMTAnKS5yb2xsKHsgYXN5bmM6IHRydWUgfSkpLnRvdGFsXG4gICAgICAgIHRoaXMuYm91dFJlYWxUaW1lID0gZmFsc2VcbiAgICAgICAgdGhpcy5ib3V0U3VtbWFyeSA9IHRydWVcbiAgICAgICAgdGhpcy5ib3V0UmVzdWx0ID0gYXdhaXQgdGhpcy5hY3Rvci5lbnRlckJvdXRPZk1hZG5lc3MoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgdGhpcy5ib3V0RHVyYXRpb25cbiAgICAgICAgKVxuICAgICAgICB0aGlzLnN0YXRlLmJvdXRPZk1hZG5lc3NSZXNvbHZlZCA9IHRydWVcbiAgICAgICAgYXdhaXQgdGhpcy50cmlnZ2VySW5zYW5pdHkoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnYm91dE9mTWFkbmVzc092ZXInOiB7XG4gICAgICAgIGF3YWl0IHRoaXMuYWN0b3IudW5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudGVtcG9JbnNhbmUpXG4gICAgICAgIGF3YWl0IHRoaXMudHJpZ2dlckluc2FuaXR5KClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ25vTXl0aG9zR2FpbmVkJzoge1xuICAgICAgICB0aGlzLnN0YXRlLmN0aHVsaHVNeXRob3NBd2FyZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLm15dGhvc0dhaW4gPSAwXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdjdGh1bGh1TXl0aG9zQXdhcmRlZCc6IHtcbiAgICAgICAgbGV0IGFtb3VudEdhaW5lZCA9IDFcbiAgICAgICAgaWYgKCF0aGlzLmFjdG9yLm15dGhvc0luc2FuaXR5RXhwZXJpZW5jZWQpIHtcbiAgICAgICAgICBhbW91bnRHYWluZWQgPSA1XG4gICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5leHBlcmllbmNlRmlyc3RNeXRob3NJbnNhbml0eSgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZS5jdGh1bGh1TXl0aG9zQXdhcmRlZCA9IHRydWVcbiAgICAgICAgY29uc3QgY3RodWxodU15dGhvc1NraWxsID0gdGhpcy5hY3Rvci5jdGh1bGh1TXl0aG9zU2tpbGxcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPVxuICAgICAgICAgIGN0aHVsaHVNeXRob3NTa2lsbC5kYXRhLmRhdGEuYWRqdXN0bWVudHMuZXhwZXJpZW5jZSB8fCAwXG4gICAgICAgIGlmIChjdGh1bGh1TXl0aG9zU2tpbGwpIHtcbiAgICAgICAgICBhd2FpdCBjdGh1bGh1TXl0aG9zU2tpbGwudXBkYXRlKHtcbiAgICAgICAgICAgICdkYXRhLmFkanVzdG1lbnRzLmV4cGVyaWVuY2UnOiBvbGRWYWx1ZSArIGFtb3VudEdhaW5lZFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5teXRob3NHYWluID0gYW1vdW50R2FpbmVkXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYnlwYXNzUm9sbFNhbiAoKSB7XG4gICAgdGhpcy5pc0J5cGFzc2VkID0gdHJ1ZVxuICAgIHRoaXMuc2FuQ2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICB0aGlzLnNhbkNoZWNrLmFjdG9yID0gdGhpcy5hY3RvcktleVxuICAgIHRoaXMuc2FuQ2hlY2suYXR0cmlidXRlID0gJ3NhbidcbiAgICB0aGlzLnNhbkNoZWNrLmRpZmZpY3VsdHkgPVxuICAgICAgdGhpcy5vcHRpb25zLnNhbkRpZmZpY3VsdHkgfHwgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgdGhpcy5zYW5DaGVjay5kaWNlTW9kaWZpZXIgPSB0aGlzLm9wdGlvbnMuc2FuTW9kaWZpZXIgfHwgMFxuICAgIGF3YWl0IHRoaXMuc2FuQ2hlY2suX3BlcmZvcm0oeyBmb3JjZURTTjogdHJ1ZSB9KVxuICAgIHRoaXMuc3RhdGUuc2FuUm9sbGVkID0gdHJ1ZVxuICAgIHRoaXMuc3RhdGUuaW52b2x1bnRhcnlBY3Rpb25QZXJmb3JtZWQgPSB0aGlzLnNhbkNoZWNrLnBhc3NlZFxuICAgIHRoaXMuc3RhdGUuc2FuTG9zc1JvbGxlZCA9IHRydWVcbiAgICB0aGlzLnN0YXRlLmlnbm9yZVNhbkNoZWNrID0gdHJ1ZVxuICAgIHRoaXMuc2FuTG9zcyA9IHRoaXMuc2FuTG9zc0Zvcm11bGFcbiAgfVxuXG4gIGFzeW5jIHJvbGxTYW4gKCkge1xuICAgIHRoaXMuc2FuQ2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICB0aGlzLnNhbkNoZWNrLmFjdG9yID0gdGhpcy5hY3RvcktleVxuICAgIHRoaXMuc2FuQ2hlY2suYXR0cmlidXRlID0gJ3NhbidcbiAgICB0aGlzLnNhbkNoZWNrLmRpZmZpY3VsdHkgPVxuICAgICAgdGhpcy5vcHRpb25zLnNhbkRpZmZpY3VsdHkgfHwgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgdGhpcy5zYW5DaGVjay5kaWNlTW9kaWZpZXIgPSB0aGlzLm9wdGlvbnMuc2FuTW9kaWZpZXIgfHwgMFxuICAgIGF3YWl0IHRoaXMuc2FuQ2hlY2suX3BlcmZvcm0oeyBmb3JjZURTTjogdHJ1ZSB9KVxuICAgIHRoaXMuc3RhdGUuc2FuUm9sbGVkID0gdHJ1ZVxuICAgIHRoaXMuc3RhdGUuaW52b2x1bnRhcnlBY3Rpb25QZXJmb3JtZWQgPSB0aGlzLnNhbkNoZWNrLnBhc3NlZFxuICAgIGlmICghdGhpcy5pc0FjdG9yTG9vc2luZ1Nhbikge1xuICAgICAgdGhpcy5zdGF0ZS5maW5pc2ggPSB0cnVlXG4gICAgICBpZiAodGhpcy5hY3Rvci5oYXNUZW1wb0luc2FuZSkge1xuICAgICAgICB0aGlzLnN0YXRlLmltbXVuZUFscmVhZHlJbkJvdXQgPSB0cnVlXG4gICAgICAgIGlmICghdGhpcy5zYW5DaGVjay5wYXNzZWQpIHRoaXMuc3RhdGUuZmluaXNoID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUuc2FuTG9zc1JvbGxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUuc2FuTG9zc0FwcGxpZWQgPSB0cnVlXG4gICAgICB0aGlzLnN0YXRlLmludFJvbGxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUuaW5zYW5pdHkgPSBmYWxzZVxuICAgICAgdGhpcy5zYW5Mb3NzID0gMFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuc2FuTG9zc0Zvcm11bGEgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnN0YXRlLnNhbkxvc3NSb2xsZWQgPSB0cnVlXG4gICAgICBpZiAodGhpcy5zYW5EYXRhLnNhblJlYXNvbikge1xuICAgICAgICB0aGlzLnNhbkxvc3MgPSB0aGlzLmFjdG9yLm1heExvc3NUb1NhblJlYXNvbihcbiAgICAgICAgICB0aGlzLnNhbkRhdGEuc2FuUmVhc29uLFxuICAgICAgICAgIHRoaXMuc2FuTG9zc0Zvcm11bGFcbiAgICAgICAgKVxuICAgICAgICBpZiAodGhpcy5zYW5Mb3NzIDwgdGhpcy5zYW5Mb3NzRm9ybXVsYSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUubGltaXRlZExvc3NUb0NyZWF0dXJlID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNhbkxvc3MgPSB0aGlzLnNhbkxvc3NGb3JtdWxhXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnNhbkNoZWNrLmlzRnVtYmxlKSB7XG4gICAgICB0aGlzLnN0YXRlLnNhbkxvc3NSb2xsZWQgPSB0cnVlXG4gICAgICB0aGlzLnNhbkxvc3MgPSB0aGlzLmFjdG9yLm1heExvc3NUb1NhblJlYXNvbihcbiAgICAgICAgdGhpcy5zYW5EYXRhLnNhblJlYXNvbixcbiAgICAgICAgdGhpcy5zYW5EYXRhLnNhbk1heFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zYW5EYXRhLnNhblJlYXNvbikge1xuICAgICAgY29uc3QgbWluID0gbmV3IFJvbGwodGhpcy5zYW5Mb3NzRm9ybXVsYSkuZXZhbHVhdGUoe1xuICAgICAgICBtaW5pbWl6ZTogdHJ1ZVxuICAgICAgfSkudG90YWxcbiAgICAgIGNvbnN0IG1heCA9IHRoaXMuYWN0b3IubWF4TG9zc1RvU2FuUmVhc29uKFxuICAgICAgICB0aGlzLnNhbkRhdGEuc2FuUmVhc29uLFxuICAgICAgICB0aGlzLnNhbkRhdGEuc2FuTWF4XG4gICAgICApXG4gICAgICBpZiAobWluID49IG1heCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNhbkxvc3NSb2xsZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuc2FuTG9zcyA9IG1heFxuICAgICAgICB0aGlzLnN0YXRlLmxpbWl0ZWRMb3NzVG9DcmVhdHVyZSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyByb2xsU2FuTG9zcyAoKSB7XG4gICAgdGhpcy5zYW5Mb3NzUm9sbCA9IG5ldyBSb2xsKGAke3RoaXMuc2FuTG9zc0Zvcm11bGF9YClcblxuICAgIGF3YWl0IHRoaXMuc2FuTG9zc1JvbGwucm9sbCh7IGFzeW5jOiB0cnVlIH0pXG5cbiAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZCh0aGlzLnNhbkxvc3NSb2xsKVxuXG4gICAgY29uc3QgbWF4ID0gdGhpcy5hY3Rvci5tYXhMb3NzVG9TYW5SZWFzb24oXG4gICAgICB0aGlzLnNhbkRhdGEuc2FuUmVhc29uLFxuICAgICAgdGhpcy5zYW5EYXRhLnNhbk1heFxuICAgIClcblxuICAgIGlmICh0aGlzLnNhbkxvc3NSb2xsLnRvdGFsID4gbWF4KSB7XG4gICAgICB0aGlzLnN0YXRlLmxpbWl0ZWRMb3NzVG9DcmVhdHVyZSA9IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLnNhbkxvc3MgPSBNYXRoLm1pbih0aGlzLnNhbkxvc3NSb2xsLnRvdGFsLCBtYXgpXG4gICAgdGhpcy5zdGF0ZS5zYW5Mb3NzUm9sbGVkID0gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgYXBwbHlTYW5Mb3NzICgpIHtcbiAgICBhd2FpdCB0aGlzLmFjdG9yLmxvb3NlU2FuKHRoaXMuc2FuRGF0YS5zYW5SZWFzb24sIHRoaXMuc2FuTG9zcylcblxuICAgIGlmICh0aGlzLnNhbkxvc3MgPiAwKSB0aGlzLnN0YXRlLmFjdG9yTG9zdFNhbiA9IHRydWVcbiAgICB0aGlzLnN0YXRlLnNhbkxvc3NBcHBsaWVkID0gdHJ1ZVxuICAgIGlmICh0aGlzLmFjdG9yLnNhbiA8PSAwKSB7XG4gICAgICB0aGlzLnN0YXRlLmludFJvbGxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUuYm91dE9mTWFkbmVzc092ZXIgPSB0cnVlXG5cbiAgICAgIHRoaXMuc3RhdGUuaW5zYW5pdHkgPSB0cnVlXG4gICAgICB0aGlzLnN0YXRlLnBlcm1hbmVudGx5SW5zYW5lID0gdHJ1ZVxuXG4gICAgICB0aGlzLnN0YXRlLmZpbmlzaCA9IHRydWVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLnNhbkxvc3MgPCA1KSB7XG4gICAgICB0aGlzLnN0YXRlLmludFJvbGxlZCA9IHRydWVcbiAgICAgIGlmICh0aGlzLmFjdG9yLmhhc0luZGVmSW5zYW5lKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuaW5zYW5pdHkgPSB0cnVlXG4gICAgICAgIHRoaXMuc3RhdGUuc2hha2VuID0gdHJ1ZVxuICAgICAgICB0aGlzLnN0YXRlLmluc2FuaXR5VGFibGVSb2xsZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnN0YXRlLmZpbmlzaCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhdGUuaW50Um9sbGVkID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5pbnNhbml0eSA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhdGUuc2hha2VuID0gdHJ1ZVxuICAgICAgICB0aGlzLnN0YXRlLmluc2FuaXR5VGFibGVSb2xsZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuc3RhdGUuZmluaXNoID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLmludFJvbGxlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0b3IuZGFpbHlTYW5Mb3NzID49IHRoaXMuYWN0b3IuZGFpbHlTYW5MaW1pdCkge1xuICAgICAgLy8gdGhpcy5hY3Rvci5zYW4vNVxuICAgICAgdGhpcy5zdGF0ZS5pbnNhbml0eSA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUuaW50Um9sbGVkID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS50ZW1wb3JhcnlJbnNhbmUgPSBmYWxzZVxuICAgICAgdGhpcy5zdGF0ZS5pbmRlZmluaXRlbHlJbnNhbmUgPSB0cnVlXG4gICAgICB0aGlzLnN0YXRlLmluc2FuaXR5VGFibGVSb2xsZWQgPSBmYWxzZVxuICAgICAgdGhpcy5zdGF0ZS5tZW1vcnlSZXByZXNzZWQgPSBmYWxzZVxuICAgICAgdGhpcy5zdGF0ZS5maW5pc2ggPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJvbGxJbnQgKCkge1xuICAgIHRoaXMuaW50Q2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICB0aGlzLmludENoZWNrLmFjdG9yID0gdGhpcy5hY3RvcktleVxuICAgIHRoaXMuaW50Q2hlY2suY2hhcmFjdGVyaXN0aWMgPSAnaW50J1xuICAgIHRoaXMuaW50Q2hlY2suZGlmZmljdWx0eSA9XG4gICAgICB0aGlzLm9wdGlvbnMuaW50RGlmZmljdWx0eSB8fCBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICB0aGlzLmludENoZWNrLmRpY2VNb2RpZmllciA9IHRoaXMub3B0aW9ucy5pbnRNb2RpZmllciB8fCAwXG4gICAgYXdhaXQgdGhpcy5pbnRDaGVjay5fcGVyZm9ybSh7IGZvcmNlRFNOOiB0cnVlIH0pXG4gICAgdGhpcy5zdGF0ZS5pbnRSb2xsZWQgPSB0cnVlXG4gICAgaWYgKHRoaXMuaW50Q2hlY2sucGFzc2VkIHx8IHRoaXMuc3RhdGUuYWxyZWFkeUluc2FuZSkge1xuICAgICAgdGhpcy5zdGF0ZS5pbnNhbml0eSA9IHRydWVcbiAgICAgIHRoaXMuc3RhdGUudGVtcG9yYXJ5SW5zYW5lID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS5pbmRlZmluaXRlbHlJbnNhbmUgPSBmYWxzZVxuICAgICAgdGhpcy5zdGF0ZS5tZW1vcnlSZXByZXNzZWQgPSBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLmluc2FuaXR5ID0gZmFsc2VcbiAgICAgIHRoaXMuc3RhdGUudGVtcG9yYXJ5SW5zYW5lID0gZmFsc2VcbiAgICAgIHRoaXMuc3RhdGUuaW5kZWZpbml0ZWx5SW5zYW5lID0gZmFsc2VcbiAgICAgIHRoaXMuc3RhdGUubWVtb3J5UmVwcmVzc2VkID0gdHJ1ZVxuICAgICAgdGhpcy5zdGF0ZS5maW5pc2ggPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdHJpZ2dlckluc2FuaXR5ICgpIHtcbiAgICB0aGlzLnN0YXRlLmJvdXRPZk1hZG5lc3NPdmVyID0gdHJ1ZVxuICAgIGlmICh0aGlzLnN0YXRlLmluZGVmaW5pdGVseUluc2FuZSkge1xuICAgICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMuaW5kZWZJbnNhbmUpXG4gICAgfVxuICAgIHRoaXMuc3RhdGUuZmluaXNoID0gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgY2xlYXJTYW5Mb3NzUmVhc29uICgpIHtcbiAgICBhd2FpdCB0aGlzLmFjdG9yLnNldFJlYXNvblNhbkxvc3ModGhpcy5zYW5EYXRhLnNhblJlYXNvbiwgMClcbiAgICBpZiAoIXRoaXMuc2FuTG9zc1JlYXNvbkVuY291bnRlcmVkKSB7XG4gICAgICB0aGlzLnN0YXRlLmtlZXBDcmVhdHVyZVNhbkRhdGEgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ2hhdENhcmQgKCkge1xuICAgIC8vIEF0dGFjaGUgdGhlIHNhbkNoZWNrIHJlc3VsdCB0byB0aGUgbWVzc2FnZS5cbiAgICBpZiAodGhpcy5zdGF0ZS5zYW5Sb2xsZWQpIHtcbiAgICAgIHRoaXMuX19pbmxpbmVTYW5DaGVjayA9IHRoaXMuc2FuQ2hlY2suaW5saW5lQ2hlY2sub3V0ZXJIVE1MXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2FuTG9zc1JvbGwpIHtcbiAgICAgIGNvbnN0IGEgPSBjcmVhdGVJbmxpbmVSb2xsKHRoaXMuc2FuTG9zc1JvbGwpXG4gICAgICB0aGlzLl9faW5saW5lU2FuTG9zc1JvbGwgPSBhLm91dGVySFRNTFxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmludFJvbGxlZCAmJiB0aGlzLmludENoZWNrKSB7XG4gICAgICB0aGlzLl9faW5saW5lSW50Q2hlY2sgPSB0aGlzLmludENoZWNrLmlubGluZUNoZWNrLm91dGVySFRNTFxuICAgIH1cblxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShTYW5DaGVja0NhcmQudGVtcGxhdGUsIHRoaXMpXG4gICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJC5wYXJzZUhUTUwoaHRtbClbMF1cblxuICAgIC8vIEF0dGFjaCB0aGUgc2FuQ2hlY2tDYXJkIG9iamVjdCB0byB0aGUgbWVzc2FnZS5cbiAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUoSlNPTi5zdHJpbmdpZnkodGhpcywgcmVwbGFjZXIpKVxuXG4gICAgLy8gVXBkYXRlIHRoZSBtZXNzYWdlLlxuICAgIGNvbnN0IGNoYXRNZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG5cbiAgICBjb25zdCBtc2cgPSBhd2FpdCBjaGF0TWVzc2FnZS51cGRhdGUoe1xuICAgICAgY29udGVudDogaHRtbENhcmRFbGVtZW50Lm91dGVySFRNTFxuICAgIH0pXG4gICAgYXdhaXQgdWkuY2hhdC51cGRhdGVNZXNzYWdlKG1zZywgZmFsc2UpXG4gICAgcmV0dXJuIG1zZ1xuICB9XG5cbiAgc3RhdGljIGdldCB0ZW1wbGF0ZSAoKSB7XG4gICAgcmV0dXJuICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY2FyZHMvc2FuLWNoZWNrLmh0bWwnXG4gIH1cblxuICBzdGF0aWMgY2hlY2tUYXJnZXRzIChzYW5EYXRhLCBmYXN0Rm9yd2FyZCA9IGZhbHNlKSB7XG4gICAgY29uc3QgdGFyZ2V0cyA9IFsuLi5nYW1lLnVzZXIudGFyZ2V0c11cbiAgICBpZiAodGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIGZvciAoY29uc3QgdCBvZiB0YXJnZXRzKSB7XG4gICAgICAgIGlmICh0LmFjdG9yLmlzVG9rZW4pIHtcbiAgICAgICAgICBTYW5DaGVja0NhcmQuY3JlYXRlKHQuYWN0b3IudG9rZW5LZXksIHNhbkRhdGEsIHtcbiAgICAgICAgICAgIGZhc3RGb3J3YXJkXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTYW5DaGVja0NhcmQuY3JlYXRlKHQuYWN0b3IuaWQsIHNhbkRhdGEsIHsgZmFzdEZvcndhcmQgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lldhcm5Ob1RhcmdldHNTYW5DaGVjaycpKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGF0Q2FyZCA9IG5ldyBTYW5DaGVja0NhcmQoLi4uYXJncylcbiAgICBpZiAoY2hhdENhcmQuYWN0b3IuaGFzSW5kZWZJbnNhbmUpIHtcbiAgICAgIGNoYXRDYXJkLnN0YXRlLmFscmVhZHlJbnNhbmUgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGNoYXRDYXJkLmFjdG9yLnNhbiA8PSAwKSB7XG4gICAgICBjaGF0Q2FyZC5zdGF0ZS5pbnRSb2xsZWQgPSB0cnVlXG4gICAgICBjaGF0Q2FyZC5zdGF0ZS5ib3V0T2ZNYWRuZXNzT3ZlciA9IHRydWVcblxuICAgICAgY2hhdENhcmQuc3RhdGUuaW5zYW5pdHkgPSB0cnVlXG4gICAgICBjaGF0Q2FyZC5zdGF0ZS5wZXJtYW5lbnRseUluc2FuZSA9IHRydWVcblxuICAgICAgY2hhdENhcmQuc3RhdGUuZmluaXNoID0gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShTYW5DaGVja0NhcmQudGVtcGxhdGUsIGNoYXRDYXJkKVxuICAgIGNvbnN0IGh0bWxDYXJkRWxlbWVudCA9ICQucGFyc2VIVE1MKGh0bWwpWzBdXG5cbiAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUoSlNPTi5zdHJpbmdpZnkoY2hhdENhcmQsIHJlcGxhY2VyKSlcbiAgICBhd2FpdCBjaGF0Q2FyZC5zYXkoaHRtbENhcmRFbGVtZW50Lm91dGVySFRNTClcbiAgfVxuXG4gIHN0YXRpYyBnZXRGcm9tTWVzc2FnZUlkIChtZXNzYWdlSWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKVxuICAgIGNvbnN0IGh0bWxNZXNzYWdlID0gJC5wYXJzZUhUTUwobWVzc2FnZS5jb250ZW50KVswXVxuXG4gICAgY29uc3QgaHRtbENhcmQgPSBodG1sTWVzc2FnZS5xdWVyeVNlbGVjdG9yKCcuY2hhdC1jYXJkJylcblxuICAgIHJldHVybiBTYW5DaGVja0NhcmQuZ2V0RnJvbUNhcmQoaHRtbENhcmQpXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUNhcmQgKGNhcmQpIHtcbiAgICBjb25zdCBzYW5DaGVja0NhcmREYXRhID0gSlNPTi5wYXJzZSh1bmVzY2FwZShjYXJkLmRhdGFzZXQub2JqZWN0KSlcblxuICAgIGNvbnN0IHNhbkNoZWNrQ2FyZCA9IG5ldyBTYW5DaGVja0NhcmQoKVxuICAgIE9iamVjdC5hc3NpZ24oc2FuQ2hlY2tDYXJkLCBzYW5DaGVja0NhcmREYXRhKVxuICAgIGlmICghc2FuQ2hlY2tDYXJkLm1lc3NhZ2VJZCkge1xuICAgICAgc2FuQ2hlY2tDYXJkLm1lc3NhZ2VJZCA9IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKS5kYXRhc2V0Lm1lc3NhZ2VJZFxuICAgIH1cblxuICAgIGlmIChzYW5DaGVja0NhcmQuc2FuQ2hlY2s/LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgc2FuQ2hlY2tDYXJkLnNhbkNoZWNrID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgbmV3IENvQzdDaGVjaygpLFxuICAgICAgICBzYW5DaGVja0NhcmQuc2FuQ2hlY2tcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoc2FuQ2hlY2tDYXJkLmludENoZWNrPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgIHNhbkNoZWNrQ2FyZC5pbnRDaGVjayA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIG5ldyBDb0M3Q2hlY2soKSxcbiAgICAgICAgc2FuQ2hlY2tDYXJkLmludENoZWNrXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHNhbkNoZWNrQ2FyZC5zYW5Mb3NzUm9sbD8uY29uc3RydWN0b3I/Lm5hbWUgPT09ICdPYmplY3QnKSB7XG4gICAgICBzYW5DaGVja0NhcmQuc2FuTG9zc1JvbGwgPSBSb2xsLmZyb21EYXRhKHNhbkNoZWNrQ2FyZC5zYW5Mb3NzUm9sbClcbiAgICB9XG5cbiAgICByZXR1cm4gc2FuQ2hlY2tDYXJkXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBEaWFsb2csIEZvcm1EYXRhLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSAqL1xuXG5leHBvcnQgY2xhc3MgU2FuRGF0YURpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICBodG1sLmZpbmQoJzpjaGVja2JveCcpLmNsaWNrKCgpID0+IHRoaXMuX3RvZ2dsZUlucHV0KGh0bWwpKVxuICB9XG5cbiAgX3RvZ2dsZUlucHV0IChodG1sKSB7XG4gICAgaHRtbC5maW5kKCcqW25hbWU9XCJjdXN0b21uYW1lXCJdJykudG9nZ2xlKClcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShcbiAgICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvc2FuZGF0YS5odG1sJyxcbiAgICAgIG9wdGlvbnNcbiAgICApXG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBsZXQgZm9ybURhdGEgPSBudWxsXG4gICAgICBjb25zdCBkbGcgPSBuZXcgU2FuRGF0YURpYWxvZyh7XG4gICAgICAgIHRpdGxlOiBvcHRpb25zLmRpc3BsYXlOYW1lXG4gICAgICAgICAgPyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNhbkRhdGFTZWxlY3Rpb25XaW5kb3dOYW1lZCcsIHtcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuZGlzcGxheU5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNhbkRhdGFTZWxlY3Rpb25XaW5kb3cnKSwgLy8gVE9ETzogUmVtb3ZlIFNhbkRhdGFTZWxlY3Rpb25XaW5kb3dOYW1lZFxuICAgICAgICBjb250ZW50OiBodG1sLFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgVmFsaWRhdGU6IHtcbiAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVmFsaWRhdGUnKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBodG1sID0+IHtcbiAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcjc2FuLWRhdGEtZm9ybScpKVxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmb3JtRGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6ICdWYWxpZGF0ZScsXG4gICAgICAgIGNsb3NlOiAoKSA9PiB7fVxuICAgICAgfSlcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgdWkgKi9cbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN0NvbnRlbnRMaW5rRGlhbG9nIH0gZnJvbSAnLi9jb2M3LWNvbnRlbnQtbGluay1kaWFsb2cuanMnXG5pbXBvcnQgeyBpc0N0cmxLZXkgfSBmcm9tICcuLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IFJvbGxEaWFsb2cgfSBmcm9tICcuL3JvbGwtZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29tYmluZWRDaGVja0NhcmQgfSBmcm9tICcuLi9jaGF0L2NhcmRzL2NvbWJpbmVkLXJvbGwuanMnXG5pbXBvcnQgeyBPcHBvc2VkQ2hlY2tDYXJkIH0gZnJvbSAnLi4vY2hhdC9jYXJkcy9vcHBvc2VkLXJvbGwuanMnXG5pbXBvcnQgeyBTYW5DaGVja0NhcmQgfSBmcm9tICcuLi9jaGF0L2NhcmRzL3Nhbi1jaGVjay5qcydcbmltcG9ydCB7IFNhbkRhdGFEaWFsb2cgfSBmcm9tICcuL3NhbmRhdGEtZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29DN0xpbmsgfSBmcm9tICcuL2NvYzctbGluay5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q2hhdE1lc3NhZ2Uge1xuICBzdGF0aWMgZ2V0IFJPTExfVFlQRV9BVFRSSUJVVEUgKCkge1xuICAgIHJldHVybiAnUi9BVCdcbiAgfVxuXG4gIHN0YXRpYyBnZXQgUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDICgpIHtcbiAgICByZXR1cm4gJ1IvQ0gnXG4gIH1cblxuICBzdGF0aWMgZ2V0IFJPTExfVFlQRV9DT01CQVQgKCkge1xuICAgIHJldHVybiAnUi9DTydcbiAgfVxuXG4gIHN0YXRpYyBnZXQgUk9MTF9UWVBFX1NLSUxMICgpIHtcbiAgICByZXR1cm4gJ1IvU0snXG4gIH1cblxuICBzdGF0aWMgZ2V0IFJPTExfVFlQRV9FTkNPVU5URVIgKCkge1xuICAgIHJldHVybiAnUi9FQydcbiAgfVxuXG4gIHN0YXRpYyBnZXQgQ0FSRF9UWVBFX0NPTUJJTkVEICgpIHtcbiAgICByZXR1cm4gJ0MvQ08nXG4gIH1cblxuICBzdGF0aWMgZ2V0IENBUkRfVFlQRV9HUk9VUCAoKSB7XG4gICAgcmV0dXJuICdDL0dSJ1xuICB9XG5cbiAgc3RhdGljIGdldCBDQVJEX1RZUEVfTk9STUFMICgpIHtcbiAgICByZXR1cm4gJ0MvTk8nXG4gIH1cblxuICBzdGF0aWMgZ2V0IENBUkRfVFlQRV9PUFBPU0VEICgpIHtcbiAgICByZXR1cm4gJ0MvT1AnXG4gIH1cblxuICBzdGF0aWMgZ2V0IENBUkRfVFlQRV9TQU5fQ0hFQ0sgKCkge1xuICAgIHJldHVybiAnQy9TQydcbiAgfVxuXG4gIHN0YXRpYyBnZXQgQ0FSRF9UWVBFX05PTkUgKCkge1xuICAgIHJldHVybiAnQy9OTydcbiAgfVxuXG4gIC8vIHN0YXRpYyBnZXQgUk9MTF9UT19DSEFUICgpIHtcbiAgLy8gICByZXR1cm4gJ1IvQ0gnXG4gIC8vIH1cblxuICAvLyBzdGF0aWMgZ2V0IFJPTExfVE9fQ0xJUEJPQVJEICgpIHtcbiAgLy8gICByZXR1cm4gJ1IvQ0wnXG4gIC8vIH1cblxuICBzdGF0aWMgY2FyZFR5cGVzIChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NPTUJBVCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0ID0ge1xuICAgICAgW0NvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMXTogJ0NvQzcuUmVndWxhclJvbGxDYXJkJyxcbiAgICAgIFtDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX0NPTUJJTkVEXTogJ0NvQzcuQ29tYmluZWRSb2xsQ2FyZCcsXG4gICAgICBbQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9PUFBPU0VEXTogJ0NvQzcuT3Bwb3NlZFJvbGxDYXJkJ1xuICAgICAgLy8gW0NvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfR1JPVVBdOiAnQ29DNy5Hcm91cFJvbGxDYXJkJyAtIE5ZSVxuICAgIH1cbiAgICBpZiAoXG4gICAgICBjb25maWcucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFICYmXG4gICAgICBjb25maWcuYXR0cmlidXRlID09PSAnc2FuJ1xuICAgICkge1xuICAgICAgc2VsZWN0W0NvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfU0FOX0NIRUNLXSA9ICdDb0M3LlNhbml0eUxvc3NFbmNvdW50ZXInXG4gICAgfVxuICAgIHJldHVybiBzZWxlY3RcbiAgfVxuXG4gIHN0YXRpYyBub3JtYWxpemVSZXF1ZXN0IChvcHRpb25zKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG9wdGlvbnMuZXZlbnQgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5jYXJkVHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBvcHRpb25zLmFjdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgKHR5cGVvZiBvcHRpb25zLnNraWxsSWQgIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIHR5cGVvZiBvcHRpb25zLnNraWxsTmFtZSAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlICE9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jaGFyYWN0ZXJpc3RpYyAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgb3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9FTkNPVU5URVIpXG4gICAgKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2tpbGxJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuYWN0b3IuaXRlbXMuZ2V0KG9wdGlvbnMuc2tpbGxJZCkpIHtcbiAgICAgICAgICBvcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTFxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLnNraWxsTmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc2tpbGxJZHMgPSBvcHRpb25zLmFjdG9yLmdldFNraWxsc0J5TmFtZShvcHRpb25zLnNraWxsTmFtZSlcbiAgICAgICAgaWYgKHNraWxsSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBvcHRpb25zLnNraWxsSWQgPSBza2lsbElkc1swXS5pZFxuICAgICAgICAgIG9wdGlvbnMucm9sbFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgWydsY2snLCAnc2FuJ10uaW5jbHVkZXMob3B0aW9ucy5hdHRyaWJ1dGUpXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucy5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jaGFyYWN0ZXJpc3RpYyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1tcbiAgICAgICAgICBvcHRpb25zLmNoYXJhY3RlcmlzdGljXG4gICAgICAgIF0gIT09ICd1bmRlZmluZWQnXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucy5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUNcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdHlwZW9mIG9wdGlvbnMuZXZlbnQgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICB0eXBlb2Ygb3B0aW9ucy5jYXJkVHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgIHR5cGVvZiBvcHRpb25zLnJvbGxUeXBlID09PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvck5vdEZvdW5kJywge1xuICAgICAgICAgIHZhbHVlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUm9sbCcpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIVtcbiAgICAgICAgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9DT01CSU5FRCxcbiAgICAgICAgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9HUk9VUCxcbiAgICAgICAgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUwsXG4gICAgICAgIENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfT1BQT1NFRCxcbiAgICAgICAgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9TQU5fQ0hFQ0tcbiAgICAgIF0uaW5jbHVkZXMob3B0aW9ucy5jYXJkVHlwZSlcbiAgICApIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JJbnZhbGlkRm9ybXVsYScsIHtcbiAgICAgICAgICB2YWx1ZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9ySW52YWxpZENhcmRUeXBlJylcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoXG4gICAgICAhW1xuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMLFxuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDLFxuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0FUVFJJQlVURSxcbiAgICAgICAgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9FTkNPVU5URVJcbiAgICAgIF0uaW5jbHVkZXMob3B0aW9ucy5yb2xsVHlwZSlcbiAgICApIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JJbnZhbGlkRm9ybXVsYScsIHtcbiAgICAgICAgICB2YWx1ZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9ySW52YWxpZFJvbGxUeXBlJylcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGNhcmRUeXBlOiBvcHRpb25zLmNhcmRUeXBlLFxuICAgICAgICBzaGlmdEtleTogb3B0aW9ucy5mYXN0Rm9yd2FyZCA/PyBvcHRpb25zLmV2ZW50Py5zaGlmdEtleSA/PyBvcHRpb25zLmZhc3RGb3J3YXJkID8/IGZhbHNlLFxuICAgICAgICBhbHRLZXk6IG9wdGlvbnMuZXZlbnQ/LmFsdEtleSA/PyBmYWxzZSxcbiAgICAgICAgaXNDdHJsS2V5OiBpc0N0cmxLZXkob3B0aW9ucy5ldmVudCA/PyBmYWxzZSksXG4gICAgICAgIGNyZWF0ZUVuY291bnRlcjogb3B0aW9ucy5jcmVhdGVFbmNvdW50ZXIgPz8gZmFsc2UsXG4gICAgICAgIG9wZW5MaW5rVG9vbDogb3B0aW9ucy5vcGVuTGlua1Rvb2wgPz8gZmFsc2UsXG4gICAgICAgIHNlbmRUb0NoYXQ6IG9wdGlvbnMuc2VuZFRvQ2hhdCA/PyBmYWxzZSxcbiAgICAgICAgc2VuZFRvQ2xpcGJvYXJkOiBvcHRpb25zLnNlbmRUb0NsaXBib2FyZCA/PyBmYWxzZSxcbiAgICAgICAgaXNDb21iYXQ6XG4gICAgICAgICAgb3B0aW9ucy5ldmVudD8uY3VycmVudFRhcmdldC5jbGFzc0xpc3Q/LmNvbnRhaW5zKCdjb21iYXQnKSA/PyBmYWxzZSxcbiAgICAgICAgcHJldmVudFN0YW5kYnk6IG9wdGlvbnMucHJldmVudFN0YW5kYnkgPz8gZmFsc2UsXG4gICAgICAgIGJvbnVzRGljZTogMFxuICAgICAgfSxcbiAgICAgIGRpYWxvZ09wdGlvbnM6IHtcbiAgICAgICAgcm9sbFR5cGU6IG9wdGlvbnMucm9sbFR5cGUsXG4gICAgICAgIGNhcmRUeXBlOiBvcHRpb25zLmNhcmRUeXBlLFxuICAgICAgICBhdHRyaWJ1dGU6ICcnLFxuICAgICAgICBjaGF0TWVzc2FnZTogb3B0aW9ucy5jaGF0TWVzc2FnZSA/PyB0cnVlLFxuICAgICAgICBmb3JjZWRDYXJkVHlwZTogb3B0aW9ucy5mb3JjZWRDYXJkVHlwZSA/PyBmYWxzZSxcbiAgICAgICAgaGlkZURpZmZpY3VsdHk6IG9wdGlvbnMuaGlkZURpZmZpY3VsdHkgPz8gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSkge1xuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMOlxuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDOlxuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0FUVFJJQlVURTpcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9FTkNPVU5URVI6XG4gICAgICAgIGNvbmZpZy5vcHRpb25zLnNraWxsSWQgPVxuICAgICAgICAgIG9wdGlvbnMuc2tpbGxJZCA/P1xuICAgICAgICAgIG9wdGlvbnMuZXZlbnQ/LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKT8uZGF0YXNldC5za2lsbElkXG4gICAgICAgIGNvbmZpZy5vcHRpb25zLml0ZW1JZCA9XG4gICAgICAgICAgb3B0aW9ucy5ldmVudD8uY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpPy5kYXRhc2V0Lml0ZW1JZFxuICAgICAgICBjb25maWcub3B0aW9ucy5jaGFyYWN0ZXJpc3RpYyA9XG4gICAgICAgICAgb3B0aW9ucy5jaGFyYWN0ZXJpc3RpYyA/P1xuICAgICAgICAgIG9wdGlvbnMuZXZlbnQ/LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LmNoYXJhY3RlcmlzdGljXG4gICAgICAgIGNvbmZpZy5vcHRpb25zLmF0dHJpYnV0ZSA9XG4gICAgICAgICAgb3B0aW9ucy5hdHRyaWJ1dGUgPz9cbiAgICAgICAgICBvcHRpb25zLmV2ZW50Py5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC5hdHRyaWJcbiAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuYXR0cmlidXRlID0gY29uZmlnLm9wdGlvbnMuYXR0cmlidXRlXG4gICAgICAgIGNvbmZpZy5vcHRpb25zLmFjdG9ySWQgPVxuICAgICAgICAgIG9wdGlvbnMuZXZlbnQ/LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnZm9ybScpLmRhdGFzZXQuYWN0b3JJZCA/P1xuICAgICAgICAgIG9wdGlvbnMuYWN0b3IuaWRcbiAgICAgICAgY29uZmlnLm9wdGlvbnMudG9rZW5LZXkgPVxuICAgICAgICAgIG9wdGlvbnMuZXZlbnQ/LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnZm9ybScpLmRhdGFzZXQudG9rZW5JZCA/P1xuICAgICAgICAgIG9wdGlvbnMuYWN0b3IudG9rZW5LZXlcbiAgICAgICAgY29uZmlnLm9wdGlvbnMud2VhcG9uQWx0U2tpbGwgPVxuICAgICAgICAgIG9wdGlvbnMuZXZlbnQ/LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbHRlcm5hdGl2LXNraWxsJylcbiAgICAgICAgY29uZmlnLm9wdGlvbnMuYWN0b3IgPSBvcHRpb25zLmFjdG9yXG4gICAgICAgIGlmIChcbiAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTCAmJlxuICAgICAgICAgIGNvbmZpZy5vcHRpb25zLmlzQ29tYmF0XG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjb25maWcub3B0aW9ucy5hY3Rvci5pdGVtcy5nZXQoY29uZmlnLm9wdGlvbnMuaXRlbUlkKVxuICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgICAgICAgICBjb25maWcub3B0aW9ucy53ZWFwb25OYW1lID0gaXRlbS5uYW1lXG4gICAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ09NQkFUXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLm9wdGlvbnMuYWN0b3JJZCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAodHlwZW9mIGNvbmZpZy5vcHRpb25zLnRva2VuS2V5ID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgdHlwZW9mIGNvbmZpZy5vcHRpb25zLmFjdG9yID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JJbnZhbGlkRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvckFjdG9yJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTCAmJlxuICAgICAgICAgIHR5cGVvZiBjb25maWcub3B0aW9ucy5za2lsbElkID09PSAndW5kZWZpbmVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckludmFsaWRGb3JtdWxhJywge1xuICAgICAgICAgICAgICB2YWx1ZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLlNraWxsJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PVxuICAgICAgICAgIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUNcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcub3B0aW9ucy5jaGFyYWN0ZXJpc3RpYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JJbnZhbGlkRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNoYXJhY3RlcmlzdGljJylcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAhZ2FtZS51c2VyLmlzR00gJiZcbiAgICAgICAgICAgICFjb25maWcub3B0aW9ucy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzW1xuICAgICAgICAgICAgICBjb25maWcub3B0aW9ucy5jaGFyYWN0ZXJpc3RpY1xuICAgICAgICAgICAgXT8udmFsdWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEVcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcub3B0aW9ucy5hdHRyaWJ1dGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9ySW52YWxpZEZvcm11bGEnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BdHRyaWJ1dGUnKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICFnYW1lLnVzZXIuaXNHTSAmJlxuICAgICAgICAgICAgIWNvbmZpZy5vcHRpb25zLmFjdG9yLnN5c3RlbS5hdHRyaWJzW2NvbmZpZy5vcHRpb25zLmF0dHJpYnV0ZV1cbiAgICAgICAgICAgICAgPy52YWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NPTUJBVFxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5vcHRpb25zLml0ZW1JZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JJbnZhbGlkRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLldlYXBvbicpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5vcHRpb25zLmFsdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5vcHRpb25zLmhhc1BsYXllck93bmVyID1cbiAgICAgICAgICBjb25maWcub3B0aW9ucy5hY3Rvci5oYXNQbGF5ZXJPd25lciA/PyBmYWxzZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09XG4gICAgICAgICAgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQ1xuICAgICAgICApIHtcbiAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5kaXNhYmxlRmxhdFRocmVzaG9sZE1vZGlmaWVyID1cbiAgICAgICAgICAgIGNvbmZpZy5vcHRpb25zLmlzQ3RybEtleVxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpc2FibGVGbGF0RGljZU1vZGlmaWVyID1cbiAgICAgICAgICAgIGNvbmZpZy5vcHRpb25zLmlzQ3RybEtleVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpc2FibGVGbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBmYWxzZVxuICAgICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpc2FibGVGbGF0RGljZU1vZGlmaWVyID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5tb2RpZmllciA9IDBcbiAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZGlmZmljdWx0eSA9XG4gICAgICAgICAgb3B0aW9ucy5kaWZmaWN1bHR5ID8/XG4gICAgICAgICAgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbFtcbiAgICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2RlZmF1bHRDaGVja0RpZmZpY3VsdHknKVxuICAgICAgICAgIF1cbiAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZmxhdERpY2VNb2RpZmllciA9IDBcbiAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gMFxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdHJpZ2dlciAob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgY29uZmlnID0gQ29DN0NoYXRNZXNzYWdlLm5vcm1hbGl6ZVJlcXVlc3Qob3B0aW9ucylcbiAgICBpZiAoY29uZmlnID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChcbiAgICAgIChjb25maWcub3B0aW9ucy5pc0N0cmxLZXkpICYmXG4gICAgICBnYW1lLnVzZXIuaXNHTSAmJlxuICAgICAgW1xuICAgICAgICBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PUk1BTCxcbiAgICAgICAgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9TQU5fQ0hFQ0tcbiAgICAgIF0uaW5jbHVkZXMoY29uZmlnLmRpYWxvZ09wdGlvbnMuY2FyZFR5cGUpXG4gICAgKSB7XG4gICAgICBDb0M3Q2hhdE1lc3NhZ2UuY3JlYXRlTGluayhjb25maWcpXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIChjb25maWcub3B0aW9ucy5zZW5kVG9DaGF0IHx8IGNvbmZpZy5vcHRpb25zLnNlbmRUb0NsaXBib2FyZCB8fCBjb25maWcub3B0aW9ucy5vcGVuTGlua1Rvb2wgfHwgY29uZmlnLm9wdGlvbnMuY3JlYXRlRW5jb3VudGVyKSAmJlxuICAgICAgZ2FtZS51c2VyLmlzR00gJiZcbiAgICAgIENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9ORSA9PT0gY29uZmlnLmRpYWxvZ09wdGlvbnMuY2FyZFR5cGVcbiAgICApIHtcbiAgICAgIENvQzdDaGF0TWVzc2FnZS5jcmVhdGVMaW5rKGNvbmZpZylcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcub3B0aW9ucy5hY3RvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcub3B0aW9ucy5hdHRyaWJ1dGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgYm9udXNEaWNlID0gY29uZmlnLm9wdGlvbnMuYWN0b3Iuc3lzdGVtPy5hdHRyaWJzPy5bY29uZmlnLm9wdGlvbnMuYXR0cmlidXRlXT8uYm9udXNEaWNlXG4gICAgICAgICAgaWYgKGJvbnVzRGljZSkge1xuICAgICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMubW9kaWZpZXIgPSBib251c0RpY2VcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5vcHRpb25zLmNoYXJhY3RlcmlzdGljICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IGJvbnVzRGljZSA9IGNvbmZpZy5vcHRpb25zLmFjdG9yLnN5c3RlbT8uY2hhcmFjdGVyaXN0aWNzPy5bY29uZmlnLm9wdGlvbnMuY2hhcmFjdGVyaXN0aWNdPy5ib251c0RpY2VcbiAgICAgICAgICBpZiAoYm9udXNEaWNlKSB7XG4gICAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5tb2RpZmllciA9IGJvbnVzRGljZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLm9wdGlvbnMuaXRlbUlkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IGl0ZW1Nb2RpZmllcnMgPSBPYmplY3QudmFsdWVzKGNvbmZpZy5vcHRpb25zLmFjdG9yLnN5c3RlbS5za2lsbHMpLmZpbmQoayA9PiBrLmZvdW5kcnlJRCA9PT0gY29uZmlnLm9wdGlvbnMuaXRlbUlkKVxuICAgICAgICAgIGlmICh0eXBlb2YgaXRlbU1vZGlmaWVycy5ib251c0RpY2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5tb2RpZmllciA9IGl0ZW1Nb2RpZmllcnMuYm9udXNEaWNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLm1vZGlmaWVyID0gTWF0aC5taW4oTWF0aC5tYXgoY29uZmlnLmRpYWxvZ09wdGlvbnMubW9kaWZpZXIsIC0yKSwgMilcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnLm9wdGlvbnMuc2hpZnRLZXkpIHtcbiAgICAgICAgYXdhaXQgQ29DN0NoYXRNZXNzYWdlLmNyZWF0ZVJvbGwoY29uZmlnKVxuICAgICAgfVxuICAgICAgcmV0dXJuIENvQzdDaGF0TWVzc2FnZS5ydW5Sb2xsKGNvbmZpZylcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlTGluayAoY29uZmlnKSB7XG4gICAgc3dpdGNoIChjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSkge1xuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0FUVFJJQlVURTpcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQzpcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DT01CQVQ6XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfU0tJTEw6XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfRU5DT1VOVEVSOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgbGlua0RhdGEgPSB7XG4gICAgICAgICAgICB0eXBlOiAnQ29DN0xpbmsnXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTCkge1xuICAgICAgICAgICAgbGlua0RhdGEuY2hlY2sgPSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLXG4gICAgICAgICAgICBsaW5rRGF0YS5saW5rVHlwZSA9IENvQzdMaW5rLkxJTktfVFlQRS5TS0lMTFxuICAgICAgICAgICAgbGlua0RhdGEubmFtZSA9IGNvbmZpZy5vcHRpb25zLmFjdG9yLml0ZW1zLmdldChjb25maWcub3B0aW9ucy5za2lsbElkKT8uc2hvcnROYW1lXG4gICAgICAgICAgICBpZiAoIWxpbmtEYXRhLm5hbWUpIHJldHVyblxuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUMpIHtcbiAgICAgICAgICAgIGxpbmtEYXRhLmNoZWNrID0gQ29DN0xpbmsuQ0hFQ0tfVFlQRS5DSEVDS1xuICAgICAgICAgICAgbGlua0RhdGEubGlua1R5cGUgPSBDb0M3TGluay5MSU5LX1RZUEUuQ0hBUkFDVEVSSVNUSUNcbiAgICAgICAgICAgIGxpbmtEYXRhLm5hbWUgPSBjb25maWcub3B0aW9ucy5jaGFyYWN0ZXJpc3RpY1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFKSB7XG4gICAgICAgICAgICBpZiAoKGNvbmZpZy5vcHRpb25zLmFsdEtleSB8fCBjb25maWcub3B0aW9ucy5jcmVhdGVFbmNvdW50ZXIpICYmIGNvbmZpZy5vcHRpb25zLmF0dHJpYnV0ZSA9PT0gJ3NhbicpIHtcbiAgICAgICAgICAgICAgbGlua0RhdGEuY2hlY2sgPSBDb0M3TGluay5DSEVDS19UWVBFLlNBTkxPU1NcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxpbmtEYXRhLmNoZWNrID0gQ29DN0xpbmsuQ0hFQ0tfVFlQRS5DSEVDS1xuICAgICAgICAgICAgICBsaW5rRGF0YS5saW5rVHlwZSA9IENvQzdMaW5rLkxJTktfVFlQRS5BVFRSSUJVVEVcbiAgICAgICAgICAgICAgbGlua0RhdGEubmFtZSA9IGNvbmZpZy5vcHRpb25zLmF0dHJpYnV0ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ09NQkFUKSB7XG4gICAgICAgICAgICBsaW5rRGF0YS5jaGVjayA9IENvQzdMaW5rLkNIRUNLX1RZUEUuSVRFTVxuICAgICAgICAgICAgbGlua0RhdGEubmFtZSA9IGNvbmZpZy5vcHRpb25zLndlYXBvbk5hbWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5kaWFsb2dPcHRpb25zLnJvbGxUeXBlID09PSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0VOQ09VTlRFUikge1xuICAgICAgICAgICAgbGlua0RhdGEuY2hlY2sgPSBDb0M3TGluay5DSEVDS19UWVBFLlNBTkxPU1NcbiAgICAgICAgICAgIGxpbmtEYXRhLnNhbk1pbiA9IGNvbmZpZy5vcHRpb25zLmFjdG9yPy5zeXN0ZW0/LnNwZWNpYWw/LnNhbkxvc3M/LmNoZWNrUGFzc2VkXG4gICAgICAgICAgICBsaW5rRGF0YS5zYW5NYXggPSBjb25maWcub3B0aW9ucy5hY3Rvcj8uc3lzdGVtPy5zcGVjaWFsPy5zYW5Mb3NzPy5jaGVja0ZhaWxsZWRcbiAgICAgICAgICAgIGxpbmtEYXRhLnNhblJlYXNvbiA9IGNvbmZpZy5vcHRpb25zLmFjdG9yLnN5c3RlbS5pbmZvcy50eXBlPy5sZW5ndGhcbiAgICAgICAgICAgICAgPyBjb25maWcub3B0aW9ucy5hY3Rvci5zeXN0ZW0uaW5mb3MudHlwZVxuICAgICAgICAgICAgICA6IGNvbmZpZy5vcHRpb25zLmFjdG9yLm5hbWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpID09PSAnYmxpbmRyb2xsJykge1xuICAgICAgICAgICAgbGlua0RhdGEuYmxpbmQgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb25maWcub3B0aW9ucy5zZW5kVG9DaGF0KSB7XG4gICAgICAgICAgICBDb0M3TGluay50b0NoYXRNZXNzYWdlKGxpbmtEYXRhKVxuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLm9wdGlvbnMuc2VuZFRvQ2xpcGJvYXJkKSB7XG4gICAgICAgICAgICBDb0M3TGluay5mcm9tRHJvcERhdGEobGlua0RhdGEpLnRoZW4obGluayA9PiB7XG4gICAgICAgICAgICAgIENvQzdVdGlsaXRpZXMuY29weVRvQ2xpcGJvYXJkKGxpbmsubGluaylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIENvQzdDb250ZW50TGlua0RpYWxvZy5jcmVhdGUobGlua0RhdGEsIHsgYWN0b3JzOiBbY29uZmlnLm9wdGlvbnMuYWN0b3JdLmZpbHRlcihhID0+IGEub3duZXJzLmxlbmd0aCksIGhhc01vZGlmaWVyczogY29uZmlnLm9wdGlvbnMuc2hpZnRLZXkgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlUm9sbCAoY29uZmlnKSB7XG4gICAgY29uc3QgdXNhZ2UgPSBhd2FpdCBSb2xsRGlhbG9nLmNyZWF0ZShjb25maWcuZGlhbG9nT3B0aW9ucylcbiAgICBpZiAodXNhZ2UpIHtcbiAgICAgIGNvbnN0IGNhcmRUeXBlID0gdXNhZ2UuZ2V0KCdjYXJkVHlwZScpXG4gICAgICBpZiAoY2FyZFR5cGUpIHtcbiAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuY2FyZFR5cGUgPSBjYXJkVHlwZVxuICAgICAgfVxuICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMubW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdib251c0RpY2UnKSlcbiAgICAgIGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpZmZpY3VsdHkgPSBOdW1iZXIodXNhZ2UuZ2V0KCdkaWZmaWN1bHR5JykpXG4gICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5mbGF0RGljZU1vZGlmaWVyID0gTnVtYmVyKFxuICAgICAgICB1c2FnZS5nZXQoJ2ZsYXREaWNlTW9kaWZpZXInKVxuICAgICAgKVxuICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gTnVtYmVyKFxuICAgICAgICB1c2FnZS5nZXQoJ2ZsYXRUaHJlc2hvbGRNb2RpZmllcicpXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHJ1blJvbGwgKGNvbmZpZykge1xuICAgIHN3aXRjaCAoY29uZmlnLmRpYWxvZ09wdGlvbnMuY2FyZFR5cGUpIHtcbiAgICAgIGNhc2UgQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9TQU5fQ0hFQ0s6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBzYW5EYXRhID0gYXdhaXQgU2FuRGF0YURpYWxvZy5jcmVhdGUoe1xuICAgICAgICAgICAgcHJvbXB0TGFiZWw6IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGlmIChzYW5EYXRhKSB7XG4gICAgICAgICAgICBsZXQgc2FuTWluID0gc2FuRGF0YS5nZXQoJ3Nhbk1pbicpIHx8IDBcbiAgICAgICAgICAgIGxldCBzYW5NYXggPSBzYW5EYXRhLmdldCgnc2FuTWF4JykgfHwgMFxuICAgICAgICAgICAgY29uc3Qgc2FuUmVhc29uID0gc2FuRGF0YS5nZXQoJ3NhblJlYXNvbicpXG5cbiAgICAgICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHNhbk1pbikpKSBzYW5NaW4gPSBOdW1iZXIoc2FuTWluKVxuICAgICAgICAgICAgaWYgKCFpc05hTihOdW1iZXIoc2FuTWF4KSkpIHNhbk1heCA9IE51bWJlcihzYW5NYXgpXG5cbiAgICAgICAgICAgIFNhbkNoZWNrQ2FyZC5jcmVhdGUoXG4gICAgICAgICAgICAgIGNvbmZpZy5vcHRpb25zLmFjdG9yLmFjdG9yS2V5LFxuICAgICAgICAgICAgICB7IHNhbk1pbiwgc2FuTWF4LCBzYW5SZWFzb24gfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNhbk1vZGlmaWVyOiBjb25maWcuZGlhbG9nT3B0aW9ucy5tb2RpZmllcixcbiAgICAgICAgICAgICAgICBzYW5EaWZmaWN1bHR5OiBjb25maWcuZGlhbG9nT3B0aW9ucy5kaWZmaWN1bHR5LFxuICAgICAgICAgICAgICAgIGZhc3RGb3J3YXJkOiBjb25maWcub3B0aW9ucy5zaGlmdEtleVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IGNvbmZpZy5kaWFsb2dPcHRpb25zLm1vZGlmaWVyXG4gICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBjb25maWcuZGlhbG9nT3B0aW9ucy5kaWZmaWN1bHR5XG4gICAgICAgIGNoZWNrLmFjdG9yID0gIWNvbmZpZy5vcHRpb25zLnRva2VuS2V5XG4gICAgICAgICAgPyBjb25maWcub3B0aW9ucy5hY3RvcklkXG4gICAgICAgICAgOiBjb25maWcub3B0aW9ucy50b2tlbktleVxuICAgICAgICBjaGVjay5mbGF0RGljZU1vZGlmaWVyID0gY29uZmlnLmRpYWxvZ09wdGlvbnMuZmxhdERpY2VNb2RpZmllclxuICAgICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBjb25maWcuZGlhbG9nT3B0aW9ucy5mbGF0VGhyZXNob2xkTW9kaWZpZXJcbiAgICAgICAgY2hlY2suc3RhbmRieSA9XG4gICAgICAgICAgIWNvbmZpZy5vcHRpb25zLnByZXZlbnRTdGFuZGJ5ICYmXG4gICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3RhbmJ5R01Sb2xscycpICYmXG4gICAgICAgICAgZ2FtZS51c2VyLmlzR00gJiZcbiAgICAgICAgICBjb25maWcub3B0aW9ucy5oYXNQbGF5ZXJPd25lclxuICAgICAgICBpZiAoY29uZmlnLmRpYWxvZ09wdGlvbnMucm9sbFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfU0tJTEwpIHtcbiAgICAgICAgICBjaGVjay5za2lsbCA9IGNvbmZpZy5vcHRpb25zLnNraWxsSWRcbiAgICAgICAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBjb25maWcuZGlhbG9nT3B0aW9ucy5yb2xsVHlwZSA9PT0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEVcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXdhaXQgY2hlY2sucm9sbEF0dHJpYnV0ZShjb25maWcub3B0aW9ucy5hdHRyaWJ1dGUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXdhaXQgY2hlY2sucm9sbENoYXJhY3RlcmlzdGljKGNvbmZpZy5vcHRpb25zLmNoYXJhY3RlcmlzdGljKVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGlhbG9nT3B0aW9ucy5jaGF0TWVzc2FnZSkge1xuICAgICAgICAgIGNoZWNrLnRvTWVzc2FnZSgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN1bHQ6IGNoZWNrLm1vZGlmaWVkUmVzdWx0LFxuICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogY2hlY2sucm9sbGVkU3VjY2Vzc0xldmVsLFxuICAgICAgICAgIGlzRnVtYmxlOiBjaGVjay5pc0Z1bWJsZSxcbiAgICAgICAgICBpc0NyaXRpY2FsOiBjaGVjay5pc0NyaXRpY2FsLFxuICAgICAgICAgIHN1Y2Nlc3NMZXZlbHM6IHtcbiAgICAgICAgICAgIDE6IGNoZWNrLnJlZ3VsYXJUaHJlc2hvbGQsXG4gICAgICAgICAgICAyOiBjaGVjay5oYXJkVGhyZXNob2xkLFxuICAgICAgICAgICAgMzogY2hlY2suZXh0cmVtZVRocmVzaG9sZFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFzc2VkOiBjaGVjay5wYXNzZWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2FzZSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX09QUE9TRUQ6XG4gICAgICBjYXNlIENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfQ09NQklORUQ6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgICAgICAgIGNoZWNrLmFjdG9yID0gIWNvbmZpZy5vcHRpb25zLnRva2VuS2V5XG4gICAgICAgICAgICA/IGNvbmZpZy5vcHRpb25zLmFjdG9ySWRcbiAgICAgICAgICAgIDogY29uZmlnLm9wdGlvbnMudG9rZW5LZXlcbiAgICAgICAgICBjaGVjay5jaGFyYWN0ZXJpc3RpYyA9IGNvbmZpZy5vcHRpb25zLmNoYXJhY3RlcmlzdGljXG4gICAgICAgICAgY2hlY2suYXR0cmlidXRlID0gY29uZmlnLm9wdGlvbnMuYXR0cmlidXRlXG4gICAgICAgICAgY2hlY2suc2tpbGxJZCA9IGNvbmZpZy5vcHRpb25zLnNraWxsSWRcbiAgICAgICAgICBjaGVjay5yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICAgICAgICBjaGVjay5pbml0aWF0b3IgPSBnYW1lLnVzZXIuaWRcbiAgICAgICAgICBsZXQgZGF0YSA9IHt9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuY2FyZFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfT1BQT1NFRFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogT3Bwb3NlZENoZWNrQ2FyZC5kZWZhdWx0Q29uZmlnLnR5cGUsXG4gICAgICAgICAgICAgIGNvbWJhdDogY29uZmlnLm9wdGlvbnMuaXNDb21iYXQsXG4gICAgICAgICAgICAgIGFjdGlvbjogJ25ldydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrLml0ZW0gPSBjb25maWcub3B0aW9ucy5pdGVtSWRcbiAgICAgICAgICAgIGNoZWNrLndlYXBvbkFsdFNraWxsID0gY29uZmlnLm9wdGlvbnMud2VhcG9uQWx0U2tpbGxcbiAgICAgICAgICAgIGNoZWNrLmRlbnlQdXNoID0gdHJ1ZSAvLyBPcHBvc2VkIHJvbGxlZCBjYW4ndCBiZSBwdXNoZWQuXG4gICAgICAgICAgICBhd2FpdCBjaGVjay5fcGVyZm9ybSgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IENvbWJpbmVkQ2hlY2tDYXJkLmRlZmF1bHRDb25maWcudHlwZSxcbiAgICAgICAgICAgICAgYWN0aW9uOiAnbmV3J1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IGNvbmZpZy5kaWFsb2dPcHRpb25zLmRpZmZpY3VsdHlcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YS5yb2xsID0gY2hlY2suSlNPTlJvbGxEYXRhXG4gICAgICAgICAgZGF0YS5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29uZmlnLmRpYWxvZ09wdGlvbnMuY2FyZFR5cGUgPT09IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfT1BQT1NFRFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgT3Bwb3NlZENoZWNrQ2FyZC5kaXNwYXRjaChkYXRhKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDb21iaW5lZENoZWNrQ2FyZC5kaXNwYXRjaChkYXRhKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENoYXRNZXNzYWdlLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSwgdWkgKi9cbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi9jaGVjay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIENvQzdSb2xsIH0gZnJvbSAnLi9oZWxwZXIuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q29uQ2hlY2sge1xuICBjb25zdHJ1Y3RvciAoYWN0b3JJZCA9IG51bGwsIGRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIpIHtcbiAgICB0aGlzLmNoZWNrID0gbmV3IENvQzdDaGVjayhhY3RvcklkKVxuICAgIHRoaXMuY2hlY2suY2hhcmFjdGVyaXN0aWMgPSAnY29uJ1xuICAgIHRoaXMuY2hlY2suZGlmZmljdWx0eSA9IGRpZmZpY3VsdHlcbiAgICB0aGlzLmNoZWNrLmRlbnlQdXNoID0gdHJ1ZVxuICAgIHRoaXMuYWN0b3JJZCA9IGFjdG9ySWRcbiAgfVxuXG4gIGdldCBpc0JsaW5kICgpIHtcbiAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9pc0JsaW5kKSB7XG4gICAgICB0aGlzLl9pc0JsaW5kID0gdGhpcy5yb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCdcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzQmxpbmRcbiAgfVxuXG4gIHNldCBpc0JsaW5kICh4KSB7XG4gICAgdGhpcy5faXNCbGluZCA9IHhcbiAgfVxuXG4gIGdldCByb2xsTW9kZSAoKSB7XG4gICAgaWYgKCF0aGlzLl9yb2xsTW9kZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgcmV0dXJuIHRoaXMuX3JvbGxNb2RlXG4gIH1cblxuICBzZXQgcm9sbE1vZGUgKHgpIHtcbiAgICBpZiAoeCA9PT0gZmFsc2UpIHRoaXMuX3JvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIHRoaXMuX3JvbGxNb2RlID0geFxuICB9XG5cbiAgZ2V0IGFjdG9yICgpIHtcbiAgICBpZiAodGhpcy5hY3RvcklkKSByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5hY3RvcklkKSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgc2V0IGFjdG9ySWQgKHgpIHtcbiAgICB0aGlzLl9hY3RvcklkID0geFxuICAgIHRoaXMuY2hlY2suYWN0b3IgPSB4XG4gIH1cblxuICBnZXQgYWN0b3JJZCAoKSB7XG4gICAgaWYgKHRoaXMuX2FjdG9ySWQpIHJldHVybiB0aGlzLl9hY3RvcklkXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCB0b2tlbktleSAoKSB7XG4gICAgaWYgKHRoaXMuYWN0b3IuaXNUb2tlbikgcmV0dXJuIHRoaXMuYWN0b3IudG9rZW5LZXlcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGlzU3VjY2VzcyAoKSB7XG4gICAgaWYgKHRoaXMuY2hlY2spIHJldHVybiB0aGlzLmNoZWNrLmlzU3VjY2Vzc1xuICAgIGVsc2UgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgaXNSb2xsZWQgKCkge1xuICAgIGlmICh0aGlzLmNoZWNrICYmIHRoaXMuY2hlY2suZGljZXMgJiYgdGhpcy5jaGVjay5kaWNlcy50b3RhbCkgcmV0dXJuIHRydWVcbiAgICBlbHNlIHJldHVybiBmYWxzZVxuICB9XG5cbiAgc3RhdGljIGdldEZyb21DYXJkIChjYXJkKSB7XG4gICAgY29uc3QgY29uQ2hlY2sgPSBuZXcgQ29DN0NvbkNoZWNrKClcbiAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KGNvbkNoZWNrLCBjYXJkKVxuICAgIGNvbnN0IGh0bWxDaGVjayA9IGNhcmQucXVlcnlTZWxlY3RvcignLnJvbGwtcmVzdWx0JylcbiAgICBDb0M3Um9sbC5nZXRGcm9tRWxlbWVudChodG1sQ2hlY2ssIGNvbkNoZWNrLmNoZWNrKVxuICAgIGNvbkNoZWNrLm1lc3NhZ2VJZCA9IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKS5kYXRhc2V0Lm1lc3NhZ2VJZFxuICAgIHJldHVybiBjb25DaGVja1xuICB9XG5cbiAgYXN5bmMgZ2V0Q2hlY2tFbGVtZW50ICgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvcm9sbC1yZXN1bHQuaHRtbCdcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMuY2hlY2spXG4gICAgY29uc3QgaHRtbEVsZW1lbnQgPSAkLnBhcnNlSFRNTChodG1sKVswXVxuICAgIGlmIChodG1sRWxlbWVudCkge1xuICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2hhdC1jYXJkJywgJ2l0ZW0tY2FyZCcsICdyb2xsLWNhcmQnKVxuICAgICAgcmV0dXJuIGh0bWxFbGVtZW50XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhc3luYyB0b01lc3NhZ2UgKGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY29uLWNoZWNrLmh0bWwnXG5cbiAgICBpZiAoZmFzdEZvcndhcmQpIHtcbiAgICAgIGF3YWl0IHRoaXMucm9sbENvbigpXG4gICAgfVxuXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0aGlzKVxuICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gJC5wYXJzZUhUTUwoaHRtbClbMF1cblxuICAgIGlmIChmYXN0Rm9yd2FyZCkge1xuICAgICAgY29uc3QgY2hlY2sgPSBodG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucm9sbC1yZXN1bHQnKVxuICAgICAgY2hlY2sucmVwbGFjZVdpdGgoYXdhaXQgdGhpcy5nZXRDaGVja0VsZW1lbnQoKSlcbiAgICB9XG5cbiAgICBjb25zdCBzcGVha2VyRGF0YSA9IHt9XG4gICAgbGV0IHNwZWFrZXJcbiAgICBpZiAodGhpcy5hY3Rvcikge1xuICAgICAgaWYgKHRoaXMudG9rZW4pIHNwZWFrZXJEYXRhLnRva2VuID0gdGhpcy50b2tlblxuICAgICAgZWxzZSBzcGVha2VyRGF0YS5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICAgIHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKHNwZWFrZXJEYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpXG4gICAgfVxuXG4gICAgY29uc3QgdXNlciA9IHRoaXMuYWN0b3IudXNlciA/IHRoaXMuYWN0b3IudXNlciA6IGdhbWUudXNlclxuXG4gICAgY29uc3QgY2hhdERhdGEgPSB7XG4gICAgICB1c2VyOiB1c2VyLmlkLFxuICAgICAgc3BlYWtlcixcbiAgICAgIGZsYXZvcjogdGhpcy5mbGF2b3IsXG4gICAgICBjb250ZW50OiBodG1sRWxlbWVudC5vdXRlckhUTUxcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBbJ2dtcm9sbCcsICdibGluZHJvbGwnXS5pbmNsdWRlcyhnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpKVxuICAgICkge1xuICAgICAgY2hhdERhdGEud2hpc3BlciA9IENoYXRNZXNzYWdlLmdldFdoaXNwZXJSZWNpcGllbnRzKCdHTScpIC8vIENoYW5nZSBmb3IgdXNlclxuICAgIH1cbiAgICBpZiAodGhpcy5yb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCcpIGNoYXREYXRhLmJsaW5kID0gdHJ1ZVxuXG4gICAgQ2hhdE1lc3NhZ2UuY3JlYXRlKGNoYXREYXRhKS50aGVuKG1zZyA9PiB7XG4gICAgICByZXR1cm4gbXNnXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIHJvbGxDb24gKCkge1xuICAgIHRoaXMuY2hlY2suaGlkZURpY2VSZXN1bHQgPSB0cnVlXG4gICAgYXdhaXQgdGhpcy5jaGVjay5fcGVyZm9ybSgpXG4gICAgaWYgKCF0aGlzLmlzQmxpbmQgJiYgIXRoaXMuaXNSb2xsZWQgJiYgIXRoaXMuaXNTdWNjZXNzKSB7XG4gICAgICBpZiAodGhpcy5zdGF5QWxpdmUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMuZGVhZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLnVuY29uc2Npb3VzKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFwcGxpZWQgPSB0cnVlXG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L2Nvbi1jaGVjay5odG1sJ1xuXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0aGlzKVxuICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gJC5wYXJzZUhUTUwoaHRtbClbMF1cblxuICAgIGNvbnN0IGNoZWNrID0gaHRtbEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJvbGwtcmVzdWx0JylcbiAgICBjaGVjay5yZXBsYWNlV2l0aChhd2FpdCB0aGlzLmdldENoZWNrRWxlbWVudCgpKVxuXG4gICAgaWYgKCF0aGlzLmlzQmxpbmQgJiYgdGhpcy5pc1JvbGxlZCAmJiAhdGhpcy5pc1N1Y2Nlc3MpIHtcbiAgICAgIGlmICh0aGlzLnN0YXlBbGl2ZSkge1xuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5kZWFkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudW5jb25zY2lvdXMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2VJZCkgcmV0dXJuXG4gICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcblxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IGNoYXRNZXNzYWdlLnVwZGF0ZSh7IGNvbnRlbnQ6IGh0bWxFbGVtZW50Lm91dGVySFRNTCB9KVxuICAgIGF3YWl0IHVpLmNoYXQudXBkYXRlTWVzc2FnZShtc2csIGZhbHNlKVxuICAgIHJldHVybiBtc2dcbiAgfVxufVxuIiwiLyogZ2xvYmFsIERpYWxvZywgcmVuZGVyVGVtcGxhdGUgKi9cbmV4cG9ydCBjbGFzcyBTa2lsbFNlbGVjdERpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuc2VsZWN0LXNraWxsJylcbiAgICAgIC5jbGljayhhc3luYyBldmVudCA9PiB0aGlzLl9vblNlbGVjdFNraWxsQ2xpY2tlZChldmVudCkpXG4gIH1cblxuICBhc3luYyBfb25TZWxlY3RTa2lsbENsaWNrZWQgKGV2ZW50KSB7XG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICAvLyBjb25zdCBhY3RvciA9IGdhbWUuYWN0b3JzLmdldCggdGhpcy5kYXRhLmRhdGEuYWN0b3JJZCk7XG4gICAgLy8gYXdhaXQgYWN0b3IuYWRkU2tpbGwoIHRoaXMuZGF0YS5kYXRhLnNraWxsc1tOdW1iZXIobGkuZGF0YXNldC5pbmRleCldLCB0aGlzLmRhdGEuZGF0YS50eXBlKTtcbiAgICB0aGlzLmRhdGEuZGF0YS5za2lsbHNbTnVtYmVyKGxpLmRhdGFzZXQuaW5kZXgpXS5zZWxlY3RlZCA9IHRydWVcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICBpZiAoIXRoaXMuZGF0YS5kYXRhLmFkZGVkKSB0aGlzLmRhdGEuZGF0YS5hZGRlZCA9IDBcbiAgICB0aGlzLmRhdGEuZGF0YS5hZGRlZCsrXG4gICAgY29uc3QgZm9ybSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnNraWxsLXNlbGVjdG9yJylcbiAgICBjb25zdCBkaXZDb3VudCA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmNvdW50JylcbiAgICBkaXZDb3VudC5pbm5lclRleHQgPSB0aGlzLmRhdGEuZGF0YS5hZGRlZFxuICAgIGlmICh0aGlzLmRhdGEuZGF0YS5hZGRlZCA+PSB0aGlzLmRhdGEuZGF0YS5vcHRpb25zQ291bnQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKGRhdGEpIHtcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUoXG4gICAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL3NraWxsLXNlbGVjdC5odG1sJyxcbiAgICAgIGRhdGFcbiAgICApIC8vIFJlbmRlciB0ZW1wbGF0ZSBidWcgYXZlYyBjZXJ0YWluZXMgZGF0YVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBTa2lsbFNlbGVjdERpYWxvZyhcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBidXR0b25zOiB7fSxcbiAgICAgICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkYXRhLmFkZGVkID49IGRhdGEub3B0aW9uc0NvdW50KSByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gZGF0YS5za2lsbHMuZmlsdGVyKHNraWxsID0+IHNraWxsLnNlbGVjdGVkKVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoc2VsZWN0ZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7IGNsYXNzZXM6IFsnY29jNycsICdkaWFsb2cnLCAnc2tpbGwtc2VsZWN0J10gfVxuICAgICAgKVxuICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBEaWFsb2csIHJlbmRlclRlbXBsYXRlICovXG5cbmV4cG9ydCBjbGFzcyBQb2ludFNlbGVjdERpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuaXRlbS1uYW1lJylcbiAgICAgIC5jbGljayhhc3luYyBldmVudCA9PiB0aGlzLl9vblNlbGVjdENoYXJhY3RlcmlzdGljKGV2ZW50KSlcbiAgICBodG1sLmZpbmQoJ2J1dHRvbicpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uQnV0dG9uQ2xpY2tlZChldmVudCkpXG4gIH1cblxuICBhc3luYyBfb25TZWxlY3RDaGFyYWN0ZXJpc3RpYyAoZXZlbnQpIHtcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW1MaXN0ID0gbGkuY2xvc2VzdCgnLml0ZW0tbGlzdCcpXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1MaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RhYmxlJykpIHtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKVxuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzW2l0ZW0uZGF0YXNldC5rZXldLnNlbGVjdGVkID0gZmFsc2VcbiAgICAgIHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljc1tpdGVtLmRhdGFzZXQua2V5XS5vcHRpb25hbCA9IGZhbHNlXG4gICAgfVxuICAgICQobGkpLnRvZ2dsZUNsYXNzKCdzZWxlY3RlZCcpXG4gICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzW2xpLmRhdGFzZXQua2V5XS5zZWxlY3RlZCA9IHRydWVcbiAgICBjb25zdCB0b3RhbFBvaW50cyA9IGxpXG4gICAgICAuY2xvc2VzdCgnI3NraWxsLXNlbGVjdGlvbi1mb3JtJylcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcucG9pbnRzJylcbiAgICB0b3RhbFBvaW50cy5pbm5lclRleHQgPVxuICAgICAgdGhpcy5kYXRhLmRhdGEudG90YWwgK1xuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzW2xpLmRhdGFzZXQua2V5XS5tdWx0aXBsaWVyICpcbiAgICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzW2xpLmRhdGFzZXQua2V5XS52YWx1ZVxuICAgIGNvbnN0IGJ1dHRvbiA9IGxpXG4gICAgICAuY2xvc2VzdCgnI3NraWxsLXNlbGVjdGlvbi1mb3JtJylcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCdidXR0b24udmFsaWRhdGUnKVxuICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdpbmFjdGl2ZScpXG4gICAgdGhpcy5kYXRhLmRhdGEucmVzb2x2ZWQgPSB0cnVlXG4gICAgLy8gY29uc3QgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoIHRoaXMuZGF0YS5kYXRhLmFjdG9ySWQpO1xuICAgIC8vIGF3YWl0IGFjdG9yLmFkZFNraWxsKCB0aGlzLmRhdGEuZGF0YS5za2lsbHNbTnVtYmVyKGxpLmRhdGFzZXQuaW5kZXgpXSwgdGhpcy5kYXRhLmRhdGEudHlwZSk7XG4gICAgLy8gZXZlbnQuY3VycmVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIC8vIGlmKCAhdGhpcy5kYXRhLmRhdGEuYWRkZWQpIHRoaXMuZGF0YS5kYXRhLmFkZGVkID0gMDtcbiAgICAvLyB0aGlzLmRhdGEuZGF0YS5hZGRlZCsrO1xuICAgIC8vIGNvbnN0IGZvcm0gPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5wb2ludC1zZWxlY3RvcicpO1xuICAgIC8vIGNvbnN0IGRpdkNvdW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuY291bnQnKTtcbiAgICAvLyBkaXZDb3VudC5pbm5lclRleHQgPSB0aGlzLmRhdGEuZGF0YS5hZGRlZDtcbiAgICAvLyBpZiggdGhpcy5kYXRhLmRhdGEuYWRkZWQgPj0gdGhpcy5kYXRhLmRhdGEub3B0aW9ucykgdGhpcy5jbG9zZSgpO1xuICAgIC8vIHJldHVybiBldmVudDtcbiAgfVxuXG4gIGFzeW5jIF9vbkJ1dHRvbkNsaWNrZWQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaW5hY3RpdmUnKSkgcmV0dXJuXG4gICAgc3VwZXIuY2xvc2UoKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAoZGF0YSkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShcbiAgICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvcG9pbnQtc2VsZWN0Lmh0bWwnLFxuICAgICAgZGF0YVxuICAgIClcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCBkbGcgPSBuZXcgUG9pbnRTZWxlY3REaWFsb2coXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgICAgICBjb250ZW50OiBodG1sLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgYnV0dG9uczoge30sXG4gICAgICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc29sdmVkKSByZXR1cm4gcmVzb2x2ZShkYXRhKVxuICAgICAgICAgICAgZWxzZSByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZycsICdjaGFyLXNlbGVjdCddIH1cbiAgICAgIClcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgRGlhbG9nLCByZW5kZXJUZW1wbGF0ZSAqL1xuZXhwb3J0IGNsYXNzIENoYXJhY1NlbGVjdERpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuaXRlbS1uYW1lJylcbiAgICAgIC5jbGljayhhc3luYyBldmVudCA9PiB0aGlzLl9vblNlbGVjdENoYXJhY3RlcmlzdGljKGV2ZW50KSlcbiAgfVxuXG4gIGFzeW5jIF9vblNlbGVjdENoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGNvbnN0IGxpID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpXG4gICAgdGhpcy5kYXRhLmRhdGEuc2VsZWN0ZWQgPSBsaS5kYXRhc2V0LmtleVxuICAgIHRoaXMuY2xvc2UoKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAoZGF0YSkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShcbiAgICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvY2hhci1zZWxlY3QuaHRtbCcsXG4gICAgICBkYXRhXG4gICAgKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBDaGFyYWNTZWxlY3REaWFsb2coXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgICAgICBjb250ZW50OiBodG1sLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgYnV0dG9uczoge30sXG4gICAgICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkKSByZXR1cm4gcmVzb2x2ZShkYXRhLnNlbGVjdGVkKVxuICAgICAgICAgICAgZWxzZSByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZycsICdjaGFyLXNlbGVjdCddIH1cbiAgICAgIClcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgRGlhbG9nLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSwgUm9sbCAqL1xuZXhwb3J0IGNsYXNzIENoYXJhY1JvbGxEaWFsb2cgZXh0ZW5kcyBEaWFsb2cge1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgb3B0aW9ucykge1xuICAgIHN1cGVyKGRhdGEsIG9wdGlvbnMpXG5cbiAgICB0aGlzLnJvbGxlZCA9IGRhdGEucm9sbGVkIHx8IHt9XG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgaHRtbC5vbignY2hhbmdlJywgJ2lucHV0JywgdGhpcy5fb25DaGFuZ2VJbnB1dC5iaW5kKHRoaXMpKVxuICAgIGh0bWwub24oJ3N1Ym1pdCcsICdmb3JtJywgdGhpcy5fb25TdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucm9sbC1jaGFyYWN0ZXJpc3RpYycsXG4gICAgICB0aGlzLl9vblJvbGxDaGFyYWN0ZXJpc3RpYy5iaW5kKHRoaXMpXG4gICAgKVxuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5pbmNyZWFzZS1jaGFyYWN0ZXJpc3RpYycsXG4gICAgICB0aGlzLl9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMuYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcuZGVjcmVhc2UtY2hhcmFjdGVyaXN0aWMnLFxuICAgICAgdGhpcy5fb25EZWNyZWFzZUNoYXJhY3RlcmlzdGljLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLnJlc2V0LWNoYXJhY3RlcmlzdGljJyxcbiAgICAgIHRoaXMuX29uUmVzZXRDaGFyYWN0ZXJpc3RpYy5iaW5kKHRoaXMpXG4gICAgKVxuICAgIGh0bWwub24oJ2NsaWNrJywgJ2J1dHRvbicsIHRoaXMuX29uQnV0dG9uLmJpbmQodGhpcykpXG4gIH1cblxuICBhc3luYyBfb25Sb2xsQ2hhcmFjdGVyaXN0aWMgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGxpID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgY2hhcmFjS2V5ID0gbGkuZGF0YXNldC5rZXlcbiAgICBhd2FpdCB0aGlzLnJvbGxDaGFyYWN0ZXJpc3RpYyhjaGFyYWNLZXkpXG4gIH1cblxuICBhc3luYyBfb25JbmNyZWFzZUNoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IGNoYXJhY0tleSA9IGxpLmRhdGFzZXQua2V5XG4gICAgdGhpcy5pbmNyZWFzZUNoYXJhY3RlcmlzdGljKGNoYXJhY0tleSlcbiAgfVxuXG4gIGFzeW5jIF9vbkRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGxpID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgY2hhcmFjS2V5ID0gbGkuZGF0YXNldC5rZXlcbiAgICB0aGlzLmRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMoY2hhcmFjS2V5KVxuICB9XG5cbiAgYXN5bmMgX29uUmVzZXRDaGFyYWN0ZXJpc3RpYyAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCBjaGFyYWNLZXkgPSBsaS5kYXRhc2V0LmtleVxuICAgIHRoaXMucmVzZXRDaGFyYWN0ZXJpc3RpYyhjaGFyYWNLZXkpXG4gIH1cblxuICBhc3luYyBfb25CdXR0b24gKGV2ZW50KSB7XG4gICAgY29uc3QgYWN0aW9uID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvblxuICAgIGlmIChhY3Rpb24gPT09ICdyb2xsJykge1xuICAgICAgZm9yIChjb25zdCBjaGFyIG9mIFtcbiAgICAgICAgJ3N0cicsXG4gICAgICAgICdjb24nLFxuICAgICAgICAnc2l6JyxcbiAgICAgICAgJ2RleCcsXG4gICAgICAgICdhcHAnLFxuICAgICAgICAnaW50JyxcbiAgICAgICAgJ3BvdycsXG4gICAgICAgICdlZHUnLFxuICAgICAgICAnbHVjaydcbiAgICAgIF0pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yb2xsQ2hhcmFjdGVyaXN0aWMoY2hhcilcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFxuICAgICAgYWN0aW9uID09PSAndmFsaWRhdGUnICYmXG4gICAgICAhZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2luYWN0aXZlJylcbiAgICApIHtcbiAgICAgIHRoaXMuY2hlY2tUb3RhbCgpXG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBhc3luYyByb2xsQ2hhcmFjdGVyaXN0aWMgKGtleSkge1xuICAgIGNvbnN0IGxpID0gdGhpcy5fZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKGBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGk/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcbiAgICBjb25zdCBmb3JtdWxhID0gdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnJvbGxzW2tleV1cbiAgICBpZiAoaW5wdXQgJiYgZm9ybXVsYSkge1xuICAgICAgaWYgKGlzTmFOKE51bWJlcihmb3JtdWxhKSkpIHtcbiAgICAgICAgY29uc3Qgcm9sbCA9IG5ldyBSb2xsKGZvcm11bGEpXG4gICAgICAgIGF3YWl0IHJvbGwuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICByb2xsLnRvTWVzc2FnZSh7XG4gICAgICAgICAgZmxhdm9yOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1lc3NhZ2VSb2xsaW5nQ2hhcmFjdGVyaXN0aWMnLCB7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLmxpc3Rba2V5XS5sYWJlbCxcbiAgICAgICAgICAgIGZvcm11bGFcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBpbnB1dC52YWx1ZSA9IHJvbGwudG90YWxcbiAgICAgIH0gZWxzZSBpbnB1dC52YWx1ZSA9IE51bWJlcihmb3JtdWxhKVxuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnZhbHVlc1trZXldID0gTnVtYmVyKGlucHV0LnZhbHVlKVxuICAgICAgaWYgKCF0aGlzLnJvbGxlZCkgdGhpcy5yb2xsZWQgPSB7fVxuICAgICAgdGhpcy5yb2xsZWRba2V5XSA9IHRydWVcbiAgICB9XG4gICAgdGhpcy5jaGVja1RvdGFsKClcbiAgfVxuXG4gIGFzeW5jIGluY3JlYXNlQ2hhcmFjdGVyaXN0aWMgKGtleSkge1xuICAgIGNvbnN0IGxpID0gdGhpcy5fZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKGBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGk/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGlucHV0LnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKSArIDFcbiAgICAgIHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy52YWx1ZXNba2V5XSA9IE51bWJlcihpbnB1dC52YWx1ZSlcbiAgICB9XG4gICAgdGhpcy5jaGVja1RvdGFsKClcbiAgfVxuXG4gIGFzeW5jIGRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMgKGtleSkge1xuICAgIGNvbnN0IGxpID0gdGhpcy5fZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKGBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGk/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcbiAgICBpZiAoaW5wdXQgJiYgTnVtYmVyKGlucHV0LnZhbHVlKSA+IDApIHtcbiAgICAgIGlucHV0LnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKSAtIDFcbiAgICAgIHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy52YWx1ZXNba2V5XSA9IE51bWJlcihpbnB1dC52YWx1ZSlcbiAgICB9XG4gICAgdGhpcy5jaGVja1RvdGFsKClcbiAgfVxuXG4gIGFzeW5jIHJlc2V0Q2hhcmFjdGVyaXN0aWMgKGtleSkge1xuICAgIGNvbnN0IGxpID0gdGhpcy5fZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKGBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGk/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGlucHV0LnZhbHVlID0gbnVsbFxuICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnZhbHVlc1trZXldID0gMFxuICAgIH1cbiAgICB0aGlzLmNoZWNrVG90YWwoKVxuICB9XG5cbiAgYXN5bmMgX29uQ2hhbmdlSW5wdXQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGlucHV0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKVxuICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzW2lucHV0Lm5hbWVdID0gdmFsdWVcbiAgICB9XG5cbiAgICB0aGlzLmNoZWNrVG90YWwoKVxuICB9XG5cbiAgY2hlY2tUb3RhbCAoKSB7XG4gICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy50b3RhbCA9IDBcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgIHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy52YWx1ZXNcbiAgICApKSB7XG4gICAgICBpZiAoa2V5ICE9PSAnbHVjaycpIHtcbiAgICAgICAgdGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy50b3RhbCArPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSB0aGlzLl9lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5wb2ludHMnKVxuICAgIGlmICh0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLmVuYWJsZWQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgTnVtYmVyKHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy5wb2ludHMudG90YWwpICE9PVxuICAgICAgICBOdW1iZXIodGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy52YWx1ZSlcbiAgICAgICkge1xuICAgICAgICB2YWxpZGF0aW9uLmNsYXNzTGlzdC5hZGQoJ3dhcm5pbmcnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCd3YXJuaW5nJylcbiAgICAgICAgY29uc3QgdmFsaWRhdGVCdXR0b24gPSB0aGlzLl9lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi52YWxpZGF0ZScpXG4gICAgICAgIHZhbGlkYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2luYWN0aXZlJylcbiAgICAgICAgdGhpcy5kYXRhLmRhdGEudmFsaWRhdGUgPSB0cnVlXG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IHZhbGlkYXRpb24ucXVlcnlTZWxlY3RvcignLnZhbHVlJylcbiAgICAgIHZhbHVlLmlubmVyVGV4dCA9IHRoaXMuZGF0YS5kYXRhLmNoYXJhY3RlcmlzdGljcy5wb2ludHMudmFsdWVcbiAgICB9XG5cbiAgICBjb25zdCB0b3RhbCA9IHZhbGlkYXRpb24ucXVlcnlTZWxlY3RvcignLnRvdGFsJylcbiAgICB0b3RhbC5pbm5lclRleHQgPSB0aGlzLmRhdGEuZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnRvdGFsXG5cbiAgICBpZiAodGhpcy5kYXRhLmRhdGEuY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmVuYWJsZWQpIHtcbiAgICAgIGlmICh0aGlzLnJvbGxlZCkge1xuICAgICAgICB0aGlzLmRhdGEuZGF0YS52YWxpZGF0ZSA9XG4gICAgICAgICAgIU9iamVjdC5lbnRyaWVzKHRoaXMucm9sbGVkKS5maW5kKGVsID0+ICFlbCkgJiZcbiAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLnJvbGxlZCkubGVuZ3RoID09PSA5XG4gICAgICAgIGlmICh0aGlzLmRhdGEuZGF0YS52YWxpZGF0ZSkge1xuICAgICAgICAgIGNvbnN0IHZhbGlkYXRlQnV0dG9uID1cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignYnV0dG9uLnZhbGlkYXRlJylcbiAgICAgICAgICB2YWxpZGF0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdpbmFjdGl2ZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25TdWJtaXQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAoZGF0YSkge1xuICAgIGNvbnN0IHJvbGxlZCA9IHt9XG4gICAgZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnRvdGFsID0gMFxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEuY2hhcmFjdGVyaXN0aWNzLnZhbHVlcykpIHtcbiAgICAgIGlmIChrZXkgIT09ICdsdWNrJykge1xuICAgICAgICBkYXRhLmNoYXJhY3RlcmlzdGljcy5wb2ludHMudG90YWwgKz0gdmFsdWUgfHwgMFxuICAgICAgfVxuICAgICAgaWYgKCFpc05hTih2YWx1ZSkgJiYgdmFsdWUgPiAwKSB7XG4gICAgICAgIHJvbGxlZFtrZXldID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLmNoYXJhY3RlcmlzdGljcy5wb2ludHMuZW5hYmxlZCkge1xuICAgICAgaWYgKFxuICAgICAgICBOdW1iZXIoZGF0YS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLnRvdGFsKSAhPT1cbiAgICAgICAgTnVtYmVyKGRhdGEuY2hhcmFjdGVyaXN0aWNzLnBvaW50cy52YWx1ZSlcbiAgICAgICkge1xuICAgICAgICBkYXRhLnBvaW50c1dhcm5pbmcgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9jaGFyLXJvbGwuaHRtbCcsXG4gICAgICBkYXRhXG4gICAgKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBDaGFyYWNSb2xsRGlhbG9nKFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICAgICAgY29udGVudDogaHRtbCxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIHJvbGxlZCxcbiAgICAgICAgICBidXR0b25zOiB7fSxcbiAgICAgICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEudmFsaWRhdGUpIHJldHVybiByZXNvbHZlKHRydWUpXG4gICAgICAgICAgICBlbHNlIHJldHVybiByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgeyBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJywgJ2NoYXItc2VsZWN0J10gfVxuICAgICAgKVxuICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBEaWFsb2csIEZvcm1EYXRhLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSAqL1xuZXhwb3J0IGNsYXNzIFNraWxsU3BlY1NlbGVjdERpYWxvZyB7XG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKFxuICAgIHNraWxscyxcbiAgICBzcGVjaWFsaXphdGlvbk5hbWUsXG4gICAgYmFzZVZhbHVlID0gbnVsbCxcbiAgICBuYW1lID0gbnVsbFxuICApIHtcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUoXG4gICAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL3NraWxsLXNwZWMtc2VsZWN0Lmh0bWwnLFxuICAgICAge1xuICAgICAgICBoYXNTa2lsbHM6IHNraWxscy5sZW5ndGggPiAwLFxuICAgICAgICBza2lsbHMsXG4gICAgICAgIGJhc2U6IGJhc2VWYWx1ZSxcbiAgICAgICAgbmFtZVxuICAgICAgfVxuICAgIClcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBsZXQgZm9ybURhdGEgPSBudWxsXG4gICAgICBjb25zdCBkbGcgPSBuZXcgRGlhbG9nKHtcbiAgICAgICAgdGl0bGU6IG5hbWVcbiAgICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU2tpbGxTZWxlY3RCYXNlJywgeyBuYW1lIH0pXG4gICAgICAgICAgOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNraWxsU3BlY1NlbGVjdFRpdGxlJywge1xuICAgICAgICAgICAgc3BlY2lhbGl6YXRpb246IHNwZWNpYWxpemF0aW9uTmFtZVxuICAgICAgICAgIH0pLFxuICAgICAgICBjb250ZW50OiBodG1sLFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVmFsaWRhdGUnKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBodG1sID0+IHtcbiAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoXG4gICAgICAgICAgICAgICAgaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcjc2tpbGwtc2VsZWN0LWZvcm0nKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZvcm1EYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdDogJ3ZhbGlkYXRlJyxcbiAgICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgRm9ybUFwcGxpY2F0aW9uLCBnYW1lLCBtZXJnZU9iamVjdCAqL1xuXG5leHBvcnQgY2xhc3MgU2tpbGxTcGVjaWFsaXphdGlvblNlbGVjdERpYWxvZyBleHRlbmRzIEZvcm1BcHBsaWNhdGlvbiB7XG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgY2xhc3NlczogWydjb2M3JywgJ3NraWxsLW5hbWUtZGlhbG9nJ10sXG4gICAgICB0aXRsZTogJycsXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9za2lsbC1zcGVjaWFsaXphdGlvbi1zZWxlY3QuaGJzJyxcbiAgICAgIHdpZHRoOiA0MDAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIGNsb3NlT25TdWJtaXQ6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGdldCB0aXRsZSAoKSB7XG4gICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU2tpbGxTcGVjU2VsZWN0VGl0bGUnLCB7XG4gICAgICBzcGVjaWFsaXphdGlvbjogdGhpcy5vYmplY3Quc3BlY2lhbGl6YXRpb25OYW1lXG4gICAgfSlcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGh0bWwuZmluZCgnLnN1Ym1pdC1idXR0b24nKS5jbGljayh0aGlzLl9vbkNsaWNrU3VibWl0LmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCdbbmFtZT1leGlzdGluZy1za2lsbF0nKS5jaGFuZ2UodGhpcy5fb25TZWxlY3RDaGFuZ2UuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGFzeW5jIF9vblNlbGVjdENoYW5nZSAoZXZlbnQpIHtcbiAgICB0aGlzLm9iamVjdC5zZWxlY3RlZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgYXN5bmMgX29uQ2xpY2tTdWJtaXQgKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMub2JqZWN0LnNlbGVjdGVkID09PSAnJykge1xuICAgICAgY29uc3Qgb2JqID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCdmb3JtJylcbiAgICAgIHRoaXMub2JqZWN0Lm5hbWUgPSAob2JqLmZpbmQoJ2lucHV0W25hbWU9bmV3LXNraWxsLW5hbWVdJykudmFsKCkgPz8gJycpXG4gICAgICB0aGlzLm9iamVjdC5iYXNlVmFsdWUgPSAob2JqLmZpbmQoJ2lucHV0W25hbWU9YmFzZS12YWx1ZV0nKS52YWwoKSA/PyAnJylcbiAgICB9XG4gICAgaWYgKHRoaXMub2JqZWN0LnNlbGVjdGVkID09PSAnJyAmJiB0aGlzLm9iamVjdC5uYW1lID09PSAnJykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHRoaXMub2JqZWN0LnJlc29sdmUoe1xuICAgICAgc2VsZWN0ZWQ6IHRoaXMub2JqZWN0LnNlbGVjdGVkLFxuICAgICAgbmFtZTogdGhpcy5vYmplY3QubmFtZSxcbiAgICAgIGJhc2VWYWx1ZTogdGhpcy5vYmplY3QuYmFzZVZhbHVlXG4gICAgfSlcbiAgICB0aGlzLmNsb3NlKClcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAoeyBza2lsbHMgPSBbXSwgYWxsb3dDdXN0b20gPSBmYWxzZSwgZml4ZWRCYXNlVmFsdWUgPSBmYWxzZSwgc3BlY2lhbGl6YXRpb25OYW1lID0gJycsIGxhYmVsID0gJycsIGJhc2VWYWx1ZSA9IG51bGwgfSA9IHt9KSB7XG4gICAgY29uc3Qgc2VsZWN0ID0gW11cbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHNraWxscykge1xuICAgICAgc2VsZWN0LnB1c2goe1xuICAgICAgICBpZDogc2tpbGwuaWQsXG4gICAgICAgIG5hbWU6IHNraWxsLm5hbWUsXG4gICAgICAgIGJhc2U6IHNraWxsLnN5c3RlbS5iYXNlXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBuZXcgU2tpbGxTcGVjaWFsaXphdGlvblNlbGVjdERpYWxvZyh7XG4gICAgICAgIHNwZWNpYWxpemF0aW9uTmFtZSxcbiAgICAgICAgYWxsb3dDdXN0b20sXG4gICAgICAgIGZpeGVkQmFzZVZhbHVlLFxuICAgICAgICBhbGxvd1NlbGVjdDogc2tpbGxzLmxlbmd0aCA+IDAsXG4gICAgICAgIHNraWxsczogc2VsZWN0LFxuICAgICAgICBzZWxlY3RlZDogJycsXG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgYmFzZVZhbHVlLFxuICAgICAgICByZXNvbHZlXG4gICAgICB9LCB7fSkucmVuZGVyKHRydWUpXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIERpYWxvZywgRm9ybURhdGEsIGdhbWUsIHJlbmRlclRlbXBsYXRlICovXG5leHBvcnQgY2xhc3MgU2tpbGxWYWx1ZURpYWxvZyB7XG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKG5hbWUgPSBudWxsLCBiYXNlVmFsdWUgPSBudWxsKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFxuICAgICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9za2lsbC12YWx1ZS5odG1sJyxcbiAgICAgIHsgYmFzZTogYmFzZVZhbHVlLCBuYW1lIH1cbiAgICApXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgbGV0IGZvcm1EYXRhID0gbnVsbFxuICAgICAgY29uc3QgZGxnID0gbmV3IERpYWxvZyh7XG4gICAgICAgIHRpdGxlOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNraWxsVmFsdWUnLCB7IG5hbWUgfSksXG4gICAgICAgIGNvbnRlbnQ6IGh0bWwsXG4gICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5WYWxpZGF0ZScpLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGh0bWwgPT4ge1xuICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShcbiAgICAgICAgICAgICAgICBodG1sWzBdLnF1ZXJ5U2VsZWN0b3IoJyNza2lsbC1zZWxlY3QtZm9ybScpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZm9ybURhdGEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0OiAndmFsaWRhdGUnLFxuICAgICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBDaGF0TWVzc2FnZSwgZ2FtZSwgcmVuZGVyVGVtcGxhdGUsIHVpICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuLi9oZWxwZXIuanMnXG5pbXBvcnQgeyBDb0M3TWVsZWVJbml0aWF0b3IgfSBmcm9tICcuL21lbGVlLWluaXRpYXRvci5qcydcbmltcG9ydCB7IENvQzdNZWxlZVRhcmdldCB9IGZyb20gJy4vbWVsZWUtdGFyZ2V0LmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN01lbGVlUmVzb2x0aW9uIHtcbiAgY29uc3RydWN0b3IgKFxuICAgIGluaXRpYXRvck1lc3NhZ2UgPSBudWxsLFxuICAgIHRhcmdldE1lc3NhZ2UgPSBudWxsLFxuICAgIG1lc3NhZ2VJZCA9IG51bGxcbiAgKSB7XG4gICAgdGhpcy5pbml0aWF0b3JNZXNzYWdlID0gaW5pdGlhdG9yTWVzc2FnZVxuICAgIHRoaXMudGFyZ2V0TWVzc2FnZSA9IHRhcmdldE1lc3NhZ2VcbiAgICB0aGlzLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZFxuICB9XG5cbiAgYXN5bmMgcHJlQ3JlYXRlTWVzc2FnZSAoKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG5cbiAgICAvLyBjb25zdCBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7YWN0b3I6IHRoaXMuYWN0b3J9KTtcbiAgICAvLyBpZiggdGhpcy5hY3Rvci5pc1Rva2VuKSBzcGVha2VyLmFsaWFzID0gdGhpcy5hY3Rvci50b2tlbi5uYW1lO1xuXG4gICAgLy8gY29uc3QgdXNlciA9IHRoaXMuYWN0b3IudXNlciA/IHRoaXMuYWN0b3IudXNlciA6IGdhbWUudXNlcjtcblxuICAgIGNvbnN0IGNoYXREYXRhID0ge1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgY29udGVudDogaHRtbFxuICAgIH1cblxuICAgIC8vIEFkZCBpbWFnZSB0byBjYXJkLlxuICAgIC8vIGRhdGEuZmxhZ3MgPSB7XG4gICAgLy8gICBpbWc6IHRoaXMuYWN0b3IuaXNUb2tlbiA/IHRoaXMuYWN0b3IudG9rZW4uZGF0YS5pbWc6IHRoaXMuYWN0b3IuaW1nXG4gICAgLy8gfTtcblxuICAgIGNvbnN0IHJvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIGlmIChbJ2dtcm9sbCcsICdibGluZHJvbGwnXS5pbmNsdWRlcyhyb2xsTW9kZSkpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgIH1cbiAgICAvLyBpZiAoIHJvbGxNb2RlID09PSAnYmxpbmRyb2xsJyApIGNoYXREYXRhWydibGluZCddID0gdHJ1ZTtcbiAgICBjaGF0RGF0YS5ibGluZCA9IGZhbHNlXG5cbiAgICBjb25zdCBjaGF0TWVzc2FnZSA9IGF3YWl0IENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSlcbiAgICB0aGlzLm1lc3NhZ2VJZCA9IGNoYXRNZXNzYWdlLmlkXG4gICAgcmV0dXJuIGNoYXRNZXNzYWdlXG4gIH1cblxuICBnZXQgZGlzcGxheUFjdG9yT25DYXJkICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUFjdG9yT25DYXJkJylcbiAgfVxuXG4gIGdldCB0YXJnZXQgKCkge1xuICAgIGlmICh0aGlzLnRhcmdldE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBDb0M3TWVsZWVUYXJnZXQuZ2V0RnJvbU1lc3NhZ2VJZCh0aGlzLnRhcmdldE1lc3NhZ2UpXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgdGFyZ2V0VG9rZW4gKCkge1xuICAgIGlmICh0aGlzLnRhcmdldCkgcmV0dXJuIGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KHRoaXMudGFyZ2V0LmFjdG9yS2V5KVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgaW5pdGlhdG9yICgpIHtcbiAgICBpZiAodGhpcy5pbml0aWF0b3JNZXNzYWdlKSB7XG4gICAgICByZXR1cm4gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21NZXNzYWdlSWQodGhpcy5pbml0aWF0b3JNZXNzYWdlKVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IGluaXRpYXRvclRva2VuICgpIHtcbiAgICBpZiAodGhpcy5pbml0aWF0b3IpIHtcbiAgICAgIHJldHVybiBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleSh0aGlzLmluaXRpYXRvci5hY3RvcktleSlcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFzeW5jIHJlc29sdmUgKCkge1xuICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgc3dpdGNoICh0aGlzLnRhcmdldC5hY3Rpb24pIHtcbiAgICAgICAgY2FzZSAnbm9SZXNwb25zZSc6XG4gICAgICAgICAgaWYgKHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lldpbm5lclJvbGxEYW1hZ2UnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMuaW5pdGlhdG9yLm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9ICdyb2xsLW1lbGVlLWRhbWFnZSdcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkluaXRpYXRvck1pc3NlZCcsIHtcbiAgICAgICAgICAgICAgbmFtZTogdGhpcy5pbml0aWF0b3IubmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMud2lubmVyID0gdGhpcy5pbml0aWF0b3JcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMud2lubmVyID0gdGhpcy5pbml0aWF0b3JcbiAgICAgICAgICB0aGlzLndpbm5lckltZyA9IHRoaXMuaW5pdGlhdG9yLndlYXBvbi5pbWdcbiAgICAgICAgICB0aGlzLndpbm5lclRpdGxlID0gdGhpcy5pbml0aWF0b3Iud2VhcG9uLm5hbWVcbiAgICAgICAgICB0aGlzLmxvb3NlciA9IHRoaXMudGFyZ2V0XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdkb2RnZSc6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPD0gMCAmJlxuICAgICAgICAgICAgdGhpcy50YXJnZXQucm9sbC5zdWNjZXNzTGV2ZWwgPD0gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm9XaW5uZXInKVxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSBudWxsXG4gICAgICAgICAgICB0aGlzLnJvbGxEYW1hZ2UgPSBmYWxzZVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB0aGlzLmluaXRpYXRvci5yb2xsLnN1Y2Nlc3NMZXZlbCA+IHRoaXMudGFyZ2V0LnJvbGwuc3VjY2Vzc0xldmVsXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFN0cmluZyA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuV2lubmVyUm9sbERhbWFnZScsIHtcbiAgICAgICAgICAgICAgbmFtZTogdGhpcy5pbml0aWF0b3IubmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMud2lubmVyID0gdGhpcy5pbml0aWF0b3JcbiAgICAgICAgICAgIHRoaXMud2lubmVySW1nID0gdGhpcy5pbml0aWF0b3Iud2VhcG9uLmltZ1xuICAgICAgICAgICAgdGhpcy53aW5uZXJUaXRsZSA9IHRoaXMuaW5pdGlhdG9yLndlYXBvbi5uYW1lXG4gICAgICAgICAgICB0aGlzLmxvb3NlciA9IHRoaXMudGFyZ2V0XG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9ICdyb2xsLW1lbGVlLWRhbWFnZSdcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPD0gdGhpcy50YXJnZXQucm9sbC5zdWNjZXNzTGV2ZWxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Eb2RnZVN1Y2Nlc3MnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMudGFyZ2V0Lm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMudGFyZ2V0XG4gICAgICAgICAgICB0aGlzLmxvb3NlciA9IHRoaXMuaW5pdGlhdG9yXG4gICAgICAgICAgICB0aGlzLndpbm5lckltZyA9IHRoaXMudGFyZ2V0LnNraWxsLmltZ1xuICAgICAgICAgICAgdGhpcy53aW5uZXJUaXRsZSA9IHRoaXMudGFyZ2V0LnNraWxsLm5hbWVcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gJ2RvZGdlJ1xuICAgICAgICAgICAgdGhpcy5yb2xsRGFtYWdlID0gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgJ2ZpZ2h0QmFjayc6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPD0gMCAmJlxuICAgICAgICAgICAgdGhpcy50YXJnZXQucm9sbC5zdWNjZXNzTGV2ZWwgPD0gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm9XaW5uZXInKVxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSBudWxsXG4gICAgICAgICAgICB0aGlzLnJvbGxEYW1hZ2UgPSBmYWxzZVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB0aGlzLmluaXRpYXRvci5yb2xsLnN1Y2Nlc3NMZXZlbCA+PSB0aGlzLnRhcmdldC5yb2xsLnN1Y2Nlc3NMZXZlbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lldpbm5lclJvbGxEYW1hZ2UnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMuaW5pdGlhdG9yLm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMuaW5pdGlhdG9yXG4gICAgICAgICAgICB0aGlzLndpbm5lckltZyA9IHRoaXMuaW5pdGlhdG9yLndlYXBvbi5pbWdcbiAgICAgICAgICAgIHRoaXMud2lubmVyVGl0bGUgPSB0aGlzLmluaXRpYXRvci53ZWFwb24ubmFtZVxuICAgICAgICAgICAgdGhpcy5sb29zZXIgPSB0aGlzLnRhcmdldFxuICAgICAgICAgICAgdGhpcy5yb2xsRGFtYWdlID0gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB0aGlzLmluaXRpYXRvci5yb2xsLnN1Y2Nlc3NMZXZlbCA8PSB0aGlzLnRhcmdldC5yb2xsLnN1Y2Nlc3NMZXZlbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gVE9ETyB2ZXJpZmllciBsYSBjb25kaXRpb24gPD0gdnMgPFxuICAgICAgICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lldpbm5lclJvbGxEYW1hZ2UnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMudGFyZ2V0Lm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMudGFyZ2V0XG4gICAgICAgICAgICB0aGlzLndpbm5lckltZyA9IHRoaXMudGFyZ2V0LndlYXBvbi5pbWdcbiAgICAgICAgICAgIHRoaXMud2lubmVyVGl0bGUgPSB0aGlzLnRhcmdldC53ZWFwb24ubmFtZVxuICAgICAgICAgICAgdGhpcy5sb29zZXIgPSB0aGlzLmluaXRpYXRvclxuICAgICAgICAgICAgdGhpcy5yb2xsRGFtYWdlID0gdHJ1ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnbWFuZXV2ZXInOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsIDw9IDAgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnJvbGwuc3VjY2Vzc0xldmVsIDw9IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vV2lubmVyJylcbiAgICAgICAgICAgIHRoaXMud2lubmVyID0gbnVsbFxuICAgICAgICAgICAgdGhpcy5yb2xsRGFtYWdlID0gZmFsc2VcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPj0gdGhpcy50YXJnZXQucm9sbC5zdWNjZXNzTGV2ZWxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5XaW5uZXJSb2xsRGFtYWdlJywge1xuICAgICAgICAgICAgICBuYW1lOiB0aGlzLmluaXRpYXRvci5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLmluaXRpYXRvclxuICAgICAgICAgICAgdGhpcy53aW5uZXJJbWcgPSB0aGlzLmluaXRpYXRvci53ZWFwb24uaW1nXG4gICAgICAgICAgICB0aGlzLndpbm5lclRpdGxlID0gdGhpcy5pbml0aWF0b3Iud2VhcG9uLm5hbWVcbiAgICAgICAgICAgIHRoaXMubG9vc2VyID0gdGhpcy50YXJnZXRcbiAgICAgICAgICAgIHRoaXMucm9sbERhbWFnZSA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5pbml0aWF0b3Iucm9sbC5zdWNjZXNzTGV2ZWwgPD0gdGhpcy50YXJnZXQucm9sbC5zdWNjZXNzTGV2ZWxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NYW5ldXZlclN1Y2Nlc3MnLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMudGFyZ2V0Lm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMudGFyZ2V0XG4gICAgICAgICAgICB0aGlzLndpbm5lckltZyA9IHRoaXMudGFyZ2V0LnNraWxsLmRhdGEuaW1nXG4gICAgICAgICAgICB0aGlzLndpbm5lclRpdGxlID0gdGhpcy50YXJnZXQuc2tpbGwubmFtZVxuICAgICAgICAgICAgdGhpcy5sb29zZXIgPSB0aGlzLmluaXRpYXRvclxuICAgICAgICAgICAgdGhpcy5yb2xsRGFtYWdlID0gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuaW5pdGlhdG9yLnJvbGwuc3VjY2Vzc0xldmVsID4gMCkge1xuICAgICAgdGhpcy5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lldpbm5lclJvbGxEYW1hZ2UnLCB7XG4gICAgICAgIG5hbWU6IHRoaXMuaW5pdGlhdG9yLm5hbWVcbiAgICAgIH0pXG4gICAgICB0aGlzLndpbm5lciA9IHRoaXMuaW5pdGlhdG9yXG4gICAgICB0aGlzLnJvbGxEYW1hZ2UgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzdWx0U3RyaW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Jbml0aWF0b3JNaXNzZWQnLCB7XG4gICAgICAgIG5hbWU6IHRoaXMuaW5pdGlhdG9yLm5hbWVcbiAgICAgIH0pXG4gICAgICB0aGlzLndpbm5lciA9IHRoaXMuaW5pdGlhdG9yXG4gICAgICB0aGlzLnJvbGxEYW1hZ2UgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICh0aGlzLndpbm5lcikge1xuICAgICAgaWYgKHRoaXMud2lubmVyLnJvbGwuc3VjY2Vzc0xldmVsID49IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSkge1xuICAgICAgICB0aGlzLndpbm5lci5yb2xsLmNyaXRpY2FsRGFtYWdlID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aW5uZXIucm9sbC5jcml0aWNhbERhbWFnZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcbiAgICBpZiAodGhpcy5tZXNzYWdlSWQpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcbiAgICAgIGNvbnN0IHNwZWFrZXJEYXRhID0ge31cbiAgICAgIGlmICh0aGlzLndpbm5lcikge1xuICAgICAgICBpZiAodGhpcy53aW5uZXIudG9rZW4pIHNwZWFrZXJEYXRhLnRva2VuID0gdGhpcy53aW5uZXIudG9rZW4uZG9jdW1tZW50XG4gICAgICAgIGlmICh0aGlzLndpbm5lci5hY3Rvcikgc3BlYWtlckRhdGEuYWN0b3IgPSB0aGlzLndpbm5lci5hY3RvclxuICAgICAgfVxuICAgICAgY29uc3Qgc3BlYWtlciA9IHRoaXMud2lubmVyID8gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcihzcGVha2VyRGF0YSkgOiBudWxsXG4gICAgICBjb25zdCB1c2VyID1cbiAgICAgICAgdGhpcy53aW5uZXIgJiYgdGhpcy53aW5uZXIuYWN0b3IudXNlclxuICAgICAgICAgID8gdGhpcy53aW5uZXIuYWN0b3IudXNlclxuICAgICAgICAgIDogZ2FtZS51c2VyXG5cbiAgICAgIGxldCBtc2dcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAvLyBUT0RPOiBJZiBjYXJkIGlzbid0IGZvdW5kIChjYXJkIHdhcyBkZWxldGVkIGJlZm9yZSBjb21wbGV0aW9uKSA/XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybignUmVzb2xpdGlvbiBjYXJkIG1pc3NpbmcsIHdhcyBkZWxldGVkID8nKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChzcGVha2VyKSB7XG4gICAgICAgIG1zZyA9IGF3YWl0IG1lc3NhZ2UudXBkYXRlKHtcbiAgICAgICAgICAvLyBUT0RPOiBJZiBjYXJkIGlzbid0IGZvdW5kIChjYXJkIHdhcyBkZWxldGVkIGJlZm9yZSBjb21wbGV0aW9uKSA/XG4gICAgICAgICAgdXNlcjogdXNlci5pZCxcbiAgICAgICAgICBzcGVha2VyLFxuICAgICAgICAgIGNvbnRlbnQ6IGh0bWxcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1zZyA9IGF3YWl0IG1lc3NhZ2UudXBkYXRlKHtcbiAgICAgICAgICB1c2VyOiB1c2VyLmlkLFxuICAgICAgICAgIGNvbnRlbnQ6IGh0bWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGF3YWl0IHVpLmNoYXQudXBkYXRlTWVzc2FnZShtc2csIGZhbHNlKVxuICAgICAgcmV0dXJuIG1zZ1xuICAgIH1cbiAgfVxuXG4gIGdldCB0ZW1wbGF0ZSAoKSB7XG4gICAgcmV0dXJuICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY29tYmF0L21lbGVlLXJlc29sdXRpb24uaHRtbCdcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENoYXRNZXNzYWdlLCBDT05TVCwgRGlhbG9nLCBGb3JtRGF0YSwgZ2FtZSwgcmVuZGVyVGVtcGxhdGUsIHVpICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIENvQzdSb2xsIH0gZnJvbSAnLi4vaGVscGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXQgfSBmcm9tICcuLi8uLi9jaGF0LmpzJ1xuaW1wb3J0IHsgQ2hhdENhcmRBY3RvciB9IGZyb20gJy4uL2NhcmQtYWN0b3IuanMnXG5pbXBvcnQgeyBDb0M3TWVsZWVSZXNvbHRpb24gfSBmcm9tICcuL21lbGVlLXJlc29sdXRpb24uanMnXG5pbXBvcnQgeyBDb0M3TWVsZWVJbml0aWF0b3IgfSBmcm9tICcuL21lbGVlLWluaXRpYXRvci5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdNZWxlZVRhcmdldCBleHRlbmRzIENoYXRDYXJkQWN0b3Ige1xuICBjb25zdHJ1Y3RvciAoYWN0b3JLZXksIHBhcmVudE1lc3NhZ2VJZCA9IG51bGwsIGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBzdXBlcihhY3RvcktleSwgZmFzdEZvcndhcmQpXG4gICAgdGhpcy5hY3RvcktleSA9IGFjdG9yS2V5XG4gICAgdGhpcy5pbml0aWF0b3JLZXkgPSBudWxsXG4gICAgdGhpcy5wYXJlbnRNZXNzYWdlSWQgPSBwYXJlbnRNZXNzYWdlSWRcbiAgICB0aGlzLmZhc3RGb3J3YXJkID0gZmFzdEZvcndhcmRcbiAgICB0aGlzLnJlc29sdmVkID0gZmFsc2VcblxuICAgIHRoaXMub3V0bnVtYmVyZWQgPSBmYWxzZVxuICAgIHRoaXMuc3VycHJpc2VkID0gZmFsc2VcbiAgICB0aGlzLmF1dG9TdWNjZXNzID0gZmFsc2VcbiAgICB0aGlzLmFkdmFudGFnZSA9IGZhbHNlXG4gICAgdGhpcy5kaXNhZHZhbnRhZ2UgPSBmYWxzZVxuXG4gICAgdGhpcy5tZXNzYWdlSWQgPSBudWxsXG4gICAgdGhpcy5za2lsbElkID0gbnVsbFxuICAgIHRoaXMuaXRlbUlkID0gbnVsbFxuICAgIHRoaXMuZG9kZ2luZyA9IGZhbHNlXG4gICAgdGhpcy5ub3RSZXNwb25kaW5nID0gZmFsc2VcbiAgICB0aGlzLmZpZ2h0aW5nQmFjayA9IGZhbHNlXG4gICAgdGhpcy5tYW5ldXZlcmluZyA9IGZhbHNlXG4gIH1cblxuICBnZXQgYWN0aW9uU2VsZWN0ZWQgKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmRvZGdpbmcgfHxcbiAgICAgIHRoaXMubm90UmVzcG9uZGluZyB8fFxuICAgICAgdGhpcy5maWdodGluZ0JhY2sgfHxcbiAgICAgIHRoaXMubWFuZXV2ZXJpbmdcbiAgICApXG4gIH1cblxuICBnZXQgYWN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5kb2RnaW5nKSByZXR1cm4gJ2RvZGdlJ1xuICAgIGlmICh0aGlzLm5vdFJlc3BvbmRpbmcpIHJldHVybiAnbm9SZXNwb25zZSdcbiAgICBpZiAodGhpcy5maWdodGluZ0JhY2spIHJldHVybiAnZmlnaHRCYWNrJ1xuICAgIGlmICh0aGlzLm1hbmV1dmVyaW5nKSByZXR1cm4gJ21hbmV1dmVyJ1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgd2VhcG9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5pdGVtSWQpXG4gIH1cblxuICBnZXQgc2tpbGwgKCkge1xuICAgIHJldHVybiB0aGlzLmFjdG9yLml0ZW1zLmdldCh0aGlzLnNraWxsSWQpXG4gIH1cblxuICBzZXQgaW5pdGlhdG9yS2V5ICh4KSB7XG4gICAgdGhpcy5faW5pdGlhdG9yS2V5ID0geFxuICAgIHRoaXMudGFyZ2V0S2V5ID0geFxuICB9XG5cbiAgZ2V0IGluaXRpYXRvcktleSAoKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0aWF0b3JLZXkpIHtcbiAgICAgIGlmICghdGhpcy5faW5pdGlhdG9yICYmIHRoaXMucGFyZW50TWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMuX2luaXRpYXRvciA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tTWVzc2FnZUlkKFxuICAgICAgICAgIHRoaXMucGFyZW50TWVzc2FnZUlkXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9pbml0aWF0b3IpIHRoaXMuX2luaXRpYXRvcktleSA9IHRoaXMuX2luaXRpYXRvci5hY3RvcktleVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX2luaXRpYXRvcktleSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgYE5vIGluaXRpYXRvciBmb3VuZCBmb3IgdGFyZ2V0IDogJHt0aGlzLmFjdG9yLm5hbWV9YFxuICAgICAgKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2luaXRpYXRvcktleVxuICB9XG5cbiAgZ2V0IGluaXRpYXRvciAoKSB7XG4gICAgaWYgKCF0aGlzLmluaXRpYXRvcktleSkge1xuICAgICAgaWYgKHRoaXMucGFyZW50TWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMuX2luaXRpYXRvciA9IENvQzdNZWxlZUluaXRpYXRvci5nZXRGcm9tTWVzc2FnZUlkKFxuICAgICAgICAgIHRoaXMucGFyZW50TWVzc2FnZUlkXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5pbml0aWF0b3JLZXkgPSB0aGlzLl9pbml0aWF0b3IuYWN0b3JLZXlcbiAgICAgIH0gZWxzZSByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5pbml0aWF0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICB9XG5cbiAgZ2V0IG1lbGVlSW5pdGlhdG9yICgpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYXRvcikge1xuICAgICAgdGhpcy5faW5pdGlhdG9yID0gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21NZXNzYWdlSWQoXG4gICAgICAgIHRoaXMucGFyZW50TWVzc2FnZUlkXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pbml0aWF0b3JcbiAgfVxuXG4gIGdldCB0ZW1wbGF0ZSAoKSB7XG4gICAgcmV0dXJuICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvY29tYmF0L21lbGVlLXRhcmdldC5odG1sJ1xuICB9XG5cbiAgc3RhdGljIGdldEZyb21NZXNzYWdlSWQgKG1lc3NhZ2VJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgaWYgKCFtZXNzYWdlKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGNhcmQgPSAkKG1lc3NhZ2UuY29udGVudClbMF1cblxuICAgIGNvbnN0IHRhcmdldCA9IENvQzdNZWxlZVRhcmdldC5nZXRGcm9tQ2FyZChjYXJkLCBtZXNzYWdlSWQpXG4gICAgdGFyZ2V0Lm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZFxuXG4gICAgcmV0dXJuIHRhcmdldFxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZUNhcmRTd2l0Y2ggKGV2ZW50LCBwdWJsaXNoVXBkYXRlID0gdHJ1ZSkge1xuICAgIGNvbnN0IGNhcmQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5tZWxlZS50YXJnZXQnKVxuICAgIGNvbnN0IGZsYWcgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZmxhZ1xuICAgIGNvbnN0IGNhbWVsRmxhZyA9IGNoYXRIZWxwZXIuaHlwaGVuVG9DYW1lbENhc2UoZmxhZylcblxuICAgIC8vIHVwZGF0ZSBvbmx5IGZvciBsb2NhbCBwbGF5ZXJcbiAgICBpZiAoIXB1Ymxpc2hVcGRhdGUpIHtcbiAgICAgIGNhcmQuZGF0YXNldFtjYW1lbEZsYWddID0gY2FyZC5kYXRhc2V0W2NhbWVsRmxhZ10gIT09ICd0cnVlJ1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdzd2l0Y2hlZC1vbicpXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2VsZWN0ZWQgPSBjYXJkLmRhdGFzZXRbY2FtZWxGbGFnXVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGUgY2FyZCBmb3IgYWxsIHBsYXllclxuICAgICAgY29uc3QgdGFyZ2V0ID0gQ29DN01lbGVlVGFyZ2V0LmdldEZyb21DYXJkKGNhcmQpXG4gICAgICB0YXJnZXQudG9nZ2xlRmxhZyhmbGFnKVxuICAgICAgdGFyZ2V0LnVwZGF0ZUNoYXRDYXJkKClcbiAgICB9XG4gIH1cblxuICB0b2dnbGVGbGFnIChmbGFnTmFtZSkge1xuICAgIGNvbnN0IGZsYWcgPSBmbGFnTmFtZS5pbmNsdWRlcygnLScpXG4gICAgICA/IGNoYXRIZWxwZXIuaHlwaGVuVG9DYW1lbENhc2UoZmxhZ05hbWUpXG4gICAgICA6IGZsYWdOYW1lXG4gICAgdGhpc1tmbGFnXSA9ICF0aGlzW2ZsYWddXG4gIH1cblxuICBhc3luYyBjcmVhdGVDaGF0Q2FyZCAoKSB7XG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMpXG5cbiAgICBjb25zdCBzcGVha2VyRGF0YSA9IHt9XG4gICAgY29uc3QgdG9rZW4gPSBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleSh0aGlzLmFjdG9yS2V5KVxuICAgIGlmICh0b2tlbikgc3BlYWtlckRhdGEudG9rZW4gPSB0b2tlbi5kb2N1bWVudFxuICAgIGVsc2Ugc3BlYWtlckRhdGEuYWN0b3IgPSB0aGlzLmFjdG9yXG5cbiAgICBjb25zdCBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcihzcGVha2VyRGF0YSlcbiAgICBpZiAodGhpcy5hY3Rvci5pc1Rva2VuKSBzcGVha2VyLmFsaWFzID0gdGhpcy5hY3Rvci50b2tlbi5uYW1lXG5cbiAgICBsZXQgdXNlciA9IGdhbWUudXNlclxuICAgIGlmICh0eXBlb2YgdGhpcy5hY3Rvci51c2VyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbGV0IG93bmVycyA9IFtdXG4gICAgICBjb25zdCBnbXMgPSBnYW1lLnVzZXJzLmZpbHRlcihhID0+IGEuaXNHTSkubWFwKGEgPT4gYS5pZClcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuYWN0b3Iub3duZXJzaGlwKSkge1xuICAgICAgICBpZiAodiA9PT0gQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5PV05FUikge1xuICAgICAgICAgIGlmIChrID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgIG93bmVycyA9IGdhbWUudXNlcnMubWFwKGEgPT4gYS5pZClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfSBlbHNlIGlmICghZ21zLmluY2x1ZGVzKGspKSB7XG4gICAgICAgICAgICBvd25lcnMucHVzaChrKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGNvbnRlbnQgPSAnJ1xuICAgICAgc3dpdGNoIChvd25lcnMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAvLyBHTVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodHlwZW9mIGdhbWUudXNlcnMuZ2V0KG93bmVyc1swXSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1c2VyID0gZ2FtZS51c2Vycy5nZXQob3duZXJzWzBdKVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgICAgJzxwPicgKyBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWVzc2FnZVNlbGVjdFNpbmdsZVVzZXJGb3JUYXJnZXQnKVxuICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgJzxmb3JtIGlkPVwic2VsZWN0Zm9ybVwiPjxzZWxlY3QgbmFtZT1cInVzZXJcIj4nXG4gICAgICAgICAgZm9yIChjb25zdCBrIG9mIG93bmVycykge1xuICAgICAgICAgICAgY29udGVudCA9XG4gICAgICAgICAgICAgIGNvbnRlbnQgK1xuICAgICAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIicgK1xuICAgICAgICAgICAgICBrICtcbiAgICAgICAgICAgICAgJ1wiPicgK1xuICAgICAgICAgICAgICBnYW1lLnVzZXJzLmdldChrKS5uYW1lICtcbiAgICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyAnPC9zZWxlY3Q+PC9mb3JtPjwvcD4nXG4gICAgICAgICAgYXdhaXQgRGlhbG9nLnByb21wdCh7XG4gICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5NZXNzYWdlVGl0bGVTZWxlY3RTaW5nbGVVc2VyRm9yVGFyZ2V0J1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICBjYWxsYmFjazogaHRtbCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKFxuICAgICAgICAgICAgICAgIGh0bWxbMF0ucXVlcnlTZWxlY3RvcignI3NlbGVjdGZvcm0nKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBmb3JtRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAndXNlcicpIHtcbiAgICAgICAgICAgICAgICAgIHVzZXIgPSBnYW1lLnVzZXJzLmdldCh2YWx1ZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuYWN0b3IudXNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHVzZXIgPSB0aGlzLmFjdG9yLnVzZXJcbiAgICB9XG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IHVzZXIuaWQsXG4gICAgICBzcGVha2VyLFxuICAgICAgY29udGVudDogaHRtbFxuICAgIH1cblxuICAgIGlmIChbJ2dtcm9sbCcsICdibGluZHJvbGwnXS5pbmNsdWRlcyh0aGlzLnJvbGxNb2RlKSkge1xuICAgICAgY2hhdERhdGEud2hpc3BlciA9IENoYXRNZXNzYWdlLmdldFdoaXNwZXJSZWNpcGllbnRzKCdHTScpXG4gICAgfVxuICAgIC8vIGlmICggdGhpcy5pc0JsaW5kICkgY2hhdERhdGFbJ2JsaW5kJ10gPSB0cnVlO1xuICAgIGNoYXREYXRhLmJsaW5kID0gZmFsc2VcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpXG5cbiAgICB0aGlzLm1lc3NhZ2VJZCA9IG1lc3NhZ2UuaWRcbiAgICByZXR1cm4gbWVzc2FnZVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ2hhdENhcmQgKCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcbiAgICBpZiAoIWdhbWUudXNlci5pc0dNICYmIG1lc3NhZ2UudXNlci5pZCAhPT0gZ2FtZS51c2VyLmlkKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5VbmFibGVUb0ludGVyYWN0V2l0aENoYXRDYXJkJylcbiAgICAgIClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcblxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IG1lc3NhZ2UudXBkYXRlKHsgY29udGVudDogaHRtbCB9KVxuICAgIGF3YWl0IHVpLmNoYXQudXBkYXRlTWVzc2FnZShtc2csIGZhbHNlKVxuICAgIHJldHVybiBtc2dcbiAgfVxuXG4gIGFzeW5jIGdldFVwZGF0ZWRDaGF0Q2FyZCAoKSB7XG4gICAgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcykudGhlbihodG1sID0+IHtcbiAgICAgIHJldHVybiBodG1sXG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVTZWxlY3RlZCAoY2FyZCwgZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBDb0M3TWVsZWVUYXJnZXQuZ2V0RnJvbUNhcmQoY2FyZClcblxuICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAnZG9kZ2UnOlxuICAgICAgICB0YXJnZXQuZG9kZ2luZyA9IHRydWVcbiAgICAgICAgdGFyZ2V0Lm5vdFJlc3BvbmRpbmcgPSBmYWxzZVxuICAgICAgICB0YXJnZXQuZmlnaHRpbmdCYWNrID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0Lm1hbmV1dmVyaW5nID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0LnNraWxsSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZFxuICAgICAgICB0YXJnZXQuaXRlbUlkID0gbnVsbFxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdub1Jlc3BvbnNlJzpcbiAgICAgICAgdGFyZ2V0LmRvZGdpbmcgPSBmYWxzZVxuICAgICAgICB0YXJnZXQubm90UmVzcG9uZGluZyA9IHRydWVcbiAgICAgICAgdGFyZ2V0LmZpZ2h0aW5nQmFjayA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5tYW5ldXZlcmluZyA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5za2lsbElkID0gbnVsbFxuICAgICAgICB0YXJnZXQuaXRlbUlkID0gbnVsbFxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdmaWdodEJhY2snOlxuICAgICAgICB0YXJnZXQuZG9kZ2luZyA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5ub3RSZXNwb25kaW5nID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0LmZpZ2h0aW5nQmFjayA9IHRydWVcbiAgICAgICAgdGFyZ2V0Lm1hbmV1dmVyaW5nID0gZmFsc2VcbiAgICAgICAgdGFyZ2V0LnNraWxsSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZFxuICAgICAgICB0YXJnZXQuaXRlbUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LndlYXBvbklkXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ21hbmV1dmVyJzpcbiAgICAgICAgdGFyZ2V0LmRvZGdpbmcgPSBmYWxzZVxuICAgICAgICB0YXJnZXQubm90UmVzcG9uZGluZyA9IGZhbHNlXG4gICAgICAgIHRhcmdldC5maWdodGluZ0JhY2sgPSBmYWxzZVxuICAgICAgICB0YXJnZXQubWFuZXV2ZXJpbmcgPSB0cnVlXG4gICAgICAgIHRhcmdldC5za2lsbElkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgdGFyZ2V0Lml0ZW1JZCA9IG51bGxcbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICB0YXJnZXQudXBkYXRlQ2hhdENhcmQoKVxuXG4gICAgcmV0dXJuIHRhcmdldFxuICB9XG5cbiAgYXN5bmMgcGVyZm9ybVNraWxsQ2hlY2sgKHNraWxsSWQgPSBudWxsLCBwdWJsaXNoID0gZmFsc2UpIHtcbiAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuICAgIC8vIENvbWJhdCByb2xsIGNhbm5vdCBiZSBibGluZCBvciB1bmtub3duXG4gICAgY2hlY2suaXNCbGluZCA9IGZhbHNlXG4gICAgY2hlY2suaXNVbmtvbnduID0gZmFsc2VcbiAgICBjaGVjay5yZWZlcmVuY2VNZXNzYWdlSWQgPSB0aGlzLm1lc3NhZ2VJZFxuICAgIGNoZWNrLnJvbGxUeXBlID0gJ29wcG9zZWQnXG4gICAgY2hlY2suc2lkZSA9ICd0YXJnZXQnXG4gICAgY2hlY2suYWN0aW9uID0gdGhpcy5hY3Rpb25cbiAgICBjaGVjay5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICBjaGVjay5pdGVtID0gdGhpcy5pdGVtSWRcbiAgICBjaGVjay5za2lsbCA9IHNraWxsSWRcbiAgICBjaGVjay5kaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgY2hlY2suZGljZU1vZGlmaWVyID0gMFxuXG4gICAgaWYgKHRoaXMuZGlzYWR2YW50YWdlKSBjaGVjay5kaWNlTW9kaWZpZXIgLT0gMVxuICAgIGlmICh0aGlzLmFkdmFudGFnZSkgY2hlY2suZGljZU1vZGlmaWVyICs9IDFcblxuICAgIGF3YWl0IGNoZWNrLnJvbGwoKVxuICAgIHRoaXMuY2hlY2sgPSBjaGVja1xuICAgIHRoaXMucm9sbGVkID0gdHJ1ZVxuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgaWYgKHB1Ymxpc2gpIGNoZWNrLnRvTWVzc2FnZSgpXG5cbiAgICByZXR1cm4gY2hlY2tcbiAgfVxuXG4gIGFzeW5jIHB1Ymxpc2hOb1JlcG9uc2VSZXN1bHQgKCkge1xuICAgIHRoaXMucm9sbGVkID0gdHJ1ZVxuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlXG4gICAgdGhpcy5ub3RSZXNwb25kaW5nID0gdHJ1ZVxuICAgIGNvbnN0IHJlc29sdXRpb25DYXJkID0gbmV3IENvQzdNZWxlZVJlc29sdGlvbihcbiAgICAgIHRoaXMucGFyZW50TWVzc2FnZUlkLFxuICAgICAgdGhpcy5tZXNzYWdlSWRcbiAgICApXG5cbiAgICBjb25zdCByZXNvbHV0aW9uTWVzc2FnZSA9IGF3YWl0IHJlc29sdXRpb25DYXJkLnByZUNyZWF0ZU1lc3NhZ2UoKVxuXG4gICAgdGhpcy5yZXNvbHV0aW9uQ2FyZCA9IHJlc29sdXRpb25NZXNzYWdlLmlkXG4gICAgYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBhc3luYyBwdWJsaXNoQ2hlY2tSZXN1bHQgKGNoZWNrID0gbnVsbCkge1xuICAgIGlmICghY2hlY2sgJiYgIXRoaXMuY2hlY2spIHJldHVybiBudWxsXG5cbiAgICBpZiAoY2hlY2spIHRoaXMuY2hlY2sgPSBjaGVja1xuICAgIHRoaXMucm9sbCA9IENvQzdSb2xsLmdldEZyb21DaGVjayh0aGlzLmNoZWNrKVxuICAgIHRoaXMucm9sbGVkID0gdHJ1ZVxuXG4gICAgdGhpcy5yb2xsLnJvbGxJY29ucyA9IFtdXG4gICAgaWYgKHRoaXMucm9sbC5jcml0aWNhbCkge1xuICAgICAgdGhpcy5yb2xsLnJvbGxDb2xvciA9ICdnb2xkZW5yb2QnXG4gICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNDsgaW5kZXgrKykge1xuICAgICAgICB0aGlzLnJvbGwucm9sbEljb25zLnB1c2goJ21lZGFsJylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucm9sbC5mdW1ibGUpIHtcbiAgICAgIHRoaXMucm9sbC5yb2xsQ29sb3IgPSAnZGFya3JlZCdcbiAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRnVtYmxlJylcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCA0OyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsSWNvbnMucHVzaCgnc3BpZGVyJylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucm9sbC5zdWNjZXNzKSB7XG4gICAgICB0aGlzLnJvbGwucm9sbENvbG9yID0gJ2dvbGRlbnJvZCdcbiAgICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXIgPT09IHRoaXMucm9sbC5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgICAgdGhpcy5yb2xsLnJvbGxUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyU3VjY2VzcycpXG4gICAgICB9XG4gICAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkID09PSB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZFN1Y2Nlc3MnKVxuICAgICAgfVxuICAgICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSA9PT0gdGhpcy5yb2xsLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVTdWNjZXNzJylcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsOyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsSWNvbnMucHVzaCgnc3RhcicpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucm9sbC5yb2xsQ29sb3IgPSAnYmxhY2snXG4gICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZhaWx1cmUnKVxuICAgICAgdGhpcy5yb2xsLnJvbGxJY29ucy5wdXNoKCdza3VsbCcpXG4gICAgfVxuXG4gICAgY29uc3QgcmVzb2x1dGlvbkNhcmQgPSBuZXcgQ29DN01lbGVlUmVzb2x0aW9uKFxuICAgICAgdGhpcy5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICB0aGlzLm1lc3NhZ2VJZFxuICAgIClcbiAgICBjb25zdCByZXNvbHV0aW9uTWVzc2FnZSA9IGF3YWl0IHJlc29sdXRpb25DYXJkLnByZUNyZWF0ZU1lc3NhZ2UoKVxuXG4gICAgdGhpcy5yZXNvbHV0aW9uQ2FyZCA9IHJlc29sdXRpb25NZXNzYWdlLmlkXG4gICAgYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUNhcmQgKGNhcmQsIG1lc3NhZ2VJZCA9IG51bGwpIHtcbiAgICBjb25zdCBhY3RvcktleSA9IGNhcmQuZGF0YXNldC5hY3RvcktleVxuICAgIGNvbnN0IHBhcmVudE1lc3NhZ2VJZCA9IGNhcmQuZGF0YXNldC5wYXJlbnRNZXNzYWdlSWRcbiAgICBjb25zdCBmYXN0Rm9yd2FyZCA9IGNhcmQuZGF0YXNldC5mYXN0Rm9yd2FyZCA9PT0gJ3RydWUnXG4gICAgY29uc3QgdGFyZ2V0ID0gbmV3IENvQzdNZWxlZVRhcmdldChhY3RvcktleSwgcGFyZW50TWVzc2FnZUlkLCBmYXN0Rm9yd2FyZClcblxuICAgIHRhcmdldC5yb2xsID0gQ29DN1JvbGwuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KHRhcmdldCwgY2FyZClcblxuICAgIGlmIChjYXJkLmNsb3Nlc3QoJy5tZXNzYWdlJykpIHtcbiAgICAgIHRhcmdldC5tZXNzYWdlSWQgPSBjYXJkLmNsb3Nlc3QoJy5tZXNzYWdlJykuZGF0YXNldC5tZXNzYWdlSWRcbiAgICB9IGVsc2UgdGFyZ2V0Lm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZFxuICAgIHJldHVybiB0YXJnZXRcbiAgfVxuXG4gIHVwZ3JhZGVSb2xsIChsdWNrQW1vdW50LCBuZXdTdWNjZXNzTGV2ZWwsIG9sZENhcmQpIHtcbiAgICAvLyBUT0RPIDogQ2hlY2sgaWYgdGhpcyBuZWVkcyB0byBiZSBhc3luY1xuICAgIGlmICghdGhpcy5hY3Rvci5zcGVuZEx1Y2sobHVja0Ftb3VudCkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGAke3RoaXMuYWN0b3IubmFtZX0gZGlkbid0IGhhdmUgZW5vdWdoIGx1Y2sgdG8gcGFzcyB0aGUgY2hlY2tgXG4gICAgICApXG4gICAgfVxuICAgIHRoaXMucm9sbC52YWx1ZSA9IG51bGxcbiAgICB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsID0gbmV3U3VjY2Vzc0xldmVsXG4gICAgdGhpcy5yb2xsLmx1Y2tTcGVudCA9IHRydWVcbiAgICBvbGRDYXJkLmRhdGFzZXQucHJvY2Vzc2VkID0gZmFsc2VcblxuICAgIGNvbnN0IGRpY2VSb2xscyA9IG9sZENhcmQucXVlcnlTZWxlY3RvcignLmRpY2Utcm9sbCcpXG4gICAgZGljZVJvbGxzLmRhdGFzZXQudmFsdWUgPSBudWxsXG4gICAgZGljZVJvbGxzLmRhdGFzZXQuc3VjY2Vzc0xldmVsID0gbmV3U3VjY2Vzc0xldmVsXG4gICAgZGljZVJvbGxzLmRhdGFzZXQubHVja1NwZW50ID0gdHJ1ZVxuXG4gICAgY29uc3QgcmVzdWxEZXRhaWxzID0gb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0LWRldGFpbHMnKVxuICAgIGNvbnN0IGRpY2VUb3RhbCA9IG9sZENhcmQucXVlcnlTZWxlY3RvcignLmRpY2UtdG90YWwnKVxuICAgIHN3aXRjaCAobmV3U3VjY2Vzc0xldmVsKSB7XG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhcjpcbiAgICAgICAgZGljZVRvdGFsLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyU3VjY2VzcycpXG4gICAgICAgIHJlc3VsRGV0YWlscy5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlZ3VsYXJEaWZmaWN1bHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQ6XG4gICAgICAgIGRpY2VUb3RhbC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZFN1Y2Nlc3MnKVxuICAgICAgICByZXN1bERldGFpbHMuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAnQ29DNy5Sb2xsUmVzdWx0Lkx1Y2tTcGVuZFRleHQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGx1Y2tBbW91bnQsXG4gICAgICAgICAgICBzdWNjZXNzTGV2ZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IYXJkRGlmZmljdWx0eScpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lOlxuICAgICAgICBkaWNlVG90YWwuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVTdWNjZXNzJylcbiAgICAgICAgcmVzdWxEZXRhaWxzLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXh0cmVtZURpZmZpY3VsdHknKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuY3JpdGljYWw6XG4gICAgICAgIGRpY2VUb3RhbC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JpdGljYWxTdWNjZXNzJylcbiAgICAgICAgcmVzdWxEZXRhaWxzLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JpdGljYWxEaWZmaWN1bHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBkaWNlVG90YWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2ZhaWx1cmUnLCAnc3VjY2VzcycpXG4gICAgb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1idXR0b25zJykucmVtb3ZlKClcbiAgICBvbGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXRvb2x0aXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgQ29DN0NoYXQudXBkYXRlQ2hhdENhcmQob2xkQ2FyZCkgLy8gVE9ETyA6IENoZWNrIGlmIHRoaXMgbmVlZHMgdG8gYmUgYXN5bmNcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENoYXRNZXNzYWdlLCBnYW1lLCByZW5kZXJUZW1wbGF0ZSwgUm9sbCwgdWkgKi9cbmltcG9ydCB7IENvQzdEaWNlIH0gZnJvbSAnLi4vZGljZS5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgY2hhdEhlbHBlciwgQ29DN1JvbGwsIENvQzdEYW1hZ2UgfSBmcm9tICcuL2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdSYW5nZUluaXRpYXRvciB7XG4gIGNvbnN0cnVjdG9yIChhY3RvcktleSA9IG51bGwsIGl0ZW1JZCA9IG51bGwsIGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICB0aGlzLmFjdG9yS2V5ID0gYWN0b3JLZXlcbiAgICB0aGlzLml0ZW1JZCA9IGl0ZW1JZFxuICAgIHRoaXMuZmFzdEZvcndhcmQgPSBmYXN0Rm9yd2FyZFxuICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZVxuICAgIHRoaXMuY292ZXIgPSBmYWxzZVxuICAgIHRoaXMuc3VycHJpc2VkID0gZmFsc2VcbiAgICB0aGlzLmF1dG9TdWNjZXNzID0gZmFsc2VcbiAgICB0aGlzLmFkdmFudGFnZSA9IGZhbHNlXG4gICAgdGhpcy5kaXNhZHZhbnRhZ2UgPSBmYWxzZVxuICAgIHRoaXMubWVzc2FnZUlkID0gbnVsbFxuICAgIHRoaXMudGFyZ2V0Q2FyZCA9IG51bGxcbiAgICB0aGlzLnJvbGxlZCA9IGZhbHNlXG4gICAgdGhpcy5zaW5nbGVTaG90ID0gZmFsc2VcbiAgICB0aGlzLm11bHRpcGxlU2hvdHMgPSBmYWxzZVxuICAgIHRoaXMuYnVyc3QgPSBmYWxzZVxuICAgIHRoaXMuZnVsbEF1dG8gPSBmYWxzZVxuICAgIHRoaXMudG9rZW5LZXkgPSBudWxsXG4gICAgdGhpcy5haW1lZCA9IGZhbHNlXG4gICAgdGhpcy50b3RhbEJ1bGxldHNGaXJlZCA9IDBcbiAgICB0aGlzLl90YXJnZXRzID0gW11cbiAgICBmb3IgKGNvbnN0IHQgb2YgWy4uLmdhbWUudXNlci50YXJnZXRzXSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IENvQzdSYW5nZVRhcmdldChgJHt0LnNjZW5lLmlkfS4ke3QuaWR9YCkgLy9cbiAgICAgIHRhcmdldC50b2tlbiA9IHRcbiAgICAgIHRoaXMuX3RhcmdldHMucHVzaCh0YXJnZXQpXG4gICAgfVxuICAgIGlmICh0aGlzLl90YXJnZXRzLmxlbmd0aCkgdGhpcy5fdGFyZ2V0c1swXS5hY3RpdmUgPSB0cnVlXG4gICAgZWxzZSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBuZXcgQ29DN1JhbmdlVGFyZ2V0KClcbiAgICAgIHRhcmdldC5hY3RpdmUgPSB0cnVlXG4gICAgICB0aGlzLl90YXJnZXRzLnB1c2godGFyZ2V0KVxuICAgIH1cbiAgICBpZiAoYWN0b3JLZXkpIHtcbiAgICAgIGNvbnN0IGFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgdGhpcy50b2tlbiA9IGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KGFjdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGlmICh0aGlzLnRva2VuKSB0aGlzLnRva2VuS2V5ID0gYWN0b3IudG9rZW5LZXlcbiAgICAgIGlmIChpdGVtSWQpIHtcbiAgICAgICAgY29uc3Qgd2VhcG9uID0gYWN0b3IuaXRlbXMuZ2V0KGl0ZW1JZClcbiAgICAgICAgaWYgKHdlYXBvbikge1xuICAgICAgICAgIGlmICh0aGlzLndlYXBvbi5zaW5nbGVTaG90KSB0aGlzLnNpbmdsZVNob3QgPSB0cnVlXG4gICAgICAgICAgZWxzZSBpZiAodGhpcy53ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMuYXV0bykgdGhpcy5mdWxsQXV0byA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy50b2tlbktleSkge1xuICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMuX3RhcmdldHMpIHtcbiAgICAgICAgaWYgKHQudG9rZW4gJiYgdGhpcy50b2tlbikge1xuICAgICAgICAgIHQuZGlzdGFuY2UgPSBjaGF0SGVscGVyLmdldERpc3RhbmNlKHQudG9rZW4sIHRoaXMudG9rZW4pXG4gICAgICAgICAgdC5yb3VuZGVkRGlzdGFuY2UgPSBNYXRoLnJvdW5kKHQuZGlzdGFuY2UudmFsdWUgKiAxMDApIC8gMTAwXG4gICAgICAgICAgdC5kaXN0YW5jZVVuaXQgPSB0LmRpc3RhbmNlLnVuaXRcbiAgICAgICAgICBjb25zdCBkaXN0SW5ZZCA9XG4gICAgICAgICAgICBNYXRoLnJvdW5kKGNoYXRIZWxwZXIudG9ZYXJkcyh0LmRpc3RhbmNlKSAqIDEwMCkgLyAxMDBcbiAgICAgICAgICAvLyBpZiggZGlzdEluWWQpe1xuICAgICAgICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICAgICAgICB0LnBvaW50QmxhbmtSYW5nZSA9IGZhbHNlXG4gICAgICAgICAgICBjb25zdCBwYlJhbmdlSW5ZZCA9XG4gICAgICAgICAgICAgIHRoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUgLyAxNVxuICAgICAgICAgICAgaWYgKGRpc3RJbllkIDw9IHBiUmFuZ2VJbllkKSB0LnBvaW50QmxhbmtSYW5nZSA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMud2VhcG9uKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53ZWFwb24uYmFzZVJhbmdlKSB7XG4gICAgICAgICAgICAgIHQuYmFzZVJhbmdlID0gZmFsc2VcbiAgICAgICAgICAgICAgdC5sb25nUmFuZ2UgPSBmYWxzZVxuICAgICAgICAgICAgICB0LmV4dHJlbWVSYW5nZSA9IGZhbHNlXG4gICAgICAgICAgICAgIHQub3V0T2ZSYW5nZSA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmICh0aGlzLndlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5zaG90Z3VuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RJbllkIDw9IHRoaXMud2VhcG9uLmJhc2VSYW5nZSkgdC5iYXNlUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgZGlzdEluWWQgPiB0aGlzLndlYXBvbi5iYXNlUmFuZ2UgJiZcbiAgICAgICAgICAgICAgICAgIGRpc3RJbllkIDw9IHRoaXMud2VhcG9uLmxvbmdSYW5nZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgdC5sb25nUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGRpc3RJbllkID4gdGhpcy53ZWFwb24ubG9uZ1JhbmdlICYmXG4gICAgICAgICAgICAgICAgICBkaXN0SW5ZZCA8PSB0aGlzLndlYXBvbi5leHRyZW1lUmFuZ2VcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHQuZXh0cmVtZVJhbmdlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlzdEluWWQgPiB0aGlzLndlYXBvbi5leHRyZW1lUmFuZ2UpIHQub3V0T2ZSYW5nZSA9IHRydWVcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdEluWWQgPD0gdGhpcy53ZWFwb24uYmFzZVJhbmdlKSB0LmJhc2VSYW5nZSA9IHRydWVcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBkaXN0SW5ZZCA+IHRoaXMud2VhcG9uLmJhc2VSYW5nZSAmJlxuICAgICAgICAgICAgICAgICAgZGlzdEluWWQgPD0gdGhpcy53ZWFwb24uYmFzZVJhbmdlICogMlxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgdC5sb25nUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGRpc3RJbllkID4gdGhpcy53ZWFwb24uYmFzZVJhbmdlICogMiAmJlxuICAgICAgICAgICAgICAgICAgZGlzdEluWWQgPD0gdGhpcy53ZWFwb24uYmFzZVJhbmdlICogNFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgdC5leHRyZW1lUmFuZ2UgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkaXN0SW5ZZCA+IHRoaXMud2VhcG9uLmJhc2VSYW5nZSAqIDQpIHQub3V0T2ZSYW5nZSA9IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgISh0LmJhc2VSYW5nZSB8fCB0LmxvbmdSYW5nZSB8fCB0LmV4dHJlbWVSYW5nZSB8fCB0Lm91dE9mUmFuZ2UpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHQuYmFzZVJhbmdlID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIH1cbiAgICAgICAgfSBlbHNlIHQuYmFzZVJhbmdlID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldCBkaXNwbGF5QWN0b3JPbkNhcmQgKCkge1xuICAgIHJldHVybiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaXNwbGF5QWN0b3JPbkNhcmQnKVxuICB9XG5cbiAgZ2V0IGFjdG9ySW1nICgpIHtcbiAgICBjb25zdCBpbWcgPSBjaGF0SGVscGVyLmdldEFjdG9ySW1nRnJvbUtleSh0aGlzLmFjdG9yS2V5KVxuICAgIGlmIChpbWcpIHJldHVybiBpbWdcbiAgICByZXR1cm4gJy4uL2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi1ibGFjay5zdmcnXG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIHJldHVybiBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLmFjdG9yS2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgfVxuXG4gIGdldCBpdGVtICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5pdGVtSWQpXG4gIH1cblxuICBnZXQgd2VhcG9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtXG4gIH1cblxuICBnZXQgdGFyZ2V0cyAoKSB7XG4gICAgaWYgKCF0aGlzLl90YXJnZXRzKSB0aGlzLl90YXJnZXRzID0gW11cbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0c1xuICB9XG5cbiAgZ2V0IHRhcmdldCAoKSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0cyAmJiB0aGlzLnRhcmdldHMubGVuZ3RoKSByZXR1cm4gdGhpcy50YXJnZXRzLnBvcCgpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBza2lsbHMgKCkge1xuICAgIHJldHVybiB0aGlzLmFjdG9yLmdldFdlYXBvblNraWxscyh0aGlzLml0ZW1JZClcbiAgfVxuXG4gIGdldCBtYWluV2VhcG9uU2tpbGwgKCkge1xuICAgIHJldHVybiB0aGlzLmFjdG9yLml0ZW1zLmdldCh0aGlzLndlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi5pZClcbiAgfVxuXG4gIGdldCBhdXRvV2VhcG9uU2tpbGwgKCkge1xuICAgIGlmICh0aGlzLndlYXBvbi5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0b3IuaXRlbXMuZ2V0KHRoaXMud2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYWluV2VhcG9uU2tpbGxcbiAgfVxuXG4gIGdldCBhdXRvRmlyZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVyc3QgfHwgdGhpcy5mdWxsQXV0b1xuICB9XG5cbiAgZ2V0IG11bHRpVGFyZ2V0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsQXV0byB8fCB0aGlzLm11bHRpcGxlU2hvdHNcbiAgfVxuXG4gIGdldCBhaW1pbmcgKCkge1xuICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuX2FpbWluZykge1xuICAgICAgdGhpcy5fYWltaW5nID0gdGhpcy5hY3Rvci5nZXRBY3RvckZsYWcoJ2FpbWluZycpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9haW1pbmdcbiAgfVxuXG4gIGdldCBhY3RpdmVUYXJnZXQgKCkge1xuICAgIGlmICghdGhpcy5fdGFyZ2V0cy5sZW5ndGgpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldHMuZmluZCh0ID0+IHQuYWN0aXZlKVxuICB9XG5cbiAgZ2V0IHNob3RzICgpIHtcbiAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9zaG90cykgdGhpcy5fc2hvdHMgPSBbXVxuICAgIHJldHVybiB0aGlzLl9zaG90c1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRTaG90UmFuayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hvdHMubGVuZ3RoICsgMVxuICB9XG5cbiAgZ2V0IGFjdGl2ZVRhcmdldFNob3REaWZmaWN1bHR5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5zaG90RGlmZmljdWx0eSgpXG4gIH1cblxuICBzZXQgYWltaW5nIChiKSB7XG4gICAgdGhpcy5fYWltaW5nID0gYlxuICB9XG5cbiAgZ2V0IGRpZEFueVNob3RIaXQgKCkge1xuICAgIGxldCBhbnlIaXQgPSBmYWxzZVxuICAgIGZvciAoY29uc3QgciBvZiB0aGlzLnJvbGxzKSB7XG4gICAgICBhbnlIaXQgPSBhbnlIaXQgfHwgci5pc1N1Y2Nlc3NcbiAgICB9XG4gICAgcmV0dXJuIGFueUhpdFxuICB9XG5cbiAgZ2V0IHN1Y2Nlc3NmdWxIaXRzICgpIHtcbiAgICBjb25zdCBoaXRzID0gW11cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5yb2xscy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmICh0aGlzLnJvbGxzW2luZGV4XS5pc1N1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgaGl0ID0ge1xuICAgICAgICAgIHJvbGw6IHRoaXMucm9sbHNbaW5kZXhdLFxuICAgICAgICAgIHNob3Q6IHRoaXMuc2hvdHNbaW5kZXhdXG4gICAgICAgIH1cbiAgICAgICAgaGl0cy5wdXNoKGhpdClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhpdHMubGVuZ3RoICE9PSAwKSByZXR1cm4gaGl0c1xuICAgIGVsc2UgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBzaG90RmlyZWQgKCkge1xuICAgIHJldHVybiB0aGlzLnNob3RzID8gdGhpcy5zaG90cy5sZW5ndGggOiAwXG4gIH1cblxuICBnZXQgdG90YWxBbW1vICgpIHtcbiAgICByZXR1cm4gdGhpcy53ZWFwb24uZ2V0QnVsbGV0TGVmdCgpXG4gIH1cblxuICBnZXQgbWF4U2hvdHMgKCkge1xuICAgIGlmICh0aGlzLmZ1bGxBdXRvKSByZXR1cm4gJ+KInidcbiAgICAvLyByZXR1cm4gdGhpcy53ZWFwb24uZGF0YS5kYXRhLnVzZXNQZXJSb3VuZC5tYXg7XG5cbiAgICByZXR1cm4gdGhpcy53ZWFwb24uc3lzdGVtLnVzZXNQZXJSb3VuZC5tYXhcbiAgICAgID8gcGFyc2VJbnQodGhpcy53ZWFwb24uc3lzdGVtLnVzZXNQZXJSb3VuZC5tYXgpXG4gICAgICA6IDFcbiAgfVxuXG4gIGdldCBpZ25vcmVBbW1vICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcmVnYXJkQW1tbycpXG4gIH1cblxuICBnZXQgaWdub3JlVXNlc1BlclJvdW5kICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcmVnYXJkVXNlUGVyUm91bmQnKVxuICB9XG5cbiAgZ2V0IG91dE9mQW1tbyAoKSB7XG4gICAgaWYgKHRoaXMuaWdub3JlQW1tbykgcmV0dXJuIGZhbHNlXG4gICAgaWYgKHRoaXMudG90YWxCdWxsZXRzRmlyZWQgPj0gdGhpcy53ZWFwb24uZ2V0QnVsbGV0TGVmdCgpKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IG91dE9mU2hvdHMgKCkge1xuICAgIGlmICh0aGlzLmlnbm9yZVVzZXNQZXJSb3VuZCkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKHRoaXMuc2hvdHMpIHJldHVybiB0aGlzLnNob3RzLmxlbmd0aCA+PSB0aGlzLm1heFNob3RzXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgdm9sbGV5U2l6ZSAoKSB7XG4gICAgaWYgKCF0aGlzLndlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5hdXRvKSByZXR1cm4gMVxuICAgIGlmICh0aGlzLl92b2xsZXlTaXplKSByZXR1cm4gdGhpcy5fdm9sbGV5U2l6ZVxuICAgIGNvbnN0IHNpemUgPSBNYXRoLmZsb29yKHRoaXMuYXV0b1dlYXBvblNraWxsLnZhbHVlIC8gMTApXG4gICAgcmV0dXJuIHNpemUgPCAzID8gMyA6IHNpemVcbiAgfVxuXG4gIHNldCB2b2xsZXlTaXplICh4KSB7XG4gICAgaWYgKHggPj0gTWF0aC5mbG9vcih0aGlzLmF1dG9XZWFwb25Ta2lsbC52YWx1ZSAvIDEwKSkge1xuICAgICAgdGhpcy5fdm9sbGV5U2l6ZSA9IE1hdGguZmxvb3IodGhpcy5hdXRvV2VhcG9uU2tpbGwudmFsdWUgLyAxMClcbiAgICB9IGVsc2UgaWYgKHggPD0gMykge1xuICAgICAgdGhpcy5fdm9sbGV5U2l6ZSA9IDNcbiAgICB9XG4gICAgdGhpcy5fdm9sbGV5U2l6ZSA9IHBhcnNlSW50KHgpXG4gIH1cblxuICBnZXQgaXNWb2xsZXlNaW5TaXplICgpIHtcbiAgICBpZiAodGhpcy52b2xsZXlTaXplID09PSAzKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IGlzVm9sbGV5TWF4U2l6ZSAoKSB7XG4gICAgY29uc3QgbWF4U2l6ZSA9XG4gICAgICBNYXRoLmZsb29yKHRoaXMuYXV0b1dlYXBvblNraWxsLnZhbHVlIC8gMTApIDwgM1xuICAgICAgICA/IDNcbiAgICAgICAgOiBNYXRoLmZsb29yKHRoaXMuYXV0b1dlYXBvblNraWxsLnZhbHVlIC8gMTApXG4gICAgaWYgKG1heFNpemUgPT09IHRoaXMudm9sbGV5U2l6ZSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldFRhcmdldEZyb21LZXkgKGtleSkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXRzLmZpbmQodCA9PiBrZXkgPT09IHQuYWN0b3JLZXkpXG4gIH1cblxuICBjYWxjVGFyZ2V0c0RpZmZpY3VsdHkgKCkge1xuICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLnRhcmdldHMpIHtcbiAgICAgIHQuc2hvdERpZmZpY3VsdHkgPSB0aGlzLnNob3REaWZmaWN1bHR5KHQpXG4gICAgfVxuICB9XG5cbiAgc2hvdERpZmZpY3VsdHkgKHQgPSBudWxsKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdCB8fCB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIGxldCBkYW1hZ2UgPSB0aGlzLndlYXBvbi5zeXN0ZW0ucmFuZ2Uubm9ybWFsLmRhbWFnZVxuICAgIGlmICh0aGlzLndlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5zaG90Z3VuKSB7XG4gICAgICBpZiAodC5sb25nUmFuZ2UpIGRhbWFnZSA9IHRoaXMud2VhcG9uLnN5c3RlbS5yYW5nZS5sb25nLmRhbWFnZVxuICAgICAgaWYgKHQuZXh0cmVtZVJhbmdlKSBkYW1hZ2UgPSB0aGlzLndlYXBvbi5zeXN0ZW0ucmFuZ2UuZXh0cmVtZS5kYW1hZ2VcbiAgICB9XG4gICAgbGV0IG1vZGlmaWVyID0gdGFyZ2V0Lm1vZGlmaWVyXG4gICAgbGV0IGRpZmZpY3VsdHlcbiAgICB0aGlzLndlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5zaG90Z3VuXG4gICAgICA/IChkaWZmaWN1bHR5ID0gMSlcbiAgICAgIDogKGRpZmZpY3VsdHkgPSB0YXJnZXQuZGlmZmljdWx0eSlcbiAgICBsZXQgZGlmZmljdWx0eU5hbWUgPSAnJ1xuICAgIGlmICh0aGlzLmFpbWluZyAmJiB0aGlzLmN1cnJlbnRTaG90UmFuayA9PT0gMSkgbW9kaWZpZXIrK1xuICAgIGlmICh0aGlzLmFkdmFudGFnZSkgbW9kaWZpZXIrK1xuICAgIGlmICh0aGlzLmRpc2FkdmFudGFnZSkgbW9kaWZpZXItLVxuICAgIGlmICh0aGlzLnJlbG9hZCkgbW9kaWZpZXItLVxuICAgIGlmICh0aGlzLm11bHRpcGxlU2hvdHMgJiYgIXRoaXMuZnVsbEF1dG8pIG1vZGlmaWVyLS1cbiAgICBpZiAodGhpcy5mdWxsQXV0bykgbW9kaWZpZXIgLT0gdGhpcy5jdXJyZW50U2hvdFJhbmsgLSAxXG4gICAgaWYgKG1vZGlmaWVyIDwgLTIpIHtcbiAgICAgIGNvbnN0IGV4Y2VzcyA9IE1hdGguYWJzKG1vZGlmaWVyICsgMilcbiAgICAgIGRpZmZpY3VsdHkgKz0gZXhjZXNzXG4gICAgICBpZiAoZGlmZmljdWx0eSA+IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWwpIHtcbiAgICAgICAgZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaW1wb3NzaWJsZVxuICAgICAgfVxuICAgICAgbW9kaWZpZXIgPSAtMlxuICAgIH1cblxuICAgIGlmIChDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIgPT09IGRpZmZpY3VsdHkpIHtcbiAgICAgIGRpZmZpY3VsdHlOYW1lID0gJ1JlZ3VsYXInXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmQgPT09IGRpZmZpY3VsdHkpIGRpZmZpY3VsdHlOYW1lID0gJ0hhcmQnXG4gICAgaWYgKENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZSA9PT0gZGlmZmljdWx0eSkge1xuICAgICAgZGlmZmljdWx0eU5hbWUgPSAnRXh0cmVtZSdcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWwgPT09IGRpZmZpY3VsdHkpIHtcbiAgICAgIGRpZmZpY3VsdHlOYW1lID0gJ0NyaXRpY2FsJ1xuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5pbXBvc3NpYmxlID09PSBkaWZmaWN1bHR5KSB7XG4gICAgICBkaWZmaWN1bHR5TmFtZSA9ICdJbXBvc3NpYmxlJ1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogZGlmZmljdWx0eSxcbiAgICAgIG5hbWU6IGRpZmZpY3VsdHlOYW1lLFxuICAgICAgbW9kaWZpZXIsXG4gICAgICBkYW1hZ2UsXG4gICAgICBpbXBvc3NpYmxlOiBkaWZmaWN1bHR5ID09PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmltcG9zc2libGVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvb3QgYXQgdGhlIGFjdGl2ZSB0YXJnZXQuIEFkZCBpdCB0byB0aGUgbGlzdCBvZiBzaG90cy5cbiAgICogVE9ETyA6IHJlY2FsY3VsZXIgbGEgZGlmZmljdWx0w6kgZGUgdG91cyBsZXMgc2hvdHMgIS5cbiAgICovXG4gIGFkZFNob3RBdEN1cnJlbnRUYXJnZXQgKCkge1xuICAgIHRoaXMuY2FsY1RhcmdldHNEaWZmaWN1bHR5KClcbiAgICBjb25zdCBzaG90ID0ge1xuICAgICAgdGFyZ2V0OiB0aGlzLmFjdGl2ZVRhcmdldCxcbiAgICAgIGV4dHJlbWVSYW5nZTogdGhpcy5hY3RpdmVUYXJnZXQuZXh0cmVtZVJhbmdlLFxuICAgICAgYWN0b3JLZXk6IHRoaXMuYWN0aXZlVGFyZ2V0LmFjdG9yS2V5LFxuICAgICAgYWN0b3JOYW1lOiB0aGlzLmFjdGl2ZVRhcmdldC5uYW1lLFxuICAgICAgZGlmZmljdWx0eTogdGhpcy5hY3RpdmVUYXJnZXQuc2hvdERpZmZpY3VsdHkubGV2ZWwsXG4gICAgICBtb2RpZmllcjogdGhpcy5hY3RpdmVUYXJnZXQuc2hvdERpZmZpY3VsdHkubW9kaWZpZXIsXG4gICAgICBkYW1hZ2U6IHRoaXMuYWN0aXZlVGFyZ2V0LnNob3REaWZmaWN1bHR5LmRhbWFnZSxcbiAgICAgIGJ1bGxldHNTaG90OiAxLFxuICAgICAgdHJhbnNpdEJ1bGxldHM6IDAsXG4gICAgICBidWxsZXRzU2hvdFRyYW5zaXQ6IDEsXG4gICAgICB0cmFuc2l0OiBmYWxzZVxuICAgIH1cblxuICAgIGxldCBidWxsZXRMZWZ0ID0gdGhpcy50b3RhbEFtbW8gLSB0aGlzLnRvdGFsQnVsbGV0c0ZpcmVkXG5cbiAgICBpZiAodGhpcy5mdWxsQXV0bykge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFNob3RSYW5rID4gMSkge1xuICAgICAgICBjb25zdCBwcmV2aW91c1Nob3QgPSB0aGlzLnNob3RzW3RoaXMuY3VycmVudFNob3RSYW5rIC0gMl1cbiAgICAgICAgaWYgKHByZXZpb3VzU2hvdC5hY3RvcktleSAhPT0gdGhpcy5hY3RpdmVUYXJnZXQuYWN0b3JLZXkpIHtcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGNoYXRIZWxwZXIuZ2V0RGlzdGFuY2UoXG4gICAgICAgICAgICBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleShwcmV2aW91c1Nob3QuYWN0b3JLZXkpLFxuICAgICAgICAgICAgY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5hY3RpdmVUYXJnZXQuYWN0b3JLZXkpXG4gICAgICAgICAgKVxuICAgICAgICAgIHNob3QudHJhbnNpdEJ1bGxldHMgPSBNYXRoLmZsb29yKGNoYXRIZWxwZXIudG9ZYXJkcyhkaXN0YW5jZSkpXG4gICAgICAgICAgaWYgKHNob3QudHJhbnNpdEJ1bGxldHMgPj0gYnVsbGV0TGVmdCAmJiAhdGhpcy5pZ25vcmVBbW1vKSB7XG4gICAgICAgICAgICBzaG90LnRyYW5zaXRCdWxsZXRzID0gYnVsbGV0TGVmdFxuICAgICAgICAgICAgYnVsbGV0TGVmdCA9IDBcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy50b3RhbEJ1bGxldHNGaXJlZCA9XG4gICAgICAgICAgICBwYXJzZUludCh0aGlzLnRvdGFsQnVsbGV0c0ZpcmVkKSArIHNob3QudHJhbnNpdEJ1bGxldHNcbiAgICAgICAgICBzaG90LnRyYW5zaXQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNob3QuYnVsbGV0c1Nob3QgPSB0aGlzLnZvbGxleVNpemVcbiAgICAgIGlmIChzaG90LmJ1bGxldHNTaG90IDw9IDMpIHNob3QuYnVsbGV0c1Nob3QgPSAzXG4gICAgICBpZiAoc2hvdC5idWxsZXRzU2hvdCA+PSBidWxsZXRMZWZ0ICYmICF0aGlzLmlnbm9yZUFtbW8pIHtcbiAgICAgICAgc2hvdC5idWxsZXRzU2hvdCA9IGJ1bGxldExlZnRcbiAgICAgICAgYnVsbGV0TGVmdCA9IDBcbiAgICAgIH1cbiAgICAgIC8vIGJ1bGxldHNTaG90VHJhbnNpdCBpcyBmb3IgbG9jYWxpemluZyBDb0M3LlNob3RCdWxsZXRzIHVzaW5nIHBhcmFtZXRlcnMsIGxvY2FsaXplIGRvZXMgbm90IGFjY2VwdCBhZGRpbmcgYSBwYXJhbWV0ZXIgYXMgYSBzdW0gb2Ygc2hvdC5idWxsZXRzU2hvdCArIHNob3QudHJhbnNpdEJ1bGxldHMsIHNvIEkgY3JlYXRlIGEgbmV3IHZhbHVlIGluIGFkdmFuY2UgdG8gdXNlIGluc3RlYWRcbiAgICAgIHNob3QuYnVsbGV0c1Nob3RUcmFuc2l0ID0gc2hvdC5idWxsZXRzU2hvdCArIHNob3QudHJhbnNpdEJ1bGxldHNcbiAgICB9XG4gICAgaWYgKHRoaXMuYnVyc3QpIHtcbiAgICAgIHNob3QuYnVsbGV0c1Nob3QgPSBwYXJzZUludCh0aGlzLndlYXBvbi5zeXN0ZW0udXNlc1BlclJvdW5kLmJ1cnN0KVxuICAgICAgICA/IHBhcnNlSW50KHRoaXMud2VhcG9uLnN5c3RlbS51c2VzUGVyUm91bmQuYnVyc3QpXG4gICAgICAgIDogMVxuICAgICAgaWYgKHNob3QuYnVsbGV0c1Nob3QgPj0gYnVsbGV0TGVmdCAmJiAhdGhpcy5pZ25vcmVBbW1vKSB7XG4gICAgICAgIHNob3QuYnVsbGV0c1Nob3QgPSBidWxsZXRMZWZ0XG4gICAgICAgIGJ1bGxldExlZnQgPSAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50b3RhbEJ1bGxldHNGaXJlZCA9IHBhcnNlSW50KHRoaXMudG90YWxCdWxsZXRzRmlyZWQpICsgc2hvdC5idWxsZXRzU2hvdFxuXG4gICAgaWYgKHRoaXMuYWltaW5nKSB7XG4gICAgICB0aGlzLmFpbWluZyA9IGZhbHNlXG4gICAgICB0aGlzLmFpbWVkID0gdHJ1ZVxuICAgIH1cblxuICAgIHRoaXMuc2hvdHMucHVzaChzaG90KVxuICB9XG5cbiAgZ2V0IHRlbXBsYXRlICgpIHtcbiAgICByZXR1cm4gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9jb21iYXQvcmFuZ2UtaW5pdGlhdG9yLmh0bWwnXG4gIH1cblxuICBhc3luYyBjcmVhdGVDaGF0Q2FyZCAoKSB7XG4gICAgdGhpcy5jYWxjVGFyZ2V0c0RpZmZpY3VsdHkoKVxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzKVxuXG4gICAgLy8gY29uc3QgZWxlbWVudCA9ICQoaHRtbClbMF07XG4gICAgLy8gY29uc3QgdGFyZ2V0RWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnRhcmdldFRlc3QnKTtcbiAgICAvLyB0aGlzLnRhcmdldC5hdHRhY2hUb0VsZW1lbnQodGFyZ2V0RWxlbWVudCk7XG4gICAgY29uc3Qgc3BlYWtlckRhdGEgPSB7fVxuICAgIGNvbnN0IHRva2VuID0gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5hY3RvcktleSlcbiAgICBpZiAodG9rZW4pIHNwZWFrZXJEYXRhLnRva2VuID0gdG9rZW4uZG9jdW1lbnRcbiAgICBlbHNlIHNwZWFrZXJEYXRhLmFjdG9yID0gdGhpcy5hY3RvclxuXG4gICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoc3BlYWtlckRhdGEpXG4gICAgLy8gaWYoIHRoaXMuYWN0b3IuaXNUb2tlbikgc3BlYWtlci5hbGlhcyA9IHRoaXMuYWN0b3IudG9rZW4ubmFtZTtcblxuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmFjdG9yLnVzZXIgPyB0aGlzLmFjdG9yLnVzZXIgOiBnYW1lLnVzZXJcbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IHVzZXIuaWQsXG4gICAgICBzcGVha2VyLFxuICAgICAgY29udGVudDogaHRtbFxuICAgIH1cblxuICAgIGNvbnN0IHJvbGxNb2RlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKVxuICAgIGlmIChbJ2dtcm9sbCcsICdibGluZHJvbGwnXS5pbmNsdWRlcyhyb2xsTW9kZSkpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgIH1cbiAgICAvLyBpZiAoIHJvbGxNb2RlID09PSAnYmxpbmRyb2xsJyApIGNoYXREYXRhWydibGluZCddID0gdHJ1ZTtcbiAgICBjaGF0RGF0YS5ibGluZCA9IGZhbHNlXG5cbiAgICBjb25zdCBjaGF0TWVzc2FnZSA9IGF3YWl0IENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSlcblxuICAgIHJldHVybiBjaGF0TWVzc2FnZVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ2hhdENhcmQgKCkge1xuICAgIHRoaXMuY2FsY1RhcmdldHNEaWZmaWN1bHR5KClcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcblxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IG1lc3NhZ2UudXBkYXRlKHsgY29udGVudDogaHRtbCB9KVxuICAgIGF3YWl0IHVpLmNoYXQudXBkYXRlTWVzc2FnZShtc2csIGZhbHNlKVxuICAgIHJldHVybiBtc2dcbiAgfVxuXG4gIHRvZ2dsZUZsYWcgKGZsYWdOYW1lKSB7XG4gICAgY29uc3QgZmxhZyA9IGZsYWdOYW1lLmluY2x1ZGVzKCctJylcbiAgICAgID8gY2hhdEhlbHBlci5oeXBoZW5Ub0NhbWVsQ2FzZShmbGFnTmFtZSlcbiAgICAgIDogZmxhZ05hbWVcbiAgICBpZiAoXG4gICAgICBmbGFnID09PSAnc2luZ2xlU2hvdCcgfHxcbiAgICAgIGZsYWcgPT09ICdtdWx0aXBsZVNob3RzJyB8fFxuICAgICAgZmxhZyA9PT0gJ2Z1bGxBdXRvJ1xuICAgICkge1xuICAgICAgdGhpcy5zaW5nbGVTaG90ID0gZmFsc2VcbiAgICAgIHRoaXMubXVsdGlwbGVTaG90cyA9IGZhbHNlXG4gICAgICB0aGlzLmZ1bGxBdXRvID0gZmFsc2VcbiAgICAgIGlmIChmbGFnID09PSAnZnVsbEF1dG8nKSB0aGlzLmJ1cnN0ID0gZmFsc2VcbiAgICAgIHRoaXNbZmxhZ10gPSB0cnVlXG4gICAgfSBlbHNlIGlmIChmbGFnID09PSAnYnVyc3QnKSB7XG4gICAgICB0aGlzLmZ1bGxBdXRvID0gZmFsc2VcbiAgICAgIGlmICghdGhpcy5zaW5nbGVTaG90ICYmICF0aGlzLm11bHRpcGxlU2hvdHMpIHRoaXMuc2luZ2xlU2hvdCA9IHRydWVcbiAgICAgIHRoaXMuYnVyc3QgPSAhdGhpcy5idXJzdFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW2ZsYWddID0gIXRoaXNbZmxhZ11cbiAgICB9XG4gIH1cblxuICBhc3luYyByZXNvbHZlQ2FyZCAoKSB7XG4gICAgdGhpcy5yb2xscyA9IFtdXG4gICAgaWYgKHRoaXMubXVsdGlUYXJnZXQpIHtcbiAgICAgIGxldCB3ZWFwb25NYWxmdW5jdGlvbiA9IGZhbHNlXG4gICAgICBsZXQgaW5kZXggPSAwXG4gICAgICB3aGlsZSAoIXdlYXBvbk1hbGZ1bmN0aW9uICYmIHRoaXMuc2hvdHMubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgcm9sbCA9IGF3YWl0IHRoaXMuc2hvb3RBdFRhcmdldCh0aGlzLnNob3RzW2luZGV4XSlcbiAgICAgICAgaWYgKHJvbGwuZGljZT8ucm9sbCkge1xuICAgICAgICAgIGF3YWl0IENvQzdEaWNlLnNob3dSb2xsRGljZTNkKHJvbGwuZGljZS5yb2xsKVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMud2VhcG9uLnNob290QnVsbGV0cyhcbiAgICAgICAgICBwYXJzZUludCh0aGlzLnNob3RzW2luZGV4XS5idWxsZXRzU2hvdCkgK1xuICAgICAgICAgICAgcGFyc2VJbnQodGhpcy5zaG90c1tpbmRleF0udHJhbnNpdEJ1bGxldHMpXG4gICAgICAgIClcbiAgICAgICAgaWYgKHJvbGwuaGFzTWFsZnVuY3Rpb24pIHtcbiAgICAgICAgICByb2xsLmlzU3VjY2VzcyA9IGZhbHNlXG4gICAgICAgICAgd2VhcG9uTWFsZnVuY3Rpb24gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaW5kZXgrK1xuICAgICAgICB0aGlzLnJvbGxzLnB1c2gocm9sbClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgcm9sbCA9IGF3YWl0IHRoaXMuc2hvb3RBdFRhcmdldCgpXG4gICAgICBpZiAocm9sbC5kaWNlPy5yb2xsKSB7XG4gICAgICAgIGF3YWl0IENvQzdEaWNlLnNob3dSb2xsRGljZTNkKHJvbGwuZGljZS5yb2xsKVxuICAgICAgfVxuICAgICAgbGV0IGJ1bGxldEZpcmVkID0gdGhpcy5idXJzdFxuICAgICAgICA/IHBhcnNlSW50KHRoaXMud2VhcG9uLnN5c3RlbS51c2VzUGVyUm91bmQuYnVyc3QpXG4gICAgICAgIDogMVxuICAgICAgaWYgKGJ1bGxldEZpcmVkID49IHRoaXMudG90YWxBbW1vKSBidWxsZXRGaXJlZCA9IHRoaXMudG90YWxBbW1vXG4gICAgICBjb25zdCBzaG90ID0ge1xuICAgICAgICB0YXJnZXQ6IHRoaXMuYWN0aXZlVGFyZ2V0LFxuICAgICAgICBleHRyZW1lUmFuZ2U6IHRoaXMuYWN0aXZlVGFyZ2V0LmV4dHJlbWVSYW5nZSxcbiAgICAgICAgYWN0b3JLZXk6IHRoaXMuYWN0aXZlVGFyZ2V0LmFjdG9yS2V5LFxuICAgICAgICBhY3Rvck5hbWU6IHRoaXMuYWN0aXZlVGFyZ2V0Lm5hbWUsXG4gICAgICAgIGRpZmZpY3VsdHk6IHRoaXMuYWN0aXZlVGFyZ2V0LnNob3REaWZmaWN1bHR5LmxldmVsLFxuICAgICAgICBtb2RpZmllcjogdGhpcy5hY3RpdmVUYXJnZXQuc2hvdERpZmZpY3VsdHkubW9kaWZpZXIsXG4gICAgICAgIGRhbWFnZTogdGhpcy5hY3RpdmVUYXJnZXQuc2hvdERpZmZpY3VsdHkuZGFtYWdlLFxuICAgICAgICBidWxsZXRzU2hvdDogYnVsbGV0RmlyZWQsXG4gICAgICAgIHRyYW5zaXRCdWxsZXRzOiAwLFxuICAgICAgICB0cmFuc2l0OiBmYWxzZVxuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy53ZWFwb24uc2hvb3RCdWxsZXRzKGJ1bGxldEZpcmVkKVxuXG4gICAgICBpZiAocm9sbC5oYXNNYWxmdW5jdGlvbikge1xuICAgICAgICByb2xsLmlzU3VjY2VzcyA9IGZhbHNlXG4gICAgICB9XG4gICAgICB0aGlzLnNob3RzLnB1c2goc2hvdClcbiAgICAgIHRoaXMucm9sbHMucHVzaChyb2xsKVxuICAgIH1cbiAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZVxuICAgIHRoaXMucm9sbGVkID0gdHJ1ZVxuXG4gICAgYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBhc3luYyBzaG9vdEF0VGFyZ2V0IChzaG90ID0gbnVsbCkge1xuICAgIGNvbnN0IHRhcmdldCA9IHNob3RcbiAgICAgID8gdGhpcy5nZXRUYXJnZXRGcm9tS2V5KHNob3QuYWN0b3JLZXkpXG4gICAgICA6IHRoaXMuYWN0aXZlVGFyZ2V0XG4gICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICBjaGVjay5hY3RvcktleSA9IHRoaXMuYWN0b3JLZXlcbiAgICBjaGVjay5hY3RvciA9IHRoaXMuYWN0b3JLZXlcbiAgICBjaGVjay5pdGVtID0gdGhpcy5pdGVtSWRcbiAgICAvLyBDb21iYXQgcm9sbCBjYW5ub3QgYmUgYmxpbmQgb3IgdW5rbm93blxuICAgIGNoZWNrLmlzQmxpbmQgPSBmYWxzZVxuICAgIGNoZWNrLmlzVW5rb253biA9IGZhbHNlXG4gICAgaWYgKHRoaXMuYXV0b0ZpcmUpIGNoZWNrLnNraWxsID0gdGhpcy5hdXRvV2VhcG9uU2tpbGxcbiAgICBlbHNlIGNoZWNrLnNraWxsID0gdGhpcy5tYWluV2VhcG9uU2tpbGxcbiAgICBpZiAodGhpcy5tdWx0aVRhcmdldCkge1xuICAgICAgY2hlY2suZGlmZmljdWx0eSA9IHNob3QuZGlmZmljdWx0eVxuICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gc2hvdC5tb2RpZmllclxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbGNUYXJnZXRzRGlmZmljdWx0eSgpXG4gICAgICB0aGlzLnRvdGFsQnVsbGV0c0ZpcmVkID0gcGFyc2VJbnQodGhpcy50b3RhbEJ1bGxldHNGaXJlZCkgKyAxXG4gICAgICBpZiAodGhpcy5haW1pbmcpIHtcbiAgICAgICAgdGhpcy5haW1pbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLmFpbWVkID0gdHJ1ZVxuICAgICAgfVxuICAgICAgY2hlY2suZGlmZmljdWx0eSA9IHRoaXMuYWN0aXZlVGFyZ2V0LnNob3REaWZmaWN1bHR5LmxldmVsXG4gICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSB0aGlzLmFjdGl2ZVRhcmdldC5zaG90RGlmZmljdWx0eS5tb2RpZmllclxuICAgIH1cblxuICAgIGNoZWNrLmRldGFpbHMgPSBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVGFyZ2V0Jyl9OiAke3RhcmdldC5uYW1lfWBcbiAgICBjaGVjay50YXJnZXRLZXkgPSB0YXJnZXQuYWN0b3JLZXlcblxuICAgIGF3YWl0IGNoZWNrLnJvbGwoKVxuICAgIHJldHVybiBjaGVja1xuICB9XG5cbiAgc3RhdGljIGdldEZyb21NZXNzYWdlSWQgKG1lc3NhZ2VJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgaWYgKCFtZXNzYWdlKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGNhcmQgPSAkKG1lc3NhZ2UuY29udGVudClbMF1cblxuICAgIGNvbnN0IGluaXRpYXRvciA9IENvQzdSYW5nZUluaXRpYXRvci5nZXRGcm9tQ2FyZChjYXJkLCBtZXNzYWdlSWQpXG4gICAgaW5pdGlhdG9yLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZFxuXG4gICAgcmV0dXJuIGluaXRpYXRvclxuICB9XG5cbiAgY2hhbmdlVm9sbGV5U2l6ZSAoeCkge1xuICAgIHRoaXMudm9sbGV5U2l6ZSA9IHRoaXMudm9sbGV5U2l6ZSArIHhcbiAgICB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVDYXJkU3dpdGNoIChldmVudCwgcHVibGlzaFVwZGF0ZSA9IHRydWUpIHtcbiAgICBjb25zdCBjYXJkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcucmFuZ2UuaW5pdGlhdG9yJylcbiAgICBjb25zdCBmbGFnID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZsYWdcbiAgICBjb25zdCBjYW1lbEZsYWcgPSBjaGF0SGVscGVyLmh5cGhlblRvQ2FtZWxDYXNlKGZsYWcpXG5cbiAgICAvLyB1cGRhdGUgb25seSBmb3IgbG9jYWwgcGxheWVyXG4gICAgaWYgKCFwdWJsaXNoVXBkYXRlKSB7XG4gICAgICBjYXJkLmRhdGFzZXRbY2FtZWxGbGFnXSA9IGNhcmQuZGF0YXNldFtjYW1lbEZsYWddICE9PSAndHJ1ZSdcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnc3dpdGNoZWQtb24nKVxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNlbGVjdGVkID0gY2FyZC5kYXRhc2V0W2NhbWVsRmxhZ11cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlIGNhcmQgZm9yIGFsbCBwbGF5ZXJcbiAgICAgIGNvbnN0IGluaXRpYXRvciA9IENvQzdSYW5nZUluaXRpYXRvci5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQtZmxhZycpKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnRhcmdldCcpXG4gICAgICAgIGNvbnN0IGtleSA9IHBhcnNlSW50KHRhcmdldC5kYXRhc2V0LnRhcmdldEtleSlcbiAgICAgICAgaW5pdGlhdG9yLnRhcmdldHNba2V5XS50b2dnbGVGbGFnKGNhbWVsRmxhZylcbiAgICAgIH0gZWxzZSBpbml0aWF0b3IudG9nZ2xlRmxhZyhjYW1lbEZsYWcpXG4gICAgICBpbml0aWF0b3IudXBkYXRlQ2hhdENhcmQoKVxuICAgIH1cbiAgfVxuXG4gIHBhc3NSb2xsIChyb2xsSW5kZXgpIHtcbiAgICBjb25zdCByb2xsID0gdGhpcy5yb2xsc1tyb2xsSW5kZXhdXG4gICAgY29uc3QgbHVja0Ftb3VudCA9IHBhcnNlSW50KHJvbGwubHVja05lZWRlZClcbiAgICBpZiAoIXRoaXMuYWN0b3Iuc3BlbmRMdWNrKGx1Y2tBbW91bnQpKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBgJHt0aGlzLmFjdG9yLm5hbWV9IGRvZXMgbm90IGhhdmUgZW5vdWdoIGx1Y2sgdG8gcGFzcyB0aGUgY2hlY2tgXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcm9sbC5zdWNjZXNzTGV2ZWwgPSByb2xsLmRpZmZpY3VsdHlcbiAgICByb2xsLmlzU3VjY2VzcyA9IHRydWVcbiAgICByb2xsLmx1Y2tTcGVudCA9IHRydWVcbiAgICB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIHVwZ3JhZGVSb2xsIChyb2xsSW5kZXgsIHVwZ3JhZGVpbmRleCkge1xuICAgIC8vIFRPRE8gOiBDaGVjayBpZiB0aGlzIG5lZWRzIHRvIGJlIGFzeW5jXG4gICAgY29uc3Qgcm9sbCA9IHRoaXMucm9sbHNbcm9sbEluZGV4XVxuICAgIGNvbnN0IGluY3JlYXNlZFN1Y2Nlc3MgPSByb2xsLmluY3JlYXNlU3VjY2Vzc1t1cGdyYWRlaW5kZXhdXG4gICAgY29uc3QgbHVja0Ftb3VudCA9IHBhcnNlSW50KGluY3JlYXNlZFN1Y2Nlc3MubHVja0Ftb3VudClcbiAgICBpZiAoIXRoaXMuYWN0b3Iuc3BlbmRMdWNrKGx1Y2tBbW91bnQpKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBgJHt0aGlzLmFjdG9yLm5hbWV9IGRvZXMgbm90IGhhdmUgZW5vdWdoIGx1Y2sgdG8gcGFzcyB0aGUgY2hlY2tgXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgbmV3U3VjY2Vzc0xldmVsID0gcGFyc2VJbnQoaW5jcmVhc2VkU3VjY2Vzcy5uZXdTdWNjZXNzTGV2ZWwpXG4gICAgcm9sbC5zdWNjZXNzTGV2ZWwgPSBuZXdTdWNjZXNzTGV2ZWxcbiAgICBpZiAocm9sbC5kaWZmaWN1bHR5IDw9IG5ld1N1Y2Nlc3NMZXZlbCkgcm9sbC5pc1N1Y2Nlc3MgPSB0cnVlXG4gICAgcm9sbC5sdWNrU3BlbnQgPSB0cnVlXG4gICAgdGhpcy51cGRhdGVDaGF0Q2FyZCgpIC8vIFRPRE8gOiBDaGVjayBpZiB0aGlzIG5lZWRzIHRvIGJlIGFzeW5jXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUNhcmQgKGNhcmQsIG1lc3NhZ2VJZCA9IG51bGwpIHtcbiAgICBjb25zdCByYW5nZUluaXRpYXRvciA9IG5ldyBDb0M3UmFuZ2VJbml0aWF0b3IoKVxuICAgIHJhbmdlSW5pdGlhdG9yLl90YXJnZXRzID0gW11cbiAgICBpZiAobWVzc2FnZUlkKSByYW5nZUluaXRpYXRvci5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcbiAgICBlbHNlIGlmIChjYXJkLmNsb3Nlc3QoJy5tZXNzYWdlJykpIHtcbiAgICAgIHJhbmdlSW5pdGlhdG9yLm1lc3NhZ2VJZCA9IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKS5kYXRhc2V0Lm1lc3NhZ2VJZFxuICAgIH1cblxuICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQocmFuZ2VJbml0aWF0b3IsIGNhcmQpXG4gICAgY29uc3QgY2FyZFRhcmdldHMgPSBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXQnKVxuICAgIGZvciAoY29uc3QgdCBvZiBjYXJkVGFyZ2V0cykge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gQ29DN1JhbmdlVGFyZ2V0LmdldEZyb21FbGVtZW50KHQpXG4gICAgICByYW5nZUluaXRpYXRvci50YXJnZXRzLnB1c2godGFyZ2V0KVxuICAgIH1cblxuICAgIGNvbnN0IGNhcmRTaG90cyA9IGNhcmQucXVlcnlTZWxlY3RvckFsbCgnLnNob3QnKVxuICAgIGlmIChjYXJkU2hvdHMpIHtcbiAgICAgIGZvciAoY29uc3QgcyBvZiBjYXJkU2hvdHMpIHtcbiAgICAgICAgY29uc3Qgc2hvdCA9IHt9XG4gICAgICAgIGNoYXRIZWxwZXIuZ2V0T2JqZWN0RnJvbUVsZW1lbnQoc2hvdCwgcylcbiAgICAgICAgcmFuZ2VJbml0aWF0b3Iuc2hvdHMucHVzaChzaG90KVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBlbHNlIHtcbiAgICAvLyAgY29uc3Qgc2hvdCA9IHtcbiAgICAvLyAgICAgIHNob3RPcmRlcjogMCxcbiAgICAvLyAgICAgIGFjdG9yS2V5OiBudWxsLFxuICAgIC8vICAgICAgYWN0b3JOYW1lOiAnZHVtbXknXG4gICAgLy8gIH1cbiAgICAvLyB9XG5cbiAgICByYW5nZUluaXRpYXRvci5yb2xscyA9IFtdXG4gICAgY29uc3Qgcm9sbHMgPSBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb2xsLXJlc3VsdCcpXG4gICAgZm9yIChjb25zdCByIG9mIHJvbGxzKSB7XG4gICAgICBjb25zdCByb2xsID0gQ29DN1JvbGwuZ2V0RnJvbUVsZW1lbnQocilcbiAgICAgIHJhbmdlSW5pdGlhdG9yLnJvbGxzLnB1c2gocm9sbClcbiAgICB9XG5cbiAgICByYW5nZUluaXRpYXRvci5kYW1hZ2UgPSBbXVxuICAgIGNvbnN0IGRhbWFnZVJvbGxzID0gY2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcuZGFtYWdlLXJlc3VsdHMnKVxuICAgIGZvciAoY29uc3QgZHIgb2YgZGFtYWdlUm9sbHMpIHtcbiAgICAgIGNvbnN0IGRhbWFnZVJvbGwgPSBDb0M3RGFtYWdlLmdldEZyb21FbGVtZW50KGRyKVxuICAgICAgcmFuZ2VJbml0aWF0b3IuZGFtYWdlLnB1c2goZGFtYWdlUm9sbClcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2VJbml0aWF0b3JcbiAgfVxuXG4gIGFzeW5jIHJvbGxEYW1hZ2UgKCkge1xuICAgIHRoaXMuZGFtYWdlID0gW11cbiAgICBjb25zdCBoaXRzID0gdGhpcy5zdWNjZXNzZnVsSGl0c1xuXG4gICAgLy8gbGV0IHZvbGxleVNpemUgPSAxO1xuICAgIC8vIGlmKCB0aGlzLmZ1bGxBdXRvKSB7XG4gICAgLy8gIHZvbGxleVNpemUgPSB0aGlzLnZvbGxleVNpemU7XG4gICAgLy8gIGlmKHZvbGxleVNpemUgPCAzKSB2b2xsZXlTaXplID0gMztcbiAgICAvLyB9XG4gICAgLy8gaWYoIHRoaXMuYnVyc3QpIHZvbGxleVNpemUgPSBwYXJzZUludCh0aGlzLndlYXBvbi5kYXRhLmRhdGEudXNlc1BlclJvdW5kLmJ1cnN0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhpdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGggPSBoaXRzW2ldXG4gICAgICBjb25zdCB2b2xsZXlTaXplID0gcGFyc2VJbnQoaC5zaG90LmJ1bGxldHNTaG90KVxuICAgICAgY29uc3QgZGFtYWdlUm9sbHMgPSBbXVxuXG4gICAgICBpZiAodm9sbGV5U2l6ZSA+IDApIHtcbiAgICAgICAgbGV0IGRhbWFnZUZvcm11bGEgPSBTdHJpbmcoaC5zaG90LmRhbWFnZSlcbiAgICAgICAgaWYgKCFkYW1hZ2VGb3JtdWxhIHx8IGRhbWFnZUZvcm11bGEgPT09ICcnKSBkYW1hZ2VGb3JtdWxhID0gJzAnXG4gICAgICAgIGNvbnN0IGRhbWFnZURpZSA9IENvQzdEYW1hZ2UuZ2V0TWFpbkRpZShkYW1hZ2VGb3JtdWxhKVxuICAgICAgICBjb25zdCBtYXhEYW1hZ2UgPSBuZXcgUm9sbChkYW1hZ2VGb3JtdWxhKS5ldmFsdWF0ZSh7XG4gICAgICAgICAgbWF4aW1pemU6IHRydWVcbiAgICAgICAgfSkudG90YWxcbiAgICAgICAgY29uc3QgY3JpdGljYWxEYW1hZ2VGb3JtdWxhID0gdGhpcy53ZWFwb24uaW1wYWxlXG4gICAgICAgICAgPyBgJHtkYW1hZ2VGb3JtdWxhfSArICR7bWF4RGFtYWdlfWBcbiAgICAgICAgICA6IGAke21heERhbWFnZX1gXG4gICAgICAgIGNvbnN0IGNyaXRpY2FsRGFtYWdlRGllID0gQ29DN0RhbWFnZS5nZXRNYWluRGllKGNyaXRpY2FsRGFtYWdlRm9ybXVsYSlcblxuICAgICAgICBsZXQgaW1wYWxpbmdTaG90cyA9IDBcbiAgICAgICAgbGV0IHN1Y2Nlc3NmdWxTaG90cyA9IDBcbiAgICAgICAgbGV0IGNyaXRpY2FsID0gZmFsc2VcbiAgICAgICAgaWYgKHRoaXMuZnVsbEF1dG8gfHwgdGhpcy5idXJzdCkge1xuICAgICAgICAgIHN1Y2Nlc3NmdWxTaG90cyA9IE1hdGguZmxvb3Iodm9sbGV5U2l6ZSAvIDIpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1Y2Nlc3NmdWxTaG90cyA9PT0gMCkgc3VjY2Vzc2Z1bFNob3RzID0gMVxuICAgICAgICBpZiAoaC5yb2xsLnN1Y2Nlc3NMZXZlbCA+PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWUpIHtcbiAgICAgICAgICBpbXBhbGluZ1Nob3RzID0gc3VjY2Vzc2Z1bFNob3RzXG4gICAgICAgICAgc3VjY2Vzc2Z1bFNob3RzID0gdm9sbGV5U2l6ZSAtIGltcGFsaW5nU2hvdHNcbiAgICAgICAgICBjcml0aWNhbCA9IHRydWVcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsICE9PSBoLnJvbGwuc3VjY2Vzc0xldmVsICYmXG4gICAgICAgICAgICAoQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lIDw9IGgucm9sbC5kaWZmaWN1bHR5IHx8XG4gICAgICAgICAgICAgIGguc2hvdC5leHRyZW1lUmFuZ2UpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzdWNjZXNzZnVsU2hvdHMgPSB2b2xsZXlTaXplXG4gICAgICAgICAgICBpbXBhbGluZ1Nob3RzID0gMFxuICAgICAgICAgICAgY3JpdGljYWwgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0b3RhbCA9IDBcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHN1Y2Nlc3NmdWxTaG90czsgaW5kZXgrKykge1xuICAgICAgICAgIGNvbnN0IHJvbGwgPSBuZXcgUm9sbChkYW1hZ2VGb3JtdWxhKVxuICAgICAgICAgIC8qKiBNT0RJRiAwLjgueCAqKi9cbiAgICAgICAgICBhd2FpdCByb2xsLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZChyb2xsKVxuICAgICAgICAgIC8qKioqKioqKioqKioqKioqKi9cbiAgICAgICAgICBkYW1hZ2VSb2xscy5wdXNoKHtcbiAgICAgICAgICAgIGZvcm11bGE6IGRhbWFnZUZvcm11bGEsXG4gICAgICAgICAgICB0b3RhbDogcm9sbC50b3RhbCxcbiAgICAgICAgICAgIGRpZTogZGFtYWdlRGllLFxuICAgICAgICAgICAgY3JpdGljYWw6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0b3RhbCArPSByb2xsLnRvdGFsXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGltcGFsaW5nU2hvdHM7IGluZGV4KyspIHtcbiAgICAgICAgICBjb25zdCByb2xsID0gbmV3IFJvbGwoY3JpdGljYWxEYW1hZ2VGb3JtdWxhKVxuICAgICAgICAgIC8qKiBNT0RJRiAwLjgueCAqKi9cbiAgICAgICAgICBhd2FpdCByb2xsLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZChyb2xsKVxuICAgICAgICAgIC8qKioqKioqKioqKioqKioqKi9cbiAgICAgICAgICBkYW1hZ2VSb2xscy5wdXNoKHtcbiAgICAgICAgICAgIGZvcm11bGE6IGNyaXRpY2FsRGFtYWdlRm9ybXVsYSxcbiAgICAgICAgICAgIHRvdGFsOiByb2xsLnRvdGFsLFxuICAgICAgICAgICAgZGllOiBjcml0aWNhbERhbWFnZURpZSxcbiAgICAgICAgICAgIGNyaXRpY2FsOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0b3RhbCArPSByb2xsLnRvdGFsXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGFyZ2V0TmFtZSA9ICdkdW1teSdcbiAgICAgICAgbGV0IHRhcmdldCA9IGNoYXRIZWxwZXIuZ2V0VG9rZW5Gcm9tS2V5KGgucm9sbC50YXJnZXRLZXkpXG4gICAgICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleShoLnJvbGwudGFyZ2V0S2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgICAgaWYgKHRhcmdldCkgdGFyZ2V0TmFtZSA9IHRhcmdldC5uYW1lXG5cbiAgICAgICAgdGhpcy5kYW1hZ2UucHVzaCh7XG4gICAgICAgICAgdGFyZ2V0S2V5OiBoLnJvbGwudGFyZ2V0S2V5LFxuICAgICAgICAgIHRhcmdldE5hbWUsXG4gICAgICAgICAgcm9sbHM6IGRhbWFnZVJvbGxzLFxuICAgICAgICAgIHRvdGFsLFxuICAgICAgICAgIGNyaXRpY2FsLFxuICAgICAgICAgIGRlYWx0OiBmYWxzZSxcbiAgICAgICAgICByZXN1bHRTdHJpbmc6IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcucmFuZ2VDb21iYXREYW1hZ2UnLCB7XG4gICAgICAgICAgICBuYW1lOiB0YXJnZXROYW1lLFxuICAgICAgICAgICAgdG90YWxcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGFtYWdlUm9sbGVkID0gdGhpcy5kYW1hZ2UubGVuZ3RoICE9PSAwXG4gICAgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBhc3luYyBkZWFsRGFtYWdlICgpIHtcbiAgICBmb3IgKGxldCBkSW5kZXggPSAwOyBkSW5kZXggPCB0aGlzLmRhbWFnZS5sZW5ndGg7IGRJbmRleCsrKSB7XG4gICAgICBjb25zdCBhY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuZGFtYWdlW2RJbmRleF0udGFyZ2V0S2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIGlmIChhY3RvciA9PT0gbnVsbCkge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob1RhcmdldFRvRGFtYWdlJykpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRhbWFnZVtkSW5kZXhdLnRvdGFsVGFrZW4gPSAwXG4gICAgICAgIHRoaXMuZGFtYWdlW2RJbmRleF0udG90YWxBYnNvcmJlZCA9IDBcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBsZXQgckluZGV4ID0gMDtcbiAgICAgICAgICBySW5kZXggPCB0aGlzLmRhbWFnZVtkSW5kZXhdLnJvbGxzLmxlbmd0aDtcbiAgICAgICAgICBySW5kZXgrK1xuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBkZWFsdEFtb3VudCA9IGF3YWl0IGFjdG9yLmRlYWxEYW1hZ2UoXG4gICAgICAgICAgICB0aGlzLmRhbWFnZVtkSW5kZXhdLnJvbGxzW3JJbmRleF0udG90YWxcbiAgICAgICAgICApXG4gICAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS50b3RhbFRha2VuICs9IGRlYWx0QW1vdW50XG4gICAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS5yb2xsc1tySW5kZXhdLnRha2VuID0gZGVhbHRBbW91bnRcbiAgICAgICAgICB0aGlzLmRhbWFnZVtkSW5kZXhdLnJvbGxzW3JJbmRleF0uYWJzb3JiZWQgPVxuICAgICAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS5yb2xsc1tySW5kZXhdLnRvdGFsIC0gZGVhbHRBbW91bnRcbiAgICAgICAgICB0aGlzLmRhbWFnZVtkSW5kZXhdLnRvdGFsQWJzb3JiZWQgKz1cbiAgICAgICAgICAgIHRoaXMuZGFtYWdlW2RJbmRleF0ucm9sbHNbckluZGV4XS50b3RhbCAtIGRlYWx0QW1vdW50XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS5kZWFsdCA9IHRydWVcbiAgICAgICAgdGhpcy5kYW1hZ2VbZEluZGV4XS5yZXN1bHRTdHJpbmcgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICdDb0M3LnJhbmdlQ29tYmF0RGFtYWdlQXJtb3InLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuZGFtYWdlW2RJbmRleF0udGFyZ2V0TmFtZSxcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLmRhbWFnZVtkSW5kZXhdLnRvdGFsVGFrZW4sXG4gICAgICAgICAgICBhcm1vcjogdGhpcy5kYW1hZ2VbZEluZGV4XS50b3RhbEFic29yYmVkXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZGFtYWdlRGVhbHQgPSB0cnVlXG4gICAgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvQzdSYW5nZVRhcmdldCB7XG4gIGNvbnN0cnVjdG9yIChhY3RvcktleSA9IG51bGwpIHtcbiAgICB0aGlzLmFjdG9yS2V5ID0gYWN0b3JLZXlcbiAgICB0aGlzLmNvdmVyID0gZmFsc2VcbiAgICB0aGlzLnBvaW50QmxhbmtSYW5nZSA9IGZhbHNlXG4gICAgdGhpcy5iYXNlUmFuZ2UgPSB0cnVlXG4gICAgdGhpcy5sb25nUmFuZ2UgPSBmYWxzZVxuICAgIHRoaXMuZXh0cmVtZVJhbmdlID0gZmFsc2VcbiAgICB0aGlzLmluTWVsZWUgPSBmYWxzZVxuICB9XG5cbiAgZ2V0IGJpZyAoKSB7XG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5fYmlnKSB7XG4gICAgICBpZiAodGhpcy5hY3RvciAmJiB0aGlzLmFjdG9yLmJ1aWxkKSB0aGlzLl9iaWcgPSB0aGlzLmFjdG9yLmJ1aWxkID49IDRcbiAgICAgIGVsc2UgdGhpcy5fYmlnID0gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2JpZ1xuICB9XG5cbiAgc2V0IGJpZyAoYikge1xuICAgIHRoaXMuX2JpZyA9IGJcbiAgfVxuXG4gIGdldCBzbWFsbCAoKSB7XG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5fc21hbGwpIHtcbiAgICAgIGlmICh0aGlzLmFjdG9yICYmIHRoaXMuYWN0b3IuYnVpbGQpIHRoaXMuX3NtYWxsID0gdGhpcy5hY3Rvci5idWlsZCA8PSAtMlxuICAgICAgZWxzZSB0aGlzLl9zbWFsbCA9IGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zbWFsbFxuICB9XG5cbiAgc2V0IHNtYWxsIChiKSB7XG4gICAgdGhpcy5fc21hbGwgPSBiXG4gIH1cblxuICBnZXQgbm9ybWFsICgpIHtcbiAgICByZXR1cm4gIXRoaXMuYmlnICYmICF0aGlzLnNtYWxsXG4gIH1cblxuICBzZXQgbm9ybWFsIChiKSB7XG4gICAgdGhpcy5fYmlnID0gZmFsc2VcbiAgICB0aGlzLl9zbWFsbCA9IGZhbHNlXG4gIH1cblxuICBnZXQgaXNGYXN0ICgpIHtcbiAgICBpZiAodGhpcy5hY3RvciAmJiB0aGlzLmFjdG9yLm1vdikgcmV0dXJuIHRoaXMuYWN0b3IubW92ID49IDhcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBmYXN0ICgpIHtcbiAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9mYXN0KSB7XG4gICAgICAvLyBpZiggdGhpcy5hY3RvciAmJiB0aGlzLmFjdG9yLm1vdikgdGhpcy5fZmFzdCA9IHRoaXMuYWN0b3IubW92ID49IDg7XG4gICAgICAvLyBlbHNlIHRoaXMuX2Zhc3QgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2Zhc3QgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZmFzdFxuICB9XG5cbiAgc2V0IGZhc3QgKGIpIHtcbiAgICB0aGlzLl9mYXN0ID0gYlxuICB9XG5cbiAgZ2V0IGFjdG9yICgpIHtcbiAgICBpZiAodGhpcy5hY3RvcktleSAmJiAhdGhpcy5fYWN0b3IpIHtcbiAgICAgIHRoaXMuX2FjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGhpcy5hY3RvcktleSkgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hY3RvclxuICB9XG5cbiAgZ2V0IG5hbWUgKCkge1xuICAgIGlmICh0aGlzLnRva2VuKSByZXR1cm4gdGhpcy50b2tlbi5uYW1lXG4gICAgaWYgKHRoaXMuYWN0b3IpIHJldHVybiB0aGlzLmFjdG9yLm5hbWVcbiAgICByZXR1cm4gJ0R1bW15J1xuICB9XG5cbiAgZ2V0IGltZyAoKSB7XG4gICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgIGlmICh0aGlzLnRva2VuLmRvY3VtZW50Py50ZXh0dXJlLnNyYykge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbi5kb2N1bWVudD8udGV4dHVyZS5zcmNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuYWN0b3IpIHJldHVybiB0aGlzLmFjdG9yLmRhdGEuaW1nXG4gICAgcmV0dXJuICcuLi9pY29ucy9zdmcvbXlzdGVyeS1tYW4tYmxhY2suc3ZnJ1xuICB9XG5cbiAgZ2V0IHRva2VuICgpIHtcbiAgICBpZiAoIXRoaXMuX3Rva2VuICYmIHRoaXMuYWN0b3JLZXkpIHtcbiAgICAgIHRoaXMuX3Rva2VuID0gY2hhdEhlbHBlci5nZXRUb2tlbkZyb21LZXkodGhpcy5hY3RvcktleSlcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Rva2VuXG4gIH1cblxuICBnZXQgc2l6ZVRleHQgKCkge1xuICAgIGlmICh0aGlzLmJpZykge1xuICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5yYW5nZUNvbWJhdENhcmQuQmlnVGFyZ2V0VGl0bGUnKVxuICAgIH1cbiAgICBpZiAodGhpcy5zbWFsbCkge1xuICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5yYW5nZUNvbWJhdENhcmQuU21hbGxUYXJnZXRUaXRsZScpXG4gICAgfVxuICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcucmFuZ2VDb21iYXRDYXJkLk5vcm1hbFRhcmdldFRpdGxlJylcbiAgfVxuXG4gIGdldCBzaXplTGFiZWwgKCkge1xuICAgIGlmICh0aGlzLmJpZykgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5yYW5nZUNvbWJhdENhcmQuQmlnVGFyZ2V0JylcbiAgICBpZiAodGhpcy5zbWFsbCkgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5jb21iYXRDYXJkLlNtYWxsVGFyZ2V0JylcbiAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LnJhbmdlQ29tYmF0Q2FyZC5Ob3JtYWxUYXJnZXQnKVxuICB9XG5cbiAgZ2V0IGRpZmZpY3VsdHkgKCkge1xuICAgIGlmICh0aGlzLmJhc2VSYW5nZSB8fCB0aGlzLnBvaW50QmxhbmtSYW5nZSkge1xuICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgIH1cbiAgICBpZiAodGhpcy5sb25nUmFuZ2UpIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmRcbiAgICBpZiAodGhpcy5leHRyZW1lUmFuZ2UpIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWVcbiAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5pbXBvc3NpYmxlXG4gIH1cblxuICBnZXQgbW9kaWZpZXIgKCkge1xuICAgIGxldCBtb2RpZmllciA9IDBcbiAgICBpZiAodGhpcy5jb3ZlcikgbW9kaWZpZXItLVxuICAgIGlmICh0aGlzLnBvaW50QmxhbmtSYW5nZSkgbW9kaWZpZXIrK1xuICAgIGlmICh0aGlzLmZhc3QpIG1vZGlmaWVyLS1cbiAgICBpZiAodGhpcy5zbWFsbCkgbW9kaWZpZXItLVxuICAgIGlmICh0aGlzLmJpZykgbW9kaWZpZXIrK1xuICAgIGlmICh0aGlzLmluTWVsZWUpIG1vZGlmaWVyLS1cbiAgICBpZiAodGhpcy5zdXJwcmlzZWQpIG1vZGlmaWVyKytcbiAgICByZXR1cm4gbW9kaWZpZXJcbiAgfVxuXG4gIHNldCB0b2tlbiAodCkge1xuICAgIHRoaXMuX3Rva2VuID0gdFxuICB9XG5cbiAgc3RhdGljIGdldEZyb21FbGVtZW50IChlbGVtZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gbmV3IENvQzdSYW5nZVRhcmdldCgpXG4gICAgY2hhdEhlbHBlci5nZXRPYmplY3RGcm9tRWxlbWVudCh0YXJnZXQsIGVsZW1lbnQpXG4gICAgcmV0dXJuIHRhcmdldFxuICB9XG5cbiAgc3RhdGljIGNoYW5nZURpc3BsYXllZFRhcmdldCAoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQtc2VsZWN0b3InKSkgcmV0dXJuIG51bGxcbiAgICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCB0YXJnZXRzID0gdGFyZ2V0U2VsZWN0b3IuY2xvc2VzdCgnLnRhcmdldHMnKVxuICAgIGNvbnN0IHRhcmdldExpc3QgPSB0YXJnZXRzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXQnKVxuICAgIHJldHVybiB0YXJnZXRMaXN0XG4gIH1cblxuICBhdHRhY2hUb0VsZW1lbnQgKGVsZW1lbnQpIHtcbiAgICBjaGF0SGVscGVyLmF0dGFjaE9iamVjdFRvRWxlbWVudCh0aGlzLCBlbGVtZW50KVxuICB9XG5cbiAgdG9nZ2xlRmxhZyAoZmxhZykge1xuICAgIGlmIChcbiAgICAgIGZsYWcgPT09ICdiYXNlUmFuZ2UnIHx8XG4gICAgICBmbGFnID09PSAnbG9uZ1JhbmdlJyB8fFxuICAgICAgZmxhZyA9PT0gJ2V4dHJlbWVSYW5nZScgfHxcbiAgICAgIGZsYWcgPT09ICdwb2ludEJsYW5rUmFuZ2UnXG4gICAgKSB7XG4gICAgICB0aGlzLnBvaW50QmxhbmtSYW5nZSA9IGZhbHNlXG4gICAgICB0aGlzLmJhc2VSYW5nZSA9IGZhbHNlXG4gICAgICB0aGlzLmxvbmdSYW5nZSA9IGZhbHNlXG4gICAgICB0aGlzLmV4dHJlbWVSYW5nZSA9IGZhbHNlXG4gICAgICB0aGlzLm91dE9mUmFuZ2UgPSBmYWxzZVxuICAgICAgdGhpc1tmbGFnXSA9IHRydWVcbiAgICB9IGVsc2UgaWYgKGZsYWcgPT09ICdzaXplJykge1xuICAgICAgaWYgKHRoaXMuc21hbGwpIHtcbiAgICAgICAgdGhpcy5zbWFsbCA9IGZhbHNlXG4gICAgICAgIHRoaXMuYmlnID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmJpZykge1xuICAgICAgICB0aGlzLnNtYWxsID0gZmFsc2VcbiAgICAgICAgdGhpcy5iaWcgPSBmYWxzZVxuICAgICAgfSBlbHNlIHRoaXMuc21hbGwgPSB0cnVlXG4gICAgfSBlbHNlIHRoaXNbZmxhZ10gPSAhdGhpc1tmbGFnXVxuICAgIGlmIChmbGFnID09PSAnZmFzdCcgJiYgdGhpcy5mYXN0ICYmICF0aGlzLmlzRmFzdCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lldhcm5GYXN0VGFyZ2V0V2l0aFdyb25nTU9WJywge1xuICAgICAgICAgIG1vdjogdGhpcy5hY3Rvci5tb3ZcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBDaGF0TWVzc2FnZSwgQ09OU1QsIGdhbWUsIFRva2VuLCB0b2tlbkRhdGEsIHVpICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN0xpbmsgfSBmcm9tICcuL2FwcHMvY29jNy1saW5rLmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlSW5pdGlhdG9yIH0gZnJvbSAnLi9jaGF0L2NvbWJhdC9tZWxlZS1pbml0aWF0b3IuanMnXG5pbXBvcnQgeyBDb0M3TWVsZWVUYXJnZXQgfSBmcm9tICcuL2NoYXQvY29tYmF0L21lbGVlLXRhcmdldC5qcydcbmltcG9ydCB7IENvQzdNZWxlZVJlc29sdGlvbiB9IGZyb20gJy4vY2hhdC9jb21iYXQvbWVsZWUtcmVzb2x1dGlvbi5qcydcbmltcG9ydCB7IENvQzdSYW5nZUluaXRpYXRvciB9IGZyb20gJy4vY2hhdC9yYW5nZWNvbWJhdC5qcydcbmltcG9ydCB7IENvQzdSb2xsLCBjaGF0SGVscGVyLCBpc0N0cmxLZXkgfSBmcm9tICcuL2NoYXQvaGVscGVyLmpzJ1xuLy8gaW1wb3J0IHsgQ29DN0RhbWFnZVJvbGwgfSBmcm9tICcuL2NoYXQvZGFtYWdlY2FyZHMuanMnO1xuaW1wb3J0IHsgQ29DN0NvbkNoZWNrIH0gZnJvbSAnLi9jaGF0L2NvbmNoZWNrLmpzJ1xuaW1wb3J0IHsgU2FuQ2hlY2tDYXJkIH0gZnJvbSAnLi9jaGF0L2NhcmRzL3Nhbi1jaGVjay5qcydcbmltcG9ydCB7IE9wcG9zZWRDaGVja0NhcmQgfSBmcm9tICcuL2NoYXQvY2FyZHMvb3Bwb3NlZC1yb2xsLmpzJ1xuaW1wb3J0IHsgQ29tYmluZWRDaGVja0NhcmQgfSBmcm9tICcuL2NoYXQvY2FyZHMvY29tYmluZWQtcm9sbC5qcydcbmltcG9ydCB7IEludGVyYWN0aXZlQ2hhdENhcmQgfSBmcm9tICcuL2NoYXQvaW50ZXJhY3RpdmUtY2hhdC1jYXJkLmpzJ1xuaW1wb3J0IHsgRGFtYWdlQ2FyZCB9IGZyb20gJy4vY2hhdC9jYXJkcy9kYW1hZ2UuanMnXG5pbXBvcnQgeyBDb0M3RGljZSB9IGZyb20gJy4vZGljZS5qcydcblxuY29uc3QgQ0hBVF9DT0M3X01FU1NBR0UgPSB7XG4gIEZBS0VST0xMOlxuICAgICc8ZGl2IGNsYXNzPVwiZGljZS1yb2xsXCI+PGRpdiBjbGFzcz1cImRpY2UtcmVzdWx0XCI+PGRpdiBjbGFzcz1cImRpY2UtZm9ybXVsYVwiPj8/PzwvZGl2PjxoNCBjbGFzcz1cImRpY2UtdG90YWxcIj4/PC9oND48L2Rpdj48L2Rpdj4nXG59XG5leHBvcnQgY2xhc3MgQ29DN0NoYXQge1xuICBzdGF0aWMgcmVuZGVyQ2hhdE1lc3NhZ2VIb29rIChjaGF0TWVzc2FnZSwgaHRtbCkge1xuICAgIGlmIChjaGF0TWVzc2FnZS5nZXRGbGFnKCdDb0M3JywgJ0dNU2VsZlJvbGwnKSAmJiAhZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGh0bWwuZmluZCgnLndoaXNwZXItdG8nKS5yZW1vdmUoKVxuICAgICAgaHRtbFxuICAgICAgICAuZmluZCgnLmZsYXZvci10ZXh0JylcbiAgICAgICAgLnJlcGxhY2VXaXRoKFxuICAgICAgICAgIGA8c3BhbiBjbGFzcz1cImZsYXZvci10ZXh0XCI+JHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5Sb2xsU2VjcmV0RGljZSdcbiAgICAgICAgICApfTwvc3Bhbj5gXG4gICAgICAgIClcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5tZXNzYWdlLWNvbnRlbnQnKVxuICAgICAgICAucmVwbGFjZVdpdGgoXG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJtZXNzYWdlLWNvbnRlbnRcIj4ke0NIQVRfQ09DN19NRVNTQUdFLkZBS0VST0xMfTwvZGl2PmBcbiAgICAgICAgKVxuICAgIH1cblxuICAgIGlmIChjaGF0TWVzc2FnZS5nZXRGbGFnKCdDb0M3JywgJ3JlbW92ZVdpc3BlclRhcmdldHMnKSAmJiAhZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGh0bWwuZmluZCgnLndoaXNwZXItdG8nKS5yZW1vdmUoKVxuICAgIH1cblxuICAgIGlmIChjaGF0TWVzc2FnZS5nZXRGbGFnKCdDb0M3JywgJ2Zha2VSb2xsJykgJiYgZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5mbGF2b3ItdGV4dCcpXG4gICAgICAgIC5yZXBsYWNlV2l0aChnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuS2VlcGVyU2VudERlY295JykpXG4gICAgICBodG1sLmZpbmQoJy5tZXNzYWdlLWNvbnRlbnQnKS5yZW1vdmUoKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBmYWtlUm9sbE1lc3NhZ2UgKCkge1xuICAgIGNvbnN0IGNoYXREYXRhID0ge1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgZmxhdm9yOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUm9sbFNlY3JldERpY2UnKSxcbiAgICAgIHdoaXNwZXI6IGdhbWUudXNlcnMucGxheWVycyxcbiAgICAgIHR5cGU6IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5XSElTUEVSLFxuICAgICAgZmxhZ3M6IHtcbiAgICAgICAgQ29DNzoge1xuICAgICAgICAgIEdNU2VsZlJvbGw6IGZhbHNlLFxuICAgICAgICAgIHJlbW92ZVdpc3BlclRhcmdldHM6IHRydWUsXG4gICAgICAgICAgZmFrZVJvbGw6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IENIQVRfQ09DN19NRVNTQUdFLkZBS0VST0xMXG4gICAgfVxuXG4gICAgQ2hhdE1lc3NhZ2UuY3JlYXRlKGNoYXREYXRhKVxuICB9XG5cbiAgLy8gVE9ETyByZW1wbGFjZXIgbGVzIGdldEVsZW1lbnRzQnl4eHh4IHBhciBxdWVyeVNlbGVjdG9yXG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKlxuICAgKiAgSW5pdCBzb2NrZXRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIHN0YXRpYyByZWFkeSAoKSB7XG4gICAgLy8gY29uc29sZS5sb2coJy0tPkNvQzdDaGF0LnJlYWR5Jyk7XG4gICAgZ2FtZS5Db0M3ID0gJ2luaXQnXG4gIH1cblxuICAvLyBzdGF0aWMgb25NZXNzYWdlKCBkYXRhKSB7XG4gIC8vICBjb25zb2xlLmxvZygnLS0+Q29DN0NoYXQub25NZXNzYWdlJyk7XG4gIC8vICBjb25zb2xlLmxvZyhgbWVzc2FnZSByZWNlaXZlZCBzZW5kJmVyIDoke2RhdGEudXNlcn0gbWVzc2FnZSB0eXBlIDogJHtkYXRhLmFjdGlvbn0gZm9yIG1lc3NhZ2UgOiR7ZGF0YS5tZXNzYWdlSWR9YCk7XG4gIC8vIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqXG4gICAqICBDaGF0IE1lc3NhZ2UgSGVscGVycyAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICBzdGF0aWMgYXN5bmMgY2hhdExpc3RlbmVycyAoYXBwLCBodG1sKSB7XG4gICAgaHRtbC5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAnLmNhcmQtYnV0dG9ucyBidXR0b24nLFxuICAgICAgQ29DN0NoYXQuX29uQ2hhdENhcmRBY3Rpb24uYmluZCh0aGlzKVxuICAgIClcbiAgICAvLyBodG1sLm9uKCdjbGljaycsICcuY2FyZC1idXR0b25zIGJ1dHRvbicsIENvQzdDaGF0Ll9vbkNoYXRDYXJkVGVzdC5iaW5kKHRoaXMpKTtcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcuY2FyZC10aXRsZScsXG4gICAgICBDb0M3Q2hhdC5fb25DaGF0Q2FyZFRvZ2dsZUNvbnRlbnQuYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucmFkaW8tc3dpdGNoJyxcbiAgICAgIENvQzdDaGF0Ll9vbkNoYXRDYXJkUmFkaW9Td2l0Y2guYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcucGFuZWwtc3dpdGNoJyxcbiAgICAgIENvQzdDaGF0Ll9vbkNoYXRDYXJkVG9nZ2xlU3dpdGNoLmJpbmQodGhpcylcbiAgICApXG5cbiAgICBodG1sLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICcuc2ltcGxlLWZsYWcnLFxuICAgICAgQ29DN0NoYXQuX29uQ2hhdENhcmRUb2dnbGVTd2l0Y2guYmluZCh0aGlzKVxuICAgIClcbiAgICBodG1sLm9uKCdjbGljaycsICcudm9sbGV5LXNpemUnLCBDb0M3Q2hhdC5fb25DaGF0Q2FyZFZvbGxleVNpemUuYmluZCh0aGlzKSlcblxuICAgIGh0bWwub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5kcm9wZG93bi1lbGVtZW50JyxcbiAgICAgIENvQzdDaGF0Ll9vbkRyb3BEb3duRWxlbWVudFNlbGVjdGVkLmJpbmQodGhpcylcbiAgICApXG4gICAgaHRtbC5vbignY2xpY2snLCAnLnNpbXBsZS10b2dnbGUnLCBDb0M3Q2hhdC5fb25Ub2dnbGVTZWxlY3RlZC5iaW5kKHRoaXMpKVxuICAgIC8vIGh0bWwub24oJ2NsaWNrJywgJy5pcy1vdXRudW1iZXJlZCcsIENvQzdDaGF0Ll9vbk91dG51bWJlcmVkU2VsZWN0ZWQuYmluZCh0aGlzKSk7XG5cbiAgICBodG1sLm9uKCdjbGljaycsICcudGFyZ2V0LXNlbGVjdG9yJywgQ29DN0NoYXQuX29uVGFyZ2V0U2VsZWN0LmJpbmQodGhpcykpXG5cbiAgICBodG1sLm9uKCdkYmxjbGljaycsICcub3Blbi1hY3RvcicsIENvQzdDaGF0Ll9vbk9wZW5BY3Rvci5iaW5kKHRoaXMpKVxuXG4gICAgQ29DN0xpbmsuYmluZEV2ZW50c0hhbmRsZXIoaHRtbClcblxuICAgIGh0bWwub24oJ2NsaWNrJywgJ2NvYzctaW5saW5lLXJlc3VsdCcsIENvQzdDaGF0Ll9vbklubGluZS5iaW5kKHRoaXMpKVxuXG4gICAgLy8gUm9sbENhcmQuYmluZExpc3Rlcm5lcnMoIGh0bWwpO1xuICAgIE9wcG9zZWRDaGVja0NhcmQuYmluZExpc3Rlcm5lcnMoaHRtbClcbiAgICBDb21iaW5lZENoZWNrQ2FyZC5iaW5kTGlzdGVybmVycyhodG1sKVxuICB9XG5cbiAgc3RhdGljIF9vbk9wZW5BY3RvciAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgYWN0b3JLZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0b3JLZXlcbiAgICBpZiAoYWN0b3JLZXkpIHtcbiAgICAgIGNvbnN0IGFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgaWYgKGFjdG9yLmlzT3duZXIpIGFjdG9yLnNoZWV0LnJlbmRlcih0cnVlKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBvblVwZGF0ZUNoYXRNZXNzYWdlIChjaGF0TWVzc2FnZSkge1xuICAgIHVpLmNoYXQuc2Nyb2xsQm90dG9tKClcblxuICAgIC8vIGlmKCBjaGF0TWVzc2FnZS5nZXRGbGFnKCAnQ29DNycsICdyZXZlbGVkJykpe1xuICAgIC8vIH1cbiAgICBpZiAoZ2FtZS51c2VyLmlzR00gJiYgY2hhdE1lc3NhZ2UudHlwZSA9PT0gMCkge1xuICAgICAgY29uc3QgY2FyZCA9ICQoY2hhdE1lc3NhZ2UuY29udGVudClbMF1cbiAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnbWVsZWUnKSkge1xuICAgICAgICBpZiAoY2FyZC5kYXRhc2V0LnJlc29sdmVkID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ2luaXRpYXRvcicpKSB7XG4gICAgICAgICAgICBpZiAoY2FyZC5kYXRhc2V0LnRhcmdldENhcmQpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5pdGlhdG9yID0gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21NZXNzYWdlSWQoXG4gICAgICAgICAgICAgICAgY2hhdE1lc3NhZ2UuaWRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBDb0M3TWVsZWVUYXJnZXQuZ2V0RnJvbU1lc3NhZ2VJZChcbiAgICAgICAgICAgICAgICBpbml0aWF0b3IudGFyZ2V0Q2FyZFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGlmICh0YXJnZXQucmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uQ2FyZCA9IG5ldyBDb0M3TWVsZWVSZXNvbHRpb24oXG4gICAgICAgICAgICAgICAgICBjaGF0TWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgIHRhcmdldC5tZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICB0YXJnZXQucmVzb2x1dGlvbkNhcmRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVzb2x1dGlvbkNhcmQucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgaWYgKCFpbml0aWF0b3IuY2hlY2tSZXZlYWxlZCkgYXdhaXQgaW5pdGlhdG9yLnJldmVhbENoZWNrKClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5pdGlhdG9yID0gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21NZXNzYWdlSWQoXG4gICAgICAgICAgICAgICAgY2hhdE1lc3NhZ2UuaWRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZiAoaW5pdGlhdG9yLnJlc29sdXRpb25DYXJkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbkNhcmQgPSBuZXcgQ29DN01lbGVlUmVzb2x0aW9uKFxuICAgICAgICAgICAgICAgICAgY2hhdE1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgaW5pdGlhdG9yLnJlc29sdXRpb25DYXJkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGF3YWl0IHJlc29sdXRpb25DYXJkLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIGlmICghaW5pdGlhdG9yLmNoZWNrUmV2ZWFsZWQpIGF3YWl0IGluaXRpYXRvci5yZXZlYWxDaGVjaygpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQnKSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gQ29DN01lbGVlVGFyZ2V0LmdldEZyb21NZXNzYWdlSWQoY2hhdE1lc3NhZ2UuaWQpXG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uQ2FyZCA9IG5ldyBDb0M3TWVsZWVSZXNvbHRpb24oXG4gICAgICAgICAgICAgIHRhcmdldC5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgIGNoYXRNZXNzYWdlLmlkLFxuICAgICAgICAgICAgICB0YXJnZXQucmVzb2x1dGlvbkNhcmRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGF3YWl0IHJlc29sdXRpb25DYXJkLnJlc29sdmUoKVxuICAgICAgICAgICAgaWYgKCF0YXJnZXQubWVsZWVJbml0aWF0b3IuY2hlY2tSZXZlYWxlZCkge1xuICAgICAgICAgICAgICBhd2FpdCB0YXJnZXQubWVsZWVJbml0aWF0b3IucmV2ZWFsQ2hlY2soKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyByZW5kZXJNZXNzYWdlSG9vayAobWVzc2FnZSwgaHRtbCkge1xuICAgIHVpLmNoYXQuc2Nyb2xsQm90dG9tKClcblxuICAgIEludGVyYWN0aXZlQ2hhdENhcmQuYmluZExpc3RlbmVycyhodG1sKVxuXG4gICAgaWYgKG1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICdjaGVja1JldmVhbGVkJykpIHtcbiAgICAgIGh0bWwuZmluZCgnLmRpY2Utcm9sbCcpLnJlbW92ZUNsYXNzKCdnbS12aXNpYmxlLW9ubHknKVxuICAgICAgaHRtbFswXS5kYXRhc2V0LmNoZWNrUmV2ZWFsZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHNob3dpbmcgZHJvcGRvd24gc2VsZWN0aW9uXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5kcm9wYnRuJylcbiAgICAgIC5jbGljayhldmVudCA9PlxuICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICAgICAgLmNsb3Nlc3QoJy5kcm9wZG93bicpXG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi1jb250ZW50JylcbiAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpXG4gICAgICApXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5kcm9wZG93bicpXG4gICAgICAubW91c2VsZWF2ZShldmVudCA9PlxuICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi1jb250ZW50JylcbiAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXG4gICAgICApXG5cbiAgICAvLyBjb25zb2xlLmxvZygnKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLS0+Q29DN0NoYXQubWVzc2FnZUxpc3RlbmVycyBtZXNzYWdlIDonICsgbWVzc2FnZS5pZCk7XG4gICAgLy8gbWVzc2FnZS5kYXRhLmNvbnRlbnQgPSBcIlwiO1xuICAgIC8vIGRhdGEubWVzc2FnZS5jb250ZW50ID0gXCJcIjtcblxuICAgIC8vIFdoZW4gYSBuZXcgY2FyZCBpcyBwdWJsaXNoZWQsIGNoZWNrIHdldGhlciBpdCdzIGEgcm9sbCB0aGF0IG1vZGlmaWVzIGFuIG90aGVyIGNhcmQuXG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBjb25zdCBjYXJkID0gaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcuY29jNy5jaGF0LWNhcmQnKVxuICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb2xsLWNhcmQnKSAmJlxuICAgICAgICAgICEoY2FyZC5kYXRhc2V0LnByb2Nlc3NlZCA9PT0gJ3RydWUnKSAmJlxuICAgICAgICAgIGNhcmQuZGF0YXNldC5yZWZNZXNzYWdlSWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qgcm9sbCA9IENvQzdSb2xsLmdldEZyb21FbGVtZW50KGNhcmQpXG5cbiAgICAgICAgICBpZiAoY2FyZC5kYXRhc2V0LnNpZGUgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgICAgICByb2xsLmRlZmVuZGFudElkID0gY2FyZC5kYXRhc2V0LnRva2VuSWRcbiAgICAgICAgICAgICAgPyBjYXJkLmRhdGFzZXQudG9rZW5JZFxuICAgICAgICAgICAgICA6IGNhcmQuZGF0YXNldC5hY3RvcklkXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjYXJkLmRhdGFzZXQuc2lkZSA9PT0gJ2luaXRpYXRvcicpIHtcbiAgICAgICAgICAgIHJvbGwuaW5pdGlhdG9ySWQgPSBjYXJkLmRhdGFzZXQudG9rZW5JZFxuICAgICAgICAgICAgICA/IGNhcmQuZGF0YXNldC50b2tlbklkXG4gICAgICAgICAgICAgIDogY2FyZC5kYXRhc2V0LmFjdG9ySWRcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FyZC5kYXRhc2V0LnByb2Nlc3NlZCA9ICd0cnVlJ1xuXG4gICAgICAgICAgQ29DN0NoYXQudXBkYXRlQ29tYmF0Q2FyZFRhcmdldChyb2xsKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdXNlck9ubHkgPSBodG1sLmZpbmQoJy50YXJnZXQtb25seScpXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHVzZXJPbmx5KSB7XG4gICAgICBpZiAoIWdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICBjb25zdCBhY3RvcklkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0b3ItaWQnKVxuICAgICAgICBpZiAoYWN0b3JJZCkge1xuICAgICAgICAgIGlmIChnYW1lLmFjdG9ycy5nZXQoYWN0b3JJZCkuaXNPd25lcikge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGdtT25seSA9IGh0bWwuZmluZCgnLmdtLW9ubHknKVxuICAgIGZvciAoY29uc3Qgem9uZSBvZiBnbU9ubHkpIHtcbiAgICAgIGlmICghZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgem9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdXNlclZpc2libGVPbmx5ID0gaHRtbC5maW5kKCcudXNlci12aXNpYmxlLW9ubHknKVxuICAgIGZvciAoY29uc3QgZWxlbSBvZiB1c2VyVmlzaWJsZU9ubHkpIHtcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgfVxuXG4gICAgY29uc3QgZ21WaXNpYmxlT25seSA9IGh0bWwuZmluZCgnLmdtLXZpc2libGUtb25seScpXG4gICAgZm9yIChjb25zdCBlbGVtIG9mIGdtVmlzaWJsZU9ubHkpIHtcbiAgICAgIGlmICghKGdhbWUudXNlci5pc0dNIHx8IChnYW1lLnVzZXIuaXNUcnVzdGVkICYmIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3RydXN0ZWRDYW5TZWVDaGF0Q2FyZCcpKSkpIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cblxuICAgIGNvbnN0IG93bmVyVmlzaWJsZU9ubHkgPSBodG1sLmZpbmQoJy5vd25lci12aXNpYmxlLW9ubHknKVxuICAgIGZvciAoY29uc3Qgem9uZSBvZiBvd25lclZpc2libGVPbmx5KSB7XG4gICAgICAvLyBUcnkgcmV0cmlldmluZyBhY3RvclxuICAgICAgbGV0IGFjdG9yID0gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleSh6b25lLmRhdGFzZXQ/LmFjdG9yS2V5KSAvLyBUcnkgd2l0aCBzZWxmLlxuICAgICAgaWYgKCFhY3RvcikgYWN0b3IgPSBDb0M3Q2hhdC5fZ2V0Q2hhdENhcmRBY3Rvcih6b25lLmNsb3Nlc3QoJy5jaGF0LWNhcmQnKSkgLy8gVHJ5IHdpdGggY2xvc2VzdCBjaGF0IGNhcmQuXG4gICAgICBpZiAoIWFjdG9yKSB7XG4gICAgICAgIGFjdG9yID0gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleSh6b25lLnBhcmVudEVsZW1lbnQuZGF0YXNldC5hY3RvcktleSkgLy8gVHJ5IHdpdGggcGFyZW50IGVsZW1lbnQuXG4gICAgICB9XG4gICAgICBpZiAoIWFjdG9yKSB7XG4gICAgICAgIGFjdG9yID0gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleShcbiAgICAgICAgICB6b25lLmNsb3Nlc3QoJ1tkYXRhLWFjdG9yLWtleV0nKT8uZGF0YXNldC5hY3RvcktleVxuICAgICAgICApIC8vIFRyeSB3aXRoIGNsb3Nlc3QgZGF0YS1hY3Rvci1rZXlcbiAgICAgIH1cbiAgICAgIGlmICghYWN0b3IpIHtcbiAgICAgICAgYWN0b3IgPSBDb0M3Q2hhdC5fZ2V0QWN0b3JGcm9tS2V5KFxuICAgICAgICAgIHpvbmUuY2xvc2VzdCgnW2RhdGEtdG9rZW4ta2V5XScpPy5kYXRhc2V0LmFjdG9yS2V5XG4gICAgICAgICkgLy8gVHJ5IHdpdGggY2xvc2VzdCBkYXRhLXRva2VuLWtleVxuICAgICAgfVxuXG4gICAgICAvLyBjb25zdCBhY3RvciA9IGdhbWUuYWN0b3JzLmdldCggYWN0b3JJZCk7XG4gICAgICBpZiAoKGFjdG9yICYmICFhY3Rvci5pc093bmVyKSB8fCBnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICB6b25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgIH0gLy8gaWYgY3VycmVudCB1c2VyIGRvZXNuJ3Qgb3duIHRoaXMgaGUgY2FuJ3QgaW50ZXJyYWN0XG4gICAgICAvLyBpZiggIUNvQzdDaGF0LmlzQ2FyZE93bmVyKCB6b25lLmNsb3Nlc3QoJy5jaGF0LWNhcmQnKSkpIHt6b25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7fVxuICAgIH1cblxuICAgIGlmICghZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIC8vIEdNIGNhbiBzZWUgZXZlcnl0aGluZ1xuICAgICAgY29uc3Qgb3duZXJPbmx5ID0gaHRtbC5maW5kKCcub3duZXItb25seScpXG4gICAgICBmb3IgKGNvbnN0IHpvbmUgb2Ygb3duZXJPbmx5KSB7XG4gICAgICAgIC8vIFRyeSByZXRyaWV2aW5nIGFjdG9yXG4gICAgICAgIGxldCBhY3RvciA9IENvQzdDaGF0Ll9nZXRBY3RvckZyb21LZXkoXG4gICAgICAgICAgem9uZS5kYXRhc2V0Py5hY3RvcktleSB8fCB6b25lLmRhdGFzZXQ/LmFjdG9ySWRcbiAgICAgICAgKSAvLyBUcnkgd2l0aCBzZWxmLlxuICAgICAgICBpZiAoIWFjdG9yKSB7XG4gICAgICAgICAgYWN0b3IgPSBDb0M3Q2hhdC5fZ2V0Q2hhdENhcmRBY3Rvcih6b25lLmNsb3Nlc3QoJy5jaGF0LWNhcmQnKSkgLy8gVHJ5IHdpdGggY2xvc2VzdCBjaGF0IGNhcmQuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICAgIGFjdG9yID0gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleSh6b25lLnBhcmVudEVsZW1lbnQuZGF0YXNldC5hY3RvcktleSkgLy8gVHJ5IHdpdGggcGFyZW50IGVsZW1lbnQuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICAgIGFjdG9yID0gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleShcbiAgICAgICAgICAgIHpvbmUuY2xvc2VzdCgnW2RhdGEtYWN0b3Ita2V5XScpPy5kYXRhc2V0LmFjdG9yS2V5XG4gICAgICAgICAgKSAvLyBUcnkgd2l0aCBjbG9zZXN0IGRhdGEtYWN0b3Ita2V5XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICAgIGFjdG9yID0gQ29DN0NoYXQuX2dldEFjdG9yRnJvbUtleShcbiAgICAgICAgICAgIHpvbmUuY2xvc2VzdCgnW2RhdGEtdG9rZW4ta2V5XScpPy5kYXRhc2V0LmFjdG9yS2V5XG4gICAgICAgICAgKSAvLyBUcnkgd2l0aCBjbG9zZXN0IGRhdGEtdG9rZW4ta2V5XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zdCBhY3RvciA9IGdhbWUuYWN0b3JzLmdldCggYWN0b3JJZCk7XG4gICAgICAgIGlmICgoYWN0b3IgJiYgIWFjdG9yLmlzT3duZXIpIHx8ICghYWN0b3IgJiYgIWdhbWUudXNlci5pc0dNKSkge1xuICAgICAgICAgIHpvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICB9IC8vIGlmIGN1cnJlbnQgdXNlciBkb2Vzbid0IG93biB0aGlzIGhlIGNhbid0IGludGVycmFjdFxuICAgICAgICAvLyBpZiggIUNvQzdDaGF0LmlzQ2FyZE93bmVyKCB6b25lLmNsb3Nlc3QoJy5jaGF0LWNhcmQnKSkpIHt6b25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7fVxuICAgICAgfVxuXG4gICAgICBjb25zdCBnbVNlbGVjdE9ubHkgPSBodG1sLmZpbmQoJy5nbS1zZWxlY3Qtb25seScpXG4gICAgICBpZiAoIShnYW1lLnVzZXIuaXNUcnVzdGVkICYmIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3RydXN0ZWRDYW5Nb2RmeUNoYXRDYXJkJykpKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VsZWN0IG9mIGdtU2VsZWN0T25seSkge1xuICAgICAgICAgIHNlbGVjdC5jbGFzc0xpc3QuYWRkKCdpbmFjdGl2ZScpXG4gICAgICAgICAgc2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ3NpbXBsZS1mbGFnJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgYWN0aW9uVHlwZVN0cmluZyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpZ2h0QmFjazogJ0NvQzcuZmlnaHRCYWNrJyxcbiAgICAgIG1hbmV1dmVyOiAnQ29DNy5tYW5ldXZlcicsXG4gICAgICBkb2RnaW5nOiAnQ29DNy5kb2RnZSdcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX29uVGFyZ2V0U2VsZWN0IChldmVudCkge1xuICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmtleSlcbiAgICBjb25zdCB0YXJnZXRzU2VsZWN0b3IgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy50YXJnZXRzLXNlbGVjdG9yJylcbiAgICBmb3IgKGNvbnN0IGkgb2YgdGFyZ2V0c1NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKSB7XG4gICAgICBpLnN0eWxlLmJvcmRlciA9ICdub25lJ1xuICAgIH1cbiAgICB0YXJnZXRzU2VsZWN0b3JcbiAgICAgIC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1rZXk9XCIke2luZGV4fVwiXWApXG4gICAgICAucXVlcnlTZWxlY3RvcignaW1nJykuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjMDAwJ1xuICAgIGNvbnN0IHRhcmdldHMgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy50YXJnZXRzJylcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGFyZ2V0cy5xdWVyeVNlbGVjdG9yQWxsKCcudGFyZ2V0JykpIHtcbiAgICAgIHQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgdC5kYXRhc2V0LmFjdGl2ZSA9ICdmYWxzZSdcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0VG9EaXNwbGF5ID0gdGFyZ2V0cy5xdWVyeVNlbGVjdG9yKFxuICAgICAgYFtkYXRhLXRhcmdldC1rZXk9XCIke2luZGV4fVwiXWBcbiAgICApXG4gICAgdGFyZ2V0VG9EaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgdGFyZ2V0VG9EaXNwbGF5LmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnXG4gICAgLy8gY29uc3QgY2hhdENhcmQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5jaGF0LWNhcmQucmFuZ2UnKTtcbiAgICAvLyBjb25zdCByYW5nZUluaXRpYXRvciA9IENvQzdSYW5nZUluaXRpYXRvci5nZXRGcm9tQ2FyZCggY2hhdENhcmQpO1xuICB9XG5cbiAgc3RhdGljIF9vbkRyb3BEb3duRWxlbWVudFNlbGVjdGVkIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IGNhcmQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5jaGF0LWNhcmQnKVxuICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0JykpIHtcbiAgICAgIENvQzdNZWxlZVRhcmdldC51cGRhdGVTZWxlY3RlZChjYXJkLCBldmVudClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGNsZWFyIGFsbCBkcm9wIGRvd24gYW5kIGhpZ2hsaWdodCB0aGlzIHBhcnRpY3VsYXIgb25lXG4gICAgY29uc3QgZHJvcERvd25Cb3hlcyA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIC5jbG9zZXN0KCcucmVzcG9uc2Utc2VsZWN0aW9uJylcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcudG9nZ2xlLXN3aXRjaCcpXG4gICAgZm9yIChjb25zdCBkcGRuQm94IG9mIGRyb3BEb3duQm94ZXMpIHtcbiAgICAgIGRwZG5Cb3guY2xhc3NMaXN0LnJlbW92ZSgnc3dpdGNoZWQtb24nKVxuICAgIH1cbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy50b2dnbGUtc3dpdGNoJykuY2xhc3NMaXN0LmFkZCgnc3dpdGNoZWQtb24nKVxuXG4gICAgLy8gY2xvc2UgZHJvcGRvd25cbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpXG5cbiAgICAvLyBEaXNwbGF5IHRoZSByb2xsIGJ1dHRvblxuICAgIGNvbnN0IHNlbGVjdGVkQm94ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgLmNsb3Nlc3QoJy5kZWZlbmRlci1hY3Rpb24tc2VsZWN0JylcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQtYWN0aW9uJylcbiAgICBzZWxlY3RlZEJveC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgIGNvbnN0IGJ1dHRvbiA9IHNlbGVjdGVkQm94LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXG5cbiAgICAvLyBQYXNzIHRoZSBpbml0aWF0b3IgSWQgLSBCdWlsZCBjYW4gYmUgcmV0cmlldmVkIGZyb20gdGhhdFxuXG4gICAgLy8gUGFzcyB0aGUgaW5pdGlhdG9yIGl0ZW1cblxuICAgIC8vIFBhc3MgdGhlIGRlZmVuZGFudCBJZFxuXG4gICAgLy8gUGFzcyB0aGUgZGVmZW5kYW50IGFjdGlvblxuICAgIGJ1dHRvbi5kYXRhc2V0LmFjdGlvbiA9ICdkZWZlbmRpbmcnXG4gICAgYnV0dG9uLmRhdGFzZXQuYWN0aW9uVHlwZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb25cbiAgICBidXR0b24uZGF0YXNldC5kZWZlbmRlckNob2ljZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb25cbiAgICBidXR0b24uZGF0YXNldC5za2lsbElkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsSWRcbiAgICBidXR0b24uZGF0YXNldC5za2lsbFZhbHVlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsVmFsdWVcbiAgICBidXR0b24uZGF0YXNldC5za2lsbE5hbWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxOYW1lXG4gICAgYnV0dG9uLmRhdGFzZXQuaXRlbUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LndlYXBvbklkXG4gICAgYnV0dG9uLmRhdGFzZXQuaXRlbU5hbWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQud2VhcG9uTmFtZVxuXG4gICAgLy8gUHV0IHNvbWUgdGV4dCBpbiB0aGUgYnV0dG9uXG4gICAgc3dpdGNoIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uKSB7XG4gICAgICBjYXNlICdtYW5ldXZlcic6XG4gICAgICAgIGJ1dHRvbi5pbm5lclRleHQgPSBgJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgQ09DNy5jb21iYXRDYXJkc1tldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uXVxuICAgICAgICApfSA6ICR7ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsTmFtZX0gKCR7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsVmFsdWVcbiAgICAgICAgfSUpYFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZmlnaHRCYWNrJzpcbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICBDT0M3LmNvbWJhdENhcmRzW2V2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb25dXG4gICAgICAgICl9IDogJHtldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQud2VhcG9uTmFtZX0gKCR7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsVmFsdWVcbiAgICAgICAgfSUpYFxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgICAvLyBTYXZlIGFjdGlvbiBmb3IgdGhlIHJvbGxcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfb25JbmxpbmUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGEgPSBldmVudC5jdXJyZW50VGFyZ2V0XG5cbiAgICBpZiAoYS5jbGFzc0xpc3QuY29udGFpbnMoJ2lubGluZS1yZXN1bHQnKSkge1xuICAgICAgaWYgKGEuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpKSB7XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suX2NvbGxhcHNlSW5saW5lUmVzdWx0KGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLl9leHBhbmRJbmxpbmVSZXN1bHQoYSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX29uVG9nZ2xlU2VsZWN0ZWQgKGV2ZW50KSB7XG4gICAgY29uc3QgY2FyZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmNoYXQtY2FyZCcpXG4gICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQnKSkge1xuICAgICAgQ29DN01lbGVlVGFyZ2V0LnVwZGF0ZVNlbGVjdGVkKGNhcmQsIGV2ZW50KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbElkID09PSAnJykge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JOb0RvZGdlU2tpbGwnKSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGNsZWFyIGFsbCBkcm9wIGRvd24gYW5kIGhpZ2hsaWdodCB0aGlzIHBhcnRpY3VsYXIgb25lXG4gICAgY29uc3QgZHJvcERvd25Cb3hlcyA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIC5jbG9zZXN0KCcucmVzcG9uc2Utc2VsZWN0aW9uJylcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcudG9nZ2xlLXN3aXRjaCcpXG4gICAgZm9yIChjb25zdCBkcGRuQm94IG9mIGRyb3BEb3duQm94ZXMpIHtcbiAgICAgIGRwZG5Cb3guY2xhc3NMaXN0LnJlbW92ZSgnc3dpdGNoZWQtb24nKVxuICAgIH1cbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3N3aXRjaGVkLW9uJykgLy8gTmVlZCB0byB0ZXN0IGlmIGl0J3MgcmVhbGx5IGEgZG9kZ2UgISEhXG5cbiAgICAvLyBTYXZlIGFjdGlvbiBmb3IgdGhlIHJvbGxcbiAgICBjb25zdCBzZWxlY3RlZEJveCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIC5jbG9zZXN0KCcuZGVmZW5kZXItYWN0aW9uLXNlbGVjdCcpXG4gICAgICAucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkLWFjdGlvbicpXG4gICAgc2VsZWN0ZWRCb3guc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICBjb25zdCBidXR0b24gPSBzZWxlY3RlZEJveC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxuXG4gICAgYnV0dG9uLmRhdGFzZXQuYWN0aW9uID0gJ2RlZmVuZGluZydcbiAgICBidXR0b24uZGF0YXNldC5hY3Rpb25UeXBlID0gJ2RvZGdpbmcnXG4gICAgYnV0dG9uLmRhdGFzZXQuZGVmZW5kZXJDaG9pY2UgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uXG4gICAgYnV0dG9uLmRhdGFzZXQuc2tpbGxJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbElkXG4gICAgYnV0dG9uLmRhdGFzZXQuc2tpbGxWYWx1ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbFZhbHVlXG4gICAgYnV0dG9uLmRhdGFzZXQuc2tpbGxOYW1lID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsTmFtZVxuXG4gICAgYnV0dG9uLmlubmVyVGV4dCA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgIENPQzcuY29tYmF0Q2FyZHNbZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbl1cbiAgICApfSA6ICR7ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsTmFtZX0gKCR7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxWYWx1ZVxuICAgIH0lKWBcbiAgfVxuXG4gIHN0YXRpYyBfb25DaGF0Q2FyZFJhZGlvU3dpdGNoIChldmVudCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCctLT5Db0M3Q2hhdC5fb25DaGF0Q2FyZFJhZGlvU3dpdGNoJyk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IG9wdGlvbkxpc3QgPVxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3JhZGlvLXN3aXRjaCcpXG4gICAgbGV0IGluZGV4XG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBvcHRpb25MaXN0W2luZGV4XVxuICAgICAgaWYgKGVsZW1lbnQuZGF0YXNldC5wcm9wZXJ0eSA9PT0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnByb3BlcnR5KSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3dpdGNoZWQtb24nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzd2l0Y2hlZC1vbicpXG4gICAgICB9XG4gICAgfVxuICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnNlbGVjdGVkID1cbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wcm9wZXJ0eVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9vbkNoYXRDYXJkVm9sbGV5U2l6ZSAoZXZlbnQpIHtcbiAgICBjb25zdCBjYXJkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuY2hhdC1jYXJkJylcblxuICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygncmFuZ2UnKSkge1xuICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbml0aWF0b3InKSkge1xuICAgICAgICBjb25zdCByYW5nZUNhcmQgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbmNyZWFzZScpKSB7XG4gICAgICAgICAgcmFuZ2VDYXJkLmNoYW5nZVZvbGxleVNpemUoMSlcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGVjcmVhc2UnKSkge1xuICAgICAgICAgIHJhbmdlQ2FyZC5jaGFuZ2VWb2xsZXlTaXplKC0xKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9vbkNoYXRDYXJkVG9nZ2xlU3dpdGNoIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IGNhcmQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5jaGF0LWNhcmQnKVxuICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnbWVsZWUnKSkge1xuICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbml0aWF0b3InKSkge1xuICAgICAgICBDb0M3TWVsZWVJbml0aWF0b3IudXBkYXRlQ2FyZFN3aXRjaChldmVudClcbiAgICAgIH1cblxuICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXJnZXQnKSkge1xuICAgICAgICBDb0M3TWVsZWVUYXJnZXQudXBkYXRlQ2FyZFN3aXRjaChldmVudClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JhbmdlJykpIHtcbiAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnaW5pdGlhdG9yJykpIHtcbiAgICAgICAgQ29DN1JhbmdlSW5pdGlhdG9yLnVwZGF0ZUNhcmRTd2l0Y2goZXZlbnQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYW1hZ2UnKSkge1xuICAgICAgLy8gQ29DN0l0ZW0udXBkYXRlQ2FyZFN3aXRjaCggZXZlbnQpO1xuICAgIH1cblxuICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygncm9sbC1jYXJkJykpIHtcbiAgICAgIENvQzdDaGVjay51cGRhdGVDYXJkU3dpdGNoKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIEFjdG9yIHdoaWNoIGlzIHRoZSBhdXRob3Igb2YgYSBjaGF0IGNhcmRcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2FyZCAgICBUaGUgY2hhdCBjYXJkIGJlaW5nIHVzZWRcbiAgICogQHJldHVybiB7QWN0b3J8bnVsbH0gICAgICAgICBUaGUgQWN0b3IgZW50aXR5IG9yIG51bGxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfZ2V0Q2hhdENhcmRBY3RvciAoY2FyZCkge1xuICAgIC8vIGlmIGRhdGFzZXQub2JqZWN0IGlzIHRoZXJlID0+IG5lZWQgdG8gdW5lc2NhcGUgdGhpbmdzICEhXG4gICAgLy8gaWYgbm90IHVzZSB0aGUgZGF0YXNldCBkaXJlY3RseS5cbiAgICBjb25zdCBjYXJkRGF0YSA9IGNhcmQuZGF0YXNldC5vYmplY3RcbiAgICAgID8gSlNPTi5wYXJzZSh1bmVzY2FwZShjYXJkLmRhdGFzZXQub2JqZWN0KSlcbiAgICAgIDogY2FyZC5kYXRhc2V0XG5cbiAgICBpZiAoY2FyZERhdGEuYWN0b3JLZXkpIHJldHVybiBDb0M3Q2hhdC5fZ2V0QWN0b3JGcm9tS2V5KGNhcmREYXRhLmFjdG9yS2V5KVxuXG4gICAgLy8gQ2FzZSAxIC0gYSBzeW50aGV0aWMgYWN0b3IgZnJvbSBhIFRva2VuXG4gICAgY29uc3QgdG9rZW5LZXkgPSBjYXJkRGF0YS50b2tlbklkXG4gICAgaWYgKHRva2VuS2V5KSB7XG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSB0b2tlbktleS5zcGxpdCgnLicpXG4gICAgICBpZiAoc2NlbmVJZCA9PT0gJ1RPS0VOJykge1xuICAgICAgICByZXR1cm4gZ2FtZS5hY3RvcnMudG9rZW5zW3Rva2VuSWRdIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZClcbiAgICAgICAgaWYgKCFzY2VuZSkgcmV0dXJuIG51bGxcbiAgICAgICAgY29uc3QgdG9rZW4gPSBzY2VuZS5nZXRFbWJlZGRlZERvY3VtZW50KCdUb2tlbicsIHRva2VuSWQpXG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsXG4gICAgICAgIHJldHVybiB0b2tlbi5hY3RvciB8fCBuZXcgVG9rZW4odG9rZW5EYXRhKS5hY3RvclxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhc2UgMiAtIHVzZSBBY3RvciBJRCBkaXJlY3RvcnlcbiAgICBjb25zdCBhY3RvcklkID0gY2FyZERhdGEuYWN0b3JJZFxuICAgIGlmIChhY3RvcklkKSByZXR1cm4gZ2FtZS5hY3RvcnMuZ2V0KGFjdG9ySWQpXG5cbiAgICBjb25zdCBtZXNzYWdlID0gY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpXG4gICAgY29uc3QgbWVzc2FnZUlkID0gbWVzc2FnZSA/IG1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWQgOiBudWxsXG4gICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpXG4gICAgICBpZiAoY2hhdE1lc3NhZ2UudXNlcikgcmV0dXJuIGNoYXRNZXNzYWdlLnVzZXIuY2hhcmFjdGVyXG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHN0YXRpYyBpc0NhcmRPd25lciAoY2FyZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjYXJkLmNsb3Nlc3QoJy5tZXNzYWdlJylcbiAgICBjb25zdCBtZXNzYWdlSWQgPSBtZXNzYWdlID8gbWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZCA6IG51bGxcbiAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICBjb25zdCBjaGF0TWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZClcbiAgICAgIHJldHVybiBjaGF0TWVzc2FnZS5vd25uZXIgfHwgZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHN0YXRpYyBfZ2V0QWN0b3JGcm9tS2V5IChrZXkpIHtcbiAgICBpZiAoIWtleSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIC8vIENhc2UgMSAtIGEgc3ludGhldGljIGFjdG9yIGZyb20gYSBUb2tlblxuICAgIGlmIChrZXkuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSBrZXkuc3BsaXQoJy4nKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuYWN0b3JzLnRva2Vuc1t0b2tlbklkXSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHNjZW5lSWQpXG4gICAgICAgIGlmICghc2NlbmUpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuID0gc2NlbmUuZ2V0RW1iZWRkZWREb2N1bWVudCgnVG9rZW4nLCB0b2tlbklkKVxuICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbFxuICAgICAgICByZXR1cm4gdG9rZW4uYWN0b3IgfHwgbmV3IFRva2VuKHRva2VuRGF0YSkuYWN0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYXNlIDIgLSB1c2UgQWN0b3IgSUQgZGlyZWN0b3J5XG4gICAgcmV0dXJuIGdhbWUuYWN0b3JzLmdldChrZXkpIHx8IG51bGxcbiAgfVxuXG4gIHN0YXRpYyBnZXRBY3RvckZyb21Ub2tlbiAodG9rZW5LZXkpIHtcbiAgICBjb25zdCB0b2tlbiA9IENvQzdDaGF0LmdldFRva2VuKHRva2VuS2V5KVxuICAgIHJldHVybiB0b2tlbiA/IHRva2VuLmFjdG9yIDogbnVsbFxuICB9XG5cbiAgc3RhdGljIGdldFRva2VuICh0b2tlbktleSkge1xuICAgIGlmICh0b2tlbktleSkge1xuICAgICAgY29uc3QgW3NjZW5lSWQsIHRva2VuSWRdID0gdG9rZW5LZXkuc3BsaXQoJy4nKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgY29uc3QgdG9rZW5Eb2MgPSBnYW1lLmFjdG9ycy50b2tlbnNbdG9rZW5JZF0/LnRva2VuXG4gICAgICAgIHJldHVybiB0b2tlbkRvYy5vYmplY3QgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgICBpZiAoIXNjZW5lKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCB0b2tlbiA9IHNjZW5lLmdldEVtYmVkZGVkRG9jdW1lbnQoJ1Rva2VuJywgdG9rZW5JZClcbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGxcbiAgICAgICAgcmV0dXJuIHRva2VuIHx8IG5ldyBUb2tlbih0b2tlbkRhdGEpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogdXBkYXRlIGEgY2hhdCBtZXNzYWdlIHdpdGggYSBuZXcgSFRNTCBjb250ZW50IGFuZCBwb3B1bGF0ZSBpdC5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2FyZFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZUNoYXRDYXJkIChjYXJkLCBtZXNzSWQgPSBudWxsKSB7XG4gICAgY29uc3QgbWVzc2FnZUlkID1cbiAgICAgIG1lc3NJZCA9PSBudWxsID8gY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpLmRhdGFzZXQubWVzc2FnZUlkIDogbWVzc0lkXG4gICAgY29uc3QgbWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZClcblxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IG1lc3NhZ2UudXBkYXRlKHsgY29udGVudDogY2FyZC5vdXRlckhUTUwgfSlcbiAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICByZXR1cm4gbXNnXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX29uQ2hhdENhcmRBY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gY29uc29sZS5sb2coJy0tPkNvQzdDaGF0Ll9vbkNoYXRDYXJkQWN0aW9uJyk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgYnV0dG9uID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGNhcmQgPSBidXR0b24uY2xvc2VzdCgnLmNoYXQtY2FyZCcpXG4gICAgaWYgKCFjYXJkKSByZXR1cm5cbiAgICBjb25zdCBvcmlnaW5NZXNzYWdlID0gYnV0dG9uLmNsb3Nlc3QoJy5tZXNzYWdlJylcbiAgICAvLyBjb25zdCBtZXNzYWdlSWQgPSBvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkO1xuICAgIGNvbnN0IGFjdGlvbiA9IGJ1dHRvbi5kYXRhc2V0LmFjdGlvblxuXG4gICAgaWYgKCFDb0M3Q2hhdC5fZ2V0Q2hhdENhcmRBY3RvcihjYXJkKSkgcmV0dXJuXG5cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAndXNlTHVjayc6IHtcbiAgICAgICAgY29uc3QgbHVja0Ftb3VudCA9IHBhcnNlSW50KGJ1dHRvbi5kYXRhc2V0Lmx1Y2tBbW91bnQpXG4gICAgICAgIGNvbnN0IG5ld1N1Y2Nlc3NMZXZlbCA9IHBhcnNlSW50KFxuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5uZXdTdWNjZXNzTGV2ZWxcbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnbWVsZWUnKSkge1xuICAgICAgICAgIGxldCBtZWxlZUNhcmRcbiAgICAgICAgICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3RhcmdldCcpKSB7XG4gICAgICAgICAgICBtZWxlZUNhcmQgPSBDb0M3TWVsZWVUYXJnZXQuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbml0aWF0b3InKSkge1xuICAgICAgICAgICAgbWVsZWVDYXJkID0gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgICAgfVxuICAgICAgICAgIG1lbGVlQ2FyZC51cGdyYWRlUm9sbChsdWNrQW1vdW50LCBuZXdTdWNjZXNzTGV2ZWwsIGNhcmQpIC8vIFRPRE8gOiBDaGVjayBpZiB0aGlzIG5lZWRzIHRvIGJlIGFzeW5jXG4gICAgICAgIH0gZWxzZSBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JhbmdlJykpIHtcbiAgICAgICAgICBjb25zdCByYW5nZUNhcmQgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgICBjb25zdCByb2xsUmVzdWx0ID0gYnV0dG9uLmNsb3Nlc3QoJy5yb2xsLXJlc3VsdCcpXG4gICAgICAgICAgY29uc3Qgcm9sbEluZGV4ID0gcm9sbFJlc3VsdFxuICAgICAgICAgICAgPyBwYXJzZUludChyb2xsUmVzdWx0LmRhdGFzZXQuaW5kZXgpXG4gICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygncGFzcy1jaGVjaycpKSB7XG4gICAgICAgICAgICByYW5nZUNhcmQucGFzc1JvbGwocm9sbEluZGV4KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB1cGdyYWRlSW5kZXggPSBwYXJzZUludChidXR0b24uZGF0YXNldC5pbmRleClcbiAgICAgICAgICAgIHJhbmdlQ2FyZC51cGdyYWRlUm9sbChyb2xsSW5kZXgsIHVwZ3JhZGVJbmRleCkgLy8gVE9ETyA6IENoZWNrIGlmIHRoaXMgbmVlZHMgdG8gYmUgYXN5bmNcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JvbGwtY2FyZCcpIHx8XG4gICAgICAgICAgY2FyZC5xdWVyeVNlbGVjdG9yKCcucm9sbC1yZXN1bHQnKSAhPSBudWxsXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Bhc3MtY2hlY2snKSkge1xuICAgICAgICAgICAgY29uc3QgbHVja0Ftb3VudCA9IHBhcnNlSW50KGJ1dHRvbi5kYXRhc2V0Lmx1Y2tBbW91bnQpXG4gICAgICAgICAgICBjaGVjay5mb3JjZVBhc3MobHVja0Ftb3VudClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdXBncmFkZUluZGV4ID0gcGFyc2VJbnQoYnV0dG9uLmRhdGFzZXQuaW5kZXgpXG4gICAgICAgICAgICBhd2FpdCBjaGVjay51cGdyYWRlQ2hlY2sodXBncmFkZUluZGV4KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBhY3RvciA9IENvQzdDaGF0Ll9nZXRDaGF0Q2FyZEFjdG9yKGNhcmQpXG4gICAgICAgICAgY29uc3QgZGV0YWlsZWRSZXN1bHRQbGFjZUhvbGRlciA9XG4gICAgICAgICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHQtZGV0YWlscycpXG5cbiAgICAgICAgICBpZiAoYWN0b3Iuc3BlbmRMdWNrKGx1Y2tBbW91bnQpKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXRvdGFsJylcbiAgICAgICAgICAgIGNhcmQuZGF0YXNldC5zdWNjZXNzTGV2ZWwgPSBuZXdTdWNjZXNzTGV2ZWxcbiAgICAgICAgICAgIGNhcmQuZGF0YXNldC5wcm9jZXNzZWQgPSAnZmFsc2UnIC8vIHRyaWdnZXIgMyB1cGRhdGVzIGRlIGNhcmRcbiAgICAgICAgICAgIHN3aXRjaCAobmV3U3VjY2Vzc0xldmVsKSB7XG4gICAgICAgICAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5yZWd1bGFyOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVndWxhclN1Y2Nlc3MnKVxuICAgICAgICAgICAgICAgIGRldGFpbGVkUmVzdWx0UGxhY2VIb2xkZXIuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGx1Y2tBbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlZ3VsYXJEaWZmaWN1bHR5JylcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuaGFyZDpcbiAgICAgICAgICAgICAgICByZXN1bHQuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmRTdWNjZXNzJylcbiAgICAgICAgICAgICAgICBkZXRhaWxlZFJlc3VsdFBsYWNlSG9sZGVyLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICAgICAnQ29DNy5Sb2xsUmVzdWx0Lkx1Y2tTcGVuZFRleHQnLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzTGV2ZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IYXJkRGlmZmljdWx0eScpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWU6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmlubmVyVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FeHRyZW1lU3VjY2VzcycpXG4gICAgICAgICAgICAgICAgZGV0YWlsZWRSZXN1bHRQbGFjZUhvbGRlci5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXh0cmVtZURpZmZpY3VsdHknKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5jcml0aWNhbDpcbiAgICAgICAgICAgICAgICByZXN1bHQuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICAgICAgICAgICAgZGV0YWlsZWRSZXN1bHRQbGFjZUhvbGRlci5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JpdGljYWxEaWZmaWN1bHR5JylcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuY2xhc3NMaXN0LnJlcGxhY2UoJ2ZhaWx1cmUnLCAnc3VjY2VzcycpXG4gICAgICAgICAgICByZXN1bHQuY2xhc3NMaXN0LnJlbW92ZSgnZnVtYmxlJylcbiAgICAgICAgICAgIGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtYnV0dG9ucycpLnJlbW92ZSgpXG4gICAgICAgICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXRvb2x0aXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgICBhd2FpdCBDb0M3Q2hhdC51cGRhdGVDaGF0Q2FyZChjYXJkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yTm90RW5vdWdoTHVjaycsIHtcbiAgICAgICAgICAgICAgICBhY3RvcjogYWN0b3IubmFtZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncHVzaCc6IHtcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNhcmQuY2xvbmVOb2RlKHRydWUpIC8vIFRPRE8gbm90IG5lY2Vzc2FyeVxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXRvdGFsJylcbiAgICAgICAgcmVzdWx0LmlubmVyVGV4dCA9XG4gICAgICAgICAgcmVzdWx0LmlubmVyVGV4dCArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5QdXNoaW5nU2tpbGwnKVxuICAgICAgICByZXN1bHQuY2xhc3NMaXN0LnJlbW92ZSgnZmFpbHVyZScpXG4gICAgICAgIG5ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtYnV0dG9ucycpLnJlbW92ZSgpXG4gICAgICAgIG5ld0NhcmQuZGF0YXNldC5wdXNoZWRSb2xsID0gdHJ1ZVxuICAgICAgICBhd2FpdCBDb0M3Q2hhdC51cGRhdGVDaGF0Q2FyZChuZXdDYXJkLCBvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkKVxuICAgICAgICBhd2FpdCBDb0M3Q2hlY2sucHVzaChjYXJkKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnZGVmZW5kaW5nJzoge1xuICAgICAgICBsZXQgZGVmZW5kZXJLZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5kZWZlbmRlci1hY3Rpb24tc2VsZWN0JylcbiAgICAgICAgICAuZGF0YXNldC50b2tlbklkXG4gICAgICAgIGxldCBkZWZlbmRlclxuICAgICAgICBpZiAoIWRlZmVuZGVyS2V5KSB7XG4gICAgICAgICAgZGVmZW5kZXJLZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5kZWZlbmRlci1hY3Rpb24tc2VsZWN0JylcbiAgICAgICAgICAgIC5kYXRhc2V0LmFjdG9ySWRcbiAgICAgICAgICBkZWZlbmRlciA9IGdhbWUuYWN0b3JzLmdldChkZWZlbmRlcktleSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlbmRlciA9IHRoaXMuZ2V0QWN0b3JGcm9tVG9rZW4oZGVmZW5kZXJLZXkpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXNwb25zZVR5cGUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uVHlwZVxuICAgICAgICBjb25zdCBvdXRudW1iZXJlZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5vdXRudW1iZXJlZCA9PT0gJ3RydWUnXG4gICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICAgIGNoZWNrLnJlZmVyZW5jZU1lc3NhZ2VJZCA9IG9yaWdpbk1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWRcbiAgICAgICAgY2hlY2sucm9sbFR5cGUgPSAnb3Bwb3NlZCdcbiAgICAgICAgY2hlY2suc2lkZSA9ICd0YXJnZXQnXG4gICAgICAgIGNoZWNrLmFjdGlvbiA9IHJlc3BvbnNlVHlwZVxuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlVHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2RvZGdpbmcnOlxuICAgICAgICAgICAgY2hlY2suYWN0b3IgPSBkZWZlbmRlclxuICAgICAgICAgICAgY2hlY2suc2tpbGwgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZFxuICAgICAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgICAgICAgaWYgKG91dG51bWJlcmVkKSBjaGVjay5kaWNlTW9kaWZpZXIgPSAtMVxuXG4gICAgICAgICAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICAgICAgICAgIGNoZWNrLnRvTWVzc2FnZSgpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2ZpZ2h0QmFjayc6XG4gICAgICAgICAgICBjaGVjay5hY3RvciA9IGRlZmVuZGVyXG4gICAgICAgICAgICBjaGVjay5za2lsbCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbElkXG4gICAgICAgICAgICBjaGVjay5kaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgICAgICAgICBjaGVjay5pdGVtID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0Lml0ZW1JZFxuICAgICAgICAgICAgaWYgKG91dG51bWJlcmVkKSBjaGVjay5kaWNlTW9kaWZpZXIgPSAtMVxuXG4gICAgICAgICAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICAgICAgICAgIGNoZWNrLnRvTWVzc2FnZSgpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ21hbmV1dmVyJzoge1xuICAgICAgICAgICAgY29uc3QgYWN0b3IgPSBDb0M3Q2hhdC5fZ2V0Q2hhdENhcmRBY3RvcihjYXJkKVxuICAgICAgICAgICAgaWYgKGRlZmVuZGVyLmJ1aWxkIDw9IGFjdG9yLmJ1aWxkIC0gMykge1xuICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvck1hbmV1dmVyTm90UG9zc2libGUnKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2suYWN0b3IgPSBkZWZlbmRlclxuICAgICAgICAgICAgY2hlY2suc2tpbGwgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZFxuICAgICAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgICAgICAgaWYgKG91dG51bWJlcmVkKSBjaGVjay5kaWNlTW9kaWZpZXIgPSAtMVxuICAgICAgICAgICAgaWYgKGRlZmVuZGVyLmJ1aWxkIDwgYWN0b3IuYnVpbGQpIHtcbiAgICAgICAgICAgICAgY2hlY2suZGljZU1vZGlmaWVyID1cbiAgICAgICAgICAgICAgICBjaGVjay5kaWNlTW9kaWZpZXIgLSAoYWN0b3IuYnVpbGQgLSBkZWZlbmRlci5idWlsZClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoZWNrLmRpY2VNb2RpZmllciA8IC0yKSB7XG4gICAgICAgICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPVxuICAgICAgICAgICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgKyBNYXRoLmFicyhjaGVjay5kaWNlTW9kaWZpZXIpIC0gMlxuICAgICAgICAgICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSAtMlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICAgICAgICAgIGNoZWNrLnRvTWVzc2FnZSgpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdtZWxlZS1pbml0aWF0b3Itcm9sbCc6IHtcbiAgICAgICAgY29uc3QgaW5pdGlhdG9yID0gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgaW5pdGlhdG9yLnBlcmZvcm1Ta2lsbENoZWNrKFxuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbFxuICAgICAgICApXG4gICAgICAgICQoYnV0dG9uKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpXG4gICAgICAgIGF3YWl0IENvQzdEaWNlLnNob3dSb2xsRGljZTNkKGNoZWNrLmRpY2Uucm9sbClcbiAgICAgICAgYXdhaXQgaW5pdGlhdG9yLnB1Ymxpc2hDaGVja1Jlc3VsdCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ21lbGVlLXRhcmdldC1uby1yZXNwb25zZSc6IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gQ29DN01lbGVlVGFyZ2V0LmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGF3YWl0IHRhcmdldC5wdWJsaXNoTm9SZXBvbnNlUmVzdWx0KClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnbWVsZWUtdGFyZ2V0LXJvbGwnOiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IENvQzdNZWxlZVRhcmdldC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBjb25zdCBjaGVjayA9IGF3YWl0IHRhcmdldC5wZXJmb3JtU2tpbGxDaGVjayhcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxcbiAgICAgICAgKVxuICAgICAgICAkKGJ1dHRvbikucHJvcCgnZGlzYWJsZWQnLCB0cnVlKVxuICAgICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZChjaGVjay5kaWNlLnJvbGwpXG4gICAgICAgIGF3YWl0IHRhcmdldC5wdWJsaXNoQ2hlY2tSZXN1bHQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncm9sbC1tZWxlZS1kYW1hZ2UnOiB7XG4gICAgICAgIGNvbnN0IGRhbWFnZUNoYXRDYXJkID0gbmV3IERhbWFnZUNhcmQoe1xuICAgICAgICAgIGNyaXRpY2FsOiBidXR0b24uZGF0YXNldC5jcml0aWNhbCA9PT0gJ3RydWUnLFxuICAgICAgICAgIGZhc3RGb3J3YXJkOiBldmVudC5zaGlmdEtleVxuICAgICAgICB9KVxuICAgICAgICBkYW1hZ2VDaGF0Q2FyZC5hY3RvcktleSA9IGJ1dHRvbi5kYXRhc2V0LmRlYWxlclxuICAgICAgICBkYW1hZ2VDaGF0Q2FyZC50YXJnZXRLZXkgPSBidXR0b24uZGF0YXNldC50YXJnZXRcbiAgICAgICAgZGFtYWdlQ2hhdENhcmQuaXRlbUlkID0gYnV0dG9uLmRhdGFzZXQud2VhcG9uXG4gICAgICAgIGlmIChvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkKSB7XG4gICAgICAgICAgZGFtYWdlQ2hhdENhcmQubWVzc2FnZUlkID0gb3JpZ2luTWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZFxuICAgICAgICB9XG4gICAgICAgIGRhbWFnZUNoYXRDYXJkLnVwZGF0ZUNoYXRDYXJkKClcblxuICAgICAgICAvLyBjb25zdCBkYW1hZ2VDYXJkID0gbmV3IENvQzdEYW1hZ2VSb2xsKFxuICAgICAgICAvLyAgYnV0dG9uLmRhdGFzZXQud2VhcG9uLFxuICAgICAgICAvLyAgYnV0dG9uLmRhdGFzZXQuZGVhbGVyLFxuICAgICAgICAvLyAge1xuICAgICAgICAvLyAgICB0YXJnZXRLZXk6IGJ1dHRvbi5kYXRhc2V0LnRhcmdldCxcbiAgICAgICAgLy8gICAgY3JpdGljYWw6ICd0cnVlJyA9PSBidXR0b24uZGF0YXNldC5jcml0aWNhbCxcbiAgICAgICAgLy8gICAgZmFzdEZvcndhcmQ6IGV2ZW50LnNoaWZ0S2V5XG4gICAgICAgIC8vICB9KTtcbiAgICAgICAgLy8gaWYoIG9yaWdpbk1lc3NhZ2UuZGF0YXNldC5tZXNzYWdlSWQpIGRhbWFnZUNhcmQubWVzc2FnZUlkID0gb3JpZ2luTWVzc2FnZS5kYXRhc2V0Lm1lc3NhZ2VJZDtcbiAgICAgICAgLy8gZGFtYWdlQ2FyZC5yb2xsRGFtYWdlKCk7XG4gICAgICAgIC8vIGlmKCBvcmlnaW5NZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkKSB7XG4gICAgICAgIC8vICBmb3IgKGNvbnN0IGIgb2YgY2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZC1idXR0b25zJykpIHsgYi5yZW1vdmUoKSB9XG4gICAgICAgIC8vICBhd2FpdCBDb0M3Q2hhdC51cGRhdGVDaGF0Q2FyZCggY2FyZCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3JhbmdlLWluaXRpYXRvci1zaG9vdCc6IHtcbiAgICAgICAgY29uc3QgcmFuZ2VJbml0aWF0b3IgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgcmFuZ2VJbml0aWF0b3IuYWRkU2hvdEF0Q3VycmVudFRhcmdldCgpXG4gICAgICAgIGF3YWl0IHJhbmdlSW5pdGlhdG9yLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3JhbmdlLWluaXRpYXRvci1yb2xsJzoge1xuICAgICAgICBjb25zdCByYW5nZUluaXRpYXRvciA9IENvQzdSYW5nZUluaXRpYXRvci5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCByYW5nZUluaXRpYXRvci5yZXNvbHZlQ2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdyb2xsLXJhbmdlLWRhbWFnZSc6IHtcbiAgICAgICAgY29uc3QgcmFuZ2VJbml0aWF0b3IgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgcmFuZ2VJbml0aWF0b3Iucm9sbERhbWFnZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICdkZWFsLW1lbGVlLWRhbWFnZSc6IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FyZC5kYXRhc2V0LnRhcmdldEtleVxuICAgICAgICBjb25zdCBhbW91bnQgPSBjYXJkLmRhdGFzZXQucmVzdWx0XG4gICAgICAgIGNvbnN0IHRhcmdldEFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkodGFyZ2V0S2V5KSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgICAgYXdhaXQgdGFyZ2V0QWN0b3IuZGVhbERhbWFnZShhbW91bnQpXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWJ1dHRvbnMnKVxuICAgICAgICBjb25zdCBkaWNlVG90YWwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXRvdGFsJylcbiAgICAgICAgJChkaWNlVG90YWwpLmFwcGVuZCgnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+JylcbiAgICAgICAgaWYgKGJ1dHRvbnMpIGJ1dHRvbnMucmVtb3ZlKClcbiAgICAgICAgYXdhaXQgQ29DN0NoYXQudXBkYXRlQ2hhdENhcmQoY2FyZClcblxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdkZWFsLXJhbmdlLWRhbWFnZSc6IHtcbiAgICAgICAgY29uc3QgcmFuZ2VJbml0aWF0b3IgPSBDb0M3UmFuZ2VJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgYXdhaXQgcmFuZ2VJbml0aWF0b3IuZGVhbERhbWFnZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3Rlc3RjaGVjayc6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY2hlY2suZm9yY2VQYXNzKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZm9yY2UtcGFzcyc6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY2hlY2suZm9yY2VQYXNzKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZm9yY2UtZmFpbCc6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY2hlY2suZm9yY2VGYWlsKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnaW5jcmVhc2Utc3VjY2Vzcy1sZXZlbCc6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY2hlY2suaW5jcmVhc2VTdWNjZXNzTGV2ZWwoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdkZWNyZWFzZS1zdWNjZXNzLWxldmVsJzoge1xuICAgICAgICBjb25zdCBjaGVjayA9IGF3YWl0IENvQzdDaGVjay5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBjaGVjay5kZWNyZWFzZVN1Y2Nlc3NMZXZlbCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JldmVhbC1jaGVjayc6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY2hlY2suaXNCbGluZCA9IGZhbHNlXG4gICAgICAgIGNoZWNrLmNvbXB1dGVDaGVjaygpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0N0cmxLZXkoZXZlbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIGNoZWNrLnVwZGF0ZUNoYXRDYXJkKHsgbWFrZVB1YmxpYzogdHJ1ZSB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrLnVwZGF0ZUNoYXRDYXJkKHsgbWFrZVB1YmxpYzogdHJ1ZSB9KVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JvbGwtY2hlY2stY2FyZCc6IHtcbiAgICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgICAgY2hlY2suc3RhbmRieSA9IGZhbHNlXG4gICAgICAgIGF3YWl0IGNoZWNrLl9wZXJmb3JtKClcbiAgICAgICAgY2hlY2sudXBkYXRlQ2hhdENhcmQoeyBmb3JjZVJvbGw6IHRydWUgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZmxhZy1mb3ItZGV2ZWxvcG1lbnQnOiB7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgQ29DN0NoZWNrLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGF3YWl0IGNoZWNrLmZsYWdGb3JEZXZlbG9wZW1lbnQoKVxuICAgICAgICBjaGVjay5jb21wdXRlQ2hlY2soKVxuICAgICAgICBjaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3Jlc2V0LWNyZWF0dXJlLXNhbi1kYXRhJzoge1xuICAgICAgICBjb25zdCBzYW5DaGVjayA9IFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCBzYW5DaGVjay5jbGVhclNhbkxvc3NSZWFzb24oKVxuICAgICAgICBhd2FpdCBzYW5DaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3JvbGwtc2FuLWNoZWNrJzoge1xuICAgICAgICBjb25zdCBzYW5DaGVjayA9IFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCBzYW5DaGVjay5yb2xsU2FuKClcbiAgICAgICAgYXdhaXQgc2FuQ2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdhZHZhbmNlLXN0YXRlJzoge1xuICAgICAgICBjb25zdCBzYW5DaGVjayA9IFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCBzYW5DaGVjay5hZHZhbmNlU3RhdGUoXG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQuc3RhdGUgLyosIGJ1dHRvbi5kYXRhc2V0LnBhcmFtICovXG4gICAgICAgIClcbiAgICAgICAgYXdhaXQgc2FuQ2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyb2xsLXNhbi1sb3NzJzoge1xuICAgICAgICBjb25zdCBzYW5DaGVjayA9IFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCBzYW5DaGVjay5yb2xsU2FuTG9zcygpXG4gICAgICAgIHNhbkNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncm9sbC1pbnQtY2hlY2snOiB7XG4gICAgICAgIGNvbnN0IHNhbkNoZWNrID0gU2FuQ2hlY2tDYXJkLmdldEZyb21DYXJkKGNhcmQpXG4gICAgICAgIGF3YWl0IHNhbkNoZWNrLnJvbGxJbnQoKVxuICAgICAgICBzYW5DaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIC8vIGNhc2UgJ2FwcGx5LXNhbi1sb3NzJzp7XG4gICAgICAvLyAgY29uc3Qgc2FuQ2hlY2sgPSBDb0M3U2FuQ2hlY2suZ2V0RnJvbUNhcmQoIGNhcmQpO1xuICAgICAgLy8gIGF3YWl0IHNhbkNoZWNrLmFwcGx5U2FuTG9zcygpO1xuICAgICAgLy8gIHNhbkNoZWNrLnVwZGF0ZUNoYXRDYXJkKCk7XG4gICAgICAvLyAgYnJlYWs7XG4gICAgICAvLyB9XG5cbiAgICAgIC8vIGNhc2UgJ3JldmVhbC1zYW4tY2hlY2snOntcbiAgICAgIC8vICBjb25zdCBzYW5DaGVjayA9IENvQzdTYW5DaGVjay5nZXRGcm9tQ2FyZCggY2FyZCk7XG4gICAgICAvLyAgc2FuQ2hlY2suaXNCbGluZCA9IGZhbHNlO1xuICAgICAgLy8gIHNhbkNoZWNrLnVwZGF0ZUNoYXRDYXJkKCk7XG4gICAgICAvLyAgYnJlYWs7XG4gICAgICAvLyB9XG5cbiAgICAgIGNhc2UgJ3JvbGwtY29uLWNoZWNrJzoge1xuICAgICAgICBjb25zdCBjb25DaGVjayA9IENvQzdDb25DaGVjay5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBhd2FpdCBjb25DaGVjay5yb2xsQ29uKClcbiAgICAgICAgY29uQ2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyZXZlYWwtY29uLWNoZWNrJzoge1xuICAgICAgICBjb25zdCBjb25DaGVjayA9IENvQzdDb25DaGVjay5nZXRGcm9tQ2FyZChjYXJkKVxuICAgICAgICBjb25DaGVjay5pc0JsaW5kID0gZmFsc2VcbiAgICAgICAgY29uQ2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdG9nZ2xpbmcgdGhlIHZpc2liaWxpdHkgb2YgY2hhdCBjYXJkIGNvbnRlbnQgd2hlbiB0aGUgbmFtZSBpcyBjbGlja2VkXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50ICAgVGhlIG9yaWdpbmF0aW5nIGNsaWNrIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX29uQ2hhdENhcmRUb2dnbGVDb250ZW50IChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBoZWFkZXIgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgY2FyZCA9IGhlYWRlci5jbG9zZXN0KCcuY2hhdC1jYXJkJylcbiAgICBjb25zdCBjb250ZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250ZW50JylcbiAgICBpZiAoY29udGVudCkge1xuICAgICAgaWYgKCFjb250ZW50LnN0eWxlLmRpc3BsYXkpIHtcbiAgICAgICAgY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudC5zdHlsZS5kaXNwbGF5ID1cbiAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBDaGF0TWVzc2FnZSwgZ2FtZSwgcmVuZGVyVGVtcGxhdGUsIHVpICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIENvQzdSb2xsIH0gZnJvbSAnLi4vaGVscGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXQgfSBmcm9tICcuLi8uLi9jaGF0LmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlUmVzb2x0aW9uIH0gZnJvbSAnLi9tZWxlZS1yZXNvbHV0aW9uLmpzJ1xuaW1wb3J0IHsgQ2hhdENhcmRBY3RvciB9IGZyb20gJy4uL2NhcmQtYWN0b3IuanMnXG5cbi8vIFRPRE8gOiByw6ljdXDDqXJlciBsZSBqZXQgZW4gdGFudCBxdSdvYmpldCAhISFcbmV4cG9ydCBjbGFzcyBDb0M3TWVsZWVJbml0aWF0b3IgZXh0ZW5kcyBDaGF0Q2FyZEFjdG9yIHtcbiAgY29uc3RydWN0b3IgKGFjdG9yS2V5ID0gbnVsbCwgaXRlbUlkID0gbnVsbCwgZmFzdEZvcndhcmQgPSBmYWxzZSkge1xuICAgIHN1cGVyKGFjdG9yS2V5LCBmYXN0Rm9yd2FyZClcbiAgICB0aGlzLml0ZW1JZCA9IGl0ZW1JZFxuICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZVxuICAgIHRoaXMub3V0bnVtYmVyZWQgPSBmYWxzZVxuICAgIHRoaXMuc3VycHJpc2VkID0gZmFsc2VcbiAgICB0aGlzLmF1dG9TdWNjZXNzID0gZmFsc2VcbiAgICB0aGlzLmFkdmFudGFnZSA9IGZhbHNlXG4gICAgdGhpcy5kaXNhZHZhbnRhZ2UgPSBmYWxzZVxuICAgIHRoaXMubWVzc2FnZUlkID0gbnVsbFxuICAgIHRoaXMudGFyZ2V0Q2FyZCA9IG51bGxcbiAgICB0aGlzLnJvbGxlZCA9IGZhbHNlXG4gIH1cblxuICBnZXQgdGVtcGxhdGUgKCkge1xuICAgIHJldHVybiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L2NvbWJhdC9tZWxlZS1pbml0aWF0b3IuaHRtbCdcbiAgfVxuXG4gIGFzeW5jIHJldmVhbENoZWNrICgpIHtcbiAgICAvLyBUT0RPIDogb24gdXRpbGlzZSBsJ3VwZGF0ZSBkdSBtZXNzYWdlIGF1IGxpZXUgZGUgcmVjb25zdHJ1aXJlIGwnb2JqZXQuIENoYW5nZXIgY2UgY29tcG9ydGVtZW50LlxuICAgIGNvbnN0IGNoYXRNZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5tZXNzYWdlSWQpXG5cbiAgICBhd2FpdCBjaGF0TWVzc2FnZS5zZXRGbGFnKCdDb0M3JywgJ2NoZWNrUmV2ZWFsZWQnLCB0cnVlKVxuICAgIGF3YWl0IHVpLmNoYXQudXBkYXRlTWVzc2FnZShjaGF0TWVzc2FnZSwgZmFsc2UpXG4gIH1cblxuICBhc3luYyBjcmVhdGVDaGF0Q2FyZCAoKSB7XG4gICAgY2hhdEhlbHBlci5nZXRBY3RvckltZ0Zyb21LZXkodGhpcy5hY3RvcktleSlcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcblxuICAgIGNvbnN0IHNwZWFrZXJEYXRhID0ge31cbiAgICBpZiAodGhpcy50b2tlbikgc3BlYWtlckRhdGEudG9rZW4gPSB0aGlzXG4gICAgZWxzZSBzcGVha2VyRGF0YS5hY3RvciA9IHRoaXNcbiAgICBjb25zdCBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcihzcGVha2VyRGF0YSlcblxuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmFjdG9yLnVzZXIgPyB0aGlzLmFjdG9yLnVzZXIgOiBnYW1lLnVzZXJcblxuICAgIGNvbnN0IGNoYXREYXRhID0ge1xuICAgICAgdXNlcjogdXNlci5pZCxcbiAgICAgIHNwZWFrZXIsXG4gICAgICBjb250ZW50OiBodG1sXG4gICAgfVxuXG4gICAgaWYgKFsnZ21yb2xsJywgJ2JsaW5kcm9sbCddLmluY2x1ZGVzKHRoaXMucm9sbE1vZGUpKSB7XG4gICAgICBjaGF0RGF0YS53aGlzcGVyID0gQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJylcbiAgICB9XG4gICAgLy8gaWYgKCB0aGlzLmlzQmxpbmQgKSBjaGF0RGF0YVsnYmxpbmQnXSA9IHRydWU7XG4gICAgY2hhdERhdGEuYmxpbmQgPSBmYWxzZVxuXG4gICAgY29uc3QgY2hhdE1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoY2hhdERhdGEpXG5cbiAgICByZXR1cm4gY2hhdE1lc3NhZ2VcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNoYXRDYXJkICgpIHtcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcylcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcblxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IG1lc3NhZ2UudXBkYXRlKHsgY29udGVudDogaHRtbCB9KVxuICAgIGF3YWl0IHVpLmNoYXQudXBkYXRlTWVzc2FnZShtc2csIGZhbHNlKVxuICAgIHJldHVybiBtc2dcbiAgfVxuXG4gIHRvZ2dsZUZsYWcgKGZsYWdOYW1lKSB7XG4gICAgY29uc3QgZmxhZyA9IGZsYWdOYW1lLmluY2x1ZGVzKCctJylcbiAgICAgID8gY2hhdEhlbHBlci5oeXBoZW5Ub0NhbWVsQ2FzZShmbGFnTmFtZSlcbiAgICAgIDogZmxhZ05hbWVcbiAgICB0aGlzW2ZsYWddID0gIXRoaXNbZmxhZ11cbiAgfVxuXG4gIGFzeW5jIHBlcmZvcm1Ta2lsbENoZWNrIChza2lsbElkID0gbnVsbCwgcHVibGlzaCA9IGZhbHNlKSB7XG4gICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICAvLyBDb21iYXQgcm9sbCBjYW5ub3QgYmUgYmxpbmQgb3IgdW5rbm93blxuICAgIGNoZWNrLmlzQmxpbmQgPSBmYWxzZVxuICAgIGNoZWNrLmlzVW5rb253biA9IGZhbHNlXG4gICAgY2hlY2sucmVmZXJlbmNlTWVzc2FnZUlkID0gdGhpcy5tZXNzYWdlSWRcbiAgICBjaGVjay5yb2xsVHlwZSA9ICdvcHBvc2VkJ1xuICAgIGNoZWNrLnNpZGUgPSAnaW5pdGlhdG9yJ1xuICAgIGNoZWNrLmFjdGlvbiA9ICdhdHRhY2snXG4gICAgY2hlY2suYWN0b3IgPSB0aGlzLmFjdG9yS2V5XG4gICAgY2hlY2suaXRlbSA9IHRoaXMuaXRlbUlkXG4gICAgY2hlY2suc2tpbGwgPSBza2lsbElkXG4gICAgY2hlY2suZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IDBcblxuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkgdGhpcy5jaGVja1JldmVhbGVkID0gZmFsc2VcbiAgICBlbHNlIHRoaXMuY2hlY2tSZXZlYWxlZCA9IHRydWVcblxuICAgIGlmICh0aGlzLm91dG51bWJlcmVkKSBjaGVjay5kaWNlTW9kaWZpZXIgKz0gMVxuICAgIGlmICh0aGlzLnN1cnByaXNlZCkgY2hlY2suZGljZU1vZGlmaWVyICs9IDFcbiAgICBpZiAodGhpcy5kaXNhZHZhbnRhZ2UpIGNoZWNrLmRpY2VNb2RpZmllciAtPSAxXG4gICAgaWYgKHRoaXMuYWR2YW50YWdlKSBjaGVjay5kaWNlTW9kaWZpZXIgKz0gMVxuXG4gICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgdGhpcy5jaGVjayA9IGNoZWNrXG4gICAgdGhpcy5yb2xsZWQgPSB0cnVlXG4gICAgdGhpcy5yZXNvbHZlZCA9IHRydWVcbiAgICBpZiAocHVibGlzaCkgY2hlY2sudG9NZXNzYWdlKClcblxuICAgIHRoaXMuY3JpdGljYWxEYW1hZ2UgPVxuICAgICAgY2hlY2suc3VjY2Vzc0xldmVsID09PSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWUgfHxcbiAgICAgIGNoZWNrLnN1Y2Nlc3NMZXZlbCA9PT0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5jcml0aWNhbFxuICAgIGlmICh0aGlzLmhhc1RhcmdldCAmJiAhdGhpcy5hdXRvU3VjY2Vzcykge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IGdhbWUuQ29DN3NvY2tldC5leGVjdXRlQXNHTSgnZ21jcmVhdGVtZXNzYWdlYXMnLCB7XG4gICAgICAgIHRhcmdldEtleTogdGhpcy50YXJnZXRLZXksXG4gICAgICAgIG1lc3NhZ2VJZDogdGhpcy5tZXNzYWdlSWQsXG4gICAgICAgIGZhc3RGb3J3YXJkOiB0aGlzLmZhc3RGb3J3YXJkLFxuICAgICAgICBhY3RvcktleTogdGhpcy5hY3RvcktleVxuICAgICAgfSlcbiAgICAgIHRoaXMudGFyZ2V0Q2FyZCA9IG1lc3NhZ2UuaWQgfHwgbWVzc2FnZS5faWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hdXRvU3VjY2VzcyAmJiAhdGhpcy5jaGVjay5pc0Z1bWJsZSkge1xuICAgICAgdGhpcy5jaGVjay5mb3JjZVBhc3MoKVxuICAgIH1cbiAgICByZXR1cm4gY2hlY2tcbiAgfVxuXG4gIGFzeW5jIHB1Ymxpc2hDaGVja1Jlc3VsdCAoY2hlY2sgPSBudWxsKSB7XG4gICAgaWYgKCFjaGVjayAmJiAhdGhpcy5jaGVjaykgcmV0dXJuIG51bGxcblxuICAgIGlmIChjaGVjaykgdGhpcy5jaGVjayA9IGNoZWNrXG4gICAgdGhpcy5yb2xsID0gQ29DN1JvbGwuZ2V0RnJvbUNoZWNrKHRoaXMuY2hlY2spXG4gICAgdGhpcy5yb2xsZWQgPSB0cnVlXG5cbiAgICB0aGlzLnJvbGwucm9sbEljb25zID0gW11cbiAgICBpZiAodGhpcy5yb2xsLmNyaXRpY2FsKSB7XG4gICAgICB0aGlzLnJvbGwucm9sbENvbG9yID0gJ2dvbGRlbnJvZCdcbiAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JpdGljYWxTdWNjZXNzJylcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCA0OyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsSWNvbnMucHVzaCgnbWVkYWwnKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5yb2xsLmZ1bWJsZSkge1xuICAgICAgdGhpcy5yb2xsLnJvbGxDb2xvciA9ICdkYXJrcmVkJ1xuICAgICAgdGhpcy5yb2xsLnJvbGxUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GdW1ibGUnKVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDQ7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5yb2xsLnJvbGxJY29ucy5wdXNoKCdzcGlkZXInKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5yb2xsLnN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMucm9sbC5yb2xsQ29sb3IgPSAnZ29sZGVucm9kJ1xuICAgICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhciA9PT0gdGhpcy5yb2xsLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgICB0aGlzLnJvbGwucm9sbFRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlZ3VsYXJTdWNjZXNzJylcbiAgICAgIH1cbiAgICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQgPT09IHRoaXMucm9sbC5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgICAgdGhpcy5yb2xsLnJvbGxUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IYXJkU3VjY2VzcycpXG4gICAgICB9XG4gICAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lID09PSB0aGlzLnJvbGwuc3VjY2Vzc0xldmVsKSB7XG4gICAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXh0cmVtZVN1Y2Nlc3MnKVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucm9sbC5zdWNjZXNzTGV2ZWw7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5yb2xsLnJvbGxJY29ucy5wdXNoKCdzdGFyJylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yb2xsLnJvbGxDb2xvciA9ICdibGFjaydcbiAgICAgIHRoaXMucm9sbC5yb2xsVGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmFpbHVyZScpXG4gICAgICB0aGlzLnJvbGwucm9sbEljb25zLnB1c2goJ3NrdWxsJylcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudGFyZ2V0Q2FyZCAmJiAhdGhpcy5hdXRvU3VjY2VzcyAmJiB0aGlzLmhhc1RhcmdldCkge1xuICAgICAgY29uc3QgcmVzb2x1dGlvbkNhcmQgPSBuZXcgQ29DN01lbGVlUmVzb2x0aW9uKFxuICAgICAgICB0aGlzLnBhcmVudE1lc3NhZ2VJZCxcbiAgICAgICAgdGhpcy5tZXNzYWdlSWRcbiAgICAgIClcbiAgICAgIGNvbnN0IHJlc29sdXRpb25NZXNzYWdlID0gYXdhaXQgcmVzb2x1dGlvbkNhcmQucHJlQ3JlYXRlTWVzc2FnZSgpXG4gICAgICB0aGlzLnJlc29sdXRpb25DYXJkID0gcmVzb2x1dGlvbk1lc3NhZ2UuaWRcbiAgICB9XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbUNhcmQgKGNhcmQsIG1lc3NhZ2VJZCA9IG51bGwpIHtcbiAgICBjb25zdCBpbml0aWF0b3IgPSBuZXcgQ29DN01lbGVlSW5pdGlhdG9yKClcbiAgICBjaGF0SGVscGVyLmdldE9iamVjdEZyb21FbGVtZW50KGluaXRpYXRvciwgY2FyZClcbiAgICBpbml0aWF0b3Iucm9sbCA9IENvQzdSb2xsLmdldEZyb21DYXJkKGNhcmQpXG5cbiAgICBpZiAoY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpKSB7XG4gICAgICBpbml0aWF0b3IubWVzc2FnZUlkID0gY2FyZC5jbG9zZXN0KCcubWVzc2FnZScpLmRhdGFzZXQubWVzc2FnZUlkXG4gICAgfSBlbHNlIGluaXRpYXRvci5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcbiAgICByZXR1cm4gaW5pdGlhdG9yXG4gIH1cblxuICBzdGF0aWMgZ2V0RnJvbU1lc3NhZ2VJZCAobWVzc2FnZUlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZClcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiBudWxsXG4gICAgY29uc3QgY2FyZCA9ICQobWVzc2FnZS5jb250ZW50KVswXVxuXG4gICAgY29uc3QgaW5pdGlhdG9yID0gQ29DN01lbGVlSW5pdGlhdG9yLmdldEZyb21DYXJkKGNhcmQsIG1lc3NhZ2VJZClcbiAgICBpbml0aWF0b3IubWVzc2FnZUlkID0gbWVzc2FnZUlkXG5cbiAgICByZXR1cm4gaW5pdGlhdG9yXG4gIH1cblxuICBzdGF0aWMgdXBkYXRlQ2FyZFN3aXRjaCAoZXZlbnQsIHB1Ymxpc2hVcGRhdGUgPSB0cnVlKSB7XG4gICAgY29uc3QgY2FyZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLm1lbGVlLmluaXRpYXRvcicpXG4gICAgY29uc3QgZmxhZyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5mbGFnXG4gICAgY29uc3QgY2FtZWxGbGFnID0gY2hhdEhlbHBlci5oeXBoZW5Ub0NhbWVsQ2FzZShmbGFnKVxuXG4gICAgLy8gdXBkYXRlIG9ubHkgZm9yIGxvY2FsIHBsYXllclxuICAgIGlmICghcHVibGlzaFVwZGF0ZSkge1xuICAgICAgY2FyZC5kYXRhc2V0W2NhbWVsRmxhZ10gPSBjYXJkLmRhdGFzZXRbY2FtZWxGbGFnXSAhPT0gJ3RydWUnXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ3N3aXRjaGVkLW9uJylcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5zZWxlY3RlZCA9IGNhcmQuZGF0YXNldFtjYW1lbEZsYWddXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSBjYXJkIGZvciBhbGwgcGxheWVyXG4gICAgICBjb25zdCBpbml0aWF0b3IgPSBDb0M3TWVsZWVJbml0aWF0b3IuZ2V0RnJvbUNhcmQoY2FyZClcbiAgICAgIGluaXRpYXRvci50b2dnbGVGbGFnKGZsYWcpXG4gICAgICBpbml0aWF0b3IudXBkYXRlQ2hhdENhcmQoKVxuICAgIH1cbiAgfVxuXG4gIHVwZ3JhZGVSb2xsIChsdWNrQW1vdW50LCBuZXdTdWNjZXNzTGV2ZWwsIG9sZENhcmQpIHtcbiAgICAvLyBUT0RPIDogQ2hlY2sgaWYgdGhpcyBuZWVkcyB0byBiZSBhc3luY1xuICAgIGlmICghdGhpcy5hY3Rvci5zcGVuZEx1Y2sobHVja0Ftb3VudCkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTHVja05vdEVub3VnaCcsIHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmFjdG9yLm5hbWVcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG4gICAgdGhpcy5yb2xsLnZhbHVlID0gbnVsbFxuICAgIHRoaXMucm9sbC5zdWNjZXNzTGV2ZWwgPSBuZXdTdWNjZXNzTGV2ZWxcbiAgICB0aGlzLnJvbGwubHVja1NwZW50ID0gdHJ1ZVxuICAgIG9sZENhcmQuZGF0YXNldC5wcm9jZXNzZWQgPSBmYWxzZVxuXG4gICAgY29uc3QgZGljZVJvbGxzID0gb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS1yb2xsJylcbiAgICBkaWNlUm9sbHMuZGF0YXNldC52YWx1ZSA9IG51bGxcbiAgICBkaWNlUm9sbHMuZGF0YXNldC5zdWNjZXNzTGV2ZWwgPSBuZXdTdWNjZXNzTGV2ZWxcbiAgICBkaWNlUm9sbHMuZGF0YXNldC5sdWNrU3BlbnQgPSB0cnVlXG5cbiAgICBjb25zdCByZXN1bERldGFpbHMgPSBvbGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHQtZGV0YWlscycpXG4gICAgY29uc3QgZGljZVRvdGFsID0gb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcuZGljZS10b3RhbCcpXG4gICAgY29uc3Qgcm9sbERhbWFnZUJ1dHRvbiA9IG9sZENhcmQucXVlcnlTZWxlY3RvcihcbiAgICAgICdidXR0b25bZGF0YS1hY3Rpb249XCJyb2xsLW1lbGVlLWRhbWFnZVwiXSdcbiAgICApXG4gICAgaWYgKHJvbGxEYW1hZ2VCdXR0b24pIHJvbGxEYW1hZ2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaW52aXNpYmxlJylcblxuICAgIHN3aXRjaCAobmV3U3VjY2Vzc0xldmVsKSB7XG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhcjpcbiAgICAgICAgZGljZVRvdGFsLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyU3VjY2VzcycpXG4gICAgICAgIHJlc3VsRGV0YWlscy5pbm5lclRleHQgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICdDb0M3LlJvbGxSZXN1bHQuTHVja1NwZW5kVGV4dCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbHVja0Ftb3VudCxcbiAgICAgICAgICAgIHN1Y2Nlc3NMZXZlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlZ3VsYXJEaWZmaWN1bHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQ6XG4gICAgICAgIGRpY2VUb3RhbC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZFN1Y2Nlc3MnKVxuICAgICAgICByZXN1bERldGFpbHMuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAnQ29DNy5Sb2xsUmVzdWx0Lkx1Y2tTcGVuZFRleHQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGx1Y2tBbW91bnQsXG4gICAgICAgICAgICBzdWNjZXNzTGV2ZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IYXJkRGlmZmljdWx0eScpXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lOlxuICAgICAgICBpZiAocm9sbERhbWFnZUJ1dHRvbikgcm9sbERhbWFnZUJ1dHRvbi5kYXRhc2V0LmNyaXRpY2FsID0gdHJ1ZVxuICAgICAgICBkaWNlVG90YWwuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVTdWNjZXNzJylcbiAgICAgICAgcmVzdWxEZXRhaWxzLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXh0cmVtZURpZmZpY3VsdHknKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuY3JpdGljYWw6XG4gICAgICAgIGlmIChyb2xsRGFtYWdlQnV0dG9uKSByb2xsRGFtYWdlQnV0dG9uLmRhdGFzZXQuY3JpdGljYWwgPSB0cnVlXG4gICAgICAgIGRpY2VUb3RhbC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JpdGljYWxTdWNjZXNzJylcbiAgICAgICAgcmVzdWxEZXRhaWxzLmlubmVyVGV4dCA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgJ0NvQzcuUm9sbFJlc3VsdC5MdWNrU3BlbmRUZXh0JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsdWNrQW1vdW50LFxuICAgICAgICAgICAgc3VjY2Vzc0xldmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JpdGljYWxEaWZmaWN1bHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBkaWNlVG90YWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2ZhaWx1cmUnLCAnc3VjY2VzcycpXG4gICAgb2xkQ2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1idXR0b25zJykucmVtb3ZlKClcbiAgICBvbGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kaWNlLXRvb2x0aXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgQ29DN0NoYXQudXBkYXRlQ2hhdENhcmQob2xkQ2FyZCkgLy8gVE9ETyA6IENoZWNrIGlmIHRoaXMgbmVlZHMgdG8gYmUgYXN5bmNcbiAgfVxufVxuIiwiLyogZ2xvYmFsIEFjdG9yLCBBcHBsaWNhdGlvbiwgQ09ORklHLCBDT05TVCwgRGlhbG9nLCBEaWUsIGR1cGxpY2F0ZSwgZm91bmRyeSwgZnJvbVV1aWQsIGZyb21VdWlkU3luYywgZ2FtZSwgZ2V0UHJvcGVydHksIEhvb2tzLCBtZXJnZU9iamVjdCwgUm9sbCwgVGV4dEVkaXRvciwgVG9rZW4sIHVpICovXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXRNZXNzYWdlIH0gZnJvbSAnLi4vYXBwcy9jb2M3LWNoYXQtbWVzc2FnZS5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN0NvbkNoZWNrIH0gZnJvbSAnLi4vY2hhdC9jb25jaGVjay5qcydcbmltcG9ydCB7IFJvbGxEaWFsb2cgfSBmcm9tICcuLi9hcHBzL3JvbGwtZGlhbG9nLmpzJ1xuaW1wb3J0IHsgU2tpbGxTZWxlY3REaWFsb2cgfSBmcm9tICcuLi9hcHBzL3NraWxsLXNlbGVjdGlvbi1kaWFsb2cuanMnXG5pbXBvcnQgeyBQb2ludFNlbGVjdERpYWxvZyB9IGZyb20gJy4uL2FwcHMvcG9pbnQtc2VsZWN0aW9uLWRpYWxvZy5qcydcbmltcG9ydCB7IENoYXJhY1NlbGVjdERpYWxvZyB9IGZyb20gJy4uL2FwcHMvY2hhci1zZWxlY3Rpb24tZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ2hhcmFjUm9sbERpYWxvZyB9IGZyb20gJy4uL2FwcHMvY2hhci1yb2xsLWRpYWxvZy5qcydcbmltcG9ydCB7IFNraWxsU3BlY1NlbGVjdERpYWxvZyB9IGZyb20gJy4uL2FwcHMvc2tpbGwtc3BlYy1zZWxlY3QtZGlhbG9nLmpzJ1xuaW1wb3J0IHsgU2tpbGxTcGVjaWFsaXphdGlvblNlbGVjdERpYWxvZyB9IGZyb20gJy4uL2FwcHMvc2tpbGwtc3BlY2lhbGl6YXRpb24tc2VsZWN0LWRpYWxvZy5qcydcbmltcG9ydCB7IFNraWxsVmFsdWVEaWFsb2cgfSBmcm9tICcuLi9hcHBzL3NraWxsLXZhbHVlLWRpYWxvZy5qcydcbmltcG9ydCB7IENvQzdNZWxlZUluaXRpYXRvciB9IGZyb20gJy4uL2NoYXQvY29tYmF0L21lbGVlLWluaXRpYXRvci5qcydcbmltcG9ydCB7IENvQzdSYW5nZUluaXRpYXRvciB9IGZyb20gJy4uL2NoYXQvcmFuZ2Vjb21iYXQuanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyIH0gZnJvbSAnLi4vY2hhdC9oZWxwZXIuanMnXG5pbXBvcnQgeyBDb0M3RGljZSB9IGZyb20gJy4uL2RpY2UuanMnXG5pbXBvcnQgeyBDb0M3SXRlbSB9IGZyb20gJy4uL2l0ZW1zL2l0ZW0uanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzZSBBY3RvciBjbGFzcyB0byBpbXBsZW1lbnQgYWRkaXRpb25hbCBsb2dpYyBzcGVjaWFsaXplZCBmb3IgQ29DIDd0aC5cbiAqL1xuZXhwb3J0IGNsYXNzIENvQ0FjdG9yIGV4dGVuZHMgQWN0b3Ige1xuICAvKiogQ3JlYXRlIGRlcml2ZWQgZG9jdW1lbnQgY2xhc3NlcyBmb3Igc3BlY2lmaWMgSXRlbSB0eXBlcyAqL1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgY29udGV4dCkge1xuICAgIC8qKiBAc2VlIENPTkZJRy5BY3Rvci5kb2N1bWVudENsYXNzZXMgaW4gbW9kdWxlL3NjcmlwdHMvY29uZmlndXJlLWRvY3VtZW50cyAqL1xuICAgIGlmIChkYXRhLnR5cGUgaW4gQ09ORklHLkFjdG9yLmRvY3VtZW50Q2xhc3NlcyAmJiAhY29udGV4dD8uZXh0ZW5kZWQpIHtcbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB0aGUgY29uc3RydWN0b3IgZm9yIHRoZSBuZXcgY2xhc3Mgd2lsbCBjYWxsIGl0J3Mgc3VwZXIoKSxcbiAgICAgICAqIHRoZSBleHRlbmRlZCBmbGFnIHdpbGwgYmUgdHJ1ZSwgdGh1cyBieXBhc3NpbmcgdGhpcyB3aG9sZSBwcm9jZXNzXG4gICAgICAgKiBhbmQgcmVzdW1lIGRlZmF1bHQgYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIG5ldyBDT05GSUcuQWN0b3IuZG9jdW1lbnRDbGFzc2VzW2RhdGEudHlwZV0oZGF0YSwge1xuICAgICAgICAuLi57IGV4dGVuZGVkOiB0cnVlIH0sXG4gICAgICAgIC4uLmNvbnRleHRcbiAgICAgIH0pXG4gICAgfVxuICAgIC8vIGlmICh0eXBlb2YgZGF0YS5pbWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gICBpZiAoZGF0YS50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgLy8gICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvc2tpbGxzLnN2ZydcbiAgICAvLyAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnc3RhdHVzJykge1xuICAgIC8vICAgICBkYXRhLmltZyA9ICdpY29ucy9zdmcvYXVyYS5zdmcnXG4gICAgLy8gICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3dlYXBvbicpIHtcbiAgICAvLyAgICAgZGF0YS5pbWcgPSAnaWNvbnMvc3ZnL3N3b3JkLnN2ZydcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLyoqIERlZmF1bHQgYmVoYXZpb3IsIGp1c3QgY2FsbCBzdXBlcigpIGFuZCBkbyBhbGwgdGhlIGRlZmF1bHQgSXRlbSBpbml0cyAqL1xuICAgIHN1cGVyKGRhdGEsIGNvbnRleHQpXG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplICgpIHtcbiAgICBzdXBlci5pbml0aWFsaXplKClcbiAgICBhd2FpdCB0aGlzLmNyZWF0dXJlSW5pdCgpIC8vIFRPRE8gOiBtb3ZlIHRoaXMgaW4gQ29DQWN0b3IuY3JlYXRlKGRhdGEsIG9wdGlvbnMpXG4gIH1cblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqIFRlc3RpbmdcbiAgLy8gYXN5bmMgdXBkYXRlKGRhdGEsIG9wdGlvbnM9e30pIHtcbiAgLy8gICB1aS5ub3RpZmljYXRpb25zLmluZm8oJ3JldHVybiBzdXBlci51cGRhdGUoZGF0YSwgb3B0aW9ucyk7Jyk7XG4gIC8vICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKGBpbnQgOiAke3RoaXMuY2hhcmFjdGVyaXN0aWNzLmludH1gKTtcbiAgLy8gICB0aGlzLmNoYXJhY3RlcmlzdGljcy5pbnQgPSAxNTtcbiAgLy8gICB1aS5ub3RpZmljYXRpb25zLmluZm8oYG1vZGlmaWVkIGludCA6ICR7dGhpcy5jaGFyYWN0ZXJpc3RpY3MuaW50fWApO1xuICAvLyAgIHJldHVybiBzdXBlci51cGRhdGUoZGF0YSwgb3B0aW9ucyk7XG4gIC8vIH1cblxuICAvLyBnZXQgY2hhcmFjdGVyaXN0aWNzKCl7XG4gIC8vICAgY29uc3QgYWN0b3IgPSB0aGlzO1xuICAvLyAgICAgcmV0dXJuIHtcbiAgLy8gICAgICAgZ2V0IGludCgpe1xuICAvLyAgICAgICAgIHJldHVybiBhY3Rvci5nZXRQcm9wKCdfaW50Jyk7XG4gIC8vICAgICAgIH0sXG5cbiAgLy8gICAgICAgc2V0IGludCh4KXtcbiAgLy8gICAgICAgICBhY3Rvci5zZXRQcm9wKCdfaW50JywgeCk7XG4gIC8vICAgICAgIH1cbiAgLy8gICAgfTtcbiAgLy8gfVxuXG4gIC8vIHNldFByb3Aoa2V5LCB4KXtcbiAgLy8gICB0aGlzW2tleV0gPSB4O1xuICAvLyB9XG5cbiAgLy8gZ2V0UHJvcChrZXkpe1xuICAvLyAgIHJldHVybiB0aGlzW2tleV18fDA7XG4gIC8vIH1cbiAgLy9cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIFByZXBhcmUgZGF0YSByZWxhdGVkIHRvIHRoaXMgRG9jdW1lbnQgaXRzZWxmLCBiZWZvcmUgYW55IGVtYmVkZGVkIERvY3VtZW50cyBvciBkZXJpdmVkIGRhdGEgaXMgY29tcHV0ZWQuXG4gICAqIEBtZW1iZXJvZiBDbGllbnREb2N1bWVudE1peGluI1xuICAgKi9cbiAgcHJlcGFyZUJhc2VEYXRhICgpIHtcbiAgICBpZiAoWydjaGFyYWN0ZXInLCAnbnBjJywgJ2NyZWF0dXJlJ10uaW5jbHVkZXModGhpcy50eXBlKSkge1xuICAgICAgdGhpcy5zeXN0ZW0uc2tpbGxzID0ge31cbiAgICAgIGZvciAoY29uc3QgaSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICAgIGlmIChpLnR5cGUgIT09ICdza2lsbCcpIGNvbnRpbnVlXG4gICAgICAgIHRoaXMuc3lzdGVtLnNraWxsc1tgJHtpLml0ZW1JZGVudGlmaWVyfWBdID0geyBmb3VuZHJ5SUQ6IGkuaWQsIGNvY2lkOiBpLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmlkLCB2YWx1ZTogaS5yYXdWYWx1ZSwgYm9udXNEaWNlOiBpLnN5c3RlbS5ib251c0RpY2UgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgKiBSZW1vdmFsIG9mIDEvNSBzYW5pdHlcbiAgICAgKiB0aGlzIGlzIHRvIHJlbW92ZSB0aGVcbiAgICAgKiBhY3Rvci5kYXRhLmF0dHJpYnMuc2FuLm9uZUZpZnRoU2FuaXR5IHRvIGJlIHJlbW92ZWQgZnJvbSB0ZW1wbGF0ZVxuICAgICAqIGFuZCBpbmRlZmluaXRlSW5zYW5pdHlMZXZlbCB0byBiZSByZW1vdmVkIGZyb20gdGVtcGxhdGVcbiAgICAgKi9cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMaW1pdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLm9uZUZpZnRoU2FuaXR5KSB7XG4gICAgICAgICAgY29uc3QgcyA9IHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLm9uZUZpZnRoU2FuaXR5LnNwbGl0KCcvJylcbiAgICAgICAgICBpZiAoc1sxXSAmJiAhaXNOYU4oTnVtYmVyKHNbMV0pKSkge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMaW1pdCA9IE51bWJlcihzWzFdKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxpbWl0ID0gMFxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxpbWl0ID0gMFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHJldHVybiBjb21wdXRlZCB2YWx1ZXMgb3IgZml4ZWQgdmFsdWVzIGlmIG5vdCBhdXRvLlxuICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YudmFsdWUgPSB0aGlzLnJhd01vdlxuICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZSA9IHRoaXMucmF3RGJcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWUgPSB0aGlzLnJhd0J1aWxkXG5cbiAgICAgIC8vIEZvciB2ZWhpY2xlIG9ubHkgOlxuICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC5jdXJyZW50ID0gdGhpcy5ocFxuXG4gICAgICAvLyBpZiAoXG4gICAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLm1wLnZhbHVlID4gZGF0YS5kYXRhLmF0dHJpYnMubXAubWF4IHx8XG4gICAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLm1wLm1heCA9PSBudWxsXG4gICAgICAvLyApIHtcbiAgICAgIC8vICAgZGF0YS5kYXRhLmF0dHJpYnMubXAudmFsdWUgPSBkYXRhLmRhdGEuYXR0cmlicy5tcC5tYXhcbiAgICAgIC8vIH1cbiAgICAgIC8vIGlmIChcbiAgICAgIC8vICAgZGF0YS5kYXRhLmF0dHJpYnMuaHAudmFsdWUgPiBkYXRhLmRhdGEuYXR0cmlicy5ocC5tYXggfHxcbiAgICAgIC8vICAgZGF0YS5kYXRhLmF0dHJpYnMuaHAubWF4ID09IG51bGxcbiAgICAgIC8vICkge1xuICAgICAgLy8gICBkYXRhLmRhdGEuYXR0cmlicy5ocC52YWx1ZSA9IGRhdGEuZGF0YS5hdHRyaWJzLmhwLm1heFxuICAgICAgLy8gfVxuXG4gICAgLy8gaWYgKFxuICAgIC8vICAgZGF0YS5kYXRhLmF0dHJpYnMuaHAudmFsdWUgPT0gbnVsbCAmJlxuICAgIC8vICAgZGF0YS5kYXRhLmF0dHJpYnMuaHAubWF4ICE9IG51bGxcbiAgICAvLyApIHtcbiAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLmhwLnZhbHVlID0gZGF0YS5kYXRhLmF0dHJpYnMuaHAubWF4XG4gICAgLy8gfVxuICAgIC8vIGlmIChcbiAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLm1wLnZhbHVlID09IG51bGwgJiZcbiAgICAvLyAgIGRhdGEuZGF0YS5hdHRyaWJzLm1wLm1heCAhPSBudWxsXG4gICAgLy8gKSB7XG4gICAgLy8gICBkYXRhLmRhdGEuYXR0cmlicy5tcC52YWx1ZSA9IGRhdGEuZGF0YS5hdHRyaWJzLm1wLm1heFxuICAgIC8vIH1cbiAgICB9XG4gICAgc3VwZXIucHJlcGFyZUJhc2VEYXRhKClcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogUHJlcGFyZSBhbGwgZW1iZWRkZWQgRG9jdW1lbnQgaW5zdGFuY2VzIHdoaWNoIGV4aXN0IHdpdGhpbiB0aGlzIHByaW1hcnkgRG9jdW1lbnQuXG4gICAqIEBtZW1iZXJvZiBDbGllbnREb2N1bWVudE1peGluI1xuICAgKiBhY3RpdmUgZWZmZWN0cyBhcmUgYXBwbGllZFxuICAgKi9cbiAgcHJlcGFyZUVtYmVkZGVkRG9jdW1lbnRzICgpIHtcbiAgICBzdXBlci5wcmVwYXJlRW1iZWRkZWREb2N1bWVudHMoKVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBBcHBseSB0cmFuc2Zvcm1hdGlvbnMgb3IgZGVyaXZhdGlvbnMgdG8gdGhlIHZhbHVlcyBvZiB0aGUgc291cmNlIGRhdGEgb2JqZWN0LlxuICAgKiBDb21wdXRlIGRhdGEgZmllbGRzIHdob3NlIHZhbHVlcyBhcmUgbm90IHN0b3JlZCB0byB0aGUgZGF0YWJhc2UuXG4gICAqIEBtZW1iZXJvZiBDbGllbnREb2N1bWVudE1peGluI1xuICAgKi9cbiAgcHJlcGFyZURlcml2ZWREYXRhICgpIHtcbiAgICBpZiAoWydjaGFyYWN0ZXInLCAnbnBjJywgJ2NyZWF0dXJlJ10uaW5jbHVkZXModGhpcy50eXBlKSkge1xuICAgICAgc3VwZXIucHJlcGFyZURlcml2ZWREYXRhKClcbiAgICAgIC8vIFNldCBocE1heCwgbXBNYXgsIHNhbk1heCwgbW92LCBkYiwgYnVpbGQuIFRoaXMgaXMgdG8gYWxsb3cgY2FsY3VsYXRpb24gb2YgZGVyaXZlZCB2YWx1ZSB3aXRoIG1vZGlmZWQgY2hhcmFjdGVyaXN0aWNzLlxuICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YudmFsdWUgPSB0aGlzLnJhd01vdlxuICAgICAgdGhpcy5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZSA9IHRoaXMucmF3RGJcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWUgPSB0aGlzLnJhd0J1aWxkXG5cbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4ID0gdGhpcy5yYXdIcE1heFxuICAgICAgaWYgKHRoaXMuaHAgPT09IG51bGwpIHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAudmFsdWUgPSB0aGlzLnJhd0hwTWF4XG5cbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMubXAubWF4ID0gdGhpcy5yYXdNcE1heFxuICAgICAgaWYgKHRoaXMubXAgPT09IG51bGwpIHRoaXMuc3lzdGVtLmF0dHJpYnMubXAudmFsdWUgPSB0aGlzLnJhd01wTWF4XG5cbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLm1heCA9IHRoaXMucmF3U2FuTWF4XG4gICAgICBpZiAodGhpcy5zYW4gPT09IG51bGwpIHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlID0gdGhpcy5yYXdTYW5NYXhcblxuICAgICAgLy8gQXBwbHkgZWZmZWN0cyB0byBhdXRvbWF0aWNhbHkgY2FsY3VsYXRlZCB2YWx1ZXMuXG4gICAgICBjb25zdCBmaWx0ZXJNYXRyaXggPSBbXVxuXG4gICAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5hdXRvKSBmaWx0ZXJNYXRyaXgucHVzaCgnc3lzdGVtLmF0dHJpYnMuaHAubWF4JylcbiAgICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLmF1dG8pIGZpbHRlck1hdHJpeC5wdXNoKCdzeXN0ZW0uYXR0cmlicy5tcC5tYXgnKVxuICAgICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLmF1dG8pIGZpbHRlck1hdHJpeC5wdXNoKCdzeXN0ZW0uYXR0cmlicy5zYW4ubWF4JylcbiAgICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLm1vdi5hdXRvKSBmaWx0ZXJNYXRyaXgucHVzaCgnc3lzdGVtLmF0dHJpYnMubW92LnZhbHVlJylcbiAgICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLmRiLmF1dG8pIGZpbHRlck1hdHJpeC5wdXNoKCdzeXN0ZW0uYXR0cmlicy5kYi52YWx1ZScpXG4gICAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC5hdXRvKSBmaWx0ZXJNYXRyaXgucHVzaCgnc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWUnKVxuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy5lZmZlY3RzLnJlZHVjZSgoY2hhbmdlcywgZSkgPT4ge1xuICAgICAgICBpZiAoZS5kaXNhYmxlZCB8fCBlLmlzU3VwcHJlc3NlZCkgcmV0dXJuIGNoYW5nZXNcbiAgICAgICAgcmV0dXJuIGNoYW5nZXMuY29uY2F0KFxuICAgICAgICAgIGUuY2hhbmdlcy5tYXAoYyA9PiB7XG4gICAgICAgICAgICBjID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoYylcbiAgICAgICAgICAgIGMuZWZmZWN0ID0gZVxuICAgICAgICAgICAgYy5wcmlvcml0eSA9IGMucHJpb3JpdHkgPz8gYy5tb2RlICogMTBcbiAgICAgICAgICAgIHJldHVybiBjXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfSwgW10pXG4gICAgICBjaGFuZ2VzLnNvcnQoKGEsIGIpID0+IGEucHJpb3JpdHkgLSBiLnByaW9yaXR5KVxuXG4gICAgICBjb25zdCBzZWxlY3RDaGFuZ2VzID0gY2hhbmdlcy5maWx0ZXIoZSA9PiBmaWx0ZXJNYXRyaXguaW5jbHVkZXMoZS5rZXkpKVxuXG4gICAgICAvLyBBcHBseSBhbGwgY2hhbmdlc1xuICAgICAgZm9yIChjb25zdCBjaGFuZ2Ugb2Ygc2VsZWN0Q2hhbmdlcykge1xuICAgICAgICBjaGFuZ2UuZWZmZWN0LmFwcGx5KHRoaXMsIGNoYW5nZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaHBNYXggJiYgdGhpcy5ocE1heCA8IHRoaXMuaHApIHsgdGhpcy5zeXN0ZW0uYXR0cmlicy5ocC52YWx1ZSA9IHRoaXMuaHBNYXggfVxuICAgICAgaWYgKHRoaXMubXBNYXggJiYgdGhpcy5tcE1heCA8IHRoaXMubXApIHsgdGhpcy5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSA9IHRoaXMubXBNYXggfVxuICAgICAgaWYgKHRoaXMuc2FuTWF4ICYmIHRoaXMuc2FuTWF4IDwgdGhpcy5zYW4pIHsgdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUgPSB0aGlzLnNhbk1heCB9XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlIChkYXRhLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoZGF0YS50eXBlID09PSAnY2hhcmFjdGVyJykge1xuICAgICAgZGF0YS5wcm90b3R5cGVUb2tlbiA9IG1lcmdlT2JqZWN0KGRhdGEucHJvdG90eXBlVG9rZW4gfHwge30sIHtcbiAgICAgICAgYWN0b3JMaW5rOiB0cnVlLFxuICAgICAgICBkaXNwb3NpdGlvbjogMSxcbiAgICAgICAgc2lnaHQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGRldGVjdGlvbk1vZGVzOiBbe1xuICAgICAgICAgIGlkOiAnYmFzaWNTaWdodCcsXG4gICAgICAgICAgcmFuZ2U6IDMwLFxuICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgfV1cbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICducGMnKSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGEuaW1nID09PSAndW5kZWZpbmVkJyB8fCBkYXRhLmltZyA9PT0gJ2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi5zdmcnKSB7XG4gICAgICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvY3VsdGlzdC5zdmcnXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdjcmVhdHVyZScpIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5pbWcgPT09ICd1bmRlZmluZWQnIHx8IGRhdGEuaW1nID09PSAnaWNvbnMvc3ZnL215c3RlcnktbWFuLnN2ZycpIHtcbiAgICAgICAgZGF0YS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9mbG9hdGluZy10ZW50YWNsZXMuc3ZnJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnY29udGFpbmVyJykge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhLmltZyA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0YS5pbWcgPT09ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJykge1xuICAgICAgICBkYXRhLmltZyA9ICdpY29ucy9zdmcvY2hlc3Quc3ZnJ1xuICAgICAgfVxuICAgICAgZGF0YS5wcm90b3R5cGVUb2tlbiA9IG1lcmdlT2JqZWN0KGRhdGEucHJvdG90eXBlVG9rZW4gfHwge30sIHtcbiAgICAgICAgYWN0b3JMaW5rOiB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuY3JlYXRlKGRhdGEsIG9wdGlvbnMpXG4gIH1cblxuICAvKipcbiAgICogRWFybHkgdmVyc2lvbiBvbiB0ZW1wbGF0ZXMgZGlkIG5vdCBpbmNsdWRlIHBvc3NpYmlsaXR5IG9mIGF1dG8gY2FsY1xuICAgKiBKdXN0IGNoZWNrIGlmIGF1dG8gaXMgdW5kZWZpbmVkLCBpbiB3aGljaCBjYXNlIGl0IHdpbGwgYmUgc2V0IHRvIHRydWVcbiAgICovXG4gIGNoZWNrVW5kZWZpbmVkQXV0byAoKSB7XG4gICAgY29uc3QgcmV0dXJuRGF0YSA9IHtcbiAgICAgIGF0dHJpYnM6IHtcbiAgICAgICAgaHA6IHt9LFxuICAgICAgICBtcDoge30sXG4gICAgICAgIHNhbjoge30sXG4gICAgICAgIG1vdjoge30sXG4gICAgICAgIGRiOiB7fSxcbiAgICAgICAgYnVpbGQ6IHt9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzPy5ocD8uYXV0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5EYXRhLmF0dHJpYnMuaHAuYXV0byA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnM/Lm1wPy5hdXRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybkRhdGEuYXR0cmlicy5tcC5hdXRvID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicz8uc2FuPy5hdXRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybkRhdGEuYXR0cmlicy5zYW4uYXV0byA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnM/Lm1vdj8uYXV0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5EYXRhLmF0dHJpYnMubW92LmF1dG8gPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzPy5kYj8uYXV0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5EYXRhLmF0dHJpYnMuZGIuYXV0byA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnM/LmJ1aWxkPy5hdXRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybkRhdGEuYXR0cmlicy5idWlsZC5hdXRvID0gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiByZXR1cm5EYXRhXG4gIH1cblxuICBnZXQgY2hhcmFjdGVyaXN0aWNzICgpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJpc3RpY3MgPSB7XG4gICAgICBzdHI6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHNob3J0TmFtZTogJ0NIQVJBQy5TVFInLFxuICAgICAgICBsYWJlbDogJ0NIQVJBQy5TdHJlbmd0aCcsXG4gICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgIH0sXG4gICAgICBjb246IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHNob3J0TmFtZTogJ0NIQVJBQy5DT04nLFxuICAgICAgICBsYWJlbDogJ0NIQVJBQy5Db25zdGl0dXRpb24nLFxuICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICB9LFxuICAgICAgc2l6OiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuU0laJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuU2l6ZScsXG4gICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgIH0sXG4gICAgICBkZXg6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHNob3J0TmFtZTogJ0NIQVJBQy5ERVgnLFxuICAgICAgICBsYWJlbDogJ0NIQVJBQy5EZXh0ZXJpdHknLFxuICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICB9LFxuICAgICAgYXBwOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuQVBQJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuQXBwZWFyYW5jZScsXG4gICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgIH0sXG4gICAgICBpbnQ6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHNob3J0TmFtZTogJ0NIQVJBQy5JTlQnLFxuICAgICAgICBsYWJlbDogJ0NIQVJBQy5JbnRlbGxpZ2VuY2UnLFxuICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICB9LFxuICAgICAgcG93OiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuUE9XJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuUG93ZXInLFxuICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICB9LFxuICAgICAgZWR1OiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBzaG9ydE5hbWU6ICdDSEFSQUMuRURVJyxcbiAgICAgICAgbGFiZWw6ICdDSEFSQUMuRWR1Y2F0aW9uJyxcbiAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgICAgdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzXG4gICAgICApKSB7XG4gICAgICAgIGNoYXJhY3RlcmlzdGljc1trZXldID0ge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBzaG9ydE5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5zaG9ydCksXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5sYWJlbCksXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLnZhbHVlLFxuICAgICAgICAgIGhhcmQ6IE1hdGguZmxvb3IodmFsdWUudmFsdWUgLyAyKSB8fCBudWxsLFxuICAgICAgICAgIGV4dHJlbWU6IE1hdGguZmxvb3IodmFsdWUudmFsdWUgLyA1KSB8fCBudWxsLFxuICAgICAgICAgIGZvcm11bGE6IHZhbHVlLmZvcm11bGFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhcmFjdGVyaXN0aWNzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gdG9rZW4gY3JlYXRpb24gZnJvbSBwcmVDcmVhdGVBY3RvciBob29rXG4gICAqIEBwYXJhbSB7Kn0gY3JlYXRlRGF0YVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGluaXRUb2tlbiAoY3JlYXRlRGF0YSkge1xuICAgIC8vIGNhbGxlZCB1cG9uIHRva2VuIGNyZWF0aW9uLmFjdGl2ZVxuICAgIGlmIChjcmVhdGVEYXRhKSB7XG4gICAgICAvL1xuICAgIH1cbiAgfVxuXG4gIGdldCBoYXNUZW1wb0luc2FuZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lKVxuICB9XG5cbiAgZ2V0IGdldFRlbXBvSW5zYW5lRHVyYXRpb25UZXh0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNDb25kaXRpb25WYWx1ZShDT0M3LnN0YXR1cy50ZW1wb0luc2FuZSwgJ2R1cmF0aW9uVGV4dCcpXG4gIH1cblxuICBnZXQgaGFzSW5kZWZJbnNhbmUgKCkge1xuICAgIHJldHVybiB0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhDT0M3LnN0YXR1cy5pbmRlZkluc2FuZSlcbiAgfVxuXG4gIGdldCBwb3J0cmFpdCAoKSB7XG4gICAgaWYgKCFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VUb2tlbicpKSByZXR1cm4gdGhpcy5pbWdcbiAgICByZXR1cm4gdGhpcy50b2tlbj8udGV4dHVyZT8uc3JjIHx8IHRoaXMucHJvdG90eXBlVG9rZW4/LnRleHR1cmU/LnNyYyB8fCB0aGlzLmltZ1xuICB9XG5cbiAgYXN5bmMgZW50ZXJCb3V0T2ZNYWRuZXNzIChyZWFsVGltZSA9IHRydWUsIGR1cmF0aW9uID0gMSkge1xuICAgIC8vIGNvbnN0IGR1cmF0aW9uID0ge3JvdW5kczogMSxcbiAgICAvLyAgIHNlY29uZHM6IDE3LFxuICAgIC8vICAgc3RhcnRSb3VuZDogMyxcbiAgICAvLyAgIHN0YXJ0VGltZTogNTgsXG4gICAgLy8gICBzdGFydFR1cm46IDQsXG4gICAgLy8gICB0dXJuczogMn07XG4gICAgLy8gYXdhaXQgdGhpcy5ib3V0T2ZNYWRuZXNzPy5zZXRGbGFnKCAnQ29DNycsICdtYWRuZXNzJywgdHJ1ZSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gbnVsbFxuICAgIGNvbnN0IGJvdXRPZk1hZG5lc3NUYWJsZUlkID0gcmVhbFRpbWVcbiAgICAgID8gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc1JlYWxUaW1lVGFibGUnKVxuICAgICAgOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdib3V0T2ZNYWRuZXNzU3VtbWFyeVRhYmxlJylcbiAgICBpZiAoYm91dE9mTWFkbmVzc1RhYmxlSWQgIT09ICdub25lJykge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBwaG9iaWE6IGZhbHNlLFxuICAgICAgICBtYW5pYTogZmFsc2UsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBudWxsXG4gICAgICB9XG4gICAgICBjb25zdCBib3V0T2ZNYWRuZXNzVGFibGUgPSBnYW1lLnRhYmxlcy5nZXQoYm91dE9mTWFkbmVzc1RhYmxlSWQpXG4gICAgICByZXN1bHQudGFibGVSb2xsID0gYXdhaXQgYm91dE9mTWFkbmVzc1RhYmxlLnJvbGwoKVxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQudGFibGVSb2xsLnJlc3VsdHNbMF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBDT05TVC5UQUJMRV9SRVNVTFRfVFlQRVMuRE9DVU1FTlQgPT09XG4gICAgICAgICAgcmVzdWx0LnRhYmxlUm9sbC5yZXN1bHRzWzBdLnR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGdhbWUuaXRlbXMuZ2V0KHJlc3VsdC50YWJsZVJvbGwucmVzdWx0c1swXS5kb2N1bWVudElkKVxuICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnN5c3RlbT8udHlwZT8ucGhvYmlhKSByZXN1bHQucGhvYmlhID0gdHJ1ZVxuICAgICAgICAgICAgaWYgKGl0ZW0uc3lzdGVtPy50eXBlPy5tYW5pYSkgcmVzdWx0Lm1hbmlhID0gdHJ1ZVxuICAgICAgICAgICAgcmVzdWx0LmRlc2NyaXB0aW9uID0gYCR7aXRlbS5uYW1lfToke1RleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICAgICAgICAgIHsgYXN5bmM6IGZhbHNlIH1cbiAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgcmVzdWx0Lm5hbWUgPSBpdGVtLm5hbWVcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gaXRlbS50b09iamVjdCgpXG4gICAgICAgICAgICBkZWxldGUgaXRlbURhdGEuX2lkXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW2l0ZW1EYXRhXSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1lc3NhZ2VCb3V0T2ZNYWRuZXNzSXRlbU5vdEZvdW5kJylcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIENPTlNULlRBQkxFX1JFU1VMVF9UWVBFUy5URVhUID09PVxuICAgICAgICAgIHJlc3VsdC50YWJsZVJvbGwucmVzdWx0c1swXS50eXBlXG4gICAgICAgICkge1xuICAgICAgICAgIHJlc3VsdC5kZXNjcmlwdGlvbiA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgICAgICAgIHJlc3VsdC50YWJsZVJvbGwucmVzdWx0c1swXS50ZXh0LFxuICAgICAgICAgICAgeyBhc3luYzogZmFsc2UgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWVzc2FnZUJvdXRPZk1hZG5lc3NUYWJsZU5vdEZvdW5kJylcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIGl0J3Mgbm90IGEgcmVhbCB0aW1lIG5vIG5lZWQgdG8gYWN0aXZhdGUgdGhlIGJvdXRcbiAgICBpZiAoIXJlYWxUaW1lKSByZXR1cm4gcmVzdWx0XG5cbiAgICB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy50ZW1wb0luc2FuZSwge1xuICAgICAgcmVhbFRpbWUsXG4gICAgICBkdXJhdGlvblxuICAgIH0pXG5cbiAgICAvLyBjb25zdCBlZmZlY3QgPSB0aGlzLmVmZmVjdHMuZ2V0KCBlZmZlY3REYXRhLl9pZCk7XG4gICAgLy8gZWZmZWN0LnNoZWV0LnJlbmRlcih0cnVlKTtcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBuZXcgYWN0b3IgY3JlYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnNcbiAgICovXG4gIC8vIHN0YXRpYyBhc3luYyBjcmVhdGUoZGF0YSwgb3B0aW9ucykge1xuICAvLyAgLy8gSWYgdGhlIGNyZWF0ZWQgYWN0b3IgaGFzIGl0ZW1zIChvbmx5IGFwcGxpY2FibGUgdG8gZHVwbGljYXRlZCBhY3RvcnMpIGJ5cGFzcyB0aGUgbmV3IGFjdG9yIGNyZWF0aW9uIGxvZ2ljXG4gIC8vICBpZiAoZGF0YS5pdGVtcykge1xuICAvLyAgICByZXR1cm4gc3VwZXIuY3JlYXRlKGRhdGEsIG9wdGlvbnMpO1xuICAvLyAgfVxuICAvLyAgcmV0dXJuIHN1cGVyLmNyZWF0ZShkYXRhLCBvcHRpb25zKTtcbiAgLy8gfVxuXG4gIHN0YXRpYyBlbXB0eVNraWxsIChcbiAgICBza2lsbE5hbWUsXG4gICAgdmFsdWUsXG4gICAge1xuICAgICAgcmFyaXR5ID0gZmFsc2UsXG4gICAgICBwdXNoID0gdHJ1ZSxcbiAgICAgIGNvbWJhdCA9IGZhbHNlLFxuICAgICAgaW1nID0gZmFsc2UsXG4gICAgICBzcGVjaWFsaXphdGlvbiA9IGZhbHNlXG4gICAgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBuYW1lOiBza2lsbE5hbWUsXG4gICAgICB0eXBlOiAnc2tpbGwnLFxuICAgICAgc3lzdGVtOiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBza2lsbE5hbWUsXG4gICAgICAgIHNwZWNpYWxpemF0aW9uOiAnJyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHNwZWNpYWw6IGZhbHNlLFxuICAgICAgICAgIHJhcml0eSxcbiAgICAgICAgICBwdXNoLFxuICAgICAgICAgIGNvbWJhdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbWcgIT09IGZhbHNlKSB7XG4gICAgICBkYXRhLmltZyA9IGltZ1xuICAgIH1cbiAgICBpZiAoc3BlY2lhbGl6YXRpb24gIT09IGZhbHNlKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoc2tpbGxOYW1lLCBzcGVjaWFsaXphdGlvbilcbiAgICAgIGRhdGEuc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gcGFydHMuc3BlY2lhbGl6YXRpb25cbiAgICAgIGRhdGEuc3lzdGVtLnNraWxsTmFtZSA9IHBhcnRzLnNraWxsTmFtZVxuICAgICAgZGF0YS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgZGF0YS5zeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIGxpc3Qgb2Ygc2tpbGxzIGJ5IHJlbW92aW5nIHNwZWNpYWxpemF0aW9uIGZyb20gbmFtZVxuICAgKi9cbiAgLy8gYXN5bmMgY2xlYW5Ta2lsbHMgKCkge1xuICAvLyAgIERpYWxvZy5jb25maXJtKHtcbiAgLy8gICAgIHRpdGxlOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2xlYW5Ta2lsbExpc3QnKX1gLFxuICAvLyAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNsZWFuU2tpbGxMaXN0SGludCcpfTwvcD5gLFxuICAvLyAgICAgeWVzOiAoKSA9PiBjbGVhbih0aGlzKVxuICAvLyAgIH0pXG4gIC8vICAgYXN5bmMgZnVuY3Rpb24gY2xlYW4gKGFjdG9yKSB7XG4gIC8vICAgICBjb25zdCB1cGRhdGUgPSBbXVxuICAvLyAgICAgYWN0b3Iuc2tpbGxzLmZvckVhY2gocyA9PiB7XG4gIC8vICAgICAgIGlmIChzLnN5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwpIHtcbiAgLy8gICAgICAgICBjb25zdCBjbGVhbiA9IENvQzdJdGVtLmdldE5hbWVXaXRob3V0U3BlYyhzKT8udHJpbSgpXG4gIC8vICAgICAgICAgaWYgKGNsZWFuLnRvTG93ZXJDYXNlKCkgIT0gcy5uYW1lLnRvTG93ZXJDYXNlKCkgfHwgY2xlYW4udG9Mb3dlckNhc2UoKSAhPSBzLmRhdGEubmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gIC8vICAgICAgICAgICB1cGRhdGUucHVzaCh7XG4gIC8vICAgICAgICAgICAgIF9pZDogcy5pZCxcbiAgLy8gICAgICAgICAgICAgbmFtZTogY2xlYW5cbiAgLy8gICAgICAgICAgIH0pXG4gIC8vICAgICAgICAgfVxuICAvLyAgICAgICB9XG4gIC8vICAgICB9KVxuICAvLyAgICAgaWYgKHVwZGF0ZS5sZW5ndGggIT0gMCl7XG4gIC8vICAgICAgIGF3YWl0IGFjdG9yLnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgdXBkYXRlKVxuICAvLyAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oIGBTa2lsbHMgOiAke0FycmF5LmZyb20oIHVwZGF0ZSwgZSA9PiBlLm5hbWUpLmpvaW4oJywgJyl9IHVwZGF0ZWQuYClcbiAgLy8gICAgIH0gZWxzZSB7XG4gIC8vICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggJ1NraWxsIGxpc3Qgd2FzIGNsZWFuIGFscmVhZHkgIScpXG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3luYyBjcmVhdGVTa2lsbCAoc2tpbGxOYW1lLCB2YWx1ZSwgc2hvd1NoZWV0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBkYXRhID0gQ29DQWN0b3IuZW1wdHlTa2lsbChza2lsbE5hbWUsIHZhbHVlKVxuICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW2RhdGFdLCB7XG4gICAgICByZW5kZXJTaGVldDogc2hvd1NoZWV0XG4gICAgfSlcbiAgICByZXR1cm4gY3JlYXRlZFxuICB9XG5cbiAgYXN5bmMgY3JlYXRlV2VhcG9uU2tpbGwgKG5hbWUsIGZpcmVhcm1zID0gZmFsc2UsIGJhc2UgPSBudWxsKSB7XG4gICAgLy8gVE9ETyA6IEFzayBmb3IgYmFzZSB2YWx1ZSBpZiBudWxsXG5cbiAgICBjb25zdCBza2lsbERhdGEgPSBhd2FpdCBTa2lsbFNwZWNTZWxlY3REaWFsb2cuY3JlYXRlKFxuICAgICAgW10sXG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgIGZpcmVhcm1zXG4gICAgICAgICAgPyAnQ29DNy5GaXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgICAgIDogJ0NvQzcuRmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWUnXG4gICAgICApLFxuICAgICAgMCxcbiAgICAgIG5hbWVcbiAgICApXG4gICAgY29uc3QgdmFsdWUgPSBOdW1iZXIoc2tpbGxEYXRhLmdldCgnYmFzZS12YWx1ZScpKVxuICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgIG5hbWUsXG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgIGZpcmVhcm1zXG4gICAgICAgICAgPyAnQ29DNy5GaXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgICAgIDogJ0NvQzcuRmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWUnXG4gICAgICApXG4gICAgKVxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBuYW1lOiBwYXJ0cy5uYW1lLFxuICAgICAgdHlwZTogJ3NraWxsJyxcbiAgICAgIHN5c3RlbToge1xuICAgICAgICBiYXNlOiBpc05hTih2YWx1ZSkgPyAwIDogdmFsdWUsXG4gICAgICAgIGFkanVzdG1lbnRzOiB7XG4gICAgICAgICAgcGVyc29uYWw6IG51bGwsXG4gICAgICAgICAgb2NjdXBhdGlvbjogbnVsbCxcbiAgICAgICAgICBhcmNoZXR5cGU6IG51bGwsXG4gICAgICAgICAgZXhwZXJpZW5jZTogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBza2lsbE5hbWU6IHBhcnRzLnNraWxsTmFtZSxcbiAgICAgICAgc3BlY2lhbGl6YXRpb246IHBhcnRzLnNwZWNpYWxpemF0aW9uLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgc3BlY2lhbDogdHJ1ZSxcbiAgICAgICAgICBmaWdodGluZzogIWZpcmVhcm1zLFxuICAgICAgICAgIGZpcmVhcm06IGZpcmVhcm1zLFxuICAgICAgICAgIGNvbWJhdDogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbZGF0YV0sIHtcbiAgICAgIHJlbmRlclNoZWV0OiAhYmFzZVxuICAgIH0pXG4gICAgY29uc3Qgc2tpbGwgPSB0aGlzLmdldFNraWxsc0J5TmFtZShuYW1lKVxuICAgIHJldHVybiBza2lsbFswXVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBjcmVhdHVyZSB3aXRoIG1pbmltdW1zIHNraWxsc1xuICAgKi9cbiAgYXN5bmMgY3JlYXR1cmVJbml0ICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnY3JlYXR1cmUnKSByZXR1cm5cbiAgICBpZiAodGhpcy5nZXRBY3RvckZsYWcoJ2luaXRpYWxpemVkJykpIHJldHVybiAvLyBDaGFuZ2UgdG8gcmV0dXJuIHNraWxsID9cblxuICAgIC8vIENoZWNrIGlmIGZpZ2h0aW5nIHNraWxscyBleGlzdHMsIGlmIG5vdCBjcmVhdGUgaXQgYW5kIHRoZSBhc3NvY2lhdGVkIGF0dGFjay5cbiAgICBjb25zdCBza2lsbHMgPSB0aGlzLmdldFNraWxsc0J5TmFtZShcbiAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3LmNyZWF0dXJlRmlnaHRpbmdTa2lsbClcbiAgICApXG4gICAgaWYgKHNraWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIENyZWF0aW5nIG5hdHVyYWwgYXR0YWNrIHNraWxsXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKENPQzcuY3JlYXR1cmVGaWdodGluZ1NraWxsKSxcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5maWdodGluZ1NwZWNpYWxpemF0aW9uTmFtZSlcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgIHR5cGU6ICdza2lsbCcsXG4gICAgICAgICAgbmFtZTogcGFydHMubmFtZSxcbiAgICAgICAgICBzeXN0ZW06IHtcbiAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHNraWxsTmFtZTogcGFydHMuc2tpbGxOYW1lLFxuICAgICAgICAgICAgc3BlY2lhbGl6YXRpb246IHBhcnRzLnNwZWNpYWxpemF0aW9uLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBjb21iYXQ6IHRydWUsXG4gICAgICAgICAgICAgIGZpZ2h0aW5nOiB0cnVlLFxuICAgICAgICAgICAgICBzcGVjaWFsOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmxhZ3M6IHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNraWxsID0gYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtkYXRhXSwge1xuICAgICAgICAgIHJlbmRlclNoZWV0OiBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGF0dGFjayA9IGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoXG4gICAgICAgICAgJ0l0ZW0nLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogJ0lubmF0ZSBhdHRhY2snLFxuICAgICAgICAgICAgICB0eXBlOiAnd2VhcG9uJyxcbiAgICAgICAgICAgICAgc3lzdGVtOiB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNyZWF0dXJlJ3MgbmF0dXJhbCBhdHRhY2tcIixcbiAgICAgICAgICAgICAgICAgIGNoYXQ6IFwiQ3JlYXR1cmUncyBuYXR1cmFsIGF0dGFja1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB3cG5UeXBlOiAnaW5uYXRlJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBhZGRiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2xudDogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgeyByZW5kZXJTaGVldDogZmFsc2UgfVxuICAgICAgICApXG4gICAgICAgIGlmIChza2lsbC5sZW5ndGggPiAwICYmIGF0dGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgY3JlYXRlZEF0dGFjayA9IHRoaXMuaXRlbXMuZ2V0KGF0dGFja1swXS5pZClcbiAgICAgICAgICBhd2FpdCBjcmVhdGVkQXR0YWNrLnVwZGF0ZSh7XG4gICAgICAgICAgICAnc3lzdGVtLnNraWxsLm1haW4uaWQnOiBza2lsbFswXS5pZCxcbiAgICAgICAgICAgICdzeXN0ZW0uc2tpbGwubWFpbi5uYW1lJzogc2tpbGxbMF0ubmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdDcmVhdHVyZSBpbml0OiAnICsgZXJyLm1lc3NhZ2UpXG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmxvZyggJ1NraWxsIGNyZWF0ZWQnKTtcbiAgICAgIGF3YWl0IHRoaXMuc2V0QWN0b3JGbGFnKCdpbml0aWFsaXplZCcpXG4gICAgICAvLyBDcmVhdGluZyBjb3JyZXNwb25kaW5nIHdlYXBvbi5cbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVJdGVtIChpdGVtTmFtZSwgcXVhbnRpdHkgPSAxLCBzaG93U2hlZXQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBuYW1lOiBpdGVtTmFtZSxcbiAgICAgIHR5cGU6ICdpdGVtJyxcbiAgICAgIHN5c3RlbToge1xuICAgICAgICBxdWFudGl0eVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtkYXRhXSwge1xuICAgICAgcmVuZGVyU2hlZXQ6IHNob3dTaGVldFxuICAgIH0pXG4gICAgcmV0dXJuIGNyZWF0ZWRcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUVtcHR5Qm9vayAoZXZlbnQgPSBudWxsKSB7XG4gICAgY29uc3Qgc2hvd1NoZWV0ID0gZXZlbnQgPyAhZXZlbnQuc2hpZnRLZXkgOiB0cnVlXG4gICAgaWYgKCF0aGlzLmdldEl0ZW1JZEJ5TmFtZShnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdCb29rTmFtZSkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVCb29rKGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld0Jvb2tOYW1lKSwgc2hvd1NoZWV0KVxuICAgIH1cbiAgICBsZXQgaW5kZXggPSAwXG4gICAgbGV0IGl0ZW1OYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3Qm9va05hbWUpICsgJyAnICsgaW5kZXhcbiAgICB3aGlsZSAodGhpcy5nZXRJdGVtSWRCeU5hbWUoaXRlbU5hbWUpKSB7XG4gICAgICBpbmRleCsrXG4gICAgICBpdGVtTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld0Jvb2tOYW1lKSArICcgJyArIGluZGV4XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUJvb2soaXRlbU5hbWUsIHNob3dTaGVldClcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUJvb2sgKGl0ZW1OYW1lLCBzaG93U2hlZXQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBuYW1lOiBpdGVtTmFtZSxcbiAgICAgIHR5cGU6ICdib29rJyxcbiAgICAgIHN5c3RlbToge31cbiAgICB9XG4gICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbZGF0YV0sIHtcbiAgICAgIHJlbmRlclNoZWV0OiBzaG93U2hlZXRcbiAgICB9KVxuICAgIHJldHVybiBjcmVhdGVkXG4gIH1cblxuICBhc3luYyBjcmVhdGVFbXB0eVNwZWxsIChldmVudCA9IG51bGwpIHtcbiAgICBjb25zdCBzaG93U2hlZXQgPSBldmVudCA/ICFldmVudC5zaGlmdEtleSA6IHRydWVcbiAgICBpZiAoIXRoaXMuZ2V0SXRlbUlkQnlOYW1lKGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1NwZWxsTmFtZSkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVTcGVsbChnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdTcGVsbE5hbWUpLCBzaG93U2hlZXQpXG4gICAgfVxuICAgIGxldCBpbmRleCA9IDBcbiAgICBsZXQgaXRlbU5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdTcGVsbE5hbWUpICsgJyAnICsgaW5kZXhcbiAgICB3aGlsZSAodGhpcy5nZXRJdGVtSWRCeU5hbWUoaXRlbU5hbWUpKSB7XG4gICAgICBpbmRleCsrXG4gICAgICBpdGVtTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1NwZWxsTmFtZSkgKyAnICcgKyBpbmRleFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTcGVsbChpdGVtTmFtZSwgc2hvd1NoZWV0KVxuICB9XG5cbiAgc3RhdGljIGVtcHR5U3BlbGwgKGl0ZW1OYW1lKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG5hbWU6IGl0ZW1OYW1lLFxuICAgICAgdHlwZTogJ3NwZWxsJyxcbiAgICAgIHN5c3RlbToge31cbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVNwZWxsIChpdGVtTmFtZSwgc2hvd1NoZWV0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBkYXRhID0gQ29DQWN0b3IuZW1wdHlTcGVsbChpdGVtTmFtZSlcbiAgICBjb25zdCBjcmVhdGVkID0gYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtkYXRhXSwge1xuICAgICAgcmVuZGVyU2hlZXQ6IHNob3dTaGVldFxuICAgIH0pXG4gICAgcmV0dXJuIGNyZWF0ZWRcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUVtcHR5U2tpbGwgKGV2ZW50ID0gbnVsbCkge1xuICAgIGNvbnN0IHNob3dTaGVldCA9IGV2ZW50ID8gIWV2ZW50LnNoaWZ0S2V5IDogdHJ1ZVxuICAgIGlmICghdGhpcy5nZXRJdGVtSWRCeU5hbWUoZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3U2tpbGxOYW1lKSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNraWxsKFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdTa2lsbE5hbWUpLFxuICAgICAgICBudWxsLFxuICAgICAgICBzaG93U2hlZXRcbiAgICAgIClcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gMFxuICAgIGxldCBza2lsbE5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdTa2lsbE5hbWUpICsgJyAnICsgaW5kZXhcbiAgICB3aGlsZSAodGhpcy5nZXRJdGVtSWRCeU5hbWUoc2tpbGxOYW1lKSkge1xuICAgICAgaW5kZXgrK1xuICAgICAgc2tpbGxOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3U2tpbGxOYW1lKSArICcgJyArIGluZGV4XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2tpbGwoc2tpbGxOYW1lLCBudWxsLCBzaG93U2hlZXQpXG4gIH1cblxuICBhc3luYyBjcmVhdGVFbXB0eUl0ZW0gKGV2ZW50ID0gbnVsbCkge1xuICAgIGNvbnN0IHNob3dTaGVldCA9IGV2ZW50ID8gIWV2ZW50LnNoaWZ0S2V5IDogdHJ1ZVxuICAgIGlmICghdGhpcy5nZXRJdGVtSWRCeU5hbWUoZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubmV3SXRlbU5hbWUpKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlSXRlbShnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdJdGVtTmFtZSksIDEsIHNob3dTaGVldClcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gMFxuICAgIGxldCBpdGVtTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld0l0ZW1OYW1lKSArICcgJyArIGluZGV4XG4gICAgd2hpbGUgKHRoaXMuZ2V0SXRlbUlkQnlOYW1lKGl0ZW1OYW1lKSkge1xuICAgICAgaW5kZXgrK1xuICAgICAgaXRlbU5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdJdGVtTmFtZSkgKyAnICcgKyBpbmRleFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVJdGVtKGl0ZW1OYW1lLCAxLCBzaG93U2hlZXQpXG4gIH1cblxuICBhc3luYyBjcmVhdGVFbXB0eVdlYXBvbiAoZXZlbnQgPSBudWxsLCBwcm9wZXJ0aWVzID0ge30pIHtcbiAgICBjb25zdCBzaG93U2hlZXQgPSBldmVudCA/ICFldmVudC5zaGlmdEtleSA6IHRydWVcbiAgICBsZXQgd2VhcG9uTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1dlYXBvbk5hbWUpXG4gICAgaWYgKHRoaXMuZ2V0SXRlbUlkQnlOYW1lKGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1dlYXBvbk5hbWUpKSkge1xuICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgd2VhcG9uTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3Lm5ld1dlYXBvbk5hbWUpICsgJyAnICsgaW5kZXhcbiAgICAgIHdoaWxlICh0aGlzLmdldEl0ZW1JZEJ5TmFtZSh3ZWFwb25OYW1lKSkge1xuICAgICAgICBpbmRleCsrXG4gICAgICAgIHdlYXBvbk5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5uZXdXZWFwb25OYW1lKSArICcgJyArIGluZGV4XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG5hbWU6IHdlYXBvbk5hbWUsXG4gICAgICB0eXBlOiAnd2VhcG9uJyxcbiAgICAgIHN5c3RlbToge1xuICAgICAgICBwcm9wZXJ0aWVzOiB7fVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2tleV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy53ZWFwb25Qcm9wZXJ0aWVzKSkge1xuICAgICAgZGF0YS5zeXN0ZW0ucHJvcGVydGllc1trZXldID1cbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BlcnRpZXMsIGtleSkgPz8gZmFsc2VcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW2RhdGFdLCB7XG4gICAgICByZW5kZXJTaGVldDogc2hvd1NoZWV0XG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUJpb1NlY3Rpb24gKHRpdGxlID0gbnVsbCkge1xuICAgIGNvbnN0IGJpbyA9IHRoaXMuc3lzdGVtLmJpb2dyYXBoeVxuICAgICAgPyBkdXBsaWNhdGUodGhpcy5zeXN0ZW0uYmlvZ3JhcGh5KVxuICAgICAgOiBbXVxuICAgIGJpby5wdXNoKHtcbiAgICAgIHRpdGxlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5iaW9ncmFwaHknOiBiaW8gfSwgeyByZW5kZXJTaGVldDogZmFsc2UgfSlcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUJpb1ZhbHVlIChpbmRleCwgY29udGVudCkge1xuICAgIGNvbnN0IGJpbyA9IGR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5iaW9ncmFwaHkpXG4gICAgYmlvW2luZGV4XS52YWx1ZSA9IGNvbnRlbnRcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYmlvZ3JhcGh5JzogYmlvIH0sIHsgcmVuZGVyOiBmYWxzZSB9KVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQmlvVGl0bGUgKGluZGV4LCB0aXRsZSkge1xuICAgIGNvbnN0IGJpbyA9IGR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5iaW9ncmFwaHkpXG4gICAgYmlvW2luZGV4XS50aXRsZSA9IHRpdGxlXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJpb2dyYXBoeSc6IGJpbyB9KVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlQmlvU2VjdGlvbiAoaW5kZXgpIHtcbiAgICBjb25zdCBiaW8gPSBkdXBsaWNhdGUodGhpcy5zeXN0ZW0uYmlvZ3JhcGh5KVxuICAgIGJpby5zcGxpY2UoaW5kZXgsIDEpXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJpb2dyYXBoeSc6IGJpbyB9KVxuICB9XG5cbiAgYXN5bmMgbW92ZUJpb1NlY3Rpb25VcCAoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09IDApIHJldHVyblxuICAgIGNvbnN0IGJpbyA9IGR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5iaW9ncmFwaHkpXG4gICAgaWYgKGluZGV4ID49IGJpby5sZW5ndGgpIHJldHVyblxuICAgIGNvbnN0IGVsZW0gPSBiaW8uc3BsaWNlKGluZGV4LCAxKVswXVxuICAgIGJpby5zcGxpY2UoaW5kZXggLSAxLCAwLCBlbGVtKVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5iaW9ncmFwaHknOiBiaW8gfSlcbiAgfVxuXG4gIGFzeW5jIG1vdmVCaW9TZWN0aW9uRG93biAoaW5kZXgpIHtcbiAgICBjb25zdCBiaW8gPSBkdXBsaWNhdGUodGhpcy5zeXN0ZW0uYmlvZ3JhcGh5KVxuICAgIGlmIChpbmRleCA+PSBiaW8ubGVuZ3RoIC0gMSkgcmV0dXJuXG4gICAgY29uc3QgZWxlbSA9IGJpby5zcGxpY2UoaW5kZXgsIDEpWzBdXG4gICAgYmlvLnNwbGljZShpbmRleCArIDEsIDAsIGVsZW0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJpb2dyYXBoeSc6IGJpbyB9KVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlVGV4dEFyZWEgKHRleHRBcmVhKSB7XG4gICAgY29uc3QgbmFtZSA9ICdzeXN0ZW0uJyArIHRleHRBcmVhLmRhdGFzZXQuYXJlYU5hbWVcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtuYW1lXTogdGV4dEFyZWEudmFsdWUgfSlcbiAgfVxuXG4gIC8vIGFzeW5jIF91cGRhdGVFbWJlZGRlZERvY3VtZW50cyAoZG9jdW1lbnRDbGFzcywgcGFyZW50LCB7IHVwZGF0ZXMsIG9wdGlvbnMsIHBhY2sgfSwgdXNlcikge1xuICAvLyAgIGNvbnN0IHBvdWV0ID0gJ3RvdG8nXG4gIC8vIH1cblxuICAvLyBhc3luYyBwcmVVcGRhdGVBY3RpdmVFZmZlY3QgKGEsYixjLGQpIHtcbiAgLy8gICBjb25zdCBwb3VldCA9ICd0b3RvJ1xuICAvLyB9XG5cbiAgLy8gYXN5bmMgdXBkYXRlQWN0aXZlRWZmZWN0IChhLGIsYyxkKSB7XG4gIC8vICAgY29uc3QgcG91ZXQgPSAndG90bydcbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaXRlbSBmb3IgdGhhdCBhY3Rvci5cbiAgICogSWYgaXQncyBhIHNraWxsIGZpcnN0IGNoZWNrIGlmIHRoZSBza2lsbCBpcyBhbHJlYWR5IG93bmVkLiBJZiBpdCBpcyBkb24ndCBjcmVhdGUgYSBzZWNvbmQgdGltZS5cbiAgICogRmlsbCB0aGUgdmFsdWUgb2YgdGhlIHNraWxsIHdpdGggYmFzZSBvciB0cnkgdG8gZXZhbHVhdGUgdGhlIGZvcm11bGEuXG4gICAqIEBwYXJhbSB7Kn0gZW1iZWRkZWROYW1lXG4gICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzIChlbWJlZGRlZE5hbWUsIGRhdGFBcnJheSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHByb2Nlc3NlZERhdGFBcnJheSA9IFtdXG4gICAgbGV0IGJhc2VWYWx1ZSA9IDBcbiAgICBsZXQgYmFzZUNhbGN1bGF0ZWQgPSAwXG4gICAgbGV0IGFyY2hldHlwZSA9IGZhbHNlXG4gICAgbGV0IG9jY3VwYXRpb24gPSBmYWxzZVxuICAgIGZvciAobGV0IGRhdGEgb2YgZGF0YUFycmF5KSB7XG4gICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICBjYXNlICdza2lsbCc6IHtcbiAgICAgICAgICBiYXNlVmFsdWUgPSBkYXRhLnN5c3RlbS5iYXNlXG4gICAgICAgICAgYmFzZUNhbGN1bGF0ZWQgPSBhd2FpdCBDb0M3SXRlbS5jYWxjdWxhdGVCYXNlKHRoaXMsIGRhdGEpXG4gICAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gJ2NoYXJhY3RlcicpIHtcbiAgICAgICAgICAgIC8vIElmIG5vdCBhIFBDIHNldCBza2lsbCB2YWx1ZSB0byBiYXNlXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRJdGVtSWRCeU5hbWUoZGF0YS5uYW1lKSkgcmV0dXJuIC8vIElmIHNraWxsIHdpdGggdGhpcyBuYW1lIGV4aXN0IHJldHVyblxuXG4gICAgICAgICAgICBpZiAoYmFzZVZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChTdHJpbmcoYmFzZVZhbHVlKSAhPT0gU3RyaW5nKGRhdGEuc3lzdGVtLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLnZhbHVlID0gYmFzZUNhbGN1bGF0ZWRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNOYU4oTnVtYmVyKGRhdGEuc3lzdGVtLnZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgbGV0IHZhbHVlXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAoXG4gICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUm9sbChcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VDaGFyYWN0ZXJpc3RpY3MoKVxuICAgICAgICAgICAgICAgICAgKS5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgKS50b3RhbFxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodmFsdWUpIGRhdGEuc3lzdGVtLnZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YS5zeXN0ZW0udmFsdWUgPSBudWxsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGFkZFRoaXMgPSB0cnVlXG5cbiAgICAgICAgICBpZiAoQ29DN0l0ZW0uaXNBbnlTcGVjKGRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBpc0FueUJ1dE5vdEZsYWdnZWQgPSAoIShkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzPy5yZXF1aXJlc25hbWUpID8/IGZhbHNlKSAmJiAhKGRhdGEuc3lzdGVtLnByb3BlcnRpZXM/LnBpY2tuYW1lb25seSA/PyBmYWxzZSlcbiAgICAgICAgICAgIGxldCBza2lsbExpc3QgPSBbXVxuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZ3Vlc3NHcm91cEZyb21Eb2N1bWVudChkYXRhKVxuICAgICAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICAgIHNraWxsTGlzdCA9IChhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZnJvbUNvQ0lEUmVnZXhCZXN0KHsgY29jaWRSZWdFeHA6IG5ldyBSZWdFeHAoJ14nICsgQ29DN1V0aWxpdGllcy5xdW90ZVJlZ0V4cChncm91cCkgKyAnLiskJyksIHR5cGU6ICdpJyB9KSkuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwgJiYgISEoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8ucmVxdWlyZXNuYW1lIHx8IGl0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnBpY2tuYW1lb25seSkpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5zeXN0ZW0/LmZsYWdzPy5vY2N1cGF0aW9uIHx8IGRhdGEuc3lzdGVtPy5mbGFncz8uYXJjaGV0eXBlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2tpbGxzID0gdGhpcy5za2lsbHMuZmlsdGVyKGVsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsLnN5c3RlbS5zcGVjaWFsaXphdGlvbikgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0/LmZsYWdzPy5vY2N1cGF0aW9uICYmXG4gICAgICAgICAgICAgICAgICBlbC5zeXN0ZW0uZmxhZ3M/Lm9jY3VwYXRpb25cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbT8uZmxhZ3M/LmFyY2hldHlwZSAmJlxuICAgICAgICAgICAgICAgICAgZWwuc3lzdGVtLmZsYWdzPy5hcmNoZXR5cGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgIGVsLnN5c3RlbS5zcGVjaWFsaXphdGlvbi50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdTa2lsbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChza2lsbExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGV4aXN0aW5nU2tpbGxzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gc2tpbGxMaXN0LmZpbmRJbmRleChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSBleGlzdGluZ1NraWxsc1tpXS5uYW1lIHx8IGl0ZW0uZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uaWQgPT09IGV4aXN0aW5nU2tpbGxzW2ldLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmlkXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2tpbGxMaXN0LnNwbGljZShmb3VuZCwgMSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc2tpbGxMaXN0ID0gc2tpbGxMaXN0LmNvbmNhdChleGlzdGluZ1NraWxscylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2tpbGxMaXN0ID0gZXhpc3RpbmdTa2lsbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChza2lsbExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBza2lsbExpc3Quc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBza2lsbERhdGEgPSBhd2FpdCBTa2lsbFNwZWNpYWxpemF0aW9uU2VsZWN0RGlhbG9nLmNyZWF0ZSh7XG4gICAgICAgICAgICAgIHNraWxsczogc2tpbGxMaXN0LFxuICAgICAgICAgICAgICBhbGxvd0N1c3RvbTogKGlzQW55QnV0Tm90RmxhZ2dlZCB8fCAoZGF0YS5zeXN0ZW0ucHJvcGVydGllcz8ucmVxdWlyZXNuYW1lID8/IGZhbHNlKSksXG4gICAgICAgICAgICAgIGZpeGVkQmFzZVZhbHVlOiAoZGF0YS5zeXN0ZW0ucHJvcGVydGllcz8ua2VlcGJhc2V2YWx1ZSA/PyBmYWxzZSksXG4gICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uTmFtZTogZGF0YS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24sXG4gICAgICAgICAgICAgIGxhYmVsOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGJhc2VWYWx1ZTogZGF0YS5zeXN0ZW0uYmFzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2tpbGxEYXRhLCAnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICBpZiAoc2tpbGxEYXRhLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gdGhpcy5pdGVtcy5nZXQoXG4gICAgICAgICAgICAgICAgICBza2lsbERhdGEuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSXRlbSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IHt9XG4gICAgICAgICAgICAgICAgICBpZiAoIShkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzPy5rZWVwYmFzZXZhbHVlID8/IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbGxEYXRhLmJhc2VWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICBiYXNlQ2FsY3VsYXRlZCA9IHNraWxsRGF0YS5iYXNlVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzWydzeXN0ZW0udmFsdWUnXSA9IGJhc2VDYWxjdWxhdGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEuc3lzdGVtLmZsYWdzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzW2BzeXN0ZW0uZmxhZ3MuJHtrZXl9YF0gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjaGFuZ2VzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXMuX2lkID0gZXhpc3RpbmdJdGVtLmlkXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbY2hhbmdlc10pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkYXRhLm5hbWUgPSBDb0M3SXRlbS5nZXROYW1lV2l0aG91dFNwZWMoZXhpc3RpbmdJdGVtKVxuICAgICAgICAgICAgICAgICAgYWRkVGhpcyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gc2tpbGxMaXN0LmZpbmQoaSA9PiBpLmlkID09PSBza2lsbERhdGEuc2VsZWN0ZWQpXG4gICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmxhZ3MgPSBkYXRhLnN5c3RlbT8uZmxhZ3NcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGR1cGxpY2F0ZShleGlzdGluZylcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZmxhZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5mbGFnc1trZXldID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIShkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzPy5rZWVwYmFzZXZhbHVlID8/IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lsbERhdGEuYmFzZVZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZUNhbGN1bGF0ZWQgPSBza2lsbERhdGEuYmFzZVZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS52YWx1ZSA9IGJhc2VDYWxjdWxhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZSA9IGRhdGEuc3lzdGVtLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgICAgIHNraWxsRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKCEoZGF0YS5zeXN0ZW0ucHJvcGVydGllcz8ua2VlcGJhc2V2YWx1ZSA/PyBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChza2lsbERhdGEuYmFzZVZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBiYXNlQ2FsY3VsYXRlZCA9IHNraWxsRGF0YS5iYXNlVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0udmFsdWUgPSBiYXNlQ2FsY3VsYXRlZFxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlID0gZGF0YS5zeXN0ZW0udmFsdWVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxOYW1lID0gcGFydHMuc2tpbGxOYW1lXG4gICAgICAgICAgICAgICAgZGF0YS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFkZFRoaXMpIHtcbiAgICAgICAgICAgIGlmIChTdHJpbmcoYmFzZVZhbHVlKSAhPT0gU3RyaW5nKGJhc2VDYWxjdWxhdGVkKSkge1xuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5iYXNlID0gYmFzZUNhbGN1bGF0ZWRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJvY2Vzc2VkRGF0YUFycmF5LnB1c2goZHVwbGljYXRlKGRhdGEpKVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnd2VhcG9uJzoge1xuICAgICAgICAgIGlmICh0aGlzLnR5cGUgIT09ICdjb250YWluZXInKSB7XG4gICAgICAgICAgICBjb25zdCBtYWluU2tpbGwgPSBkYXRhLnN5c3RlbT8uc2tpbGw/Lm1haW4/Lm5hbWVcbiAgICAgICAgICAgIGlmIChtYWluU2tpbGwpIHtcbiAgICAgICAgICAgICAgbGV0IHNraWxsID0gdGhpcy5nZXRTa2lsbHNCeU5hbWUobWFpblNraWxsKVswXVxuICAgICAgICAgICAgICBpZiAoIXNraWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IG1haW5Ta2lsbC5tYXRjaCgvXFwoKFteKV0rKVxcKS8pXG4gICAgICAgICAgICAgICAgICA/IG1haW5Ta2lsbC5tYXRjaCgvXFwoKFteKV0rKVxcKS8pWzFdXG4gICAgICAgICAgICAgICAgICA6IG1haW5Ta2lsbFxuICAgICAgICAgICAgICAgIHNraWxsID0gYXdhaXQgdGhpcy5jcmVhdGVXZWFwb25Ta2lsbChcbiAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAhIWRhdGEuc3lzdGVtLnByb3BlcnRpZXM/LnJuZ2RcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHNraWxsKSBkYXRhLnN5c3RlbS5za2lsbC5tYWluLmlkID0gc2tpbGwuaWRcbiAgICAgICAgICAgIH0gLy8gVE9ETyA6IEVsc2UgOiBzZWxlY3Rpb25uZXIgbGUgc2tpbGwgZGFucyBsYSBsaXN0ZSBvdSBlbiBjcsOpZXIgdW4gbm91dmVhdS5cblxuICAgICAgICAgICAgY29uc3Qgc2Vjb25kU2tpbGwgPSBkYXRhLnN5c3RlbT8uc2tpbGw/LmFsdGVybmF0aXY/Lm5hbWVcbiAgICAgICAgICAgIGlmIChzZWNvbmRTa2lsbCkge1xuICAgICAgICAgICAgICBsZXQgc2tpbGwgPSB0aGlzLmdldFNraWxsc0J5TmFtZShzZWNvbmRTa2lsbClbMF1cbiAgICAgICAgICAgICAgaWYgKCFza2lsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBtYWluU2tpbGwubWF0Y2goL1xcKChbXildKylcXCkvKVxuICAgICAgICAgICAgICAgICAgPyBtYWluU2tpbGwubWF0Y2goL1xcKChbXildKylcXCkvKVsxXVxuICAgICAgICAgICAgICAgICAgOiBtYWluU2tpbGxcbiAgICAgICAgICAgICAgICBza2lsbCA9IGF3YWl0IHRoaXMuY3JlYXRlV2VhcG9uU2tpbGwoXG4gICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgISFkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzPy5ybmdkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChza2lsbCkgZGF0YS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCA9IHNraWxsLmlkXG4gICAgICAgICAgICB9IC8vIFRPRE8gOiBFbHNlIDogc2VsZWN0aW9ubmVyIGxlIHNraWxsIGRhbnMgbGEgbGlzdGUgb3UgZW4gY3LDqWVyIHVuIG5vdXZlYXUuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJvY2Vzc2VkRGF0YUFycmF5LnB1c2goZHVwbGljYXRlKGRhdGEpKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdzZXR1cCc6IHtcbiAgICAgICAgICBpZiAoZGF0YS5zeXN0ZW0uZW5hYmxlQ2hhcmFjdGVyaXNpdGljcykge1xuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QgPSB7fVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3Quc3RyID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYygnc3RyJylcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmNvbiA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoJ2NvbicpXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5zaXogPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKCdzaXonKVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuZGV4ID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYygnZGV4JylcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmFwcCA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoJ2FwcCcpXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5pbnQgPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKCdpbnQnKVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QucG93ID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYygncG93JylcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmVkdSA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoJ2VkdScpXG5cbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0Lmx1Y2sgPSB7fVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QubHVjay52YWx1ZSA9IGlzTmFOKHRoaXMubHVjaylcbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDogdGhpcy5sdWNrXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5sdWNrLmxhYmVsID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5MdWNrJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QubHVjay5zaG9ydE5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICdDb0M3Lkx1Y2snXG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGlmICghZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcykge1xuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzID0ge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuc3RyID1cbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3Quc3RyLnZhbHVlXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmNvbiA9XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmNvbi52YWx1ZVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5zaXogPVxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5zaXoudmFsdWVcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMuZGV4ID1cbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QuZGV4LnZhbHVlXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmFwcCA9XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmFwcC52YWx1ZVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5pbnQgPVxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MubGlzdC5pbnQudmFsdWVcbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMucG93ID1cbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QucG93LnZhbHVlXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmVkdSA9XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5saXN0LmVkdS52YWx1ZVxuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5sdWNrID1cbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmxpc3QubHVjay52YWx1ZVxuICAgICAgICAgICAgaWYgKGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb2ludHMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TcGVuZFBvaW50cycpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Sb2xsQ2hhcmFjJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLnBvaW50c1dhcm5pbmcgPSAhKFxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLnN0ciAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmNvbiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLnNpeiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmRleCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmFwcCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmludCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLnBvdyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmVkdSAhPT0gbnVsbFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY29uc3Qgcm9sbGVkID0gYXdhaXQgQ2hhcmFjUm9sbERpYWxvZy5jcmVhdGUoZGF0YS5zeXN0ZW0pXG4gICAgICAgICAgICBpZiAocm9sbGVkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBbXG4gICAgICAgICAgICAgICAgJ3N0cicsXG4gICAgICAgICAgICAgICAgJ2NvbicsXG4gICAgICAgICAgICAgICAgJ3NpeicsXG4gICAgICAgICAgICAgICAgJ2RleCcsXG4gICAgICAgICAgICAgICAgJ2FwcCcsXG4gICAgICAgICAgICAgICAgJ2ludCcsXG4gICAgICAgICAgICAgICAgJ3BvdycsXG4gICAgICAgICAgICAgICAgJ2VkdSdcbiAgICAgICAgICAgICAgXSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbYHN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuJHtrZXl9LnZhbHVlYF0gPVxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzW2tleV1cbiAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbYHN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MuJHtrZXl9LmZvcm11bGFgXSA9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xsc1trZXldXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmx1Y2spIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0cmlicy5sY2sudmFsdWUnXSA9XG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLmx1Y2tcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5wb3cpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUnXSA9XG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MudmFsdWVzLnBvd1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxpbWl0J10gPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnZhbHVlcy5wb3cgLyA1XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLm1wLm1heCddID0gTWF0aC5mbG9vcihcbiAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy52YWx1ZXMucG93IC8gNVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh1cGRhdGVEYXRhLCB7IHJlbmRlclNoZWV0OiBmYWxzZSB9KVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJ3N5c3RlbS5hdHRyaWJzLmhwLnZhbHVlJzogdGhpcy5yYXdIcE1heCxcbiAgICAgICAgICAgICAgICAnc3lzdGVtLmF0dHJpYnMuaHAubWF4JzogdGhpcy5yYXdIcE1heFxuICAgICAgICAgICAgICB9LCB7IHJlbmRlclNoZWV0OiBmYWxzZSB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGVyYSA9IE9iamVjdC5lbnRyaWVzKGRhdGEuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uZXJhcykuZmlsdGVyKGUgPT4gZVsxXSkubWFwKGUgPT4gZVswXSlcbiAgICAgICAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5leHBhbmRJdGVtQXJyYXkoeyBpdGVtTGlzdDogZGF0YS5zeXN0ZW0uaXRlbXMsIGVyYTogKHR5cGVvZiBlcmFbMF0gIT09ICd1bmRlZmluZWQnID8gZXJhWzBdIDogdHJ1ZSkgfSlcbiAgICAgICAgICBjb25zdCBza2lsbHMgPSBpdGVtcy5maWx0ZXIoaXQgPT4gaXQudHlwZSA9PT0gJ3NraWxsJylcbiAgICAgICAgICBjb25zdCBvdGhlcnNJdGVtcyA9IGl0ZW1zLmZpbHRlcihpdCA9PiBpdC50eXBlICE9PSAnc2tpbGwnKVxuICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVW5pcXVlSXRlbXMoc2tpbGxzKVxuICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXRlbXMob3RoZXJzSXRlbXMpXG4gICAgICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ29uZUJsb2NrQmFja3N0b3J5JykpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5iYWNrc3RvcnknOiBkYXRhLnN5c3RlbS5iYWNrc3RvcnkgfSwgeyByZW5kZXJTaGVldDogZmFsc2UgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWN0aW9uTmFtZSBvZiBkYXRhLnN5c3RlbS5iaW9TZWN0aW9ucykge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXRoaXMuc3lzdGVtLmJpb2dyYXBoeT8uZmluZChcbiAgICAgICAgICAgICAgICAgIGVsID0+IHNlY3Rpb25OYW1lID09PSBlbC50aXRsZVxuICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICBzZWN0aW9uTmFtZVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZUJpb1NlY3Rpb24oc2VjdGlvbk5hbWUpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcmVmYWN0b3IgdGhpc1xuICAgICAgICAgIGNvbnN0IG1vbmV0YXJ5ID0gbWVyZ2VPYmplY3QodGhpcy5zeXN0ZW0ubW9uZXRhcnksIGR1cGxpY2F0ZShkYXRhLnN5c3RlbS5tb25ldGFyeSkpXG4gICAgICAgICAgY29uc3Qgc2hlZXQgPSB0aGlzLnNoZWV0XG4gICAgICAgICAgbGV0IHN0YXRlID0gZmFsc2VcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBzdGF0ZSA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoc2hlZXQuX3N0YXRlKVxuICAgICAgICAgICAgfSwgMTAwKSlcbiAgICAgICAgICB9IHdoaWxlIChzdGF0ZSA9PT0gQXBwbGljYXRpb24uUkVOREVSX1NUQVRFUy5SRU5ERVJJTkcpXG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICAgICAgJ3N5c3RlbS5tb25ldGFyeSc6IG1vbmV0YXJ5XG4gICAgICAgICAgfSlcbiAgICAgICAgICBIb29rcy5jYWxsKCdzZXR1cEZpbmlzaGVkQ29DNycpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdhcmNoZXR5cGUnOlxuICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICAgICAgICAvLyBBcmNoZXR5cHJlIG9ubHkgZm9yIFBDc1xuICAgICAgICAgICAgaWYgKHRoaXMuYXJjaGV0eXBlKSB7XG4gICAgICAgICAgICAgIGxldCByZXNldEFyY2hldHlwZSA9IGZhbHNlXG4gICAgICAgICAgICAgIGF3YWl0IERpYWxvZy5jb25maXJtKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJlc2V0QXJjaGV0eXBlJyksXG4gICAgICAgICAgICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmZvcm1hdCgnQ29DNy5SZXNldEFyY2hldHlwZUhpbnQnLCB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICAgICAgICAgICAgICB9KX08L3A+YCxcbiAgICAgICAgICAgICAgICB5ZXM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc2V0QXJjaGV0eXBlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdFllczogZmFsc2VcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgaWYgKHJlc2V0QXJjaGV0eXBlKSBhd2FpdCB0aGlzLnJlc2V0QXJjaGV0eXBlKClcbiAgICAgICAgICAgICAgZWxzZSByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29yZUNoYXJhYyA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIE9iamVjdC5lbnRyaWVzKGRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3MpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGVudHJ5XG4gICAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3Nba2V5XSA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKGtleSlcbiAgICAgICAgICAgICAgICBjaGFyLmtleSA9IGtleVxuICAgICAgICAgICAgICAgIGNvcmVDaGFyYWMucHVzaChjaGFyKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjaGFyYWNcblxuICAgICAgICAgICAgaWYgKGNvcmVDaGFyYWMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBjb25zdCBjaGFyRGlhbG9nRGF0YSA9IHt9XG4gICAgICAgICAgICAgIGNoYXJEaWFsb2dEYXRhLmNoYXJhY3RlcmlzdGljcyA9IGNvcmVDaGFyYWNcbiAgICAgICAgICAgICAgY2hhckRpYWxvZ0RhdGEudGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2VsZWN0Q29yZUNoYXJhYycpXG4gICAgICAgICAgICAgIGNoYXJhYyA9IGF3YWl0IENoYXJhY1NlbGVjdERpYWxvZy5jcmVhdGUoY2hhckRpYWxvZ0RhdGEpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvcmVDaGFyYWMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIGNoYXJhYyA9IGNvcmVDaGFyYWNbMF0ua2V5XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY2hhcmFjKSByZXR1cm5cbiAgICAgICAgICAgIGRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3NbY2hhcmFjXSA9IHRydWVcbiAgICAgICAgICAgIGlmIChkYXRhLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzRm9ybXVsYS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IE51bWJlcihkYXRhLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzRm9ybXVsYS52YWx1ZSlcbiAgICAgICAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdldENoYXJhY3RlcmlzdGljKGNoYXJhYylcbiAgICAgICAgICAgICAgICBjb25zdCByb2xsID0gbmV3IFJvbGwoXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzRm9ybXVsYS52YWx1ZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBhd2FpdCByb2xsLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIHJvbGwudG9NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgICAgICAgJ0NvQzcuTWVzc2FnZVJvbGxpbmdDaGFyYWN0ZXJpc3RpYycsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogY2hhci5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhOiBkYXRhLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzRm9ybXVsYS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGNoYXIudmFsdWUgPCByb2xsLnRvdGFsID8gcm9sbC50b3RhbCA6IGNoYXIudmFsdWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgW2BzeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLiR7Y2hhcmFjfS52YWx1ZWBdOiB2YWx1ZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgYWxsIHNraWxsc1xuICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmV4cGFuZEl0ZW1BcnJheSh7IGl0ZW1MaXN0OiBkYXRhLnN5c3RlbS5za2lsbHMgfSlcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVW5pcXVlSXRlbXMoZGF0YS5zeXN0ZW0uc2tpbGxzLCAnYXJjaGV0eXBlJylcblxuICAgICAgICAgICAgcHJvY2Vzc2VkRGF0YUFycmF5LnB1c2goZHVwbGljYXRlKGRhdGEpKVxuICAgICAgICAgICAgYXJjaGV0eXBlID0gdHJ1ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ29jY3VwYXRpb24nOlxuICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICAgICAgICAvLyBPY2N1cGF0aW9uIG9ubHkgZm9yIFBDc1xuICAgICAgICAgICAgaWYgKHRoaXMub2NjdXBhdGlvbikge1xuICAgICAgICAgICAgICBsZXQgcmVzZXRPY2N1cGF0aW9uID0gZmFsc2VcbiAgICAgICAgICAgICAgYXdhaXQgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVzZXRPY2N1cGF0aW9uJyksXG4gICAgICAgICAgICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmZvcm1hdCgnQ29DNy5SZXNldE9jY3VwYXRpb25IaW50Jywge1xuICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgICAgICAgICAgICAgfSl9PC9wPmAsXG4gICAgICAgICAgICAgICAgeWVzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXNldE9jY3VwYXRpb24gPSB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0WWVzOiBmYWxzZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZiAocmVzZXRPY2N1cGF0aW9uKSBhd2FpdCB0aGlzLnJlc2V0T2NjdXBhdGlvbigpXG4gICAgICAgICAgICAgIGVsc2UgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgQ29DSURzIHRvIGl0ZW1zXG4gICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZXhwYW5kSXRlbUFycmF5KHsgaXRlbUxpc3Q6IGRhdGEuc3lzdGVtLnNraWxscyB9KVxuXG4gICAgICAgICAgICBpZiAoTnVtYmVyKGRhdGEuc3lzdGVtLmNyZWRpdFJhdGluZy5tYXgpID4gMCkge1xuICAgICAgICAgICAgICAvLyBPY2N1cGF0aW9ucyB3aXRoIGEgY3JlZGl0IHJhdGluZyByZXF1aXJlIGEgY3JlZGl0IHJhdGluZyBza2lsbFxuICAgICAgICAgICAgICBjb25zdCBhY3RvckNyZWRpdFJhdGluZyA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5maW5kQ29jSWRJbkxpc3QoJ2kuc2tpbGwuY3JlZGl0LXJhdGluZycsIGRhdGEuc3lzdGVtLnNraWxscylcbiAgICAgICAgICAgICAgaWYgKGFjdG9yQ3JlZGl0UmF0aW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lLnN5c3RlbS5hcGkuY29jaWQuZmluZENvY0lkSW5MaXN0KCdpLnNraWxsLmNyZWRpdC1yYXRpbmcnLCB0aGlzLml0ZW1zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIGRhdGEuc3lzdGVtLnNraWxscy5wdXNoKCdpLnNraWxsLmNyZWRpdC1yYXRpbmcnKVxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmV4cGFuZEl0ZW1BcnJheSh7IGl0ZW1MaXN0OiBkYXRhLnN5c3RlbS5za2lsbHMgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5maW5kQ29jSWRJbkxpc3QoJ2kuc2tpbGwuY3JlZGl0LXJhdGluZycsIHRoaXMuaXRlbXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzLnB1c2goYWN0b3JDcmVkaXRSYXRpbmdbMF0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNlbGVjdCBjaGFyYWN0ZXJpc3RpY1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzRGlhbG9nRGF0YSA9IHt9XG4gICAgICAgICAgICBwb2ludHNEaWFsb2dEYXRhLmNoYXJhY3RlcmlzdGljcyA9IGRhdGEuc3lzdGVtLm9jY3VwYXRpb25Ta2lsbFBvaW50c1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMFxuICAgICAgICAgICAgbGV0IG9wdGlvbmFsQ2hhciA9IGZhbHNlXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5vY2N1cGF0aW9uU2tpbGxQb2ludHNcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gZW50cnlcbiAgICAgICAgICAgICAgY29uc3QgY2hhciA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoa2V5KVxuICAgICAgICAgICAgICBwb2ludHNEaWFsb2dEYXRhLmNoYXJhY3RlcmlzdGljc1trZXldLm5hbWUgPSBjaGFyLmxhYmVsXG4gICAgICAgICAgICAgIHBvaW50c0RpYWxvZ0RhdGEuY2hhcmFjdGVyaXN0aWNzW2tleV0udmFsdWUgPSBjaGFyLnZhbHVlXG4gICAgICAgICAgICAgIGlmICh2YWx1ZS5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHBvaW50c0RpYWxvZ0RhdGEuY2hhcmFjdGVyaXN0aWNzW2tleV0udG90YWwgPVxuICAgICAgICAgICAgICAgICAgY2hhci52YWx1ZSAqXG4gICAgICAgICAgICAgICAgICBOdW1iZXIocG9pbnRzRGlhbG9nRGF0YS5jaGFyYWN0ZXJpc3RpY3Nba2V5XS5tdWx0aXBsaWVyKVxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUub3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgIHRvdGFsICs9IHBvaW50c0RpYWxvZ0RhdGEuY2hhcmFjdGVyaXN0aWNzW2tleV0udG90YWxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3B0aW9uYWxDaGFyID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9pbnRzRGlhbG9nRGF0YS50b3RhbCA9IHRvdGFsXG4gICAgICAgICAgICBpZiAob3B0aW9uYWxDaGFyKSB7XG4gICAgICAgICAgICAgIC8vIElzIHRoZXJlIGFueSBvcHRpb25hbCBjaGFyIHRvIGNob29zZSBmb3IgcG9pbnRzIGNhbGMgP1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb2ludFNlbGVjdERpYWxvZy5jcmVhdGUocG9pbnRzRGlhbG9nRGF0YSlcbiAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHJldHVybiAvLyBQb2ludCBub3Qgc2VsZWN0ZWQgPT4gZXhpdC5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIG9wdGlvbmFsIHNraWxsc1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGRhdGEuc3lzdGVtLmdyb3Vwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgLy8gQ29udmVydCBDb0NJZHMgdG8gaXRlbXNcbiAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uZ3JvdXBzW2luZGV4XS5za2lsbHMgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZXhwYW5kSXRlbUFycmF5KHsgaXRlbUxpc3Q6IGRhdGEuc3lzdGVtLmdyb3Vwc1tpbmRleF0uc2tpbGxzIH0pXG5cbiAgICAgICAgICAgICAgY29uc3QgZGlhbG9nRGF0YSA9IHt9XG4gICAgICAgICAgICAgIGRpYWxvZ0RhdGEuc2tpbGxzID0gW11cbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS50eXBlID0gJ29jY3VwYXRpb24nXG4gICAgICAgICAgICAgIGRpYWxvZ0RhdGEuYWN0b3JJZCA9IHRoaXMuaWRcbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS5vcHRpb25zQ291bnQgPSBOdW1iZXIoZGF0YS5zeXN0ZW0uZ3JvdXBzW2luZGV4XS5vcHRpb25zKVxuICAgICAgICAgICAgICBkaWFsb2dEYXRhLnRpdGxlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNraWxsU2VsZWN0aW9uV2luZG93JylcblxuICAgICAgICAgICAgICAvLyBTZWxlY3Qgb25seSBza2lsbHMgdGhhdCBhcmUgbm90IHByZXNlbnQgb3IgYXJlIG5vdCBmbGFnZ2VkIGFzIG9jY3VwYXRpb24uXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGF0YS5zeXN0ZW0uZ3JvdXBzW2luZGV4XS5za2lsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoQ29DN0l0ZW0uaXNBbnlTcGVjKHZhbHVlKSkgZGlhbG9nRGF0YS5za2lsbHMucHVzaCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgZ2VuZXJpYyBzcGVjIHdlIGFsd2F5cyBhZGQgaXRcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5pdGVtcy5maW5kKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSB2YWx1ZS5uYW1lICYmIGl0ZW0udHlwZSA9PT0gJ3NraWxsJ1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIGlmICghc2tpbGwgfHwgIXNraWxsLnN5c3RlbS5mbGFncz8ub2NjdXBhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBza2lsbCB3YXMgYWRkZWQgdG8gc2tpbGwgbGlzdCBwcmV2aW91c2x5LCByZW1vdmUgaXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxyZWFkeVNlbGVjdGVkU2tpbGwgPSBkYXRhLnN5c3RlbS5za2lsbHMuZmluZChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSB2YWx1ZS5uYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWxyZWFkeVNlbGVjdGVkU2tpbGwpIGRpYWxvZ0RhdGEuc2tpbGxzLnB1c2godmFsdWUpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBub25lLCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICBpZiAoZGlhbG9nRGF0YS5za2lsbHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZ0RhdGEuc2tpbGxzLmxlbmd0aCA8PSBkaWFsb2dEYXRhLm9wdGlvbnNDb3VudCkge1xuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBpcyBsZXNzIHNraWxsIHRoYW4gb3B0aW9ucywgYWRkIHRoZW0gYWxsLlxuICAgICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkluZm9MZXNzU2tpbGxUaGFuT3B0aW9ucycsIHtcbiAgICAgICAgICAgICAgICAgICAgICBza2lsbENvdW50OiBkaWFsb2dEYXRhLnNraWxscy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0NvdW50OiBkaWFsb2dEYXRhLm9wdGlvbnNDb3VudFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy5hZGRVbmlxdWVJdGVtcyggZGlhbG9nRGF0YS5za2lsbHMsICdvY2N1cGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBDb0M3SXRlbS5tZXJnZU9wdGlvbmFsU2tpbGxzKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMsXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ0RhdGEuc2tpbGxzXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBkYXRhLnN5c3RlbS5za2lsbHMgPSBtZXJnZWRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3Igc2tpbGwgc2VsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBhd2FpdCBTa2lsbFNlbGVjdERpYWxvZy5jcmVhdGUoZGlhbG9nRGF0YSlcbiAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQpIHJldHVyblxuICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gQ29DN0l0ZW0ubWVyZ2VPcHRpb25hbFNraWxscyhcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzID0gbWVyZ2VkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhcbiAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbmZvQWxsU2tpbGxzQWxyZWFkeVNlbGVjdGVkJylcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGV4dHJhIHNraWxsc1xuICAgICAgICAgICAgaWYgKE51bWJlcihkYXRhLnN5c3RlbS5wZXJzb25hbCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGlhbG9nRGF0YSA9IHt9XG4gICAgICAgICAgICAgIGRpYWxvZ0RhdGEuc2tpbGxzID0gW11cbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS50eXBlID0gJ29jY3VwYXRpb24nXG4gICAgICAgICAgICAgIGRpYWxvZ0RhdGEuYWN0b3JJZCA9IHRoaXMuaWRcbiAgICAgICAgICAgICAgZGlhbG9nRGF0YS5vcHRpb25zQ291bnQgPSBOdW1iZXIoZGF0YS5zeXN0ZW0ucGVyc29uYWwpXG4gICAgICAgICAgICAgIGRpYWxvZ0RhdGEudGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNlbGVjdFBlcnNvbmFsU2tpbGxzJywge1xuICAgICAgICAgICAgICAgIG51bWJlcjogTnVtYmVyKGRhdGEuc3lzdGVtLnBlcnNvbmFsKVxuICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgIC8vIFNlbGVjdCBvbmx5IHNraWxscyB0aGF0IGFyZSBub3QgcHJlc2VudCBvciBhcmUgbm90IGZsYWdnZWQgYXMgb2NjdXBhdGlvbi5cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuc2tpbGxzKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VsZWN0IGFsbCBza2lsbHMgdGhhdCBhcmUgbm90IGFscmVhZHkgZmxhZ2dlZCBhcyBvY2N1cGF0aW9uLCBjYW4gaGF2ZSBhZGp1c3RtZW50cyBhbmQgWFAuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIXMuc3lzdGVtLmZsYWdzLm9jY3VwYXRpb24gJiZcbiAgICAgICAgICAgICAgICAgICFzLnN5c3RlbS5wcm9wZXJ0aWVzLm5vYWRqdXN0bWVudHMgJiZcbiAgICAgICAgICAgICAgICAgICFzLnN5c3RlbS5wcm9wZXJ0aWVzLm5veHBnYWluXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAvLyBpZiBza2lsbCBhbHJlYWR5IHNlbGVjdGVkIGRvbid0IGFkZCBpdFxuICAgICAgICAgICAgICAgICAgY29uc3QgYWxyZWFkeVNlbGVjdGVkU2tpbGwgPSBkYXRhLnN5c3RlbS5za2lsbHMuZmluZChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gcy5uYW1lXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5U2VsZWN0ZWRTa2lsbCkgZGlhbG9nRGF0YS5za2lsbHMucHVzaChzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm9uZSwgZG8gbm90aGluZy5cbiAgICAgICAgICAgICAgaWYgKGRpYWxvZ0RhdGEuc2tpbGxzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkaWFsb2dEYXRhLnNraWxscy5sZW5ndGggPD0gZGlhbG9nRGF0YS5vcHRpb25zQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgaXMgbGVzcyBza2lsbCB0aGFuIG9wdGlvbnMsIGFkZCB0aGVtIGFsbC5cbiAgICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5JbmZvTGVzc1NraWxsVGhhbk9wdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgc2tpbGxDb3VudDogZGlhbG9nRGF0YS5za2lsbHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNDb3VudDogZGlhbG9nRGF0YS5vcHRpb25zQ291bnRcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuYWRkVW5pcXVlSXRlbXMoIGRpYWxvZ0RhdGEuc2tpbGxzLCAnb2NjdXBhdGlvbicpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gQ29DN0l0ZW0ubWVyZ2VPcHRpb25hbFNraWxscyhcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzLFxuICAgICAgICAgICAgICAgICAgICBkaWFsb2dEYXRhLnNraWxsc1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzID0gbWVyZ2VkXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIHNraWxsIHNlbGVjdGlvbi5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYXdhaXQgU2tpbGxTZWxlY3REaWFsb2cuY3JlYXRlKGRpYWxvZ0RhdGEpIC8vIERpYWxvZyBkYXRhIGJ1ZyA/Pz9cbiAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQpIHJldHVyblxuICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gQ29DN0l0ZW0ubWVyZ2VPcHRpb25hbFNraWxscyhcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgZGF0YS5zeXN0ZW0uc2tpbGxzID0gbWVyZ2VkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhcbiAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbmZvQWxsU2tpbGxzQWxyZWFkeVNlbGVjdGVkJylcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGFsbCBza2lsbHNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVW5pcXVlSXRlbXMoZGF0YS5zeXN0ZW0uc2tpbGxzLCAnb2NjdXBhdGlvbicpXG4gICAgICAgICAgICAvLyBDcmVkaXQgcmF0aW5nIGlzIGFsd2F5cyBwYXJ0IG9mIG9jY3VwYXRpb25cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlZGl0UmF0aW5nU2tpbGw/LnNldEl0ZW1GbGFnKCdvY2N1cGF0aW9uJylcbiAgICAgICAgICAgIC8vIHNldHRpbmcgaXQgdG8gbWluIGNyZWRpdCByYXRpbmdcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlZGl0UmF0aW5nU2tpbGw/LnVwZGF0ZSh7XG4gICAgICAgICAgICAgICdzeXN0ZW0uYWRqdXN0bWVudHMub2NjdXBhdGlvbic6IE51bWJlcihkYXRhLnN5c3RlbS5jcmVkaXRSYXRpbmcubWluKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcHJvY2Vzc2VkRGF0YUFycmF5LnB1c2goZHVwbGljYXRlKGRhdGEpKVxuICAgICAgICAgICAgb2NjdXBhdGlvbiA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHByb2Nlc3NlZERhdGFBcnJheS5wdXNoKGR1cGxpY2F0ZShkYXRhKSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3NlZERhdGFBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBjb25zdCBwcm9jZXNzZWQgPSBhd2FpdCBzdXBlci5jcmVhdGVFbWJlZGRlZERvY3VtZW50cyhcbiAgICAgIGVtYmVkZGVkTmFtZSxcbiAgICAgIHByb2Nlc3NlZERhdGFBcnJheSxcbiAgICAgIG9wdGlvbnNcbiAgICApXG5cbiAgICBpZiAoYXJjaGV0eXBlKSB7XG4gICAgICAvLyBzZXR0aW5nIHBvaW50c1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICAnc3lzdGVtLmRldmVsb3BtZW50LmFyY2hldHlwZSc6IHRoaXMuYXJjaGV0eXBlUG9pbnRzXG4gICAgICB9KVxuICAgICAgSG9va3MuY2FsbCgnYXJjaGV0eXBlRmluaXNoZWRDb0M3JylcbiAgICB9XG4gICAgaWYgKG9jY3VwYXRpb24pIHtcbiAgICAgIC8vIHNldHRpbmcgcG9pbnRzXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uZGV2ZWxvcG1lbnQub2NjdXBhdGlvbic6IHRoaXMub2NjdXBhdGlvblBvaW50cyxcbiAgICAgICAgJ3N5c3RlbS5kZXZlbG9wbWVudC5wZXJzb25hbCc6IHRoaXMucGVyc29uYWxQb2ludHNcbiAgICAgIH0pXG4gICAgICBIb29rcy5jYWxsKCdvY2N1cGF0aW9uRmluaXNoZWRDb0M3JylcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvY2Vzc2VkXG4gIH1cblxuICAvLyBnZXRTa2lsbElkQnlOYW1lKCBza2lsbE5hbWUpe1xuICAvLyAgIGxldCBpZCA9IG51bGw7XG4gIC8vICAgIGZvciAoY29uc3QgW21hcCwga2V5LCB2YWx1ZV0gb2YgdGhpcy5pdGVtcykge1xuICAvLyAgICAgaWYoIHZhbHVlLm5hbWUgPT0gc2tpbGxOYW1lKSBpZCA9IHZhbHVlLmlkO1xuICAvLyAgIH07XG5cbiAgLy8gICByZXR1cm4gaWQ7XG4gIC8vIH1cblxuICBnZXRJdGVtSWRCeU5hbWUgKGl0ZW1OYW1lKSB7XG4gICAgbGV0IGlkID0gbnVsbFxuICAgIGNvbnN0IG5hbWUgPSBpdGVtTmFtZS5tYXRjaCgvXFwoKFteKV0rKVxcKS8pXG4gICAgICA/IGl0ZW1OYW1lLm1hdGNoKC9cXCgoW14pXSspXFwpLylbMV1cbiAgICAgIDogaXRlbU5hbWVcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgQ29DN0l0ZW0uZ2V0TmFtZVdpdGhvdXRTcGVjKHZhbHVlKS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICkge1xuICAgICAgICBpZCA9IHZhbHVlLmlkXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGlkXG4gIH1cblxuICBnZXRJdGVtc0J5TmFtZSAoaXRlbU5hbWUpIHtcbiAgICBjb25zdCBpdGVtTGlzdCA9IFtdXG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICBpZiAodmFsdWUubmFtZSA9PT0gaXRlbU5hbWUpIGl0ZW1MaXN0LnB1c2godmFsdWUpXG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW1MaXN0XG4gIH1cblxuICAvKipcbiAgICpcbiAgICpcbiAgICovXG4gIGdldFNraWxsc0J5TmFtZSAoc2tpbGxOYW1lKSB7XG4gICAgLy8gVE9ETyA6IG1vcmUgYWdncmVzc2l2ZSBmaW5kaW5nIGluY2x1ZGluZyBzcGVjc1xuICAgIGNvbnN0IHNraWxsTGlzdCA9IFtdXG4gICAgY29uc3QgbmFtZSA9IHNraWxsTmFtZS5tYXRjaCgvXFwoKFteKV0rKVxcKS8pXG4gICAgICA/IHNraWxsTmFtZS5tYXRjaCgvXFwoKFteKV0rKVxcKS8pWzFdXG4gICAgICA6IHNraWxsTmFtZVxuXG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChcbiAgICAgICAgICBDb0M3SXRlbS5nZXROYW1lV2l0aG91dFNwZWModmFsdWUpLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgIHZhbHVlLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmlkID09PSBza2lsbE5hbWVcbiAgICAgICAgKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnc2tpbGwnXG4gICAgICApIHtcbiAgICAgICAgc2tpbGxMaXN0LnB1c2godmFsdWUpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBza2lsbExpc3RcbiAgfVxuXG4gIGdldEZpcnN0U2tpbGxCeUNvQ0lEIChjb2NpZCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbmQoaSA9PiBpLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmlkID09PSBjb2NpZClcbiAgfVxuXG4gIHBhcnNlRm9ybXVsYSAoZm9ybXVsYSkge1xuICAgIGxldCBwYXJzZWRGb3JtdWxhID0gZm9ybXVsYVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZm9ybXVsYS5hY3RvcikpIHtcbiAgICAgIHBhcnNlZEZvcm11bGEgPSBwYXJzZWRGb3JtdWxhLnJlcGxhY2Uoa2V5LCB2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZEZvcm11bGFcbiAgfVxuXG4gIHBhcnNlQ2hhcmFjdGVyaXN0aWNzICgpIHtcbiAgICBjb25zdCBwYXJzZWQgPSB7fVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZm9ybXVsYS5hY3RvcikpIHtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnQCcpICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3RoaXMuJykpIHtcbiAgICAgICAgcGFyc2VkW2tleS5zdWJzdHJpbmcoMSldID0gZ2V0UHJvcGVydHkodGhpcywgdmFsdWUuc3Vic3RyaW5nKDUpKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkXG4gIH1cblxuICBzdGF0aWMgZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uICgpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJpc3RpY3MgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgZ2FtZS5zeXN0ZW0udGVtcGxhdGUuQWN0b3IudGVtcGxhdGVzLmNoYXJhY3RlcmlzdGljcy5jaGFyYWN0ZXJpc3RpY3NcbiAgICApKSB7XG4gICAgICBjaGFyYWN0ZXJpc3RpY3MucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgc2hvcnROYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUuc2hvcnQpLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlLmxhYmVsKVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJhY3RlcmlzdGljc1xuICB9XG5cbiAgZ2V0Q2hhcmFjdGVyaXN0aWMgKGNoYXJOYW1lKSB7XG4gICAgaWYgKHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcykge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgIHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1xuICAgICAgKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlLnNob3J0KS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgY2hhck5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5sYWJlbCkudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgIGNoYXJOYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBrZXkgPT09IGNoYXJOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHNob3J0TmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlLnNob3J0KSxcbiAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUubGFiZWwpLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXRBdHRyaWJ1dGUgKGF0dHJpYk5hbWUpIHtcbiAgICBpZiAoXG4gICAgICBbJ2xjaycsICdsdWNrJywgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKS50b0xvd2VyQ2FzZSgpXS5pbmNsdWRlcyhcbiAgICAgICAgYXR0cmliTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXk6ICdsY2snLFxuICAgICAgICBzaG9ydE5hbWU6ICdsdWNrJyxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5MdWNrJyksXG4gICAgICAgIHZhbHVlOiB0aGlzLnN5c3RlbS5hdHRyaWJzLmxjay52YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXG4gICAgICBbXG4gICAgICAgICdzYW4nLFxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU0FOJykudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNhbml0eScpLnRvTG93ZXJDYXNlKClcbiAgICAgIF0uaW5jbHVkZXMoYXR0cmliTmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiAnc2FuJyxcbiAgICAgICAgc2hvcnROYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU0FOJyksXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuaXR5JyksXG4gICAgICAgIHZhbHVlOiB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgYXN5bmMgcnVuUm9sbCAob3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNhcmRUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmV2ZW50U3RhbmRieSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMucHJldmVudFN0YW5kYnkgPSB0cnVlXG4gICAgfVxuICAgIG9wdGlvbnMuYWN0b3IgPSB0aGlzXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IENvQzdDaGF0TWVzc2FnZS50cmlnZ2VyKG9wdGlvbnMpXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG4gIGdldCBvY2N1cGF0aW9uICgpIHtcbiAgICBjb25zdCBvY2N1cGF0aW9uID0gdGhpcy5pdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdvY2N1cGF0aW9uJylcbiAgICByZXR1cm4gb2NjdXBhdGlvblswXVxuICB9XG5cbiAgZ2V0IGFyY2hldHlwZSAoKSB7XG4gICAgY29uc3QgYXJjaGV0eXBlID0gdGhpcy5pdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdhcmNoZXR5cGUnKVxuICAgIHJldHVybiBhcmNoZXR5cGVbMF1cbiAgfVxuXG4gIGFzeW5jIHJlc2V0T2NjdXBhdGlvbiAoZXJhc2VPbGQgPSB0cnVlKSB7XG4gICAgaWYgKGVyYXNlT2xkKSB7XG4gICAgICBjb25zdCBvY2N1cGF0aW9uU2tpbGwgPSB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+XG4gICAgICAgIGl0ZW0uZ2V0SXRlbUZsYWcoJ29jY3VwYXRpb24nKVxuICAgICAgKVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG9jY3VwYXRpb25Ta2lsbC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgYXdhaXQgb2NjdXBhdGlvblNraWxsW2luZGV4XS51bnNldEl0ZW1GbGFnKCdvY2N1cGF0aW9uJylcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMub2NjdXBhdGlvbikgYXdhaXQgdGhpcy5vY2N1cGF0aW9uLmRlbGV0ZSgpXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmRldmVsb3BtZW50Lm9jY3VwYXRpb24nOiBudWxsIH0pXG4gIH1cblxuICBhc3luYyByZXNldEFyY2hldHlwZSAoZXJhc2VPbGQgPSB0cnVlKSB7XG4gICAgaWYgKGVyYXNlT2xkKSB7XG4gICAgICBjb25zdCBhcmNoZXR5cGVTa2lsbCA9IHRoaXMuaXRlbXMuZmlsdGVyKGl0ZW0gPT5cbiAgICAgICAgaXRlbS5nZXRJdGVtRmxhZygnYXJjaGV0eXBlJylcbiAgICAgIClcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcmNoZXR5cGVTa2lsbC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgYXdhaXQgYXJjaGV0eXBlU2tpbGxbaW5kZXhdLnVuc2V0SXRlbUZsYWcoJ2FyY2hldHlwZScpXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmFyY2hldHlwZSkgYXdhaXQgdGhpcy5hcmNoZXR5cGUuZGVsZXRlKClcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZGV2ZWxvcG1lbnQuYXJjaGV0eXBlJzogbnVsbCB9KVxuICB9XG5cbiAgZ2V0IGx1Y2sgKCkge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzPy5sY2s/LnZhbHVlKVxuICB9XG5cbiAgYXN5bmMgc2V0THVjayAodmFsdWUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmF0dHJpYnMubGNrLnZhbHVlJzogdmFsdWUgfSlcbiAgfVxuXG4gIGFzeW5jIHNwZW5kTHVjayAoYW1vdW50KSB7XG4gICAgYW1vdW50ID0gcGFyc2VJbnQoYW1vdW50KVxuICAgIGlmICghKHRoaXMubHVjayA+PSBhbW91bnQpKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdGhpcy5zZXRMdWNrKHRoaXMubHVjayAtIGFtb3VudClcbiAgfVxuXG4gIGdldCBocCAoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAudmFsdWUpXG4gIH1cblxuICBnZXQgcmF3SHBNYXggKCkge1xuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLmhwLmF1dG8pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSAhPSBudWxsICYmXG4gICAgICAgIHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5jb24udmFsdWUgIT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBDb0NBY3Rvci5ocEZyb21DaGFyYWN0ZXJpc3RpY3ModGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLCB0aGlzLnR5cGUpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4KVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4KVxuICB9XG5cbiAgZ2V0IGhwTWF4ICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpXG4gIH1cblxuICBhc3luYyBfc2V0SHAgKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwXG4gICAgaWYgKHZhbHVlID4gdGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpIHtcbiAgICAgIHZhbHVlID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXgpXG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYXR0cmlicy5ocC52YWx1ZSc6IHZhbHVlIH0pXG4gIH1cblxuICBhc3luYyBhZGRVbmlxdWVJdGVtcyAoc2tpbGxMaXN0LCBmbGFnID0gbnVsbCkge1xuICAgIGNvbnN0IHByb2Nlc3NlZCA9IFtdXG4gICAgZm9yIChsZXQgc2tpbGwgb2Ygc2tpbGxMaXN0KSB7XG4gICAgICBza2lsbCA9IGR1cGxpY2F0ZShza2lsbClcbiAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNraWxsLnN5c3RlbSwgJ2ZsYWdzJykpIHtcbiAgICAgICAgICBza2lsbC5zeXN0ZW0uZmxhZ3MgPSB7fVxuICAgICAgICB9XG4gICAgICAgIHNraWxsLnN5c3RlbS5mbGFnc1tmbGFnXSA9IHRydWVcbiAgICAgIH1cbiAgICAgIGlmIChDb0M3SXRlbS5pc0FueVNwZWMoc2tpbGwpKSB7XG4gICAgICAgIHByb2Nlc3NlZC5wdXNoKHNraWxsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbUlkID0gdGhpcy5nZXRJdGVtSWRCeU5hbWUoc2tpbGwubmFtZSlcbiAgICAgICAgaWYgKCFpdGVtSWQpIHtcbiAgICAgICAgICBwcm9jZXNzZWQucHVzaChza2lsbClcbiAgICAgICAgfSBlbHNlIGlmIChmbGFnKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXMuZ2V0KGl0ZW1JZClcbiAgICAgICAgICBhd2FpdCBpdGVtLnNldEl0ZW1GbGFnKGZsYWcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3NlZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgcHJvY2Vzc2VkLCB7XG4gICAgICByZW5kZXJTaGVldDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgYWRkSXRlbXMgKGl0ZW1MaXN0LCBmbGFnID0gbnVsbCkge1xuICAgIGNvbnN0IHByb2Nlc3NlZCA9IFtdXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1MaXN0KSB7XG4gICAgICBpZiAoZmxhZykge1xuICAgICAgICBpZiAoIWl0ZW0uc3lzdGVtLmZsYWdzKSBpdGVtLnN5c3RlbS5mbGFncyA9IHt9XG4gICAgICAgIGl0ZW0uc3lzdGVtLmZsYWdzW2ZsYWddID0gdHJ1ZVxuICAgICAgfVxuICAgICAgcHJvY2Vzc2VkLnB1c2goZHVwbGljYXRlKGl0ZW0pKVxuICAgIH1cbiAgICBpZiAocHJvY2Vzc2VkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgcHJvY2Vzc2VkLCB7XG4gICAgICByZW5kZXJTaGVldDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgYWRkVW5pcXVlSXRlbSAoc2tpbGwsIGZsYWcgPSBudWxsKSB7XG4gICAgY29uc3QgaXRlbUlkID0gdGhpcy5nZXRJdGVtSWRCeU5hbWUoc2tpbGwubmFtZSlcbiAgICBpZiAoIWl0ZW1JZCkge1xuICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgaWYgKCFza2lsbC5zeXN0ZW0uZmxhZ3MpIHNraWxsLnN5c3RlbS5mbGFncyA9IHt9XG4gICAgICAgIHNraWxsLnN5c3RlbS5mbGFnc1tmbGFnXSA9IHRydWVcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbc2tpbGxdLCB7XG4gICAgICAgIHJlbmRlclNoZWV0OiBmYWxzZVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKGZsYWcpIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zLmdldChpdGVtSWQpXG4gICAgICBhd2FpdCBpdGVtLnNldEl0ZW1GbGFnKGZsYWcpXG4gICAgfVxuICB9XG5cbiAgZ2V0IHJhd01wTWF4ICgpIHtcbiAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5tcC5hdXRvKSB7XG4gICAgICBpZiAodGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvdy52YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBDb0NBY3Rvci5tcEZyb21DaGFyYWN0ZXJpc3RpY3ModGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKVxuICAgICAgfSBlbHNlIHJldHVybiAwXG4gICAgfVxuICAgIHJldHVybiBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLm1heClcbiAgfVxuXG4gIGdldFJlYXNvblNhbkxvc3MgKHNhblJlYXNvbikge1xuICAgIGlmICh0eXBlb2Ygc2FuUmVhc29uID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5zeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cy5maWx0ZXIoXG4gICAgICAgICAgciA9PiByLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2FuUmVhc29uLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgKVswXSA/PyB7IHR5cGU6ICcnLCB0b3RhbExvc3M6IDAsIGltbXVuaXR5OiBmYWxzZSB9XG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6ICcnLCB0b3RhbExvc3M6IDAsIGltbXVuaXR5OiBmYWxzZSB9XG4gIH1cblxuICBzYW5Mb3N0VG9SZWFzb24gKHNhblJlYXNvbikge1xuICAgIGlmIChzYW5SZWFzb24pIHtcbiAgICAgIGNvbnN0IHNhbml0eUxvc3NFdmVudCA9IHRoaXMuZ2V0UmVhc29uU2FuTG9zcyhzYW5SZWFzb24pXG4gICAgICByZXR1cm4gc2FuaXR5TG9zc0V2ZW50LnRvdGFsTG9zc1xuICAgIH1cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgc2FuTG9zc1JlYXNvbkVuY291bnRlcmVkIChzYW5SZWFzb24pIHtcbiAgICBpZiAoc2FuUmVhc29uKSB7XG4gICAgICBjb25zdCBzYW5pdHlMb3NzRXZlbnQgPSB0aGlzLmdldFJlYXNvblNhbkxvc3Moc2FuUmVhc29uKVxuICAgICAgcmV0dXJuIHNhbml0eUxvc3NFdmVudC50eXBlICE9PSAnJ1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHNldFJlYXNvblNhbkxvc3MgKHNhblJlYXNvbiwgc2FuTG9zcykge1xuICAgIGlmICh0eXBlb2Ygc2FuUmVhc29uID09PSAnc3RyaW5nJyAmJiBzYW5SZWFzb24gIT09ICcnKSB7XG4gICAgICBjb25zdCBzYW5pdHlMb3NzRXZlbnRzID0gZHVwbGljYXRlKHRoaXMuc3lzdGVtLnNhbml0eUxvc3NFdmVudHMpXG4gICAgICBjb25zdCBpbmRleCA9IHNhbml0eUxvc3NFdmVudHMuZmluZEluZGV4KFxuICAgICAgICByID0+IHIudHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzYW5SZWFzb24udG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgKVxuICAgICAgaWYgKHNhbkxvc3MgPiAwKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBzYW5pdHlMb3NzRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogc2FuUmVhc29uLFxuICAgICAgICAgICAgdG90YWxMb3NzOiBzYW5Mb3NzLFxuICAgICAgICAgICAgaW1tdW5pdHk6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYW5pdHlMb3NzRXZlbnRzW2luZGV4XS50b3RhbExvc3MgKz0gc2FuTG9zc1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgc2FuaXR5TG9zc0V2ZW50cy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIHNhbml0eUxvc3NFdmVudHMuc29ydChmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgICByZXR1cm4gbGVmdC50eXBlLmxvY2FsZUNvbXBhcmUocmlnaHQudHlwZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cyc6IHNhbml0eUxvc3NFdmVudHNcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgbWF4TG9zc1RvU2FuUmVhc29uIChzYW5SZWFzb24sIHNhbk1heEZvcm11bGEpIHtcbiAgICBjb25zdCBzYW5NYXggPSBuZXcgUm9sbChzYW5NYXhGb3JtdWxhLnRvU3RyaW5nKCkpLmV2YWx1YXRlKHtcbiAgICAgIG1heGltaXplOiB0cnVlXG4gICAgfSkudG90YWxcbiAgICBjb25zdCBzYW5pdHlMb3NzRXZlbnQgPSB0aGlzLmdldFJlYXNvblNhbkxvc3Moc2FuUmVhc29uKVxuICAgIGlmIChzYW5pdHlMb3NzRXZlbnQuaW1tdW5pdHkpIHtcbiAgICAgIHJldHVybiAwXG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heCgwLCBzYW5NYXggLSBzYW5pdHlMb3NzRXZlbnQudG90YWxMb3NzKVxuICB9XG5cbiAgYXN5bmMgbG9vc2VTYW4gKHNhblJlYXNvbiwgc2FuTG9zcykge1xuICAgIGNvbnN0IHNhbml0eUxvc3NFdmVudCA9IHRoaXMuZ2V0UmVhc29uU2FuTG9zcyhzYW5SZWFzb24pXG4gICAgaWYgKCFzYW5pdHlMb3NzRXZlbnQuaW1tdW5pdHkpIHtcbiAgICAgIGF3YWl0IHRoaXMuc2V0U2FuKHRoaXMuc2FuIC0gc2FuTG9zcylcbiAgICAgIHRoaXMuc2V0UmVhc29uU2FuTG9zcyhzYW5SZWFzb24sIHNhbkxvc3MpXG4gICAgICByZXR1cm4gc2FuTG9zc1xuICAgIH1cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgc2FuTG9zcyAoY2hlY2tQYXNzZWQpIHtcbiAgICBpZiAoY2hlY2tQYXNzZWQpIHJldHVybiB0aGlzLnNhbkxvc3NDaGVja1Bhc3NlZFxuICAgIHJldHVybiB0aGlzLnNhbkxvc3NDaGVja0ZhaWxsZWRcbiAgfVxuXG4gIGdldCBzYW5Mb3NzQ2hlY2tQYXNzZWQgKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbS5zcGVjaWFsPy5zYW5Mb3NzPy5jaGVja1Bhc3NlZFxuICB9XG5cbiAgZ2V0IHNhbkxvc3NDaGVja0ZhaWxsZWQgKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbS5zcGVjaWFsPy5zYW5Mb3NzPy5jaGVja0ZhaWxsZWRcbiAgfVxuXG4gIGdldCBzYW5Mb3NzTWF4ICgpIHtcbiAgICBpZiAodGhpcy5zYW5Mb3NzQ2hlY2tGYWlsbGVkKSB7XG4gICAgICBpZiAoIWlzTmFOKE51bWJlcih0aGlzLnNhbkxvc3NDaGVja0ZhaWxsZWQpKSkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMuc2FuTG9zc0NoZWNrRmFpbGxlZClcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUm9sbCh0aGlzLnNhbkxvc3NDaGVja0ZhaWxsZWQpLmV2YWx1YXRlKHtcbiAgICAgICAgbWF4aW1pemU6IHRydWVcbiAgICAgIH0pLnRvdGFsXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBnZXQgc2FuTG9zc01pbiAoKSB7XG4gICAgaWYgKHRoaXMuc2FuTG9zc0NoZWNrUGFzc2VkKSB7XG4gICAgICBpZiAoIWlzTmFOKE51bWJlcih0aGlzLnNhbkxvc3NDaGVja1Bhc3NlZCkpKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5zYW5Mb3NzQ2hlY2tQYXNzZWQpXG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJvbGwodGhpcy5zYW5Mb3NzQ2hlY2tQYXNzZWQpLmV2YWx1YXRlKHtcbiAgICAgICAgbWF4aW1pemU6IHRydWVcbiAgICAgIH0pLnRvdGFsXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBnZXQgZGFpbHlTYW5Mb3NzICgpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4/LmRhaWx5TG9zcyB8fCAwXG4gIH1cblxuICBnZXQgZGFpbHlTYW5MaW1pdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuPy5kYWlseUxpbWl0IHx8IDBcbiAgfVxuXG4gIGdldCByYXdTYW5NYXggKCkge1xuICAgIGlmICghdGhpcy5zeXN0ZW0uYXR0cmlicykgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzPy5zYW4/LmF1dG8pIHtcbiAgICAgIGlmICh0aGlzLmN0aHVsaHVNeXRob3MpIHJldHVybiBNYXRoLm1heCg5OSAtIHRoaXMuY3RodWxodU15dGhvcywgMClcbiAgICAgIHJldHVybiA5OVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4ubWF4KVxuICB9XG5cbiAgZ2V0IHNhbk1heCAoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLm1heClcbiAgfVxuXG4gIGdldCBtcCAoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMubXAudmFsdWUpXG4gIH1cblxuICBnZXQgbXBNYXggKCkge1xuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLm1wLmF1dG8pIHtcbiAgICAgIC8vIFRPRE8gaWYgYW55IGlzIG51bGwgc2V0IG1heCBiYWNrIHRvIG51bGwuXG4gICAgICBpZiAodGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvdy52YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUgLyA1KVxuICAgICAgfVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMubXAubWF4KVxuICB9XG5cbiAgYXN5bmMgc2V0TXAgKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwXG4gICAgaWYgKHZhbHVlID4gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5tcC5tYXgpKSB7IHZhbHVlID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5tcC5tYXgpIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmF0dHJpYnMubXAudmFsdWUnOiB2YWx1ZSB9KVxuICB9XG5cbiAgZ2V0IHNhbiAoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlKVxuICB9XG5cbiAgZ2V0IGludCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoJ2ludCcpXG4gIH1cblxuICBnZXQgb2NjdXBhdGlvblBvaW50c1NwZW50ICgpIHtcbiAgICBsZXQgb2NjdXBhdGlvblBvaW50cyA9IDBcbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHRoaXMuc2tpbGxzKSB7XG4gICAgICBpZiAoc2tpbGwuc3lzdGVtLmFkanVzdG1lbnRzPy5vY2N1cGF0aW9uKSB7XG4gICAgICAgIG9jY3VwYXRpb25Qb2ludHMgKz0gc2tpbGwuc3lzdGVtLmFkanVzdG1lbnRzLm9jY3VwYXRpb25cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9jY3VwYXRpb25Qb2ludHNcbiAgfVxuXG4gIGdldCBvY2N1cGF0aW9uUG9pbnRzICgpIHtcbiAgICBpZiAoIXRoaXMub2NjdXBhdGlvbikgcmV0dXJuIDBcbiAgICBsZXQgcG9pbnRzID0gMFxuICAgIGZvciAoY29uc3QgZW50cnkgb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICB0aGlzLm9jY3VwYXRpb24uc3lzdGVtLm9jY3VwYXRpb25Ta2lsbFBvaW50c1xuICAgICkpIHtcbiAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGVudHJ5XG4gICAgICBjb25zdCBjaGFyID0gdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYyhrZXkpXG4gICAgICBpZiAodmFsdWUuc2VsZWN0ZWQpIHtcbiAgICAgICAgcG9pbnRzICs9IGNoYXIudmFsdWUgKiBOdW1iZXIodmFsdWUubXVsdGlwbGllcilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvaW50c1xuICB9XG5cbiAgYXN5bmMgcmVzZXRPY2N1cGF0aW9uUG9pbnRzICgpIHtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAnc3lzdGVtLmRldmVsb3BtZW50Lm9jY3VwYXRpb24nOiB0aGlzLm9jY3VwYXRpb25Qb2ludHNcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgcmVzZXRBcmNoZXR5cGVQb2ludHMgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICdzeXN0ZW0uZGV2ZWxvcG1lbnQuYXJjaGV0eXBlJzogdGhpcy5vY2N1cGF0aW9uUG9pbnRzXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIHJlc2V0UGVyc29uYWxQb2ludHMgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICdzeXN0ZW0uZGV2ZWxvcG1lbnQucGVyc29uYWwnOiB0aGlzLnBlcnNvbmFsUG9pbnRzXG4gICAgfSlcbiAgfVxuXG4gIGdldCBhcmNoZXR5cGVQb2ludHNTcGVudCAoKSB7XG4gICAgbGV0IGFyY2hldHlwZVBvaW50cyA9IDBcbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHRoaXMuc2tpbGxzKSB7XG4gICAgICBpZiAoc2tpbGwuc3lzdGVtLmFkanVzdG1lbnRzPy5hcmNoZXR5cGUpIHtcbiAgICAgICAgYXJjaGV0eXBlUG9pbnRzICs9IHNraWxsLnN5c3RlbS5hZGp1c3RtZW50cy5hcmNoZXR5cGVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyY2hldHlwZVBvaW50c1xuICB9XG5cbiAgZ2V0IGFyY2hldHlwZVBvaW50cyAoKSB7XG4gICAgaWYgKCF0aGlzLmFyY2hldHlwZSkgcmV0dXJuIDBcbiAgICByZXR1cm4gdGhpcy5hcmNoZXR5cGUuc3lzdGVtLmJvbnVzUG9pbnRzXG4gIH1cblxuICBnZXQgZXhwZXJpZW5jZVBvaW50cyAoKSB7XG4gICAgbGV0IGV4cGVyaWVuY2VQb2ludHMgPSAwXG4gICAgZm9yIChjb25zdCBza2lsbCBvZiB0aGlzLnNraWxscykge1xuICAgICAgaWYgKHNraWxsLnN5c3RlbS5hZGp1c3RtZW50cz8uZXhwZXJpZW5jZSkge1xuICAgICAgICBleHBlcmllbmNlUG9pbnRzICs9IHNraWxsLnN5c3RlbS5hZGp1c3RtZW50cy5leHBlcmllbmNlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHBlcmllbmNlUG9pbnRzXG4gIH1cblxuICBnZXQgcGVyc29uYWxQb2ludHNTcGVudCAoKSB7XG4gICAgbGV0IHBlcnNvbmFsUG9pbnRzID0gMFxuICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgdGhpcy5za2lsbHMpIHtcbiAgICAgIGlmIChza2lsbC5zeXN0ZW0uYWRqdXN0bWVudHM/LnBlcnNvbmFsKSB7XG4gICAgICAgIHBlcnNvbmFsUG9pbnRzICs9IHNraWxsLnN5c3RlbS5hZGp1c3RtZW50cy5wZXJzb25hbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGVyc29uYWxQb2ludHNcbiAgfVxuXG4gIGdldCBwZXJzb25hbFBvaW50cyAoKSB7XG4gICAgcmV0dXJuIDIgKiBOdW1iZXIodGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmludC52YWx1ZSlcbiAgfVxuXG4gIGdldCBoYXNEZXZlbG9wbWVudFBoYXNlICgpIHtcbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHRoaXMuc2tpbGxzKSB7XG4gICAgICBpZiAoc2tpbGwuc3lzdGVtLmZsYWdzPy5kZXZlbG9wZW1lbnQpIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLm9ubHlSdW5PbmNlUGVyU2Vzc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGZvciAoY29uc3Qgc2FuaXR5TG9zc0V2ZW50IG9mIHRoaXMuc3lzdGVtLnNhbml0eUxvc3NFdmVudHMpIHtcbiAgICAgIGlmICghc2FuaXR5TG9zc0V2ZW50LmltbXVuaXR5KSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGFzeW5jIHNldFNhbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDBcbiAgICBpZiAodmFsdWUgPiB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5tYXgpIHsgdmFsdWUgPSB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi5tYXggfVxuICAgIGNvbnN0IGxvc3MgPSBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSkgLSB2YWx1ZVxuXG4gICAgaWYgKGxvc3MgPiAwKSB7XG4gICAgICBsZXQgdG90YWxMb3NzID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMb3NzKVxuICAgICAgICA/IHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcylcbiAgICAgICAgOiAwXG4gICAgICB0b3RhbExvc3MgPSB0b3RhbExvc3MgKyBsb3NzXG4gICAgICBpZiAobG9zcyA+PSA1KSB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy50ZW1wb0luc2FuZSlcbiAgICAgIGlmICh0b3RhbExvc3MgPj0gdGhpcy5zeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMaW1pdCkge1xuICAgICAgICB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5pbmRlZkluc2FuZSlcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSc6IHZhbHVlLFxuICAgICAgICAnc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcyc6IHRvdGFsTG9zc1xuICAgICAgfSlcbiAgICB9IGVsc2UgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlJzogdmFsdWUgfSlcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIGFzeW5jIHNldEF0dHJpYkF1dG8gKHZhbHVlLCBhdHRyaWIpIHtcbiAgICBjb25zdCB1cGRhdGVkS2V5ID0gYHN5c3RlbS5hdHRyaWJzLiR7YXR0cmlifS5hdXRvYFxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7IFt1cGRhdGVkS2V5XTogdmFsdWUgfSlcbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZUF0dHJpYkF1dG8gKGF0dHJpYikge1xuICAgIHRoaXMuc2V0QXR0cmliQXV0byghdGhpcy5zeXN0ZW0uYXR0cmlic1thdHRyaWJdLmF1dG8sIGF0dHJpYilcbiAgfVxuXG4gIHN0YXRpYyBkYkZyb21DaGFyYWN0ZXJpc3RpY3MgKGNoYXJhY3RlcmlzdGljcykge1xuICAgIGNvbnN0IHN1bSA9IChjaGFyYWN0ZXJpc3RpY3Muc3RyLnZhbHVlID8/IDApICsgKGNoYXJhY3RlcmlzdGljcy5zaXoudmFsdWUgPz8gMClcbiAgICBpZiAoc3VtIDwgNjUpIHJldHVybiAtMlxuICAgIGlmIChzdW0gPCA4NSkgcmV0dXJuIC0xXG4gICAgaWYgKHN1bSA8IDEyNSkgcmV0dXJuIDBcbiAgICBpZiAoc3VtIDwgMTY1KSByZXR1cm4gJzFENCdcbiAgICByZXR1cm4gYCR7TWF0aC5mbG9vcigoc3VtIC0gNDUpIC8gODApfUQ2YFxuICB9XG5cbiAgc3RhdGljIGJ1aWxkRnJvbUNoYXJhY3RlcmlzdGljcyAoY2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgY29uc3Qgc3VtID0gKGNoYXJhY3RlcmlzdGljcy5zdHIudmFsdWUgPz8gMCkgKyAoY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSA/PyAwKVxuICAgIGlmIChzdW0gPCA2NSkgcmV0dXJuIC0yXG4gICAgaWYgKHN1bSA8IDg1KSByZXR1cm4gLTFcbiAgICBpZiAoc3VtIDwgMTI1KSByZXR1cm4gMFxuICAgIGlmIChzdW0gPCAxNjUpIHJldHVybiAxXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKHN1bSAtIDQ1KSAvIDgwKSArIDFcbiAgfVxuXG4gIHN0YXRpYyBocEZyb21DaGFyYWN0ZXJpc3RpY3MgKGNoYXJhY3RlcmlzdGljcywgdHlwZSkge1xuICAgIGNvbnN0IHN1bSA9IHBhcnNlSW50KGNoYXJhY3RlcmlzdGljcy5zaXoudmFsdWUgPz8gMCwgMTApICsgcGFyc2VJbnQoY2hhcmFjdGVyaXN0aWNzLmNvbi52YWx1ZSA/PyAwLCAxMClcbiAgICBjb25zdCBkaXZpc29yID0gKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlRG91YmxlTWF4SGVhbHRoJykgJiYgdHlwZSA9PT0gJ2NoYXJhY3RlcicgPyA1IDogMTApXG4gICAgcmV0dXJuIE1hdGguZmxvb3Ioc3VtIC8gZGl2aXNvcilcbiAgfVxuXG4gIHN0YXRpYyBtcEZyb21DaGFyYWN0ZXJpc3RpY3MgKGNoYXJhY3RlcmlzdGljcykge1xuICAgIHJldHVybiBNYXRoLmZsb29yKGNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUgLyA1KVxuICB9XG5cbiAgc3RhdGljIG1vdkZyb21DaGFyYWN0ZXJpc3RpY3MgKGNoYXJhY3RlcmlzdGljcywgdHlwZSwgYWdlKSB7XG4gICAgbGV0IE1PVlxuICAgIGlmIChjaGFyYWN0ZXJpc3RpY3MuZGV4LnZhbHVlID4gY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSAmJiBjaGFyYWN0ZXJpc3RpY3Muc3RyLnZhbHVlID4gY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSkge1xuICAgICAgTU9WID0gOSAvLyBCdWcgY29ycmVjdGlvbiBieSBBZG1pcmFsTnlhci5cbiAgICB9IGVsc2UgaWYgKGNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUgPj0gY2hhcmFjdGVyaXN0aWNzLnNpei52YWx1ZSB8fCBjaGFyYWN0ZXJpc3RpY3Muc3RyLnZhbHVlID49IGNoYXJhY3RlcmlzdGljcy5zaXoudmFsdWUpIHtcbiAgICAgIE1PViA9IDhcbiAgICB9IGVsc2Uge1xuICAgICAgTU9WID0gN1xuICAgIH1cbiAgICBpZiAodHlwZSAhPT0gJ2NyZWF0dXJlJyAmJiAhZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXMnKSkge1xuICAgICAgaWYgKCFpc05hTihwYXJzZUludChhZ2UpKSkge1xuICAgICAgICBNT1YgPSBwYXJzZUludChhZ2UpID49IDQwID8gTU9WIC0gTWF0aC5mbG9vcihwYXJzZUludChhZ2UpIC8gMTApICsgMyA6IE1PVlxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTU9WKVxuICB9XG5cbiAgZ2V0IHJhd0J1aWxkICgpIHtcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmF0dHJpYnMpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkKSByZXR1cm4gbnVsbFxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLnZhbHVlID09PSAnYXV0bycpIHtcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuYXV0byA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuYXV0bykge1xuICAgICAgcmV0dXJuIENvQ0FjdG9yLmJ1aWxkRnJvbUNoYXJhY3RlcmlzdGljcyh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWVcbiAgfVxuXG4gIGdldCBidWlsZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWVcbiAgfVxuXG4gIGdldCByYXdEYiAoKSB7XG4gICAgaWYgKCF0aGlzLnN5c3RlbS5hdHRyaWJzKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5zeXN0ZW0uYXR0cmlicy5kYikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZSA9PT0gJ2F1dG8nKSB7XG4gICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLmRiLmF1dG8gPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLmRiLmF1dG8pIHtcbiAgICAgIHJldHVybiBDb0NBY3Rvci5kYkZyb21DaGFyYWN0ZXJpc3RpY3ModGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZVxuICB9XG5cbiAgZ2V0IGRiICgpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZVxuICB9XG5cbiAgZ2V0IHJhd01vdiAoKSB7XG4gICAgaWYgKCF0aGlzLnN5c3RlbS5hdHRyaWJzKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YpIHJldHVybiBudWxsXG4gICAgaWYgKHRoaXMuc3lzdGVtLmF0dHJpYnMubW92LnZhbHVlID09PSAnYXV0bycpIHtcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMubW92LmF1dG8gPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5hdHRyaWJzLm1vdi5hdXRvKSB7XG4gICAgICBjb25zdCBNT1YgPSBDb0NBY3Rvci5tb3ZGcm9tQ2hhcmFjdGVyaXN0aWNzKHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcywgdGhpcy5zeXN0ZW0udHlwZSwgdGhpcy5zeXN0ZW0uaW5mb3MuYWdlKVxuICAgICAgaWYgKE1PViA+IDApIHJldHVybiBNT1ZcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLmF0dHJpYnMubW92LnZhbHVlXG4gIH1cblxuICBnZXQgbW92ICgpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXR0cmlicy5tb3YudmFsdWVcbiAgfVxuXG4gIGdldCB0b2tlbklkICgpIHtcbiAgICAvLyBUT0RPIGNsYXJpZmllciBjYSBldCB0b2tlbmtleVxuICAgIHJldHVybiB0aGlzLnRva2VuID8gYCR7dGhpcy50b2tlbi5zY2VuZS5faWR9LiR7dGhpcy50b2tlbi5pZH1gIDogbnVsbCAvLyBSRUZBQ1RPUklORyAoMilcbiAgfVxuXG4gIGdldCBsb2NrZWQgKCkge1xuICAgIGlmICghdGhpcy5zeXN0ZW0uZmxhZ3MpIHtcbiAgICAgIHRoaXMuc3lzdGVtLmZsYWdzID0ge31cbiAgICAgIHRoaXMuc3lzdGVtLmZsYWdzLmxvY2tlZCA9IHRydWUgLy8gTG9ja2VkIGJ5IGRlZmF1bHRcbiAgICAgIHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncyc6IHt9IH0pXG4gICAgICB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZmxhZ3MubG9ja2VkJzogZmFsc2UgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gIH1cblxuICBnZXRJdGVtc0Zyb21OYW1lIChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKGkgPT4gaS5uYW1lID09PSBuYW1lKVxuICB9XG5cbiAgc2V0IGxvY2tlZCAodmFsdWUpIHtcbiAgICB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZmxhZ3MubG9ja2VkJzogdmFsdWUgfSlcbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZUFjdG9yRmxhZyAoZmxhZ05hbWUpIHtcbiAgICBjb25zdCBmbGFnVmFsdWUgPSAhdGhpcy5zeXN0ZW0uZmxhZ3NbZmxhZ05hbWVdXG4gICAgY29uc3QgbmFtZSA9IGBzeXN0ZW0uZmxhZ3MuJHtmbGFnTmFtZX1gXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyBbbmFtZV06IGZsYWdWYWx1ZSB9KVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYXR0cmlidXRlTmFtZSBrZXkgb2YgYXR0cmlidXRlIHRvIGNoZWNrIGluIFsnbGNrJ11cbiAgICogQHBhcmFtIHsqfSBmYXN0Rm9yd2FyZFxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgZGlmZmljdWx0eSBpbiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLCBtb2RpZmllciAoLTIgKzIpLCBuYW1lXG4gICAqL1xuICBhc3luYyBhdHRyaWJ1dGVDaGVjayAoYXR0cmlidXRlTmFtZSwgZmFzdEZvcndhcmQgPSBmYWxzZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgYXR0cmliID0gdGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgIGlmICghYXR0cmliKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yTm90Rm91bmQnLCB7XG4gICAgICAgICAgbWlzc2luZzogYXR0cmlidXRlTmFtZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBjaGVjayA9IG5ldyBDb0M3Q2hlY2soKVxuXG4gICAgaWYgKG9wdGlvbnMubW9kaWZpZXIpIGNoZWNrLmRpY2VNb2RpZmllciA9IE51bWJlcihvcHRpb25zLm1vZGlmaWVyKVxuICAgIGlmIChvcHRpb25zLmRpZmZpY3VsdHkpIHtcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBDb0M3VXRpbGl0aWVzLmNvbnZlcnREaWZmaWN1bHR5KG9wdGlvbnMuZGlmZmljdWx0eSlcbiAgICB9XG5cbiAgICBpZiAoIWZhc3RGb3J3YXJkKSB7XG4gICAgICBpZiAodW5kZWZpbmVkID09PSBvcHRpb25zLmRpZmZpY3VsdHkgfHwgdW5kZWZpbmVkID09PSBvcHRpb25zLm1vZGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgUm9sbERpYWxvZy5jcmVhdGUob3B0aW9ucylcbiAgICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgICAgY2hlY2suZGljZU1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnYm9udXNEaWNlJykpXG4gICAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IE51bWJlcih1c2FnZS5nZXQoJ2RpZmZpY3VsdHknKSlcbiAgICAgICAgICBjaGVjay5mbGF0RGljZU1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnZmxhdERpY2VNb2RpZmllcicpKVxuICAgICAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IE51bWJlcihcbiAgICAgICAgICAgIHVzYWdlLmdldCgnZmxhdFRocmVzaG9sZE1vZGlmaWVyJylcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVjay5hY3RvciA9IHRoaXMudG9rZW5LZXlcbiAgICBpZiAob3B0aW9ucy5ibGluZCA9PT0gJ2ZhbHNlJykgY2hlY2suaXNCbGluZCA9IGZhbHNlXG4gICAgZWxzZSBjaGVjay5pc0JsaW5kID0gISFvcHRpb25zLmJsaW5kXG4gICAgYXdhaXQgY2hlY2sucm9sbEF0dHJpYnV0ZShhdHRyaWIua2V5KVxuICAgIGNoZWNrLnRvTWVzc2FnZSgpXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHsqfSBjaGFyYWN0ZXJpc3RpY05hbWUga2V5IG9mIGNoYXJhY3RlcmlzdGljIHRvIGNoZWNrIGluIFsnc3RyJywnY29uJywnc2l6JywnZGV4JywnYXBwJywnaW50JywncG93JywnZWR1J11cbiAgICogQHBhcmFtIHsqfSBmYXN0Rm9yd2FyZFxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgZGlmZmljdWx0eSBpbiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLCBtb2RpZmllciAoLTIgKzIpLCBuYW1lXG4gICAqL1xuICBhc3luYyBjaGFyYWN0ZXJpc3RpY0NoZWNrIChcbiAgICBjaGFyYWN0ZXJpc3RpY05hbWUsXG4gICAgZmFzdEZvcndhcmQgPSBmYWxzZSxcbiAgICBvcHRpb25zID0ge31cbiAgKSB7XG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoY2hhcmFjdGVyaXN0aWNOYW1lKVxuXG4gICAgaWYgKCFjaGFyKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yTm90Rm91bmRGb3JBY3RvcicsIHtcbiAgICAgICAgICBtaXNzaW5nOiBjaGFyYWN0ZXJpc3RpY05hbWUsXG4gICAgICAgICAgYWN0b3I6IHRoaXMubmFtZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcblxuICAgIGlmIChvcHRpb25zLm1vZGlmaWVyKSBjaGVjay5kaWNlTW9kaWZpZXIgPSBOdW1iZXIob3B0aW9ucy5tb2RpZmllcilcbiAgICBpZiAob3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICBjaGVjay5kaWZmaWN1bHR5ID0gQ29DN1V0aWxpdGllcy5jb252ZXJ0RGlmZmljdWx0eShvcHRpb25zLmRpZmZpY3VsdHkpXG4gICAgfVxuXG4gICAgaWYgKCFmYXN0Rm9yd2FyZCkge1xuICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gb3B0aW9ucy5kaWZmaWN1bHR5IHx8IHVuZGVmaW5lZCA9PT0gb3B0aW9ucy5tb2RpZmllcikge1xuICAgICAgICBvcHRpb25zLmRpc3BsYXlOYW1lID0gY2hhci5sYWJlbFxuICAgICAgICBjb25zdCB1c2FnZSA9IGF3YWl0IFJvbGxEaWFsb2cuY3JlYXRlKG9wdGlvbnMpXG4gICAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2JvbnVzRGljZScpKVxuICAgICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBOdW1iZXIodXNhZ2UuZ2V0KCdkaWZmaWN1bHR5JykpXG4gICAgICAgICAgY2hlY2suZmxhdERpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2ZsYXREaWNlTW9kaWZpZXInKSlcbiAgICAgICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBOdW1iZXIoXG4gICAgICAgICAgICB1c2FnZS5nZXQoJ2ZsYXRUaHJlc2hvbGRNb2RpZmllcicpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2suYWN0b3IgPSB0aGlzLnRva2VuS2V5XG4gICAgaWYgKG9wdGlvbnMuYmxpbmQgPT09ICdmYWxzZScpIGNoZWNrLmlzQmxpbmQgPSBmYWxzZVxuICAgIGVsc2UgY2hlY2suaXNCbGluZCA9ICEhb3B0aW9ucy5ibGluZFxuICAgIGF3YWl0IGNoZWNrLnJvbGxDaGFyYWN0ZXJpc3RpYyhjaGFyLmtleSlcbiAgICBjaGVjay50b01lc3NhZ2UoKVxuICB9XG5cbiAgYXN5bmMgc2tpbGxDaGVjayAoc2tpbGxEYXRhLCBmYXN0Rm9yd2FyZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHNraWxsID0gdGhpcy5nZXRTa2lsbHNCeU5hbWUoXG4gICAgICBza2lsbERhdGEubmFtZSA/IHNraWxsRGF0YS5uYW1lIDogc2tpbGxEYXRhXG4gICAgKVxuICAgIGlmICghc2tpbGwubGVuZ3RoKSB7XG4gICAgICBsZXQgaXRlbSA9IG51bGxcbiAgICAgIGlmIChza2lsbERhdGEucGFjaykge1xuICAgICAgICBjb25zdCBwYWNrID0gZ2FtZS5wYWNrcy5nZXQoc2tpbGxEYXRhLnBhY2spXG4gICAgICAgIGlmIChwYWNrLm1ldGFkYXRhLmVudGl0eSAhPT0gJ0l0ZW0nKSByZXR1cm5cbiAgICAgICAgaXRlbSA9IGF3YWl0IHBhY2suZ2V0RG9jdW1lbnQoc2tpbGxEYXRhLmlkKVxuICAgICAgfSBlbHNlIGlmIChza2lsbERhdGEuaWQpIHtcbiAgICAgICAgaXRlbSA9IGdhbWUuaXRlbXMuZ2V0KHNraWxsRGF0YS5pZClcbiAgICAgIH1cblxuICAgICAgLy8gTm8gc2tpbGwgZm91bmQsIHRyeSB0byBnZXQgZ2V0IGl0IGZyb20gY29tcGVuZGl1bSAhXG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IHJldHJpZXZhbCBvZiBza2lsbCBmcm9tIGNvbXBlbmRpdW0gISFcbiAgICAgICAgLy8gZ2FtZS5zZXR0aW5ncy5nZXQoICdDb0M3JywgJ0RlZmF1bHRDb21wZW5kaXVtJyk7XG4gICAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICAgIGNoZWNrLl9yYXdWYWx1ZSA9ICc/J1xuICAgICAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICAgICAgY2hlY2sudG9NZXNzYWdlKClcbiAgICAgIH1cbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTm9Ta2lsbCcpICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JOb3RGb3VuZEZvckFjdG9yJywge1xuICAgICAgICAgICAgICBtaXNzaW5nOiBza2lsbERhdGEubmFtZSA/IHNraWxsRGF0YS5uYW1lIDogc2tpbGxEYXRhLFxuICAgICAgICAgICAgICBhY3RvcjogdGhpcy5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGxldCBjcmVhdGUgPSBmYWxzZVxuICAgICAgYXdhaXQgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFkZFdlYXBvbicpfWAsXG4gICAgICAgIGNvbnRlbnQ6IGA8cD4ke2dhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQWRkV2VhcG9udEhpbnQnLCB7XG4gICAgICAgICAgd2VhcG9uOiBza2lsbERhdGEubmFtZSxcbiAgICAgICAgICBhY3RvcjogdGhpcy5uYW1lXG4gICAgICAgIH0pfTwvcD5gLFxuICAgICAgICB5ZXM6ICgpID0+IHtcbiAgICAgICAgICBjcmVhdGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGlmIChjcmVhdGUgPT09IHRydWUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtkdXBsaWNhdGUoaXRlbSldKVxuICAgICAgfSBlbHNlIHJldHVyblxuXG4gICAgICBza2lsbCA9IHRoaXMuZ2V0U2tpbGxzQnlOYW1lKGl0ZW0ubmFtZSlcblxuICAgICAgaWYgKCFza2lsbC5sZW5ndGgpIHJldHVyblxuXG4gICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgY29uc3Qgc2tpbGxWYWx1ZSA9IGF3YWl0IFNraWxsVmFsdWVEaWFsb2cuY3JlYXRlKFxuICAgICAgICAgIHNraWxsWzBdLm5hbWUsXG4gICAgICAgICAgc2tpbGxbMF0uYmFzZVxuICAgICAgICApXG4gICAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKHNraWxsVmFsdWUuZ2V0KCdiYXNlLXZhbHVlJykpXG4gICAgICAgIGF3YWl0IHNraWxsWzBdLnVwZGF0ZVZhbHVlKHZhbHVlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG5cbiAgICBpZiAodW5kZWZpbmVkICE9PSBvcHRpb25zLm1vZGlmaWVyKSB7XG4gICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSBOdW1iZXIob3B0aW9ucy5tb2RpZmllcilcbiAgICB9XG4gICAgaWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5kaWZmaWN1bHR5KSB7XG4gICAgICBjaGVjay5kaWZmaWN1bHR5ID0gQ29DN1V0aWxpdGllcy5jb252ZXJ0RGlmZmljdWx0eShvcHRpb25zLmRpZmZpY3VsdHkpXG4gICAgfVxuXG4gICAgaWYgKCFmYXN0Rm9yd2FyZCkge1xuICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gb3B0aW9ucy5kaWZmaWN1bHR5IHx8IHVuZGVmaW5lZCA9PT0gb3B0aW9ucy5tb2RpZmllcikge1xuICAgICAgICBjb25zdCB1c2FnZSA9IGF3YWl0IFJvbGxEaWFsb2cuY3JlYXRlKG9wdGlvbnMpXG4gICAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2JvbnVzRGljZScpKVxuICAgICAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBOdW1iZXIodXNhZ2UuZ2V0KCdkaWZmaWN1bHR5JykpXG4gICAgICAgICAgY2hlY2suZmxhdERpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2ZsYXREaWNlTW9kaWZpZXInKSlcbiAgICAgICAgICBjaGVjay5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBOdW1iZXIoXG4gICAgICAgICAgICB1c2FnZS5nZXQoJ2ZsYXRUaHJlc2hvbGRNb2RpZmllcicpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2suYWN0b3IgPSB0aGlzLnRva2VuS2V5XG4gICAgY2hlY2suc2tpbGwgPSBza2lsbFswXS5pZFxuICAgIGlmIChvcHRpb25zLmJsaW5kID09PSAnZmFsc2UnKSBjaGVjay5pc0JsaW5kID0gZmFsc2VcbiAgICBlbHNlIGNoZWNrLmlzQmxpbmQgPSAhIW9wdGlvbnMuYmxpbmRcbiAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICBjaGVjay50b01lc3NhZ2UoKVxuICB9XG5cbiAgYXN5bmMgd2VhcG9uQ2hlY2sgKHdlYXBvbkRhdGEsIGZhc3RGb3J3YXJkID0gZmFsc2UpIHtcbiAgICBsZXQgd2VhcG9uXG4gICAgaWYgKHR5cGVvZiB3ZWFwb25EYXRhLnV1aWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3ZWFwb24gPSBhd2FpdCBmcm9tVXVpZCh3ZWFwb25EYXRhLnV1aWQpXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2VhcG9uRGF0YS5pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdlYXBvbiA9IHRoaXMuaXRlbXMuZ2V0KHdlYXBvbkRhdGEuaWQpXG4gICAgfVxuICAgIGlmICghd2VhcG9uKSB7XG4gICAgICBsZXQgd2VhcG9ucyA9IHRoaXMuZ2V0SXRlbXNGcm9tTmFtZSh3ZWFwb25EYXRhLm5hbWUpXG4gICAgICBpZiAod2VhcG9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgICAgbGV0IGl0ZW0gPSBudWxsXG4gICAgICAgICAgY29uc3QgcGFjayA9IHdlYXBvbkRhdGEucGFjayA/IGdhbWUucGFja3MuZ2V0KHdlYXBvbkRhdGEucGFjaykgOiBudWxsXG4gICAgICAgICAgaWYgKHBhY2spIHtcbiAgICAgICAgICAgIGlmIChwYWNrLm1ldGFkYXRhLmVudGl0eSAhPT0gJ0l0ZW0nKSByZXR1cm5cbiAgICAgICAgICAgIGl0ZW0gPSBhd2FpdCBwYWNrLmdldERvY3VtZW50KHdlYXBvbkRhdGEuaWQpXG4gICAgICAgICAgfSBlbHNlIGlmICh3ZWFwb25EYXRhLmlkKSB7XG4gICAgICAgICAgICBpdGVtID0gZ2FtZS5pdGVtcy5nZXQod2VhcG9uRGF0YS5pZClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuTWFjcm9Ob0l0ZW1Gb3VuZCcpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGNyZWF0ZSA9IGZhbHNlXG4gICAgICAgICAgYXdhaXQgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgICAgICAgdGl0bGU6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BZGRXZWFwb24nKX1gLFxuICAgICAgICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmZvcm1hdCgnQ29DNy5BZGRXZWFwb250SGludCcsIHtcbiAgICAgICAgICAgICAgd2VhcG9uOiB3ZWFwb25EYXRhLm5hbWUsXG4gICAgICAgICAgICAgIGFjdG9yOiB0aGlzLm5hbWVcbiAgICAgICAgICAgIH0pfTwvcD5gLFxuICAgICAgICAgICAgeWVzOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGNyZWF0ZSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIGNvbnN0IGFjdG9yID1cbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLnBhcmVudD8uYWN0b3IgIT09ICd1bmRlZmluZWQnID8gdGhpcy5wYXJlbnQuYWN0b3IgOiB0aGlzXG5cbiAgICAgICAgICBpZiAoY3JlYXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBhd2FpdCBhY3Rvci5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtpdGVtLnRvSlNPTigpXSlcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuXG4gICAgICAgICAgd2VhcG9ucyA9IGFjdG9yLmdldEl0ZW1zRnJvbU5hbWUoaXRlbS5uYW1lKVxuICAgICAgICAgIGlmICghd2VhcG9ucy5sZW5ndGgpIHJldHVyblxuICAgICAgICAgIGF3YWl0IHdlYXBvbnNbMF0ucmVsb2FkKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yQWN0b3JIYXNOb1dlYXBvbk5hbWVkJywge1xuICAgICAgICAgICAgICBhY3Rvck5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgd2VhcG9uTmFtZTogd2VhcG9uRGF0YS5uYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh3ZWFwb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JBY3Rvckhhc1Rvb01hbnlXZWFwb25zTmFtZWQnLCB7XG4gICAgICAgICAgICBhY3Rvck5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHdlYXBvbk5hbWU6IHdlYXBvbkRhdGEubmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHdlYXBvbiA9IHdlYXBvbnNbMF1cbiAgICB9XG5cbiAgICBpZiAoIXdlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICBpZiAoZ2FtZS51c2VyLnRhcmdldHMuc2l6ZSA+IDEpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuVG9vTWFueVRhcmdldCcpKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjYXJkID0gbmV3IENvQzdNZWxlZUluaXRpYXRvcih0aGlzLnRva2VuS2V5LCAod2VhcG9uRGF0YS51dWlkIHx8IHdlYXBvbi5pZCksIGZhc3RGb3J3YXJkKVxuICAgICAgY2FyZC5jcmVhdGVDaGF0Q2FyZCgpXG4gICAgfVxuICAgIGlmICh3ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMucm5nZCkge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDb0M3UmFuZ2VJbml0aWF0b3IodGhpcy50b2tlbktleSwgKHdlYXBvbkRhdGEudXVpZCB8fCB3ZWFwb24uaWQpLCBmYXN0Rm9yd2FyZClcbiAgICAgIGNhcmQuY3JlYXRlQ2hhdENhcmQoKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJvbGxJbml0aWF0aXZlIChoYXNHdW4gPSBmYWxzZSkge1xuICAgIHN3aXRjaCAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnaW5pdGlhdGl2ZVJ1bGUnKSkge1xuICAgICAgY2FzZSAnb3B0aW9uYWwnOiB7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBuZXcgQ29DN0NoZWNrKHRoaXMuYWN0b3JLZXkpXG4gICAgICAgIHJvbGwuZGVueVB1c2ggPSB0cnVlXG4gICAgICAgIHJvbGwuZGVueUx1Y2sgPSB0cnVlXG4gICAgICAgIHJvbGwuZGVueUJsaW5kVGFtcGVyaW5nID0gdHJ1ZVxuICAgICAgICByb2xsLmhpZGVEaWNlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUluaXREaWNlcycpID09PSBmYWxzZVxuICAgICAgICByb2xsLmZsYXZvciA9ICdJbml0aWF0aXZlIHJvbGwnXG4gICAgICAgIGF3YWl0IHJvbGwucm9sbENoYXJhY3RlcmlzdGljKCdkZXgnLCBoYXNHdW4gPyAxIDogMClcbiAgICAgICAgcm9sbC50b01lc3NhZ2UoKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHJvbGwuc3VjY2Vzc0xldmVsICsgdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmRleC52YWx1ZSAvIDEwMFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBoYXNHdW5cbiAgICAgICAgICA/IHRoaXMuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWUgKyA1MFxuICAgICAgICAgIDogdGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLmRleC52YWx1ZVxuICAgIH1cbiAgfVxuXG4gIGdldEFjdG9yRmxhZyAoZmxhZ05hbWUpIHtcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmZsYWdzKSB7XG4gICAgICB0aGlzLnN5c3RlbS5mbGFncyA9IHt9XG4gICAgICB0aGlzLnN5c3RlbS5mbGFncy5sb2NrZWQgPSB0cnVlXG4gICAgICB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uZmxhZ3MnOiB7fSB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN5c3RlbS5mbGFnc1tmbGFnTmFtZV0pIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0aGlzLnN5c3RlbS5mbGFnc1tmbGFnTmFtZV1cbiAgfVxuXG4gIGFzeW5jIHNldEFjdG9yRmxhZyAoZmxhZ05hbWUpIHtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtgc3lzdGVtLmZsYWdzLiR7ZmxhZ05hbWV9YF06IHRydWUgfSlcbiAgfVxuXG4gIGFzeW5jIHVuc2V0QWN0b3JGbGFnIChmbGFnTmFtZSkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgW2BzeXN0ZW0uZmxhZ3MuJHtmbGFnTmFtZX1gXTogZmFsc2UgfSlcbiAgfVxuXG4gIGdldFdlYXBvblNraWxscyAoaXRlbUlkKSB7XG4gICAgbGV0IHdlYXBvbiA9IGZyb21VdWlkU3luYyhpdGVtSWQpXG4gICAgaWYgKCF3ZWFwb24pIHtcbiAgICAgIHdlYXBvbiA9IHRoaXMuaXRlbXMuZ2V0KGl0ZW1JZClcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3ZWFwb24uc3lzdGVtID09PSAndW5kZWZpbmVkJykge1xuICAgICAgd2VhcG9uID0gZ2FtZS5wYWNrcy5nZXQod2VhcG9uLnBhY2spLmdldCh3ZWFwb24uX2lkKVxuICAgIH1cbiAgICBpZiAod2VhcG9uLnR5cGUgIT09ICd3ZWFwb24nKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IHNraWxscyA9IFtdXG4gICAgaWYgKHdlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi5pZCkge1xuICAgICAgc2tpbGxzLnB1c2godGhpcy5pdGVtcy5nZXQod2VhcG9uLnN5c3RlbS5za2lsbC5tYWluLmlkKSlcbiAgICB9XG5cbiAgICBpZiAod2VhcG9uLnVzZXNBbHRlcm5hdGl2ZVNraWxsICYmIHdlYXBvbi5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCkge1xuICAgICAgc2tpbGxzLnB1c2godGhpcy5pdGVtcy5nZXQod2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkKSlcbiAgICB9XG4gICAgcmV0dXJuIHNraWxsc1xuICB9XG5cbiAgLyoqIFRyeSB0byBmaW5kIGEgY2hhcmFjdGVyaXN0aWMsIGF0dHJpYnV0ZSBvciBza2lsbCB0aGF0IG1hdGNoZXMgdGhlIG5hbWUgKi9cbiAgZmluZCAobmFtZSkge1xuICAgIGlmICghbmFtZSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIC8vIFRyeSBJRFxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zLmdldChuYW1lKVxuICAgIGlmIChpdGVtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnaXRlbScsXG4gICAgICAgIHZhbHVlOiBpdGVtXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVnRXhwID0gL1xcKChbXildKylcXCkvXG4gICAgY29uc3QgbWF0Y2hlcyA9IHJlZ0V4cC5leGVjKG5hbWUpXG4gICAgbGV0IHNob3J0TmFtZSA9IG51bGxcbiAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkgc2hvcnROYW1lID0gbWF0Y2hlc1sxXVxuICAgIC8vIFRyeSB0byBmaW5kIGEgc2tpbGwgd2l0aCBleGFjdCBuYW1lLlxuICAgIGNvbnN0IHNraWxsID0gdGhpcy5za2lsbHMuZmlsdGVyKHMgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgISFzLm5hbWUgJiZcbiAgICAgICAgKHMubmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykgPT09XG4gICAgICAgICAgbmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykgfHxcbiAgICAgICAgICBzLm5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpID09PVxuICAgICAgICAgICAgbmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykgfHxcbiAgICAgICAgICBzLm5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpID09PVxuICAgICAgICAgICAgc2hvcnROYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJykpXG4gICAgICApXG4gICAgfSlcbiAgICBpZiAoc2tpbGwubGVuZ3RoKSByZXR1cm4geyB0eXBlOiAnaXRlbScsIHZhbHVlOiBza2lsbFswXSB9XG5cbiAgICAvLyBUcnkgdG8gZmluZCBhIGNoYXJhY3RlcmlzdGljLlxuICAgIGNvbnN0IGNoYXJLZXkgPSBbJ3N0cicsICdjb24nLCAnc2l6JywgJ2RleCcsICdhcHAnLCAnaW50JywgJ3BvdycsICdlZHUnXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcktleS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoY2hhcktleVtpXSlcbiAgICAgIGlmIChjaGFyKSB7XG4gICAgICAgIGNoYXIubmFtZSA9IGNoYXIubGFiZWxcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNoYXIua2V5Py50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBjaGFyLmtleT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2hvcnROYW1lPy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdjaGFyYWN0ZXJpc3RpYycsIHZhbHVlOiBjaGFyIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2hhci5zaG9ydE5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgIGNoYXIuc2hvcnROYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzaG9ydE5hbWU/LnRvTG93ZXJDYXNlKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2NoYXJhY3RlcmlzdGljJywgdmFsdWU6IGNoYXIgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjaGFyLmxhYmVsPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBjaGFyLmxhYmVsPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzaG9ydE5hbWU/LnRvTG93ZXJDYXNlKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2NoYXJhY3RlcmlzdGljJywgdmFsdWU6IGNoYXIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIGZpbmQgYSBhdHRyaWJ1dGUuXG4gICAgY29uc3QgYXR0cmliS2V5ID0gWydsY2snLCAnc2FuJ11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYktleS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYXR0ciA9IHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYktleVtpXSlcbiAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgIGF0dHIubmFtZSA9IGF0dHIubGFiZWxcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHIua2V5Py50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBhdHRyLmtleT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2hvcnROYW1lPy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdhdHRyaWJ1dGUnLCB2YWx1ZTogYXR0ciB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHIuc2hvcnROYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICBhdHRyLnNob3J0TmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2hvcnROYW1lPy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdhdHRyaWJ1dGUnLCB2YWx1ZTogYXR0ciB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF0dHIubGFiZWw/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgIGF0dHIubGFiZWw/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNob3J0TmFtZT8udG9Mb3dlckNhc2UoKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4geyB0eXBlOiAnYXR0cmlidXRlJywgdmFsdWU6IGF0dHIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IHdpdGggcGFydGlhbCA/P1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBwaWxvdFNraWxscyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2tpbGxzLmZpbHRlcihzID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHMuc3lzdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwgJiZcbiAgICAgICAgcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgZ2FtZS5pMThuXG4gICAgICAgICAgICAubG9jYWxpemUoJ0NvQzcuUGlsb3RTcGVjaWFsaXphdGlvbk5hbWUnKVxuICAgICAgICAgICAgPy50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIGdldCBkcml2ZVNraWxscyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2tpbGxzLmZpbHRlcihzID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHMuc3lzdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwgJiZcbiAgICAgICAgcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgZ2FtZS5pMThuXG4gICAgICAgICAgICAubG9jYWxpemUoJ0NvQzcuRHJpdmVTcGVjaWFsaXphdGlvbk5hbWUnKVxuICAgICAgICAgICAgPy50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIGdldCB0b2tlblV1aWQgKCkge1xuICAgIGlmICh0aGlzLnNoZWV0LnRva2VuKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaGVldC50b2tlbi51dWlkXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgdG9rZW5LZXkgKCkge1xuICAgIC8vIENsYXJpZmllciBjYSBldCB0b2tlbmlkXG4gICAgLyoqICogTU9ESUYgMC44LnggKi9cbiAgICAvLyBpZiB0aGlzLnNoZWV0LnRva2VuID0+IHdhcyBvcGVuZWQgZnJvbSB0b2tlblxuICAgIC8vIGlmIHRoaXMudG9rZW4gPT4gc3ludGhldGljIGFjdG9yID09IHRoaXMuaXNUb2tlblxuICAgIGlmICh0aGlzLnNoZWV0LnRva2VuKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5zaGVldC50b2tlbi5wYXJlbnQuaWR9LiR7dGhpcy5zaGVldC50b2tlbi5pZH1gXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuaWRcbiAgICB9XG4gICAgLyoqKioqKioqKioqKioqKioqL1xuICAgIC8vIC8vQ2FzZSAxOiB0aGUgYWN0b3IgaXMgYSBzeW50aGV0aWMgYWN0b3IgYW5kIGhhcyBhIHRva2VuLCByZXR1cm4gdG9rZW4ga2V5LlxuICAgIC8vIGlmKCB0aGlzLmlzVG9rZW4pIHJldHVybiBgJHt0aGlzLnRva2VuLnNjZW5lPy5faWQ/dGhpcy50b2tlbi5zY2VuZS5faWQ6J1RPS0VOJ30uJHt0aGlzLnRva2VuLmlkfWA7ICAvL1JFRkFDVE9SSU5HICgyKVxuXG4gICAgLy8gLy9DYXNlIDI6IHRoZSBhY3RvciBpcyBub3QgYSB0b2tlbiAobGlua2VkIGFjdG9yKS4gSWYgdGhlIHNoZWV0IGhhdmUgYW4gYXNzb2NpYXRlZCB0b2tlbiByZXR1cm4gdGhlIHRva2VuIGtleS5cbiAgICAvLyBpZiggdGhpcy5zaGVldC50b2tlbikgcmV0dXJuIGAke3RoaXMuc2hlZXQudG9rZW4uc2NlbmU/LmlkP3RoaXMuc2hlZXQudG9rZW4uc2NlbmUuaWQ6J1RPS0VOJ30uJHt0aGlzLnNoZWV0LnRva2VuLmlkfWA7XG5cbiAgICAvLyAvL0Nhc2UgMzogQWN0b3IgaGFzIG5vIHRva2VuIHJldHVybiBoaXMgSUQ7XG4gICAgLy8gcmV0dXJuIHRoaXMuaWQ7XG4gIH1cblxuICBnZXQgYWN0b3JLZXkgKCkge1xuICAgIGlmICh0aGlzLnByb3RvdHlwZVRva2VuLmFjdG9yTGluaykgcmV0dXJuIHRoaXMuaWQgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgcmV0dXJuIHRoaXMudG9rZW5LZXlcbiAgfVxuXG4gIHN0YXRpYyBnZXRBY3RvckZyb21LZXkgKGtleSkge1xuICAgIC8vIENhc2UgMSAtIGEgc3ludGhldGljIGFjdG9yIGZyb20gYSBUb2tlblxuICAgIGlmIChrZXkuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICBjb25zdCBbc2NlbmVJZCwgdG9rZW5JZF0gPSBrZXkuc3BsaXQoJy4nKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuYWN0b3JzLnRva2Vuc1t0b2tlbklkXSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHNjZW5lSWQpXG4gICAgICAgIGlmICghc2NlbmUpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuRGF0YSA9IHNjZW5lLmdldEVtYmVkZGVkRG9jdW1lbnQoJ1Rva2VuJywgdG9rZW5JZClcbiAgICAgICAgaWYgKCF0b2tlbkRhdGEpIHJldHVybiBudWxsXG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IFRva2VuKHRva2VuRGF0YSlcbiAgICAgICAgcmV0dXJuIHRva2VuLmFjdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FzZSAyIC0gdXNlIEFjdG9yIElEIGRpcmVjdG9yeVxuICAgIHJldHVybiBnYW1lLmFjdG9ycy5nZXQoa2V5KSB8fCBudWxsXG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoZSBmb3JtdWxhIGlmIGF2YWlsYWJsZSB0byByb2xsIHNvbWUgY2hhcmFjdGVyaXRpY3MuXG4gICAqL1xuICBhc3luYyByb2xsQ2hhcmFjdGVyaXN0aWNzVmFsdWUgKCkge1xuICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljcyA9IHt9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSkge1xuICAgICAgaWYgKHZhbHVlLmZvcm11bGEgJiYgIXZhbHVlLmZvcm11bGEuc3RhcnRzV2l0aCgnQCcpKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgUm9sbCh2YWx1ZS5mb3JtdWxhKVxuICAgICAgICBhd2FpdCByLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICBpZiAoci50b3RhbCkge1xuICAgICAgICAgIGNoYXJhY3RlcmlzdGljc1tgc3lzdGVtLmNoYXJhY3RlcmlzdGljcy4ke2tleX0udmFsdWVgXSA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICByLnRvdGFsXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoY2hhcmFjdGVyaXN0aWNzKVxuICAgIGF3YWl0IHRoaXMucmVwb3J0Q2hhcmFjdGVkcml0aWNzVmFsdWUoKVxuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZXJlIGlzIGEgZm9ybXVsYSwgd2lsbCBzZXQgdGhlIGNoYXJhY3RlcmlzdGljIHRvIHRoZSBhdmVyYWdlIHZhbHVlICxpZiBkaXZpc2libGUgYnkgNSwgb3IgdGhlIGNsb3Nlc3QgMTAuXG4gICAqL1xuICBhc3luYyBhdmVyYWdlQ2hhcmFjdGVyaXN0aWNzVmFsdWUgKCkge1xuICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljcyA9IHt9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSkge1xuICAgICAgaWYgKHZhbHVlLmZvcm11bGEgJiYgIXZhbHVlLmZvcm11bGEuc3RhcnRzV2l0aCgnQCcpKSB7XG4gICAgICAgIGNvbnN0IG1heCA9IG5ldyBSb2xsKHZhbHVlLmZvcm11bGEpLmV2YWx1YXRlKHsgbWF4aW1pemU6IHRydWUgfSkudG90YWxcbiAgICAgICAgY29uc3QgbWluID0gbmV3IFJvbGwodmFsdWUuZm9ybXVsYSkuZXZhbHVhdGUoeyBtaW5pbWl6ZTogdHJ1ZSB9KS50b3RhbFxuICAgICAgICBjb25zdCBhdmVyYWdlID0gTWF0aC5mbG9vcigobWF4ICsgbWluKSAvIDIpXG4gICAgICAgIGNvbnN0IGNoYXJWYWx1ZSA9XG4gICAgICAgICAgYXZlcmFnZSAlIDUgPT09IDAgPyBhdmVyYWdlIDogTWF0aC5yb3VuZChhdmVyYWdlIC8gMTApICogMTBcbiAgICAgICAgaWYgKGNoYXJWYWx1ZSkge1xuICAgICAgICAgIGNoYXJhY3RlcmlzdGljc1tgc3lzdGVtLmNoYXJhY3RlcmlzdGljcy4ke2tleX0udmFsdWVgXSA9IGNoYXJWYWx1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoY2hhcmFjdGVyaXN0aWNzKVxuICAgIGF3YWl0IHRoaXMucmVwb3J0Q2hhcmFjdGVkcml0aWNzVmFsdWUoKVxuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBjaGFyYWN0ZXJpc2l0YyBmb3JtdWxhIGlzIGEgcmVmZXJlbmNlIHRvIGFuIG90aGVyIGNoYXJhY3RlcmlzdGljIGFuZCBzZXQgaXQgYWNjb3JkaW5nbHkuXG4gICAqL1xuICBhc3luYyByZXBvcnRDaGFyYWN0ZWRyaXRpY3NWYWx1ZSAoKSB7XG4gICAgY29uc3QgY2hhcmFjdGVyaXN0aWNzID0ge31cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MpKSB7XG4gICAgICBpZiAodmFsdWUuZm9ybXVsYSAmJiB2YWx1ZS5mb3JtdWxhLnN0YXJ0c1dpdGgoJ0AnKSkge1xuICAgICAgICBsZXQgY2hhclZhbHVlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2hhclZhbHVlID0gbmV3IFJvbGwoXG4gICAgICAgICAgICB2YWx1ZS5mb3JtdWxhLFxuICAgICAgICAgICAgdGhpcy5wYXJzZUNoYXJhY3RlcmlzdGljcygpXG4gICAgICAgICAgKS5ldmFsdWF0ZSh7IG1heGltaXplOiB0cnVlIH0pLnRvdGFsXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNoYXJWYWx1ZSA9IG51bGxcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhclZhbHVlKSB7XG4gICAgICAgICAgY2hhcmFjdGVyaXN0aWNzW2BzeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLiR7a2V5fS52YWx1ZWBdID0gY2hhclZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShjaGFyYWN0ZXJpc3RpY3MpXG4gIH1cblxuICBhc3luYyBzZXRDaGFyYWN0ZXJpc3RpYyAobmFtZSwgdmFsdWUpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJpc3RpYyA9IHt9XG4gICAgY29uc3QgY2hhclZhbHVlID0gaXNOYU4ocGFyc2VJbnQodmFsdWUpKSA/IG51bGwgOiBwYXJzZUludCh2YWx1ZSlcbiAgICBjaGFyYWN0ZXJpc3RpY1tuYW1lXSA9IGNoYXJWYWx1ZVxuICAgIGlmICghY2hhclZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUuc3RhcnRzV2l0aCgnQCcpKSB7XG4gICAgICAgIGNvbnN0IGZvcm11bGEgPSBuYW1lLnJlcGxhY2UoJy52YWx1ZScsICcuZm9ybXVsYScpXG4gICAgICAgIGNoYXJhY3RlcmlzdGljW2Zvcm11bGFdID0gdmFsdWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShjaGFyYWN0ZXJpc3RpYylcbiAgICBhd2FpdCB0aGlzLnJlcG9ydENoYXJhY3RlZHJpdGljc1ZhbHVlKClcbiAgfVxuXG4gIGFzeW5jIGRldmVsb3BlbWVudFBoYXNlIChmYXN0Rm9yd2FyZCA9IGZhbHNlKSB7XG4gICAgY29uc3QgZmFpbHVyZSA9IFtdXG4gICAgY29uc3Qgc3VjY2VzcyA9IFtdXG4gICAgY29uc3Qgc2tpbGxNYXN0ZXJpbmdUaHJlc2hvbGQgPSA5MFxuICAgIGNvbnN0IGFsd2F5c1N1Y2Nlc3NUaHJlc2hvbGQgPSA5NVxuXG4gICAgY29uc3QgdGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUm9sbEFsbDREZXYnKVxuICAgIGxldCBza2lsbHNSb2xsZWQgPSAwXG4gICAgbGV0IG1lc3NhZ2UgPSAnPHAgY2xhc3M9XCJjaGF0LWNhcmRcIj4nXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgICAgaWYgKGl0ZW0uZGV2ZWxvcGVtZW50RmxhZykge1xuICAgICAgICAgIHNraWxsc1JvbGxlZCsrXG4gICAgICAgICAgY29uc3QgZGllID0gYXdhaXQgbmV3IERpZSh7IGZhY2VzOiAxMDAgfSkuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgIGNvbnN0IHNraWxsVmFsdWUgPSBpdGVtLnZhbHVlXG4gICAgICAgICAgbGV0IGF1Z21lbnQgPSBudWxsXG4gICAgICAgICAgbGV0IHNraWxsTWFzdGVyaW5nTWVzc2FnZSA9IG51bGxcbiAgICAgICAgICBpZiAoZGllLnRvdGFsID4gc2tpbGxWYWx1ZSB8fCBkaWUudG90YWwgPj0gYWx3YXlzU3VjY2Vzc1RocmVzaG9sZCkge1xuICAgICAgICAgICAgY29uc3QgYXVnbWVudERpZSA9IGF3YWl0IG5ldyBEaWUoeyBmYWNlczogMTAgfSkuZXZhbHVhdGUoe1xuICAgICAgICAgICAgICBhc3luYzogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHN1Y2Nlc3MucHVzaChpdGVtLmlkKVxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIFNBTiBhdWdtZW50IHdoZW4gdGhlIHNraWxsIGdvZXMgYmV5b25kIHRoZSBza2lsbCBtYXN0ZXJpbmcgdGhyZXNob2xkLlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBza2lsbFZhbHVlIDwgc2tpbGxNYXN0ZXJpbmdUaHJlc2hvbGQgJiZcbiAgICAgICAgICAgICAgc2tpbGxWYWx1ZSArIGF1Z21lbnREaWUudG90YWwgPj0gc2tpbGxNYXN0ZXJpbmdUaHJlc2hvbGRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBhdWdtZW50U0FORGllID0gYXdhaXQgbmV3IERpZSh7XG4gICAgICAgICAgICAgICAgZmFjZXM6IDYsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiAyXG4gICAgICAgICAgICAgIH0pLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgICAgICAgICAgY29uc3Qgc2FuR2FpbmVkID0gYXVnbWVudFNBTkRpZS50b3RhbFxuICAgICAgICAgICAgICBjb25zdCBzYW5HYWluZWRNZXNzYWdlID0gYEdhaW5lZCAyZDYgKCR7YXVnbWVudFNBTkRpZS52YWx1ZXNbMF19ICsgJHthdWdtZW50U0FORGllLnZhbHVlc1sxXX0gPSAke3NhbkdhaW5lZH0pIFNBTmBcbiAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhzYW5HYWluZWRNZXNzYWdlKVxuICAgICAgICAgICAgICBza2lsbE1hc3RlcmluZ01lc3NhZ2UgPSBgPHNwYW4gY2xhc3M9XCJ1cGdyYWRlLXN1Y2Nlc3NcIj4ke2dhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICAgJ0NvQzcuU2FuR2FpbmVkJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZXN1bHRzOiBgJHthdWdtZW50U0FORGllLnZhbHVlc1swXX0gKyAke2F1Z21lbnRTQU5EaWUudmFsdWVzWzFdfWAsXG4gICAgICAgICAgICAgICAgICBzYW5HYWluZWQsXG4gICAgICAgICAgICAgICAgICBza2lsbDogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgc2tpbGxWYWx1ZTogc2tpbGxWYWx1ZSArIGF1Z21lbnREaWUudG90YWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICl9PC9zcGFuPjxicj5gXG4gICAgICAgICAgICAgIC8vIFNldCBzYW4gY29udHJvbHMgdGhhdCBpdCBkb2Vzbid0IGF1Z21lbnQgYmV5b25kIHNhbk1heFxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldFNhbih0aGlzLnNhbiArIHNhbkdhaW5lZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1Z21lbnQgKz0gYXVnbWVudERpZS50b3RhbFxuICAgICAgICAgICAgbWVzc2FnZSArPSBgPHNwYW4gY2xhc3M9XCJ1cGdyYWRlLXN1Y2Nlc3NcIj4ke2dhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICdDb0M3LkRldlN1Y2Nlc3MnLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgIGRpZTogZGllLnRvdGFsLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBpdGVtLnZhbHVlLFxuICAgICAgICAgICAgICAgIGF1Z21lbnQ6IGF1Z21lbnREaWUudG90YWxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKX08L3NwYW4+PGJyPmBcbiAgICAgICAgICAgIGlmIChza2lsbE1hc3RlcmluZ01lc3NhZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSArPSBza2lsbE1hc3RlcmluZ01lc3NhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGl0ZW0uaW5jcmVhc2VFeHBlcmllbmNlKGF1Z21lbnQpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYDxzcGFuIGNsYXNzPVwidXBncmFkZS1mYWlsZWRcIj4ke2dhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICdDb0M3LkRldkZhaWx1cmUnLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgIGRpZTogZGllLnRvdGFsLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBpdGVtLnZhbHVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICl9PC9zcGFuPjxicj5gXG4gICAgICAgICAgICBmYWlsdXJlLnB1c2goaXRlbS5pZClcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgaXRlbS51bmZsYWdGb3JEZXZlbG9wZW1lbnQoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNhbml0eUxvc3NFdmVudHMgPSBbXVxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IHNhbml0eUxvc3NFdmVudCBvZiB0aGlzLnN5c3RlbS5zYW5pdHlMb3NzRXZlbnRzKSB7XG4gICAgICBpZiAoc2FuaXR5TG9zc0V2ZW50LmltbXVuaXR5KSB7XG4gICAgICAgIHNhbml0eUxvc3NFdmVudHMucHVzaChzYW5pdHlMb3NzRXZlbnQpXG4gICAgICB9IGVsc2UgaWYgKHNhbml0eUxvc3NFdmVudC50b3RhbExvc3MgPiAxKSB7XG4gICAgICAgIHNhbml0eUxvc3NFdmVudC50b3RhbExvc3MtLVxuICAgICAgICBzYW5pdHlMb3NzRXZlbnRzLnB1c2goc2FuaXR5TG9zc0V2ZW50KVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgIGlmIChza2lsbHNSb2xsZWQpIHtcbiAgICAgICAgbWVzc2FnZSArPSAnPGJyPidcbiAgICAgIH1cbiAgICAgIG1lc3NhZ2UgKz0gYDxzcGFuPiR7Z2FtZS5pMThuLmZvcm1hdCgnQ29DNy5SZWR1Y2VTYW5pdHlMaW1pdHMnKX08L3NwYW4+YFxuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICAnc3lzdGVtLnNhbml0eUxvc3NFdmVudHMnOiBzYW5pdHlMb3NzRXZlbnRzXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAoIWZhc3RGb3J3YXJkKSB7XG4gICAgICBtZXNzYWdlICs9ICc8L3A+J1xuICAgICAgY29uc3Qgc3BlYWtlciA9IHsgYWN0b3I6IHRoaXMgfVxuICAgICAgYXdhaXQgY2hhdEhlbHBlci5jcmVhdGVNZXNzYWdlKHNraWxsc1JvbGxlZCA/IHRpdGxlIDogJycsIG1lc3NhZ2UsIHtcbiAgICAgICAgc3BlYWtlclxuICAgICAgfSlcbiAgICAgIHRoaXMub25seVJ1bk9uY2VQZXJTZXNzaW9uID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4geyBmYWlsdXJlLCBzdWNjZXNzIH1cbiAgfVxuXG4gIGFzeW5jIGRldmVsb3BMdWNrIChmYXN0Rm9yd2FyZCA9IGZhbHNlKSB7XG4gICAgY29uc3QgY3VycmVudEx1Y2sgPSB0aGlzLnN5c3RlbS5hdHRyaWJzLmxjay52YWx1ZVxuICAgIGlmICghY3VycmVudEx1Y2spIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5hdHRyaWJzLmxjay52YWx1ZSc6IDAgfSlcbiAgICBjb25zdCBwdWxwUnVsZURldmVsb3BtZW50Um9sbEx1Y2sgPSBnYW1lLnNldHRpbmdzLmdldChcbiAgICAgICdDb0M3JyxcbiAgICAgICdwdWxwUnVsZURldmVsb3BtZW50Um9sbEx1Y2snXG4gICAgKVxuICAgIGNvbnN0IHVwZ3JhZGVSb2xsID0gKGF3YWl0IG5ldyBSb2xsKCcxRDEwMCcpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICBjb25zdCBoaWdoZXJUaGFuQ3VycmVudEx1Y2sgPSB1cGdyYWRlUm9sbCA+IGN1cnJlbnRMdWNrXG4gICAgbGV0IGF1Z21lbnRSb2xsXG4gICAgaWYgKHB1bHBSdWxlRGV2ZWxvcG1lbnRSb2xsTHVjaykge1xuICAgICAgaGlnaGVyVGhhbkN1cnJlbnRMdWNrXG4gICAgICAgID8gKGF1Z21lbnRSb2xsID0gJzJEMTArMTAnKVxuICAgICAgICA6IChhdWdtZW50Um9sbCA9ICcxRDEwKzUnKVxuICAgIH0gZWxzZSBpZiAoaGlnaGVyVGhhbkN1cnJlbnRMdWNrKSB7XG4gICAgICBhdWdtZW50Um9sbCA9ICcxRDEwJ1xuICAgIH1cbiAgICBjb25zdCB0aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Sb2xsTHVjazREZXYnKVxuICAgIGxldCBtZXNzYWdlID0gJzxwIGNsYXNzPVwiY2hhdC1jYXJkXCI+J1xuICAgIGlmIChwdWxwUnVsZURldmVsb3BtZW50Um9sbEx1Y2sgfHwgaGlnaGVyVGhhbkN1cnJlbnRMdWNrKSB7XG4gICAgICBjb25zdCBhdWdtZW50VmFsdWUgPSAoYXdhaXQgbmV3IFJvbGwoYXVnbWVudFJvbGwpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSlcbiAgICAgICAgLnRvdGFsXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uYXR0cmlicy5sY2sudmFsdWUnOlxuICAgICAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMubGNrLnZhbHVlICsgYXVnbWVudFZhbHVlXG4gICAgICB9KVxuICAgICAgbWVzc2FnZSArPSBgPHNwYW4gY2xhc3M9XCJ1cGdyYWRlLXN1Y2Nlc3NcIj4ke2dhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICdDb0M3Lkx1Y2tJbmNyZWFzZWQnLFxuICAgICAgICB7XG4gICAgICAgICAgZGllOiB1cGdyYWRlUm9sbCxcbiAgICAgICAgICBzY29yZTogY3VycmVudEx1Y2ssXG4gICAgICAgICAgYXVnbWVudDogYXVnbWVudFZhbHVlXG4gICAgICAgIH1cbiAgICAgICl9PC9zcGFuPmBcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZSArPSBgPHNwYW4gY2xhc3M9XCJ1cGdyYWRlLWZhaWxlZFwiPiR7Z2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgJ0NvQzcuTHVja05vdEluY3JlYXNlZCcsXG4gICAgICAgIHsgZGllOiB1cGdyYWRlUm9sbCwgc2NvcmU6IGN1cnJlbnRMdWNrIH1cbiAgICAgICl9PC9zcGFuPmBcbiAgICB9XG4gICAgaWYgKCFmYXN0Rm9yd2FyZCkge1xuICAgICAgbWVzc2FnZSArPSAnPC9wPidcbiAgICAgIGNvbnN0IHNwZWFrZXIgPSB7IGFjdG9yOiB0aGlzIH1cbiAgICAgIGF3YWl0IGNoYXRIZWxwZXIuY3JlYXRlTWVzc2FnZSh0aXRsZSwgbWVzc2FnZSwgeyBzcGVha2VyIH0pXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGV2ZWxvcFNraWxsIChza2lsbElkLCBmYXN0Rm9yd2FyZCA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2tpbGwgPSB0aGlzLml0ZW1zLmdldChza2lsbElkKVxuICAgIGlmICghc2tpbGwpIHJldHVyblxuICAgIGxldCB0aXRsZSA9ICcnXG4gICAgbGV0IG1lc3NhZ2UgPSAnJ1xuICAgIGNvbnN0IHVwZ3JhZGVSb2xsID0gbmV3IFJvbGwoJzFEMTAwJylcbiAgICBhd2FpdCB1cGdyYWRlUm9sbC5yb2xsKHsgYXN5bmM6IHRydWUgfSlcbiAgICBpZiAoIWZhc3RGb3J3YXJkKSBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZCh1cGdyYWRlUm9sbClcbiAgICBpZiAodXBncmFkZVJvbGwudG90YWwgPiBza2lsbC52YWx1ZSB8fCB1cGdyYWRlUm9sbC50b3RhbCA+PSA5NSkge1xuICAgICAgY29uc3QgYXVnbWVudFJvbGwgPSBuZXcgUm9sbCgnMUQxMCcpXG4gICAgICBhd2FpdCBhdWdtZW50Um9sbC5yb2xsKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgIGlmICghZmFzdEZvcndhcmQpIGF3YWl0IENvQzdEaWNlLnNob3dSb2xsRGljZTNkKGF1Z21lbnRSb2xsKVxuICAgICAgbWVzc2FnZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRGV2U3VjY2Vzc0RldGFpbHMnLCB7XG4gICAgICAgIGl0ZW06IHNraWxsLm5hbWUsXG4gICAgICAgIGF1Z21lbnQ6IGF1Z21lbnRSb2xsLnRvdGFsXG4gICAgICB9KVxuICAgICAgdGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkRldlJvbGxUaXRsZScsIHtcbiAgICAgICAgaXRlbTogc2tpbGwubmFtZSxcbiAgICAgICAgZGllOiB1cGdyYWRlUm9sbC50b3RhbCxcbiAgICAgICAgc2NvcmU6IHNraWxsLnZhbHVlXG4gICAgICB9KVxuICAgICAgYXdhaXQgc2tpbGwuaW5jcmVhc2VFeHBlcmllbmNlKGF1Z21lbnRSb2xsLnRvdGFsKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRGV2Um9sbFRpdGxlJywge1xuICAgICAgICBpdGVtOiBza2lsbC5uYW1lLFxuICAgICAgICBkaWU6IHVwZ3JhZGVSb2xsLnRvdGFsLFxuICAgICAgICBzY29yZTogc2tpbGwudmFsdWVcbiAgICAgIH0pXG4gICAgICBtZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EZXZGYWlsdXJlRGV0YWlscycsIHtcbiAgICAgICAgaXRlbTogc2tpbGwubmFtZVxuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3Qgc3BlYWtlciA9IHsgYWN0b3I6IHRoaXMuX2lkIH1cbiAgICBhd2FpdCBjaGF0SGVscGVyLmNyZWF0ZU1lc3NhZ2UodGl0bGUsIG1lc3NhZ2UsIHsgc3BlYWtlciB9KVxuICAgIGF3YWl0IHNraWxsLnVuZmxhZ0ZvckRldmVsb3BlbWVudCgpXG4gIH1cblxuICBoYXNDb25kaXRpb25TdGF0dXMgKGNvbmRpdGlvbk5hbWUpIHtcbiAgICBjb25zdCBjb25kaXRpb25WYWx1ZSA9IHRoaXMuc3lzdGVtLmNvbmRpdGlvbnM/Lltjb25kaXRpb25OYW1lXT8udmFsdWVcbiAgICBpZiAodHlwZW9mIGNvbmRpdGlvblZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBmYWxzZSAvLyBOZWNlc3NhcnksIGluY29ycmVjdCB0ZW1wbGF0ZSBpbml0aWFsaXphdGlvblxuICAgIH1cbiAgICByZXR1cm4gY29uZGl0aW9uVmFsdWVcbiAgfVxuXG4gIGhhc0NvbmRpdGlvblZhbHVlIChjb25kaXRpb25OYW1lLCBmaWVsZCkge1xuICAgIGlmICghdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoY29uZGl0aW9uTmFtZSkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gICAgaWYgKGNvbmRpdGlvbk5hbWUgPT09IENPQzcuc3RhdHVzLnRlbXBvSW5zYW5lICYmIGZpZWxkID09PSAnZHVyYXRpb25UZXh0Jykge1xuICAgICAgY29uc3QgcmVhbFRpbWUgPSB0aGlzLmhhc0NvbmRpdGlvblZhbHVlKGNvbmRpdGlvbk5hbWUsICdyZWFsVGltZScpXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuaGFzQ29uZGl0aW9uVmFsdWUoY29uZGl0aW9uTmFtZSwgJ2R1cmF0aW9uJylcbiAgICAgIGlmICh0eXBlb2YgZHVyYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChyZWFsVGltZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBkdXJhdGlvbiArICcgJyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5yb3VuZHMnKVxuICAgICAgICB9IGVsc2UgaWYgKHJlYWxUaW1lID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBkdXJhdGlvbiArICcgJyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5ob3VycycpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uY29uZGl0aW9ucz8uW2NvbmRpdGlvbk5hbWVdPy5bZmllbGRdXG4gIH1cblxuICBhc3luYyB0b2dnbGVDb25kaXRpb24gKGNvbmRpdGlvbk5hbWUpIHtcbiAgICBjb25zdCBjb25kaXRpb25WYWx1ZSA9IHRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKGNvbmRpdGlvbk5hbWUpXG4gICAgaWYgKCFjb25kaXRpb25WYWx1ZSkge1xuICAgICAgYXdhaXQgdGhpcy5zZXRDb25kaXRpb24oY29uZGl0aW9uTmFtZSlcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgdGhpcy51bnNldENvbmRpdGlvbihjb25kaXRpb25OYW1lKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNldENvbmRpdGlvbiAoXG4gICAgY29uZGl0aW9uTmFtZSxcbiAgICB7XG4gICAgICBmb3JjZVZhbHVlID0gZmFsc2UsXG4gICAgICBqdXN0VGhpcyA9IGZhbHNlLFxuICAgICAgcmVhbFRpbWUgPSBudWxsLFxuICAgICAgZHVyYXRpb24gPSBudWxsXG4gICAgfSA9IHt9XG4gICkge1xuICAgIGlmICghZm9yY2VWYWx1ZSAmJiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdlbmFibGVTdGF0dXNJY29ucycpKSB7XG4gICAgICBjb25zdCBlZmZlY3RzID0gdGhpcy5lZmZlY3RzXG4gICAgICAgIC5maWx0ZXIoZWZmZWN0ID0+IGVmZmVjdC5mbGFncy5jb3JlPy5zdGF0dXNJZCA9PT0gY29uZGl0aW9uTmFtZSlcbiAgICAgICAgLm1hcChlZmZlY3QgPT4gZWZmZWN0LmlkKVxuICAgICAgY29uc3QgY3VzdG9tID0ge31cbiAgICAgIHN3aXRjaCAoY29uZGl0aW9uTmFtZSkge1xuICAgICAgICBjYXNlIENPQzcuc3RhdHVzLmRlYWQ6XG4gICAgICAgICAgY3VzdG9tLmZsYWdzID0ge1xuICAgICAgICAgICAgY29yZToge1xuICAgICAgICAgICAgICBvdmVybGF5OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMudGVtcG9JbnNhbmU6XG4gICAgICAgICAgY3VzdG9tLmZsYWdzID0ge1xuICAgICAgICAgICAgQ29DNzoge1xuICAgICAgICAgICAgICByZWFsVGltZTogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1c3RvbS5kdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHJvdW5kczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2Vjb25kczogdW5kZWZpbmVkXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZWFsVGltZSA9PT0gdHJ1ZSB8fCByZWFsVGltZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGN1c3RvbS5mbGFncy5Db0M3LnJlYWxUaW1lID0gcmVhbFRpbWVcbiAgICAgICAgICAgIGN1c3RvbS5mbGFncyA9IHtcbiAgICAgICAgICAgICAgQ29DNzoge1xuICAgICAgICAgICAgICAgIHJlYWxUaW1lXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiAhPT0gbnVsbCAmJiB0eXBlb2YgZHVyYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGlmIChyZWFsVGltZSkge1xuICAgICAgICAgICAgICAgIGN1c3RvbS5kdXJhdGlvbi5yb3VuZHMgPSBkdXJhdGlvblxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1c3RvbS5kdXJhdGlvbi5zZWNvbmRzID0gZHVyYXRpb24gKiAzNjAwXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChlZmZlY3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBlZmZlY3QgPSBDT05GSUcuc3RhdHVzRWZmZWN0cy5maWx0ZXIoXG4gICAgICAgICAgZWZmZWN0ID0+IGVmZmVjdC5pZCA9PT0gY29uZGl0aW9uTmFtZVxuICAgICAgICApXG4gICAgICAgIGlmIChlZmZlY3QubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgZWZmZWN0RGF0YSA9IG1lcmdlT2JqZWN0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKGVmZmVjdFswXS5sYWJlbCksXG4gICAgICAgICAgICAgIGljb246IGVmZmVjdFswXS5pY29uLFxuICAgICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgIGNvcmU6IHtcbiAgICAgICAgICAgICAgICAgIHN0YXR1c0lkOiBlZmZlY3RbMF0uaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1c3RvbVxuICAgICAgICAgIClcbiAgICAgICAgICBhd2FpdCBzdXBlci5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnQWN0aXZlRWZmZWN0JywgW2VmZmVjdERhdGFdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRoaXMgZG9lc24ndCBleGlzdCBpbiBGb3VuZHJ5VlRUIEFjdGl2ZUVmZmVjdHM/XG4gICAgICAgICAgZm9yY2VWYWx1ZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VzdG9tLl9pZCA9IGVmZmVjdHNbMF1cbiAgICAgICAgYXdhaXQgc3VwZXIudXBkYXRlRW1iZWRkZWREb2N1bWVudHMoJ0FjdGl2ZUVmZmVjdCcsIFtjdXN0b21dKVxuICAgICAgICBmb3JjZVZhbHVlID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZm9yY2VWYWx1ZSB8fCAhZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZW5hYmxlU3RhdHVzSWNvbnMnKSkge1xuICAgICAgc3dpdGNoIChjb25kaXRpb25OYW1lKSB7XG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMuaW5kZWZJbnNhbmU6XG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMudW5jb25zY2lvdXM6XG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMuY3JpdGljYWxXb3VuZHM6XG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMuZHlpbmc6XG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMucHJvbmU6XG4gICAgICAgIGNhc2UgQ09DNy5zdGF0dXMuZGVhZDpcbiAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICBbYHN5c3RlbS5jb25kaXRpb25zLiR7Y29uZGl0aW9uTmFtZX0udmFsdWVgXTogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy50ZW1wb0luc2FuZTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZHMgPSB7fVxuICAgICAgICAgICAgZmllbGRzW2BzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbk5hbWV9LnZhbHVlYF0gPSB0cnVlXG4gICAgICAgICAgICBpZiAocmVhbFRpbWUgPT09IHRydWUgfHwgcmVhbFRpbWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIGZpZWxkc1tgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS5yZWFsVGltZWBdID0gcmVhbFRpbWVcbiAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uICE9PSBudWxsICYmIHR5cGVvZiBkdXJhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBmaWVsZHNbYHN5c3RlbS5jb25kaXRpb25zLiR7Y29uZGl0aW9uTmFtZX0uZHVyYXRpb25gXSA9IGR1cmF0aW9uXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICAgICAgYHN5c3RlbS5jb25kaXRpb25zLiR7Y29uZGl0aW9uTmFtZX0ucmVhbFRpbWVgXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBmaWVsZHNbYHN5c3RlbS5jb25kaXRpb25zLiR7Y29uZGl0aW9uTmFtZX0uLT1yZWFsVGltZWBdID0gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgICAgICBgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS5kdXJhdGlvbmBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGZpZWxkc1tgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS4tPWR1cmF0aW9uYF0gPSBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZShmaWVsZHMpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBpZiAoIWp1c3RUaGlzKSB7XG4gICAgICAgIC8vIERvZXMgc2V0dGluZyB0aGUgY29uZGl0aW9uIGFsc28gdHJpZ2dlciBvdGhlciBhY3Rpb25zP1xuICAgICAgICAvLyAtIElmIEFjdGl2ZUVmZmVjdHMgYXJlIGFkZGVkIGhhc0NvbmRpdGlvblN0YXR1cyBmb3IgcmVjZW50bHkgYWRkZWQgY29uZGl0aW9ucyBtYXkgcmV0dXJuIGluY29ycmVjdGx5XG4gICAgICAgIHN3aXRjaCAoY29uZGl0aW9uTmFtZSkge1xuICAgICAgICAgIGNhc2UgQ09DNy5zdGF0dXMuY3JpdGljYWxXb3VuZHM6XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5wcm9uZSlcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIXRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLnVuY29uc2Npb3VzKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoQ09DNy5zdGF0dXMuZGVhZClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBjb25DaGVjayA9IG5ldyBDb0M3Q29uQ2hlY2soXG4gICAgICAgICAgICAgICAgdGhpcy5pc1Rva2VuID8gdGhpcy50b2tlbktleSA6IHRoaXMuaWRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBjb25DaGVjay50b01lc3NhZ2UoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlIENPQzcuc3RhdHVzLmRlYWQ6XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzKVxuICAgICAgICAgICAgYXdhaXQgdGhpcy51bnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5keWluZylcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudW5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMudW5jb25zY2lvdXMpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdW5zZXRDb25kaXRpb24gKGNvbmRpdGlvbk5hbWUsIHsgZm9yY2VWYWx1ZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGlmICghZm9yY2VWYWx1ZSAmJiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdlbmFibGVTdGF0dXNJY29ucycpKSB7XG4gICAgICBjb25zdCBlZmZlY3RzID0gdGhpcy5lZmZlY3RzXG4gICAgICAgIC5maWx0ZXIoZWZmZWN0ID0+IGVmZmVjdC5mbGFncy5jb3JlPy5zdGF0dXNJZCA9PT0gY29uZGl0aW9uTmFtZSlcbiAgICAgICAgLm1hcChlZmZlY3QgPT4gZWZmZWN0LmlkKVxuICAgICAgaWYgKGVmZmVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBhd2FpdCBzdXBlci5kZWxldGVFbWJlZGRlZERvY3VtZW50cygnQWN0aXZlRWZmZWN0JywgZWZmZWN0cylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcmNlVmFsdWUgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmb3JjZVZhbHVlIHx8ICFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdlbmFibGVTdGF0dXNJY29ucycpKSB7XG4gICAgICBzd2l0Y2ggKGNvbmRpdGlvbk5hbWUpIHtcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy50ZW1wb0luc2FuZTpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5pbmRlZkluc2FuZTpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy51bmNvbnNjaW91czpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kczpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5keWluZzpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5wcm9uZTpcbiAgICAgICAgY2FzZSBDT0M3LnN0YXR1cy5kZWFkOlxuICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgICAgIFtgc3lzdGVtLmNvbmRpdGlvbnMuJHtjb25kaXRpb25OYW1lfS52YWx1ZWBdOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBUT0RPIDogY2hlY2sgaWYgZXZlciB1c2VkXG4gIGFzeW5jIHJlc2V0Q291bnRlciAoY291bnRlcikge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgW2NvdW50ZXJdOiAwIH0pXG4gIH1cblxuICBhc3luYyByZXNldERhaWx5U2FuaXR5ICgpIHtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAnc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TGltaXQnOiBNYXRoLmZsb29yKFxuICAgICAgICB0aGlzLnN5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSAvIDVcbiAgICAgICksXG4gICAgICAnc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcyc6IDBcbiAgICB9KVxuICB9XG5cbiAgZ2V0IGZpZ2h0aW5nU2tpbGxzICgpIHtcbiAgICBjb25zdCBza2lsbExpc3QgPSBbXVxuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVtcykge1xuICAgICAgaWYgKHZhbHVlLnR5cGUgPT09ICdza2lsbCcgJiYgdmFsdWUuc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcpIHtcbiAgICAgICAgc2tpbGxMaXN0LnB1c2godmFsdWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2tpbGxMaXN0LnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgcmV0dXJuIHNraWxsTGlzdFxuICB9XG5cbiAgZ2V0IGNsb3NlQ29tYmF0V2VhcG9ucyAoKSB7XG4gICAgY29uc3Qgd2VhcG9uTGlzdCA9IFtdXG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICBpZiAodmFsdWUudHlwZSA9PT0gJ3dlYXBvbicgJiYgIXZhbHVlLnN5c3RlbS5wcm9wZXJ0aWVzLnJuZ2QpIHtcbiAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLml0ZW1zLmdldCh2YWx1ZS5zeXN0ZW0uc2tpbGwubWFpbi5pZClcbiAgICAgICAgdmFsdWUuc3lzdGVtLnNraWxsLm1haW4udmFsdWUgPSBza2lsbCA/IHNraWxsLnZhbHVlIDogMFxuICAgICAgICB3ZWFwb25MaXN0LnB1c2godmFsdWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgd2VhcG9uTGlzdC5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgIHJldHVybiB3ZWFwb25MaXN0XG4gIH1cblxuICBnZXQgZmlyZWFybVNraWxscyAoKSB7XG4gICAgY29uc3Qgc2tpbGxMaXN0ID0gW11cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmICh2YWx1ZS50eXBlID09PSAnc2tpbGwnICYmIHZhbHVlLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0pIHtcbiAgICAgICAgc2tpbGxMaXN0LnB1c2godmFsdWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2tpbGxMaXN0LnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgcmV0dXJuIHNraWxsTGlzdFxuICB9XG5cbiAgZ2V0IHVzZXIgKCkge1xuICAgIC8vIGlzIHRoYXQgYWN0b3IgaW1wZXJzb25hbnRlZCBieSBhIHVzZXIgP1xuICAgIHJldHVybiBnYW1lLnVzZXJzLmZpbmQodXNlciA9PiB7XG4gICAgICBpZiAodXNlci5jaGFyYWN0ZXIpIHtcbiAgICAgICAgaWYgKHVzZXIuY2hhcmFjdGVyLmlkID09PSB0aGlzLmlkKSByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGdldCBkb2RnZVNraWxsICgpIHtcbiAgICBjb25zdCBza2lsbCA9IHRoaXMuZ2V0Rmlyc3RTa2lsbEJ5Q29DSUQoJ2kuc2tpbGwuZG9kZ2UnKVxuICAgIGlmIChza2lsbCkge1xuICAgICAgcmV0dXJuIHNraWxsXG4gICAgfVxuICAgIGNvbnN0IHNraWxsTGlzdCA9IHRoaXMuZ2V0U2tpbGxzQnlOYW1lKFxuICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvQ0lERmxhZy5rZXlzLmkuc2tpbGwuZG9kZ2UnKVxuICAgIClcbiAgICBpZiAoc2tpbGxMaXN0Lmxlbmd0aCAhPT0gMCkgcmV0dXJuIHNraWxsTGlzdFswXVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgY3JlZGl0UmF0aW5nU2tpbGwgKCkge1xuICAgIGNvbnN0IHNraWxsID0gdGhpcy5nZXRGaXJzdFNraWxsQnlDb0NJRCgnaS5za2lsbC5jcmVkaXQtcmF0aW5nJylcbiAgICBpZiAoc2tpbGwpIHtcbiAgICAgIHJldHVybiBza2lsbFxuICAgIH1cbiAgICBjb25zdCBza2lsbExpc3QgPSB0aGlzLmdldFNraWxsc0J5TmFtZShcbiAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db0NJREZsYWcua2V5cy5pLnNraWxsLmNyZWRpdC1yYXRpbmcnKVxuICAgIClcbiAgICBpZiAoc2tpbGxMaXN0Lmxlbmd0aCAhPT0gMCkgcmV0dXJuIHNraWxsTGlzdFswXVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgY3RodWxodU15dGhvc1NraWxsICgpIHtcbiAgICBjb25zdCBza2lsbCA9IHRoaXMuZ2V0Rmlyc3RTa2lsbEJ5Q29DSUQoJ2kuc2tpbGwuY3RodWxodS1teXRob3MnKVxuICAgIGlmIChza2lsbCkge1xuICAgICAgcmV0dXJuIHNraWxsXG4gICAgfVxuICAgIGNvbnN0IHNraWxsTGlzdCA9IHRoaXMuZ2V0U2tpbGxzQnlOYW1lKFxuICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvQ0lERmxhZy5rZXlzLmkuc2tpbGwuY3RodWxodS1teXRob3MnKVxuICAgIClcbiAgICBpZiAoc2tpbGxMaXN0Lmxlbmd0aCAhPT0gMCkgcmV0dXJuIHNraWxsTGlzdFswXVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgY3RodWxodU15dGhvcyAoKSB7XG4gICAgY29uc3QgQ00gPSB0aGlzLmN0aHVsaHVNeXRob3NTa2lsbFxuICAgIGlmIChDTSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBDTS52YWx1ZVxuICAgICAgaWYgKHZhbHVlKSByZXR1cm4gdmFsdWVcbiAgICAgIHJldHVybiBwYXJzZUludChDTS5zeXN0ZW0udmFsdWUpXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBnZXQgbXl0aG9zSGFyZGVuZWQgKCkge1xuICAgIHJldHVybiB0aGlzLmdldEZsYWcoJ0NvQzcnLCAnbXl0aG9zSGFyZGVuZWQnKSB8fCBmYWxzZVxuICB9XG5cbiAgYXN5bmMgc2V0TXl0aG9zSGFyZGVuZWQgKCkge1xuICAgIGF3YWl0IHRoaXMuc2V0RmxhZygnQ29DNycsICdteXRob3NIYXJkZW5lZCcsIHRydWUpXG4gIH1cblxuICBnZXQgbXl0aG9zSW5zYW5pdHlFeHBlcmllbmNlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RmxhZygnQ29DNycsICdteXRob3NJbnNhbml0eUV4cGVyaWVuY2VkJykgfHwgZmFsc2VcbiAgfVxuXG4gIGFzeW5jIGV4cGVyaWVuY2VGaXJzdE15dGhvc0luc2FuaXR5ICgpIHtcbiAgICBhd2FpdCB0aGlzLnNldEZsYWcoJ0NvQzcnLCAnbXl0aG9zSW5zYW5pdHlFeHBlcmllbmNlZCcsIHRydWUpXG4gIH1cblxuICBnZXQgY3JlZGl0UmF0aW5nICgpIHtcbiAgICBjb25zdCBDUiA9IHRoaXMuY3JlZGl0UmF0aW5nU2tpbGxcbiAgICBpZiAoQ1IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gQ1IudmFsdWVcbiAgICAgIGlmICh2YWx1ZSkgcmV0dXJuIHZhbHVlXG4gICAgICByZXR1cm4gcGFyc2VJbnQoQ1Iuc3lzdGVtLnZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgc3RhdGljIG1vbmV0YXJ5Rm9ybWF0IChmb3JtYXQsIHN5bWJvbCwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgY2FzZSBDT0M3Lm1vbmV0YXJ5Rm9ybWF0S2V5cy5sc2Q6XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHZhbHVlIC8gMjQwKSArICcvJyArIChNYXRoLmZsb29yKHZhbHVlIC8gMTIpICUgMjApICsgJy8nICsgKHZhbHVlICUgMTIpXG4gICAgICBjYXNlIENPQzcubW9uZXRhcnlGb3JtYXRLZXlzLnJvbWFuOlxuICAgICAgICByZXR1cm4gKE1hdGguZmxvb3IodmFsdWUgLyA0MDApKSArICcvJyArIChNYXRoLmZsb29yKHZhbHVlIC8gMTYpICUgMjUpICsgJy8nICsgKE1hdGguZmxvb3IodmFsdWUgLyA4KSAlIDIpICsgJy8nICsgKE1hdGguZmxvb3IodmFsdWUgLyA0KSAlIDIpICsgJy8nICsgKHZhbHVlICUgNClcbiAgICAgIGNhc2UgQ09DNy5tb25ldGFyeUZvcm1hdEtleXMuZGVjaW1hbExlZnQ6XG4gICAgICAgIHJldHVybiBzeW1ib2wgKyBOdW1iZXIodmFsdWUpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIgfSkucmVwbGFjZSgvXFwuMDAkLywgJycpXG4gICAgICBjYXNlIENPQzcubW9uZXRhcnlGb3JtYXRLZXlzLmRlY2ltYWxSaWdodDpcbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiB9KS5yZXBsYWNlKC9cXC4wMCQvLCAnJykgKyAnICcgKyBzeW1ib2xcbiAgICAgIGNhc2UgQ09DNy5tb25ldGFyeUZvcm1hdEtleXMuaW50ZWdlckxlZnQ6XG4gICAgICAgIHJldHVybiBzeW1ib2wgKyBOdW1iZXIodmFsdWUpLnRvTG9jYWxlU3RyaW5nKClcbiAgICAgIGNhc2UgQ09DNy5tb25ldGFyeUZvcm1hdEtleXMuaW50ZWdlclJpZ2h0OlxuICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKS50b0xvY2FsZVN0cmluZygpICsgJyAnICsgc3ltYm9sXG4gICAgfVxuICAgIHJldHVybiAnMCdcbiAgfVxuXG4gIHN0YXRpYyBtb25ldGFyeVZhbHVlIChmb3JtYXQsIHZhbHVlcywgQ1IsIHR5cGUsIHZhbHVlKSB7XG4gICAgQ1IgPSBDUiB8fCAwXG4gICAgY29uc3Qgcm93ID0gdmFsdWVzLmZpbmQociA9PiAodHlwZW9mIHIubWluID09PSAnb2JqZWN0JyB8fCByLm1pbiA8PSBDUikgJiYgKHR5cGVvZiByLm1heCA9PT0gJ29iamVjdCcgfHwgci5tYXggPj0gQ1IpKVxuICAgIGlmICh0eXBlb2Ygcm93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygcm93W3R5cGVdICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygcm93W3ZhbHVlXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeUZvcm1hdEtleXMubHNkOlxuICAgICAgICAgIHN3aXRjaCAocm93W3R5cGVdKSB7XG4gICAgICAgICAgICBjYXNlIENPQzcubW9uZXRhcnlUeXBlS2V5cy5tdWx0aXBsaWVyOlxuICAgICAgICAgICAgICByZXR1cm4gMjQwICogQ1IgKiByb3dbdmFsdWVdXG4gICAgICAgICAgICBjYXNlIENPQzcubW9uZXRhcnlUeXBlS2V5cy52YWx1ZTpcbiAgICAgICAgICAgICAgcmV0dXJuIDI0MCAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLnM6XG4gICAgICAgICAgICAgIHJldHVybiAxMiAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLmQ6XG4gICAgICAgICAgICAgIHJldHVybiAxICogcm93W3ZhbHVlXVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIENPQzcubW9uZXRhcnlGb3JtYXRLZXlzLnJvbWFuOlxuICAgICAgICAgIHN3aXRjaCAocm93W3R5cGVdKSB7XG4gICAgICAgICAgICBjYXNlIENPQzcubW9uZXRhcnlUeXBlS2V5cy5tdWx0aXBsaWVyOlxuICAgICAgICAgICAgICByZXR1cm4gNDAwICogQ1IgKiByb3dbdmFsdWVdXG4gICAgICAgICAgICBjYXNlIENPQzcubW9uZXRhcnlUeXBlS2V5cy52YWx1ZTpcbiAgICAgICAgICAgICAgcmV0dXJuIDQwMCAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLmRlbmFyaWk6XG4gICAgICAgICAgICAgIHJldHVybiAxNiAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLnF1aW5hcmlpOlxuICAgICAgICAgICAgICByZXR1cm4gOCAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLnNlc3RlcnRpaTpcbiAgICAgICAgICAgICAgcmV0dXJuIDQgKiByb3dbdmFsdWVdXG4gICAgICAgICAgICBjYXNlIENPQzcubW9uZXRhcnlUeXBlS2V5cy5hc3NlczpcbiAgICAgICAgICAgICAgcmV0dXJuIDEgKiByb3dbdmFsdWVdXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3dpdGNoIChyb3dbdHlwZV0pIHtcbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLm11bHRpcGxpZXI6XG4gICAgICAgICAgICAgIHJldHVybiBDUiAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICAgIGNhc2UgQ09DNy5tb25ldGFyeVR5cGVLZXlzLnZhbHVlOlxuICAgICAgICAgICAgICByZXR1cm4gMSAqIHJvd1t2YWx1ZV1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIGdldCBzcGVuZGluZ0xldmVsICgpIHtcbiAgICByZXR1cm4gQ29DQWN0b3IubW9uZXRhcnlWYWx1ZSh0aGlzLnN5c3RlbS5tb25ldGFyeS5mb3JtYXQsIHRoaXMuc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcywgdGhpcy5jcmVkaXRSYXRpbmcsICdzcGVuZGluZ1R5cGUnLCAnc3BlbmRpbmdWYWx1ZScpXG4gIH1cblxuICBnZXQgY2FzaCAoKSB7XG4gICAgcmV0dXJuIENvQ0FjdG9yLm1vbmV0YXJ5VmFsdWUodGhpcy5zeXN0ZW0ubW9uZXRhcnkuZm9ybWF0LCB0aGlzLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMsIHRoaXMuY3JlZGl0UmF0aW5nLCAnY2FzaFR5cGUnLCAnY2FzaFZhbHVlJylcbiAgfVxuXG4gIGdldCBhc3NldHMgKCkge1xuICAgIHJldHVybiBDb0NBY3Rvci5tb25ldGFyeVZhbHVlKHRoaXMuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdCwgdGhpcy5zeXN0ZW0ubW9uZXRhcnkudmFsdWVzLCB0aGlzLmNyZWRpdFJhdGluZywgJ2Fzc2V0c1R5cGUnLCAnYXNzZXRzVmFsdWUnKVxuICB9XG5cbiAgZ2V0IHNraWxscyAoKSB7XG4gICAgY29uc3Qgc2tpbGxMaXN0ID0gW11cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmICh2YWx1ZS50eXBlID09PSAnc2tpbGwnKSBza2lsbExpc3QucHVzaCh2YWx1ZSlcbiAgICB9XG5cbiAgICBza2lsbExpc3Quc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICByZXR1cm4gc2tpbGxMaXN0XG4gIH1cblxuICBnZXQgb3duZXJzICgpIHtcbiAgICByZXR1cm4gZ2FtZS51c2Vycy5maWx0ZXIoXG4gICAgICB1ID0+IHRoaXMudGVzdFVzZXJQZXJtaXNzaW9uKHUsICdPV05FUicpICYmICF1LmlzR01cbiAgICApXG4gIH1cblxuICBnZXQgcGxheWVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lcnMuZmlsdGVyKHUgPT4gdS5jaGFyYWN0ZXI/LmlkID09PSB0aGlzLmlkKVxuICB9XG5cbiAgZ2V0IGNoYXJhY3RlclVzZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICBnYW1lLnVzZXJzLmNvbnRlbnRzLmZpbHRlcih1ID0+IHUuY2hhcmFjdGVyPy5pZCA9PT0gdGhpcy5pZClbMF0gfHwgbnVsbFxuICAgIClcbiAgfVxuXG4gIGFzeW5jIHNldEhwICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMFxuICAgIGlmICh2YWx1ZSA+IHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4KSB7XG4gICAgICB2YWx1ZSA9IHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4XG4gICAgfVxuICAgIGNvbnN0IGhlYWx0aEJlZm9yZSA9IHRoaXMuaHBcbiAgICBsZXQgZGFtYWdlVGFrZW5cbiAgICAvLyBpcyBoZWFsaW5nXG4gICAgaWYgKGlzTmFOKGhlYWx0aEJlZm9yZSkgfHwgdmFsdWUgPj0gaGVhbHRoQmVmb3JlKSB7XG4gICAgICBhd2FpdCB0aGlzLl9zZXRIcCh2YWx1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgZGFtYWdlVGFrZW4gPSBoZWFsdGhCZWZvcmUgLSB2YWx1ZVxuICAgICAgYXdhaXQgdGhpcy5kZWFsRGFtYWdlKGRhbWFnZVRha2VuLCB7IGlnbm9yZUFybW9yOiB0cnVlIH0pXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgYXN5bmMgZGVhbERhbWFnZSAoYW1vdW50LCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBUT0RPOiBDaGFuZ2Ugb3B0aW9ucyB0byBsaXN0IG9mIHZhbHVlc1xuICAgIGNvbnN0IGFybW9yRGF0YSA9IG9wdGlvbnMuYXJtb3JcbiAgICAgID8gb3B0aW9ucy5hcm1vclxuICAgICAgOiB0aGlzLnN5c3RlbS5hdHRyaWJzLmFybW9yIC8vIGlmIHRoZXJlIGFybW9yIHZhbHVlIHBhc3NlZCB3ZSB1c2UgaXRcbiAgICBjb25zdCBncm9zc0RhbWFnZSA9IHBhcnNlSW50KGFtb3VudClcbiAgICBsZXQgYXJtb3JWYWx1ZSA9IDBcbiAgICBpZiAoIW9wdGlvbnMuaWdub3JlQXJtb3IpIHtcbiAgICAgIGlmIChhcm1vckRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgLy8gbm9wXG4gICAgICB9IGVsc2UgaWYgKENvQzdVdGlsaXRpZXMuaXNGb3JtdWxhKGFybW9yRGF0YSkpIHtcbiAgICAgICAgYXJtb3JWYWx1ZSA9IChhd2FpdCBuZXcgUm9sbChhcm1vckRhdGEpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKE51bWJlcihhcm1vckRhdGEpKSkge1xuICAgICAgICBhcm1vclZhbHVlID0gTnVtYmVyKGFybW9yRGF0YSlcbiAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKE51bWJlcihhcm1vckRhdGE/LnZhbHVlKSkpIHtcbiAgICAgICAgYXJtb3JWYWx1ZSA9IE51bWJlcihhcm1vckRhdGEudmFsdWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvclVuYWJsZVRvUGFyc2VBcm1vckZvcm11bGEnLCB7XG4gICAgICAgICAgICB2YWx1ZTogYXJtb3JEYXRhXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXREYW1hZ2UgPSBncm9zc0RhbWFnZSAtIGFybW9yVmFsdWVcbiAgICBpZiAobmV0RGFtYWdlIDw9IDApIHJldHVybiAwXG4gICAgYXdhaXQgdGhpcy5fc2V0SHAodGhpcy5ocCAtIG5ldERhbWFnZSlcbiAgICBpZiAobmV0RGFtYWdlID49IHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4KSB7XG4gICAgICBhd2FpdCB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5kZWFkKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVJZ25vcmVNYWpvcldvdW5kcycpKSB7XG4gICAgICAgIGlmICh0aGlzLmhwID09PSAwKSB7XG4gICAgICAgICAgaWYgKG5ldERhbWFnZSA+PSBNYXRoLmNlaWwodGhpcy5zeXN0ZW0uYXR0cmlicy5ocC5tYXggLyAyKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMuZHlpbmcpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLnVuY29uc2Npb3VzKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXREYW1hZ2UgPj0gTWF0aC5jZWlsKHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4IC8gMikpIHtcbiAgICAgICAgICBjb25zdCBjb25DaGVjayA9IG5ldyBDb0M3Q29uQ2hlY2soXG4gICAgICAgICAgICB0aGlzLmlzVG9rZW4gPyB0aGlzLnRva2VuS2V5IDogdGhpcy5pZFxuICAgICAgICAgIClcbiAgICAgICAgICBjb25DaGVjay50b01lc3NhZ2UoKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgaGFzTWFqb3JXb3VuZCA9IGZhbHNlXG4gICAgICAgIGlmIChuZXREYW1hZ2UgPj0gTWF0aC5jZWlsKHRoaXMuc3lzdGVtLmF0dHJpYnMuaHAubWF4IC8gMikpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kcylcbiAgICAgICAgICBoYXNNYWpvcldvdW5kID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhc01ham9yV291bmQgPSB0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kcylcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ocCA9PT0gMCkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLnVuY29uc2Npb3VzKVxuICAgICAgICAgIGlmIChoYXNNYWpvcldvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5keWluZylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldERhbWFnZVxuICB9XG5cbiAgZ2V0IG1ham9yV291bmQgKCkge1xuICAgIHJldHVybiB0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kcylcbiAgfVxuXG4gIGdldCBkeWluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLmR5aW5nKVxuICB9XG5cbiAgZ2V0IHVuY29uc2Npb3VzICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNDb25kaXRpb25TdGF0dXMoQ09DNy5zdGF0dXMudW5jb25zY2lvdXMpXG4gIH1cblxuICBnZXQgZGVhZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ29uZGl0aW9uU3RhdHVzKENPQzcuc3RhdHVzLmRlYWQpXG4gIH1cblxuICBnZXQgcHJvbmUgKCkge1xuICAgIHJldHVybiB0aGlzLmhhc0NvbmRpdGlvblN0YXR1cyhDT0M3LnN0YXR1cy5wcm9uZSlcbiAgfVxuXG4gIC8vIHN0YXRpYyB1cGRhdGVBY3RvciggYWN0b3IsIGRhdGFVcGRhdGUpe1xuICAvLyAgIGlmKCBnYW1lLnVzZXIuaXNHTSl7XG4gIC8vICAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oIGB1cGRhdGluZyBhY3RvciAke2FjdG9yLm5hbWV9YCk7XG4gIC8vICAgICBjb25zdCBwcm9uZSA9IGRhdGFVcGRhdGU/LmZsYWdzPy5Db0M3W0NPQzcuc3RhdHVzLnByb25lXTtcbiAgLy8gICAgIGNvbnN0IHVuY29uc2Npb3VzID0gZGF0YVVwZGF0ZT8uZmxhZ3M/LkNvQzdbQ09DNy5zdGF0dXMudW5jb25zY2lvdXNdO1xuICAvLyAgICAgY29uc3QgY3JpdGljYWxXb3VuZHMgPSBkYXRhVXBkYXRlPy5mbGFncz8uQ29DN1tDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kc107XG4gIC8vICAgICBjb25zdCBkeWluZyA9IGRhdGFVcGRhdGU/LmZsYWdzPy5Db0M3W0NPQzcuc3RhdHVzLmR5aW5nXTtcbiAgLy8gICAgIGlmKCBwcm9uZSkgdWkubm90aWZpY2F0aW9ucy5pbmZvKCBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkluZm9BY3RvclByb25lJywge2FjdG9yOiBhY3Rvci5uYW1lfSkpO1xuICAvLyAgICAgaWYoIHVuY29uc2Npb3VzKSB1aS5ub3RpZmljYXRpb25zLmluZm8oIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSW5mb0FjdG9yVW5jb25zY2lvdXMnLCB7YWN0b3I6IGFjdG9yLm5hbWV9KSk7XG4gIC8vICAgICBpZiggY3JpdGljYWxXb3VuZHMpIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5JbmZvQWN0b3JNYWpvcldvdW5kJywge2FjdG9yOiBhY3Rvci5uYW1lfSkpO1xuICAvLyAgICAgaWYoIGR5aW5nKSB1aS5ub3RpZmljYXRpb25zLmluZm8oIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSW5mb0FjdG9yRHlpbmcnLCB7YWN0b3I6IGFjdG9yLm5hbWV9KSk7XG4gIC8vICAgfVxuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuXG4gIC8vIFwiQ29DNy5JbmZvQWN0b3JQcm9uZVwiOiBcInthY3Rvcn0gZmFsbCBwcm9uZVwiLFxuICAvLyBcIkNvQzcuSW5mb0FjdG9yVW5jb25zY2lvdXNcIjogXCJ7YWN0b3J9IGZhbGwgdW5jb25zY2lvdXNcIixcbiAgLy8gXCJDb0M3LkluZm9BY3Rvck1ham9yV291bmRcIjogXCJ7YWN0b3J9IGdldCBhIG1ham9yIHdvdW5kXCIsXG4gIC8vIFwiQ29DNy5JbmZvQWN0b3JEeWluZ1wiOiBcInthY29yfSBpcyBkeWluZ1wiLFxuICAvLyBcIkNvQzcuSW5mb0FjdG9ySW5qdXJpZWRcIjogXCJ7YWN0b3J9IGlzIGluanVyaWVkXCIsXG5cbiAgLy8gc3RhdGljIHVwZGF0ZVRva2VuKCBzY2VuZSwgdG9rZW4sIGRhdGFVcGRhdGUpe1xuICAvLyAgIGNvbnN0IGluanVyaWVkID0gZGF0YVVwZGF0ZT8uYWN0b3JEYXRhPy5mbGFncz8uQ29DNz8uaW5qdXJpZWQ7XG4gIC8vICAgaWYoIGluanVyaWVkKSB1aS5ub3RpZmljYXRpb25zLmluZm8oIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSW5mb0FjdG9ySW5qdXJpZWQnLCB7YWN0b3I6IHRva2VuLm5hbWV9KSk7XG4gIC8vICAgcmV0dXJuO1xuICAvLyB9XG59XG4iLCIvKiBnbG9iYWwgY2FudmFzLCBDaGF0TWVzc2FnZSwgQ09ORklHLCBDT05TVCwgZHVwbGljYXRlLCBnYW1lLCBtZXJnZU9iamVjdCwgdWkgKi9cbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3Q29udGVudExpbmtEaWFsb2cgfSBmcm9tICcuL2NvYzctY29udGVudC1saW5rLWRpYWxvZy5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBTYW5DaGVja0NhcmQgfSBmcm9tICcuLi9jaGF0L2NhcmRzL3Nhbi1jaGVjay5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIGlzQ3RybEtleSB9IGZyb20gJy4uL2NoYXQvaGVscGVyLmpzJ1xuXG4vKipcbiAqIEFsbG93IGZvciBwYXJzaW5nIG9mIENvQzcgZWxlbWVudHMgaW4gY2hhdCBtZXNzYWdlIGFuZCBzaGVldHMuXG4gKiBGb3JtYXQgaXMgOlxuICogQGNvYzcuVFlQRV9PRl9SRVFVRVNUW09QVElPTlNde0RJU1BMQVlFRF9OQU1FfVxuICogVFlQRV9PRl9SRVFVRVNUIDpcbiAqIC0gc2FubG9zczogdHJpZ2dlciBhIHNhbiBjaGVjaywgdXBvbiBmYWlsdXJlIHdpbGwgcHJvcG9zZSB0byBkZWR1Y3QgdGhlIGNvcnJlc3BvbmRpbmcgU0FOLlxuICogLSBjaGVjazogdHJpZ2dlciBhIGNoZWNrIGRlcGVuZGluZyBvbiB0aGUgb3B0aW9ucy5cbiAqIC0gaXRlbTogVHJpZ2dlciBhIHdlYXBvbiBjaGVja1xuICogLSBlZmZlY3Q6IEFkZCBhbiBlZmZlY3RcbiAqXG4gKiBPUFRJT05TOiBbXSA9IG9wdGlvbmFsXG4gKiBzYW5sb3NzOlxuICogICBzYW5NYXg6IG1heCBTQU4gbG9zc1xuICogICBzYW5NaW46IG1pbiBTQU4gbG9zc1xuICogICBzYW5SZWFzb246IFJlYXNvblxuICogY2hlY2s6XG4gKiAgIHR5cGU6IHR5cGUgb2YgY2hlY2sgKGNoYXJhY3RlcmlzdGljLCBza2lsbCwgYXR0cmliKS5cbiAqICAgbmFtZTogbmFtZSBvZiB0aGUgc2tpbGwvY2hhcmFjdGVyaXN0aWMuXG4gKiAgIFtkaWZmaWN1bHR5XTogPyAoYmxpbmQpLCAwIChyZWd1bGFyKSwgKyAoaGFyZCksICsrIChleHRyZW1lKSwgKysrIChjcml0aWNhbCkuXG4gKiAgIFttb2RpZmllcl06IC14ICh4IHBlbmFsdHkgZGljZSksICt4ICh4IGJvbnVzIGRpY2UpLCAwIChubyBtb2RpZmllcikuXG4gKiAgIFtpY29uXTogaWNvbiB0dSB1c2UgKGZvbnQgYXdzb21lKS5cbiAqICAgW2JsaW5kXTogd2lsbCB0cmlnZ2VyIGEgYmxpbmQgcm9sbC5cbiAqXG4gKiBbRElTUExBWUVEX05BTUU6IG5hbWUgdG8gZGlzcGxheS5dXG4gKlxuICogVG8gYWRkL2VkaXQgYSBuZXcgbGluayB1cGRhdGUgdGhlc2Ugc2VjdGlvbnNcbiAqICAgZnJvbURyb3BEYXRhID0+IEFkZCBhbGwgZGVmYXVsdHMgaGVyZVxuICogICBfY3JlYXRlTGluayA9PiBDcmVhdGUgSFRNTCBmcm9tIGRvY3VtZW50IGRhdGFcbiAqICAgX2NyZWF0ZURvY3VtZW50TGluayA9PiBDcmVhdGUgQGxpbmsgZnJvbSBkb2N1bWVudCBkYXRhXG4gKiAgIF9vbkxpbmtBY3RvckNsaWNrID0+IFByb2Nlc3MgbGlua1xuICovXG5leHBvcnQgY2xhc3MgQ29DN0xpbmsge1xuICBzdGF0aWMgZ2V0IENIRUNLX1RZUEUgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBDSEVDSzogJ2NoZWNrJyxcbiAgICAgIFNBTkxPU1M6ICdzYW5sb3NzJyxcbiAgICAgIElURU06ICdpdGVtJyxcbiAgICAgIEVGRkVDVDogJ2VmZmVjdCdcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IExJTktfVFlQRSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIENIQVJBQ1RFUklTVElDOiAnY2hhcmFjdGVyaXN0aWMnLFxuICAgICAgQVRUUklCVVRFOiAnYXR0cmlidXRlJyxcbiAgICAgIFNLSUxMOiAnc2tpbGwnXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGluaXQgKCkge1xuICAgIENPTkZJRy5Db0M3TGluayA9IHtcbiAgICAgIGRvY3VtZW50Q2xhc3M6IENvQzdMaW5rXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGJpbmRFdmVudHNIYW5kbGVyIChodG1sKSB7XG4gICAgaHRtbFxuICAgICAgLmZpbmQoJ2EuY29jNy1saW5rOm5vdCguaGFzY29jN2xpbmtlZCknKVxuICAgICAgLm9uKCdjbGljaycsIGV2ZW50ID0+IENvQzdMaW5rLl9vbkxpbmtDbGljayhldmVudCkpXG4gICAgICAub24oJ2RyYWdzdGFydCcsIGV2ZW50ID0+IENvQzdMaW5rLl9vbkRyYWdDb0M3TGluayhldmVudCkpXG4gICAgICAuYWRkQ2xhc3MoJ2hhc2NvYzdsaW5rZWQnKVxuICB9XG5cbiAgc3RhdGljIF9saW5rRnJvbUV2ZW50IChldmVudCkge1xuICAgIGNvbnN0IGEgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgaSA9IGEucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1pY29uXScpXG4gICAgY29uc3QgZGF0YSA9IGR1cGxpY2F0ZShhLmRhdGFzZXQpXG5cbiAgICBjb25zdCBvbGRUeXBlID0gZGF0YS50eXBlXG5cbiAgICBkYXRhLnR5cGUgPSAnQ29DN0xpbmsnXG4gICAgZGF0YS5pY29uID0gbnVsbFxuXG4gICAgaWYgKG9sZFR5cGUpIHtcbiAgICAgIGRhdGEubGlua1R5cGUgPSBvbGRUeXBlXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZGF0YS5vYmplY3QgJiZcbiAgICAgICh0eXBlb2YgZGF0YS5vYmplY3QgPT09ICdzdHJpbmcnIHx8IGRhdGEub2JqZWN0IGluc3RhbmNlb2YgU3RyaW5nKVxuICAgICkge1xuICAgICAgZGF0YS5vYmplY3QgPSBKU09OLnBhcnNlKGRhdGEub2JqZWN0KVxuICAgICAgLy8gZGF0YS5saW5rVHlwZSA9IENvQzdMaW5rLkxJTktfVFlQRS5FRkZFQ1RcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBpLmRhdGFzZXQgJiZcbiAgICAgIGkuZGF0YXNldC5saW5rSWNvbiAmJlxuICAgICAgaS5kYXRhc2V0LmxpbmtJY29uICE9PSAnZmFzIGZhLWRpY2UnXG4gICAgKSB7XG4gICAgICBkYXRhLmljb24gPSBpLmRhdGFzZXQubGlua0ljb25cbiAgICB9XG4gICAgZGF0YS5kaXNwbGF5TmFtZSA9IGEuZGF0YXNldC5kaXNwbGF5TmFtZSA/IGEuaW5uZXJUZXh0IDogbnVsbFxuICAgIGlmIChkYXRhLmRpZmZpY3VsdHkpIHtcbiAgICAgIGRhdGEuZGlmZmljdWx0eSA9IENvQzdVdGlsaXRpZXMuY29udmVydERpZmZpY3VsdHkoZGF0YS5kaWZmaWN1bHR5KVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgc3RhdGljIF9vbkRyYWdDb0M3TGluayAoZXZlbnQpIHtcbiAgICBjb25zdCBkYXRhID0gQ29DN0xpbmsuX2xpbmtGcm9tRXZlbnQoZXZlbnQpXG4gICAgZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBvYnRhaW5pbmcgdGhlIHJlbGV2YW50IERvY3VtZW50IGZyb20gZHJvcHBlZCBkYXRhIHByb3ZpZGVkIHZpYSBhIERhdGFUcmFuc2ZlciBldmVudC5cbiAgICogVGhlIGRyb3BwZWQgZGF0YSBjb3VsZCBoYXZlOlxuICAgKiAxLiBBIGRhdGEgb2JqZWN0IGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICogQG1lbWJlcm9mIENsaWVudERvY3VtZW50TWl4aW5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgICAgICAgICAgIFRoZSBkYXRhIG9iamVjdCBleHRyYWN0ZWQgZnJvbSBhIERhdGFUcmFuc2ZlciBldmVudFxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAgICAgICAgQWRkaXRpb25hbCBvcHRpb25zIHdoaWNoIGFmZmVjdCBkcm9wIGRhdGEgYmVoYXZpb3JcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSAgIFRoZSByZXNvbHZlZCBEb2N1bWVudFxuICAgKiBAdGhyb3dzIElmIGEgRG9jdW1lbnQgY291bGQgbm90IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBwcm92aWRlZCBkYXRhLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGZyb21Ecm9wRGF0YSAoZGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgY2xzID0gbmV3IENvQzdMaW5rKClcbiAgICBjbHMub2JqZWN0ID0gbWVyZ2VPYmplY3Qoe1xuICAgICAgdHlwZTogJ0NvQzdMaW5rJyxcbiAgICAgIGNoZWNrOiBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLLFxuICAgICAgbGlua1R5cGU6IENvQzdMaW5rLkxJTktfVFlQRS5TS0lMTCxcbiAgICAgIGRpZmZpY3VsdHk6IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhcixcbiAgICAgIG1vZGlmaWVyOiAwLFxuICAgICAgb2JqZWN0OiB7XG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRWZmZWN0TmV3JyksXG4gICAgICAgIGljb246ICdpY29ucy9zdmcvYXVyYS5zdmcnLFxuICAgICAgICBjaGFuZ2VzOiBbXVxuICAgICAgfVxuICAgIH0sIGRhdGEpXG4gICAgZm9yIChjb25zdCBrZXkgb2YgWyduYW1lJywgJ2Rpc3BsYXlOYW1lJywgJ2ljb24nLCAnaWQnLCAncGFjaycsICdzYW5NaW4nLCAnc2FuTWF4JywgJ3NhblJlYXNvbiddKSB7XG4gICAgICBjbHMub2JqZWN0W2tleV0gPSBjbHMub2JqZWN0W2tleV0gPz8gJydcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjbHMub2JqZWN0Lm9iamVjdC5pY29uICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY2xzLm9iamVjdC5vYmplY3QuZXh0ZXJuYWwgIT09ICd1bmRlZmluZWQnICYmIFsnaHR0cCcsICdodHRwcyddLmluY2x1ZGVzKGNscy5vYmplY3Qub2JqZWN0LmV4dGVybmFsKSkge1xuICAgICAgY2xzLm9iamVjdC5vYmplY3QuaWNvbiA9IGNscy5vYmplY3Qub2JqZWN0LmV4dGVybmFsICsgJzovLycgKyBjbHMub2JqZWN0Lm9iamVjdC5pY29uXG4gICAgfVxuICAgIGNscy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHJldHVybiBjbHNcbiAgfVxuXG4gIHN0YXRpYyBfY3JlYXRlTGluayAobWF0Y2gpIHtcbiAgICBjb25zdCBuYW1lID0gbWF0Y2hbNF0gPz8gdW5kZWZpbmVkXG4gICAgY29uc3Qgb3B0aW9ucyA9IG1hdGNoWzNdID8/IHVuZGVmaW5lZFxuICAgIGNvbnN0IHR5cGUgPSBtYXRjaFsyXSA/PyB1bmRlZmluZWRcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBjbHM6IFsnY29jNy1saW5rJ10sXG4gICAgICBkYXRhc2V0OiB7IGNoZWNrOiB0eXBlIH0sXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgYmxpbmQ6IGZhbHNlLFxuICAgICAgbmFtZVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCkge1xuICAgICAgZGF0YS5lZmZlY3QgPSBKU09OLnBhcnNlKG9wdGlvbnMpXG4gICAgICBkYXRhLmRhdGFzZXQub2JqZWN0ID0gb3B0aW9uc1xuICAgICAgaWYgKHR5cGVvZiBkYXRhLmVmZmVjdC5pY29uICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGF0YS5lZmZlY3QuZXh0ZXJuYWwgIT09ICd1bmRlZmluZWQnICYmIFsnaHR0cCcsICdodHRwcyddLmluY2x1ZGVzKGRhdGEuZWZmZWN0LmV4dGVybmFsKSkge1xuICAgICAgICBkYXRhLmVmZmVjdC5pY29uID0gZGF0YS5lZmZlY3QuZXh0ZXJuYWwgKyAnOi8vJyArIGRhdGEuZWZmZWN0Lmljb25cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IG9wdGlvbnMubWF0Y2hBbGwoL1teLF0rL2dpKVxuICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBBcnJheS5mcm9tKG1hdGNoZXMpKSB7XG4gICAgICAgIGxldCBba2V5LCB2YWx1ZV0gPSBtYXRjaFswXS5zcGxpdCgnOicpXG4gICAgICAgIGlmIChrZXkgPT09ICdpY29uJykge1xuICAgICAgICAgIGRhdGEuaWNvbiA9IHZhbHVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PT0gJ2JsaW5kJyAmJiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFsdWUgPSB0cnVlXG4gICAgICAgICAgZGF0YS5ibGluZCA9IHRydWUgJiYgW0NvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0tdLmluY2x1ZGVzKHR5cGUudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmRhdGFzZXRba2V5XSA9IHZhbHVlXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGRhdGEuZGF0YXNldC5pY29uICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGF0YS5kYXRhc2V0LmV4dGVybmFsICE9PSAndW5kZWZpbmVkJyAmJiBbJ2h0dHAnLCAnaHR0cHMnXS5pbmNsdWRlcyhkYXRhLmRhdGFzZXQuZXh0ZXJuYWwpKSB7XG4gICAgICAgIGRhdGEuZGF0YXNldC5pY29uID0gZGF0YS5kYXRhc2V0LmV4dGVybmFsICsgJzovLycgKyBkYXRhLmRhdGFzZXQuaWNvblxuICAgICAgICBkYXRhLmljb24gPSBkYXRhLmRhdGFzZXQuaWNvblxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB0aXRsZVxuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eVN0cmluZyhkYXRhLmRhdGFzZXQuZGlmZmljdWx0eSlcblxuICAgIHN3aXRjaCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0s6IHtcbiAgICAgICAgbGV0IGh1bWFuTmFtZSA9IGRhdGEuZGF0YXNldC5uYW1lXG4gICAgICAgIGlmIChbJ2F0dHJpYnV0ZXMnLCAnYXR0cmlidXRlJywgJ2F0dHJpYicsICdhdHRyaWJzJ10uaW5jbHVkZXMoZGF0YS5kYXRhc2V0LnR5cGU/LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgaWYgKGRhdGEuZGF0YXNldC5uYW1lID09PSAnbGNrJykge1xuICAgICAgICAgICAgaHVtYW5OYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5kYXRhc2V0Lm5hbWUgPT09ICdzYW4nKSB7XG4gICAgICAgICAgICBodW1hbk5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2FuaXR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFsnY2hhcmFjJywgJ2NoYXInLCAnY2hhcmFjdGVyaXN0aWMnLCAnY2hhcmFjdGVyaXN0aWNzJ10uaW5jbHVkZXMoZGF0YS5kYXRhc2V0LnR5cGU/LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgaHVtYW5OYW1lID0gQ29DN1V0aWxpdGllcy5nZXRDaGFyYWN0ZXJpc3RpY05hbWVzKGRhdGEuZGF0YXNldC5uYW1lKT8ubGFiZWxcbiAgICAgICAgfVxuICAgICAgICB0aXRsZSA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgYENvQzcuTGlua0NoZWNrJHshZGF0YS5kYXRhc2V0LmRpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30keyFkYXRhLmRhdGFzZXQubW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICAgICAgbW9kaWZpZXI6IGRhdGEuZGF0YXNldC5tb2RpZmllcixcbiAgICAgICAgICAgIG5hbWU6IGh1bWFuTmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuU0FOTE9TUzpcbiAgICAgICAgdGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgIGBDb0M3LkxpbmtTYW5Mb3NzJHshZGF0YS5kYXRhc2V0LmRpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30keyFkYXRhLmRhdGFzZXQubW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICAgICAgbW9kaWZpZXI6IGRhdGEuZGF0YXNldC5tb2RpZmllcixcbiAgICAgICAgICAgIHNhbk1pbjogZGF0YS5kYXRhc2V0LnNhbk1pbixcbiAgICAgICAgICAgIHNhbk1heDogZGF0YS5kYXRhc2V0LnNhbk1heFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuSVRFTTpcbiAgICAgICAgdGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgIGBDb0M3LkxpbmtJdGVtJHshZGF0YS5kYXRhc2V0LmRpZmZpY3VsdHkgPyAnJyA6ICdEaWZmJ30keyFkYXRhLmRhdGFzZXQubW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICAgICAgbW9kaWZpZXI6IGRhdGEuZGF0YXNldC5tb2RpZmllcixcbiAgICAgICAgICAgIG5hbWU6IGRhdGEuZGF0YXNldC5uYW1lXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgQ29DN0xpbmsuQ0hFQ0tfVFlQRS5FRkZFQ1Q6XG4gICAgICAgIHRpdGxlID0gZGF0YS5lZmZlY3QubGFiZWxcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIGRhdGEubmFtZSA9IHRpdGxlXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuZGF0YXNldC5kaXNwbGF5TmFtZSA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgYS50aXRsZSA9IGdhbWUudXNlci5pc0dNID8gZGF0YS5uYW1lIDogdGl0bGVcbiAgICBhLmNsYXNzTGlzdC5hZGQoLi4uZGF0YS5jbHMpXG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5kYXRhc2V0KSkge1xuICAgICAgYS5kYXRhc2V0W2tdID0gdlxuICAgIH1cbiAgICBhLmRyYWdnYWJsZSA9IHRydWVcbiAgICBkYXRhLmljb24gPSBkYXRhLmljb24gPz8gZGF0YS5lZmZlY3Q/Lmljb24gPz8gJ2ZhcyBmYS1kaWNlJ1xuICAgIC8vIGNoZWNrIGlmIGl0J3MgYW4gaW1hZ2Ugb3IgYW4gaWNvblxuICAgIGlmIChkYXRhLmljb24uaW5jbHVkZXMoJ1xcXFwnKSB8fCBkYXRhLmljb24uaW5jbHVkZXMoJy4nKSkge1xuICAgICAgZGF0YS5pbWcgPSBkYXRhLmljb25cbiAgICB9XG4gICAgaWYgKGRhdGEuYmxpbmQpIHtcbiAgICAgIGEuaW5uZXJIVE1MICs9ICc8aSBjbGFzcz1cImZhcyBmYS1leWUtc2xhc2hcIj48L2k+J1xuICAgIH1cbiAgICBpZiAoZGF0YS5pbWcpIHtcbiAgICAgIGEuaW5uZXJIVE1MICs9IGA8aW1nIGRhdGEtbGluay1pY29uPVwiJHtkYXRhLmljb259XCIgc3JjPVwiJHtkYXRhLmltZ31cIj5gXG4gICAgfSBlbHNlIHtcbiAgICAgIGEuaW5uZXJIVE1MICs9IGA8aSBkYXRhLWxpbmstaWNvbj1cIiR7ZGF0YS5pY29ufVwiIGNsYXNzPVwibGluay1pY29uICR7ZGF0YS5pY29ufVwiPjwvaT5gXG4gICAgfVxuICAgIGEuaW5uZXJIVE1MICs9IGA8c3Bhbj4ke2RhdGEubmFtZX08L3NwYW4+YFxuXG4gICAgcmV0dXJuIGFcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjb250ZW50IGxpbmsgZm9yIHRoaXMgZG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgICAgICAgICAgICAgICAgICAgICBUaGUgcGFyc2VkIG9iamVjdCBvZiBkYXRhIHByb3ZpZGVkIGJ5IHRoZSBkcm9wIHRyYW5zZmVyIGV2ZW50LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdICAgICAgICAgICAgICAgICAgICAgQWRkaXRpb25hbCBvcHRpb25zIHRvIGNvbmZpZ3VyZSBsaW5rIGdlbmVyYXRpb24uXG4gICAqIEBwYXJhbSB7Q2xpZW50RG9jdW1lbnR9IFtvcHRpb25zLnJlbGF0aXZlVG9dICBBIGRvY3VtZW50IHRvIGdlbmVyYXRlIGEgbGluayByZWxhdGl2ZSB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhYmVsXSAgICAgICAgICAgICAgIEEgY3VzdG9tIGxhYmVsIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBkb2N1bWVudCdzIG5hbWUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2NyZWF0ZURvY3VtZW50TGluayAoZXZlbnREYXRhLCB7IHJlbGF0aXZlVG8sIGxhYmVsIH0gPSB7fSkge1xuICAgIGlmICghZXZlbnREYXRhLmNoZWNrKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gICAgc3dpdGNoIChldmVudERhdGEuY2hlY2sudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLOiB7XG4gICAgICAgIC8vIEBjb2M3LmNoZWNrW3R5cGU6Y2hhcmFjLG5hbWU6U1RSLGRpZmZpY3VsdHk6Kyxtb2RpZmllcjotMV17SGFyZCBTVFIgY2hlY2soLTEpfVxuICAgICAgICAvLyBAY29jNy5jaGVja1tibGluZCx0eXBlOmNoYXJhY3RlcmlzdGljLG5hbWU6c3RyLGRpZmZpY3VsdHk6MSxtb2RpZmllcjowLGljb246ZmEgZmEtbGlua117U3RyZW5ndGh9XG4gICAgICAgIC8vIEBjb2M3LmNoZWNrW2JsaW5kLHR5cGU6YXR0cmlidXRlLG5hbWU6bGNrLGRpZmZpY3VsdHk6MSxtb2RpZmllcjowLGljb246ZmEgZmEtbGlua117THVja31cbiAgICAgICAgLy8gQGNvYzcuY2hlY2tbYmxpbmQsdHlwZTpza2lsbCxuYW1lOkxhdyxkaWZmaWN1bHR5OjEsbW9kaWZpZXI6MCxpY29uOmZhIGZhLWxpbmtde0xhd31cbiAgICAgICAgaWYgKCFldmVudERhdGEubGlua1R5cGUgfHwgIWV2ZW50RGF0YS5uYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSBgJHtldmVudERhdGEuYmxpbmQgPyAnYmxpbmQsJyA6ICcnfXR5cGU6JHtldmVudERhdGEubGlua1R5cGV9LG5hbWU6JHtldmVudERhdGEubmFtZX1gXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnREYXRhLmRpZmZpY3VsdHkgIT09ICd1bmRlZmluZWQnICYmIGV2ZW50RGF0YS5kaWZmaWN1bHR5ICE9PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIpIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsZGlmZmljdWx0eToke2V2ZW50RGF0YS5kaWZmaWN1bHR5fWBcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50RGF0YS5tb2RpZmllciAhPT0gJ3VuZGVmaW5lZCcgJiYgZXZlbnREYXRhLm1vZGlmaWVyICE9PSAwKSB7XG4gICAgICAgICAgb3B0aW9ucyArPSBgLG1vZGlmaWVyOiR7ZXZlbnREYXRhLm1vZGlmaWVyfWBcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLmljb24pIHtcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IGV2ZW50RGF0YS5pY29uLm1hdGNoKC9eKGh0dHBzPyk6XFwvXFwvKC4rKSQvKVxuICAgICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgb3B0aW9ucyArPSBgLGV4dGVybmFsOiR7cGFydHNbMV19LGljb246JHtwYXJ0c1syXX1gXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgKz0gYCxpY29uOiR7ZXZlbnREYXRhLmljb259YFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLnBhY2spIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAscGFjazoke2V2ZW50RGF0YS5wYWNrfWBcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLmlkKSB7XG4gICAgICAgICAgb3B0aW9ucyArPSBgLGlkOiR7ZXZlbnREYXRhLmlkfWBcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGluayA9IGBAY29jNy5jaGVja1ske29wdGlvbnN9XWBcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBldmVudERhdGEuZGlzcGxheU5hbWUgPz8gKGxhYmVsID8/ICcnKVxuICAgICAgICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICBsaW5rICs9IGB7JHtkaXNwbGF5TmFtZX19YFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5rXG4gICAgICB9XG5cbiAgICAgIGNhc2UgQ29DN0xpbmsuQ0hFQ0tfVFlQRS5TQU5MT1NTOiB7XG4gICAgICAgIC8vIEBjb2M3LnNhbmxvc3Nbc2FuTWF4OjFENixzYW5NaW46MSxkaWZmaWN1bHR5OisrLG1vZGlmaWVyOi0xXXtIYXJkIFNhbiBMb3NzICgtMSkgMS8xRDZ9XG4gICAgICAgIGlmICghZXZlbnREYXRhLnNhbk1heCB8fCAhZXZlbnREYXRhLnNhbk1pbikge1xuICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcHRpb25zID0gYCR7ZXZlbnREYXRhLmJsaW5kID8gJ2JsaW5kLCcgOiAnJ31zYW5NYXg6JHtldmVudERhdGEuc2FuTWF4fSxzYW5NaW46JHtldmVudERhdGEuc2FuTWlufWBcbiAgICAgICAgaWYgKGV2ZW50RGF0YS5zYW5SZWFzb24pIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsc2FuUmVhc29uOiR7ZXZlbnREYXRhLnNhblJlYXNvbn1gXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50RGF0YS5kaWZmaWN1bHR5ICYmIGV2ZW50RGF0YS5kaWZmaWN1bHR5ICE9PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIpIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsZGlmZmljdWx0eToke2V2ZW50RGF0YS5kaWZmaWN1bHR5fWBcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnREYXRhLm1vZGlmaWVyICYmIGV2ZW50RGF0YS5tb2RpZmllciAhPT0gMCkge1xuICAgICAgICAgIG9wdGlvbnMgKz0gYCxtb2RpZmllcjoke2V2ZW50RGF0YS5tb2RpZmllcn1gXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50RGF0YS5pY29uKSB7XG4gICAgICAgICAgY29uc3QgcGFydHMgPSBldmVudERhdGEuaWNvbi5tYXRjaCgvXihodHRwcz8pOlxcL1xcLyguKykkLylcbiAgICAgICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgKz0gYCxleHRlcm5hbDoke3BhcnRzWzFdfSxpY29uOiR7cGFydHNbMl19YFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zICs9IGAsaWNvbjoke2V2ZW50RGF0YS5pY29ufWBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxpbmsgPSBgQGNvYzcuc2FubG9zc1ske29wdGlvbnN9XWBcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBldmVudERhdGEuZGlzcGxheU5hbWUgPz8gKGxhYmVsID8/ICcnKVxuICAgICAgICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICBsaW5rICs9IGB7JHtkaXNwbGF5TmFtZX19YFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5rXG4gICAgICB9XG5cbiAgICAgIGNhc2UgQ29DN0xpbmsuQ0hFQ0tfVFlQRS5JVEVNOiB7XG4gICAgICAgIC8vIEBjb2M3Lml0ZW1bdHlwZTpvcHRpb25hbCxuYW1lOlNob3RndW4sZGlmZmljdWx0eTorLG1vZGlmaWVyOi0xXXtIYXJkIFNoaXRndW4gY2hlY2soLTEpfVxuICAgICAgICBpZiAoIWV2ZW50RGF0YS5uYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSBgJHtldmVudERhdGEuYmxpbmQgPyAnYmxpbmQsJyA6ICcnfW5hbWU6JHtldmVudERhdGEubmFtZX1gXG4gICAgICAgIGlmIChldmVudERhdGEuaWNvbikge1xuICAgICAgICAgIGNvbnN0IHBhcnRzID0gZXZlbnREYXRhLmljb24ubWF0Y2goL14oaHR0cHM/KTpcXC9cXC8oLispJC8pXG4gICAgICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgICAgICBvcHRpb25zICs9IGAsZXh0ZXJuYWw6JHtwYXJ0c1sxXX0saWNvbjoke3BhcnRzWzJdfWBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyArPSBgLGljb246JHtldmVudERhdGEuaWNvbn1gXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudERhdGEucGFjaykge1xuICAgICAgICAgIG9wdGlvbnMgKz0gYCxwYWNrOiR7ZXZlbnREYXRhLnBhY2t9YFxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudERhdGEuaWQpIHtcbiAgICAgICAgICBvcHRpb25zICs9IGAsaWQ6JHtldmVudERhdGEuaWR9YFxuICAgICAgICB9XG4gICAgICAgIGxldCBsaW5rID0gYEBjb2M3Lml0ZW1bJHtvcHRpb25zfV1gXG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZXZlbnREYXRhLmRpc3BsYXlOYW1lID8/IChsYWJlbCA/PyAnJylcbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgbGluayArPSBgeyR7ZGlzcGxheU5hbWV9fWBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlua1xuICAgICAgfVxuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuRUZGRUNUOiB7XG4gICAgICAgIC8vIEBjb2M3LmVmZmVjdFt7XCJsYWJlbFwiOlwiS2Fwb3dcIixcImljb25cIjpcImljb25zL3N2Zy9hdXJhLnN2Z1wiLFwiY2hhbmdlc1wiOlt7XCJrZXlcIjpcInN5c3RlbS51bmtub3duLnRlc3RcIixcIm1vZGVcIjoyLFwidmFsdWVcIjpcIjVcIn1dLFwidGludFwiOlwiI2U5MTYxNlwiLFwiZHVyYXRpb25cIjp7XCJzZWNvbmRzXCI6bnVsbCxcInJvdW5kc1wiOjYsXCJ0dXJuc1wiOm51bGx9fV17S2Fwb3dpbmd9XG4gICAgICAgIC8vIGNvbnN0IGVmZmVjdERhdGEgPSBmb3VuZHJ5LnV0aWxzLmRlZXBDbG9uZShldmVudERhdGEpXG4gICAgICAgIC8vIGlmICghdGhpcy5lZmZlY3RJc1RlbXApIGRlbGV0ZSBlZmZlY3REYXRhLmR1cmF0aW9uXG4gICAgICAgIC8vIGlmIChlZmZlY3REYXRhLmNoYW5nZXM/Lmxlbmd0aCA9PT0gMCkgZGVsZXRlIGVmZmVjdERhdGEuY2hhbmdlc1xuICAgICAgICAvLyBpZiAoIWVmZmVjdERhdGEuZGlzYWJsZWQpIGRlbGV0ZSBlZmZlY3REYXRhLmRpc2FibGVkXG4gICAgICAgIC8vIGlmICghZWZmZWN0RGF0YS50aW50KSBkZWxldGUgZWZmZWN0RGF0YS50aW50XG4gICAgICAgIGNvbnN0IHBhcnRzID0gZXZlbnREYXRhLm9iamVjdC5pY29uLm1hdGNoKC9eKGh0dHBzPyk6XFwvXFwvKC4rKSQvKVxuICAgICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgICBldmVudERhdGEub2JqZWN0LmV4dGVybmFsID0gcGFydHNbMV1cbiAgICAgICAgICBldmVudERhdGEub2JqZWN0Lmljb24gPSBwYXJ0c1syXVxuICAgICAgICB9XG4gICAgICAgIGxldCBsaW5rID0gYEBjb2M3LmVmZmVjdFske0pTT04uc3RyaW5naWZ5KGV2ZW50RGF0YS5vYmplY3QpfV1gXG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZXZlbnREYXRhLmRpc3BsYXlOYW1lID8/IChsYWJlbCA/PyAnJylcbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgbGluayArPSBgeyR7ZGlzcGxheU5hbWV9fWBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlua1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJz8nXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX29uTGlua0FjdG9yQ2xpY2sgKGFjdG9yLCBvcHRpb25zLCB7IHNoaWZ0S2V5ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgc3dpdGNoIChvcHRpb25zLmNoZWNrKSB7XG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuQ0hFQ0s6XG4gICAgICAgIGlmIChbJ2NoYXJhYycsICdjaGFyJywgJ2NoYXJhY3RlcmlzdGljJywgJ2NoYXJhY3RlcmlzdGljcyddLmluY2x1ZGVzKG9wdGlvbnMubGlua1R5cGUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICByZXR1cm4gYWN0b3IuY2hhcmFjdGVyaXN0aWNDaGVjayhcbiAgICAgICAgICAgIG9wdGlvbnMubmFtZSxcbiAgICAgICAgICAgIHNoaWZ0S2V5LFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBpZiAoWydza2lsbCddLmluY2x1ZGVzKG9wdGlvbnMubGlua1R5cGUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICByZXR1cm4gYWN0b3Iuc2tpbGxDaGVjayhvcHRpb25zLCBzaGlmdEtleSwgb3B0aW9ucylcbiAgICAgICAgfVxuICAgICAgICBpZiAoWydhdHRyaWJ1dGVzJywgJ2F0dHJpYnV0ZScsICdhdHRyaWInLCAnYXR0cmlicyddLmluY2x1ZGVzKG9wdGlvbnMubGlua1R5cGUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICByZXR1cm4gYWN0b3IuYXR0cmlidXRlQ2hlY2sob3B0aW9ucy5uYW1lLCBzaGlmdEtleSwgb3B0aW9ucylcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIENvQzdMaW5rLkNIRUNLX1RZUEUuU0FOTE9TUzpcbiAgICAgICAgU2FuQ2hlY2tDYXJkLmNyZWF0ZShhY3Rvci5hY3RvcktleSwgb3B0aW9ucywge1xuICAgICAgICAgIGZhc3RGb3J3YXJkOiBzaGlmdEtleVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cblxuICAgICAgY2FzZSBDb0M3TGluay5DSEVDS19UWVBFLklURU06XG4gICAgICAgIHJldHVybiBhY3Rvci53ZWFwb25DaGVjayhvcHRpb25zLCBzaGlmdEtleSlcblxuICAgICAgY2FzZSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVDpcbiAgICAgICAgYXdhaXQgYWN0b3IuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0FjdGl2ZUVmZmVjdCcsIFt7XG4gICAgICAgICAgbGFiZWw6IG9wdGlvbnMub2JqZWN0LmxhYmVsLFxuICAgICAgICAgIGljb246IG9wdGlvbnMub2JqZWN0Lmljb24sXG4gICAgICAgICAgY2hhbmdlczogb3B0aW9ucy5vYmplY3QuY2hhbmdlc1xuICAgICAgICB9XSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdG9DaGF0TWVzc2FnZSAob3B0aW9ucykge1xuICAgIGNvbnN0IG9wdGlvbiA9IHtcbiAgICAgIHNwZWFrZXI6IHtcbiAgICAgICAgYWxpYXM6IGdhbWUudXNlci5uYW1lXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtZXNzYWdlXG4gICAgY29uc3QgbGluayA9IChuZXcgQ29DN0xpbmsoKSkuX2NyZWF0ZURvY3VtZW50TGluayhvcHRpb25zKVxuICAgIGlmIChvcHRpb25zLmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCkge1xuICAgICAgbWVzc2FnZSA9IGA8ZGl2IGNsYXNzPVwiZWZmZWN0LW1lc3NhZ2VcIj4ke2xpbmt9PC9kaXY+YFxuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NZXNzYWdlQ2hlY2tSZXF1ZXN0ZWRXYWl0Jywge1xuICAgICAgICBjaGVjazogbGlua1xuICAgICAgfSlcbiAgICB9XG4gICAgY2hhdEhlbHBlci5jcmVhdGVNZXNzYWdlKG51bGwsIG1lc3NhZ2UsIG9wdGlvbilcbiAgfVxuXG4gIHN0YXRpYyB0b1doaXNwZXJNZXNzYWdlIChvcHRpb25zLCBhY3RvcnMpIHtcbiAgICBmb3IgKGNvbnN0IGFjdG9yIG9mIGFjdG9ycykge1xuICAgICAgY29uc3Qgb3B0aW9uID0ge1xuICAgICAgICBzcGVha2VyOiB7XG4gICAgICAgICAgYWxpYXM6IGdhbWUudXNlci5uYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHdoaXNwZXI6IGFjdG9yLm93bmVycy5tYXAoYSA9PiBhLmlkKVxuICAgICAgfVxuICAgICAgbGV0IG1lc3NhZ2VcbiAgICAgIGNvbnN0IGxpbmsgPSAobmV3IENvQzdMaW5rKCkpLl9jcmVhdGVEb2N1bWVudExpbmsob3B0aW9ucylcbiAgICAgIGlmIChvcHRpb25zLmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVCkge1xuICAgICAgICBtZXNzYWdlID0gYDxkaXYgY2xhc3M9XCJlZmZlY3QtbWVzc2FnZVwiPiR7bGlua308L2Rpdj5gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NZXNzYWdlVGFyZ2V0Q2hlY2tSZXF1ZXN0ZWQnLCB7XG4gICAgICAgICAgbmFtZTogYWN0b3IubmFtZSxcbiAgICAgICAgICBjaGVjazogbGlua1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY2hhdEhlbHBlci5jcmVhdGVNZXNzYWdlKG51bGwsIG1lc3NhZ2UsIG9wdGlvbilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlciBhIGNoZWNrIHdoZW4gYSBsaW5rIGlzIGNsaWNrZWQuXG4gICAqIERlcGVuZGluZyB0aGUgb3JpZ2luXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICpcbiAgICovXG4gIHN0YXRpYyBhc3luYyBfb25MaW5rQ2xpY2sgKGV2ZW50KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IENvQzdMaW5rLl9saW5rRnJvbUV2ZW50KGV2ZW50KVxuXG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBpZiAoaXNDdHJsS2V5KGV2ZW50KSkge1xuICAgICAgICBDb0M3Q29udGVudExpbmtEaWFsb2cuY3JlYXRlKG9wdGlvbnMpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKGNhbnZhcy50b2tlbnMuY29udHJvbGxlZC5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQpIHtcbiAgICAgICAgICBDb0M3TGluay5fb25MaW5rQWN0b3JDbGljayh0b2tlbi5hY3Rvciwgb3B0aW9ucywgeyBzaGlmdEtleTogZXZlbnQuc2hpZnRLZXkgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICAgIGNvbnN0IGFjdG9yID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlckFjdG9yKHNwZWFrZXIpXG4gICAgICBpZiAoYWN0b3IpIHtcbiAgICAgICAgQ29DN0xpbmsuX29uTGlua0FjdG9yQ2xpY2soYWN0b3IsIG9wdGlvbnMsIHsgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5IH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgQ29DN0xpbmsudG9DaGF0TWVzc2FnZShvcHRpb25zKVxuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICAgIGxldCBhY3RvciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXJBY3RvcihzcGVha2VyKVxuICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICBjb25zdCBhY3RvcnMgPSBnYW1lLmFjdG9ycy5maWx0ZXIoYSA9PiAoYS5vd25lcnNoaXBbZ2FtZS51c2VyLmlkXSA/PyBhLm93bmVyc2hpcC5kZWZhdWx0KSA+PSBDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk9CU0VSVkVSKVxuICAgICAgICBpZiAoYWN0b3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGFjdG9yID0gYWN0b3JzWzBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICBDb0M3TGluay5fb25MaW5rQWN0b3JDbGljayhhY3Rvciwgb3B0aW9ucywgeyBzaGlmdEtleTogZXZlbnQuc2hpZnRLZXkgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuV2Fybk5vQ29udHJvbGxlZEFjdG9yJykpXG4gIH1cblxuICBzZXRWYWx1ZSAoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMub2JqZWN0W2tleV0gPSB2YWx1ZVxuICB9XG5cbiAgZ2V0IGxpbmsgKCkge1xuICAgIHJldHVybiB0aGlzLl9jcmVhdGVEb2N1bWVudExpbmsodGhpcy5vYmplY3QpXG4gIH1cblxuICBnZXQgaWQgKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5pZFxuICB9XG5cbiAgZ2V0IHBhY2sgKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5wYWNrXG4gIH1cblxuICBnZXQgY2hlY2tUeXBlICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3QuY2hlY2tcbiAgfVxuXG4gIGdldCBkaWZmaWN1bHR5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3QuZGlmZmljdWx0eVxuICB9XG5cbiAgZ2V0IGljb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5pY29uXG4gIH1cblxuICBnZXQgZGlzcGxheU5hbWUgKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdC5kaXNwbGF5TmFtZVxuICB9XG5cbiAgZ2V0IG1vZGlmaWVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3QubW9kaWZpZXJcbiAgfVxuXG4gIGdldCBsaW5rVHlwZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmxpbmtUeXBlXG4gIH1cblxuICBnZXQgc2FuTWluICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Quc2FuTWluXG4gIH1cblxuICBnZXQgc2FuTWF4ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Quc2FuTWF4XG4gIH1cblxuICBnZXQgc2FuUmVhc29uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Quc2FuUmVhc29uXG4gIH1cblxuICBnZXQgZWZmZWN0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3Qub2JqZWN0XG4gIH1cblxuICBnZXQgY2hlY2tOYW1lICgpIHtcbiAgICBpZiAodGhpcy5pc0NoYXJhY3RlcmlzdGljQ2hlY2spIHtcbiAgICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljcyA9IENvQ0FjdG9yLmdldENoYXJhY3RlcmlzdGljRGVmaW5pdGlvbigpXG4gICAgICByZXR1cm4gY2hhcmFjdGVyaXN0aWNzLmZpbmQoYyA9PiBjLmtleSA9PT0gdGhpcy5vYmplY3QubmFtZSB8fCBjLnNob3J0TmFtZSA9PT0gdGhpcy5vYmplY3QubmFtZSB8fCBjLmxhYmVsID09PSB0aGlzLm9iamVjdC5uYW1lKT8ua2V5ID8/ICcnXG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9iamVjdC5uYW1lXG4gIH1cblxuICBnZXQgaXNDaGVjayAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkNIRUNLXG4gIH1cblxuICBnZXQgaXNDaGFyYWN0ZXJpc3RpY0NoZWNrICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NoZWNrICYmIHRoaXMub2JqZWN0LmxpbmtUeXBlID09PSBDb0M3TGluay5MSU5LX1RZUEUuQ0hBUkFDVEVSSVNUSUNcbiAgfVxuXG4gIGdldCBpc0F0dHJpYnV0ZUNoZWNrICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NoZWNrICYmIHRoaXMub2JqZWN0LmxpbmtUeXBlID09PSBDb0M3TGluay5MSU5LX1RZUEUuQVRUUklCVVRFXG4gIH1cblxuICBnZXQgaXNTa2lsbENoZWNrICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NoZWNrICYmIHRoaXMub2JqZWN0LmxpbmtUeXBlID09PSBDb0M3TGluay5MSU5LX1RZUEUuU0tJTExcbiAgfVxuXG4gIGdldCBpc0l0ZW1DaGVjayAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLklURU1cbiAgfVxuXG4gIGdldCBpc1Nhbkxvc3NDaGVjayAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLlNBTkxPU1NcbiAgfVxuXG4gIGdldCBpc0VmZmVjdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0LmNoZWNrID09PSBDb0M3TGluay5DSEVDS19UWVBFLkVGRkVDVFxuICB9XG5cbiAgZ2V0IGlzQmxpbmQgKCkge1xuICAgIHJldHVybiB0aGlzLmlzQ2hlY2sgJiYgdGhpcy5vYmplY3QuYmxpbmRcbiAgfVxufVxuIiwiLyogZ2xvYmFsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi9jb2M3LWxpbmsuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3UGFyc2VyIHtcbiAgc3RhdGljIGVucmljaEhUTUwgKGNvbnRlbnQpIHtcbiAgICBjb25zdCBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBodG1sLmlubmVySFRNTCA9IFN0cmluZyhjb250ZW50KVxuXG4gICAgbGV0IHRleHQgPSBbXVxuXG4gICAgdGV4dCA9IFRleHRFZGl0b3IuX2dldFRleHROb2RlcyhodG1sKVxuICAgIGNvbnN0IHJneCA9IG5ldyBSZWdFeHAoJ0AoY29jNylcXFxcLicgKyAnKGNoZWNrfGVmZmVjdHxpdGVtfHNhbmxvc3MpJyArICdcXFxcWyhbXlxcXFxbXFxcXF1dKig/OlxcXFxbW15cXFxcW1xcXFxdXSooPzpcXFxcW1teXFxcXFtcXFxcXV0qXFxcXF0pKlteXFxcXFtcXFxcXV0qXFxcXF0pKlteXFxcXFtcXFxcXV0qKVxcXFxdJyArICcoPzp7KFtefV0rKX0pPycsICdnaScpXG4gICAgVGV4dEVkaXRvci5fcmVwbGFjZVRleHRDb250ZW50KHRleHQsIHJneCwgQ29DN0xpbmsuX2NyZWF0ZUxpbmspXG4gICAgcmV0dXJuIGh0bWwuaW5uZXJIVE1MXG4gIH1cblxuICBzdGF0aWMgUGFyc2VTaGVldENvbnRlbnQgKGFwcCwgaHRtbCkge1xuICAgIC8vIENoZWNrIGluIGFsbCBlZGl0b3JzIGNvbnRlbnQgZm9yIGEgbGluay5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaHRtbC5maW5kKCdkaXYuZWRpdG9yLWNvbnRlbnQgPiAqLCBwJykpIHtcbiAgICAgIGlmIChlbGVtZW50Lm91dGVySFRNTC50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKCdAY29jNycpKSB7XG4gICAgICAgIGVsZW1lbnQub3V0ZXJIVE1MID0gQ29DN1BhcnNlci5lbnJpY2hIVE1MKGVsZW1lbnQub3V0ZXJIVE1MKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJpbmQgdGhlIGNsaWNrIHRvIGV4ZWN1dGUgdGhlIGNoZWNrLlxuICAgIENvQzdMaW5rLmJpbmRFdmVudHNIYW5kbGVyKGh0bWwpXG4gIH1cblxuICAvKipcbiAgICAgKiBBIGhvb2sgZXZlbnQgdGhhdCBmaXJlcyBmb3IgZWFjaCBDaGF0TWVzc2FnZSB3aGljaCBpcyByZW5kZXJlZCBmb3IgYWRkaXRpb24gdG8gdGhlIENoYXRMb2cuXG4gICAgICogVGhpcyBob29rIGFsbG93cyBmb3IgZmluYWwgY3VzdG9taXphdGlvbiBvZiB0aGUgbWVzc2FnZSBIVE1MIGJlZm9yZSBpdCBpcyBhZGRlZCB0byB0aGUgbG9nLlxuICAgICAqIEBmdW5jdGlvbiByZW5kZXJDaGF0TWVzc2FnZVxuICAgICAqIEBtZW1iZXJvZiBob29rRXZlbnRzXG4gICAgICogQHBhcmFtIHtDaGF0TWVzc2FnZX0gYXBwICAgVGhlIENoYXRNZXNzYWdlIGRvY3VtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IGh0bWwgICAgICAgICAgIFRoZSBwZW5kaW5nIEhUTUwgYXMgYSBqUXVlcnkgb2JqZWN0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgICAgICAgICAgIFRoZSBpbnB1dCBkYXRhIHByb3ZpZGVkIGZvciB0ZW1wbGF0ZSByZW5kZXJpbmdcbiAgICAgKi9cbiAgc3RhdGljIFBhcnNlTWVzc2FnZSAoYXBwLCBodG1sLCBkYXRhKSB7XG4gICAgLy8gQGNvYzcuc2FubG9zc1tzYW5NYXg6MUQ2LHNhbk1pbjoxLHNhblJlYXNvbjpHaG91bHMsZGlmZmljdWx0eTorKyxtb2RpZmllcjotMV17SGFyZCBTYW4gTG9zcyAoLTEpIDEvMUQ2fVxuICAgIC8vIEBjb2M3LmNoZWNrW3R5cGU6Y2hhcmFjLG5hbWU6U1RSLGRpZmZpY3VsdHk6Kyxtb2RpZmllcjotMV17SGFyZCBTVFIgY2hlY2soLTEpfVxuICAgIC8vIEBjb2M3LmNoZWNrW3R5cGU6YXR0cmliLG5hbWU6bGNrLGRpZmZpY3VsdHk6Kyxtb2RpZmllcjotMV17SGFyZCBsdWNrIGNoZWNrKC0xKX1cbiAgICAvLyBAY29jNy5jaGVja1t0eXBlOnNraWxsLG5hbWU6YW50aHJvcG9sb2d5LGRpZmZpY3VsdHk6Kyxtb2RpZmllcjotMV17SGFyZCBBbnRocm9wb2xvZ3kgY2hlY2soLTEpfVxuICAgIC8vIEBjb2M3LmNoZWNrW3R5cGU6c2tpbGwsaWNvbjpmYXMgZmEtYXJyb3ctYWx0LWNpcmNsZS1yaWdodCxuYW1lOmFudGhyb3BvbG9neSxkaWZmaWN1bHR5OissbW9kaWZpZXI6LTFde0hhcmQgQW50aHJvcG9sb2d5IGNoZWNrKC0xKX1cbiAgICAvLyBAY29jNy5pdGVtW25hbWU6U2hvdGd1bixpY29uOmZhcyBmYS1idWxsc2V5ZSxkaWZmaWN1bHR5OissbW9kaWZpZXI6LTFde1VzZSBzaG90Z3VufVxuICAgIC8vIFtUQkldQGNvYzcuZGFtYWdlW2Zvcm11bGE6MUQ2XXtEYW1hZ2UgMUQ2fVxuICAgIC8vIFtUQkldQGNvYzcucm9sbFt0aHJlc2hvbGQ6NTBde1NpbXBsZSByb2xsfVxuXG4gICAgaWYgKCFhcHAuaXNDb250ZW50VmlzaWJsZSkgcmV0dXJuXG5cbiAgICBpZiAoZGF0YS5tZXNzYWdlLmNvbnRlbnQudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcygnQGNvYzcnKSkge1xuICAgICAgY29uc3QgcGFyc2VkQ29udGVudCA9IENvQzdQYXJzZXIuZW5yaWNoSFRNTChkYXRhLm1lc3NhZ2UuY29udGVudClcbiAgICAgIGh0bWwuZmluZCgnLm1lc3NhZ2UtY29udGVudCcpLmh0bWwocGFyc2VkQ29udGVudClcbiAgICAgIGRhdGEubWVzc2FnZS5jb250ZW50ID0gcGFyc2VkQ29udGVudFxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZSAvLyBhbGxvdyBtZXNzYWdlIHRvIGJlIHB1Ymxpc2hlZCAhXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBDT05GSUcsIGR1cGxpY2F0ZSwgZ2FtZSwgZ2V0UHJvcGVydHksIEl0ZW0sIFJvbGwsIFRleHRFZGl0b3IsIFRva2VuLCB1aSwgZnJvbVV1aWQgKi9cbmltcG9ydCB7IENvQzdQYXJzZXIgfSBmcm9tICcuLi9hcHBzL2NvYzctcGFyc2VyLmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBDb0NJREVkaXRvciB9IGZyb20gJy4uL2FwcHMvY29jLWlkLWVkaXRvci5qcydcblxuLyoqXG4gKiBPdmVycmlkZSBhbmQgZXh0ZW5kIHRoZSBiYXNpYyA6Y2xhc3M6YEl0ZW1gIGltcGxlbWVudGF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3SXRlbSBleHRlbmRzIEl0ZW0ge1xuICAvKiogQ3JlYXRlIGRlcml2ZWQgZG9jdW1lbnQgY2xhc3NlcyBmb3Igc3BlY2lmaWMgSXRlbSB0eXBlcyAqL1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgY29udGV4dCkge1xuICAgIC8qKiBAc2VlIENPTkZJRy5JdGVtLmRvY3VtZW50Q2xhc3NlcyBpbiBtb2R1bGUvc2NyaXB0cy9jb25maWd1cmUtZG9jdW1lbnRzICovXG4gICAgaWYgKGRhdGEudHlwZSBpbiBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzZXMgJiYgIWNvbnRleHQ/LmV4dGVuZGVkKSB7XG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gdGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgbmV3IGNsYXNzIHdpbGwgY2FsbCBpdCdzIHN1cGVyKCksXG4gICAgICAgKiB0aGUgZXh0ZW5kZWQgZmxhZyB3aWxsIGJlIHRydWUsIHRodXMgYnlwYXNzaW5nIHRoaXMgd2hvbGUgcHJvY2Vzc1xuICAgICAgICogYW5kIHJlc3VtZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBuZXcgQ09ORklHLkl0ZW0uZG9jdW1lbnRDbGFzc2VzW2RhdGEudHlwZV0oZGF0YSwge1xuICAgICAgICAuLi57IGV4dGVuZGVkOiB0cnVlIH0sXG4gICAgICAgIC4uLmNvbnRleHRcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YS5pbWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvc2tpbGxzLnN2ZydcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnc3RhdHVzJykge1xuICAgICAgICBkYXRhLmltZyA9ICdpY29ucy9zdmcvYXVyYS5zdmcnXG4gICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3dlYXBvbicpIHtcbiAgICAgICAgZGF0YS5pbWcgPSAnaWNvbnMvc3ZnL3N3b3JkLnN2ZydcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIERlZmF1bHQgYmVoYXZpb3IsIGp1c3QgY2FsbCBzdXBlcigpIGFuZCBkbyBhbGwgdGhlIGRlZmF1bHQgSXRlbSBpbml0cyAqL1xuICAgIHN1cGVyKGRhdGEsIGNvbnRleHQpXG4gIH1cblxuICBhc3luYyBfY3JlYXRlRG9jdW1lbnRMaW5rIChldmVudERhdGEsIHsgcmVsYXRpdmVUbywgbGFiZWwgfSA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiBldmVudERhdGEudHlwZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGV2ZW50RGF0YS51dWlkID09PSAnc3RyaW5nJyAmJiBldmVudERhdGEudHlwZSA9PT0gJ0l0ZW0nICYmIGV2ZW50RGF0YS51dWlkLm1hdGNoKC9eQWN0b3JcXC4vKSAmJiByZWxhdGl2ZVRvIGluc3RhbmNlb2YgQ09ORklHLkpvdXJuYWxFbnRyeVBhZ2UuZG9jdW1lbnRDbGFzcykge1xuICAgICAgLy8gSWYgZHJvcHBpbmcgYSBza2lsbC93ZWFwb24gZnJvbSBhbiBBY3RvciBvbnRvIGEgSm91cm5hbCBFbnRyeSBQYWdlIGNvbnZlcnQgdG8gYSBjaGVjayBsaW5rXG4gICAgICBjb25zdCBpdGVtID0gYXdhaXQgZnJvbVV1aWQoZXZlbnREYXRhLnV1aWQpXG4gICAgICBpZiAoWydza2lsbCcsICd3ZWFwb24nXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICAgIHJldHVybiAnQGNvYzcuY2hlY2tbdHlwZTonICsgaXRlbS50eXBlICsgJyxuYW1lOicgKyBpdGVtLm5hbWUgKyAnXSdcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLl9jcmVhdGVEb2N1bWVudExpbmsoZXZlbnREYXRhLCB7IHJlbGF0aXZlVG8sIGxhYmVsIH0pXG4gIH1cblxuICBzdGF0aWMgZ2V0IGljb25MYW5ndWFnZSAoKSB7XG4gICAgcmV0dXJuICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3NraWxscy9sYW5ndWFnZS5zdmcnXG4gIH1cblxuICBzdGF0aWMgZ2V0IGZsYWdzICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFsZnVuY3Rpb246ICdtYWxmYydcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIG9uIG9mIHRoZSBpdGVtIHByb3BlcnR5IGluIGRhdGEuZGF0YS5wcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eUlkIDogbmFtZSBmb3IgdGhlIHByb3BlcnR5IHRvIHRvZ2dsZVxuICAgKi9cbiAgYXN5bmMgdG9nZ2xlUHJvcGVydHkgKHByb3BlcnR5SWQsIG92ZXJyaWRlID0gZmFsc2UpIHtcbiAgICBsZXQgY2hlY2tlZFByb3BzID0ge31cbiAgICBsZXQgZmlnaHRpbmdcbiAgICBsZXQgZmlyZWFybXNcbiAgICBpZiAodHlwZW9mIENPQzcuZXJhc1twcm9wZXJ0eUlkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBDb0NJREVkaXRvci5lcmFUb2dnbGUodGhpcywgcHJvcGVydHlJZClcbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3dlYXBvbicgJiYgIW92ZXJyaWRlKSB7XG4gICAgICBpZiAocHJvcGVydHlJZCA9PT0gJ2FoZGInKSB7XG4gICAgICAgIGlmICghdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5haGRiKSB7XG4gICAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmFoZGInOiB0cnVlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmFkZGInOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuYWhkYic6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAnYWRkYicpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmFkZGIpIHtcbiAgICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuYWRkYic6IHRydWUsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuYWhkYic6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5hZGRiJzogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdzaG90Z3VuJykge1xuICAgICAgICBpZiAoIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMuc2hvdGd1bikge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5ybmdkJzogdHJ1ZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5tZWxlZSc6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNob3RndW4nOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5zaG90Z3VuJzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnJhbmdlLmV4dHJlbWUudmFsdWUnOiBudWxsLFxuICAgICAgICAgICAgJ3N5c3RlbS5yYW5nZS5leHRyZW1lLmRhbWFnZSc6IG51bGwsXG4gICAgICAgICAgICAnc3lzdGVtLnJhbmdlLmxvbmcudmFsdWUnOiBudWxsLFxuICAgICAgICAgICAgJ3N5c3RlbS5yYW5nZS5sb25nLmRhbWFnZSc6IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdtZWxlZScgfHwgcHJvcGVydHlJZCA9PT0gJ3JuZ2QnKSB7XG4gICAgICAgIGxldCBtZWxlZVdlYXBvblxuICAgICAgICBpZiAocHJvcGVydHlJZCA9PT0gJ21lbGVlJyAmJiAhdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5tZWxlZSkge1xuICAgICAgICAgIG1lbGVlV2VhcG9uID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAnbWVsZWUnICYmIHRoaXMuc3lzdGVtLnByb3BlcnRpZXMubWVsZWUpIHtcbiAgICAgICAgICBtZWxlZVdlYXBvbiA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdybmdkJyAmJiAhdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICAgICAgbWVsZWVXZWFwb24gPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUlkID09PSAncm5nZCcgJiYgdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICAgICAgbWVsZWVXZWFwb24gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lbGVlV2VhcG9uKSB7XG4gICAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLm1lbGVlJzogdHJ1ZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5ybmdkJzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuc2hvdGd1bic6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmJyc3QnOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5hdXRvJzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuZGJybCc6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5tZWxlZSc6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnJuZ2QnOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdza2lsbCcgJiYgIW92ZXJyaWRlKSB7XG4gICAgICBsZXQgbW9kaWYgPSBmYWxzZVxuICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdjb21iYXQnKSB7XG4gICAgICAgIGlmICghdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5jb21iYXQpIHtcbiAgICAgICAgICAvLyBDbG9zZSBjb21iYXQgYnkgZGVmYXVsdFxuICAgICAgICAgIGlmICghdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtKSB7XG4gICAgICAgICAgICBmaWdodGluZyA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgZmlyZWFybXMgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCc6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwnOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyc6IGZhbHNlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0nOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0uc3BlY2lhbGl6YXRpb24nOiAnJyxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuc3lzdGVtLnNraWxsTmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtb2RpZiA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdmaWdodGluZycpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nKSB7XG4gICAgICAgICAgZmlyZWFybXMgPSBmYWxzZVxuICAgICAgICAgIGZpZ2h0aW5nID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpcmVhcm1zID0gdHJ1ZVxuICAgICAgICAgIGZpZ2h0aW5nID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBtb2RpZiA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BlcnR5SWQgPT09ICdmaXJlYXJtJykge1xuICAgICAgICBpZiAoIXRoaXMuc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybSkge1xuICAgICAgICAgIGZpcmVhcm1zID0gdHJ1ZVxuICAgICAgICAgIGZpZ2h0aW5nID0gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaXJlYXJtcyA9IGZhbHNlXG4gICAgICAgICAgZmlnaHRpbmcgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgbW9kaWYgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChtb2RpZikge1xuICAgICAgICAvLyBzZXQgc3BlY2lhbGlzYXRpb24gaWYgZmlnaHRpbmcgb3IgZmlyZWFybVxuICAgICAgICBpZiAoZmlnaHRpbmcpIHtcbiAgICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcnOiB0cnVlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0nOiBmYWxzZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5jb21iYXQnOiB0cnVlLFxuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwnOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtLnNraWxsTmFtZSxcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZShDT0M3LmZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lKVxuICAgICAgICAgIClcbiAgICAgICAgICBjaGVja2VkUHJvcHMubmFtZSA9IHBhcnRzLm5hbWVcbiAgICAgICAgICBjaGVja2VkUHJvcHMuc2tpbGxOYW1lID0gcGFydHMuc2tpbGxOYW1lXG4gICAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpcmVhcm1zKSB7XG4gICAgICAgICAgY2hlY2tlZFByb3BzID0ge1xuICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nJzogZmFsc2UsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybSc6IHRydWUsXG4gICAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0JzogdHJ1ZSxcbiAgICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsJzogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5za2lsbE5hbWUsXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5maXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lKVxuICAgICAgICAgIClcbiAgICAgICAgICBjaGVja2VkUHJvcHMubmFtZSA9IHBhcnRzLm5hbWVcbiAgICAgICAgICBjaGVja2VkUHJvcHMuc2tpbGxOYW1lID0gcGFydHMuc2tpbGxOYW1lXG4gICAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvcGVydHlJZCA9PT0gJ3NwZWNpYWwnKSB7XG4gICAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllc1twcm9wZXJ0eUlkXSkge1xuICAgICAgICBjaGVja2VkUHJvcHMgPSB7XG4gICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwnOiBmYWxzZSxcbiAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcnOiBmYWxzZSxcbiAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuZmlyZWFybSc6IGZhbHNlLFxuICAgICAgICAgICdzeXN0ZW0ucHJvcGVydGllcy5jb21iYXQnOiBmYWxzZSxcbiAgICAgICAgICAnc3lzdGVtLnNwZWNpYWxpemF0aW9uJzogJycsXG4gICAgICAgICAgbmFtZTogdGhpcy5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrZWRQcm9wcyA9IHtcbiAgICAgICAgICAnc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCc6IHRydWUsXG4gICAgICAgICAgbmFtZTogdGhpcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gKyAnICgnICsgdGhpcy5zeXN0ZW0uc2tpbGxOYW1lICsgJyknXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoY2hlY2tlZFByb3BzKS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBpdGVtID0gYXdhaXQgdGhpcy51cGRhdGUoY2hlY2tlZFByb3BzKVxuICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJvcE5hbWUgPSBgc3lzdGVtLnByb3BlcnRpZXMuJHtwcm9wZXJ0eUlkfWBcbiAgICAgIGNvbnN0IHByb3BWYWx1ZSA9ICF0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzW3Byb3BlcnR5SWRdXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtwcm9wTmFtZV06IHByb3BWYWx1ZSB9KS50aGVuKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBoYXNQcm9wZXJ0eSAocHJvcGVydHlJZCkge1xuICAgIHJldHVybiB0aGlzLmlzSW5jbHVkZWRJblNldCgncHJvcGVydGllcycsIHByb3BlcnR5SWQpXG4gIH1cblxuICBnZXQgc2hvcnROYW1lICgpIHtcbiAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5hbWVcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVJvbGwgKHJvbGwpIHtcbiAgICBpZiAoJ3VwZGF0ZVJvbGwnIGluIHRoaXMuc2hlZXQpIHJldHVybiBhd2FpdCB0aGlzLnNoZWV0LnVwZGF0ZVJvbGwocm9sbClcbiAgICBlbHNlIGlmICgndXBkYXRlUm9sbCcgaW4gdGhpcykgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlUm9sbChyb2xsKVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHN0YXRpYyBnZXROYW1lUGFydHNTcGVjIChza2lsbE5hbWUsIHNwZWNpYWxpemF0aW9uKSB7XG4gICAgaWYgKCFzcGVjaWFsaXphdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogc2tpbGxOYW1lLFxuICAgICAgICBzcGVjaWFsaXphdGlvbjogJycsXG4gICAgICAgIHNraWxsTmFtZVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzcGVjTmFtZVJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICdeKCcgKyBDb0M3VXRpbGl0aWVzLnF1b3RlUmVnRXhwKHNwZWNpYWxpemF0aW9uKSArICcpXFxcXHMqXFxcXCgoLispXFxcXCkkJyxcbiAgICAgICdpJ1xuICAgIClcbiAgICBjb25zdCBtYXRjaCA9IHNraWxsTmFtZS5tYXRjaChzcGVjTmFtZVJlZ2V4KVxuICAgIGlmIChtYXRjaCkge1xuICAgICAgc3BlY2lhbGl6YXRpb24gPSBtYXRjaFsxXVxuICAgICAgc2tpbGxOYW1lID0gbWF0Y2hbMl1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHNwZWNpYWxpemF0aW9uICsgJyAoJyArIHNraWxsTmFtZSArICcpJyxcbiAgICAgIHNwZWNpYWxpemF0aW9uLFxuICAgICAgc2tpbGxOYW1lXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldE5hbWVXaXRob3V0U3BlYyAoaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQ29DN0l0ZW0pIHtcbiAgICAgIGlmIChpdGVtLnN5c3RlbT8ucHJvcGVydGllcz8uc3BlY2lhbCAmJiB0eXBlb2YgaXRlbS5zeXN0ZW0uc2tpbGxOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gaXRlbS5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwgJiYgdHlwZW9mIGl0ZW0uc2tpbGxOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gaXRlbS5za2lsbE5hbWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW0ubmFtZVxuICB9XG5cbiAgc3RhdGljIGlzQW55U3BlYyAoaXRlbSkge1xuICAgIGlmIChpdGVtLnR5cGUgIT09ICdza2lsbCcgfHwgIWl0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8ucmVxdWlyZXNuYW1lIHx8IGl0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnBpY2tuYW1lb25seSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbnlTcGVjTmFtZScpLnRvTG93ZXJDYXNlKCksXG4gICAgICAnYW55J1xuICAgIF0uaW5jbHVkZXMoQ09ORklHLkl0ZW0uZG9jdW1lbnRDbGFzc2VzLnNraWxsLmd1ZXNzTmFtZVBhcnRzKGl0ZW0ubmFtZSkuc2tpbGxOYW1lLnRvTG93ZXJDYXNlKCkpXG4gIH1cblxuICBhc3luYyBjaGVja1NraWxsUHJvcGVydGllcyAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3NraWxsJykgcmV0dXJuXG4gICAgY29uc3QgY2hlY2tlZFByb3BzID0ge31cbiAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllcy5jb21iYXQpIHtcbiAgICAgIC8vIGlmIHNraWxsIGlzIG5vdCBhIHNwZWNpYWxpc2F0aW9uIG1ha2UgaXQgYSBzcGVjaWFsaXNhdGlvblxuICAgICAgaWYgKCF0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsID0gdHJ1ZVxuICAgICAgICBjaGVja2VkUHJvcHNbJ3N5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwnXSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2tpbGwgaXMgY29tYmF0IHNraWxsIGFuZCBubyBzcGVjaWFsaXNhdGlvbiBzZXQgdGhlbiBtYWtlIGl0IGEgZmlnaHRpbmcoIGNsb3NlY29tYmF0KSBza2lsbFxuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyAmJlxuICAgICAgICAhdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyA9IHRydWVcbiAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyddID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBpZiBza2lsbCBpcyBjbG9zZSBjb21iYXQgd2l0aG91dCBzcGVjaWFsaXNhdGlvbiBuYW1lIG1ha2Ugc2V0IGl0IGFjY29yZGluZyB0byB0aGUgZmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWVcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyAmJlxuICAgICAgICAoIXRoaXMuc3lzdGVtLnNwZWNpYWxpemF0aW9uIHx8IHRoaXMuc3lzdGVtLnNwZWNpYWxpemF0aW9uID09PSAnJylcbiAgICAgICkge1xuICAgICAgICB0aGlzLnN5c3RlbS5zcGVjaWFsaXphdGlvbiA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICBDT0M3LmZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lXG4gICAgICAgIClcbiAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICBDT0M3LmZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy8gaWYgc2tpbGwgaXMgcmFuZ2UgY29tYmF0IHdpdGhvdXQgYSBzcGVjaWFsaXNhdGlvbiBuYW1lIG1ha2Ugc2V0IGl0IGFjY29yZGluZyB0byB0aGUgZmlyZWFybVNwZWNpYWxpemF0aW9uTmFtZVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0gJiZcbiAgICAgICAgKCF0aGlzLnN5c3RlbS5zcGVjaWFsaXphdGlvbiB8fCB0aGlzLnN5c3RlbS5zcGVjaWFsaXphdGlvbiA9PT0gJycpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgQ09DNy5maXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lXG4gICAgICAgIClcbiAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICBDT0M3LmZpcmVhcm1TcGVjaWFsaXphdGlvbk5hbWVcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maWdodGluZykge1xuICAgICAgICB0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nID0gZmFsc2VcbiAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0ucHJvcGVydGllcy5maWdodGluZyddID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0pIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtID0gZmFsc2VcbiAgICAgICAgY2hlY2tlZFByb3BzWydzeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtJ10gPSBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyhjaGVja2VkUHJvcHMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKGNoZWNrZWRQcm9wcylcbiAgICB9XG5cbiAgICByZXR1cm4gY2hlY2tlZFByb3BzXG4gIH1cblxuICBpc0luY2x1ZGVkSW5TZXQgKHNldCwgcHJvcGVydHlJZCkge1xuICAgIGlmICghdGhpcy5zeXN0ZW1bc2V0XSkgdGhpcy5zeXN0ZW1bc2V0XSA9IFtdXG4gICAgY29uc3QgcHJvcGVydHlJbmRleCA9IHRoaXMuc3lzdGVtW3NldF0uaW5kZXhPZihwcm9wZXJ0eUlkKVxuICAgIGlmIChwcm9wZXJ0eUluZGV4ID4gLTEpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBhc3luYyBmbGFnRm9yRGV2ZWxvcGVtZW50ICgpIHtcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAneHBFbmFibGVkJykgfHwgZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGlmICghdGhpcy5zeXN0ZW0uZmxhZ3MpIHtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmZsYWdzJzoge30gfSlcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncy5kZXZlbG9wZW1lbnQnOiB0cnVlIH0pXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdW5mbGFnRm9yRGV2ZWxvcGVtZW50ICgpIHtcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAneHBFbmFibGVkJykgfHwgZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGlmICghdGhpcy5zeXN0ZW0uZmxhZ3MpIHtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmZsYWdzJzoge30gfSlcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5mbGFncy5kZXZlbG9wZW1lbnQnOiBmYWxzZSB9KVxuICAgIH1cbiAgfVxuXG4gIGdldCBkZXZlbG9wZW1lbnRGbGFnICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRJdGVtRmxhZygnZGV2ZWxvcGVtZW50JylcbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZUl0ZW1GbGFnIChmbGFnTmFtZSwgZXJhc2VBZGp1c3RtZW50ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGZsYWdWYWx1ZSA9ICF0aGlzLmdldEl0ZW1GbGFnKGZsYWdOYW1lKVxuICAgIGNvbnN0IG5hbWUgPSBgc3lzdGVtLmZsYWdzLiR7ZmxhZ05hbWV9YFxuICAgIGlmIChcbiAgICAgIChmbGFnTmFtZSA9PT0gJ29jY3VwYXRpb24nIHx8IGZsYWdOYW1lID09PSAnYXJjaGV0eXBlJykgJiZcbiAgICAgICFmbGFnVmFsdWUgJiZcbiAgICAgIGVyYXNlQWRqdXN0bWVudFxuICAgICkge1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgICBbYHN5c3RlbS5hZGp1c3RtZW50cy4ke2ZsYWdOYW1lfWBdOiBudWxsLFxuICAgICAgICBbbmFtZV06IGZsYWdWYWx1ZVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKGZsYWdOYW1lID09PSAnZGV2ZWxvcGVtZW50Jykge1xuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3hwRW5hYmxlZCcpIHx8IGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgW25hbWVdOiBmbGFnVmFsdWUgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2tpbGxYcEdhaW5EaXNhYmxlZCcpKVxuICAgICAgfVxuICAgIH0gZWxzZSBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtuYW1lXTogZmxhZ1ZhbHVlIH0pXG4gIH1cblxuICBhc3luYyBzZXRJdGVtRmxhZyAoZmxhZ05hbWUpIHtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IFtgc3lzdGVtLmZsYWdzLiR7ZmxhZ05hbWV9YF06IHRydWUgfSlcbiAgfVxuXG4gIGFzeW5jIHVuc2V0SXRlbUZsYWcgKGZsYWdOYW1lLCBlcmFzZUFkanVzdG1lbnQgPSB0cnVlKSB7XG4gICAgY29uc3QgbmFtZSA9IGBzeXN0ZW0uZmxhZ3MuJHtmbGFnTmFtZX1gXG4gICAgaWYgKFxuICAgICAgKGZsYWdOYW1lID09PSAnb2NjdXBhdGlvbicgfHwgZmxhZ05hbWUgPT09ICdhcmNoZXR5cGUnKSAmJlxuICAgICAgZXJhc2VBZGp1c3RtZW50XG4gICAgKSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgIFtgc3lzdGVtLmFkanVzdG1lbnRzLiR7ZmxhZ05hbWV9YF06IG51bGwsXG4gICAgICAgIFtuYW1lXTogZmFsc2VcbiAgICAgIH0pXG4gICAgfSBlbHNlIGF3YWl0IHRoaXMudXBkYXRlKHsgW25hbWVdOiBmYWxzZSB9KVxuICB9XG5cbiAgZ2V0SXRlbUZsYWcgKGZsYWdOYW1lKSB7XG4gICAgaWYgKCF0aGlzLnN5c3RlbS5mbGFncykge1xuICAgICAgdGhpcy5zeXN0ZW0uZmxhZ3MgPSB7fVxuICAgICAgdGhpcy5zeXN0ZW0uZmxhZ3MubG9ja2VkID0gdHJ1ZVxuICAgICAgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmZsYWdzJzoge30gfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICghdGhpcy5zeXN0ZW0uZmxhZ3NbZmxhZ05hbWVdKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uZmxhZ3NbZmxhZ05hbWVdXG4gIH1cblxuICBnZXQgdXNlc0FsdGVybmF0aXZlU2tpbGwgKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnR5cGUgPT09ICd3ZWFwb24nICYmXG4gICAgICAodGhpcy5zeXN0ZW0ucHJvcGVydGllcz8uYXV0byA9PT0gdHJ1ZSB8fFxuICAgICAgICB0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzPy5icnN0ID09PSB0cnVlIHx8XG4gICAgICAgIHRoaXMuc3lzdGVtLnByb3BlcnRpZXM/LnRocm93biA9PT0gdHJ1ZSlcbiAgICApXG4gIH1cblxuICBnZXQgbWF4VXNlc1BlclJvdW5kICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnd2VhcG9uJykgcmV0dXJuIG51bGxcbiAgICBjb25zdCBtdWx0aVNob3QgPSBwYXJzZUludCh0aGlzLnN5c3RlbS51c2VzUGVyUm91bmQubWF4KVxuICAgIGlmIChpc05hTihtdWx0aVNob3QpKSByZXR1cm4gMFxuICAgIHJldHVybiBtdWx0aVNob3RcbiAgfVxuXG4gIGdldCB1c2VzUGVyUm91bmQgKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICd3ZWFwb24nKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IHNpbmdsZVNob3QgPSBwYXJzZUludCh0aGlzLnN5c3RlbS51c2VzUGVyUm91bmQubm9ybWFsKVxuICAgIGlmIChpc05hTihzaW5nbGVTaG90KSkgcmV0dXJuIDBcbiAgICByZXR1cm4gc2luZ2xlU2hvdFxuICB9XG5cbiAgZ2V0IHVzZXNQZXJSb3VuZFN0cmluZyAoKSB7XG4gICAgbGV0IHVzZXNQZXJSb3VuZFxuICAgIGlmICh0aGlzLnN5c3RlbS51c2VzUGVyUm91bmQubm9ybWFsKSB7XG4gICAgICB1c2VzUGVyUm91bmQgPSB0aGlzLnN5c3RlbS51c2VzUGVyUm91bmQubm9ybWFsXG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXNQZXJSb3VuZCA9ICcxJ1xuICAgIH1cbiAgICBpZiAodGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLm1heCkge1xuICAgICAgdXNlc1BlclJvdW5kICs9IGAoJHt0aGlzLnN5c3RlbS51c2VzUGVyUm91bmQubWF4fSlgXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmF1dG8pIHtcbiAgICAgIHVzZXNQZXJSb3VuZCArPSBgICR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LldlYXBvbkF1dG8nKX1gXG4gICAgfVxuICAgIGlmICh0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmJyc3QpIHtcbiAgICAgIHVzZXNQZXJSb3VuZCArPSBgICR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LldlYXBvbkJyc3QnKX1gXG4gICAgICBpZiAodGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLmJ1cnN0KSB7XG4gICAgICAgIHVzZXNQZXJSb3VuZCArPSBgKCR7dGhpcy5zeXN0ZW0udXNlc1BlclJvdW5kLmJ1cnN0fSlgXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVzZXNQZXJSb3VuZFxuICB9XG5cbiAgZ2V0IG11bHRpcGxlU2hvdHMgKCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09ICd3ZWFwb24nKSByZXR1cm4gbnVsbFxuICAgIGlmICh0aGlzLm1heFVzZXNQZXJSb3VuZCA8PSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGdldCBzaW5nbGVTaG90ICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnd2VhcG9uJykgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMudXNlc1BlclJvdW5kKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGdldCBiYXNlUmFuZ2UgKCkge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLnN5c3RlbS5yYW5nZS5ub3JtYWwudmFsdWUpXG4gIH1cblxuICBnZXQgbG9uZ1JhbmdlICgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zeXN0ZW0ucmFuZ2UubG9uZy52YWx1ZSlcbiAgfVxuXG4gIGdldCBleHRyZW1lUmFuZ2UgKCkge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLnN5c3RlbS5yYW5nZS5leHRyZW1lLnZhbHVlKVxuICB9XG5cbiAgZ2V0IHNraWxsUHJvcGVydGllcyAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3NraWxsJykgcmV0dXJuIFtdXG5cbiAgICBjb25zdCBza2lsbFByb3BlcnRpZXMgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuc2tpbGxQcm9wZXJ0aWVzKSkge1xuICAgICAgaWYgKHRoaXMuc3lzdGVtLnByb3BlcnRpZXNba2V5XSA9PT0gdHJ1ZSkge1xuICAgICAgICBza2lsbFByb3BlcnRpZXMucHVzaChnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUpKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2tpbGxQcm9wZXJ0aWVzXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY2FsY3VsYXRlQmFzZSAoYWN0b3IsIGRhdGEpIHtcbiAgICBpZiAoZGF0YS50eXBlICE9PSAnc2tpbGwnKSByZXR1cm4gbnVsbFxuICAgIGlmIChTdHJpbmcoZGF0YS5zeXN0ZW0uYmFzZSkuaW5jbHVkZXMoJ0AnKSkge1xuICAgICAgY29uc3QgcGFyc2VkID0ge31cbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZm9ybXVsYS5hY3RvcnNoZWV0KSkge1xuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ0AnKSAmJiB2YWx1ZS5zdGFydHNXaXRoKCd0aGlzLmFjdG9yLicpKSB7XG4gICAgICAgICAgcGFyc2VkW2tleS5zdWJzdHJpbmcoMSldID0gZ2V0UHJvcGVydHkoYWN0b3IsIHZhbHVlLnN1YnN0cmluZygxMSkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCB2YWx1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKFxuICAgICAgICAgIG5ldyBSb2xsKGRhdGEuc3lzdGVtLmJhc2UsIHBhcnNlZCkuZXZhbHVhdGUoe1xuICAgICAgICAgICAgbWF4aW1pemU6IHRydWVcbiAgICAgICAgICB9KS50b3RhbFxuICAgICAgICApXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdmFsdWUgPSAwXG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG4gICAgcmV0dXJuICFpc05hTihwYXJzZUludChkYXRhLnN5c3RlbS5iYXNlKSkgPyBwYXJzZUludChkYXRhLnN5c3RlbS5iYXNlKSA6IG51bGxcbiAgfVxuXG4gIGdldCBfYmFzZSAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3NraWxsJykgcmV0dXJuIFtudWxsLCBmYWxzZV1cbiAgICBpZiAodHlwZW9mIHRoaXMuc3lzdGVtLmJhc2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gW3RoaXMuc3lzdGVtLmJhc2UsIGZhbHNlXVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN5c3RlbS5iYXNlLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHt9XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmZvcm11bGEuYWN0b3JzaGVldCkpIHtcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdAJykgJiYgdmFsdWUuc3RhcnRzV2l0aCgndGhpcy4nKSkge1xuICAgICAgICAgIHBhcnNlZFtrZXkuc3Vic3RyaW5nKDEpXSA9IGdldFByb3BlcnR5KHRoaXMsIHZhbHVlLnN1YnN0cmluZyg1KSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHZhbHVlXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgbmV3IFJvbGwodGhpcy5zeXN0ZW0uYmFzZSwgcGFyc2VkKS5ldmFsdWF0ZSh7XG4gICAgICAgICAgICBtYXhpbWl6ZTogdHJ1ZVxuICAgICAgICAgIH0pLnRvdGFsXG4gICAgICAgIClcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB2YWx1ZSA9IDBcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFt2YWx1ZSwgdHJ1ZV1cbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgICFpc05hTihwYXJzZUludCh0aGlzLnN5c3RlbS5iYXNlKSlcbiAgICAgICAgPyBwYXJzZUludCh0aGlzLnN5c3RlbS5iYXNlKVxuICAgICAgICA6IG51bGwsXG4gICAgICBmYWxzZVxuICAgIF1cbiAgfVxuXG4gIGFzeW5jIGFzeW5jQmFzZSAoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuX2Jhc2VcbiAgICBpZiAoZVsxXSkge1xuICAgICAgY29uc29sZS5pbmZvKFxuICAgICAgICBgW0NPQzddICgke3RoaXMucGFyZW50Py5uYW1lfSkgRXZhbHVhdGluZyBza2lsbCAke3RoaXMubmFtZX06JHt0aGlzLnN5c3RlbS5iYXNlfSB0byAke2VbMF19YFxuICAgICAgKVxuICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJhc2UnOiBlWzBdIH0pXG4gICAgfVxuICAgIHJldHVybiBlWzBdXG4gIH1cblxuICBnZXQgYmFzZSAoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuX2Jhc2VcbiAgICBpZiAoZVsxXSkge1xuICAgICAgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmJhc2UnOiBlWzBdIH0pXG4gICAgfVxuICAgIHJldHVybiBlWzBdXG4gIH1cblxuICBnZXRCdWxsZXRMZWZ0ICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnd2VhcG9uJykgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmFtbW8pIHtcbiAgICAgIHRoaXMuc2V0QnVsbGV0cygwKVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLmFtbW9cbiAgfVxuXG4gIGFzeW5jIHJlbG9hZCAoKSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3dlYXBvbicpIHJldHVybiBudWxsXG4gICAgY29uc3QgbWF4QnVsbGV0ID0gdGhpcy5zeXN0ZW0uYnVsbGV0c1xuICAgICAgPyBwYXJzZUludCh0aGlzLnN5c3RlbS5idWxsZXRzKVxuICAgICAgOiAxXG4gICAgYXdhaXQgdGhpcy5zZXRCdWxsZXRzKG1heEJ1bGxldClcbiAgfVxuXG4gIGFzeW5jIHNldEJ1bGxldHMgKGJ1bGxldHMpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnd2VhcG9uJykgcmV0dXJuIG51bGxcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYW1tbyc6IGJ1bGxldHMgfHwgMCB9KVxuICB9XG5cbiAgYXN5bmMgYWRkQnVsbGV0ICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnd2VhcG9uJykgcmV0dXJuIG51bGxcbiAgICBjb25zdCBidWxsZXRzID0gYXdhaXQgdGhpcy5nZXRCdWxsZXRMZWZ0KClcbiAgICBjb25zdCBtYXhCdWxsZXRzID0gdGhpcy5zeXN0ZW0uYnVsbGV0c1xuICAgICAgPyBwYXJzZUludCh0aGlzLnN5c3RlbS5idWxsZXRzKVxuICAgICAgOiAxXG4gICAgaWYgKGJ1bGxldHMgKyAxID49IG1heEJ1bGxldHMpIGF3YWl0IHRoaXMuc2V0QnVsbGV0cyhtYXhCdWxsZXRzKVxuICAgIGVsc2UgYXdhaXQgdGhpcy5zZXRCdWxsZXRzKGJ1bGxldHMgKyAxKVxuICB9XG5cbiAgYXN5bmMgc2hvb3RCdWxsZXRzICh4KSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gJ3dlYXBvbicpIHJldHVybiBudWxsXG4gICAgY29uc3QgYnVsbGV0cyA9IGF3YWl0IHRoaXMuZ2V0QnVsbGV0TGVmdCgpXG4gICAgaWYgKHggPiBidWxsZXRzKSBhd2FpdCB0aGlzLnNldEJ1bGxldHMoMClcbiAgICBlbHNlIGF3YWl0IHRoaXMuc2V0QnVsbGV0cyhidWxsZXRzIC0geClcbiAgfVxuXG4gIHN0YXRpYyBtZXJnZU9wdGlvbmFsU2tpbGxzIChza2lsbExpc3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBqb2ludEFycmF5ID0gc2tpbGxMaXN0LmNvbmNhdChvcHRpb25zKVxuICAgIHJldHVybiBqb2ludEFycmF5XG4gICAgICAucmVkdWNlKChuZXdBcnJheSwgaXRlbSkgPT4ge1xuICAgICAgICAvLyBJZiBza2lsbCBpcyBub3QgYSBnZW5lcmljIHNwZWMgYW5kIGlzIGFscmVhZHkgaW5jbHVkZWQgd2UgZG9uJ3QgYWRkIGl0ZW1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICFDb0M3SXRlbS5pc0FueVNwZWMoaXRlbSkgJiZcbiAgICAgICAgICBuZXdBcnJheS5maW5kKHNraWxsID0+IHNraWxsLm5hbWUgPT09IGl0ZW0ubmFtZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG5ld0FycmF5XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWxzZSBpdGVtIGlzIGFkZGVkXG4gICAgICAgIHJldHVybiBbLi4ubmV3QXJyYXksIGl0ZW1dXG4gICAgICB9LCBbXSlcbiAgICAgIC5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgfVxuXG4gIC8qKiBUT0RPIDogcmllbiBhIGZhaXJlIGljaSAhIVxuICAgKiBHZXQgdGhlIEFjdG9yIHdoaWNoIGlzIHRoZSBhdXRob3Igb2YgYSBjaGF0IGNhcmRcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2FyZCAgICBUaGUgY2hhdCBjYXJkIGJlaW5nIHVzZWRcbiAgICogQHJldHVybiB7QWN0b3J8bnVsbH0gICAgICAgICBUaGUgQWN0b3IgZW50aXR5IG9yIG51bGxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfZ2V0Q2hhdENhcmRBY3RvciAoY2FyZCkge1xuICAgIC8vIENhc2UgMSAtIGEgc3ludGhldGljIGFjdG9yIGZyb20gYSBUb2tlblxuICAgIGNvbnN0IHRva2VuS2V5ID0gY2FyZC5kYXRhc2V0LnRva2VuSWRcbiAgICBpZiAodG9rZW5LZXkpIHtcbiAgICAgIGNvbnN0IFtzY2VuZUlkLCB0b2tlbklkXSA9IHRva2VuS2V5LnNwbGl0KCcuJylcbiAgICAgIGlmIChzY2VuZUlkID09PSAnVE9LRU4nKSB7XG4gICAgICAgIHJldHVybiBnYW1lLmFjdG9ycy50b2tlbnNbdG9rZW5JZF0gLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgICBpZiAoIXNjZW5lKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5nZXRFbWJlZGRlZERvY3VtZW50KCdUb2tlbicsIHRva2VuSWQpXG4gICAgICAgIGlmICghdG9rZW5EYXRhKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCB0b2tlbiA9IG5ldyBUb2tlbih0b2tlbkRhdGEpXG4gICAgICAgIHJldHVybiB0b2tlbi5hY3RvclxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhc2UgMiAtIHVzZSBBY3RvciBJRCBkaXJlY3RvcnlcbiAgICBjb25zdCBhY3RvcklkID0gY2FyZC5kYXRhc2V0LmFjdG9ySWRcbiAgICByZXR1cm4gZ2FtZS5hY3RvcnMuZ2V0KGFjdG9ySWQpIHx8IG51bGxcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8qICBDaGF0IE1lc3NhZ2UgSGVscGVycyAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgLyoqXG4gICAqIFByZXBhcmUgYW4gb2JqZWN0IG9mIGNoYXQgZGF0YSB1c2VkIHRvIGRpc3BsYXkgYSBjYXJkIGZvciB0aGUgSXRlbSBpbiB0aGUgY2hhdCBsb2dcbiAgICogQHBhcmFtIHtPYmplY3R9IGh0bWxPcHRpb25zICAgIE9wdGlvbnMgdXNlZCBieSB0aGUgVGV4dEVkaXRvci5lbnJpY2hIVE1MIGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgICAgICBBbiBvYmplY3Qgb2YgY2hhdCBkYXRhIHRvIHJlbmRlclxuICAgKi9cbiAgZ2V0Q2hhdERhdGEgKGh0bWxPcHRpb25zID0ge30pIHtcbiAgICAvLyBGb3VuZHJ5VlRUIHYxMFxuICAgIGh0bWxPcHRpb25zLmFzeW5jID0gZmFsc2VcbiAgICBjb25zdCBkYXRhID0gZHVwbGljYXRlKHRoaXMuc3lzdGVtKVxuICAgIC8vIEZpeCA6IGRhdGEgY2FuIGhhdmUgZGVzY3JpcHRpb24gZGlyZWN0bHkgaW4gZmllbGQsIG5vdCB1bmRlciB2YWx1ZS5cbiAgICBpZiAodHlwZW9mIGRhdGEuZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBkYXRhLmRlc2NyaXB0aW9uID0ge1xuICAgICAgICB2YWx1ZTogZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgc3BlY2lhbDogJydcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRhLmRlc2NyaXB0aW9uLnZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSA9ICcnXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbi5zcGVjaWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGF0YS5kZXNjcmlwdGlvbi5zcGVjaWFsID0gJydcbiAgICB9XG4gICAgY29uc3QgbGFiZWxzID0gW11cblxuICAgIC8vIFJpY2ggdGV4dCBkZXNjcmlwdGlvblxuICAgIGRhdGEuZGVzY3JpcHRpb24udmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBkYXRhLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAgaHRtbE9wdGlvbnNcbiAgICApXG4gICAgZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSA9IENvQzdQYXJzZXIuZW5yaWNoSFRNTChkYXRhLmRlc2NyaXB0aW9uLnZhbHVlKVxuICAgIGRhdGEuZGVzY3JpcHRpb24uc3BlY2lhbCA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIGRhdGEuZGVzY3JpcHRpb24uc3BlY2lhbCxcbiAgICAgIGh0bWxPcHRpb25zXG4gICAgKVxuICAgIGRhdGEuZGVzY3JpcHRpb24uc3BlY2lhbCA9IENvQzdQYXJzZXIuZW5yaWNoSFRNTChkYXRhLmRlc2NyaXB0aW9uLnNwZWNpYWwpXG5cbiAgICAvLyBJdGVtIHR5cGUgc3BlY2lmaWMgcHJvcGVydGllc1xuICAgIGNvbnN0IHByb3BzID0gW11cbiAgICBjb25zdCBmbiA9IHRoaXNbYF8ke3RoaXMudHlwZX1DaGF0RGF0YWBdXG4gICAgaWYgKGZuKSBmbi5iaW5kKHRoaXMpKGRhdGEsIGxhYmVscywgcHJvcHMsIGh0bWxPcHRpb25zKVxuXG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy5za2lsbFByb3BlcnRpZXMpKSB7XG4gICAgICAgIGlmICh0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzW2tleV0gPT09IHRydWUpIHByb3BzLnB1c2godmFsdWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIHByb3BlcnRpZXMgYW5kIHJldHVyblxuICAgIGRhdGEucHJvcGVydGllcyA9IHByb3BzLmZpbHRlcihwID0+ICEhcClcbiAgICBkYXRhLmxhYmVscyA9IGxhYmVsc1xuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBfd2VhcG9uQ2hhdERhdGEgKGRhdGEsIGxhYmVscywgcHJvcHMpIHtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LndlYXBvblByb3BlcnRpZXMpKSB7XG4gICAgICBpZiAodGhpcy5zeXN0ZW0ucHJvcGVydGllc1trZXldID09PSB0cnVlKSBwcm9wcy5wdXNoKHZhbHVlKVxuICAgIH1cblxuICAgIGxldCBza2lsbExhYmVsID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNraWxsJylcbiAgICBsZXQgc2tpbGxOYW1lID0gJydcbiAgICBsZXQgZm91bmQgPSBmYWxzZVxuICAgIGlmICh0aGlzLnN5c3RlbS5za2lsbC5tYWluLmlkKSB7XG4gICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3I/Lml0ZW1zLmdldCh0aGlzLnN5c3RlbS5za2lsbC5tYWluLmlkKVxuICAgICAgaWYgKHNraWxsKSB7XG4gICAgICAgIHNraWxsTmFtZSArPSBDb0M3SXRlbS5nZXROYW1lV2l0aG91dFNwZWMoc2tpbGwpXG4gICAgICAgIGZvdW5kID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnVzZXNBbHRlcm5hdGl2ZVNraWxsICYmIHRoaXMuc3lzdGVtLnNraWxsLmFsdGVybmF0aXYuaWQpIHtcbiAgICAgIHNraWxsTGFiZWwgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU2tpbGxzJylcbiAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5hY3Rvcj8uaXRlbXMuZ2V0KHRoaXMuc3lzdGVtLnNraWxsLmFsdGVybmF0aXYuaWQpXG4gICAgICBpZiAoc2tpbGwpIHtcbiAgICAgICAgc2tpbGxOYW1lICs9IGAvJHtDb0M3SXRlbS5nZXROYW1lV2l0aG91dFNwZWMoc2tpbGwpfWBcbiAgICAgICAgZm91bmQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFmb3VuZCkge1xuICAgICAgc2tpbGxOYW1lID0gdGhpcy5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lXG4gICAgICBpZiAodGhpcy51c2VzQWx0ZXJuYXRpdmVTa2lsbCAmJiB0aGlzLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWUpIHtcbiAgICAgICAgc2tpbGxOYW1lICs9IGAvJHt0aGlzLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWV9YFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChza2lsbE5hbWUpIHtcbiAgICAgIGxhYmVscy5wdXNoKHtcbiAgICAgICAgbmFtZTogc2tpbGxMYWJlbCxcbiAgICAgICAgdmFsdWU6IHNraWxsTmFtZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBsYWJlbHMucHVzaCh7XG4gICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuV2VhcG9uVXNlc1BlclJvdW5kJyksXG4gICAgICB2YWx1ZTogdGhpcy51c2VzUGVyUm91bmRTdHJpbmdcbiAgICB9KVxuXG4gICAgbGFiZWxzLnB1c2goe1xuICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LldlYXBvbk1hbGZ1bmN0aW9uJyksXG4gICAgICB2YWx1ZTogdGhpcy5zeXN0ZW0ubWFsZnVuY3Rpb24gPyB0aGlzLnN5c3RlbS5tYWxmdW5jdGlvbiA6ICctJ1xuICAgIH0pXG5cbiAgICBpZiAodGhpcy5zeXN0ZW0uYnVsbGV0cykge1xuICAgICAgbGFiZWxzLnB1c2goe1xuICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuV2VhcG9uQnVsbGV0c0luTWFnJyksXG4gICAgICAgIHZhbHVlOiB0aGlzLnN5c3RlbS5idWxsZXRzXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNhbkJlUHVzaGVkICgpIHtcbiAgICBpZiAodGhpcy50eXBlID09PSAnc2tpbGwnICYmIHRoaXMuc3lzdGVtLnByb3BlcnRpZXMucHVzaCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBpbXBhbGUgKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbS5wcm9wZXJ0aWVzLmltcGxcbiAgfVxuXG4gIGdldCBpc0RvZGdlICgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnc2tpbGwnKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5uYW1lLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29DSURGbGFnLmtleXMuaS5za2lsbC5kb2RnZScpLnRvTG93ZXJDYXNlKClcbiAgICApXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBBY3RvciwgQXVkaW9IZWxwZXIsIENoYXRNZXNzYWdlLCBDT05GSUcsIENPTlNULCBkdXBsaWNhdGUsIGZvdW5kcnksIGZyb21VdWlkLCBnYW1lLCBnZXRDb21wdXRlZFN0eWxlLCBJdGVtLCBtZXJnZU9iamVjdCwgcmVuZGVyVGVtcGxhdGUsIFRva2VuLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0RpY2UgfSBmcm9tICcuL2RpY2UuanMnXG5pbXBvcnQgeyBDb0M3SXRlbSB9IGZyb20gJy4vaXRlbXMvaXRlbS5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIsIENvQzdSb2xsIH0gZnJvbSAnLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi9hY3RvcnMvYWN0b3IuanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Q2hlY2sge1xuICBjb25zdHJ1Y3RvciAoXG4gICAgYWN0b3IgPSBudWxsLFxuICAgIHNraWxsID0gbnVsbCxcbiAgICBpdGVtID0gbnVsbCxcbiAgICBkaWNlTW9kID0gMCxcbiAgICBkaWZmaWN1bHR5ID0gbnVsbCxcbiAgICBmbGF0VGhyZXNob2xkTW9kaWZpZXIgPSAwLFxuICAgIGZsYXREaWNlTW9kaWZpZXIgPSAwXG4gICkge1xuICAgIHRoaXMuYWN0b3IgPSBhY3RvclxuICAgIHRoaXMuc2tpbGwgPSBza2lsbFxuICAgIHRoaXMuaXRlbSA9IGl0ZW1cbiAgICB0aGlzLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgdGhpcy5kaWNlTW9kaWZpZXIgPSBkaWNlTW9kXG4gICAgdGhpcy5yYXdWYWx1ZSA9IDAgLy8gdmFsdWUgbmVlZGVkIGJlZm9yZSBkaWZmaWN1bHR5XG4gICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBudWxsXG4gICAgdGhpcy5yZWZlcmVuY2VNZXNzYWdlSWQgPSBudWxsXG4gICAgdGhpcy5wdXNoaW5nID0gZmFsc2VcbiAgICB0aGlzLmZsYXREaWNlTW9kaWZpZXIgPSBmbGF0RGljZU1vZGlmaWVyXG4gICAgdGhpcy5mbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBmbGF0VGhyZXNob2xkTW9kaWZpZXJcblxuICAgIGlmIChkaWZmaWN1bHR5ID09PSBudWxsKSB7XG4gICAgICBjb25zdCBpc1Vua25vd24gPVxuICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkZWZhdWx0Q2hlY2tEaWZmaWN1bHR5JykgPT09ICd1bmtub3duJ1xuICAgICAgdGhpcy5kaWZmaWN1bHR5ID0gaXNVbmtub3duXG4gICAgICAgID8gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC51bmtub3duXG4gICAgICAgIDogQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBjYXJkVHlwZSAoKSB7XG4gICAgcmV0dXJuICdyb2xsQ2FyZCdcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGlmZmljdWx0eUxldmVsICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdW5rbm93bjogLTEsXG4gICAgICByZWd1bGFyOiAxLFxuICAgICAgaGFyZDogMixcbiAgICAgIGV4dHJlbWU6IDMsXG4gICAgICBjcml0aWNhbDogNCxcbiAgICAgIGltcG9zc2libGU6IDlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN1Y2Nlc3NMZXZlbCAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZ1bWJsZTogLTk5LFxuICAgICAgZmFpbHVyZTogMCxcbiAgICAgIHJlZ3VsYXI6IDEsXG4gICAgICBoYXJkOiAyLFxuICAgICAgZXh0cmVtZTogMyxcbiAgICAgIGNyaXRpY2FsOiA0XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCB0eXBlICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hhcmFjdGVyaXN0aWM6ICdjaGFyYWN0ZXJpc3RpYycsXG4gICAgICBhdHRyaWJ1dGU6ICdhdHRyaWJ1dGUnLFxuICAgICAgc2tpbGw6ICdpdGVtJyxcbiAgICAgIGl0ZW06ICdpdGVtJyxcbiAgICAgIHZhbHVlOiAndmFsdWUnXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRpZmZpY3VsdHlTdHJpbmcgKGRpZmZpY3VsdHlMZXZlbCkge1xuICAgIHN3aXRjaCAoXG4gICAgICAhaXNOYU4oTnVtYmVyKGRpZmZpY3VsdHlMZXZlbCkpXG4gICAgICAgID8gTnVtYmVyKGRpZmZpY3VsdHlMZXZlbClcbiAgICAgICAgOiBkaWZmaWN1bHR5TGV2ZWxcbiAgICApIHtcbiAgICAgIGNhc2UgJz8nOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlVua25vd25EaWZmaWN1bHR5JylcbiAgICAgIGNhc2UgJysnOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmREaWZmaWN1bHR5JylcbiAgICAgIGNhc2UgJysrJzpcbiAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FeHRyZW1lRGlmZmljdWx0eScpXG4gICAgICBjYXNlICcrKysnOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsRGlmZmljdWx0eScpXG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVndWxhckRpZmZpY3VsdHknKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnVua25vd246XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVW5rbm93bkRpZmZpY3VsdHknKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXI6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVndWxhckRpZmZpY3VsdHknKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmQ6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZERpZmZpY3VsdHknKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWU6XG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXh0cmVtZURpZmZpY3VsdHknKVxuICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmNyaXRpY2FsOlxuICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyaXRpY2FsRGlmZmljdWx0eScpXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldCByYXdWYWx1ZSAoKSB7XG4gICAgLy8gaWYgKCF0aGlzLmFjdG9yIHx8ICF0aGlzLmFjdG9yLmlkKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKCF0aGlzLl9yYXdWYWx1ZSkge1xuICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgICAgdGhpcy5yYXdWYWx1ZSA9XG4gICAgICAgICAgdGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzW3RoaXMuY2hhcmFjdGVyaXN0aWNdLnZhbHVlXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5za2lsbCkgdGhpcy5yYXdWYWx1ZSA9IHRoaXMuc2tpbGwudmFsdWVcbiAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZSkge1xuICAgICAgICB0aGlzLnJhd1ZhbHVlID0gdGhpcy5hY3Rvci5zeXN0ZW0uYXR0cmlic1t0aGlzLmF0dHJpYnV0ZV0udmFsdWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuX3Jhd1ZhbHVlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZmxhdFRocmVzaG9sZE1vZGlmaWVyICYmXG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FsbG93RmxhdFRocmVzaG9sZE1vZGlmaWVyJylcbiAgICAgICkge1xuICAgICAgICBpZiAodGhpcy5fcmF3VmFsdWUgKyB0aGlzLmZsYXRUaHJlc2hvbGRNb2RpZmllciA8IDEpIHJldHVybiAxXG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdWYWx1ZSArIHRoaXMuZmxhdFRocmVzaG9sZE1vZGlmaWVyXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fcmF3VmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgc2V0IHJhd1ZhbHVlICh4KSB7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSB4XG4gIH1cblxuICBzZXQgdXVpZCAoeCkge1xuICAgIHRoaXMuX3V1aWQgPSB4XG4gIH1cblxuICBnZXQgdXVpZCAoKSB7XG4gICAgaWYgKCF0aGlzLl91dWlkKSB0aGlzLl91dWlkID0gZm91bmRyeS51dGlscy5yYW5kb21JRCgxNilcbiAgICByZXR1cm4gdGhpcy5fdXVpZFxuICB9XG5cbiAgZ2V0IGhhc0NhcmQgKCkge1xuICAgIGNvbnN0IGNoYXRDYXJkID0gdWkuY2hhdC5jb2xsZWN0aW9uLmZpbHRlcihtZXNzYWdlID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudXVpZCA9PT0gbWVzc2FnZS5nZXRGbGFnKCdDb0M3JywgJ3V1aWQnKSAmJlxuICAgICAgICBDb0M3Q2hlY2suY2FyZFR5cGUgPT09IG1lc3NhZ2UuZ2V0RmxhZygnQ29DNycsICd0eXBlJylcbiAgICAgIClcbiAgICB9KVxuICAgIGlmIChjaGF0Q2FyZC5sZW5ndGggPiAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IHJhd1ZhbHVlU3RyaW5nICgpIHtcbiAgICBpZiAoIXRoaXMuX3Jhd1ZhbHVlKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKFxuICAgICAgdGhpcy5mbGF0VGhyZXNob2xkTW9kaWZpZXIgJiZcbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FsbG93RmxhdFRocmVzaG9sZE1vZGlmaWVyJylcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLmZsYXRUaHJlc2hvbGRNb2RpZmllciA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd1ZhbHVlLnRvU3RyaW5nKCkgKyB0aGlzLmZsYXRUaHJlc2hvbGRNb2RpZmllci50b1N0cmluZygpXG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9yYXdWYWx1ZS50b1N0cmluZygpICsgJysnICsgdGhpcy5mbGF0VGhyZXNob2xkTW9kaWZpZXIudG9TdHJpbmcoKVxuICAgICAgKVxuICAgIH0gZWxzZSByZXR1cm4gdGhpcy5fcmF3VmFsdWUudG9TdHJpbmcoKVxuICB9XG5cbiAgZ2V0IGNyaXRpY2FsVGhyZXNob2xkICgpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgZ2V0IHJlZ3VsYXJUaHJlc2hvbGQgKCkge1xuICAgIGlmICh0aGlzLnJhd1ZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5yYXdWYWx1ZSA+PSAxMDApIHJldHVybiA5OVxuICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMucmF3VmFsdWUpXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgaGFyZFRocmVzaG9sZCAoKSB7XG4gICAgaWYgKHRoaXMucmF3VmFsdWUpIHJldHVybiBNYXRoLmZsb29yKHRoaXMucmF3VmFsdWUgLyAyKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgZXh0cmVtZVRocmVzaG9sZCAoKSB7XG4gICAgaWYgKHRoaXMucmF3VmFsdWUpIHJldHVybiBNYXRoLmZsb29yKHRoaXMucmF3VmFsdWUgLyA1KVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgZnVtYmxlVGhyZXNob2xkICgpIHtcbiAgICBpZiAodGhpcy5yYXdWYWx1ZSkge1xuICAgICAgaWYgKHRoaXMuZGlmZmljdWx0eSkge1xuICAgICAgICBpZiAodGhpcy5kaWZmaWN1bHR5ID49IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmV4dHJlbWVUaHJlc2hvbGQgPCA1MCA/IDk2IDogMTAwXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaWZmaWN1bHR5ID49IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaGFyZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmhhcmRUaHJlc2hvbGQgPCA1MCA/IDk2IDogMTAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJhd1ZhbHVlIDwgNTAgPyA5NiA6IDEwMFxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IHN1Y2Nlc1RocmVzaG9sZCAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmRpZmZpY3VsdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMuZGlmZmljdWx0eSkge1xuICAgICAgICBjYXNlIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5leHRyZW1lVGhyZXNob2xkXG4gICAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkOlxuICAgICAgICAgIHJldHVybiB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVndWxhclRocmVzaG9sZFxuICAgICAgICBjYXNlIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWw6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY3JpdGljYWxUaHJlc2hvbGRcbiAgICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnVua25vd246XG4gICAgICAgICAgcmV0dXJuIC0xXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmF3VmFsdWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGdldCBkaWZmaWN1bHR5U3RyaW5nICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZGlmZmljdWx0eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5kaWZmaWN1bHR5KSB7XG4gICAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lOlxuICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkV4dHJlbWVEaWZmaWN1bHR5JylcbiAgICAgICAgY2FzZSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmQ6XG4gICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSGFyZERpZmZpY3VsdHknKVxuICAgICAgICBjYXNlIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhcjpcbiAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5SZWd1bGFyRGlmZmljdWx0eScpXG4gICAgICAgIGNhc2UgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5jcml0aWNhbDpcbiAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Dcml0aWNhbERpZmZpY3VsdHknKVxuICAgICAgICBjYXNlIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwudW5rbm93bjpcbiAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Vbmtub3duRGlmZmljdWx0eScpXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgZ2V0IG1vZGlmaWVkUmVzdWx0ICgpIHtcbiAgICBpZiAodGhpcy5zdGFuZGJ5KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKHR5cGVvZiB0aGlzLl9tb2RpZmllZFJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzLl9tb2RpZmllZFJlc3VsdFxuICAgIGlmICh0aGlzLmZsYXREaWNlTW9kaWZpZXIpIHtcbiAgICAgIGNvbnN0IG1vZGlmaWVkID0gdGhpcy5kaWNlcy50b3RhbCArIHRoaXMuZmxhdERpY2VNb2RpZmllclxuICAgICAgaWYgKG1vZGlmaWVkIDwgMSkgcmV0dXJuIDFcbiAgICAgIGlmIChtb2RpZmllZCA+IDEwMCkgcmV0dXJuIDEwMFxuICAgICAgcmV0dXJuIG1vZGlmaWVkXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRpY2VzLnRvdGFsXG4gIH1cblxuICBzZXQgbW9kaWZpZWRSZXN1bHQgKHgpIHtcbiAgICB0aGlzLl9tb2RpZmllZFJlc3VsdCA9IHhcbiAgfVxuXG4gIGdldCBmbGF0RGljZU1vZGlmaWVyU3RyaW5nICgpIHtcbiAgICBpZiAoIXRoaXMuZmxhdERpY2VNb2RpZmllcikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5mbGF0RGljZU1vZGlmaWVyID4gMCkgcmV0dXJuIGArJHt0aGlzLmZsYXREaWNlTW9kaWZpZXJ9YFxuICAgIHJldHVybiB0aGlzLmZsYXREaWNlTW9kaWZpZXIudG9TdHJpbmcoKVxuICB9XG5cbiAgZ2V0IGlzRnVtYmxlICgpIHtcbiAgICBpZiAodGhpcy5zdGFuZGJ5KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgaWYgKHRoaXMuaXNTaW1wbGVSb2xsKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMubW9kaWZpZWRSZXN1bHQgPj0gdGhpcy5mdW1ibGVUaHJlc2hvbGRcbiAgfVxuXG4gIGdldCBpc0NyaXRpY2FsICgpIHtcbiAgICBpZiAodGhpcy5zdGFuZGJ5KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMubW9kaWZpZWRSZXN1bHQgPT09IDFcbiAgfVxuXG4gIGdldCBpc0V4dHJlbWVTdWNjZXNzICgpIHtcbiAgICBpZiAodGhpcy5zdGFuZGJ5KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuc3VjY2Vzc0xldmVsID49IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZVxuICB9XG5cbiAgZ2V0IHBhc3NlZCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhbmRieSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh0aGlzLmlzU2ltcGxlUm9sbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh0aGlzLmx1Y2tTcGVudCkgcmV0dXJuIHRoaXMuZGlmZmljdWx0eSA8PSB0aGlzLnN1Y2Nlc3NMZXZlbFxuICAgIHJldHVybiB0aGlzLnN1Y2Nlc1RocmVzaG9sZCA+PSB0aGlzLm1vZGlmaWVkUmVzdWx0IHx8IHRoaXMuaXNDcml0aWNhbFxuICB9XG5cbiAgZ2V0IGZhaWxlZCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhbmRieSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICh0aGlzLmlzU2ltcGxlUm9sbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiAhdGhpcy5wYXNzZWRcbiAgfVxuXG4gIGdldCBpc1NpbXBsZVJvbGwgKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5yYXdWYWx1ZSA9PT0gJ3VuZGVmaW5lZCdcbiAgfVxuXG4gIGdldCBoYXNCb251cyAoKSB7XG4gICAgaWYgKHRoaXMuZGljZU1vZGlmaWVyICYmIHRoaXMuZGljZU1vZGlmaWVyID4gMCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBoYXNQZW5hbHR5ICgpIHtcbiAgICBpZiAodGhpcy5kaWNlTW9kaWZpZXIgJiYgdGhpcy5kaWNlTW9kaWZpZXIgPCAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IGhhc01vZGlmaWVyICgpIHtcbiAgICBpZiAodGhpcy5kaWNlTW9kaWZpZXIgJiYgdGhpcy5kaWNlTW9kaWZpZXIgIT09IDApIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgZGljZU1vZGlmaWVyICgpIHtcbiAgICBpZiAodGhpcy5fZGljZU1vZGlmaWVyKSByZXR1cm4gdGhpcy5fZGljZU1vZGlmaWVyXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHNldCBkaWNlTW9kaWZpZXIgKHgpIHtcbiAgICB0aGlzLl9kaWNlTW9kaWZpZXIgPSBwYXJzZUludCh4KVxuICB9XG5cbiAgZ2V0IG5hbWUgKCkge1xuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICBpZiAodGhpcy5za2lsbCkgcmV0dXJuIHRoaXMuc2tpbGwuc2hvcnROYW1lXG4gICAgICBpZiAodGhpcy5pdGVtKSByZXR1cm4gdGhpcy5pdGVtLm5hbWVcbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgIHJldHVybiBDb0M3VXRpbGl0aWVzLmdldENoYXJhY3RlcmlzdGljTmFtZXModGhpcy5jaGFyYWN0ZXJpc3RpYyk/LmxhYmVsXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hdHRyaWJ1dGUpIHtcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlID09PSAnbGNrJykgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5MdWNrJylcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlID09PSAnc2FuJykgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TYW5pdHknKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0IHNob3J0TmFtZSAoKSB7XG4gICAgaWYgKHRoaXMuYWN0b3IpIHtcbiAgICAgIGlmICh0aGlzLnNraWxsKSByZXR1cm4gdGhpcy5za2lsbC5zaG9ydE5hbWVcbiAgICAgIGlmICh0aGlzLml0ZW0pIHJldHVybiB0aGlzLml0ZW0ubmFtZVxuICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgICAgcmV0dXJuIENvQzdVdGlsaXRpZXMuZ2V0Q2hhcmFjdGVyaXN0aWNOYW1lcyh0aGlzLmNoYXJhY3RlcmlzdGljKT8uc2hvcnRcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZSkge1xuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGUgPT09ICdsY2snKSByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKVxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGUgPT09ICdzYW4nKSByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNBTicpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgZnVsbE5hbWUgKCkge1xuICAgIGNvbnN0IGRpZmZpY3VsdHkgPVxuICAgICAgdGhpcy5fZGlmZmljdWx0eSA9PT0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiBDb0M3Q2hlY2suZGlmZmljdWx0eVN0cmluZyh0aGlzLl9kaWZmaWN1bHR5KVxuICAgIGNvbnN0IG1vZGlmaWVyID1cbiAgICAgIHRoaXMuX2RpY2VNb2RpZmllciA+IDBcbiAgICAgICAgPyBgKyR7dGhpcy5fZGljZU1vZGlmaWVyfWBcbiAgICAgICAgOiB0aGlzLl9kaWNlTW9kaWZpZXIudG9TdHJpbmcoKVxuICAgIHJldHVybiBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgYENvQzcuTGlua0NoZWNrJHshZGlmZmljdWx0eSA/ICcnIDogJ0RpZmYnfSR7XG4gICAgICAgICF0aGlzLl9kaWNlTW9kaWZpZXIgPyAnJyA6ICdNb2RpZidcbiAgICAgIH1gLFxuICAgICAgeyBkaWZmaWN1bHR5LCBtb2RpZmllciwgbmFtZTogdGhpcy5uYW1lIH1cbiAgICApXG4gIH1cblxuICBnZXQgcm9sbGVkICgpIHtcbiAgICBpZiAodGhpcy5kaWNlKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGNoZWNrIGZyb20gYW4gSFRNTEVsZW1lbnQgb3IgYSBjaGF0IGNhcmQuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNhcmQgIFRoZSBIVE1MRWxlbWVudCB0aGF0IGlzIGEgcm9sbC1yZXN1bHQgb3IgYSBjaGF0IGNhcmQgY29udGFpbmluZyBhIHNpbmdsZSByb2xsLXJlc3VsdC5cbiAgICogQHJldHVybiB7Q29DN0NoZWNrfSAgICAgIEEgQ29DN0NoZWNrLlxuICAgKi9cbiAgc3RhdGljIGdldEZyb21DYXJkIChjYXJkKSB7XG4gICAgY29uc3Qgcm9sbFJlc3VsdCA9IGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb2xsLXJlc3VsdCcpXG4gICAgICA/IGNhcmRcbiAgICAgIDogY2FyZC5xdWVyeVNlbGVjdG9yKCcucm9sbC1yZXN1bHQnKVxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgQ29DN1JvbGwuZ2V0RnJvbUVsZW1lbnQocm9sbFJlc3VsdCwgY2hlY2spXG4gICAgY29uc3QgbWVzc2FnZSA9IGNhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKVxuICAgIGNoZWNrLm1lc3NhZ2VJZCA9IG1lc3NhZ2UgPyBtZXNzYWdlLmRhdGFzZXQubWVzc2FnZUlkIDogbnVsbFxuICAgIHJldHVybiBjaGVja1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIHB1c2ggKGNhcmQsIHB1Ymxpc2ggPSB0cnVlKSB7XG4gICAgY29uc3Qgb2xkQ2hlY2sgPSBDb0M3Q2hlY2suZ2V0RnJvbUNhcmQoY2FyZCkgLy8gVE9ETzogUmVmYWN0b3JpbmdcbiAgICBjb25zdCBhY3RvcklkID0gY2FyZC5kYXRhc2V0LnRva2VuSWRcbiAgICAgID8gY2FyZC5kYXRhc2V0LnRva2VuSWRcbiAgICAgIDogY2FyZC5kYXRhc2V0LmFjdG9ySWRcbiAgICBjb25zdCBza2lsbElkID0gY2FyZC5kYXRhc2V0LnNraWxsSWRcbiAgICBjb25zdCBjaGFyYWMgPSBjYXJkLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNcbiAgICBjb25zdCBpdGVtSWQgPSBjYXJkLmRhdGFzZXQuaXRlbUlkXG4gICAgY29uc3QgZGljZU1vZCA9IGNhcmQuZGF0YXNldC5kaWNlTW9kXG4gICAgY29uc3QgZGlmZmljdWx0eSA9IGNhcmQuZGF0YXNldC5kaWZmaWN1bHR5XG5cbiAgICBsZXQgcHVzaGVkUm9sbFxuICAgIGlmIChza2lsbElkKSB7XG4gICAgICBwdXNoZWRSb2xsID0gbmV3IENvQzdDaGVjayhhY3RvcklkLCBza2lsbElkLCBpdGVtSWQsIGRpY2VNb2QsIGRpZmZpY3VsdHkpXG4gICAgfSBlbHNlIGlmIChjaGFyYWMpIHtcbiAgICAgIHB1c2hlZFJvbGwgPSBuZXcgQ29DN0NoZWNrKClcbiAgICAgIHB1c2hlZFJvbGwuZGljZU1vZGlmaWVyID0gZGljZU1vZFxuICAgICAgcHVzaGVkUm9sbC5kaWZmaWN1bHR5ID0gZGlmZmljdWx0eVxuICAgICAgcHVzaGVkUm9sbC5hY3RvciA9IGFjdG9ySWRcbiAgICAgIHB1c2hlZFJvbGwuY2hhcmFjdGVyaXN0aWMgPSBjaGFyYWNcbiAgICB9IGVsc2UgcmV0dXJuXG4gICAgaWYgKG9sZENoZWNrLnV1aWQpIHtcbiAgICAgIHB1c2hlZFJvbGwuY29udGV4dCA9IG9sZENoZWNrLmNvbnRleHRcbiAgICAgIHB1c2hlZFJvbGwudXVpZCA9IG9sZENoZWNrLnV1aWRcbiAgICB9XG4gICAgaWYgKG9sZENoZWNrLnBhcmVudCkgcHVzaGVkUm9sbC5wYXJlbnQgPSBvbGRDaGVjay5wYXJlbnRcbiAgICBwdXNoZWRSb2xsLnB1c2hpbmcgPSB0cnVlXG4gICAgYXdhaXQgcHVzaGVkUm9sbC5yb2xsKClcbiAgICBpZiAocHVibGlzaCkgcHVzaGVkUm9sbC50b01lc3NhZ2UodHJ1ZSwgY2FyZClcbiAgfVxuXG4gIGdldCB0b2tlbiAoKSB7XG4gICAgaWYgKCF0aGlzLmFjdG9yKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBjaGF0SGVscGVyLmdldFRva2VuRnJvbUtleSh0aGlzLmFjdG9yS2V5KVxuICB9XG5cbiAgc2V0IGFjdG9yICh4KSB7XG4gICAgdGhpcy5hY3RvcktleSA9IHhcbiAgICBpZiAoeCA9PSBudWxsKSB7XG4gICAgICB0aGlzLl9hY3RvciA9IHhcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh4IGluc3RhbmNlb2YgQWN0b3IpIHtcbiAgICAgIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgdGhpcy5fYWN0b3IgPSB4XG4gICAgICB0aGlzLl9hY3Rvci5hbGlhcyA9IHRoaXMuYWN0b3IubmFtZVxuICAgICAgaWYgKHgudG9rZW4gJiYgeC50b2tlbi5zY2VuZSAmJiB4LnRva2VuLnNjZW5lLmlkKSB7XG4gICAgICAgIHRoaXMuYWN0b3JLZXkgPSBgJHt4LnRva2VuLnNjZW5lLmlkfS4ke3gudG9rZW4uaWR9YFxuICAgICAgfSBlbHNlIHRoaXMuYWN0b3JLZXkgPSB4LmlkIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHguaW5jbHVkZXMoJy4nKSkge1xuICAgICAgY29uc3QgW3NjZW5lSWQsIHRva2VuSWRdID0geC5zcGxpdCgnLicpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgaWYgKHNjZW5lSWQgPT09ICdUT0tFTicpIHtcbiAgICAgICAgdGhpcy5fYWN0b3IgPSBnYW1lLmFjdG9ycy50b2tlbnNbdG9rZW5JZF0gLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICAgIHRoaXMuX2FjdG9yLmFsaWFzID0gdGhpcy5fYWN0b3IubmFtZSAvLyBSRUZBQ1RPUklORyAoMilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gZ2FtZS5zY2VuZXMuZ2V0KHNjZW5lSWQpXG4gICAgICAgIGlmICghc2NlbmUpIHJldHVyblxuICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5nZXRFbWJlZGRlZERvY3VtZW50KCdUb2tlbicsIHRva2VuSWQpXG4gICAgICAgIGlmICghdG9rZW5EYXRhKSByZXR1cm5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBuZXcgVG9rZW4odG9rZW5EYXRhKVxuICAgICAgICB0aGlzLl9hY3RvciA9IHRva2VuLmFjdG9yXG4gICAgICAgIHRoaXMuX2FjdG9yLmFsaWFzID0gdG9rZW4ubmFtZVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5fYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoeClcbiAgICB0aGlzLmFjdG9yLmFsaWFzID0gdGhpcy5hY3Rvci5uYW1lXG4gIH1cblxuICBnZXQgc3VjY2Vzc0xldmVsSWNvbnMgKCkge1xuICAgIGlmICh0aGlzLnVua25vd25EaWZmaWN1bHR5KSByZXR1cm4gbnVsbFxuICAgIGlmICh0aGlzLmlzU2ltcGxlUm9sbCkgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5zdWNjZXNzTGV2ZWwgPj0gdGhpcy5kaWZmaWN1bHR5KSB7XG4gICAgICBjb25zdCBpY29ucyA9IFtdXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBpbmRleCA8IHRoaXMuc3VjY2Vzc0xldmVsIC0gdGhpcy5kaWZmaWN1bHR5ICsgMTtcbiAgICAgICAgaW5kZXgrK1xuICAgICAgKSB7XG4gICAgICAgIGljb25zLnB1c2godGhpcy5pc0NyaXRpY2FsID8gJ21lZGFsJyA6ICdzdGFyJylcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN1Y2Nlc3NIaW50ID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5TdWNjZXNMZXZlbEhpbnQnLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN1Y2Nlc3NMZXZlbCAtIHRoaXMuZGlmZmljdWx0eSArIDFcbiAgICAgIH0pXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBjc3NDbGFzczogdGhpcy5pc0NyaXRpY2FsID8gJ2NyaXRpY2FsJyA6ICdzdWNjZXNzJyxcbiAgICAgICAgaGludDogc3VjY2Vzc0hpbnQsXG4gICAgICAgIGljb25zXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGljb25zID0gW11cbiAgICAgIGNvbnN0IHN1Y2Nlc3NMZXZlbCA9IHRoaXMuaXNGdW1ibGUgPyAtMSA6IHRoaXMuc3VjY2Vzc0xldmVsXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5kaWZmaWN1bHR5IC0gc3VjY2Vzc0xldmVsOyBpbmRleCsrKSB7XG4gICAgICAgIGljb25zLnB1c2godGhpcy5pc0Z1bWJsZSA/ICdza3VsbCcgOiAnc3BpZGVyJylcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZhaWx1cmVIaW50ID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5GYWlsdXJlTGV2ZWxIaW50Jywge1xuICAgICAgICB2YWx1ZTogdGhpcy5kaWZmaWN1bHR5IC0gc3VjY2Vzc0xldmVsXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGNzc0NsYXNzOiB0aGlzLmlzRnVtYmxlID8gJ2Z1bWJsZScgOiAnZmFpbHVyZScsXG4gICAgICAgIGhpbnQ6IGZhaWx1cmVIaW50LFxuICAgICAgICBpY29uc1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldCBpc0JsaW5kICgpIHtcbiAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9pc0JsaW5kKSB7XG4gICAgICB0aGlzLl9pc0JsaW5kID0gdGhpcy5yb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCdcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzQmxpbmRcbiAgfVxuXG4gIHNldCBpc0JsaW5kICh4KSB7XG4gICAgdGhpcy5faXNCbGluZCA9IHhcbiAgfVxuXG4gIGdldCB1bmtub3duRGlmZmljdWx0eSAoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5nbURpZmZpY3VsdHlDcml0aWNhbCB8fFxuICAgICAgdGhpcy5nbURpZmZpY3VsdHlFeHRyZW1lIHx8XG4gICAgICB0aGlzLmdtRGlmZmljdWx0eUhhcmQgfHxcbiAgICAgIHRoaXMuZ21EaWZmaWN1bHR5UmVndWxhclxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnVua25vd24gPT09IHRoaXMuZGlmZmljdWx0eVxuICB9XG5cbiAgZ2V0IHJvbGxNb2RlICgpIHtcbiAgICBpZiAoIXRoaXMuX3JvbGxNb2RlKSB0aGlzLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICByZXR1cm4gdGhpcy5fcm9sbE1vZGVcbiAgfVxuXG4gIHNldCByb2xsTW9kZSAoeCkge1xuICAgIGlmICh4ID09PSBmYWxzZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgdGhpcy5fcm9sbE1vZGUgPSB4XG4gIH1cblxuICBzZXQgc2tpbGwgKHgpIHtcbiAgICB0aGlzLl9za2lsbCA9IHRoaXMuX2dldEl0ZW1Gcm9tSWQoeClcbiAgICB0aGlzLnNraWxsSWQgPSB4XG4gIH1cblxuICBzZXQgaXRlbSAoeCkge1xuICAgIHRoaXMuX2l0ZW0gPSB0aGlzLl9nZXRJdGVtRnJvbUlkKHgpXG4gICAgaWYgKHRoaXMuX2l0ZW0/LnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgICB0aGlzLml0ZW1JZCA9IHhcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faXRlbSA9IHVuZGVmaW5lZFxuICAgICAgdGhpcy5pdGVtSWQgPSB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBfZ2V0SXRlbUZyb21JZCAoeCkge1xuICAgIGlmICh4ID09IG51bGwpIHJldHVybiBudWxsXG4gICAgaWYgKHggaW5zdGFuY2VvZiBJdGVtKSByZXR1cm4geFxuICAgIGlmICh0aGlzLl9hY3RvcikgcmV0dXJuIHRoaXMuX2FjdG9yLml0ZW1zLmdldCh4KVxuICAgIHJldHVybiBnYW1lLml0ZW1zLmdldCh4KVxuICB9XG5cbiAgZ2V0IGFjdG9yICgpIHtcbiAgICBpZiAoIXRoaXMuX2FjdG9yIHx8ICF0aGlzLl9hY3Rvcj8uaWQpIHtcbiAgICAgIGlmICh0aGlzLmFjdG9yS2V5KSB0aGlzLl9hY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuYWN0b3JLZXkpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgaWYgKHRoaXMuYWN0b3JJZCkgdGhpcy5fYWN0b3IgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleSh0aGlzLmFjdG9ySWQpIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgaWYgKCF0aGlzLl9hY3Rvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzRHVtbXk6IHRydWUsXG4gICAgICAgICAgbmFtZTogdGhpcy5hY3Rvck5hbWUgPyB0aGlzLmFjdG9yTmFtZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBpZDogdW5kZWZpbmVkLFxuICAgICAgICAgIGltZzogJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvcXVlc3Rpb24tY2lyY2xlLXJlZ3VsYXIuc3ZnJyxcbiAgICAgICAgICBwb3J0cmFpdDogJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvcXVlc3Rpb24tY2lyY2xlLXJlZ3VsYXIuc3ZnJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9hY3Rvci5jb25zdHJ1Y3Rvci5uYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgY29uc3QgYWN0b3IgPSBuZXcgQ29DQWN0b3IodGhpcy5fYWN0b3IpXG4gICAgICB0aGlzLl9hY3RvciA9IGFjdG9yXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hY3RvclxuICB9XG5cbiAgZ2V0IHNraWxsICgpIHtcbiAgICBpZiAoIXRoaXMuX3NraWxsICYmIHRoaXMuc2tpbGxJZCkge1xuICAgICAgdGhpcy5fc2tpbGwgPSB0aGlzLmFjdG9yPy5pdGVtcy5nZXQodGhpcy5za2lsbElkKVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX3NraWxsICYmIHRoaXMuaXRlbSkge1xuICAgICAgaWYgKHRoaXMuaXRlbS5zeXN0ZW0uc2tpbGwpIHtcbiAgICAgICAgaWYgKHRoaXMuaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5pZCAmJiAhdGhpcy53ZWFwb25BbHRTa2lsbCkge1xuICAgICAgICAgIHRoaXMuX3NraWxsID0gdGhpcy5fYWN0b3IuaXRlbXMuZ2V0KHRoaXMuaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5pZClcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICB0aGlzLml0ZW0uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYuaWQgJiZcbiAgICAgICAgICB0aGlzLndlYXBvbkFsdFNraWxsXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuX3NraWxsID0gdGhpcy5fYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgICAgICAgdGhpcy5pdGVtLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9za2lsbFxuICB9XG5cbiAgZ2V0IGl0ZW0gKCkge1xuICAgIGlmICghdGhpcy5faXRlbSAmJiB0aGlzLml0ZW1JZCAmJiB0aGlzLmFjdG9yKSB7XG4gICAgICB0aGlzLl9pdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQodGhpcy5pdGVtSWQpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pdGVtXG4gIH1cblxuICBnZXQgZGlzcGxheVJlc3VsdFR5cGUgKCkge1xuICAgIHJldHVybiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaXNwbGF5UmVzdWx0VHlwZScpXG4gIH1cblxuICBnZXQgZGlzcGxheUNoZWNrU3VjY2Vzc0xldmVsICgpIHtcbiAgICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGlzcGxheUNoZWNrU3VjY2Vzc0xldmVsJylcbiAgfVxuXG4gIGdldCBkaXNwbGF5Qm90aFN1Y2Nlc3NMZXZlbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGxheVJlc3VsdFR5cGUgJiYgdGhpcy5kaXNwbGF5Q2hlY2tTdWNjZXNzTGV2ZWxcbiAgfVxuXG4gIGdldCBkb250RGlzcGxheVN1Y2Nlc3NMZXZlbCAoKSB7XG4gICAgcmV0dXJuICF0aGlzLmRpc3BsYXlSZXN1bHRUeXBlICYmICF0aGlzLmRpc3BsYXlDaGVja1N1Y2Nlc3NMZXZlbFxuICB9XG5cbiAgZ2V0IGltYWdlICgpIHtcbiAgICBpZiAodGhpcy5za2lsbCkgcmV0dXJuIHRoaXMuc2tpbGwuaW1nXG4gICAgaWYgKHRoaXMuaXRlbSkgcmV0dXJuIHRoaXMuaXRlbS5pbWdcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgbGluayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGlua0VsZW1lbnQoKS5vdXRlckhUTUxcbiAgfVxuXG4gIGdldCBkaXNwbGF5QWN0b3JPbkNhcmQgKCkge1xuICAgIHJldHVybiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaXNwbGF5QWN0b3JPbkNhcmQnKVxuICB9XG5cbiAgZ2V0TGlua0VsZW1lbnQgKGNsYXNzZXMgPSBudWxsKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGNsczogWydjb2M3LWxpbmsnLCAnY29jNy1yb2xsJ10uY29uY2F0KGNsYXNzZXMpLFxuICAgICAgZGF0YXNldDogeyBjaGVjazogJ2NoZWNrJyB9LFxuICAgICAgaWNvbjogdGhpcy5pbWFnZVxuICAgICAgICA/IGA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7dGhpcy5pbWFnZX0pXCI+PC9kaXY+YFxuICAgICAgICA6ICc8aSBjbGFzcz1cImZhcyBmYS1kaWNlXCI+PC9pPicsXG4gICAgICBibGluZDogdGhpcy5pc0JsaW5kXG4gICAgfVxuXG4gICAgY29uc3QgZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5U3RyaW5nKHRoaXMuX2RpZmZpY3VsdHkpXG4gICAgY29uc3QgdGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgYENvQzcuTGlua0NoZWNrJHshdGhpcy5fZGlmZmljdWx0eSA/ICcnIDogJ0RpZmYnfSR7XG4gICAgICAgICF0aGlzLl9kaWNlTW9kaWZpZXIgPyAnJyA6ICdNb2RpZidcbiAgICAgIH1gLFxuICAgICAge1xuICAgICAgICBkaWZmaWN1bHR5LFxuICAgICAgICBtb2RpZmllcjogdGhpcy5fZGljZU1vZGlmaWVyLFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICAgIH1cbiAgICApXG5cbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgYS50aXRsZSA9IHRpdGxlXG4gICAgYS5jbGFzc0xpc3QuYWRkKC4uLmRhdGEuY2xzKVxuICAgIGEuaW5uZXJIVE1MID0gYCR7ZGF0YS5ibGluZCA/ICc8aSBjbGFzcz1cImZhcyBmYS1leWUtc2xhc2hcIj48L2k+JyA6ICcnfSR7XG4gICAgICBkYXRhLmljb25cbiAgICB9JHt0aGlzLm5hbWV9YFxuXG4gICAgcmV0dXJuIGFcbiAgfVxuXG4gIGFzeW5jIHJvbGwgKGRpY2VNb2QgPSBudWxsLCBkaWZmaWN1bHR5ID0gbnVsbCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKGRpY2VNb2QpIHRoaXMuZGljZU1vZGlmaWVyID0gZGljZU1vZFxuICAgIGlmIChkaWZmaWN1bHR5KSB0aGlzLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgaWYgKCF0aGlzLnN0YW5kYnkpIGF3YWl0IHRoaXMuX3BlcmZvcm0ob3B0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjaGVjayB3aXRoIHRoZSBwcm92aWRlZCBkYXRhXG4gICAqIFByb2Nlc3Mgcm9sbCBkYXRhIHRvIGEgZm9ybWF0IHRoYXQgY2FuIGJlIGZlZCB0byBjcmVhdGUoKVxuICAgKiBAcGFyYW0geyp9IHJvbGxEYXRhIEEgcm9sbCBkYXRhIHN0cnVjdHVyZSBhcyByZXR1cm5lZCBieSBhY3Rvci5maW5kXG4gICAqIEByZXR1cm5zIEEgY2hlY2sgd2l0aCB0aGUgcm9sbCBkYXRhIHByb3ZpZGVkXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlRnJvbUFjdG9yUm9sbERhdGEgKHJvbGxEYXRhKSB7XG4gICAgY29uc3Qgcm9sbCA9IHt9XG4gICAgLy8gY2hlY2sgTW9kaWZpZXJcbiAgICBpZiAocm9sbERhdGEuZGlmZmljdWx0eSkgcm9sbC5kaWZmaWN1bHR5ID0gcm9sbERhdGEuZGlmZmljdWx0eVxuICAgIGlmIChyb2xsRGF0YS5kaWNlTW9kaWZpZXIpIHJvbGwuZGljZU1vZGlmaWVyID0gcm9sbERhdGEuZGljZU1vZGlmaWVyXG4gICAgaWYgKHJvbGxEYXRhLmRlbnlQdXNoID09PSB0cnVlKSByb2xsLmRlbnlQdXNoID0gdHJ1ZVxuICAgIGlmIChyb2xsRGF0YS5mbGF0RGljZU1vZGlmaWVyKSB7XG4gICAgICByb2xsLmZsYXREaWNlTW9kaWZpZXIgPSByb2xsRGF0YS5mbGF0RGljZU1vZGlmaWVyXG4gICAgfVxuICAgIGlmIChyb2xsRGF0YS5mbGF0VGhyZXNob2xkTW9kaWZpZXIpIHtcbiAgICAgIHJvbGwuZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gcm9sbERhdGEuZmxhdFRocmVzaG9sZE1vZGlmaWVyXG4gICAgfVxuICAgIC8vIEFjdG9yXG4gICAgaWYgKHJvbGxEYXRhLmFjdG9yPy5hY3RvcktleSkgcm9sbC5hY3RvcktleSA9IHJvbGxEYXRhLmFjdG9yLmFjdG9yS2V5XG4gICAgZWxzZSBpZiAocm9sbERhdGEuYWN0b3I/Lm5hbWUpIHJvbGwuYWN0b3JOYW1lID0gcm9sbERhdGEuYWN0b3IubmFtZVxuICAgIC8vIENoZWNrIHR5cGVcbiAgICBzd2l0Y2ggKHJvbGxEYXRhLnR5cGUpIHtcbiAgICAgIGNhc2UgQ29DN0NoZWNrLnR5cGUuY2hhcmFjdGVyaXN0aWM6XG4gICAgICAgIHJvbGwuY2hhcmFjdGVyaXN0aWMgPSByb2xsRGF0YS52YWx1ZT8ua2V5XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENvQzdDaGVjay50eXBlLmF0dHJpYnV0ZTpcbiAgICAgICAgcm9sbC5hdHRyaWJ1dGUgPSByb2xsRGF0YS52YWx1ZT8ua2V5XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENvQzdDaGVjay50eXBlLml0ZW06XG4gICAgICAgIHJvbGwuYWN0b3JLZXkgPSByb2xsRGF0YS52YWx1ZS5hY3Rvci5hY3RvcktleVxuICAgICAgICBpZiAocm9sbERhdGEudmFsdWU/LnR5cGUgPT09ICdza2lsbCcpIHJvbGwuc2tpbGwgPSByb2xsRGF0YS52YWx1ZS5pZFxuICAgICAgICBlbHNlIHJvbGwuaXRlbSA9IHJvbGxEYXRhLnZhbHVlLmlkXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENvQzdDaGVjay50eXBlLnNraWxsOlxuICAgICAgICByb2xsLmFjdG9yS2V5ID0gcm9sbERhdGEudmFsdWUuYWN0b3IuYWN0b3JLZXlcbiAgICAgICAgcm9sbC5za2lsbCA9IHJvbGxEYXRhLnZhbHVlLmlkXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENvQzdDaGVjay50eXBlLnZhbHVlOlxuICAgICAgICByb2xsLmRpc3BsYXlOYW1lID0gcm9sbERhdGEudmFsdWUubmFtZVxuICAgICAgICByb2xsLnJhd1ZhbHVlID0gcm9sbERhdGEudmFsdWUudGhyZXNob2xkXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gQ29DN0NoZWNrLmNyZWF0ZShyb2xsKVxuICB9XG5cbiAgc3RhdGljIGNyZWF0ZSAoe1xuICAgIGRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIsXG4gICAgZGljZU1vZGlmaWVyID0gbnVsbCxcbiAgICBhY3RvcktleSA9IG51bGwsXG4gICAgY2hhcmFjdGVyaXN0aWMgPSBudWxsLFxuICAgIGF0dHJpYnV0ZSA9IG51bGwsXG4gICAgcmF3VmFsdWUgPSAwLFxuICAgIGl0ZW0gPSBudWxsLFxuICAgIHNraWxsID0gbnVsbCxcbiAgICBmbGF0RGljZU1vZGlmaWVyID0gMCxcbiAgICBmbGF0VGhyZXNob2xkTW9kaWZpZXIgPSAwLFxuICAgIGRpc3BsYXlOYW1lID0gbnVsbCxcbiAgICBhY3Rvck5hbWUgPSBudWxsLFxuICAgIGRlbnlQdXNoID0gdW5kZWZpbmVkXG4gIH0gPSB7fSkge1xuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgY2hlY2suZGlmZmljdWx0eSA9IGRpZmZpY3VsdHlcbiAgICBpZiAoZGVueVB1c2ggPT09IHRydWUpIGNoZWNrLmRlbnlQdXNoID0gdHJ1ZVxuICAgIGlmIChkaWNlTW9kaWZpZXIpIGNoZWNrLmRpY2VNb2RpZmllciA9IGRpY2VNb2RpZmllclxuICAgIGlmIChmbGF0RGljZU1vZGlmaWVyKSBjaGVjay5mbGF0RGljZU1vZGlmaWVyID0gZmxhdERpY2VNb2RpZmllclxuICAgIGlmIChmbGF0VGhyZXNob2xkTW9kaWZpZXIpIHtcbiAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IGZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgIH1cbiAgICBpZiAoZGlzcGxheU5hbWUpIGNoZWNrLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWVcbiAgICBpZiAoYWN0b3JLZXkpIGNoZWNrLmFjdG9yID0gYWN0b3JLZXlcbiAgICBpZiAoYWN0b3JOYW1lKSBjaGVjay5hY3Rvck5hbWUgPSBhY3Rvck5hbWVcbiAgICBpZiAoIWlzTmFOKE51bWJlcihyYXdWYWx1ZSkpKSBjaGVjay5yYXdWYWx1ZSA9IE51bWJlcihyYXdWYWx1ZSlcbiAgICBpZiAoY2hlY2suYWN0b3IgJiYgIWNoZWNrLmFjdG9yLmlzRHVtbXkpIHtcbiAgICAgIC8vIFRPRE8gOiBBZGQgY2hlY2sgZm9yIHZhbGlkaXR5IG9mIGNoYXJhY3RlcmlzdGljLCBhdHRyaWJ1dGUsIHNraWxsSWRcbiAgICAgIGlmIChza2lsbCkgY2hlY2suc2tpbGwgPSBza2lsbFxuICAgICAgLy8gVE9ETyA6IHRyeSByZXRyaWV2ZSBza2lsbCBieSBuYW1lXG4gICAgICBlbHNlIGlmIChjaGFyYWN0ZXJpc3RpYykgY2hlY2suY2hhcmFjdGVyaXN0aWMgPSBjaGFyYWN0ZXJpc3RpY1xuICAgICAgZWxzZSBpZiAoYXR0cmlidXRlKSBjaGVjay5hdHRyaWJ1dGUgPSBhdHRyaWJ1dGVcbiAgICAgIGVsc2UgaWYgKGl0ZW0pIGNoZWNrLml0ZW0gPSBpdGVtXG4gICAgfVxuICAgIHJldHVybiBjaGVja1xuICB9XG5cbiAgYXN5bmMgcm9sbENoYXJhY3RlcmlzdGljIChjaGFyLCBkaWNlTW9kID0gbnVsbCwgZGlmZmljdWx0eSA9IG51bGwpIHtcbiAgICBpZiAoZGljZU1vZCkgdGhpcy5kaWNlTW9kaWZpZXIgPSBkaWNlTW9kXG4gICAgaWYgKGRpZmZpY3VsdHkpIHRoaXMuZGlmZmljdWx0eSA9IGRpZmZpY3VsdHlcbiAgICB0aGlzLmNoYXJhY3RlcmlzdGljID0gY2hhclxuICAgIGlmICghdGhpcy5zdGFuZGJ5KSBhd2FpdCB0aGlzLl9wZXJmb3JtKClcbiAgfVxuXG4gIGFzeW5jIHJvbGxBdHRyaWJ1dGUgKGF0dHJpYiwgZGljZU1vZCA9IG51bGwsIGRpZmZpY3VsdHkgPSBudWxsKSB7XG4gICAgaWYgKGRpY2VNb2QpIHRoaXMuZGljZU1vZGlmaWVyID0gZGljZU1vZFxuICAgIGlmIChkaWZmaWN1bHR5KSB0aGlzLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgdGhpcy5hdHRyaWJ1dGUgPSBhdHRyaWJcbiAgICBpZiAoIXRoaXMuc3RhbmRieSkgYXdhaXQgdGhpcy5fcGVyZm9ybSgpXG4gIH1cblxuICBhc3luYyByb2xsVmFsdWUgKHZhbCwgZGljZU1vZCA9IG51bGwsIGRpZmZpY3VsdHkgPSBudWxsKSB7XG4gICAgaWYgKGRpY2VNb2QpIHRoaXMuZGljZU1vZGlmaWVyID0gZGljZU1vZFxuICAgIGlmIChkaWZmaWN1bHR5KSB0aGlzLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgdGhpcy5yYXdWYWx1ZSA9IHZhbFxuICAgIGlmICghdGhpcy5zdGFuZGJ5KSBhd2FpdCB0aGlzLl9wZXJmb3JtKClcbiAgfVxuXG4gIGdldCByb2xsZWRTdWNjZXNzTGV2ZWwgKCkge1xuICAgIHJldHVybiB0aGlzLnN1Y2Nlc3NMZXZlbFxuICB9XG5cbiAgYXN5bmMgX3BlcmZvcm0gKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZGljZSA9XG4gICAgICBvcHRpb25zLnJvbGwgfHxcbiAgICAgIChhd2FpdCBDb0M3RGljZS5yb2xsKHRoaXMuZGljZU1vZGlmaWVyLCB0aGlzLnJvbGxNb2RlLCB0aGlzLmlzQmxpbmQpKVxuICAgIGlmICghb3B0aW9ucy5zaWxlbnQgJiYgIWdhbWUubW9kdWxlcy5nZXQoJ2RpY2Utc28tbmljZScpPy5hY3RpdmUpIHtcbiAgICAgIEF1ZGlvSGVscGVyLnBsYXkoeyBzcmM6IENPTkZJRy5zb3VuZHMuZGljZSB9LCB0cnVlKVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmZvcmNlRFNOKSB7XG4gICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZCh0aGlzLmRpY2Uucm9sbClcbiAgICB9XG5cbiAgICB0aGlzLmRpY2VzID0ge1xuICAgICAgdGVuczogW10sXG4gICAgICB1bml0OiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLmRpY2UudW5pdC50b3RhbFxuICAgICAgfSxcbiAgICAgIHRvdGFsOiB0aGlzLmRpY2UudG90YWwsXG4gICAgICB0ZW5SZXN1bHQ6IHRoaXMuZGljZS50b3RhbCAtIHRoaXMuZGljZS51bml0LnRvdGFsLFxuICAgICAgaGFzQm9udXM6ICEhdGhpcy5kaWNlTW9kaWZpZXIsXG4gICAgICBib251czogTWF0aC5hYnModGhpcy5kaWNlTW9kaWZpZXIpLFxuICAgICAgYm9udXNUeXBlOlxuICAgICAgICB0aGlzLmRpY2VNb2RpZmllciA8IDBcbiAgICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRGljZU1vZGlmaWVyUGVuYWx0eScpXG4gICAgICAgICAgOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkRpY2VNb2RpZmllckJvbnVzJyksXG4gICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlcbiAgICB9XG5cbiAgICBjb25zdCBtYXggPSB0aGlzLmRpY2UudW5pdC50b3RhbCA9PT0gMCA/IDEwMCA6IDkwXG4gICAgY29uc3QgbWluID0gdGhpcy5kaWNlLnVuaXQudG90YWwgPT09IDAgPyAxMCA6IDBcbiAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLmRpY2UudG90YWwgLSB0aGlzLmRpY2UudW5pdC50b3RhbFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRpY2UudGVucy5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkaWUgPSB7fVxuICAgICAgZGllLnZhbHVlID0gdGhpcy5kaWNlLnRlbnMucmVzdWx0c1tpXVxuICAgICAgaWYgKGRpZS52YWx1ZSA9PT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSAxMDFcbiAgICAgICAgZGllLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICBpZiAodGhpcy5kaWNlcy5oYXNCb251cykge1xuICAgICAgICAgIGRpZS5pc01heCA9IHRydWVcbiAgICAgICAgICBkaWUuaXNNaW4gPSBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpZS5pc01pbiA9IHRydWVcbiAgICAgICAgICBkaWUuaXNNYXggPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGllLnZhbHVlID09PSBtYXgpIGRpZS5pc01heCA9IHRydWVcbiAgICAgICAgZWxzZSBkaWUuaXNNYXggPSBmYWxzZVxuICAgICAgICBpZiAoZGllLnZhbHVlID09PSBtaW4pIGRpZS5pc01pbiA9IHRydWVcbiAgICAgICAgZWxzZSBkaWUuaXNNaW4gPSBmYWxzZVxuICAgICAgfVxuICAgICAgLy8gaWYoIGRpZS52YWx1ZSA9PSAxMDApIGRpZS52YWx1ZSA9IFwiMDBcIjtcbiAgICAgIHRoaXMuZGljZXMudGVucy5wdXNoKGRpZSlcbiAgICB9XG4gICAgdGhpcy5jb21wdXRlQ2hlY2soKVxuICB9XG5cbiAgYXN5bmMgY29tcHV0ZUNoZWNrICgpIHtcbiAgICB0aGlzLmlzVW5rbm93biA9IHRoaXMudW5rbm93bkRpZmZpY3VsdHlcblxuICAgIGlmICh0aGlzLmdtRGlmZmljdWx0eVJlZ3VsYXIpIHtcbiAgICAgIHRoaXMuZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgIH1cbiAgICBpZiAodGhpcy5nbURpZmZpY3VsdHlIYXJkKSB0aGlzLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmRcbiAgICBpZiAodGhpcy5nbURpZmZpY3VsdHlFeHRyZW1lKSB7XG4gICAgICB0aGlzLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWVcbiAgICB9XG4gICAgaWYgKHRoaXMuZ21EaWZmaWN1bHR5Q3JpdGljYWwpIHtcbiAgICAgIHRoaXMuZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWxcbiAgICB9XG5cbiAgICB0aGlzLnRlbk9ubHlPbmVEaWUgPSB0aGlzLmRpY2VzLnRlbnMubGVuZ3RoID09PSAxXG5cbiAgICB0aGlzLmlzVmFsdWUgPSBmYWxzZVxuICAgIHRoaXMuaXNDaGFyYWN0aXJpc3RpYyA9IGZhbHNlXG4gICAgdGhpcy5pc1NraWxsID0gZmFsc2VcbiAgICB0aGlzLmlzSXRlbSA9IGZhbHNlXG4gICAgdGhpcy5pc0F0dHJpYnV0ZSA9IGZhbHNlXG4gICAgaWYgKHRoaXMuaXNTaW1wbGVSb2xsKSB7XG4gICAgICB0aGlzLmRlbnlQdXNoID0gdHJ1ZVxuICAgICAgdGhpcy5kZW55THVjayA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHRoaXMuYWN0b3IgPT0gbnVsbCkge1xuICAgICAgdGhpcy5pc1ZhbHVlID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jaGFyYWN0ZXJpc3RpYykge1xuICAgICAgICB0aGlzLmlzQ2hhcmFjdGlyaXN0aWMgPSB0cnVlXG4gICAgICAgIHRoaXMucmF3VmFsdWUgPVxuICAgICAgICAgIHRoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1t0aGlzLmNoYXJhY3RlcmlzdGljXS52YWx1ZVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5za2lsbCkge1xuICAgICAgICB0aGlzLmlzU2tpbGwgPSB0cnVlXG4gICAgICAgIHRoaXMucmF3VmFsdWUgPSB0aGlzLnNraWxsLnZhbHVlXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZSkge1xuICAgICAgICB0aGlzLmlzQXR0cmlidXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLnJhd1ZhbHVlID0gdGhpcy5hY3Rvci5zeXN0ZW0uYXR0cmlic1t0aGlzLmF0dHJpYnV0ZV0udmFsdWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubHVja1NwZW50ICYmICF0aGlzLmlzU2ltcGxlUm9sbCkge1xuICAgICAgaWYgKHRoaXMubW9kaWZpZWRSZXN1bHQgPD0gdGhpcy5yYXdWYWx1ZSkge1xuICAgICAgICB0aGlzLnN1Y2Nlc3NMZXZlbCA9IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhclxuICAgICAgfVxuICAgICAgaWYgKHRoaXMubW9kaWZpZWRSZXN1bHQgPD0gdGhpcy5oYXJkVGhyZXNob2xkKSB7XG4gICAgICAgIHRoaXMuc3VjY2Vzc0xldmVsID0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb2RpZmllZFJlc3VsdCA8PSB0aGlzLmV4dHJlbWVUaHJlc2hvbGQpIHtcbiAgICAgICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWVcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm1vZGlmaWVkUmVzdWx0ID4gdGhpcy5yYXdWYWx1ZSkge1xuICAgICAgICB0aGlzLnN1Y2Nlc3NMZXZlbCA9IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMubW9kaWZpZWRSZXN1bHQgPT09IDEpIHtcbiAgICAgICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mdW1ibGVUaHJlc2hvbGQgPD0gdGhpcy5tb2RpZmllZFJlc3VsdCkge1xuICAgICAgICB0aGlzLnN1Y2Nlc3NMZXZlbCA9IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZnVtYmxlXG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoICh0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXI6XG4gICAgICAgIHRoaXMucmVzdWx0VHlwZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUmVndWxhclN1Y2Nlc3MnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQ6XG4gICAgICAgIHRoaXMucmVzdWx0VHlwZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSGFyZFN1Y2Nlc3MnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWU6XG4gICAgICAgIHRoaXMucmVzdWx0VHlwZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXh0cmVtZVN1Y2Nlc3MnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsOlxuICAgICAgICB0aGlzLnJlc3VsdFR5cGUgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNyaXRpY2FsU3VjY2VzcycpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZnVtYmxlOlxuICAgICAgICB0aGlzLnJlc3VsdFR5cGUgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkZ1bWJsZScpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZTpcbiAgICAgICAgdGhpcy5yZXN1bHRUeXBlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5GYWlsdXJlJylcbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBpZiAodGhpcy51bmtub3duRGlmZmljdWx0eSkge1xuICAgICAgdGhpcy5zdWNjZXNzUmVxdWlyZWQgPSAnJ1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaW1wbGVSb2xsKSB7XG4gICAgICB0aGlzLnN1Y2Nlc3NSZXF1aXJlZCA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU3VjY2Vzc1JlcXVpcmVkJywge1xuICAgICAgICBzdWNjZXNzUmVxdWlyZWQ6IHRoaXMuZGlmZmljdWx0eVN0cmluZ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RpZmllZFJlc3VsdCA9PT0gMSkge1xuICAgICAgdGhpcy5zdWNjZXNzTGV2ZWwgPSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsXG4gICAgfVxuICAgIGlmICghdGhpcy5sdWNrU3BlbnQgJiYgIXRoaXMuaXNVbmtub3duICYmICF0aGlzLmlzU2ltcGxlUm9sbCkge1xuICAgICAgdGhpcy5pc0ZhaWx1cmUgPSB0aGlzLmZhaWxlZFxuICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSB0aGlzLnBhc3NlZFxuICAgIH1cblxuICAgIHRoaXMuaGFzTWFsZnVuY3Rpb24gPSBmYWxzZVxuICAgIGlmICh0aGlzLmlzRnVtYmxlKSB0aGlzLnN1Y2Nlc3NMZXZlbCA9IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZnVtYmxlXG5cbiAgICBpZiAodGhpcy5pdGVtKSB7XG4gICAgICB0aGlzLmlzSXRlbSA9IHRydWVcbiAgICAgIGlmICh0aGlzLml0ZW0uc3lzdGVtLm1hbGZ1bmN0aW9uKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBOdW1iZXIodGhpcy5tb2RpZmllZFJlc3VsdCkgPj0gTnVtYmVyKHRoaXMuaXRlbS5zeXN0ZW0ubWFsZnVuY3Rpb24pXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuaGFzTWFsZnVuY3Rpb24gPSB0cnVlXG4gICAgICAgICAgdGhpcy5tYWxmdW5jdGlvblR4dCA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWFsZnVuY3Rpb24nLCB7XG4gICAgICAgICAgICBpdGVtTmFtZTogdGhpcy5pdGVtLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGF3YWl0IHRoaXMuaXRlbS50b2dnbGVJdGVtRmxhZyhDb0M3SXRlbS5mbGFncy5tYWxmdW5jdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5jYW5CZVB1c2hlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuY2FuQmVQdXNoZWQgPSB0aGlzLnNraWxsID8gdGhpcy5za2lsbC5jYW5CZVB1c2hlZCgpIDogZmFsc2VcbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlcmlzdGljICE9IG51bGwpIHRoaXMuY2FuQmVQdXNoZWQgPSB0cnVlXG4gICAgICBpZiAodGhpcy5pc0Z1bWJsZSkgdGhpcy5jYW5CZVB1c2hlZCA9IGZhbHNlXG4gICAgICBpZiAodGhpcy5kZW55UHVzaCkgdGhpcy5jYW5CZVB1c2hlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmRlbnlMdWNrICYmIHRoaXMuYWN0b3IpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIXRoaXMubHVja1NwZW50ICYmXG4gICAgICAgICF0aGlzLnBhc3NlZCAmJlxuICAgICAgICAhdGhpcy5pc0Z1bWJsZSAmJlxuICAgICAgICB0aGlzLmRpZmZpY3VsdHkgIT09IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWwgJiZcbiAgICAgICAgIXRoaXMudW5rbm93bkRpZmZpY3VsdHlcbiAgICAgICkge1xuICAgICAgICBpZiAodGhpcy5za2lsbCB8fCB0aGlzLmNoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgICAgY29uc3QgbHVja05lZWRlZCA9IHRoaXMubW9kaWZpZWRSZXN1bHQgLSB0aGlzLnN1Y2Nlc1RocmVzaG9sZFxuICAgICAgICAgIGlmICh0aGlzLmFjdG9yLmx1Y2sgPiBsdWNrTmVlZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0Vub3VnaEx1Y2sgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmx1Y2tOZWVkZWQgPSBsdWNrTmVlZGVkXG4gICAgICAgICAgICB0aGlzLmx1Y2tOZWVkZWRUeHQgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNwZW5kTHVjaycsIHtcbiAgICAgICAgICAgICAgbHVja05lZWRlZFZhbHVlOiBsdWNrTmVlZGVkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMubHVja1NwZW50KSB7XG4gICAgICAgIHRoaXMuaW5jcmVhc2VTdWNjZXNzID0gW11cblxuICAgICAgICAvLyBDYW4ndCBzcGVuZCBsdWNrIG9uIHB1c2hlZCByb2xscy5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICF0aGlzLnB1c2hpbmcgJiZcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZSAhPT0gJ2xjaycgJiZcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZSAhPT0gJ3NhbidcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy51bmtub3duRGlmZmljdWx0eSAmJlxuICAgICAgICAgICAgdGhpcy5tb2RpZmllZFJlc3VsdCA+IHRoaXMucmVndWxhclRocmVzaG9sZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbmV4dExldmVsID0ge31cbiAgICAgICAgICAgIG5leHRMZXZlbC5kaWZmaWN1bHR5TmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgJ0NvQzcuUmVndWxhckRpZmZpY3VsdHknXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBuZXh0TGV2ZWwuZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhciAvLyBSRUZBQ1RPUklORyAoMSlcbiAgICAgICAgICAgIG5leHRMZXZlbC5sdWNrVG9TcGVuZCA9IHRoaXMubW9kaWZpZWRSZXN1bHQgLSB0aGlzLnJlZ3VsYXJUaHJlc2hvbGQgLy8gUkVGQUNUT1JJTkcgKDEpXG4gICAgICAgICAgICBuZXh0TGV2ZWwuaGFzRW5vdWdoTHVjayA9IG5leHRMZXZlbC5sdWNrVG9TcGVuZCA8PSB0aGlzLmFjdG9yLmx1Y2tcbiAgICAgICAgICAgIGlmIChuZXh0TGV2ZWwubHVja1RvU3BlbmQgPD0gdGhpcy5hY3Rvci5sdWNrKSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5jcmVhc2VTdWNjZXNzLnB1c2gobmV4dExldmVsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuZGlmZmljdWx0eSA8PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIgJiZcbiAgICAgICAgICAgIHRoaXMubW9kaWZpZWRSZXN1bHQgPiB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRMZXZlbCA9IHt9XG4gICAgICAgICAgICBuZXh0TGV2ZWwuZGlmZmljdWx0eU5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSGFyZERpZmZpY3VsdHknKVxuICAgICAgICAgICAgbmV4dExldmVsLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmQgLy8gUkVGQUNUT1JJTkcgKDEpXG4gICAgICAgICAgICBuZXh0TGV2ZWwubHVja1RvU3BlbmQgPSB0aGlzLm1vZGlmaWVkUmVzdWx0IC0gdGhpcy5oYXJkVGhyZXNob2xkIC8vIFJFRkFDVE9SSU5HICgxKVxuICAgICAgICAgICAgbmV4dExldmVsLmhhc0Vub3VnaEx1Y2sgPSBuZXh0TGV2ZWwubHVja1RvU3BlbmQgPD0gdGhpcy5hY3Rvci5sdWNrXG4gICAgICAgICAgICBpZiAobmV4dExldmVsLmx1Y2tUb1NwZW5kIDw9IHRoaXMuYWN0b3IubHVjaykge1xuICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlU3VjY2Vzcy5wdXNoKG5leHRMZXZlbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmRpZmZpY3VsdHkgPD0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5oYXJkICYmXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVkUmVzdWx0ID4gdGhpcy5leHRyZW1lVGhyZXNob2xkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TGV2ZWwgPSB7fVxuICAgICAgICAgICAgbmV4dExldmVsLmRpZmZpY3VsdHlOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5FeHRyZW1lRGlmZmljdWx0eSdcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIG5leHRMZXZlbC5kaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5leHRyZW1lXG4gICAgICAgICAgICBuZXh0TGV2ZWwubHVja1RvU3BlbmQgPSB0aGlzLm1vZGlmaWVkUmVzdWx0IC0gdGhpcy5leHRyZW1lVGhyZXNob2xkIC8vIFJFRkFDVE9SSU5HICgxKVxuICAgICAgICAgICAgbmV4dExldmVsLmhhc0Vub3VnaEx1Y2sgPSBuZXh0TGV2ZWwubHVja1RvU3BlbmQgPD0gdGhpcy5hY3Rvci5sdWNrIC8vIFJFRkFDVE9SSU5HICgxKVxuICAgICAgICAgICAgaWYgKG5leHRMZXZlbC5sdWNrVG9TcGVuZCA8PSB0aGlzLmFjdG9yLmx1Y2spIHtcbiAgICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVN1Y2Nlc3MucHVzaChuZXh0TGV2ZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FuSW5jcmVhc2VTdWNjZXNzID0gdGhpcy5pbmNyZWFzZVN1Y2Nlc3MubGVuZ3RoID4gMFxuICAgICAgaWYgKHRoaXMuaXNGdW1ibGUpIHRoaXMuY2FuSW5jcmVhc2VTdWNjZXNzID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLmNhbkF3YXJkRXhwZXJpZW5jZSA9XG4gICAgICB0aGlzLnNraWxsICYmICF0aGlzLnNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLm5veHBnYWluXG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnBhc3NlZCAmJlxuICAgICAgdGhpcy5kaWNlTW9kaWZpZXIgPD0gMCAmJlxuICAgICAgdGhpcy5za2lsbCAmJlxuICAgICAgIXRoaXMuc2tpbGwuc3lzdGVtLnByb3BlcnRpZXMubm94cGdhaW4gJiZcbiAgICAgICF0aGlzLmx1Y2tTcGVudCAmJlxuICAgICAgIXRoaXMuZm9yY2VkICYmXG4gICAgICAhdGhpcy5pc0JsaW5kICYmXG4gICAgICAhdGhpcy5pc1Vua25vd25cbiAgICApIHtcbiAgICAgIHRoaXMuZmxhZ0ZvckRldmVsb3BlbWVudCgpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBhd2FpdCBmcm9tVXVpZCh0aGlzLnBhcmVudClcbiAgICAgIGlmIChwYXJlbnQgJiYgJ3VwZGF0ZVJvbGwnIGluIHBhcmVudCkge1xuICAgICAgICBhd2FpdCBwYXJlbnQudXBkYXRlUm9sbCh0aGlzLkpTT05Sb2xsU3RyaW5nKVxuICAgICAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oIGBSb2xsICR7dGhpcy51dWlkfSBkZXBlbmRzIG9mICR7dGhpcy5wYXJlbnR9YClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzaG93RGljZVJvbGwgKCkge1xuICAgIGlmIChnYW1lLm1vZHVsZXMuZ2V0KCdkaWNlLXNvLW5pY2UnKT8uYWN0aXZlKSB7XG4gICAgICBjb25zdCBkaWNlUmVzdWx0cyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IGRpZVJlc3VsdCBvZiB0aGlzLmRpY2VzLnRlbnMpIHtcbiAgICAgICAgZGljZVJlc3VsdHMucHVzaChkaWVSZXN1bHQudmFsdWUgPT09IDEwMCA/IDAgOiBkaWVSZXN1bHQudmFsdWUgLyAxMClcbiAgICAgIH1cbiAgICAgIGRpY2VSZXN1bHRzLnB1c2godGhpcy5kaWNlcy51bml0LnZhbHVlKVxuXG4gICAgICBjb25zdCBkaWNlRGF0YSA9IHtcbiAgICAgICAgZm9ybXVsYTogYCR7dGhpcy5kaWNlcy50ZW5zLmxlbmd0aH1kMTAwKzFkMTBgLFxuICAgICAgICByZXN1bHRzOiBkaWNlUmVzdWx0cyxcbiAgICAgICAgd2hpc3BlcjogbnVsbCxcbiAgICAgICAgYmxpbmQ6IGZhbHNlXG4gICAgICB9XG4gICAgICBnYW1lLmRpY2UzZC5zaG93KGRpY2VEYXRhKVxuICAgIH1cbiAgfVxuXG4gIGdldCBjc3NDbGFzcyAoKSB7XG4gICAgbGV0IGNzc0NsYXNzID0gJydcbiAgICBpZiAodGhpcy5pc1N1Y2Nlc3MpIGNzc0NsYXNzID0gJ3N1Y2Nlc3MnXG4gICAgaWYgKHRoaXMuaXNGYWlsdXJlKSBjc3NDbGFzcyA9ICdmYWlsdXJlJ1xuICAgIGlmICh0aGlzLmlzQ3JpdGljYWwgJiYgIXRoaXMuaXNGYWlsdXJlKSBjc3NDbGFzcyA9ICdzdWNjZXNzIGNyaXRpY2FsJ1xuICAgIGlmICh0aGlzLmlzRnVtYmxlICYmICF0aGlzLmlzU3VjY2VzcykgY3NzQ2xhc3MgPSAnZmFpbHVyZSBmdW1ibGUnXG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhciA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGNzc0NsYXNzICs9ICcgcmVndWxhci1zdWNjZXNzJ1xuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgY3NzQ2xhc3MgKz0gJyBoYXJkLXN1Y2Nlc3MnXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWUgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBjc3NDbGFzcyArPSAnIGV4dHJlbWUtc3VjY2VzcydcbiAgICB9XG5cbiAgICByZXR1cm4gY3NzQ2xhc3NcbiAgfVxuXG4gIGdldCBjc3NDbGFzc0xpc3QgKCkge1xuICAgIGNvbnN0IGNzc0NsYXNzID0gW11cbiAgICBpZiAodGhpcy5pc1N1Y2Nlc3MpIGNzc0NsYXNzLnB1c2goJ3N1Y2Nlc3MnKVxuICAgIGlmICh0aGlzLmlzRmFpbHVyZSkgY3NzQ2xhc3MucHVzaCgnZmFpbHVyZScpXG4gICAgaWYgKHRoaXMuaXNDcml0aWNhbCAmJiAhdGhpcy5pc0ZhaWx1cmUpIGNzc0NsYXNzLnB1c2goJ3N1Y2Nlc3MnLCAnY3JpdGljYWwnKVxuICAgIGlmICh0aGlzLmlzRnVtYmxlICYmICF0aGlzLmlzU3VjY2VzcykgY3NzQ2xhc3MucHVzaCgnZmFpbHVyZScsICdmdW1ibGUnKVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXIgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBjc3NDbGFzcy5wdXNoKCdyZWd1bGFyLXN1Y2Nlc3MnKVxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgY3NzQ2xhc3MucHVzaCgnaGFyZC1zdWNjZXNzJylcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGNzc0NsYXNzLnB1c2goJ2V4dHJlbWUtc3VjY2VzcycpXG4gICAgfVxuXG4gICAgcmV0dXJuIGNzc0NsYXNzXG4gIH1cblxuICBnZXQgcGxheWVyQ3NzQ2xhc3MgKCkge1xuICAgIGlmICh0aGlzLmlzU3VjY2VzcyB8fCB0aGlzLmZvcmNlZFN1Y2Nlc3MpIHJldHVybiAnc3VjY2VzcydcbiAgICBpZiAodGhpcy5pc0ZhaWx1cmUgfHwgdGhpcy5mb3JjZWRGYWlsdXJlKSByZXR1cm4gJ2ZhaWx1cmUnXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFzeW5jIHVwZ3JhZGVDaGVjayAodXBncmFkZWluZGV4LCB1cGRhdGUgPSB0cnVlKSB7XG4gICAgY29uc3QgaW5jcmVhc2VkU3VjY2VzcyA9IHRoaXMuaW5jcmVhc2VTdWNjZXNzW3VwZ3JhZGVpbmRleF1cbiAgICBjb25zdCBsdWNrQW1vdW50ID1cbiAgICAgIHBhcnNlSW50KGluY3JlYXNlZFN1Y2Nlc3MubHVja0Ftb3VudCkgfHxcbiAgICAgIHBhcnNlSW50KGluY3JlYXNlZFN1Y2Nlc3MubHVja1RvU3BlbmQpIC8vIFJFRkFDVE9SSU5HICgxKVxuICAgIGlmICghdGhpcy5hY3Rvci5zcGVuZEx1Y2sobHVja0Ftb3VudCkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JOb3RFbm91Z2hMdWNrJywge1xuICAgICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yLm5hbWVcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLnRvdGFsTHVja1NwZW50ID0gIXBhcnNlSW50KHRoaXMudG90YWxMdWNrU3BlbnQpXG4gICAgICA/IDBcbiAgICAgIDogcGFyc2VJbnQodGhpcy50b3RhbEx1Y2tTcGVudClcbiAgICB0aGlzLnRvdGFsTHVja1NwZW50ICs9IHBhcnNlSW50KGx1Y2tBbW91bnQpXG4gICAgY29uc3QgbmV3U3VjY2Vzc0xldmVsID1cbiAgICAgIHBhcnNlSW50KGluY3JlYXNlZFN1Y2Nlc3MubmV3U3VjY2Vzc0xldmVsKSB8fFxuICAgICAgcGFyc2VJbnQoaW5jcmVhc2VkU3VjY2Vzcy5kaWZmaWN1bHR5KSAvLyBSRUZBQ1RPUklORyAoMSlcbiAgICB0aGlzLnN1Y2Nlc3NMZXZlbCA9IG5ld1N1Y2Nlc3NMZXZlbFxuICAgIGlmICh0aGlzLmRpZmZpY3VsdHkgPD0gbmV3U3VjY2Vzc0xldmVsKSB7XG4gICAgICB0aGlzLmlzU3VjY2VzcyA9IHRydWVcbiAgICAgIHRoaXMuaXNGYWlsdXJlID0gZmFsc2VcbiAgICB9XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHVwZ3JhZGVpbmRleCArIDE7IGluZGV4KyspIHtcbiAgICAgIHRoaXMuaW5jcmVhc2VTdWNjZXNzLnNoaWZ0KClcbiAgICB9XG4gICAgZm9yIChjb25zdCBzIG9mIHRoaXMuaW5jcmVhc2VTdWNjZXNzKSB7XG4gICAgICBzLmx1Y2tUb1NwZW5kID0gcy5sdWNrVG9TcGVuZCAtIGx1Y2tBbW91bnRcbiAgICB9XG4gICAgdGhpcy5sdWNrU3BlbnQgPSB0cnVlXG4gICAgdGhpcy5jb21wdXRlQ2hlY2soKVxuICAgIGlmICh1cGRhdGUpIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIHJlbW92ZVVwZ3JhZGVzICgpIHtcbiAgICB0aGlzLmNhbkluY3JlYXNlU3VjY2VzcyA9IGZhbHNlXG4gICAgdGhpcy5pbmNyZWFzZVN1Y2Nlc3MgPSBbXVxuICAgIHRoaXMubHVja05lZWRlZCA9IDBcbiAgICB0aGlzLmx1Y2tOZWVkZWRUeHQgPSBudWxsXG4gICAgdGhpcy5jYW5CZVB1c2hlZCA9IGZhbHNlXG4gIH1cblxuICBmb3JjZVBhc3MgKGx1Y2tBbW91bnQgPSBudWxsLCB1cGRhdGUgPSB0cnVlKSB7XG4gICAgaWYgKGx1Y2tBbW91bnQpIHtcbiAgICAgIHRoaXMuYWN0b3Iuc3BlbmRMdWNrKGx1Y2tBbW91bnQpXG4gICAgICB0aGlzLnN1Y2Nlc3NMZXZlbCA9IHRoaXMuZGlmZmljdWx0eVxuICAgICAgZm9yIChjb25zdCBzIG9mIHRoaXMuaW5jcmVhc2VTdWNjZXNzKSB7XG4gICAgICAgIHMubHVja1RvU3BlbmQgPSBzLmx1Y2tUb1NwZW5kIC0gbHVja0Ftb3VudFxuICAgICAgfVxuICAgICAgdGhpcy5sdWNrU3BlbnQgPSB0cnVlXG4gICAgICB0aGlzLmlzU3VjY2VzcyA9IHRydWVcbiAgICAgIHRoaXMuaXNGYWlsdXJlID0gZmFsc2VcbiAgICAgIHRoaXMudG90YWxMdWNrU3BlbnQgPSAhcGFyc2VJbnQodGhpcy50b3RhbEx1Y2tTcGVudClcbiAgICAgICAgPyAwXG4gICAgICAgIDogcGFyc2VJbnQodGhpcy50b3RhbEx1Y2tTcGVudClcbiAgICAgIHRoaXMudG90YWxMdWNrU3BlbnQgKz0gcGFyc2VJbnQobHVja0Ftb3VudClcbiAgICAgIHRoaXMuY29tcHV0ZUNoZWNrKClcbiAgICAgIGlmICh1cGRhdGUpIHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvcmNlZCA9IHRydWVcbiAgICAgIHRoaXMuZm9yY2VkU3VjY2VzcyA9IHRydWVcbiAgICAgIGlmICh0aGlzLmlzVW5rbm93bikge1xuICAgICAgICB0aGlzLmZvcmNlU3VjY2Vzc0xldmVsKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwucmVndWxhciwgdXBkYXRlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb3JjZVN1Y2Nlc3NMZXZlbCh0aGlzLmRpZmZpY3VsdHksIHVwZGF0ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3JjZUZhaWwgKHVwZGF0ZSA9IHRydWUpIHtcbiAgICB0aGlzLmZvcmNlZCA9IHRydWVcbiAgICB0aGlzLmZvcmNlZEZhaWx1cmUgPSB0cnVlXG4gICAgaWYgKHRoaXMuaXNVbmtub3duKSB7XG4gICAgICB0aGlzLmZvcmNlU3VjY2Vzc0xldmVsKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZSwgdXBkYXRlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvcmNlU3VjY2Vzc0xldmVsKHRoaXMuZGlmZmljdWx0eSAtIDEsIHVwZGF0ZSlcbiAgICB9XG4gIH1cblxuICBfZm9yY2VDaGVjayAoaGlnaCwgbG93LCB1cGRhdGUgPSB0cnVlKSB7XG4gICAgbGV0IHRvdGFsID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGhpZ2ggLSBsb3cpKSArIGxvdyArIDFcbiAgICBjb25zdCB1bml0VG90YWwgPSB0b3RhbCAlIDEwXG4gICAgbGV0IHRlblRvdGFsID0gTWF0aC5mbG9vcih0b3RhbCAvIDEwKVxuICAgIGNvbnN0IHRlbnMgPSBbXVxuXG4gICAgbGV0IGhhc0Vub3VnaCA9IE1hdGguYWJzKHRoaXMuZGljZU1vZGlmaWVyKSA9PT0gdGVucy5sZW5ndGhcbiAgICB3aGlsZSAoIWhhc0Vub3VnaCkge1xuICAgICAgbGV0IHRlbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKVxuICAgICAgbGV0IHJvbGwgPSB0ZW4gKiAxMCArIHVuaXRUb3RhbFxuICAgICAgaWYgKHJvbGwgPT09IDApIHtcbiAgICAgICAgcm9sbCA9IDEwMFxuICAgICAgICB0ZW4gPSAxMDBcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc1BlbmFsdHkgJiYgcm9sbCA8PSBoaWdoKSB7XG4gICAgICAgIHRlbnMucHVzaCh0ZW4pXG4gICAgICAgIGlmIChyb2xsID4gdG90YWwpIHRvdGFsID0gcm9sbFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaGFzQm9udXMgJiYgcm9sbCA+IGxvdykge1xuICAgICAgICB0ZW5zLnB1c2godGVuKVxuICAgICAgICBpZiAocm9sbCA8IHRvdGFsKSB0b3RhbCA9IHJvbGxcbiAgICAgIH1cbiAgICAgIGhhc0Vub3VnaCA9IHRlbnMubGVuZ3RoID09PSBNYXRoLmFicyh0aGlzLmRpY2VNb2RpZmllcilcbiAgICB9XG5cbiAgICAvLyBJbnNlcnQgcmVzdWx0IGF0IHJhbmRvbSBwb3NpdGlvbi5cbiAgICBpZiAodGVuVG90YWwgPT09IDEwICYmIHVuaXRUb3RhbCA9PT0gMCkge1xuICAgICAgdGVuVG90YWwgPSAxMDBcbiAgICB9XG4gICAgdGVucy5zcGxpY2UoXG4gICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0ZW5zLmxlbmd0aCArIDEpLFxuICAgICAgMCxcbiAgICAgIHRlblRvdGFsID09PSAxMCA/IDAgOiB0ZW5Ub3RhbFxuICAgIClcblxuICAgIHRoaXMuZGljZXMudGVucyA9IFtdXG4gICAgdGhpcy5kaWNlcy51bml0LnZhbHVlID0gdW5pdFRvdGFsXG4gICAgdGhpcy5tb2RpZmllZFJlc3VsdCA9IHRvdGFsXG4gICAgdGhpcy5kaWNlcy50b3RhbCA9IHRvdGFsXG4gICAgdGhpcy5kaWNlcy50ZW5SZXN1bHQgPSB0b3RhbCAtIHVuaXRUb3RhbFxuXG4gICAgY29uc3QgbWF4ID0gdW5pdFRvdGFsID09PSAwID8gMTAwIDogOTBcbiAgICBjb25zdCBtaW4gPSB1bml0VG90YWwgPT09IDAgPyAxMCA6IDBcbiAgICBsZXQgc2VsZWN0ZWQgPSB0b3RhbCAtIHVuaXRUb3RhbFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkaWUgPSB7fVxuICAgICAgZGllLnZhbHVlID0gdGVuc1tpXVxuICAgICAgaWYgKGRpZS52YWx1ZSA9PT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSAxMDFcbiAgICAgICAgZGllLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICBpZiAodGhpcy5oYXNCb251cykge1xuICAgICAgICAgIGRpZS5pc01heCA9IHRydWVcbiAgICAgICAgICBkaWUuaXNNaW4gPSBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpZS5pc01pbiA9IHRydWVcbiAgICAgICAgICBkaWUuaXNNYXggPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGllLnZhbHVlID09PSBtYXgpIGRpZS5pc01heCA9IHRydWVcbiAgICAgICAgZWxzZSBkaWUuaXNNYXggPSBmYWxzZVxuICAgICAgICBpZiAoZGllLnZhbHVlID09PSBtaW4pIGRpZS5pc01pbiA9IHRydWVcbiAgICAgICAgZWxzZSBkaWUuaXNNaW4gPSBmYWxzZVxuICAgICAgfVxuICAgICAgLy8gaWYoIGRpZS52YWx1ZSA9PSAxMDApIGRpZS52YWx1ZSA9IFwiMDBcIjtcbiAgICAgIHRoaXMuZGljZXMudGVucy5wdXNoKGRpZSlcbiAgICB9XG5cbiAgICB0aGlzLmNvbXB1dGVDaGVjaygpXG4gICAgaWYgKHVwZGF0ZSkgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICBmb3JjZVN1Y2Nlc3NMZXZlbCAoc3VjY2Vzc0xldmVsLCB1cGRhdGUgPSB0cnVlKSB7XG4gICAgbGV0IGhpZ2gsIGxvd1xuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmZ1bWJsZSA9PT0gc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gMTAwXG4gICAgICBsb3cgPSB0aGlzLmZ1bWJsZVRocmVzaG9sZCAtIDFcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZSA9PT0gc3VjY2Vzc0xldmVsKSB7XG4gICAgICBpZiAodGhpcy5yZWd1bGFyVGhyZXNob2xkID09PSB0aGlzLmZ1bWJsZVRocmVzaG9sZCAtIDEpIHtcbiAgICAgICAgaGlnaCA9IDEwMFxuICAgICAgfSBlbHNlIGhpZ2ggPSB0aGlzLmZ1bWJsZVRocmVzaG9sZCAtIDFcbiAgICAgIGxvdyA9IHRoaXMucmVndWxhclRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5yZWd1bGFyID09PSBzdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICAgIGxvdyA9IHRoaXMuaGFyZFRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5oYXJkID09PSBzdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLmhhcmRUaHJlc2hvbGRcbiAgICAgIGxvdyA9IHRoaXMuZXh0cmVtZVRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lID09PSBzdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLmV4dHJlbWVUaHJlc2hvbGRcbiAgICAgIGxvdyA9IDFcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuY3JpdGljYWwgPT09IHN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IDFcbiAgICAgIGxvdyA9IDBcbiAgICB9XG4gICAgaWYgKGhpZ2ggPT09IGxvdykgbG93LS1cbiAgICBpZiAoaGlnaCA9PT0gMCkgaGlnaCA9IHRoaXMuZnVtYmxlVGhyZXNob2xkIC0gMVxuICAgIHRoaXMuX2ZvcmNlQ2hlY2soaGlnaCwgbG93LCB1cGRhdGUpXG4gIH1cblxuICBpbmNyZWFzZVN1Y2Nlc3NMZXZlbCAodXBkYXRlID0gdHJ1ZSkge1xuICAgIGxldCBoaWdoLCBsb3dcbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5mdW1ibGUgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5mdW1ibGVUaHJlc2hvbGQgLSAxXG4gICAgICBpZiAodGhpcy5yZWd1bGFyVGhyZXNob2xkID09PSB0aGlzLmZ1bWJsZVRocmVzaG9sZCAtIDEpIHtcbiAgICAgICAgbG93ID0gdGhpcy5oYXJkVGhyZXNob2xkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb3cgPSB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZSA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICAgIGxvdyA9IHRoaXMuaGFyZFRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5yZWd1bGFyID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IHRoaXMuaGFyZFRocmVzaG9sZFxuICAgICAgbG93ID0gdGhpcy5leHRyZW1lVGhyZXNob2xkXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5leHRyZW1lVGhyZXNob2xkXG4gICAgICBsb3cgPSB0aGlzLmNyaXRpY2FsVGhyZXNob2xkXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWUgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5jcml0aWNhbFRocmVzaG9sZFxuICAgICAgbG93ID0gMFxuICAgIH1cbiAgICBpZiAoaGlnaCA9PT0gbG93KSBsb3ctLVxuICAgIHRoaXMuX2ZvcmNlQ2hlY2soaGlnaCwgbG93LCB1cGRhdGUpXG4gIH1cblxuICBkZWNyZWFzZVN1Y2Nlc3NMZXZlbCAodXBkYXRlID0gdHJ1ZSkge1xuICAgIGxldCBoaWdoLCBsb3dcbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5mYWlsdXJlID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IDEwMFxuICAgICAgbG93ID0gdGhpcy5mdW1ibGVUaHJlc2hvbGQgLSAxXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXIgPT09IHRoaXMuc3VjY2Vzc0xldmVsKSB7XG4gICAgICBoaWdoID0gdGhpcy5mdW1ibGVUaHJlc2hvbGQgLSAxXG4gICAgICBsb3cgPSB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICB9XG4gICAgaWYgKENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuaGFyZCA9PT0gdGhpcy5zdWNjZXNzTGV2ZWwpIHtcbiAgICAgIGhpZ2ggPSB0aGlzLnJlZ3VsYXJUaHJlc2hvbGRcbiAgICAgIGxvdyA9IHRoaXMuaGFyZFRocmVzaG9sZFxuICAgIH1cbiAgICBpZiAoQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IHRoaXMuaGFyZFRocmVzaG9sZFxuICAgICAgbG93ID0gdGhpcy5leHRyZW1lVGhyZXNob2xkXG4gICAgfVxuICAgIGlmIChDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsID09PSB0aGlzLnN1Y2Nlc3NMZXZlbCkge1xuICAgICAgaGlnaCA9IHRoaXMuZXh0cmVtZVRocmVzaG9sZFxuICAgICAgbG93ID0gMVxuICAgIH1cbiAgICBpZiAoaGlnaCA9PT0gMCkgaGlnaCA9IHRoaXMuZnVtYmxlVGhyZXNob2xkIC0gMVxuICAgIHRoaXMuX2ZvcmNlQ2hlY2soaGlnaCwgbG93LCB1cGRhdGUpXG4gIH1cblxuICBhc3luYyBmbGFnRm9yRGV2ZWxvcGVtZW50ICgpIHtcbiAgICB0aGlzLmZsYWdnZWRGb3JEZXZlbG9wbWVudCA9IHRydWVcbiAgICBpZiAodGhpcy5za2lsbCkgYXdhaXQgdGhpcy5za2lsbC5mbGFnRm9yRGV2ZWxvcGVtZW50KClcbiAgfVxuXG4gIHNldCBkaWZmaWN1bHR5ICh4KSB7XG4gICAgdGhpcy5fZGlmZmljdWx0eSA9IHBhcnNlSW50KHgpXG4gIH1cblxuICBnZXQgZGlmZmljdWx0eSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RpZmZpY3VsdHlcbiAgfVxuXG4gIHNldCBmbGF2b3IgKHgpIHtcbiAgICB0aGlzLl9mbGF2b3IgPSB4XG4gIH1cblxuICBzZXQgY29udGV4dCAoeCkge1xuICAgIHRoaXMuX2NvbnRleHQgPSB4XG4gIH1cblxuICBnZXQgY29udGV4dCAoKSB7XG4gICAgaWYgKCF0aGlzLl9jb250ZXh0KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuX2NvbnRleHRcbiAgfVxuXG4gIHNldCBwYXJlbnQgKHgpIHtcbiAgICBpZiAoIXRoaXMudXVpZCkgdGhpcy51dWlkID0gZm91bmRyeS51dGlscy5yYW5kb21JRCgxNilcbiAgICB0aGlzLnBhcmVudFV1aWQgPSB4XG4gIH1cblxuICBnZXQgcGFyZW50ICgpIHtcbiAgICBpZiAoIXRoaXMucGFyZW50VXVpZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLnBhcmVudFV1aWRcbiAgfVxuXG4gIGdldCBmbGF2b3IgKCkge1xuICAgIGlmICh0aGlzLl9mbGF2b3IpIHJldHVybiB0aGlzLl9mbGF2b3JcbiAgICBsZXQgZmxhdm9yID0gJydcbiAgICBpZiAodGhpcy5hY3Rvcj8uc3lzdGVtKSB7XG4gICAgICBpZiAodGhpcy5za2lsbCkge1xuICAgICAgICBmbGF2b3IgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNoZWNrUmVzdWx0Jywge1xuICAgICAgICAgIG5hbWU6IHRoaXMuc2tpbGwubmFtZSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5yYXdWYWx1ZVN0cmluZyxcbiAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmdcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pdGVtKSB7XG4gICAgICAgIGZsYXZvciA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuSXRlbUNoZWNrUmVzdWx0Jywge1xuICAgICAgICAgIGl0ZW06IHRoaXMuaXRlbS5uYW1lLFxuICAgICAgICAgIHNraWxsOiB0aGlzLnNraWxsLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMucmF3VmFsdWVTdHJpbmcsXG4gICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgICAgZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5DaGVja1Jlc3VsdCcsIHtcbiAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgdGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzW3RoaXMuY2hhcmFjdGVyaXN0aWNdLmxhYmVsXG4gICAgICAgICAgKSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5yYXdWYWx1ZVN0cmluZyxcbiAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmdcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5hdHRyaWJ1dGUpIHtcbiAgICAgICAgZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5DaGVja1Jlc3VsdCcsIHtcbiAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgYENvQzcuJHt0aGlzLmFjdG9yLnN5c3RlbS5hdHRyaWJzW3RoaXMuYXR0cmlidXRlXS5sYWJlbH1gXG4gICAgICAgICAgKSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5yYXdWYWx1ZVN0cmluZyxcbiAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmdcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXNwbGF5TmFtZSkge1xuICAgICAgICBmbGF2b3IgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNoZWNrUmVzdWx0Jywge1xuICAgICAgICAgIG5hbWU6IHRoaXMuZGlzcGxheU5hbWUsXG4gICAgICAgICAgdmFsdWU6IHRoaXMucmF3VmFsdWVTdHJpbmcsXG4gICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFmbGF2b3IpIHtcbiAgICAgIGlmICh0aGlzLnJhd1ZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5DaGVja1Jlc3VsdCcsIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5yYXdWYWx1ZVN0cmluZyxcbiAgICAgICAgICAgIGRpZmZpY3VsdHk6IHRoaXMuZGlmZmljdWx0eVN0cmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5DaGVja1Jhd1ZhbHVlJywge1xuICAgICAgICAgICAgcmF3dmFsdWU6IHRoaXMucmF3VmFsdWUsXG4gICAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmdcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHVzaGluZykge1xuICAgICAgZmxhdm9yID0gYCR7Z2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QdXNoaW5nJyl9ICR7Zmxhdm9yfWBcbiAgICB9XG5cbiAgICByZXR1cm4gZmxhdm9yXG4gIH1cblxuICBnZXQgdG9vbHRpcEhlYWRlciAoKSB7XG4gICAgaWYgKHRoaXMuYXR0cmlidXRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgIGBDb0M3LkxpbmtDaGVjayR7XG4gICAgICAgICAgICB0aGlzLmRpZmZpY3VsdHkgPT09IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhciA/ICcnIDogJ0RpZmYnXG4gICAgICAgICAgfSR7IXRoaXMuZGljZU1vZGlmaWVyID8gJycgOiAnTW9kaWYnfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlmZmljdWx0eTogdGhpcy5kaWZmaWN1bHR5U3RyaW5nLFxuICAgICAgICAgICAgbW9kaWZpZXI6IHRoaXMuZGljZU1vZGlmaWVyLFxuICAgICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgYENvQzcuJHt0aGlzLmFjdG9yLnN5c3RlbS5hdHRyaWJzW3RoaXMuYXR0cmlidXRlXS5sYWJlbH1gXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICApICsgYCAoJHt0aGlzLmFjdG9yLnN5c3RlbS5hdHRyaWJzW3RoaXMuYXR0cmlidXRlXS52YWx1ZX0lKWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgYENvQzcuTGlua0NoZWNrJHtcbiAgICAgICAgICAgIHRoaXMuZGlmZmljdWx0eSA9PT0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyID8gJycgOiAnRGlmZidcbiAgICAgICAgICB9JHshdGhpcy5kaWNlTW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmcsXG4gICAgICAgICAgICBtb2RpZmllcjogdGhpcy5kaWNlTW9kaWZpZXIsXG4gICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgIHRoaXMuYWN0b3Iuc3lzdGVtLmNoYXJhY3RlcmlzdGljc1t0aGlzLmNoYXJhY3RlcmlzdGljXS5sYWJlbFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKSArXG4gICAgICAgIGAgKCR7dGhpcy5hY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzW3RoaXMuY2hhcmFjdGVyaXN0aWNdLnZhbHVlfSUpYFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAodGhpcy5za2lsbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICBgQ29DNy5MaW5rQ2hlY2ske1xuICAgICAgICAgICAgdGhpcy5kaWZmaWN1bHR5ID09PSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXIgPyAnJyA6ICdEaWZmJ1xuICAgICAgICAgIH0keyF0aGlzLmRpY2VNb2RpZmllciA/ICcnIDogJ01vZGlmJ31gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpZmZpY3VsdHk6IHRoaXMuZGlmZmljdWx0eVN0cmluZyxcbiAgICAgICAgICAgIG1vZGlmaWVyOiB0aGlzLmRpY2VNb2RpZmllcixcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuc2tpbGwubmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgKSArIGAgKCR7dGhpcy5za2lsbC52YWx1ZX0lKWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzcGxheU5hbWUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgYENvQzcuTGlua0NoZWNrJHtcbiAgICAgICAgICAgIHRoaXMuZGlmZmljdWx0eSA9PT0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyID8gJycgOiAnRGlmZidcbiAgICAgICAgICB9JHshdGhpcy5kaWNlTW9kaWZpZXIgPyAnJyA6ICdNb2RpZid9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHlTdHJpbmcsXG4gICAgICAgICAgICBtb2RpZmllcjogdGhpcy5kaWNlTW9kaWZpZXIsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLmRpc3BsYXlOYW1lXG4gICAgICAgICAgfVxuICAgICAgICApICsgYCAoJHt0aGlzLnJhd1ZhbHVlU3RyaW5nfSUpYFxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgYXN5bmMgZ2V0SHRtbFJvbGxFbGVtZW50IChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvcm9sbHMvaW4tY2FyZC1yb2xsLmh0bWwnXG4gICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5vcHRpb25zID0gbWVyZ2VPYmplY3QodGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgIGVsc2UgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcylcbiAgICBpZiAoaHRtbCkgcmV0dXJuICQucGFyc2VIVE1MKGh0bWwpWzBdXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFzeW5jIGdldEh0bWxSb2xsIChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvcm9sbHMvaW4tY2FyZC1yb2xsLmh0bWwnXG4gICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5vcHRpb25zID0gbWVyZ2VPYmplY3QodGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgIGVsc2UgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcylcbiAgICByZXR1cm4gaHRtbCB8fCB1bmRlZmluZWRcbiAgfVxuXG4gIGFzeW5jIHRvTWVzc2FnZSAocHVzaGluZyA9IGZhbHNlKSB7XG4gICAgLy8gSWYgY2FyZCBpcyBwcm92aWRlZCBhdHR0YWNoZWQgdGhlIHJvbGwgdG8gdGhlIGNhcmQuIElmIFVSSUQgcHJvdmlkZWQgYXR0YWNoIGF0IHRoaXMgcG9zaXRpb24uP1xuICAgIHRoaXMucHVzaGluZyA9IHB1c2hpbmdcbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2NoYXQvcm9sbC1yZXN1bHQuaHRtbCdcblxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcylcblxuICAgIGNvbnN0IHNwZWFrZXJEYXRhID0ge31cbiAgICBsZXQgc3BlYWtlclxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICBpZiAodGhpcy5hY3Rvci5pc1Rva2VuKSB7XG4gICAgICAgIHNwZWFrZXJEYXRhLnRva2VuID0gdGhpcy50b2tlbi5kb2N1bWVudFxuICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdG9yLmlzRHVtbXkpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0b3IubmFtZSkgc3BlYWtlciA9IHsgYWxpYXM6IHRoaXMuYWN0b3IubmFtZSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGVha2VyRGF0YS5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICAgIH1cbiAgICAgIHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKHNwZWFrZXJEYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpXG4gICAgfVxuXG4gICAgY29uc3QgdXNlciA9IHRoaXMuYWN0b3I/LnVzZXIgPyB0aGlzLmFjdG9yLnVzZXIgOiBnYW1lLnVzZXJcblxuICAgIGNvbnN0IGNoYXREYXRhID0ge1xuICAgICAgdXNlcjogdXNlci5pZCxcbiAgICAgIHNwZWFrZXIsXG4gICAgICBmbGF2b3I6IHRoaXMuZmxhdm9yLFxuICAgICAgY29udGVudDogaHRtbCxcbiAgICAgIGZsYWdzOiB7XG4gICAgICAgIENvQzc6IHtcbiAgICAgICAgICB0eXBlOiBDb0M3Q2hlY2suY2FyZFR5cGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnV1aWQpIGNoYXREYXRhLmZsYWdzLkNvQzcudXVpZCA9IHRoaXMudXVpZFxuICAgIGlmICh0aGlzLmNvbnRleHQpIGNoYXREYXRhLmZsYWdzLkNvQzcuY29udGV4dCA9IHRoaXMuY29udGV4dFxuXG4gICAgaWYgKHRoaXMucm9sbE1vZGUgPT09ICdzZWxmcm9sbCcpIHtcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBjaGF0RGF0YS51c2VyID0gZ2FtZS51c2VyLmlkXG4gICAgICAgIGNoYXREYXRhLmZsYXZvciA9IGBbJHt0aGlzLmFjdG9yLm5hbWV9XSAke2NoYXREYXRhLmZsYXZvcn1gXG4gICAgICAgIGNoYXREYXRhLmZsYWdzID0ge1xuICAgICAgICAgIENvQzc6IHtcbiAgICAgICAgICAgIEdNU2VsZlJvbGw6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjaGF0RGF0YS5zcGVha2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNoYXREYXRhLmZsYWdzLkNvQzcub3JpZ2luYWxTcGVha2VyID0gZHVwbGljYXRlKGNoYXREYXRhLnNwZWFrZXIpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgICAgc3dpdGNoIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzZWxmUm9sbFdoaXNwZXJUYXJnZXQnKSkge1xuICAgICAgICAgICAgY2FzZSAnb3duZXJzJzpcbiAgICAgICAgICAgICAgZGVsZXRlIGNoYXREYXRhLnNwZWFrZXJcbiAgICAgICAgICAgICAgY2hhdERhdGEud2hpc3BlciA9IHRoaXMuYWN0b3Iub3duZXJzXG4gICAgICAgICAgICAgIGNoYXREYXRhLnR5cGUgPSBDT05TVC5DSEFUX01FU1NBR0VfVFlQRVMuV0hJU1BFUlxuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlICdldmVyeW9uZSc6XG4gICAgICAgICAgICAgIGRlbGV0ZSBjaGF0RGF0YS5zcGVha2VyXG4gICAgICAgICAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBnYW1lLnVzZXJzLnBsYXllcnNcbiAgICAgICAgICAgICAgY2hhdERhdGEudHlwZSA9IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5XSElTUEVSXG4gICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIENoYXRNZXNzYWdlLmFwcGx5Um9sbE1vZGUoY2hhdERhdGEsIHRoaXMucm9sbE1vZGUpXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgQ2hhdE1lc3NhZ2UuYXBwbHlSb2xsTW9kZShjaGF0RGF0YSwgdGhpcy5yb2xsTW9kZSlcbiAgICB9XG5cbiAgICBpZiAoWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXModGhpcy5yb2xsTW9kZSkpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgIH1cbiAgICBpZiAodGhpcy5yb2xsTW9kZSA9PT0gJ2JsaW5kcm9sbCcpIGNoYXREYXRhLmJsaW5kID0gdHJ1ZVxuXG4gICAgLy8gQ2hhdE1lc3NhZ2UuYXBwbHlSb2xsTW9kZSggY2hhdERhdGEsIHRoaXMucm9sbE1vZGUpO1xuICAgIGlmICh0aGlzLmRpY2U/LnJvbGwgJiYgIXRoaXMuZGljZT8uaGlkZURpY2UpIHtcbiAgICAgIGNoYXREYXRhLnJvbGwgPSB0aGlzLmRpY2Uucm9sbFxuICAgICAgY2hhdERhdGEudHlwZSA9IENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5ST0xMXG4gICAgICBjaGF0RGF0YS5yb2xsTW9kZSA9IHRoaXMuaXNCbGluZCA/ICdibGluZHJvbGwnIDogdGhpcy5yb2xsTW9kZVxuICAgIH1cblxuICAgIENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSkudGhlbihtc2cgPT4ge1xuICAgICAgcmV0dXJuIG1zZ1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHsqfSBtYWtlUHVibGljICBXaWxsIGNoYW5nZSB0aGUgcm9sbCBtb2RlIHRvIHB1YmxpY1xuICAgKi9cbiAgYXN5bmMgdXBkYXRlQ2hhdENhcmQgKHsgbWFrZVB1YmxpYyA9IGZhbHNlLCBmb3JjZVJvbGwgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBpZiAobWFrZVB1YmxpYykgdGhpcy5yb2xsTW9kZSA9IGZhbHNlIC8vIHJlc2V0IHJvbGwgbW9kZVxuXG4gICAgY29uc3QgY2hhdERhdGEgPSB7IGZsYXZvcjogdGhpcy5mbGF2b3IgfVxuXG4gICAgaWYgKG1ha2VQdWJsaWMpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBbXVxuICAgICAgY2hhdERhdGEuYmxpbmQgPSBmYWxzZVxuICAgICAgQ2hhdE1lc3NhZ2UuYXBwbHlSb2xsTW9kZShjaGF0RGF0YSlcbiAgICB9IC8vIGVsc2Uge1xuICAgIC8vIGNoYXREYXRhLndoaXNwZXIgPSBbXVxuICAgIC8vIGNoYXREYXRhLmJsaW5kID0gZmFsc2VcbiAgICAvLyBDaGF0TWVzc2FnZS5hcHBseVJvbGxNb2RlKGNoYXREYXRhLCBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpKVxuICAgIC8vIH1cblxuICAgIGlmIChjaGF0RGF0YS5ibGluZCkge1xuICAgICAgdGhpcy5pc0JsaW5kID0gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IHRlbXBsYXRlID0gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9yb2xsLXJlc3VsdC5odG1sJ1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcylcbiAgICBsZXQgbmV3Q29udGVudCA9IGh0bWxcblxuICAgIGlmICghdGhpcy5tZXNzYWdlSWQpIHJldHVybiAkLnBhcnNlSFRNTChodG1sKVswXSAvLyBJZiBubyBtZXNzYWdlSWQgcmV0dXJuIHRoZSBIVE1MRWxlbWVudCBjb250YWluaW5nIHRoZSByb2xsLlxuICAgIC8vIElmIG5vIG1lc3NhZ2VJZFxuXG4gICAgY29uc3QgbWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KHRoaXMubWVzc2FnZUlkKVxuICAgIGNvbnN0IGh0bWxNZXNzYWdlID0gJC5wYXJzZUhUTUwobWVzc2FnZS5jb250ZW50KVswXVxuICAgIGlmICghaHRtbE1lc3NhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb2xsLXJlc3VsdCcpKSB7XG4gICAgICBjb25zdCBodG1sQ2hlY2sgPSAkLnBhcnNlSFRNTChodG1sKVswXVxuICAgICAgY29uc3Qgcm9sbFJlc3VsdEVsZW1lbnQgPSBodG1sTWVzc2FnZS5xdWVyeVNlbGVjdG9yKCcucm9sbC1yZXN1bHQnKVxuICAgICAgaWYgKHJvbGxSZXN1bHRFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJvbGxSZXN1bHRFbGVtZW50LnJlcGxhY2VXaXRoKGh0bWxDaGVjaylcbiAgICAgIH1cbiAgICAgIG5ld0NvbnRlbnQgPSBodG1sTWVzc2FnZS5vdXRlckhUTUxcbiAgICB9XG5cbiAgICBjaGF0RGF0YS5jb250ZW50ID0gbmV3Q29udGVudFxuXG4gICAgaWYgKENPTlNULkNIQVRfTUVTU0FHRV9UWVBFUy5ST0xMID09PSBtZXNzYWdlLnR5cGUpIHtcbiAgICAgIGlmIChtZXNzYWdlLndoaXNwZXI/Lmxlbmd0aCkge1xuICAgICAgICBjaGF0RGF0YS50eXBlID0gQ09OU1QuQ0hBVF9NRVNTQUdFX1RZUEVTLldISVNQRVJcbiAgICAgIH0gZWxzZSBjaGF0RGF0YS50eXBlID0gQ09OU1QuQ0hBVF9NRVNTQUdFX1RZUEVTLk9USEVSXG4gICAgfVxuXG4gICAgaWYgKGZvcmNlUm9sbCAmJiB0aGlzLmRpY2U/LnJvbGwgJiYgKGdhbWUudXNlci5pc0dNIHx8ICF0aGlzLmlzQmxpbmQpKSB7XG4gICAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZCh0aGlzLmRpY2Uucm9sbClcbiAgICB9XG5cbiAgICBjb25zdCBtc2cgPSBhd2FpdCBtZXNzYWdlLnVwZGF0ZShjaGF0RGF0YSlcbiAgICBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSlcbiAgICByZXR1cm4gbXNnXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlQ2FyZFN3aXRjaCAoZXZlbnQpIHtcbiAgICBjb25zdCBjYXJkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuY2hhdC1jYXJkJylcbiAgICBjb25zdCBjaGVjayA9IGF3YWl0IENvQzdDaGVjay5nZXRGcm9tQ2FyZChjYXJkKVxuICAgIGNoZWNrLmdtRGlmZmljdWx0eVJlZ3VsYXIgPSBmYWxzZVxuICAgIGNoZWNrLmdtRGlmZmljdWx0eUhhcmQgPSBmYWxzZVxuICAgIGNoZWNrLmdtRGlmZmljdWx0eUV4dHJlbWUgPSBmYWxzZVxuICAgIGNoZWNrLmdtRGlmZmljdWx0eUNyaXRpY2FsID0gZmFsc2VcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZsYWcgPT09ICdnbURpZmZpY3VsdHlSZWd1bGFyJykge1xuICAgICAgY2hlY2suZ21EaWZmaWN1bHR5UmVndWxhciA9IHRydWVcbiAgICB9XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5mbGFnID09PSAnZ21EaWZmaWN1bHR5SGFyZCcpIHtcbiAgICAgIGNoZWNrLmdtRGlmZmljdWx0eUhhcmQgPSB0cnVlXG4gICAgfVxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZmxhZyA9PT0gJ2dtRGlmZmljdWx0eUV4dHJlbWUnKSB7XG4gICAgICBjaGVjay5nbURpZmZpY3VsdHlFeHRyZW1lID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmZsYWcgPT09ICdnbURpZmZpY3VsdHlDcml0aWNhbCcpIHtcbiAgICAgIGNoZWNrLmdtRGlmZmljdWx0eUNyaXRpY2FsID0gdHJ1ZVxuICAgIH1cbiAgICBjaGVjay5jb21wdXRlQ2hlY2soKVxuICAgIGNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgfVxuXG4gIGdldCB0b29sdGlwICgpIHtcbiAgICByZXR1cm4gcmVuZGVyVGVtcGxhdGUoXG4gICAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L3JvbGxzL3JvbGwtdG9vbHRpcC5odG1sJyxcbiAgICAgIHRoaXNcbiAgICApXG4gIH1cblxuICBnZXQgaW5saW5lQ2hlY2sgKCkge1xuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICBhLmNsYXNzTGlzdC5hZGQoJ2NvYzctaW5saW5lLWNoZWNrJylcbiAgICBhLmNsYXNzTGlzdC5hZGQoJ2NvYzctY2hlY2stcmVzdWx0JylcbiAgICBhLmNsYXNzTGlzdC5hZGQoJ2NvYzctaW5saW5lJylcbiAgICBhLmNsYXNzTGlzdC5hZGQoLi4udGhpcy5jc3NDbGFzc0xpc3QpXG4gICAgYS50aXRsZSA9IHRoaXMudG9vbHRpcEhlYWRlclxuICAgIGEuZGF0YXNldC5yb2xsID0gZXNjYXBlKHRoaXMuSlNPTlJvbGxTdHJpbmcpIC8vIFRPRE8hSU1QT1JUQU5UISEhXG4gICAgYS5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJnYW1lLWljb24gZ2FtZS1pY29uLWQxMFwiPjwvaT4gJHtcbiAgICAgIHRoaXMubW9kaWZpZWRSZXN1bHQgfHwgJz8/J1xuICAgIH1gXG4gICAgcmV0dXJuIGFcbiAgfVxuXG4gIGdldCByb2xsVG9vbFRpcCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhbmRieSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IHBhcnRzID0gW11cbiAgICBjb25zdCB0ZW5zID0gdGhpcy5kaWNlcy50ZW5zLm1hcChyID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogci52YWx1ZSxcbiAgICAgICAgc2VsZWN0ZWQ6IHIuc2VsZWN0ZWQsXG4gICAgICAgIGNsYXNzZXM6IFtcbiAgICAgICAgICAnZGllJyxcbiAgICAgICAgICAnZDEwJyxcbiAgICAgICAgICAhci5zZWxlY3RlZCA/ICdkaXNjYXJkZWQnIDogbnVsbCxcbiAgICAgICAgICByLmlzTWluID8gJ21pbicgOiBudWxsLFxuICAgICAgICAgIHIuaXNNYXggPyAnbWF4JyA6IG51bGxcbiAgICAgICAgXVxuICAgICAgICAgIC5maWx0ZXIoYyA9PiBjKVxuICAgICAgICAgIC5qb2luKCcgJylcbiAgICAgIH1cbiAgICB9KVxuICAgIGNvbnN0IHVuaXQgPSBbXG4gICAgICB7XG4gICAgICAgIHJlc3VsdDogdGhpcy5kaWNlcy51bml0LnZhbHVlLFxuICAgICAgICBzZWxlY3RlZDogdHJ1ZSxcbiAgICAgICAgY2xhc3NlczogJ2RpZSBkMTAnXG4gICAgICB9XG4gICAgXVxuXG4gICAgcGFydHMucHVzaCh7XG4gICAgICBmb3JtdWxhOiB0aGlzLnRvb2x0aXBIZWFkZXIsXG4gICAgICB0b3RhbDogdGhpcy5tb2RpZmllZFJlc3VsdCxcbiAgICAgIGljb25zOiB0aGlzLnN1Y2Nlc3NMZXZlbEljb25zLFxuICAgICAgY2xhc3M6IHRoaXMuY3NzQ2xhc3MsXG4gICAgICBzdWNjZXNzUmVxdWlyZWQ6IHRoaXMuc3VjY2Vzc1JlcXVpcmVkLFxuICAgICAgcmVzdWx0VHlwZTogdGhpcy5yZXN1bHRUeXBlLFxuICAgICAgZmFjZTogMTAsXG4gICAgICByb2xsczogWy4uLnRlbnMsIC4uLnVuaXRdXG4gICAgfSlcbiAgICByZXR1cm4gcmVuZGVyVGVtcGxhdGUoXG4gICAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jaGF0L3JvbGxzL3JvbGwtdG9vbHRpcC5odG1sJyxcbiAgICAgIHsgcGFydHMgfVxuICAgIClcbiAgfVxuXG4gIGdldCBKU09OUm9sbERhdGEgKCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuSlNPTlJvbGxTdHJpbmcpXG4gIH1cblxuICBnZXQgSlNPTlJvbGxTdHJpbmcgKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBjb25zdCBleGNsdWRlID0gWydfYWN0b3InLCAnX3NraWxsJywgJ19pdGVtJ11cbiAgICAgIGlmIChleGNsdWRlLmluY2x1ZGVzKGtleSkpIHJldHVybiB1bmRlZmluZWRcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH0pXG4gIH1cblxuICBzdGF0aWMgZnJvbURhdGEgKGRhdGEpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29DN0NoZWNrKCksIGRhdGEpXG4gIH1cblxuICBzdGF0aWMgZnJvbVJvbGxTdHJpbmcgKGRhdGFTdHJpbmcpIHtcbiAgICBsZXQgZGF0YVxuICAgIHRyeSB7XG4gICAgICBkYXRhID0gSlNPTi5wYXJzZSh1bmVzY2FwZShkYXRhU3RyaW5nKSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyLm1lc3NhZ2UpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gQ29DN0NoZWNrLmZyb21EYXRhKGRhdGEpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgYWx0ZXIgKGNoZWNrLCBjb21tYW5kLCBvcHRpb25zID0ge30pIHtcbiAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgIGNhc2UgJ3VzZUx1Y2snOiB7XG4gICAgICAgIGlmIChvcHRpb25zLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bhc3MtY2hlY2snKSkge1xuICAgICAgICAgIGNvbnN0IGx1Y2tBbW91bnQgPSBwYXJzZUludChvcHRpb25zLnRhcmdldC5kYXRhc2V0Lmx1Y2tBbW91bnQpXG4gICAgICAgICAgY2hlY2suZm9yY2VQYXNzKGx1Y2tBbW91bnQsIG9wdGlvbnMudXBkYXRlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHVwZ3JhZGVJbmRleCA9IHBhcnNlSW50KG9wdGlvbnMudGFyZ2V0LmRhdGFzZXQuaW5kZXgpXG4gICAgICAgICAgYXdhaXQgY2hlY2sudXBncmFkZUNoZWNrKHVwZ3JhZGVJbmRleCwgb3B0aW9ucy51cGRhdGUpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZm9yY2UtcGFzcyc6IHtcbiAgICAgICAgY2hlY2suZm9yY2VQYXNzKG51bGwsIG9wdGlvbnMudXBkYXRlKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdmb3JjZS1mYWlsJzoge1xuICAgICAgICBjaGVjay5mb3JjZUZhaWwob3B0aW9ucy51cGRhdGUpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2luY3JlYXNlLXN1Y2Nlc3MtbGV2ZWwnOiB7XG4gICAgICAgIGNoZWNrLmluY3JlYXNlU3VjY2Vzc0xldmVsKG9wdGlvbnMudXBkYXRlKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdkZWNyZWFzZS1zdWNjZXNzLWxldmVsJzoge1xuICAgICAgICBjaGVjay5kZWNyZWFzZVN1Y2Nlc3NMZXZlbChvcHRpb25zLnVwZGF0ZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncmV2ZWFsLWNoZWNrJzoge1xuICAgICAgICBjaGVjay5pc0JsaW5kID0gZmFsc2VcbiAgICAgICAgY2hlY2sucm9sbE1vZGUgPSBmYWxzZVxuICAgICAgICBjaGVjay5jb21wdXRlQ2hlY2soKVxuICAgICAgICBpZiAob3B0aW9ucy51cGRhdGUpIGNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnZmxhZy1mb3ItZGV2ZWxvcG1lbnQnOiB7XG4gICAgICAgIGF3YWl0IGNoZWNrLmZsYWdGb3JEZXZlbG9wZW1lbnQoKVxuICAgICAgICBjaGVjay5jb21wdXRlQ2hlY2soKVxuICAgICAgICBpZiAob3B0aW9ucy51cGRhdGUpIGNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAncHVzaCc6IHtcbiAgICAgICAgYXdhaXQgY2hlY2suX3BlcmZvcm0oKVxuICAgICAgICBjaGVjay5wdXNoaW5nID0gdHJ1ZVxuICAgICAgICBpZiAob3B0aW9ucy51cGRhdGUpIGNoZWNrLnVwZGF0ZUNoYXRDYXJkKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX29uQ2xpY2tJbmxpbmVSb2xsIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuXG4gICAgaWYgKGEuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb2M3LWNoZWNrLXJlc3VsdCcpKSB7XG4gICAgICBpZiAoYS5jbGFzc0xpc3QuY29udGFpbnMoJ2V4cGFuZGVkJykpIHtcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5fY29sbGFwc2VJbmxpbmVSZXN1bHQoYSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suX2V4cGFuZElubGluZVJlc3VsdChhKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfY29sbGFwc2VJbmxpbmVSZXN1bHQgKGEpIHtcbiAgICBpZiAoIWEuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb2M3LWlubGluZS1jaGVjaycpKSByZXR1cm5cbiAgICBpZiAoIWEuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpKSByZXR1cm5cbiAgICBjb25zdCB0b29sdGlwID0gYS5xdWVyeVNlbGVjdG9yKCcuY29jNy1jaGVjay10b29sdGlwJylcbiAgICBpZiAodG9vbHRpcCkgdG9vbHRpcC5yZW1vdmUoKVxuICAgIHJldHVybiBhLmNsYXNzTGlzdC5yZW1vdmUoJ2V4cGFuZGVkJylcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfZXhwYW5kSW5saW5lUmVzdWx0IChhKSB7XG4gICAgaWYgKCFhLmNsYXNzTGlzdC5jb250YWlucygnY29jNy1pbmxpbmUtY2hlY2snKSkgcmV0dXJuXG4gICAgaWYgKGEuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpKSByZXR1cm5cblxuICAgIC8vIENyZWF0ZSBhIG5ldyB0b29sdGlwXG4gICAgY29uc3QgY2hlY2sgPSBPYmplY3QuYXNzaWduKFxuICAgICAgbmV3IENvQzdDaGVjaygpLFxuICAgICAgSlNPTi5wYXJzZSh1bmVzY2FwZShhLmRhdGFzZXQucm9sbCkpXG4gICAgKSAvLyBUT0RPIDogZmluZCBzdHJpbmdpZnkgdW5lc2NhcGUgISEgMjAyMTAyMDVcbiAgICBpZiAoY2hlY2suc3RhbmRieSkgcmV0dXJuXG5cbiAgICBjb25zdCB0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRpcC5pbm5lckhUTUwgPSBhd2FpdCBjaGVjay5yb2xsVG9vbFRpcFxuXG4gICAgLy8gQWRkIHRoZSB0b29sdGlwXG4gICAgY29uc3QgdG9vbHRpcCA9IHRpcC5jaGlsZHJlblswXVxuICAgIGEuYXBwZW5kQ2hpbGQodG9vbHRpcClcbiAgICBhLmNsYXNzTGlzdC5hZGQoJ2V4cGFuZGVkJylcblxuICAgIC8vIFNldCB0aGUgcG9zaXRpb25cbiAgICBjb25zdCBwYSA9IGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBjb25zdCBwdCA9IHRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHtNYXRoLm1pbihcbiAgICAgIHBhLngsXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCAtIChwdC53aWR0aCArIDMpXG4gICAgKX1weGBcbiAgICB0b29sdGlwLnN0eWxlLnRvcCA9IGAke01hdGgubWluKFxuICAgICAgcGEueSArIHBhLmhlaWdodCArIDMsXG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLSAocHQuaGVpZ2h0ICsgMylcbiAgICApfXB4YFxuICAgIGNvbnN0IHppID0gZ2V0Q29tcHV0ZWRTdHlsZShhKS56SW5kZXhcbiAgICB0b29sdGlwLnN0eWxlLnpJbmRleCA9IE51bWJlci5pc051bWVyaWMoemkpID8gemkgKyAxIDogMTAwXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBjYW52YXMsIENoYXRNZXNzYWdlLCBDT05GSUcsIENPTlNULCBEaWFsb2csIGR1cGxpY2F0ZSwgRm9sZGVyLCBmcm9tVXVpZCwgZnJvbVV1aWRTeW5jLCBnYW1lLCBnZXREb2N1bWVudENsYXNzLCBIb29rcywgTWFjcm8sIFJvbGwsIFRva2VuLCB1aSAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi9pdGVtcy9pdGVtLmpzJ1xuaW1wb3J0IHsgUm9sbERpYWxvZyB9IGZyb20gJy4vYXBwcy9yb2xsLWRpYWxvZy5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuL2NoYXQvaGVscGVyLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1V0aWxpdGllcyB7XG4gIC8vIHN0YXRpYyB0ZXN0KGV2ZW50KXtcbiAgLy8gICBpZiggZXZlbnQuc2hpZnRLZXkpIHVpLm5vdGlmaWNhdGlvbnMuaW5mbygnSGVsbG8gZnJvbSBTSElGVCB1dGlsaXRpZXMnKTtcbiAgLy8gICBlbHNlIHVpLm5vdGlmaWNhdGlvbnMuaW5mbygnSGVsbG8gZnJvbSB1dGlsaXRpZXMnKTtcbiAgLy8gICBjb25zdCBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpO1xuICAvLyAgIGxldCBhY3RvcjtcbiAgLy8gICBpZiAoc3BlYWtlci50b2tlbikgYWN0b3IgPSBnYW1lLmFjdG9ycy50b2tlbnNbc3BlYWtlci50b2tlbl07XG4gIC8vICAgaWYgKCFhY3RvcikgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoc3BlYWtlci5hY3Rvcik7XG5cbiAgLy8gIGFjdG9yLnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy5jcml0aWNhbFdvdW5kcyk7XG4gIC8vIH1cblxuICBzdGF0aWMgaXNGb3JtdWxhICh4KSB7XG4gICAgaWYgKHR5cGVvZiB4ICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlXG4gICAgaWYgKCFpc05hTihOdW1iZXIoeCkpKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gUm9sbC52YWxpZGF0ZSh4KVxuICB9XG5cbiAgc3RhdGljIFBhcnNlQ2hhdEVudHJ5IChodG1sLCBjb250ZW50KSB7XG4gICAgY29uc3QgcmVnWCA9IC8oXFxTKykvZ1xuICAgIGNvbnN0IHRlcm1zID0gY29udGVudC5tYXRjaChyZWdYKVxuICAgIGlmIChcbiAgICAgIHRlcm1zWzBdPy50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eXFwvcihvbGwpPyQvKSAmJlxuICAgICAgdGVybXNbMV0/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnMWQlJylcbiAgICApIHtcbiAgICAgIC8vIERlbGF5IGNhbGxpbmcgZnVuY3Rpb24gdG8gcHJldmVudCBjaGF0bWVzc2FnZSBrZXkgZG93biB0cmlnZ2VyaW5nIGRlZmF1bHRcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBDb0M3VXRpbGl0aWVzLl9FeGVjQ29tbWFuZChjb250ZW50KVxuICAgICAgfSwgMjAwKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9FeGVjQ29tbWFuZCAoY29udGVudCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBjb250ZW50XG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnNwbGl0KCcgJylcbiAgICAgID8uam9pbignJylcbiAgICAgID8ucmVwbGFjZSgvXFwvcihvbGwpPzFkJS8sICcnKVxuICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgaWYgKG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICBsZXQgZXNjYXBlZCA9IG9wdGlvbnNcbiAgICAgIGxldCB0aHJlc2hvbGRcbiAgICAgIGxldCBkaWZmaWN1bHR5ID0gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgICBsZXQgZGljZU1vZGlmaWVyID0gMFxuICAgICAgbGV0IGFzayA9IGZhbHNlXG4gICAgICBsZXQgZmxhdERpY2VNb2RpZmllclxuICAgICAgbGV0IGZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgICAgY29uc3QgdGhyZXNob2xkU3RyID0gZXNjYXBlZC5tYXRjaCgvW14oXSsoPz1cXCkpLylcbiAgICAgIGlmICh0aHJlc2hvbGRTdHIgJiYgdGhyZXNob2xkU3RyLmxlbmd0aCkge1xuICAgICAgICB0aHJlc2hvbGQgPSBOdW1iZXIodGhyZXNob2xkU3RyWzBdKVxuICAgICAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIHRocmVzaG9sZFN0cikge1xuICAgICAgICAgIGVzY2FwZWQgPSBlc2NhcGVkLnJlcGxhY2UoYCgke21hdGNofSlgLCAnJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZGlmZmljdWx0eVN0ciA9IGVzY2FwZWQubWF0Y2goL1teW10rKD89XFxdKS8pXG4gICAgICBpZiAoZGlmZmljdWx0eVN0ciAmJiBkaWZmaWN1bHR5U3RyLmxlbmd0aCkge1xuICAgICAgICBkaWZmaWN1bHR5ID0gQ29DN1V0aWxpdGllcy5jb252ZXJ0RGlmZmljdWx0eShkaWZmaWN1bHR5U3RyWzBdKVxuICAgICAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIGRpZmZpY3VsdHlTdHIpIHtcbiAgICAgICAgICBlc2NhcGVkID0gZXNjYXBlZC5yZXBsYWNlKGBbJHttYXRjaH1dYCwgJycpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlc2NhcGVkLmluY2x1ZGVzKCc/JykpIHtcbiAgICAgICAgYXNrID0gdHJ1ZVxuICAgICAgICBlc2NhcGVkID0gZXNjYXBlZC5yZXBsYWNlKCc/JywgJycpXG4gICAgICB9XG4gICAgICBpZiAoIWlzTmFOKE51bWJlcihlc2NhcGVkKSkpIGRpY2VNb2RpZmllciA9IE51bWJlcihlc2NhcGVkKVxuXG4gICAgICBpZiAoYXNrKSB7XG4gICAgICAgIGNvbnN0IGRpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgICAgdGhyZXNob2xkLFxuICAgICAgICAgIG1vZGlmaWVyOiBkaWNlTW9kaWZpZXIsXG4gICAgICAgICAgZGlmZmljdWx0eSxcbiAgICAgICAgICBhc2tWYWx1ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgUm9sbERpYWxvZy5jcmVhdGUoZGlhbG9nT3B0aW9ucylcbiAgICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgICAgZGljZU1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnYm9udXNEaWNlJykpXG4gICAgICAgICAgZGlmZmljdWx0eSA9IE51bWJlcih1c2FnZS5nZXQoJ2RpZmZpY3VsdHknKSlcbiAgICAgICAgICB0aHJlc2hvbGQgPSBOdW1iZXIodXNhZ2UuZ2V0KCd0aHJlc2hvbGQnKSkgfHwgdGhyZXNob2xkXG4gICAgICAgICAgZmxhdERpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2ZsYXREaWNlTW9kaWZpZXInKSlcbiAgICAgICAgICBmbGF0VGhyZXNob2xkTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdmbGF0VGhyZXNob2xkTW9kaWZpZXInKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSBkaWNlTW9kaWZpZXIgfHwgMFxuICAgICAgY2hlY2suZGlmZmljdWx0eSA9IGRpZmZpY3VsdHkgfHwgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgICBjaGVjay5yYXdWYWx1ZSA9IHRocmVzaG9sZFxuICAgICAgY2hlY2suZmxhdERpY2VNb2RpZmllciA9IGZsYXREaWNlTW9kaWZpZXJcbiAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IGZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgICAgaWYgKHRocmVzaG9sZCkgY2hlY2sucmF3VmFsdWUgPSAhaXNOYU4odGhyZXNob2xkKSA/IHRocmVzaG9sZCA6IHVuZGVmaW5lZFxuICAgIH1cbiAgICBjb25zdCBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpXG4gICAgaWYgKHNwZWFrZXIudG9rZW4gJiYgc3BlYWtlci5zY2VuZSkge1xuICAgICAgY29uc3QgYWN0b3IgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleShcbiAgICAgICAgYCR7c3BlYWtlci5zY2VuZX0uJHtzcGVha2VyLnRva2VufWBcbiAgICAgICkgLy8gUkVGQUNUT1JJTkcgKDIpICsrKyB3aHkgc3BlYWtlci5zY2VuZS5cbiAgICAgIGlmIChhY3RvcikgY2hlY2suYWN0b3IgPSBhY3RvclxuICAgIH0gZWxzZSBpZiAoc3BlYWtlci5hY3Rvcikge1xuICAgICAgY29uc3QgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoc3BlYWtlci5hY3RvcilcbiAgICAgIGlmIChhY3RvcikgY2hlY2suYWN0b3IgPSBhY3RvclxuICAgIH1cbiAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICBjaGVjay50b01lc3NhZ2UoKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHRlc3QgKCkge1xuICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mb3MoJ0RvIHNvbWUgc3R1ZmYnKVxuICB9XG5cbiAgc3RhdGljIGdldEFjdG9yRnJvbVN0cmluZyAoYWN0b3JTdHJpbmcpIHtcbiAgICBsZXQgYWN0b3JcblxuICAgIC8vIFRva2VuIGlzIGJldHRlciB0aGFuIGFjdG9yLlxuICAgIC8vIENhc2UgMSA6IHRyeWluZyB3aXRoIElELlxuICAgIC8vIENhc2UgMS4xIDogdG9rZW4gZm91bmQuXG4gICAgaWYgKGdhbWUuYWN0b3JzLnRva2Vuc1thY3RvclN0cmluZ10pIHJldHVybiBnYW1lLmFjdG9ycy50b2tlbnNbYWN0b3JTdHJpbmddXG4gICAgLy8gQ2FzZSAxLjIgOiBhY3RvciBmb3VuZC5cbiAgICBhY3RvciA9IGdhbWUuYWN0b3JzLmdldChhY3RvclN0cmluZylcbiAgICBpZiAoYWN0b3IpIHJldHVybiBhY3RvclxuXG4gICAgLy8gQ2FzZSAyIDogdHJ5aW5nIHdpdGggbmFtZVxuICAgIC8vIENhc2UgMi4xIDogdG9rZW4gZm91bmQuXG4gICAgYWN0b3IgPSBPYmplY3QudmFsdWVzKGdhbWUuYWN0b3JzLnRva2VucykuZmluZCh0ID0+IHtcbiAgICAgIGlmICh0Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gYWN0b3JTdHJpbmcudG9Mb3dlckNhc2UoKSkgcmV0dXJuIHRydWVcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG4gICAgaWYgKCFhY3Rvcikge1xuICAgICAgLy8gQ2FzZSAyLjIgOiBhY3RvciBmb3VuZC5cbiAgICAgIGFjdG9yID0gZ2FtZS5hY3RvcnMuZmluZChhID0+IHtcbiAgICAgICAgaWYgKGEubmFtZS50b0xvd2VyQ2FzZSgpID09PSBhY3RvclN0cmluZy50b0xvd2VyQ2FzZSgpKSByZXR1cm4gdHJ1ZVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmIChhY3RvcikgcmV0dXJuIGFjdG9yXG5cbiAgICAvLyAvLyBDYXNlIDMgc3RyaW5nIG1heWJlIGFuIGFjdG9yS2V5XG4gICAgLy8gaWYgKGNyZWF0dXJlLmluY2x1ZGVzKCcuJykpIHtcbiAgICAvLyAgIGNvbnN0IFssIGFjdG9ySWRdID0ga2V5LnNwbGl0KCcuJylcbiAgICAvLyAgIHJldHVybiBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRnJvbVN0cmluZyhhY3RvcklkKVxuICAgIC8vIH1cblxuICAgIC8vIE5vIGpveVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBzdGF0aWMgZ2V0Q2hhcmFjdGVyaXN0aWNOYW1lcyAoY2hhcikge1xuICAgIGNvbnN0IGNoYXJLZXkgPSBjaGFyLnRvTG93ZXJDYXNlKClcblxuICAgIHN3aXRjaCAoY2hhcktleSkge1xuICAgICAgY2FzZSAnc3RyJzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG9ydDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuU1RSJyksXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLlN0cmVuZ3RoJylcbiAgICAgICAgfVxuICAgICAgY2FzZSAnY29uJzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG9ydDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuQ09OJyksXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkNvbnN0aXR1dGlvbicpXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3Npeic6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLlNJWicpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5TaXplJylcbiAgICAgICAgfVxuICAgICAgY2FzZSAnZGV4JzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG9ydDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuREVYJyksXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkRleHRlcml0eScpXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2FwcCc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkFQUCcpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5BcHBlYXJhbmNlJylcbiAgICAgICAgfVxuICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG9ydDogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuSU5UJyksXG4gICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkludGVsbGlnZW5jZScpXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3Bvdyc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLlBPVycpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5Qb3dlcicpXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2VkdSc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvcnQ6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkVEVScpLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5FZHVjYXRpb24nKVxuICAgICAgICB9XG4gICAgICBjYXNlICdsdWNrJzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG9ydDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKSxcbiAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkx1Y2snKVxuICAgICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGZvciAoY29uc3QgWywgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgIGdhbWUuc3lzdGVtLnRlbXBsYXRlLkFjdG9yLnRlbXBsYXRlcy5jaGFyYWN0ZXJpc3RpY3MuY2hhcmFjdGVyaXN0aWNzXG4gICAgICAgICkpIHtcbiAgICAgICAgICBpZiAoY2hhcktleSA9PT0gZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlLnNob3J0KS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzaG9ydDogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlLnNob3J0KSxcbiAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZS5sYWJlbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgY29udmVydERpZmZpY3VsdHkgKGRpZmZpY3VsdHkpIHtcbiAgICBpZiAoU3RyaW5nKGRpZmZpY3VsdHkpID09PSAnMCcpIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICBpZiAodHlwZW9mIGRpZmZpY3VsdHkgIT09ICdzdHJpbmcnKSByZXR1cm4gZGlmZmljdWx0eVxuICAgIGlmICghaXNOYU4oTnVtYmVyKGRpZmZpY3VsdHkpKSkgcmV0dXJuIE51bWJlcihkaWZmaWN1bHR5KVxuXG4gICAgc3dpdGNoIChkaWZmaWN1bHR5KSB7XG4gICAgICBjYXNlICc/JzpcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwudW5rbm93blxuICAgICAgY2FzZSAnKyc6XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmRcbiAgICAgIGNhc2UgJysrJzpcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuZXh0cmVtZVxuICAgICAgY2FzZSAnKysrJzpcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWxcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc2tpbGxDaGVja01hY3JvIChza2lsbCwgZXZlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBzcGVha2VyID0gQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcigpXG4gICAgbGV0IGFjdG9yXG4gICAgaWYgKHNwZWFrZXIudG9rZW4pIGFjdG9yID0gZ2FtZS5hY3RvcnMudG9rZW5zW3NwZWFrZXIudG9rZW5dXG4gICAgaWYgKCFhY3RvcikgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoc3BlYWtlci5hY3RvcikgLy8gTm8gbmVlZCB0byBmaWxsIGFjdG9yIHRva2VuXG5cbiAgICBpZiAoIWFjdG9yKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lldhcm5Ob0FjdG9yQXZhaWxhYmxlJykpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBhY3Rvci5za2lsbENoZWNrKHNraWxsLCBldmVudC5zaGlmdEtleSwgb3B0aW9ucylcbiAgfVxuXG4gIHN0YXRpYyB3ZWFwb25DaGVja01hY3JvICh3ZWFwb24sIGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHNwZWFrZXIgPSBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKClcbiAgICBsZXQgYWN0b3JcbiAgICBpZiAoc3BlYWtlci50b2tlbikgYWN0b3IgPSBnYW1lLmFjdG9ycy50b2tlbnNbc3BlYWtlci50b2tlbl1cbiAgICBpZiAoIWFjdG9yKSB7XG4gICAgICBpZiAoc3BlYWtlci5zY2VuZSAmJiBzcGVha2VyLnRva2VuKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHN5bnRoZXRpYyBhY3RvciBsaW5rZWQgd2l0aCB0aGUgYWN0aXZlIHRva2VuLlxuICAgICAgICBjb25zdCBiYXNlQWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoc3BlYWtlci5hY3RvcilcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc3BlYWtlci5zY2VuZSlcbiAgICAgICAgY29uc3QgdG9rZW4gPSBzY2VuZS50b2tlbnMuZ2V0KHNwZWFrZXIudG9rZW4pXG5cbiAgICAgICAgY29uc3QgQWN0b3JDbGFzcyA9IGdldERvY3VtZW50Q2xhc3MoJ0FjdG9yJylcbiAgICAgICAgY29uc3QgdG9rZW5BY3RvciA9IG5ldyBBY3RvckNsYXNzKGJhc2VBY3Rvci50b0pTT04oKSwge1xuICAgICAgICAgIHBhcmVudDogdG9rZW5cbiAgICAgICAgfSlcbiAgICAgICAgYWN0b3IgPSB0b2tlbkFjdG9yXG4gICAgICB9IGVsc2UgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoc3BlYWtlci5hY3RvcilcbiAgICB9XG5cbiAgICBpZiAoIWFjdG9yKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lldhcm5Ob0FjdG9yQXZhaWxhYmxlJykpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBhY3Rvci53ZWFwb25DaGVjayh3ZWFwb24sIGV2ZW50LnNoaWZ0S2V5KVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNoZWNrTWFjcm8gKHRocmVzaG9sZCA9IHVuZGVmaW5lZCwgZXZlbnQgPSBudWxsKSB7XG4gICAgYXdhaXQgQ29DN1V0aWxpdGllcy5yb2xsRGljZShldmVudCwgeyB0aHJlc2hvbGQgfSlcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVNYWNybyAoYmFyLCBkYXRhLCBzbG90KSB7XG4gICAgaWYgKGRhdGEudHlwZSAhPT0gJ0l0ZW0nKSByZXR1cm5cblxuICAgIGNvbnN0IGl0ZW0gPSBmcm9tVXVpZFN5bmMoZGF0YS51dWlkLCBiYXIpXG5cbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5XYXJuTWFjcm9Ob0l0ZW1Gb3VuZCcpXG4gICAgICApXG4gICAgfVxuICAgIGlmICghKGl0ZW0udHlwZSA9PT0gJ3dlYXBvbicpICYmICEoaXRlbS50eXBlID09PSAnc2tpbGwnKSkge1xuICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lldhcm5NYWNyb0luY29ycmVjdFR5cGUnKVxuICAgICAgKVxuICAgIH1cblxuICAgIGxldCBjb21tYW5kID0gJydcblxuICAgIGlmIChpdGVtLnR5cGUgPT09ICd3ZWFwb24nKSB7XG4gICAgICBjb21tYW5kID0gYGdhbWUuQ29DNy5tYWNyb3Mud2VhcG9uQ2hlY2soe25hbWU6JyR7aXRlbS5uYW1lfScsIHV1aWQ6JyR7ZGF0YS51dWlkfSd9LCBldmVudCk7YFxuICAgIH1cblxuICAgIGlmIChpdGVtLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgIGlmIChDb0M3SXRlbS5pc0FueVNwZWMoaXRlbSkpIHtcbiAgICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuV2Fybk5vR2xvYmFsU3BlYycpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGNvbW1hbmQgPSBgZ2FtZS5Db0M3Lm1hY3Jvcy5za2lsbENoZWNrKHtuYW1lOicke2l0ZW0ubmFtZX0nLCB1dWlkOicke2RhdGEudXVpZH0nfSwgZXZlbnQpO2BcbiAgICB9XG5cbiAgICBpZiAoY29tbWFuZCAhPT0gJycpIHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgbWFjcm8gY29tbWFuZFxuICAgICAgY29uc3QgbWFjcm8gPSBnYW1lLm1hY3Jvcy5jb250ZW50cy5maW5kKFxuICAgICAgICBtID0+IG0ubmFtZSA9PT0gaXRlbS5uYW1lICYmIG0uY29tbWFuZCA9PT0gY29tbWFuZFxuICAgICAgKVxuICAgICAgaWYgKCFtYWNybykge1xuICAgICAgICBNYWNyby5jcmVhdGUoZHVwbGljYXRlKHtcbiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgdHlwZTogJ3NjcmlwdCcsXG4gICAgICAgICAgaW1nOiBpdGVtLmltZyxcbiAgICAgICAgICBjb21tYW5kXG4gICAgICAgIH0pKS50aGVuKG1hY3JvID0+IHtcbiAgICAgICAgICBnYW1lLnVzZXIuYXNzaWduSG90YmFyTWFjcm8obWFjcm8sIHNsb3QpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgZ2FtZS51c2VyLmFzc2lnbkhvdGJhck1hY3JvKG1hY3JvLCBzbG90KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdG9nZ2xlRGV2UGhhc2UgKHRvZ2dsZSkge1xuICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ2RldmVsb3BtZW50RW5hYmxlZCcsIHRvZ2dsZSlcbiAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICB0b2dnbGVcbiAgICAgICAgPyBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRGV2UGhhc2VFbmFibGVkJylcbiAgICAgICAgOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRGV2UGhhc2VEaXNhYmxlZCcpXG4gICAgKVxuICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3Jywge1xuICAgICAgdHlwZTogJ3VwZGF0ZUNoYXInXG4gICAgfSlcbiAgICBDb0M3VXRpbGl0aWVzLnVwZGF0ZUNoYXJTaGVldHMoKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHRvZ2dsZUNoYXJDcmVhdGlvbiAodG9nZ2xlKSB7XG4gICAgYXdhaXQgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnY2hhckNyZWF0aW9uRW5hYmxlZCcsIHRvZ2dsZSlcbiAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICB0b2dnbGVcbiAgICAgICAgPyBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2hhckNyZWF0aW9uRW5hYmxlZCcpXG4gICAgICAgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNoYXJDcmVhdGlvbkRpc2FibGVkJylcbiAgICApXG4gICAgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLkNvQzcnLCB7XG4gICAgICB0eXBlOiAndXBkYXRlQ2hhcidcbiAgICB9KVxuICAgIENvQzdVdGlsaXRpZXMudXBkYXRlQ2hhclNoZWV0cygpXG4gICAgSG9va3MuY2FsbCgndG9nZ2xlQ2hhckNyZWF0aW9uJywgdG9nZ2xlKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRhcmdldCAoKSB7XG4gICAgY29uc3QgdXNlcnMgPSBnYW1lLnVzZXJzLmZpbHRlcih1c2VyID0+IHVzZXIuYWN0aXZlKVxuICAgIGNvbnN0IGFjdG9ycyA9IGdhbWUuYWN0b3JzXG4gICAgbGV0IGNoZWNrT3B0aW9ucyA9IGA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIkNPQ0NoZWNrQWxsUENcIiBpZD1cIkNPQ0NoZWNrQWxsUENcIj5cXG5cbiAgICA8bGFiZWwgZm9yPVwiQ09DQ2hlY2tBbGxQQ1wiPiR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LmFsbEFjdG9ycycpfTwvbGFiZWw+YFxuICAgIGNvbnN0IHBsYXllclRva2VuSWRzID0gdXNlcnNcbiAgICAgIC5tYXAodSA9PiB1LmNoYXJhY3Rlcj8uaWQpXG4gICAgICAuZmlsdGVyKGlkID0+IGlkICE9PSB1bmRlZmluZWQpXG4gICAgY29uc3Qgc2VsZWN0ZWRQbGF5ZXJJZHMgPSBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQubWFwKHRva2VuID0+IHtcbiAgICAgIHJldHVybiB0b2tlbi5hY3Rvci5pZFxuICAgIH0pXG5cbiAgICAvLyBCdWlsZCBjaGVja2JveCBsaXN0IGZvciBhbGwgYWN0aXZlIHBsYXllcnNcbiAgICBhY3RvcnMuZm9yRWFjaChhY3RvciA9PiB7XG4gICAgICBjb25zdCBjaGVja2VkID1cbiAgICAgICAgKHNlbGVjdGVkUGxheWVySWRzLmluY2x1ZGVzKGFjdG9yLmlkKSB8fFxuICAgICAgICAgIHBsYXllclRva2VuSWRzLmluY2x1ZGVzKGFjdG9yLmlkKSkgJiZcbiAgICAgICAgJ2NoZWNrZWQnXG4gICAgICBjaGVja09wdGlvbnMgKz0gYFxuICAgICA8YnI+XG4gICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiJHthY3Rvci5pZH1cIiBpZD1cIiR7YWN0b3IuaWR9XCIgdmFsdWU9XCIke2FjdG9yLm5hbWV9XCIgJHtjaGVja2VkfT5cXG5cbiAgICAgPGxhYmVsIGZvcj1cIiR7YWN0b3IuaWR9XCI+JHthY3Rvci5uYW1lfTwvbGFiZWw+XG4gICAgICAgYFxuICAgIH0pXG5cbiAgICBuZXcgRGlhbG9nKHtcbiAgICAgIHRpdGxlOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuZHJlYW1pbmcnKX1gLFxuICAgICAgY29udGVudDogYCR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAnQ29DNy5yZXN0VGFyZ2V0cydcbiAgICAgICl9OiAke2NoZWNrT3B0aW9uc30gPGJyPmAsXG4gICAgICBidXR0b25zOiB7XG4gICAgICAgIHdoaXNwZXI6IHtcbiAgICAgICAgICBsYWJlbDogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LnN0YXJ0UmVzdCcpfWAsXG4gICAgICAgICAgY2FsbGJhY2s6IGFzeW5jIGh0bWwgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0cyA9IFtdXG4gICAgICAgICAgICBsZXQgYWxsID0gZmFsc2VcbiAgICAgICAgICAgIGNvbnN0IHVzZXJzID0gaHRtbC5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdJylcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXNlciBvZiB1c2Vycykge1xuICAgICAgICAgICAgICBpZiAodXNlci5uYW1lID09PSAnQ09DQ2hlY2tBbGxQQycgJiYgdXNlci5jaGVja2VkKSBhbGwgPSB0cnVlXG4gICAgICAgICAgICAgIGlmICh1c2VyLmNoZWNrZWQgfHwgYWxsKSB0YXJnZXRzLnB1c2godXNlci5pZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IENvQzdVdGlsaXRpZXMuc3RhcnRSZXN0KHRhcmdldHMpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkucmVuZGVyKHRydWUpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgc3RhcnRSZXN0ICh0YXJnZXRzKSB7XG4gICAgaWYgKCF0YXJnZXRzLmxlbmd0aCkgcmV0dXJuXG4gICAgY29uc3QgYWN0b3JzID0gZ2FtZS5hY3RvcnMuZmlsdGVyKGFjdG9yID0+IHRhcmdldHMuaW5jbHVkZXMoYWN0b3IuaWQpKVxuICAgIGxldCBjaGF0Q29udGVudCA9IGA8aT4ke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5kcmVhbWluZycpfS4uLjwvaT48YnI+YFxuICAgIGZvciAoY29uc3QgYWN0b3Igb2YgYWN0b3JzKSB7XG4gICAgICBpZiAoWydjaGFyYWN0ZXInLCAnbnBjJywgJ2NyZWF0dXJlJ10uaW5jbHVkZXMoYWN0b3IudHlwZSkpIHtcbiAgICAgICAgbGV0IHF1aWNrSGVhbGVyID0gZmFsc2VcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFjdG9yLml0ZW1zKSB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RhbGVudCcpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLm5hbWUgPT09IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5xdWlja0hlYWxlcicpfWApIHtcbiAgICAgICAgICAgICAgcXVpY2tIZWFsZXIgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQ3JpdGljYWxXb3VuZHMgPVxuICAgICAgICAgICFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUlnbm9yZU1ham9yV291bmRzJykgJiZcbiAgICAgICAgICBhY3Rvci5oYXNDb25kaXRpb25TdGF0dXMoQ09DNy5zdGF0dXMuY3JpdGljYWxXb3VuZHMpXG4gICAgICAgIGNvbnN0IGRhaWx5U2FuaXR5TG9zcyA9IGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3NcbiAgICAgICAgY29uc3QgaHBWYWx1ZSA9IGFjdG9yLnN5c3RlbS5hdHRyaWJzLmhwLnZhbHVlXG4gICAgICAgIGNvbnN0IGhwTWF4ID0gYWN0b3Iuc3lzdGVtLmF0dHJpYnMuaHAubWF4XG4gICAgICAgIGNvbnN0IG1wVmFsdWUgPSBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZVxuICAgICAgICBjb25zdCBtcE1heCA9IGFjdG9yLnN5c3RlbS5hdHRyaWJzLm1wLm1heFxuICAgICAgICBjb25zdCBwb3cgPSBhY3Rvci5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnBvdy52YWx1ZVxuICAgICAgICBjaGF0Q29udGVudCA9IGNoYXRDb250ZW50ICsgYDxicj48Yj4ke2FjdG9yLm5hbWV9LiA8L2I+YFxuICAgICAgICBpZiAoaHBWYWx1ZSA8IGhwTWF4KSB7XG4gICAgICAgICAgaWYgKGlzQ3JpdGljYWxXb3VuZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNoYXRDb250ZW50ID1cbiAgICAgICAgICAgICAgY2hhdENvbnRlbnQgK1xuICAgICAgICAgICAgICBgPGIgc3R5bGU9XCJjb2xvcjpkYXJrcmVkXCI+JHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuaGFzQ3JpdGljYWxXb3VuZHMnXG4gICAgICAgICAgICAgICl9LiA8L2I+YFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaGVhbEFtb3VudCA9IDFcbiAgICAgICAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUZhc3RlclJlY292ZXJ5JykpIHtcbiAgICAgICAgICAgICAgaGVhbEFtb3VudCA9IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWlja0hlYWxlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBoZWFsQW1vdW50KytcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWxBbW91bnQgPSBNYXRoLm1pbihoZWFsQW1vdW50LCBocE1heCAtIGhwVmFsdWUpXG4gICAgICAgICAgICBpZiAoaGVhbEFtb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICBjaGF0Q29udGVudCA9XG4gICAgICAgICAgICAgICAgY2hhdENvbnRlbnQgK1xuICAgICAgICAgICAgICAgIGA8YiBzdHlsZT1cImNvbG9yOmRhcmtvbGl2ZWdyZWVuXCI+JHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAnQ29DNy5oZWFsdGhSZWNvdmVyZWQnXG4gICAgICAgICAgICAgICAgKX0uIDwvYj5gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGF0Q29udGVudCA9XG4gICAgICAgICAgICAgICAgY2hhdENvbnRlbnQgK1xuICAgICAgICAgICAgICAgIGA8YiBzdHlsZT1cImNvbG9yOmRhcmtvbGl2ZWdyZWVuXCI+JHtnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgJ0NvQzcucHVscEhlYWx0aFJlY292ZXJlZCcsXG4gICAgICAgICAgICAgICAgICB7IG51bWJlcjogaGVhbEFtb3VudCB9XG4gICAgICAgICAgICAgICAgKX0uIDwvYj5gXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3Rvci51cGRhdGUoe1xuICAgICAgICAgICAgICAnc3lzdGVtLmF0dHJpYnMuaHAudmFsdWUnOlxuICAgICAgICAgICAgICAgIGFjdG9yLnN5c3RlbS5hdHRyaWJzLmhwLnZhbHVlICsgaGVhbEFtb3VudFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhaWx5U2FuaXR5TG9zcyA+IDApIHtcbiAgICAgICAgICBjaGF0Q29udGVudCA9XG4gICAgICAgICAgICBjaGF0Q29udGVudCArXG4gICAgICAgICAgICBgPGIgc3R5bGU9XCJjb2xvcjpkYXJrb2xpdmVncmVlblwiPiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5kYWlseVNhbkxvc3NSZXN0YXJ0ZWQnXG4gICAgICAgICAgICApfS48L2I+YFxuICAgICAgICAgIGFjdG9yLnVwZGF0ZSh7XG4gICAgICAgICAgICAnc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcyc6IDAsXG4gICAgICAgICAgICAnc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TGltaXQnOiBNYXRoLmZsb29yKGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSAvIDUpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob3VycyA9IDdcbiAgICAgICAgaWYgKGhvdXJzID4gMCAmJiBtcFZhbHVlIDwgbXBNYXgpIHtcbiAgICAgICAgICBsZXQgbWFnaWNBbW91bnQgPSBob3VycyAqIE1hdGguY2VpbChwb3cgLyAxMDApXG4gICAgICAgICAgbWFnaWNBbW91bnQgPSBNYXRoLm1pbihtYWdpY0Ftb3VudCwgbXBNYXggLSBtcFZhbHVlKVxuICAgICAgICAgIGNoYXRDb250ZW50ID1cbiAgICAgICAgICAgIGNoYXRDb250ZW50ICtcbiAgICAgICAgICAgIGA8YiBzdHlsZT1cImNvbG9yOmRhcmtvbGl2ZWdyZWVuXCI+JHtnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAnQ29DNy5tYWdpY1BvaW50c1JlY292ZXJlZCdcbiAgICAgICAgICAgICl9OiAke21hZ2ljQW1vdW50fS48L2I+YFxuICAgICAgICAgIGFjdG9yLnVwZGF0ZSh7XG4gICAgICAgICAgICAnc3lzdGVtLmF0dHJpYnMubXAudmFsdWUnOlxuICAgICAgICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSArIG1hZ2ljQW1vdW50XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjaGF0RGF0YSA9IHtcbiAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgIHNwZWFrZXI6IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKSxcbiAgICAgIGNvbnRlbnQ6IGNoYXRDb250ZW50LFxuICAgICAgdHlwZTogQ09OU1QuQ0hBVF9NRVNTQUdFX1RZUEVTLk9USEVSXG4gICAgfVxuICAgIENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB0b2dnbGVYUEdhaW4gKHRvZ2dsZSkge1xuICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3hwRW5hYmxlZCcsIHRvZ2dsZSlcbiAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICB0b2dnbGVcbiAgICAgICAgPyBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuWFBHYWluRW5hYmxlZCcpXG4gICAgICAgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlhQR2FpbkRpc2FibGVkJylcbiAgICApXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcm9sbERpY2UgKGV2ZW50LCBvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zLmFza1ZhbHVlID0gIW9wdGlvbnMudGhyZXNob2xkXG4gICAgbGV0IGRpY2VNb2RpZmllciwgZGlmZmljdWx0eSwgZmxhdERpY2VNb2RpZmllciwgZmxhdFRocmVzaG9sZE1vZGlmaWVyXG4gICAgbGV0IHRocmVzaG9sZCA9IG9wdGlvbnMudGhyZXNob2xkXG5cbiAgICBpZiAodW5kZWZpbmVkICE9PSBvcHRpb25zLm1vZGlmaWVyKSBkaWNlTW9kaWZpZXIgPSBOdW1iZXIob3B0aW9ucy5tb2RpZmllcilcbiAgICBpZiAodW5kZWZpbmVkICE9PSBvcHRpb25zLmRpZmZpY3VsdHkpIHtcbiAgICAgIGRpZmZpY3VsdHkgPSBDb0M3VXRpbGl0aWVzLmNvbnZlcnREaWZmaWN1bHR5KG9wdGlvbnMuZGlmZmljdWx0eSlcbiAgICB9XG5cbiAgICBpZiAoIWV2ZW50Py5zaGlmdEtleSAmJiAhb3B0aW9ucy5mYXN0Rm9yd2FyZCkge1xuICAgICAgY29uc3QgdXNhZ2UgPSBhd2FpdCBSb2xsRGlhbG9nLmNyZWF0ZShvcHRpb25zKVxuICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgIGRpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2JvbnVzRGljZScpKVxuICAgICAgICBkaWZmaWN1bHR5ID0gTnVtYmVyKHVzYWdlLmdldCgnZGlmZmljdWx0eScpKVxuICAgICAgICB0aHJlc2hvbGQgPSBOdW1iZXIodXNhZ2UuZ2V0KCd0aHJlc2hvbGQnKSlcbiAgICAgICAgZmxhdERpY2VNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2ZsYXREaWNlTW9kaWZpZXInKSlcbiAgICAgICAgZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnZmxhdFRocmVzaG9sZE1vZGlmaWVyJykpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWN0b3JzID0gW11cblxuICAgIGlmIChnYW1lLnVzZXIuaXNHTSAmJiBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWQubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIGNhbnZhcy50b2tlbnMuY29udHJvbGxlZCkge1xuICAgICAgICBhY3RvcnMucHVzaCh0b2tlbi5hY3Rvci50b2tlbktleSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGdhbWUudXNlci5jaGFyYWN0ZXIpIHtcbiAgICAgIGFjdG9ycy5wdXNoKGdhbWUudXNlci5jaGFyYWN0ZXIudG9rZW5LZXkpXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB0ayBvZiBhY3RvcnMpIHtcbiAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICBjaGVjay5kaWNlTW9kaWZpZXIgPSBkaWNlTW9kaWZpZXIgfHwgMFxuICAgICAgY2hlY2suZGlmZmljdWx0eSA9IGRpZmZpY3VsdHkgfHwgQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgICBjaGVjay5yYXdWYWx1ZSA9IHRocmVzaG9sZFxuICAgICAgY2hlY2suZmxhdERpY2VNb2RpZmllciA9IGZsYXREaWNlTW9kaWZpZXJcbiAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IGZsYXRUaHJlc2hvbGRNb2RpZmllclxuICAgICAgY2hlY2suYWN0b3IgPSB0a1xuICAgICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgICBjaGVjay50b01lc3NhZ2UoKVxuICAgIH1cblxuICAgIGlmICghYWN0b3JzLmxlbmd0aCkge1xuICAgICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcbiAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IGRpY2VNb2RpZmllciB8fCAwXG4gICAgICBjaGVjay5kaWZmaWN1bHR5ID0gZGlmZmljdWx0eSB8fCBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLnJlZ3VsYXJcbiAgICAgIGNoZWNrLnJhd1ZhbHVlID0gdGhyZXNob2xkXG4gICAgICBjaGVjay5mbGF0RGljZU1vZGlmaWVyID0gZmxhdERpY2VNb2RpZmllclxuICAgICAgY2hlY2suZmxhdFRocmVzaG9sZE1vZGlmaWVyID0gZmxhdFRocmVzaG9sZE1vZGlmaWVyXG4gICAgICBhd2FpdCBjaGVjay5yb2xsKClcbiAgICAgIGNoZWNrLnRvTWVzc2FnZSgpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZUNoYXJTaGVldHMgKCkge1xuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgZm9yIChjb25zdCBhIG9mIGdhbWUuYWN0b3JzLmNvbnRlbnRzKSB7XG4gICAgICAgIGlmIChhPy50eXBlID09PSAnY2hhcmFjdGVyJyAmJiBhPy5zaGVldCAmJiBhPy5zaGVldD8ucmVuZGVyZWQpIHtcbiAgICAgICAgICBhLnVwZGF0ZSh7ICdzeXN0ZW0uZmxhZ3MubG9ja2VkJzogdHJ1ZSB9KVxuICAgICAgICAgIGEucmVuZGVyKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3QgYSBvZiBnYW1lLmFjdG9ycy5jb250ZW50cykge1xuICAgICAgICBpZiAoYS5pc093bmVyKSB7XG4gICAgICAgICAgYS51cGRhdGUoeyAnc3lzdGVtLmZsYWdzLmxvY2tlZCc6IHRydWUgfSlcbiAgICAgICAgICBhLnJlbmRlcihmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgZnJvbSBfb25Ecm9wIHRvIGdldCB0aGUgZHJvcHBlZCBlbnRpdHlUeXBlIG9yIGVudGl0eVR5cGUgZnJvbSBhIGZvbGRlclxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZXZlbnQgQHNlZSBhY3RpdmF0ZUxpc3RlbmVyc1xuICAgKiBAcmV0dXJucyBbaXRlbXNdIGFycmF5IG9mIGl0ZW1zXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0RGF0YUZyb21Ecm9wRXZlbnQgKGV2ZW50LCBlbnRpdHlUeXBlID0gJ0l0ZW0nKSB7XG4gICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQpIHJldHVybiBbXVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhTGlzdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSlcbiAgICAgIGlmIChkYXRhTGlzdC50eXBlID09PSAnRm9sZGVyJyAmJiBkYXRhTGlzdC5kb2N1bWVudE5hbWUgPT09IGVudGl0eVR5cGUpIHtcbiAgICAgICAgY29uc3QgZm9sZGVyID0gYXdhaXQgZnJvbVV1aWQoZGF0YUxpc3QudXVpZClcbiAgICAgICAgaWYgKCFmb2xkZXIpIHJldHVybiBbXVxuICAgICAgICByZXR1cm4gZm9sZGVyLmNvbnRlbnRzXG4gICAgICB9IGVsc2UgaWYgKGRhdGFMaXN0LnR5cGUgPT09IGVudGl0eVR5cGUpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IGZyb21VdWlkKGRhdGFMaXN0LnV1aWQpXG4gICAgICAgIGlmICghaXRlbSkgcmV0dXJuIFtdXG4gICAgICAgIHJldHVybiBbaXRlbV1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNvcHlUb0NsaXBib2FyZCAodGV4dCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAobmF2aWdhdG9yLmNsaXBib2FyZCAmJiB3aW5kb3cuaXNTZWN1cmVDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpXG4gICAgICAgIHRleHRBcmVhLnZhbHVlID0gdGV4dFxuICAgICAgICB0ZXh0QXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcbiAgICAgICAgdGV4dEFyZWEuc3R5bGUubGVmdCA9ICctOTk5cHgnXG4gICAgICAgIHRleHRBcmVhLnN0eWxlLnRvcCA9ICctOTk5cHgnXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpXG4gICAgICAgIHRleHRBcmVhLmZvY3VzKClcbiAgICAgICAgdGV4dEFyZWEuc2VsZWN0KClcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpXG4gICAgICAgICAgICA/IHJlc29sdmUoKVxuICAgICAgICAgICAgOiByZWplY3QoXG4gICAgICAgICAgICAgIG5ldyBFcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVW5hYmxlVG9Db3B5VG9DbGlwYm9hcmQnKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB0ZXh0QXJlYS5yZW1vdmUoKVxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gdWkubm90aWZpY2F0aW9ucy5lcnJvcihlcnIpKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVW5hYmxlVG9Db3B5VG9DbGlwYm9hcmQnKSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcXVvdGVSZWdFeHAgKHN0cmluZykge1xuICAgIC8vIGh0dHBzOi8vYml0YnVja2V0Lm9yZy9jZ2dhZXJ0bmVyL2pzLWhhY2tzL3Jhdy9tYXN0ZXIvcXVvdGUuanNcbiAgICBjb25zdCBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gICAgbGV0IHFTdHJpbmcgPSAnJ1xuXG4gICAgZm9yIChsZXQgY3VycmVudCwgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgY3VycmVudCA9IHN0cmluZy5jaGFyQXQoaSlcblxuICAgICAgaWYgKGN1cnJlbnQgPj0gJyAnICYmIGN1cnJlbnQgPD0gJ34nKSB7XG4gICAgICAgIGlmIChjdXJyZW50ID09PSAnXFxcXCcgfHwgY3VycmVudCA9PT0gXCInXCIpIHtcbiAgICAgICAgICBxU3RyaW5nICs9ICdcXFxcJ1xuICAgICAgICB9XG5cbiAgICAgICAgcVN0cmluZyArPSBjdXJyZW50LnJlcGxhY2UoL1stW1xcXS97fSgpKis/LlxcXFxeJHxdL2csICdcXFxcJCYnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50KSB7XG4gICAgICAgICAgY2FzZSAnXFxiJzpcbiAgICAgICAgICAgIHFTdHJpbmcgKz0gJ1xcXFxiJ1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ1xcZic6XG4gICAgICAgICAgICBxU3RyaW5nICs9ICdcXFxcZidcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgcVN0cmluZyArPSAnXFxcXG4nXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgIHFTdHJpbmcgKz0gJ1xcXFxyJ1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICBxU3RyaW5nICs9ICdcXFxcdCdcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdcXHYnOlxuICAgICAgICAgICAgcVN0cmluZyArPSAnXFxcXHYnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHFTdHJpbmcgKz0gJ1xcXFx1J1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNilcbiAgICAgICAgICAgIGZvciAobGV0IGogPSA0OyAtLWogPj0gY3VycmVudC5sZW5ndGg7IHFTdHJpbmcgKz0gJzAnKTtcbiAgICAgICAgICAgIHFTdHJpbmcgKz0gY3VycmVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHFTdHJpbmdcbiAgfVxuXG4gIHN0YXRpYyBzZXRCeVBhdGggKG9iaiwgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKVxuICAgIGxldCBvID0gb2JqXG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGlmICghb1twYXJ0c1tpXV0pIG9bcGFydHNbaV1dID0ge31cbiAgICAgICAgbyA9IG9bcGFydHNbaV1dXG4gICAgICB9XG4gICAgfVxuXG4gICAgb1twYXJ0c1twYXJ0cy5sZW5ndGggLSAxXV0gPSB2YWx1ZVxuICB9XG5cbiAgc3RhdGljIGdldEJ5UGF0aCAob2JqLCBwYXRoKSB7XG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcuJylcbiAgICBsZXQgbyA9IG9ialxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAoIW9bcGFydHNbaV1dKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgIG8gPSBvW3BhcnRzW2ldXVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvW3BhcnRzW3BhcnRzLmxlbmd0aCAtIDFdXVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGEgRG9jdW1lbnQgYnkgaXRzIFVuaXZlcnNhbGx5IFVuaXF1ZSBJZGVudGlmaWVyICh1dWlkKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHV1aWQgICBUaGUgdXVpZCBvZiB0aGUgRG9jdW1lbnQgdG8gcmV0cmlldmVcbiAgICogQHJldHVybiB7UHJvbWlzZTxEb2N1bWVudHxudWxsPn1cbiAgICovXG4gIHN0YXRpYyBTZnJvbVV1aWQgKHV1aWQpIHtcbiAgICBsZXQgcGFydHMgPSB1dWlkLnNwbGl0KCcuJylcbiAgICBsZXQgZG9jXG5cbiAgICAvLyBDb21wZW5kaXVtIERvY3VtZW50c1xuICAgIGlmIChwYXJ0c1swXSA9PT0gJ0NvbXBlbmRpdW0nKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgICAgLy8gcmV0dXJuIGZyb21VdWlkKHV1aWQpIC8vIFJldHVybiBQcm9taXNlXG4gICAgICAvLyBwYXJ0cy5zaGlmdCgpO1xuICAgICAgLy8gY29uc3QgW3Njb3BlLCBwYWNrTmFtZSwgaWRdID0gcGFydHMuc2xpY2UoMCwgMyk7XG4gICAgICAvLyBwYXJ0cyA9IHBhcnRzLnNsaWNlKDMpO1xuICAgICAgLy8gY29uc3QgcGFjayA9IGdhbWUucGFja3MuZ2V0KGAke3Njb3BlfS4ke3BhY2tOYW1lfWApO1xuICAgICAgLy8gcmV0dXJuIGF3YWl0IHBhY2s/LmdldERvY3VtZW50KGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV29ybGQgRG9jdW1lbnRzXG4gICAgICBjb25zdCBbZG9jTmFtZSwgZG9jSWRdID0gcGFydHMuc2xpY2UoMCwgMilcbiAgICAgIHBhcnRzID0gcGFydHMuc2xpY2UoMilcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBDT05GSUdbZG9jTmFtZV0uY29sbGVjdGlvbi5pbnN0YW5jZVxuICAgICAgZG9jID0gY29sbGVjdGlvbi5nZXQoZG9jSWQpXG4gICAgfVxuXG4gICAgLy8gRW1iZWRkZWQgRG9jdW1lbnRzXG4gICAgd2hpbGUgKGRvYyAmJiBwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBbZW1iZWRkZWROYW1lLCBlbWJlZGRlZElkXSA9IHBhcnRzLnNsaWNlKDAsIDIpXG4gICAgICBkb2MgPSBkb2MuZ2V0RW1iZWRkZWREb2N1bWVudChlbWJlZGRlZE5hbWUsIGVtYmVkZGVkSWQpXG4gICAgICBwYXJ0cyA9IHBhcnRzLnNsaWNlKDIpXG4gICAgfVxuICAgIHJldHVybiBkb2MgfHwgbnVsbFxuICB9XG5cbiAgc3RhdGljIGlzRG9jdW1lbnRVdWlkUGFjayAodXVpZCkge1xuICAgIGlmICh1dWlkLmluY2x1ZGVzKCdDb21wZW5kaXVtJykpIHJldHVybiB0cnVlXG4gICAgZWxzZSByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHN0YXRpYyBpc0RvY3VtZW50VXVpZCAodXVpZCkge1xuICAgIGNvbnN0IGlkZW50aWZpZXJzID0gWydBY3RvcicsICdTY2VuZScsICdUb2tlbicsICdJdGVtJywgJ0NvbXBlbmRpdW0nXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh1dWlkLmluY2x1ZGVzKGlkZW50aWZpZXJzW2ldKSkgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBzdGF0aWMgZ2V0QWN0b3JEb2N1bWVudEZyb21Ecm9wRGF0YSAoZHJvcERhdGEpIHtcbiAgICBsZXQgZG9jVXVpZCwgYWN0b3JcbiAgICBpZiAoZHJvcERhdGEudG9rZW5VdWlkKSB7XG4gICAgICBkb2NVdWlkID0gZHJvcERhdGEudG9rZW5VdWlkXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZHJvcERhdGEudXVpZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRvY1V1aWQgPSBkcm9wRGF0YS51dWlkXG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY1V1aWQgPVxuICAgICAgICBkcm9wRGF0YS5zY2VuZUlkICYmIGRyb3BEYXRhLnRva2VuSWRcbiAgICAgICAgICA/IGBTY2VuZS4ke2Ryb3BEYXRhLnNjZW5lSWR9LlRva2VuLiR7ZHJvcERhdGEudG9rZW5JZH1gXG4gICAgICAgICAgOiBkcm9wRGF0YS5hY3RvcklkIHx8IGRyb3BEYXRhLmFjdG9yS2V5IHx8IGRyb3BEYXRhLmlkXG4gICAgfVxuICAgIGlmIChkcm9wRGF0YS50eXBlID09PSAnVG9rZW4nKSB7XG4gICAgICBkb2NVdWlkID0gZHJvcERhdGEudXVpZFxuICAgIH0gZWxzZSBpZiAoZG9jVXVpZCkge1xuICAgICAgYWN0b3IgPSBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRnJvbUtleShkb2NVdWlkKVxuICAgICAgaWYgKCFhY3RvciAmJiBkcm9wRGF0YS50eXBlID09PSAnSXRlbScpIGRvY1V1aWQgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKGFjdG9yICYmIGRvY1V1aWQgIT09IGFjdG9yLnV1aWQpIHtcbiAgICAgIGRvY1V1aWQgPSBhY3Rvci51dWlkXG4gICAgfVxuICAgIHJldHVybiBkb2NVdWlkXG4gIH1cblxuICBzdGF0aWMgZ2V0RG9jdW1lbnRGcm9tS2V5IChrZXkpIHtcbiAgICBpZiAoIWtleSkgcmV0dXJuIG51bGxcbiAgICAvLyBDYXNlIDAgLSBhIGRvY3VtZW50IFV1aWRcbiAgICBpZiAoQ29DN1V0aWxpdGllcy5pc0RvY3VtZW50VXVpZChrZXkpKSB7XG4gICAgICBpZiAoQ29DN1V0aWxpdGllcy5pc0RvY3VtZW50VXVpZFBhY2soa2V5KSkgcmV0dXJuIGZyb21VdWlkKGtleSkgLy8gVE9ETyBDaGVjayB3ZSBjYW4gZG8gdGhhdFxuICAgICAgcmV0dXJuIENvQzdVdGlsaXRpZXMuU2Zyb21VdWlkKGtleSlcbiAgICB9XG5cbiAgICAvLyBDYXNlIDEgLSBhIHN5bnRoZXRpYyBhY3RvciBmcm9tIGEgVG9rZW5cbiAgICBpZiAoa2V5LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgIC8vIFJFRkFDVE9SSU5HICgyKVxuICAgICAgY29uc3QgW3NjZW5lSWQsIHRva2VuSWRdID0ga2V5LnNwbGl0KCcuJylcbiAgICAgIGlmIChzY2VuZUlkID09PSAnVE9LRU4nKSB7XG4gICAgICAgIHJldHVybiBnYW1lLmFjdG9ycy50b2tlbnNbdG9rZW5JZF0gLy8gUkVGQUNUT1JJTkcgKDIpXG4gICAgICB9XG4gICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgaWYgKCFzY2VuZSkgcmV0dXJuIG51bGxcbiAgICAgIGNvbnN0IHRva2VuRGF0YSA9IHNjZW5lLmdldEVtYmVkZGVkRG9jdW1lbnQoJ1Rva2VuJywgdG9rZW5JZClcbiAgICAgIGlmICghdG9rZW5EYXRhKSByZXR1cm4gbnVsbFxuICAgICAgY29uc3QgdG9rZW4gPSBuZXcgVG9rZW4odG9rZW5EYXRhKVxuICAgICAgaWYgKCF0b2tlbi5zY2VuZSkgdG9rZW4uc2NlbmUgPSBkdXBsaWNhdGUoc2NlbmUpXG4gICAgICByZXR1cm4gdG9rZW5cbiAgICB9XG4gICAgLy8gQ2FzZSAyIC0gdXNlIEFjdG9yIElEIGRpcmVjdG9yeVxuICAgIHJldHVybiBnYW1lLmFjdG9ycy5nZXQoa2V5KSB8fCBudWxsXG4gIH1cblxuICBzdGF0aWMgZ2V0QWN0b3JGcm9tS2V5IChrZXkpIHtcbiAgICBjb25zdCBkb2MgPSBDb0M3VXRpbGl0aWVzLmdldERvY3VtZW50RnJvbUtleShrZXkpXG4gICAgaWYgKCFkb2MpIHJldHVybiBudWxsXG4gICAgaWYgKGRvYy5hY3RvcikgcmV0dXJuIGRvYy5hY3RvclxuICAgIGlmIChkb2MuY29uc3RydWN0b3I/Lm5hbWUgPT09ICdDb0NBY3RvcicpIHJldHVybiBkb2NcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmb2xkZXIgb24gdGhlIGFjdG9ycyB0YWIgY2FsbGVkIFwiSW1wb3J0ZWQgQ2hhcmFjdGVyc1wiIGlmIHRoZSBmb2xkZXIgZG9lc24ndCBleGlzdC5cbiAgICogQHJldHVybnMge0ZvbGRlcn0gdGhlIGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUltcG9ydENoYXJhY3RlcnNGb2xkZXJJZk5vdEV4aXN0cyAoKSB7XG4gICAgbGV0IGZvbGRlck5hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyJylcbiAgICBpZiAoZm9sZGVyTmFtZSA9PT0gJ0NvQzcuSW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyJykge1xuICAgICAgZm9sZGVyTmFtZSA9ICdJbXBvcnRlZCBjaGFyYWN0ZXJzJ1xuICAgIH1cbiAgICBsZXQgaW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyID0gZ2FtZS5mb2xkZXJzLmZpbmQoXG4gICAgICBlbnRyeSA9PiBlbnRyeS5uYW1lID09PSBmb2xkZXJOYW1lICYmIGVudHJ5LnR5cGUgPT09ICdBY3RvcidcbiAgICApXG4gICAgaWYgKFxuICAgICAgaW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyID09PSBudWxsIHx8XG4gICAgICB0eXBlb2YgaW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyID09PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgLy8gQ3JlYXRlIHRoZSBmb2xkZXJcbiAgICAgIGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlciA9IGF3YWl0IEZvbGRlci5jcmVhdGUoe1xuICAgICAgICBuYW1lOiBmb2xkZXJOYW1lLFxuICAgICAgICB0eXBlOiAnQWN0b3InLFxuICAgICAgICBwYXJlbnQ6IG51bGxcbiAgICAgIH0pXG4gICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DcmVhdGVkSW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyJylcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlclxuICB9XG5cbiAgLyoqXG4gICAqIGd1ZXNzSXRlbSwgdHJ5IGFuZCBmaW5kIHRoZSBpdGVtIGluIHRoZSBsb2NhdGlvbnMgZGVmaW5lZCBpbiAke3NvdXJjZX0gaSA9IEl0ZW0gRGlyZWN0b3J5LCB3ID0gV29ybGQgQ29tcGVuZGl1bXMsIG0gPSBNb2R1bGUgQ29tcGVuZGl1bXMsIHMgPSBTeXN0ZW0gQ29tcGVuZGl1bXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgSXRlbSB0eXBlIHRvIGZpbmRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiBpdGVtIHRvIGZpbmRcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbWJhdCBudWxsIChkZWZhdWx0KS4gSWYgYm9vbGVhbiBjb21iYXQgcHJvcGVydHkgb2Ygc2tpbGwgbXVzdCBtYXRjaFxuICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlICcnIChkZWZhdWx0KS4gQ2hlY2sgb3JkZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IGZhbGxiYWNrQW55IGZhbHNlIChkZWZhdWx0KS4gU2hvdWxkIGFueSBzcGVjaWFsaXphdGlvbiB0aGF0IGlzbid0IGZvdW5kIHRyeSB1c2luZyAoQW55KSBpdGVtc1xuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBmb3JtYXR0ZWQgQWN0b3IgZGF0YSBJdGVtIG9yIG51bGxcbiAgICovXG4gIHN0YXRpYyBhc3luYyBndWVzc0l0ZW0gKFxuICAgIHR5cGUsXG4gICAgbmFtZSxcbiAgICB7IGNvbWJhdCA9IG51bGwsIHNvdXJjZSA9ICcnLCBmYWxsYmFja0FueSA9IGZhbHNlIH0gPSB7fVxuICApIHtcbiAgICBsZXQgZXhpc3RpbmcgPSBudWxsXG4gICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKVxuICAgIGZvciAobGV0IG8gPSAwLCBvTSA9IHNvdXJjZS5sZW5ndGg7IG8gPCBvTTsgbysrKSB7XG4gICAgICBzd2l0Y2ggKHNvdXJjZS5zdWJzdHJpbmcobywgbyArIDEpKSB7XG4gICAgICAgIGNhc2UgJ2knOlxuICAgICAgICAgIGV4aXN0aW5nID0gZ2FtZS5pdGVtcy5maW5kKFxuICAgICAgICAgICAgaXRlbSA9PiBpdGVtLnR5cGUgPT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgJiZcbiAgICAgICAgICAgICAgKGNvbWJhdCA9PT0gbnVsbCB8fCBpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9PT0gY29tYmF0KVxuICAgICAgICAgIClcbiAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd3JzpcbiAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgIGZvciAoY29uc3QgcGFjayBvZiBnYW1lLnBhY2tzKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHBhY2subWV0YWRhdGEudHlwZSA9PT0gJ0l0ZW0nICYmXG4gICAgICAgICAgICAgICgoc291cmNlW29dID09PSAndycgJiYgcGFjay5tZXRhZGF0YS5wYWNrYWdlID09PSAnd29ybGQnKSB8fFxuICAgICAgICAgICAgICAgIChzb3VyY2Vbb10gPT09ICdTJyAmJiBwYWNrLm1ldGFkYXRhLnBhY2thZ2UgPT09ICdDb0M3JykgfHxcbiAgICAgICAgICAgICAgICAoc291cmNlW29dID09PSAncycgJiZcbiAgICAgICAgICAgICAgICAgICFbJ3dvcmxkJywgJ0NvQzcnXS5pbmNsdWRlcyhwYWNrLm1ldGFkYXRhLnBhY2thZ2UpKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBhd2FpdCBwYWNrLmdldERvY3VtZW50cygpXG4gICAgICAgICAgICAgIGV4aXN0aW5nID0gZG9jdW1lbnRzLmZpbmQoXG4gICAgICAgICAgICAgICAgaXRlbSA9PlxuICAgICAgICAgICAgICAgICAgaXRlbS50eXBlID09PSB0eXBlICYmXG4gICAgICAgICAgICAgICAgICBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSAmJlxuICAgICAgICAgICAgICAgICAgKGNvbWJhdCA9PT0gbnVsbCB8fCBpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9PT0gY29tYmF0KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmYWxsYmFja0FueSAmJiB0eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IG5hbWUubWF0Y2goL14oLisgXFwoKSg/IWFueSkuKyhcXCkpJC8pXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgbWF0Y2hbMV0gKyAnYW55JyArIG1hdGNoWzJdLFxuICAgICAgICAgIHsgY29tYmF0LCBzb3VyY2UgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRvS2ViYWJDYXNlIChzKSB7XG4gICAgaWYgKCFzKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSBzLm1hdGNoKC9bQS1aXXsyLH0oPz1bQS1aXVthLXpdK1swLTldKnxcXGIpfFtBLVpdP1thLXpdK1swLTldKnxbQS1aXXxbMC05XSsvZylcblxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaC5qb2luKCctJykudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgc3RhdGljIHNvcnRCeU5hbWVLZXkgKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uYW1lXG4gICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgICAgLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgIC5sb2NhbGVDb21wYXJlKFxuICAgICAgICBiLm5hbWVcbiAgICAgICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgICAgICAudG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ09ORklHLCBmbGF0dGVuT2JqZWN0LCBGb3JtQXBwbGljYXRpb24sIGdhbWUsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIENvQ0lERWRpdG9yIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJywgJ2NvYy1pZC1lZGl0b3InXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2NvYy1pZC1lZGl0b3IuaGJzJyxcbiAgICAgIHdpZHRoOiA5MDAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIHRpdGxlOiAnQ29DNy5Db0NJREZsYWcudGl0bGUnLFxuICAgICAgY2xvc2VPblN1Ym1pdDogZmFsc2UsXG4gICAgICBzdWJtaXRPbkNsb3NlOiB0cnVlLFxuICAgICAgc3VibWl0T25DaGFuZ2U6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuc3VwcG9ydGVkTGFuZ3VhZ2VzID0gQ09ORklHLnN1cHBvcnRlZExhbmd1YWdlc1xuXG4gICAgdGhpcy5vcHRpb25zLmVkaXRhYmxlID0gdGhpcy5vYmplY3Quc2hlZXQuaXNFZGl0YWJsZVxuXG4gICAgc2hlZXREYXRhLmd1ZXNzQ29kZSA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5ndWVzc0lkKHRoaXMub2JqZWN0KVxuICAgIHNoZWV0RGF0YS5pZFByZWZpeCA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5nZXRQcmVmaXgodGhpcy5vYmplY3QpXG5cbiAgICBzaGVldERhdGEuY29jaWRGbGFnID0gdGhpcy5vYmplY3QuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZ1xuXG4gICAgc2hlZXREYXRhLmlkID0gc2hlZXREYXRhLmNvY2lkRmxhZz8uaWQgfHwgJydcbiAgICBzaGVldERhdGEubGFuZyA9IHNoZWV0RGF0YS5jb2NpZEZsYWc/LmxhbmcgfHwgZ2FtZS5pMThuLmxhbmdcbiAgICBzaGVldERhdGEucHJpb3JpdHkgPSBzaGVldERhdGEuY29jaWRGbGFnPy5wcmlvcml0eSB8fCAwXG5cbiAgICBzaGVldERhdGEuZXJhcyA9IFtdXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy5lcmFzKSkge1xuICAgICAgc2hlZXREYXRhLmVyYXMucHVzaCh7XG4gICAgICAgIGlkOiBrZXksXG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSh2YWx1ZSksXG4gICAgICAgIGlzRW5hYmxlZDogKHNoZWV0RGF0YS5jb2NpZEZsYWc/LmVyYXMgPz8ge30pW2tleV0gPT09IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICAgIHNoZWV0RGF0YS5lcmFzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuXG4gICAgY29uc3QgQ29DSURLZXlzID0gZmxhdHRlbk9iamVjdChnYW1lLmkxOG4udHJhbnNsYXRpb25zLkNvQzcuQ29DSURGbGFnLmtleXMgPz8ge30pXG4gICAgY29uc3QgcHJlZml4ID0gbmV3IFJlZ0V4cCgnXicgKyBDb0M3VXRpbGl0aWVzLnF1b3RlUmVnRXhwKHNoZWV0RGF0YS5pZFByZWZpeCkpXG4gICAgc2hlZXREYXRhLmV4aXN0aW5nS2V5cyA9IE9iamVjdC5rZXlzKENvQ0lES2V5cykucmVkdWNlKChvYmosIGspID0+IHtcbiAgICAgIGlmIChrLm1hdGNoKHByZWZpeCkpIHtcbiAgICAgICAgb2JqLnB1c2goeyBrLCBuYW1lOiBDb0NJREtleXNba10gfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpcbiAgICB9LCBbXSkuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBzaGVldERhdGEuaXNTeXN0ZW1JRCA9ICh0eXBlb2YgQ29DSURLZXlzW3NoZWV0RGF0YS5pZF0gIT09ICd1bmRlZmluZWQnKVxuICAgIGNvbnN0IG1hdGNoID0gc2hlZXREYXRhLmlkLm1hdGNoKC9eKFteXFxcXC5dKylcXC4oW15cXFxcLl0qKVxcLiguKykvKVxuICAgIHNoZWV0RGF0YS5fZXhpc3RpbmcgPSAobWF0Y2ggJiYgdHlwZW9mIG1hdGNoWzNdICE9PSAndW5kZWZpbmVkJyA/IG1hdGNoWzNdIDogJycpXG5cbiAgICBpZiAoc2hlZXREYXRhLmlkICYmIHNoZWV0RGF0YS5sYW5nKSB7XG4gICAgICAvLyBGaW5kIG91dCBpZiB0aGVyZSBleGlzdHMgYSBkdXBsaWNhdGUgQ29DSURcbiAgICAgIGNvbnN0IHdvcmxkRG9jdW1lbnRzID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJREFsbCh7XG4gICAgICAgIGNvY2lkOiBzaGVldERhdGEuaWQsXG4gICAgICAgIGxhbmc6IHNoZWV0RGF0YS5sYW5nLFxuICAgICAgICBzY29wZTogJ3dvcmxkJ1xuICAgICAgfSlcbiAgICAgIGNvbnN0IHVzZWRFcmFzID0ge31cbiAgICAgIGNvbnN0IHVuaXF1ZVdvcmxkUHJpb3JpdHkgPSB7fVxuICAgICAgc2hlZXREYXRhLndvcmxkRG9jdW1lbnRJbmZvID0gd29ybGREb2N1bWVudHMubWFwKChkKSA9PiB7XG4gICAgICAgIGlmIChkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMpIHtcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMpLmZpbHRlcihlID0+IGVbMV0pLm1hcChlID0+IHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHVuaXF1ZVdvcmxkUHJpb3JpdHksIGQuZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHkgKyAnLycgKyBlWzBdKSkge1xuICAgICAgICAgICAgICB1bmlxdWVXb3JsZFByaW9yaXR5W2QuZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHkgKyAnLycgKyBlWzBdXSA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuaXF1ZVdvcmxkUHJpb3JpdHlbZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5wcmlvcml0eSArICcvJyArIGVbMF1dKytcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5pcXVlV29ybGRQcmlvcml0eVtkLmZsYWdzLkNvQzcuY29jaWRGbGFnLnByaW9yaXR5ICsgJy8qJ10gPSAxXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJhcyA9IChkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMgPyBPYmplY3QuZW50cmllcyhkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMpLmZpbHRlcihlID0+IGVbMV0pLm1hcChlID0+IGVbMF0pLnNvcnQoKSA6IFtdKVxuICAgICAgICBmb3IgKGNvbnN0IGVyYSBvZiBlcmFzKSB7XG4gICAgICAgICAgdXNlZEVyYXNbZXJhXSA9IENPQzcuZXJhc1tlcmFdID8/ICc/J1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZXJhczogZXJhcy5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgY3VycmVudCkge1xuICAgICAgICAgICAgYWxsW2N1cnJlbnRdID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuIGFsbFxuICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICBwcmlvcml0eTogZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5wcmlvcml0eSxcbiAgICAgICAgICBsYW5nOiBkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmxhbmcgPz8gJ2VuJyxcbiAgICAgICAgICBsaW5rOiBUZXh0RWRpdG9yLmVucmljaEhUTUwoZC5saW5rLCB7IGFzeW5jOiBmYWxzZSB9KSxcbiAgICAgICAgICBmb2xkZXI6IGQ/LmZvbGRlcj8ubmFtZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaWYgKE9iamVjdC5lbnRyaWVzKHVuaXF1ZVdvcmxkUHJpb3JpdHkpLmZpbHRlcihjID0+IGNbMV0gPiAxKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNoZWV0RGF0YS53YXJuRHVwbGljYXRlV29ybGRQcmlvcml0eSA9IHRydWVcbiAgICAgIH1cbiAgICAgIHNoZWV0RGF0YS53b3JsZER1cGxpY2F0ZXMgPSB3b3JsZERvY3VtZW50cy5sZW5ndGggPz8gMFxuXG4gICAgICBjb25zdCBjb21wZW5kaXVtRG9jdW1lbnRzID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJREFsbCh7XG4gICAgICAgIGNvY2lkOiBzaGVldERhdGEuaWQsXG4gICAgICAgIGxhbmc6IHNoZWV0RGF0YS5sYW5nLFxuICAgICAgICBzY29wZTogJ2NvbXBlbmRpdW1zJ1xuICAgICAgfSlcbiAgICAgIGNvbnN0IHVuaXF1ZUNvbXBlbmRpdW1Qcmlvcml0eSA9IHt9XG4gICAgICBzaGVldERhdGEuY29tcGVuZGl1bURvY3VtZW50SW5mbyA9IGNvbXBlbmRpdW1Eb2N1bWVudHMubWFwKChkKSA9PiB7XG4gICAgICAgIGlmIChkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMpIHtcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhkLmZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMpLmZpbHRlcihlID0+IGVbMV0pLm1hcChlID0+IHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHVuaXF1ZUNvbXBlbmRpdW1Qcmlvcml0eSwgZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5wcmlvcml0eSArICcvJyArIGVbMF0pKSB7XG4gICAgICAgICAgICAgIHVuaXF1ZUNvbXBlbmRpdW1Qcmlvcml0eVtkLmZsYWdzLkNvQzcuY29jaWRGbGFnLnByaW9yaXR5ICsgJy8nICsgZVswXV0gPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlxdWVDb21wZW5kaXVtUHJpb3JpdHlbZC5mbGFncy5Db0M3LmNvY2lkRmxhZy5wcmlvcml0eSArICcvJyArIGVbMF1dKytcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5pcXVlQ29tcGVuZGl1bVByaW9yaXR5W2QuZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHkgKyAnLyonXSA9IDFcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcmFzID0gKGQuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcyA/IE9iamVjdC5lbnRyaWVzKGQuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcykuZmlsdGVyKGUgPT4gZVsxXSkubWFwKGUgPT4gZVswXSkuc29ydCgpIDogW10pXG4gICAgICAgIGZvciAoY29uc3QgZXJhIG9mIGVyYXMpIHtcbiAgICAgICAgICB1c2VkRXJhc1tlcmFdID0gQ09DNy5lcmFzW2VyYV0gPz8gJz8nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlcmFzOiBlcmFzLnJlZHVjZShmdW5jdGlvbiAoYWxsLCBjdXJyZW50KSB7XG4gICAgICAgICAgICBhbGxbY3VycmVudF0gPSB0cnVlXG4gICAgICAgICAgICByZXR1cm4gYWxsXG4gICAgICAgICAgfSwge30pLFxuICAgICAgICAgIHByaW9yaXR5OiBkLmZsYWdzLkNvQzcuY29jaWRGbGFnLnByaW9yaXR5LFxuICAgICAgICAgIGxhbmc6IGQuZmxhZ3MuQ29DNy5jb2NpZEZsYWcubGFuZyA/PyAnZW4nLFxuICAgICAgICAgIGxpbms6IFRleHRFZGl0b3IuZW5yaWNoSFRNTChkLmxpbmssIHsgYXN5bmM6IGZhbHNlIH0pLFxuICAgICAgICAgIGZvbGRlcjogZD8uZm9sZGVyPy5uYW1lID8/ICcnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBpZiAoT2JqZWN0LmVudHJpZXModW5pcXVlQ29tcGVuZGl1bVByaW9yaXR5KS5maWx0ZXIoYyA9PiBjWzFdID4gMSkubGVuZ3RoID4gMCkge1xuICAgICAgICBzaGVldERhdGEud2FybkR1cGxpY2F0ZUNvbXBlbmRpdW1Qcmlvcml0eSA9IHRydWVcbiAgICAgIH1cbiAgICAgIHNoZWV0RGF0YS5jb21wZW5kaXVtRHVwbGljYXRlcyA9IGNvbXBlbmRpdW1Eb2N1bWVudHMubGVuZ3RoID8/IDBcbiAgICAgIHNoZWV0RGF0YS51c2VkRXJhcyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh1c2VkRXJhcykpIHtcbiAgICAgICAgc2hlZXREYXRhLnVzZWRFcmFzLnB1c2goe1xuICAgICAgICAgIGlkOiBrZXksXG4gICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgc2hlZXREYXRhLnVzZWRFcmFzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgIH0gZWxzZSB7XG4gICAgICBzaGVldERhdGEuY29tcGVuZGl1bURvY3VtZW50SW5mbyA9IFtdXG4gICAgICBzaGVldERhdGEud29ybGREb2N1bWVudEluZm8gPSBbXVxuICAgICAgc2hlZXREYXRhLndvcmxkRHVwbGljYXRlcyA9IDBcbiAgICAgIHNoZWV0RGF0YS5jb21wZW5kaXVtRHVwbGljYXRlcyA9IDBcbiAgICAgIHNoZWV0RGF0YS53YXJuRHVwbGljYXRlV29ybGRQcmlvcml0eSA9IGZhbHNlXG4gICAgICBzaGVldERhdGEud2FybkR1cGxpY2F0ZUNvbXBlbmRpdW1Qcmlvcml0eSA9IGZhbHNlXG4gICAgfVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGh0bWwuZmluZCgnYS5jb3B5LXRvLWNsaXBib2FyZCcpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICBDb0M3VXRpbGl0aWVzLmNvcHlUb0NsaXBib2FyZCgkKHRoaXMpLnNpYmxpbmdzKCdpbnB1dCcpLnZhbCgpKVxuICAgIH0pXG5cbiAgICBpZiAoIXRoaXMub2JqZWN0LnNoZWV0LmlzRWRpdGFibGUpIHJldHVyblxuXG4gICAgaHRtbC5maW5kKCcudG9nZ2xlLXN3aXRjaCcpLmNsaWNrKHRoaXMuX29uQ2xpY2tUb2dnbGUuYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnaW5wdXRbbmFtZT1fZXhpc3RpbmcnKS5jaGFuZ2UoZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnN0IG9iaiA9ICQodGhpcylcbiAgICAgIGNvbnN0IHByZWZpeCA9IG9iai5kYXRhKCdwcmVmaXgnKVxuICAgICAgbGV0IHZhbHVlID0gb2JqLnZhbCgpXG4gICAgICBpZiAodmFsdWUgIT09ICcnKSB7XG4gICAgICAgIHZhbHVlID0gcHJlZml4ICsgQ29DN1V0aWxpdGllcy50b0tlYmFiQ2FzZSh2YWx1ZSlcbiAgICAgIH1cbiAgICAgIGh0bWwuZmluZCgnaW5wdXRbbmFtZT1pZF0nKS52YWwodmFsdWUpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnc2VsZWN0W25hbWU9a25vd25dJykuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgICBjb25zdCBvYmogPSAkKHRoaXMpXG4gICAgICBodG1sLmZpbmQoJ2lucHV0W25hbWU9aWRdJykudmFsKG9iai52YWwoKSlcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCdhW2RhdGEtZ3Vlc3NdJykuY2xpY2soYXN5bmMgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgY29uc3Qgb2JqID0gJCh0aGlzKVxuICAgICAgY29uc3QgZ3Vlc3MgPSBvYmouZGF0YSgnZ3Vlc3MnKVxuICAgICAgaHRtbC5maW5kKCdpbnB1dFtuYW1lPWlkXScpLnZhbChndWVzcykudHJpZ2dlcignY2hhbmdlJylcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGVyYVRvZ2dsZSAoZG9jdW1lbnQsIHByb3BlcnR5SWQpIHtcbiAgICBpZiAoZG9jdW1lbnQudHlwZSA9PT0gJ3NldHVwJykge1xuICAgICAgLy8gU2V0dXBzIGNhbiBvbmx5IGhhdmUgb25lIGVyYSB0byBtYWtlIHN1cmUgdGhlIGNvcnJlY3Qgc2tpbGxzIGFyZSBwb3B1bGF0ZWQgdmlhIENvQyBJRFxuICAgICAgY29uc3QgdXBkYXRlID0ge1xuICAgICAgICBbcHJvcGVydHlJZF06IHRydWVcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uZXJhcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5XSBvZiBPYmplY3QuZW50cmllcyhkb2N1bWVudC5mbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzKSkge1xuICAgICAgICAgIGlmIChrZXkgIT09IHByb3BlcnR5SWQpIHtcbiAgICAgICAgICAgIHVwZGF0ZVsnLT0nICsga2V5XSA9IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGF3YWl0IGRvY3VtZW50LnVwZGF0ZSh7XG4gICAgICAgICdmbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzJzogdXBkYXRlXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50LmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmVyYXNbcHJvcGVydHlJZF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmVyYXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGF3YWl0IGRvY3VtZW50LnVwZGF0ZSh7XG4gICAgICAgICAgJ2ZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMnOiB7XG4gICAgICAgICAgICBbcHJvcGVydHlJZF06IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBkb2N1bWVudC51cGRhdGUoe1xuICAgICAgICAgIFtgZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcy4ke3Byb3BlcnR5SWR9YF06IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgZG9jdW1lbnQudXBkYXRlKHtcbiAgICAgICAgW2BmbGFncy5Db0M3LmNvY2lkRmxhZy5lcmFzLi09JHtwcm9wZXJ0eUlkfWBdOiBudWxsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkNsaWNrVG9nZ2xlIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBwcm9wZXJ0eUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnByb3BlcnR5XG4gICAgYXdhaXQgQ29DSURFZGl0b3IuZXJhVG9nZ2xlKHRoaXMub2JqZWN0LCBwcm9wZXJ0eUlkKVxuICAgIHRoaXMucmVuZGVyKClcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IGlkID0gZm9ybURhdGEuaWQgfHwgJydcbiAgICBhd2FpdCB0aGlzLm9iamVjdC51cGRhdGUoe1xuICAgICAgJ2ZsYWdzLkNvQzcuY29jaWRGbGFnLmlkJzogaWQsXG4gICAgICAnZmxhZ3MuQ29DNy5jb2NpZEZsYWcubGFuZyc6IGZvcm1EYXRhLmxhbmcgfHwgZ2FtZS5pMThuLmxhbmcsXG4gICAgICAnZmxhZ3MuQ29DNy5jb2NpZEZsYWcucHJpb3JpdHknOiBmb3JtRGF0YS5wcmlvcml0eSB8fCAwLFxuICAgICAgJ2ZsYWdzLkNvQzcuY29jaWRGbGFnLmVyYXMnOiAodGhpcy5vYmplY3QuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uZXJhcyA/PyB7fSlcbiAgICB9KVxuICAgIGNvbnN0IGh0bWwgPSAkKHRoaXMub2JqZWN0LnNoZWV0LmVsZW1lbnQpLmZpbmQoJ2hlYWRlci53aW5kb3ctaGVhZGVyIGEuaGVhZGVyLWJ1dHRvbi5lZGl0LWNvYy1pZC13YXJuaW5nLGhlYWRlci53aW5kb3ctaGVhZGVyIGEuaGVhZGVyLWJ1dHRvbi5lZGl0LWNvYy1pZC1leGlzaXRpbmcnKVxuICAgIGlmIChodG1sLmxlbmd0aCkge1xuICAgICAgaHRtbC5jc3Moe1xuICAgICAgICBjb2xvcjogKGlkID8gJ3ZhcigtLWNvbG9yLXRleHQtbGlnaHQtaGlnaGxpZ2h0KScgOiAncmVkJylcbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKClcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUgKi9cbmltcG9ydCB7IENvQ0lERWRpdG9yIH0gZnJvbSAnLi4vYXBwcy9jb2MtaWQtZWRpdG9yLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiAoaGVhZGVyQnV0dG9ucywgc2hlZXQpIHtcbiAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgY29uc3Qgc2hlZXRDb0NJRCA9IHNoZWV0Lm9iamVjdC5mbGFncz8uQ29DNz8uY29jaWRGbGFnXG4gICAgY29uc3Qgbm9JZCA9ICh0eXBlb2Ygc2hlZXRDb0NJRCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHNoZWV0Q29DSUQuaWQgPT09ICd1bmRlZmluZWQnIHx8IHNoZWV0Q29DSUQuaWQgPT09ICcnKVxuICAgIGNvbnN0IENvQ0lERWRpdG9yQnV0dG9uID0ge1xuICAgICAgY2xhc3M6IChub0lkID8gJ2VkaXQtY29jLWlkLXdhcm5pbmcnIDogJ2VkaXQtY29jLWlkLWV4aXNpdGluZycpLFxuICAgICAgbGFiZWw6ICdDb0M3LkNvQ0lERmxhZy5pZCcsXG4gICAgICBpY29uOiAnZmFzIGZhLWZpbmdlcnByaW50JyxcbiAgICAgIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgbmV3IENvQ0lERWRpdG9yKHNoZWV0Lm9iamVjdCwge30pLnJlbmRlcih0cnVlLCB7IGZvY3VzOiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG51bWJlck9mQnV0dG9ucyA9IGhlYWRlckJ1dHRvbnMubGVuZ3RoXG4gICAgaGVhZGVyQnV0dG9ucy5zcGxpY2UobnVtYmVyT2ZCdXR0b25zIC0gMSwgMCwgQ29DSURFZGl0b3JCdXR0b24pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBBY3RpdmVFZmZlY3QsIGdhbWUgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvQzdBY3RpdmVFZmZlY3QgZXh0ZW5kcyBBY3RpdmVFZmZlY3Qge1xuICBhcHBseSAoYWN0b3IsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2Uua2V5ID09PSAnc3lzdGVtLmF0dHJpYnMuYXJtb3IudmFsdWUnKSB7XG4gICAgICAvLyBBcm1vciBjYW4gYmUgZnJlZSB0ZXh0IGlmIGJvdGggYXJlIG51bWJlcnMgYWxsb3cgY2FsY3VsYXRpb25cbiAgICAgIGlmICghaXNOYU4oY2hhbmdlLnZhbHVlKSAmJiAhaXNOYU4oYWN0b3Iuc3lzdGVtLmF0dHJpYnMuYXJtb3IudmFsdWUpKSB7XG4gICAgICAgIGFjdG9yLnN5c3RlbS5hdHRyaWJzLmFybW9yLnZhbHVlID0gTnVtYmVyKGFjdG9yLnN5c3RlbS5hdHRyaWJzLmFybW9yLnZhbHVlKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hhbmdlLmtleSA9PT0gJ3N5c3RlbS5hdHRyaWJzLmRiLnZhbHVlJykge1xuICAgICAgLy8gSWYgZGIgaXMgY3VycmVudGx5IGEgbnVtYmVyIGFsbG93IHN0cmluZ3MgdG8gYmUgYXBwbGllZFxuICAgICAgaWYgKGlzTmFOKGNoYW5nZS52YWx1ZSkgJiYgIWlzTmFOKGFjdG9yLnN5c3RlbS5hdHRyaWJzLmRiLnZhbHVlKSkge1xuICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZSA9IFN0cmluZyhhY3Rvci5zeXN0ZW0uYXR0cmlicy5kYi52YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hhbmdlcyA9IHN1cGVyLmFwcGx5KGFjdG9yLCBjaGFuZ2UpXG4gICAgcmV0dXJuIGNoYW5nZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBNYW5hZ2UgQWN0aXZlIEVmZmVjdCBpbnN0YW5jZXMgdGhyb3VnaCB0aGUgQWN0b3IgU2hlZXQgdmlhIGVmZmVjdCBjb250cm9sIGJ1dHRvbnMuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgICAgICBUaGUgbGVmdC1jbGljayBldmVudCBvbiB0aGUgZWZmZWN0IGNvbnRyb2xcbiAgICogQHBhcmFtIHtBY3RvcnxJdGVtfSBvd25lciAgICAgIFRoZSBvd25pbmcgZG9jdW1lbnQgd2hpY2ggbWFuYWdlcyB0aGlzIGVmZmVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXxudWxsfSAgICAgICAgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNoYW5nZXMgYXJlIGNvbXBsZXRlLlxuICAgKi9cbiAgc3RhdGljIG9uTWFuYWdlQWN0aXZlRWZmZWN0IChldmVudCwgb3duZXIpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBsaSA9IGEuY2xvc2VzdCgnbGknKVxuICAgIGNvbnN0IGVmZmVjdCA9IGxpLmRhdGFzZXQuZWZmZWN0SWRcbiAgICAgID8gb3duZXIuZWZmZWN0cy5nZXQobGkuZGF0YXNldC5lZmZlY3RJZClcbiAgICAgIDogbnVsbFxuICAgIHN3aXRjaCAoYS5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAnY3JlYXRlJzpcbiAgICAgICAgcmV0dXJuIG93bmVyLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdBY3RpdmVFZmZlY3QnLCBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FZmZlY3ROZXcnKSxcbiAgICAgICAgICAgIGljb246ICdpY29ucy9zdmcvYXVyYS5zdmcnLFxuICAgICAgICAgICAgb3JpZ2luOiBvd25lci51dWlkLFxuICAgICAgICAgICAgJ2R1cmF0aW9uLnJvdW5kcyc6XG4gICAgICAgICAgICAgIGxpLmRhdGFzZXQuZWZmZWN0VHlwZSA9PT0gJ3RlbXBvcmFyeScgPyAxIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGxpLmRhdGFzZXQuZWZmZWN0VHlwZSA9PT0gJ2luYWN0aXZlJ1xuICAgICAgICAgIH1cbiAgICAgICAgXSlcbiAgICAgIGNhc2UgJ2VkaXQnOlxuICAgICAgICByZXR1cm4gZWZmZWN0LnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgcmV0dXJuIGVmZmVjdC5kZWxldGUoKVxuICAgICAgY2FzZSAndG9nZ2xlJzpcbiAgICAgICAgcmV0dXJuIGVmZmVjdC51cGRhdGUoeyBkaXNhYmxlZDogIWVmZmVjdC5kaXNhYmxlZCB9KVxuICAgIH1cbiAgfVxuXG4gIF9wcmVwYXJlRHVyYXRpb24gKCkge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gc3VwZXIuX3ByZXBhcmVEdXJhdGlvbigpXG4gICAgaWYgKGR1cmF0aW9uLnR5cGUgPT09ICdzZWNvbmRzJykge1xuICAgICAgaWYgKGR1cmF0aW9uLnNlY29uZHMgPiAzNjAwKSB7XG4gICAgICAgIGR1cmF0aW9uLmxhYmVsID0gbmV3IERhdGUoZHVyYXRpb24uc2Vjb25kcyAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc2xpY2UoMTEsIDE5KVxuICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbi5zZWNvbmRzID4gMTAwKSB7XG4gICAgICAgIGR1cmF0aW9uLmxhYmVsID0gbmV3IERhdGUoZHVyYXRpb24uc2Vjb25kcyAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc2xpY2UoMTQsIDE5KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZHVyYXRpb25cbiAgfVxuXG4gIGdldCBpc1N0YXR1cyAoKSB7XG4gICAgY29uc3Qgc3RhdHVzSWQgPSB0aGlzLmdldEZsYWcoJ2NvcmUnLCAnc3RhdHVzSWQnKVxuICAgIHJldHVybiBbXG4gICAgICAndGVtcG9JbnNhbmUnLFxuICAgICAgJ2luZGVmSW5zYW5lJyxcbiAgICAgICdjcml0aWNhbFdvdW5kcycsXG4gICAgICAnZHlpbmcnLFxuICAgICAgJ2RlYWQnLFxuICAgICAgJ3VuY29uc2Npb3VzJyxcbiAgICAgICdwcm9uZSdcbiAgICBdLmluY2x1ZGVzKHN0YXR1c0lkKVxuICB9XG5cbiAgc3RhdGljIHByZXBhcmVBY3RpdmVFZmZlY3RDYXRlZ29yaWVzIChlZmZlY3RzLCB7IHN0YXR1cyA9IHRydWUgfSA9IHt9KSB7XG4gICAgLy8gRGVmaW5lIGVmZmVjdCBoZWFkZXIgY2F0ZWdvcmllc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgICB0ZW1wb3Jhcnk6IHtcbiAgICAgICAgdHlwZTogJ3RlbXBvcmFyeScsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1RlbXBvcmFyeScpLFxuICAgICAgICBlZmZlY3RzOiBbXVxuICAgICAgfSxcbiAgICAgIHBhc3NpdmU6IHtcbiAgICAgICAgdHlwZTogJ3Bhc3NpdmUnLFxuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdQYXNzaXZlJyksXG4gICAgICAgIGVmZmVjdHM6IFtdXG4gICAgICB9LFxuICAgICAgaW5hY3RpdmU6IHtcbiAgICAgICAgdHlwZTogJ2luYWN0aXZlJyxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnSW5hY3RpdmUnKSxcbiAgICAgICAgZWZmZWN0czogW11cbiAgICAgIH0sXG4gICAgICBzdXBwcmVzc2VkOiB7XG4gICAgICAgIHR5cGU6ICdzdXBwcmVzc2VkJyxcbiAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU3VwcHJlc3NlZCcpLFxuICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgaW5mbzogW2dhbWUuaTE4bi5sb2NhbGl6ZSgnVW5hdmFpbGFibGUnKV1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzKSB7XG4gICAgICBjYXRlZ29yaWVzLnN0YXR1cyA9IHtcbiAgICAgICAgdHlwZTogJ3N0YXR1cycsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1N0YXR1cycpLFxuICAgICAgICBlZmZlY3RzOiBbXVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBJdGVyYXRlIG92ZXIgYWN0aXZlIGVmZmVjdHMsIGNsYXNzaWZ5aW5nIHRoZW0gaW50byBjYXRlZ29yaWVzXG4gICAgZm9yIChjb25zdCBlIG9mIGVmZmVjdHMpIHtcbiAgICAgIGUuX2dldFNvdXJjZU5hbWUoKSAvLyBUcmlnZ2VyIGEgbG9va3VwIGZvciB0aGUgc291cmNlIG5hbWVcbiAgICAgIGlmIChlLmlzU3VwcHJlc3NlZCkgY2F0ZWdvcmllcy5zdXBwcmVzc2VkLmVmZmVjdHMucHVzaChlKVxuICAgICAgZWxzZSBpZiAoZS5pc1N0YXR1cykgY2F0ZWdvcmllcy5zdGF0dXMuZWZmZWN0cy5wdXNoKGUpXG4gICAgICBlbHNlIGlmIChlLmRpc2FibGVkKSBjYXRlZ29yaWVzLmluYWN0aXZlLmVmZmVjdHMucHVzaChlKVxuICAgICAgZWxzZSBpZiAoZS5pc1RlbXBvcmFyeSkgY2F0ZWdvcmllcy50ZW1wb3JhcnkuZWZmZWN0cy5wdXNoKGUpXG4gICAgICBlbHNlIGNhdGVnb3JpZXMucGFzc2l2ZS5lZmZlY3RzLnB1c2goZSlcbiAgICB9XG5cbiAgICBjYXRlZ29yaWVzLnN1cHByZXNzZWQuaGlkZGVuID0gIWNhdGVnb3JpZXMuc3VwcHJlc3NlZC5lZmZlY3RzLmxlbmd0aFxuICAgIHJldHVybiBjYXRlZ29yaWVzXG4gIH1cblxuICBzdGF0aWMgcHJlcGFyZU5QQ0FjdGl2ZUVmZmVjdENhdGVnb3JpZXMgKGVmZmVjdHMpIHtcbiAgICBsZXQgY291bnQgPSAwXG4gICAgLy8gRGVmaW5lIGVmZmVjdCBoZWFkZXIgY2F0ZWdvcmllc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7XG4gICAgICBhY3RpdmU6IHtcbiAgICAgICAgdHlwZTogJ2FjdGl2ZScsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0FjdGl2ZScpLFxuICAgICAgICBlZmZlY3RzOiBbXVxuICAgICAgfSxcbiAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgIHR5cGU6ICdpbmFjdGl2ZScsXG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0luYWN0aXZlJyksXG4gICAgICAgIGVmZmVjdHM6IFtdXG4gICAgICB9XG4gICAgfVxuICAgIC8vIEl0ZXJhdGUgb3ZlciBhY3RpdmUgZWZmZWN0cywgY2xhc3NpZnlpbmcgdGhlbSBpbnRvIGNhdGVnb3JpZXNcbiAgICBmb3IgKGNvbnN0IGUgb2YgZWZmZWN0cykge1xuICAgICAgY291bnQgKz0gMVxuICAgICAgZS5fZ2V0U291cmNlTmFtZSgpIC8vIFRyaWdnZXIgYSBsb29rdXAgZm9yIHRoZSBzb3VyY2UgbmFtZVxuICAgICAgaWYgKGUuaXNTdXBwcmVzc2VkIHx8IGUuZGlzYWJsZWQpIGNhdGVnb3JpZXMuaW5hY3RpdmUuZWZmZWN0cy5wdXNoKGUpXG4gICAgICBlbHNlIGNhdGVnb3JpZXMuYWN0aXZlLmVmZmVjdHMucHVzaChlKVxuICAgIH1cblxuICAgIGlmIChjb3VudCA+IDApIGNhdGVnb3JpZXMuZXhwZW5kZWQgPSB0cnVlXG4gICAgcmV0dXJuIGNhdGVnb3JpZXNcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsZ2FtZSAqL1xuZXhwb3J0IGNsYXNzIENvQzdDb250ZXh0TWVudSB7XG4gIGJpbmQgKG1lbnUsIGh0bWwsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIHRoaXMuX2h0bWwgPSBodG1sXG4gICAgdGhpcy5fbWVudSA9IG1lbnVcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVudVRyaWdnZXIgPSBodG1sLmZpbmQoYFtkYXRhLWNvbnRleHQtbWVudT0ke21lbnUuaWR9XWApIC8vIEZpbmQgYWxsIG1lbnUgdHJpZ2dlcnMuXG4gICAgICBpZiAobWVudVRyaWdnZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLy8gSWYgdGhlcmUgaXMgbm8gdHJpZ2dlciwgZG8gbm90IGNvbnRpbnVlLlxuICAgICAgbWVudVRyaWdnZXIuY29udGV4dG1lbnUodGhpcy5fb25Db250ZXh0TWVudS5iaW5kKHRoaXMpKSAvLyBBdHRhY2ggdGhlIGhhbmRsZXIuXG4gICAgICBjb25zdCBtZW51RWxlbWVudCA9IENvQzdDb250ZXh0TWVudS5DcmVhdGVNZW51KG1lbnUpIC8vIEJ1aWxkIHRoZSBtZW51XG4gICAgICBtZW51RWxlbWVudC5vbignY2xpY2snLFxuICAgICAgICAnLm1lbnUtYWN0aW9uJyxcbiAgICAgICAgdGhpcy5fb25NZW51QWN0aW9uLmJpbmQodGhpcykpXG4gICAgICAvLyBjb25zdCBkb2N1bWVudE1lbnUgPSB0aGlzLm1lbnVDb250YWluZXIuZmluZChgLmNvbnRleHQtbWVudS13cmFwcGVyLiR7bWVudS5pZH1gKVxuICAgICAgaWYgKHRoaXMubWVudS5sZW5ndGggIT09IDApIHRoaXMubWVudS5yZXBsYWNlV2l0aChtZW51RWxlbWVudClcbiAgICAgIGVsc2UgdGhpcy5tZW51Q29udGFpbmVyLmFwcGVuZChtZW51RWxlbWVudClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcbiAgICB9XG4gIH1cblxuICBnZXQgbWVudUNvbnRhaW5lciAoKSB7XG4gICAgbGV0IG1lbnVDb250YWluZXIgPSB0aGlzLl9odG1sLmZpbmQoJy5tZW51LWNvbnRhaW5lcicpXG4gICAgaWYgKG1lbnVDb250YWluZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9odG1sLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm1lbnUtY29udGFpbmVyXCI+PC9kaXY+JylcbiAgICAgIG1lbnVDb250YWluZXIgPSB0aGlzLl9odG1sLmZpbmQoJy5tZW51LWNvbnRhaW5lcicpXG4gICAgfVxuICAgIHJldHVybiBtZW51Q29udGFpbmVyXG4gIH1cblxuICBnZXQgbWVudSAoKSB7XG4gICAgLy8gY29uc3QgbWVudUNvbnRhaW5lciA9IHRoaXMubWVudUNvbnRhaW5lclxuICAgIC8vIGlmICghbWVudUNvbnRhaW5lciB8fCBtZW51Q29udGFpbmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gdGhpcy5tZW51Q29udGFpbmVyLmZpbmQoYC5jb250ZXh0LW1lbnUtd3JhcHBlci4ke3RoaXMuX21lbnUuaWR9YClcbiAgfVxuXG4gIF9vbk1lbnVBY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIC8vIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdicmFuY2gnKSkgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrKGV2ZW50LCB0aGlzLnRhcmdldClcbiAgfVxuXG4gIHN0YXRpYyBjbG9zZUFsbCAoKSB7XG4gICAgY29uc3QgbWVudUNvbnRhaW5lcnMgPSAkKCdib2R5JykuZmluZCgnLm1lbnUtY29udGFpbmVyJylcbiAgICBjb25zdCBtZW51cyA9IG1lbnVDb250YWluZXJzLmZpbmQoJy5jb250ZXh0LW1lbnUtd3JhcHBlcicpXG4gICAgbWVudXMuZWFjaChmdW5jdGlvbiAoaSwgbSkgeyBtLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJyB9KVxuICAgIC8vIGJvZHkuZmluZCgnLm1lbnUtd3JhcHBlcicpLmhpZGUoKVxuICB9XG5cbiAgX29uQ29udGV4dE1lbnUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQodHJ1ZSlcbiAgICBDb0M3Q29udGV4dE1lbnUuY2xvc2VBbGwoKSAvLyBPbmx5IDEgbWVudSBjYW4gYmUgb3Blbi5cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudD8uY3VycmVudFRhcmdldFxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0XG4gICAgaWYgKCF0YXJnZXQpIHJldHVyblxuICAgIGNvbnN0IG1lbnVOYW1lID0gdGFyZ2V0LmRhdGFzZXQ/LmNvbnRleHRNZW51XG4gICAgaWYgKG1lbnVOYW1lID09PSB0aGlzLl9tZW51LmlkKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5tZW51XG4gICAgICBpZiAod3JhcHBlci5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHN1Yk1lbnUgPSB3cmFwcGVyLmZpbmQoJy5zdWItbWVudScpXG4gICAgICAgIGxldCBsZWZ0ID0gZXZlbnQuY2xpZW50WFxuICAgICAgICBsZXQgdG9wID0gZXZlbnQuY2xpZW50WVxuICAgICAgICBjb25zdCBtZW51SGVpZ2h0ID0gd3JhcHBlci5vdXRlckhlaWdodCgpXG4gICAgICAgIGNvbnN0IG1lbnVXaWR0aCA9IHdyYXBwZXIub3V0ZXJXaWR0aCgpXG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCBtZW51SGVpZ2h0ICsgdG9wKSB7XG4gICAgICAgICAgdG9wID0gdG9wIC0gbWVudUhlaWdodFxuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IG1lbnVXaWR0aCArIGxlZnQpIHtcbiAgICAgICAgICBsZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLSBtZW51V2lkdGhcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3ViTWVudS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgbWVudVdpZHRoICsgbGVmdCArIHN1Yk1lbnUub3V0ZXJXaWR0aCgpKSB7XG4gICAgICAgICAgICBzdWJNZW51LmNzcyh7XG4gICAgICAgICAgICAgIHJpZ2h0OiBgJHttZW51V2lkdGggLSA1fXB4YCxcbiAgICAgICAgICAgICAgbGVmdDogJydcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1Yk1lbnUuY3NzKHtcbiAgICAgICAgICAgICAgbGVmdDogYCR7bWVudVdpZHRoIC0gNX1weGAsXG4gICAgICAgICAgICAgIHJpZ2h0OiAnJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlci5jc3Moe1xuICAgICAgICAgIGxlZnQ6IGAke2xlZnR9cHhgLFxuICAgICAgICAgIHRvcDogYCR7dG9wfXB4YCxcbiAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZSdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgY2FuU2VlICh2aXNpYmlsaXR5KSB7XG4gICAgc3dpdGNoICh2aXNpYmlsaXR5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgJ2dtJzpcbiAgICAgICAgcmV0dXJuIGdhbWUudXNlci5pc0dNXG4gICAgICBjYXNlICd0cnVzdGVkJzpcbiAgICAgICAgcmV0dXJuIGdhbWUudXNlci5pc1RydXN0ZWRcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIENyZWF0ZU1lbnUgKG1lbnUpIHtcbiAgICBjb25zdCBjbGFzc2VzID0gdHlwZW9mIG1lbnUuY2xhc3NlcyA9PT0gJ3N0cmluZycgPyBbbWVudS5jbGFzc2VzXSA6IG1lbnUuY2xhc3Nlc1xuICAgIGNsYXNzZXMucHVzaCgnY29udGV4dC1tZW51LXdyYXBwZXInKVxuICAgIGNvbnN0IHdyYXBwZXIgPSAkKCc8ZGl2PjwvZGl2PicpXG4gICAgd3JhcHBlci5hZGRDbGFzcyhtZW51LmlkKVxuICAgIGNsYXNzZXMuZm9yRWFjaChjID0+IHdyYXBwZXIuYWRkQ2xhc3MoYykpXG4gICAgaWYgKG1lbnUuc2VjdGlvbikge1xuICAgICAgbWVudS5zZWN0aW9uLmZvckVhY2gocyA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBDb0M3Q29udGV4dE1lbnUuQ3JlYXRlU2VjdGlvbihzLCB7IG11bHRpOiB0cnVlIH0pXG4gICAgICAgIGlmIChzZWN0aW9uKSB3cmFwcGVyLmFwcGVuZChzZWN0aW9uKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IENvQzdDb250ZXh0TWVudS5DcmVhdGVTZWN0aW9uKG1lbnUpXG4gICAgICBpZiAoc2VjdGlvbikgd3JhcHBlci5hcHBlbmQoc2VjdGlvbilcbiAgICB9XG4gICAgcmV0dXJuIHdyYXBwZXJcbiAgfVxuXG4gIHN0YXRpYyBDcmVhdGVTZWN0aW9uIChzLCB7IG11bHRpID0gZmFsc2UsIHN1Yk1lbnUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBpZiAoIXMuaXRlbXMpIHJldHVybiBudWxsXG4gICAgaWYgKHMudmlzaWJpbGl0eSAmJiAhQ29DN0NvbnRleHRNZW51LmNhblNlZShzLnZpc2liaWxpdHkpKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGNsYXNzZXMgPSBzLmNsYXNzZXMgPyB0eXBlb2Ygcy5jbGFzc2VzID09PSAnc3RyaW5nJyA/IFtzLmNsYXNzZXNdIDogcy5jbGFzc2VzIDogW11cbiAgICBpZiAobXVsdGkpIGNsYXNzZXMucHVzaCgnbWVudS1zZWN0aW9uJylcbiAgICBpZiAoc3ViTWVudSkgY2xhc3Nlcy5wdXNoKCdzdWItbWVudScpXG4gICAgY29uc3Qgc2VjdGlvbiA9ICQoJzx1bD48L3VsPicpXG4gICAgY2xhc3Nlcy5mb3JFYWNoKGMgPT4gc2VjdGlvbi5hZGRDbGFzcyhjKSlcbiAgICBzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICBjb25zdCBsaSA9ICQoJzxsaT48L2xpPicpXG4gICAgICBsaS5hZGRDbGFzcygnbWVudS1pdGVtJylcbiAgICAgIGlmIChpLmFjdGlvbikge1xuICAgICAgICBsaS5hZGRDbGFzcygnbWVudS1hY3Rpb24nKVxuICAgICAgICBsaS5hdHRyKCdkYXRhLWFjdGlvbicsIGkuYWN0aW9uKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpLmxhYmVsID09PSAnc3RyaW5nJykgbGkuYXBwZW5kKGA8c3Bhbj4ke2kubGFiZWx9PC9zcGFuPmApXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGkubGFiZWwuaWNvbikgbGkuYXBwZW5kKGA8aSBjbGFzcz1cIiR7aS5sYWJlbC5pY29ufVwiPjwvaT5gKVxuICAgICAgICBpZiAoaS5sYWJlbC50ZXh0KSBsaS5hcHBlbmQoYDxzcGFuPiR7aS5sYWJlbC50ZXh0fTwvc3Bhbj5gKVxuICAgICAgfVxuICAgICAgaWYgKGkuc3ViTWVudSkge1xuICAgICAgICBsaS5hZGRDbGFzcygnc3ViLW1lbnUtYnV0dG9uJylcbiAgICAgICAgbGkuYXBwZW5kKCc8aSBjbGFzcz1cImZhcyBmYS1jYXJldC1yaWdodFwiPjwvaT4nKVxuICAgICAgICBjb25zdCBzdWIgPSBDb0M3Q29udGV4dE1lbnUuQ3JlYXRlU2VjdGlvbihpLnN1Yk1lbnUsIHsgc3ViTWVudTogdHJ1ZSB9KVxuICAgICAgICBpZiAoc3ViKSBsaS5hcHBlbmQoc3ViKVxuICAgICAgfVxuICAgICAgc2VjdGlvbi5hcHBlbmQobGkpXG4gICAgfSlcbiAgICByZXR1cm4gc2VjdGlvblxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQWN0b3JTaGVldCwgQ2hhdE1lc3NhZ2UsIENPTlNULCBEaWFsb2csIEZvcm1EYXRhLCBmb3VuZHJ5LCBnYW1lLCBnZXRQcm9wZXJ0eSwgSG9va3MsIEl0ZW0sIG1lcmdlT2JqZWN0LCBSb2xsLCBUZXh0RWRpdG9yLCB1aSAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IFJvbGxEaWFsb2cgfSBmcm9tICcuLi8uLi9hcHBzL3JvbGwtZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vYXBwcy9jb2M3LWNoYXQtbWVzc2FnZS5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uLy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN0NvbnRlbnRMaW5rRGlhbG9nIH0gZnJvbSAnLi4vLi4vYXBwcy9jb2M3LWNvbnRlbnQtbGluay1kaWFsb2cuanMnXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi8uLi9pdGVtcy9pdGVtLmpzJ1xuaW1wb3J0IHsgQ29DN01lbGVlSW5pdGlhdG9yIH0gZnJvbSAnLi4vLi4vY2hhdC9jb21iYXQvbWVsZWUtaW5pdGlhdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN1JhbmdlSW5pdGlhdG9yIH0gZnJvbSAnLi4vLi4vY2hhdC9yYW5nZWNvbWJhdC5qcydcbmltcG9ydCB7IENvQzdDb25DaGVjayB9IGZyb20gJy4uLy4uL2NoYXQvY29uY2hlY2suanMnXG5pbXBvcnQgeyBjaGF0SGVscGVyLCBpc0N0cmxLZXkgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi4vLi4vYXBwcy9jb2M3LWxpbmsuanMnXG5pbXBvcnQgeyBEYW1hZ2VDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9kYW1hZ2UuanMnXG5pbXBvcnQgQ29DN0FjdGl2ZUVmZmVjdCBmcm9tICcuLi8uLi9hY3RpdmUtZWZmZWN0LmpzJ1xuaW1wb3J0IHsgQ29DN0NvbnRleHRNZW51IH0gZnJvbSAnLi4vLi4vY29udGV4dC1tZW51LmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEFjdG9yU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdBY3RvclNoZWV0IGV4dGVuZHMgQWN0b3JTaGVldCB7XG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuc2hvd0hpZGRlbkRldk1lbnUgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdoaWRkZW5kZXZtZW51JylcblxuICAgIHNoZWV0RGF0YS5jYW5EcmFnVG9rZW4gPSAhIXRoaXMudG9rZW4gJiYgZ2FtZS51c2VyLmlzR01cbiAgICBzaGVldERhdGEubGlua2VkQWN0b3IgPSB0aGlzLmFjdG9yLnByb3RvdHlwZVRva2VuPy5hY3RvckxpbmsgPT09IHRydWVcbiAgICBzaGVldERhdGEuaXNUb2tlbiA9IHRoaXMuYWN0b3IuaXNUb2tlblxuICAgIHNoZWV0RGF0YS5pdGVtc0J5VHlwZSA9IHt9XG4gICAgc2hlZXREYXRhLnNraWxscyA9IHt9XG4gICAgc2hlZXREYXRhLmNvbWJhdFNraWxscyA9IHt9XG4gICAgc2hlZXREYXRhLndlYXBvbnMgPSB7fVxuICAgIHNoZWV0RGF0YS5yYW5nZVdwbiA9IFtdXG4gICAgc2hlZXREYXRhLm1lbGVlV3BuID0gW11cbiAgICBzaGVldERhdGEuYWN0b3JGbGFncyA9IHt9XG5cbiAgICBzaGVldERhdGEuZWZmZWN0cyA9XG4gICAgICB0aGlzLmFjdG9yLnR5cGUgPT09ICdjaGFyYWN0ZXInXG4gICAgICAgID8gQ29DN0FjdGl2ZUVmZmVjdC5wcmVwYXJlQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyh0aGlzLmFjdG9yLmVmZmVjdHMpXG4gICAgICAgIDogQ29DN0FjdGl2ZUVmZmVjdC5wcmVwYXJlTlBDQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyh0aGlzLmFjdG9yLmVmZmVjdHMpXG5cbiAgICBzaGVldERhdGEucGVybWlzc2lvbkxpbWl0ZWQgPSAhZ2FtZS51c2VyLmlzR00gJiYgKHRoaXMuYWN0b3Iub3duZXJzaGlwW2dhbWUudXNlci5pZF0gPz8gdGhpcy5hY3Rvci5vd25lcnNoaXAuZGVmYXVsdCkgPT09IENPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuTElNSVRFRFxuXG4gICAgc2hlZXREYXRhLmlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICBzaGVldERhdGEuYWxsb3dVbmxvY2sgPVxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncGxheWVyVW5sb2NrU2hlZXRNb2RlJykgPT09ICdhbHdheXMnIHx8XG4gICAgICBnYW1lLnVzZXIuaXNHTSB8fFxuICAgICAgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3BsYXllclVubG9ja1NoZWV0TW9kZScpID09PSAnY3JlYXRpb24nICYmXG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2NoYXJDcmVhdGlvbkVuYWJsZWQnKSlcbiAgICBpZiAoXG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwbGF5ZXJVbmxvY2tTaGVldE1vZGUnKSA9PT0gJ2NyZWF0aW9uJyAmJlxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnY2hhckNyZWF0aW9uRW5hYmxlZCcpXG4gICAgKSB7XG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3Rvci50eXBlICE9PSAndmVoaWNsZScpIHtcbiAgICAgIGlmICghc2hlZXREYXRhLmRhdGEuc3lzdGVtLmNoYXJhY3RlcmlzdGljcykge1xuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzID0ge1xuICAgICAgICAgIHN0cjoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5TVFInLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuU3RyZW5ndGgnLFxuICAgICAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29uOiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHNob3J0OiAnQ0hBUkFDLkNPTicsXG4gICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5Db25zdGl0dXRpb24nLFxuICAgICAgICAgICAgZm9ybXVsYTogbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2l6OiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHNob3J0OiAnQ0hBUkFDLlNJWicsXG4gICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5TaXplJyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRleDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5ERVgnLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuRGV4dGVyaXR5JyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5BUFAnLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuQXBwZWFyYW5jZScsXG4gICAgICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbnQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdDSEFSQUMuSU5UJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLkludGVsbGlnZW5jZScsXG4gICAgICAgICAgICBmb3JtdWxhOiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwb3c6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdDSEFSQUMuUE9XJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLlBvd2VyJyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVkdToge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0NIQVJBQy5FRFUnLFxuICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuRWR1Y2F0aW9uJyxcbiAgICAgICAgICAgIGZvcm11bGE6IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicykge1xuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicyA9IHtcbiAgICAgICAgICBocDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXg6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0hQJyxcbiAgICAgICAgICAgIGxhYmVsOiAnSGl0IHBvaW50cycsXG4gICAgICAgICAgICBhdXRvOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtcDoge1xuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXg6IG51bGwsXG4gICAgICAgICAgICBzaG9ydDogJ0hQJyxcbiAgICAgICAgICAgIGxhYmVsOiAnTWFnaWMgcG9pbnRzJyxcbiAgICAgICAgICAgIGF1dG86IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxjazogeyB2YWx1ZTogbnVsbCwgc2hvcnQ6ICdMQ0snLCBsYWJlbDogJ0x1Y2snIH0sXG4gICAgICAgICAgc2FuOiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG1heDogOTksXG4gICAgICAgICAgICBzaG9ydDogJ1NBTicsXG4gICAgICAgICAgICBsYWJlbDogJ1Nhbml0eScsXG4gICAgICAgICAgICBhdXRvOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtb3Y6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdNT1YnLFxuICAgICAgICAgICAgbGFiZWw6ICdNb3ZlbWVudCByYXRlJyxcbiAgICAgICAgICAgIGF1dG86IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRiOiB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHNob3J0OiAnREInLFxuICAgICAgICAgICAgbGFiZWw6ICdEYW1hZ2UgYm9udXMnLFxuICAgICAgICAgICAgYXV0bzogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYnVpbGQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc2hvcnQ6ICdCTEQnLFxuICAgICAgICAgICAgbGFiZWw6ICdCdWlsZCcsXG4gICAgICAgICAgICBhdXRvOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcm1vcjogeyB2YWx1ZTogbnVsbCwgYXV0bzogZmFsc2UgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghc2hlZXREYXRhLmRhdGEuc3lzdGVtLmJpb2dyYXBoeSkge1xuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5ID0ge1xuICAgICAgICAgIHBlcnNvbmFsRGVzY3JpcHRpb246IHsgdHlwZTogJ3N0cmluZycsIHZhbHVlOiAnJyB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3MpIHtcbiAgICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zID0ge1xuICAgICAgICAgIG9jY3VwYXRpb246ICcnLFxuICAgICAgICAgIGFnZTogJycsXG4gICAgICAgICAgc2V4OiAnJyxcbiAgICAgICAgICByZXNpZGVuY2U6ICcnLFxuICAgICAgICAgIGJpcnRocGxhY2U6ICcnLFxuICAgICAgICAgIGFyY2hldHlwZTogJycsXG4gICAgICAgICAgb3JnYW5pemF0aW9uOiAnJyxcbiAgICAgICAgICBwbGF5ZXJuYW1lOiAnJ1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghc2hlZXREYXRhLmRhdGEuc3lzdGVtLmZsYWdzKSB7XG4gICAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncyA9IHsgbG9ja2VkOiB0cnVlLCBtYW51YWxDcmVkaXQ6IGZhbHNlIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uY3JlZGl0KSB7XG4gICAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5jcmVkaXQgPSB7XG4gICAgICAgICAgbW9uZXRhcnlTeW1ib2w6IG51bGwsXG4gICAgICAgICAgbXVsdGlwbGllcjogbnVsbCxcbiAgICAgICAgICBzcGVudDogbnVsbCxcbiAgICAgICAgICBhc3NldHNEZXRhaWxzOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGV2ZWxvcG1lbnQpIHtcbiAgICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRldmVsb3BtZW50ID0ge1xuICAgICAgICAgIHBlcnNvbmFsOiBudWxsLFxuICAgICAgICAgIG9jY3VwYXRpb246IG51bGwsXG4gICAgICAgICAgYXJjaGV0eXBlOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5KSBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5ID0gW11cblxuICAgICAgc2hlZXREYXRhLnB1bHBSdWxlQXJjaGV0eXBlID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVBcmNoZXR5cGUnKVxuICAgICAgc2hlZXREYXRhLnB1bHBSdWxlT3JnYW5pemF0aW9uID0gZ2FtZS5zZXR0aW5ncy5nZXQoXG4gICAgICAgICdDb0M3JyxcbiAgICAgICAgJ3B1bHBSdWxlT3JnYW5pemF0aW9uJ1xuICAgICAgKVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5pc0RlYWQgPSB0aGlzLmFjdG9yLmRlYWRcbiAgICBzaGVldERhdGEuaXNEeWluZyA9IHRoaXMuYWN0b3IuZHlpbmdcblxuICAgIGlmIChzaGVldERhdGEuaXRlbXMpIHtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzaGVldERhdGEuaXRlbXMpIHtcbiAgICAgICAgLy8gc2kgYydlc3QgdW5lIGZvcm11bGUgZXQgcXUnb24gcGV1dCBsJ2V2YWx1ZXJcbiAgICAgICAgLy8gY2UgYmxvYyBkZXZyYWl0IGV0cmUgZMOpcGxhY8OpIGRhbnMgbGUgYmxvYyBfdXBkYXRlRm9ybURhdGFcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nKSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdDb0M3LkZpZ2h0aW5nU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5maXJlYXJtKSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdDb0M3LkZpcmVhcm1TcGVjaWFsaXphdGlvbk5hbWUnXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5hY3Rvci50eXBlICE9PSAnY2hhcmFjdGVyJykge1xuICAgICAgICAgICAgaWYgKGlzTmFOKE51bWJlcihpdGVtLnN5c3RlbS52YWx1ZSkpKSB7XG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG51bGxcbiAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0ge31cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgICAgICAgQ09DNy5mb3JtdWxhLmFjdG9yc2hlZXRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnQCcpICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3RoaXMuJykpIHtcbiAgICAgICAgICAgICAgICAgIHBhcnNlZFtrZXkuc3Vic3RyaW5nKDEpXSA9IGdldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoNSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IChcbiAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBSb2xsKGl0ZW0uc3lzdGVtLnZhbHVlLCBwYXJzZWQpLmV2YWx1YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKS50b3RhbFxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yVW5hYmxlVG9QYXJzZVNraWxsRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uc3lzdGVtLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0udmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Ub1VwZGF0ZSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW0uX2lkKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICAgICAgICAgIGBbQ09DN10gKEFjdG9yOiR7dGhpcy5uYW1lfSkgRXZhbHVhdGluZyBza2lsbCAke2l0ZW0ubmFtZX06JHtpdGVtLnN5c3RlbS52YWx1ZX0gdG8gJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGF3YWl0IGl0ZW1Ub1VwZGF0ZS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS52YWx1ZSc6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW0uX2lkKVxuICAgICAgICAgICAgY29uc3QgeyBiYXNlLCByYXdWYWx1ZSwgdmFsdWUgfSA9IHNraWxsLnN5c3RlbVxuXG4gICAgICAgICAgICAvLyBBc3N1bWUgZmFsbGJhY2sgdmFsdWVzLCB1c2VmdWwgZm9yIGluaXRpYWwgc2V0dXAgb2Ygc2tpbGxzXG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5yYXdWYWx1ZSA9IHJhd1ZhbHVlIHx8IHZhbHVlIHx8IGJhc2VcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnZhbHVlID0gdmFsdWUgfHwgYmFzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW0uX2lkKVxuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYmFzZSA9IGF3YWl0IHNraWxsLmFzeW5jQmFzZSgpXG5cbiAgICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS52YWx1ZSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBwYXJ0IG9mIG1pZ3JhdGlvbiBvciBkb25lIGF0IGluaXQgIVxuICAgICAgICAgICAgICAvLyBXYXMgZG9uZSB3aGVuIHNraWxsIHZhbHVlIHdhcyBjaGFuZ2VkIHRvIGJhc2UgKyBhZGp1c3RlbWVudFxuICAgICAgICAgICAgICBjb25zdCBleHAgPSBpdGVtLnN5c3RlbS5hZGp1c3RtZW50cz8uZXhwZXJpZW5jZVxuICAgICAgICAgICAgICAgID8gcGFyc2VJbnQoaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSlcbiAgICAgICAgICAgICAgICA6IDBcbiAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRFeHAgPSBleHAgKyBwYXJzZUludChpdGVtLnN5c3RlbS52YWx1ZSkgLSBza2lsbC52YWx1ZVxuICAgICAgICAgICAgICBpZiAodXBkYXRlZEV4cCA8PSAwKSB1cGRhdGVkRXhwID0gbnVsbFxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oXG4gICAgICAgICAgICAgICAgYFtDT0M3XSBVcGRhdGluZyBza2lsbCAke3NraWxsLm5hbWV9IGV4cGVyaWVuY2UuIEV4cGVyaWVuY2UgbWlzc2luZzogJHt1cGRhdGVkRXhwfWBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIF9pZDogaXRlbS5faWQsXG4gICAgICAgICAgICAgICAgICAnc3lzdGVtLmFkanVzdG1lbnRzLmV4cGVyaWVuY2UnOiB1cGRhdGVkRXhwLFxuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS52YWx1ZSc6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIGlmICghaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMpIGl0ZW0uc3lzdGVtLmFkanVzdG1lbnRzID0ge31cbiAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSA9IHVwZGF0ZWRFeHBcbiAgICAgICAgICAgICAgaXRlbS5zeXN0ZW0ucmF3VmFsdWUgPSBza2lsbC5yYXdWYWx1ZVxuICAgICAgICAgICAgICBpdGVtLnN5c3RlbS52YWx1ZSA9IHNraWxsLnZhbHVlIC8vIEFDVElWRV9FRkZFQ1QgbmVjZXNzYXJ5IHRvIGFwcGx5IGVmZmVjdHNcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnZhbHVlID0gc2tpbGwudmFsdWUgLy8gQUNUSVZFX0VGRkVDVCBuZWNlc3NhcnkgdG8gYXBwbHkgZWZmZWN0c1xuICAgICAgICAgICAgICBpdGVtLnN5c3RlbS5yYXdWYWx1ZSA9IHNraWxsLnJhd1ZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxpc3QgPSBzaGVldERhdGEuaXRlbXNCeVR5cGVbaXRlbS50eXBlXVxuICAgICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgICBsaXN0ID0gW11cbiAgICAgICAgICBzaGVldERhdGEuaXRlbXNCeVR5cGVbaXRlbS50eXBlXSA9IGxpc3RcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2goaXRlbSlcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBpdGVtVHlwZSBpbiBzaGVldERhdGEuaXRlbXNCeVR5cGUpIHtcbiAgICAgICAgc2hlZXREYXRhLml0ZW1zQnlUeXBlW2l0ZW1UeXBlXS5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgIH1cblxuICAgICAgLy8gcmVkb25kYW50IGF2ZWMgbWF0cmljZSBpdGVtYnl0eXBlXG4gICAgICBzaGVldERhdGEuc2tpbGxzID0gc2hlZXREYXRhLml0ZW1zXG4gICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdza2lsbCcpXG4gICAgICAgIC5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgICAgc2hlZXREYXRhLm1lbGVlU2tpbGxzID0gc2hlZXREYXRhLnNraWxscy5maWx0ZXIoXG4gICAgICAgIHNraWxsID0+XG4gICAgICAgICAgc2tpbGwuc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0ID09PSB0cnVlICYmXG4gICAgICAgICAgc2tpbGwuc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmcgPT09IHRydWVcbiAgICAgIClcbiAgICAgIHNoZWV0RGF0YS5yYW5nZVNraWxscyA9IHNoZWV0RGF0YS5za2lsbHMuZmlsdGVyKFxuICAgICAgICBza2lsbCA9PlxuICAgICAgICAgIHNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0gPT09IHRydWVcbiAgICAgIClcblxuICAgICAgY29uc3QgY2J0U2tpbGxzID0gc2hlZXREYXRhLnNraWxscy5maWx0ZXIoXG4gICAgICAgIHNraWxsID0+IHNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9PT0gdHJ1ZVxuICAgICAgKVxuICAgICAgaWYgKGNidFNraWxscykge1xuICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIGNidFNraWxscykge1xuICAgICAgICAgIHNoZWV0RGF0YS5jb21iYXRTa2lsbHNbc2tpbGwuX2lkXSA9IHNraWxsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgd2VhcG9ucyA9IHNoZWV0RGF0YS5pdGVtc0J5VHlwZS53ZWFwb25cblxuICAgICAgaWYgKHdlYXBvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCB3ZWFwb24gb2Ygd2VhcG9ucykge1xuICAgICAgICAgIHdlYXBvbi51c2VzQWx0ZXJuYXRlU2tpbGwgPVxuICAgICAgICAgICAgd2VhcG9uLnN5c3RlbS5wcm9wZXJ0aWVzLmF1dG8gPT09IHRydWUgfHxcbiAgICAgICAgICAgIHdlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5icnN0ID09PSB0cnVlXG4gICAgICAgICAgaWYgKCF3ZWFwb24uc3lzdGVtLmFtbW8pIHdlYXBvbi5zeXN0ZW0uYW1tbyA9IDBcblxuICAgICAgICAgIHdlYXBvbi5za2lsbFNldCA9IHRydWVcbiAgICAgICAgICAvLyB3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4ubmFtZSA9ICcnO1xuICAgICAgICAgIC8vIHdlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi52YWx1ZSA9IDA7XG4gICAgICAgICAgLy8gd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWUgPSAnJztcbiAgICAgICAgICAvLyB3ZWFwb24uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYudmFsdWUgPSAwO1xuICAgICAgICAgIGlmICh3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4uaWQgPT09ICcnKSB7XG4gICAgICAgICAgICAvLyBUT0RPIDogc2kgbCdJRCBuJ2VzdHMgcGFzIGTDqWZpbmllIG1haXMgcXUndW4gbm9tIGEgw6l0w6kgZG9ubsOpLCB1dGlsaXNlciBjZSBub20gZXQgdGFudGVyIGRlIHJldHJvdXZlciBsZSBza2lsbFxuICAgICAgICAgICAgd2VhcG9uLnNraWxsU2V0ID0gZmFsc2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyA6IGF2YW50IGQnYXNzaWdlciBsZSBza2lsbCB2w6lyaWZpZXIgcXUnaWwgZXhpc3RlIHRvdWpvdXJzLlxuICAgICAgICAgICAgLy8gc2kgaWwgbidleGlzdGUgcGx1cyBpbCBmYXV0IGxlIHJldHJvdXZlciBvdSBwYXNzZXIgc2tpbGxzZXQgYSBmYWxzZS5cbiAgICAgICAgICAgIGlmIChzaGVldERhdGEuY29tYmF0U2tpbGxzW3dlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi5pZF0pIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmFjdG9yLml0ZW1zLmdldCh3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4uaWQpXG4gICAgICAgICAgICAgIHdlYXBvbi5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lID0gc2tpbGwuc3lzdGVtLnNraWxsTmFtZVxuICAgICAgICAgICAgICB3ZWFwb24uc3lzdGVtLnNraWxsLm1haW4udmFsdWUgPSBza2lsbC52YWx1ZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd2VhcG9uLnNraWxsU2V0ID0gZmFsc2VcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdlYXBvbi5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgaWYgKHNoZWV0RGF0YS5jb21iYXRTa2lsbHNbd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICAgICAgICB3ZWFwb24uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYuaWRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWUgPSBza2lsbC5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgICAgICAgICAgICAgd2VhcG9uLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LnZhbHVlID0gc2tpbGwudmFsdWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHdlYXBvbi5zeXN0ZW0uX3Byb3BlcnRpZXMgPSBbXVxuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcud2VhcG9uUHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0ge31cbiAgICAgICAgICAgIHByb3BlcnR5LmlkID0ga2V5XG4gICAgICAgICAgICBwcm9wZXJ0eS5uYW1lID0gdmFsdWVcbiAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gd2VhcG9uLnN5c3RlbS5wcm9wZXJ0aWVzW2tleV0gPT09IHRydWVcbiAgICAgICAgICAgIHdlYXBvbi5zeXN0ZW0uX3Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzaGVldERhdGEud2VhcG9uc1t3ZWFwb24uX2lkXSA9IHdlYXBvblxuICAgICAgICAgIGlmICh3ZWFwb24uc3lzdGVtLnByb3BlcnRpZXMucm5nZCkgc2hlZXREYXRhLnJhbmdlV3BuLnB1c2god2VhcG9uKVxuICAgICAgICAgIGVsc2Ugc2hlZXREYXRhLm1lbGVlV3BuLnB1c2god2VhcG9uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy50b2tlblxuICAgICAgc2hlZXREYXRhLnRva2VuSWQgPSB0b2tlblxuICAgICAgICA/IGAke3Rva2VuLnBhcmVudD8uaWQgPyB0b2tlbi5wYXJlbnQuaWQgOiAnVE9LRU4nfS4ke3Rva2VuLmlkfWBcbiAgICAgICAgOiBudWxsIC8vIFJFRkFDVE9SSU5HICgyKVxuXG4gICAgICBzaGVldERhdGEuaGFzRW1wdHlWYWx1ZVdpdGhGb3JtdWxhID0gZmFsc2VcbiAgICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hhcmFjdGVyaXN0aWMgb2YgT2JqZWN0LnZhbHVlcyhzaGVldERhdGEuZGF0YS5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzKSkge1xuICAgICAgICAgIGlmICghY2hhcmFjdGVyaXN0aWMudmFsdWUpIGNoYXJhY3RlcmlzdGljLmVkaXRhYmxlID0gdHJ1ZVxuICAgICAgICAgIGNoYXJhY3RlcmlzdGljLmhhcmQgPSBNYXRoLmZsb29yKGNoYXJhY3RlcmlzdGljLnZhbHVlIC8gMilcbiAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5leHRyZW1lID0gTWF0aC5mbG9vcihjaGFyYWN0ZXJpc3RpYy52YWx1ZSAvIDUpXG5cbiAgICAgICAgICAvLyBJZiBubyB2YWx1ZSAmJiBubyBmb3JtdWxhIGRvbid0IGRpc3BsYXkgY2hhcmFjLlxuICAgICAgICAgIGlmICghY2hhcmFjdGVyaXN0aWMudmFsdWUgJiYgIWNoYXJhY3RlcmlzdGljLmZvcm11bGEpIHtcbiAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljLmRpc3BsYXkgPSBmYWxzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5kaXNwbGF5ID0gdHJ1ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlmIGFueSBjaGFyYWN0ZXJpc3RpYyBoYXMgbm8gdmFsdWUgYnV0IGhhcyBhIGZvcm11bGEuXG4gICAgICAgICAgaWYgKCFjaGFyYWN0ZXJpc3RpYy52YWx1ZSAmJiBjaGFyYWN0ZXJpc3RpYy5mb3JtdWxhKSB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5oYXNFbXB0eVZhbHVlV2l0aEZvcm11bGEgPSB0cnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2hlZXREYXRhLmhhc0VtcHR5VmFsdWVXaXRoRm9ybXVsYSA9XG4gICAgICAgICAgICBzaGVldERhdGEuaGFzRW1wdHlWYWx1ZVdpdGhGb3JtdWxhIHx8XG4gICAgICAgICAgICBjaGFyYWN0ZXJpc3RpYy5oYXNFbXB0eVZhbHVlV2l0aEZvcm11bGFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZvciBjb21wYXQgd2l0aCBwcmV2aW91cyBjaGFyYWN0ZXJzIHRlc3QgaWYgYXV0byBpcyBkZWZpbmllZCwgaWYgbm90IHdlIGRlZmluZSBpdFxuICAgIGlmICghWyd2ZWhpY2xlJywgJ2NvbnRhaW5lciddLmluY2x1ZGVzKHRoaXMuYWN0b3IudHlwZSkpIHtcbiAgICAgIGNvbnN0IGF1dG8gPSB0aGlzLmFjdG9yLmNoZWNrVW5kZWZpbmVkQXV0bygpXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0gPSBtZXJnZU9iamVjdChzaGVldERhdGEuZGF0YS5zeXN0ZW0sIGF1dG8pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLmhwLmF1dG8gPSBmYWxzZVxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmF0dHJpYnMubXAuYXV0byA9IGZhbHNlXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5zYW4uYXV0byA9IGZhbHNlXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5tb3YuYXV0byA9IGZhbHNlXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5kYi5hdXRvID0gZmFsc2VcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLmF1dG8gPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSA8IDApIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLm1wLnZhbHVlID0gbnVsbFxuICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUgPCAwKSBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYXR0cmlicy5zYW4udmFsdWUgPSBudWxsXG5cbiAgICBpZiAoIVsndmVoaWNsZSddLmluY2x1ZGVzKHRoaXMuYWN0b3IudHlwZSkpIHtcbiAgICAgIGlmIChzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5IGluc3RhbmNlb2YgQXJyYXkgJiYgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmJpb2dyYXBoeS5sZW5ndGgpIHtcbiAgICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmJpb2dyYXBoeVswXS5pc0ZpcnN0ID0gdHJ1ZVxuICAgICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmlvZ3JhcGh5W3NoZWV0RGF0YS5kYXRhLnN5c3RlbS5iaW9ncmFwaHkubGVuZ3RoIC0gMV0uaXNMYXN0ID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUl0ZW1zID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUJvb2tzID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVNwZWxscyA9IGZhbHNlXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlUYWxlbnRzID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVN0YXR1c2VzID0gZmFsc2VcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVdlYXBvbnMgPSBmYWxzZVxuXG4gICAgc2hlZXREYXRhLmhhc0NvbmRpdGlvbnMgPVxuICAgICAgdGhpcy5hY3Rvci5lZmZlY3RzLnNpemUgPiAwIHx8XG4gICAgICAodHlwZW9mIHRoaXMuYWN0b3Iuc3lzdGVtLmNvbmRpdGlvbnMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuYWN0b3Iuc3lzdGVtLmNvbmRpdGlvbnMpLmZpbHRlcihcbiAgICAgICAgICBjb25kaXRpb24gPT4gdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9uc1tjb25kaXRpb25dLnZhbHVlXG4gICAgICAgICkubGVuZ3RoID4gMClcblxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIHN0YXRpYyBwYXJzZUZvcm11bGEgKGZvcm11bGEpIHtcbiAgICBsZXQgcGFyc2VkRm9ybXVsYSA9IGZvcm11bGFcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmZvcm11bGEuYWN0b3JzaGVldCkpIHtcbiAgICAgIHBhcnNlZEZvcm11bGEgPSBwYXJzZWRGb3JtdWxhLnJlcGxhY2Uoa2V5LCB2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZEZvcm11bGFcbiAgfVxuXG4gIGdldCB0b2tlbktleSAoKSB7XG4gICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignREVQUkVDQVRFRCBTSE9VTEQgTk9UIEhBUFBFTiEnKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFzZS5qcyBnZXQgdG9rZW5LZXkoKTogREVQUkVDQVRFRCBTSE9VTEQgTk9UIEhBUFBFTiEnKVxuICAgIC8vIGlmKCB0aGlzLnRva2VuKSByZXR1cm4gYCR7dGhpcy50b2tlbi5zY2VuZT8uX2lkP3RoaXMudG9rZW4uc2NlbmUuX2lkOidUT0tFTid9LiR7dGhpcy50b2tlbi5kYXRhLl9pZH1gOyAgLy9SRUZBQ1RPUklORyAoMilcbiAgICAvLyByZXR1cm4gdGhpcy5hY3Rvci5pZDtcbiAgfVxuXG4gIG9uQ2xvc2VTaGVldCAoKSB7XG4gICAgLy8gdGhpcy5hY3Rvci5sb2NrZWQgPSB0cnVlO1xuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAvKipcbiAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXG4gICAqIEBwYXJhbSBodG1sIHtIVE1MfSAgIFRoZSBwcmVwYXJlZCBIVE1MIG9iamVjdCByZWFkeSB0byBiZSByZW5kZXJlZCBpbnRvIHRoZSBET01cbiAgICovXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VDb250ZXh0TWVudXMnKSkge1xuICAgICAgaWYgKCF0aGlzLm1lbnVzKSB0aGlzLm1lbnVzID0gW11cblxuICAgICAgY29uc3Qgcm9sbE1lbnUgPSB7XG4gICAgICAgIGlkOiAnc2tpbGwtcm9sbCcsXG4gICAgICAgIGNsYXNzZXM6ICdyb2xsLW1lbnUnLFxuICAgICAgICBzZWN0aW9uOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NlczogJ21haW4nLFxuICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgeyBhY3Rpb246ICdyb2xsJywgbGFiZWw6ICdSb2xsJyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ29wcG9zZWQtcm9sbCcsIGxhYmVsOiAnT3Bwb3NlZCByb2xsJyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ2NvbWJpbmVkLXJvbGwnLCBsYWJlbDogJ0NvbWJpbmVkIHJvbGwnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzZXM6ICdrZWVwZXInLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2dtJyxcbiAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogeyBpY29uOiAnZmFzIGZhLWxpbmsnLCB0ZXh0OiAnTGluaycgfSxcbiAgICAgICAgICAgICAgICBzdWJNZW51OiB7XG4gICAgICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgICAgICB7IGFjdGlvbjogJ2xpbmstdG9vbCcsIGxhYmVsOiAnT3BlbiBpbiBsaW5rIHRvb2wnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aW9uOiAnc2VuZC1jaGF0JywgbGFiZWw6ICdTZW5kIHRvIGNoYXQnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aW9uOiAnY29weS10by1jbGlwYm9hcmQnLCBsYWJlbDogJ0NvcHkgdG8gY2xpcC1ib2FyZCcgfVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgeyBhY3Rpb246ICdyZXF1ZXN0LXJvbGwnLCBsYWJlbDogJ1JlcXVlc3Qgcm9sbCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzYW5NZW51ID0ge1xuICAgICAgICBpZDogJ3Nhbi1yb2xsJyxcbiAgICAgICAgY2xhc3NlczogJ3JvbGwtbWVudScsXG4gICAgICAgIHNlY3Rpb246IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc2VzOiAnbWFpbicsXG4gICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICB7IGFjdGlvbjogJ2VuY291bnRlcicsIGxhYmVsOiAnRW5jb3VudGVyJyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ3JvbGwnLCBsYWJlbDogJ1JvbGwnIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uOiAnb3Bwb3NlZC1yb2xsJywgbGFiZWw6ICdPcHBvc2VkIHJvbGwnIH0sXG4gICAgICAgICAgICAgIHsgYWN0aW9uOiAnY29tYmluZWQtcm9sbCcsIGxhYmVsOiAnQ29tYmluZWQgcm9sbCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NlczogJ2tlZXBlcicsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAndHJ1c3RlZCcsXG4gICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICB7IGFjdGlvbjogJ3JlcXVlc3Qtcm9sbCcsIGxhYmVsOiAnUmVxdWVzdCByb2xsJyB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHsgaWNvbjogJ2ZhcyBmYS1saW5rJywgdGV4dDogJ0xpbmsnIH0sXG4gICAgICAgICAgICAgICAgc3ViTWVudToge1xuICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBhY3Rpb246ICdsaW5rLXRvb2wnLCBsYWJlbDogJ09wZW4gaW4gbGluayB0b29sJyB9LFxuICAgICAgICAgICAgICAgICAgICB7IGFjdGlvbjogJ3NlbmQtY2hhdCcsIGxhYmVsOiAnU2VuZCB0byBjaGF0JyB9LFxuICAgICAgICAgICAgICAgICAgICB7IGFjdGlvbjogJ2NvcHktdG8tY2xpcGJvYXJkJywgbGFiZWw6ICdDb3B5IHRvIGNsaXAtYm9hcmQnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aW9uOiAnbGluay1lbmNvdW50ZXInLCBsYWJlbDogJ0VuY291bnRlcicgfVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBjb25zdCByb2xsQ29udGV4dE1lbnUgPSBuZXcgQ29DN0NvbnRleHRNZW51KClcbiAgICAgIHJvbGxDb250ZXh0TWVudS5iaW5kKHJvbGxNZW51LCBodG1sLCB0aGlzLl9vbkNvbnRleHRNZW51Q2xpY2suYmluZCh0aGlzKSlcbiAgICAgIHRoaXMubWVudXMucHVzaChyb2xsQ29udGV4dE1lbnUpXG5cbiAgICAgIGNvbnN0IHNhbkNvbnRleHRNZW51ID0gbmV3IENvQzdDb250ZXh0TWVudSgpXG4gICAgICBzYW5Db250ZXh0TWVudS5iaW5kKHNhbk1lbnUsIGh0bWwsIHRoaXMuX29uQ29udGV4dE1lbnVDbGljay5iaW5kKHRoaXMpKVxuICAgICAgdGhpcy5tZW51cy5wdXNoKHNhbkNvbnRleHRNZW51KVxuICAgIH0gZWxzZSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuY2hhcmFjdGVyaXN0aWMtbGFiZWwnKVxuICAgICAgICAuY29udGV4dG1lbnUodGhpcy5fb25PcHBvc2VkUm9sbC5iaW5kKHRoaXMpKVxuICAgICAgaHRtbFxuICAgICAgICAuZmluZCgnLnNraWxsLW5hbWUucm9sbGFibGUnKVxuICAgICAgICAuY29udGV4dG1lbnUodGhpcy5fb25PcHBvc2VkUm9sbC5iaW5kKHRoaXMpKVxuICAgICAgaHRtbFxuICAgICAgICAuZmluZCgnLmF0dHJpYnV0ZS1sYWJlbC5yb2xsYWJsZScpXG4gICAgICAgIC5jb250ZXh0bWVudSh0aGlzLl9vbk9wcG9zZWRSb2xsLmJpbmQodGhpcykpXG4gICAgfVxuXG4gICAgLy8gY29udGV4dCBtZW51IGJpbmRcbiAgICBodG1sXG4gICAgICAuZmluZCgnLmNoYXJhY3RlcmlzdGljLWxhYmVsJylcbiAgICAgIC5jbGljayh0aGlzLl9vblJvbGxDaGFyYWN0ZXJpdGljVGVzdC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLnNraWxsLW5hbWUucm9sbGFibGUnKS5jbGljayh0aGlzLl9vblJvbGxTa2lsbFRlc3QuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5za2lsbC1pbWFnZScpLmNsaWNrKHRoaXMuX29uUm9sbFNraWxsVGVzdC5iaW5kKHRoaXMpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuYXR0cmlidXRlLWxhYmVsLnJvbGxhYmxlJylcbiAgICAgIC5jbGljayh0aGlzLl9vblJvbGxBdHRyaWJUZXN0LmJpbmQodGhpcykpXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLnRva2VuLWRyYWctaGFuZGxlJylcbiAgICAgIC5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnVG9rZW5TdGFydC5iaW5kKHRoaXMpKVxuXG4gICAgLy8gT3duZXIgT25seSBMaXN0ZW5lcnNcbiAgICBpZiAodGhpcy5hY3Rvci5pc093bmVyICYmIHR5cGVvZiB0aGlzLmFjdG9yLmNvbXBlbmRpdW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuY2hhcmFjdGVyaXN0aWMtbGFiZWwnKVxuICAgICAgICAub24oJ2RyYWdzdGFydCcsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0NoYXJhY3RlcmlzdGljKGV2ZW50KSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5hdHRyaWJ1dGUtbGFiZWwnKVxuICAgICAgICAub24oJ2RyYWdzdGFydCcsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0F0dHJpYnV0ZShldmVudCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuc2FuLWNoZWNrJylcbiAgICAgICAgLm9uKCdkcmFnc3RhcnQnLCBldmVudCA9PiB0aGlzLl9vbkRyYWdTYW5DaGVjayhldmVudCkpXG5cbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy53ZWFwb24tbmFtZS5yb2xsYWJsZScpXG4gICAgICAgIC5jb250ZXh0bWVudSh0aGlzLl9vbk9wcG9zZWRSb2xsLmJpbmQodGhpcykpXG5cbiAgICAgIGh0bWwuZmluZCgnLmxvY2snKS5jbGljayh0aGlzLl9vbkxvY2tDbGlja2VkLmJpbmQodGhpcykpXG4gICAgICBodG1sLmZpbmQoJy5mbGFnJykuY2xpY2sodGhpcy5fb25GbGFnQ2xpY2tlZC5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5maW5kKCcuZm9ybXVsYScpLmNsaWNrKHRoaXMuX29uRm9ybXVsYUNsaWNrZWQuYmluZCh0aGlzKSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5yb2xsLWNoYXJhY3Rlcml0aWNzJylcbiAgICAgICAgLmNsaWNrKHRoaXMuX29uUm9sbENoYXJhY3Rlcml0aWNzVmFsdWUuYmluZCh0aGlzKSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5hdmVyYWdlLWNoYXJhY3Rlcml0aWNzJylcbiAgICAgICAgLmNsaWNrKHRoaXMuX29uQXZlcmFnZUNoYXJhY3Rlcml0aWNzVmFsdWUuYmluZCh0aGlzKSlcbiAgICAgIGh0bWwuZmluZCgnLnRvZ2dsZS1zd2l0Y2gnKS5jbGljayh0aGlzLl9vblRvZ2dsZS5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5maW5kKCcuYXV0by10b2dnbGUnKS5jbGljayh0aGlzLl9vbkF1dG9Ub2dnbGUuYmluZCh0aGlzKSlcblxuICAgICAgLy8gU3RhdHVzIG1vbml0b3JcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSB8fCBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzdGF0dXNQbGF5ZXJFZGl0YWJsZScpKSB7XG4gICAgICAgIGh0bWwuZmluZCgnLnJlc2V0LWNvdW50ZXInKS5jbGljayh0aGlzLl9vblJlc2V0Q291bnRlci5iaW5kKHRoaXMpKVxuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy5jb25kaXRpb24tbW9uaXRvcicpXG4gICAgICAgICAgLmNsaWNrKHRoaXMuX29uQ29uZGl0aW9uVG9nZ2xlLmJpbmQodGhpcykpXG4gICAgICAgIGh0bWwuZmluZCgnLmlzLWR5aW5nJykuY2xpY2sodGhpcy5oZWFsLmJpbmQodGhpcykpXG4gICAgICAgIGh0bWwuZmluZCgnLmlzLWRlYWQnKS5jbGljayh0aGlzLnJldml2ZS5iaW5kKHRoaXMpKVxuICAgICAgfVxuXG4gICAgICBodG1sLmZpbmQoJy5keWluZy1jaGVjaycpLmNsaWNrKHRoaXMuY2hlY2tGb3JEZWF0aC5iaW5kKHRoaXMpKVxuXG4gICAgICBodG1sLmZpbmQoJy5pdGVtIC5pdGVtLWltYWdlJykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25JdGVtUm9sbChldmVudCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcud2VhcG9uLW5hbWUucm9sbGFibGUnKVxuICAgICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25XZWFwb25Sb2xsKGV2ZW50KSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5pdGVtLW5hbWUuZWZmZWN0LW5hbWUnKVxuICAgICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25FZmZlY3QoZXZlbnQpKVxuICAgICAgLy8gaHRtbFxuICAgICAgLy8gICAuZmluZCgnLml0ZW0tbmFtZS5lZmZlY3QtbmFtZScpXG4gICAgICAvLyAgIC5rZXlkb3duKChldmVudCkgPT4ge1xuICAgICAgLy8gICAgIGlmIChpc0N0cmxLZXkoZXZlbnQpKSB7XG4gICAgICAvLyAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXInKVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgfSlcbiAgICAgIC8vIGh0bWxcbiAgICAgIC8vICAgLmZpbmQoJy5pdGVtLW5hbWUuZWZmZWN0LW5hbWUnKVxuICAgICAgLy8gICAua2V5ZG93bigoZXZlbnQpID0+IHtcbiAgICAgIC8vICAgICBpZiAoaXNDdHJsS2V5KGV2ZW50KSkge1xuICAgICAgLy8gICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyJylcbiAgICAgIC8vICAgICB9XG4gICAgICAvLyAgIH0pXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcud2VhcG9uLXNraWxsLnJvbGxhYmxlJylcbiAgICAgICAgLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHRoaXMuX29uV2VhcG9uU2tpbGxSb2xsKGV2ZW50KSlcbiAgICAgIGh0bWwuZmluZCgnLnJlbG9hZC13ZWFwb24nKS5jbGljayhldmVudCA9PiB0aGlzLl9vblJlbG9hZFdlYXBvbihldmVudCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcucmVsb2FkLXdlYXBvbicpXG4gICAgICAgIC5vbignY29udGV4dG1lbnUnLCBldmVudCA9PiB0aGlzLl9vblJlbG9hZFdlYXBvbihldmVudCkpXG4gICAgICBodG1sLmZpbmQoJy5hZGQtYW1tbycpLmNsaWNrKHRoaXMuX29uQWRkQW1vLmJpbmQodGhpcykpXG4gICAgICBodG1sLmZpbmQoJy5yZWFkLW9ubHknKS5kYmxjbGljayh0aGlzLl90b2dnbGVSZWFkT25seS5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5vbignY2xpY2snLCAnLndlYXBvbi1kYW1hZ2UnLCB0aGlzLl9vbldlYXBvbkRhbWFnZS5iaW5kKHRoaXMpKVxuXG4gICAgICBodG1sLmZpbmQoJy5pbnZlbnRvcnktaGVhZGVyJykuY2xpY2sodGhpcy5fb25JbnZlbnRvcnlIZWFkZXIuYmluZCh0aGlzKSlcbiAgICAgIGh0bWwuZmluZCgnLml0ZW1zLWhlYWRlcicpLmNsaWNrKHRoaXMuX29uSXRlbUhlYWRlci5iaW5kKHRoaXMpKVxuICAgICAgaHRtbC5maW5kKCcuc2VjdGlvbi1oZWFkZXInKS5jbGljayh0aGlzLl9vblNlY3Rpb25IZWFkZXIuYmluZCh0aGlzKSlcblxuICAgICAgY29uc3Qgd2hlZWxJbnB1dHMgPSBodG1sLmZpbmQoJy5hdHRyaWJ1dGUtdmFsdWUnKVxuICAgICAgZm9yIChjb25zdCB3aGVlbElucHV0IG9mIHdoZWVsSW5wdXRzKSB7XG4gICAgICAgIHdoZWVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBldmVudCA9PiB0aGlzLl9vbldoZWVsKGV2ZW50KSwge1xuICAgICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFdmVyeXRoaW5nIGJlbG93IGhlcmUgaXMgb25seSBuZWVkZWQgaWYgdGhlIHNoZWV0IGlzIGVkaXRhYmxlXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHJldHVyblxuXG4gICAgaHRtbC5maW5kKCcuc2hvdy1kZXRhaWwnKS5jbGljayhldmVudCA9PiB0aGlzLl9vbkl0ZW1TdW1tYXJ5KGV2ZW50KSlcbiAgICBodG1sLmZpbmQoJy5pdGVtLXBvcHVwJykuY2xpY2sodGhpcy5fb25JdGVtUG9wdXAuYmluZCh0aGlzKSlcblxuICAgIC8vIFVwZGF0ZSBJbnZlbnRvcnkgSXRlbVxuICAgIGh0bWwuZmluZCgnLnNob3ctZGV0YWlsJykuZGJsY2xpY2soZXZlbnQgPT4gdGhpcy5fb25SZW5kZXJJdGVtU2hlZXQoZXZlbnQpKVxuICAgIGh0bWwuZmluZCgnLml0ZW0tZWRpdCcpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uUmVuZGVySXRlbVNoZWV0KGV2ZW50KSlcblxuICAgIC8vIERlbGV0ZSBJbnZlbnRvcnkgSXRlbVxuICAgIGh0bWwuZmluZCgnLml0ZW0tZGVsZXRlJykuY2xpY2soYXN5bmMgZXYgPT4ge1xuICAgICAgY29uc3QgbGkgPSAkKGV2LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICAgIGNvbnN0IGl0ZW1Ub0RlbGV0ZSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGxpLmRhdGEoJ2l0ZW1JZCcpLCB7XG4gICAgICAgIHN0cmljdDogdHJ1ZVxuICAgICAgfSlcbiAgICAgIGF3YWl0IGl0ZW1Ub0RlbGV0ZS5kZWxldGUoKVxuICAgICAgbGkuc2xpZGVVcCgyMDAsICgpID0+IHRoaXMucmVuZGVyKGZhbHNlKSlcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuYWRkLWl0ZW0nKS5jbGljayhldiA9PiB7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgc3dpdGNoIChldi5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudHlwZSkge1xuICAgICAgICBjYXNlICdib29rJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5Qm9vayhldilcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdpdGVtJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5SXRlbShldilcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdza2lsbCc6XG4gICAgICAgICAgdGhpcy5hY3Rvci5jcmVhdGVFbXB0eVNraWxsKGV2KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3NwZWxsJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5U3BlbGwoZXYpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnd2VhcG9uJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge31cbiAgICAgICAgICAgIGlmIChldi5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubWVsZWUpIHtcbiAgICAgICAgICAgICAgcHJvcGVydGllcy5tZWxlZSA9IHRydWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXYuY3VycmVudFRhcmdldC5kYXRhc2V0LnJuZ2QpIHtcbiAgICAgICAgICAgICAgcHJvcGVydGllcy5ybmdkID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3Rvci5jcmVhdGVFbXB0eVdlYXBvbihldiwgcHJvcGVydGllcylcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gaHRtbC5maW5kKCcuY2xlYW4tc2tpbGwtbGlzdCcpLmNsaWNrKCgpID0+IHtcbiAgICAvLyAgIHRoaXMuYWN0b3IuY2xlYW5Ta2lsbHMoKVxuICAgIC8vIH0pXG5cbiAgICBodG1sLmZpbmQoJy5pdGVtLXRyYWRlJykuY2xpY2sodGhpcy5fb25UcmFkZUl0ZW0uYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLmFkZC1uZXctc2VjdGlvbicpLmNsaWNrKCgpID0+IHtcbiAgICAgIHRoaXMuYWN0b3IuY3JlYXRlQmlvU2VjdGlvbigpXG4gICAgICB0aGlzLnJlbmRlcigpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmRlbGV0ZS1zZWN0aW9uJykuY2xpY2soZXYgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChcbiAgICAgICAgZXYuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYmlvLXNlY3Rpb24nKS5kYXRhc2V0LmluZGV4XG4gICAgICApXG4gICAgICB0aGlzLmFjdG9yLmRlbGV0ZUJpb1NlY3Rpb24oaW5kZXgpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLm1vdmUtc2VjdGlvbi11cCcpLmNsaWNrKGV2ID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoXG4gICAgICAgIGV2LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmJpby1zZWN0aW9uJykuZGF0YXNldC5pbmRleFxuICAgICAgKVxuICAgICAgdGhpcy5hY3Rvci5tb3ZlQmlvU2VjdGlvblVwKGluZGV4KVxuICAgIH0pXG5cbiAgICBodG1sLmZpbmQoJy5tb3ZlLXNlY3Rpb24tZG93bicpLmNsaWNrKGV2ID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoXG4gICAgICAgIGV2LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLmJpby1zZWN0aW9uJykuZGF0YXNldC5pbmRleFxuICAgICAgKVxuICAgICAgdGhpcy5hY3Rvci5tb3ZlQmlvU2VjdGlvbkRvd24oaW5kZXgpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmRldmVsb3BtZW50LWZsYWcnKS5kYmxjbGljayhldiA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgIGV2LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0Lml0ZW1JZFxuICAgICAgKVxuICAgICAgaXRlbS50b2dnbGVJdGVtRmxhZygnZGV2ZWxvcGVtZW50JylcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcub2NjdXBhdGlvbi1za2lsbC1mbGFnLmNsaWNrYWJsZScpLmNsaWNrKGV2ID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChcbiAgICAgICAgZXYuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgICApXG4gICAgICBpdGVtLnRvZ2dsZUl0ZW1GbGFnKCdvY2N1cGF0aW9uJylcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuYXJjaGV0eXBlLXNraWxsLWZsYWcuY2xpY2thYmxlJykuY2xpY2soZXYgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgICBldi5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgIClcbiAgICAgIGl0ZW0udG9nZ2xlSXRlbUZsYWcoJ2FyY2hldHlwZScpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLnNraWxsLWRldmVsb3BlbWVudCcpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuYWN0b3IuZGV2ZWxvcGVtZW50UGhhc2UoZXZlbnQuc2hpZnRLZXkpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnLmx1Y2stZGV2ZWxvcG1lbnQnKS5jbGljayhldmVudCA9PiB7XG4gICAgICBpZiAoIWV2ZW50LmRldGFpbCB8fCBldmVudC5kZXRhaWwgPT09IDEpIHtcbiAgICAgICAgdGhpcy5hY3Rvci5kZXZlbG9wTHVjayhldmVudC5zaGlmdEtleSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuY2xlYXJfY29uZGl0aW9ucycpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgZGlzYWJsZSA9IHt9XG4gICAgICAgIGZvciAoY29uc3QgY29uZGl0aW9uIGluIHRoaXMuYWN0b3Iuc3lzdGVtLmNvbmRpdGlvbnMpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9uc1tjb25kaXRpb25dLnZhbHVlICE9PVxuICAgICAgICAgICAgICAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgdGhpcy5hY3Rvci5zeXN0ZW0uY29uZGl0aW9uc1tjb25kaXRpb25dLnZhbHVlID09PSB0cnVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkaXNhYmxlW2BzeXN0ZW0uY29uZGl0aW9ucy4ke2NvbmRpdGlvbn0udmFsdWVgXSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhkaXNhYmxlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5hY3Rvci51cGRhdGUoZGlzYWJsZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZWZmZWN0cyA9IHRoaXMuYWN0b3IuZWZmZWN0cy5tYXAoZWZmZWN0ID0+IGVmZmVjdC5pZClcbiAgICAgIGlmIChlZmZlY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5hY3Rvci5kZWxldGVFbWJlZGRlZERvY3VtZW50cygnQWN0aXZlRWZmZWN0JywgZWZmZWN0cylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgQ29DN0xpbmsuYmluZEV2ZW50c0hhbmRsZXIoaHRtbClcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdXNlZCBmb3IgZGV2IHB1cnBvc2VzIG9ubHkgIVxuICAgICAqL1xuICAgIGh0bWwuZmluZCgnLnRlc3QtdHJpZ2dlcicpLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnaGlkZGVuZGV2bWVudScpKSByZXR1cm4gbnVsbFxuICAgICAgYXdhaXQgSXRlbS5jcmVhdGUoe1xuICAgICAgICBuYW1lOiAnX19Db0M3SW50ZXJuYWxJdGVtX18nLFxuICAgICAgICB0eXBlOiAnaXRlbSdcbiAgICAgIH0pXG4gICAgICAvLyBjb25zdCBlZmZlY3RzID0gYXdhaXQgaXRlbS5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnQWN0aXZlRWZmZWN0JywgW1xuICAgICAgLy8gICB7XG4gICAgICAvLyAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FZmZlY3ROZXcnKSxcbiAgICAgIC8vICAgICBpY29uOiAnaWNvbnMvc3ZnL2F1cmEuc3ZnJyxcbiAgICAgIC8vICAgICBvcmlnaW46IG51bGwsXG4gICAgICAvLyAgICAgJ2R1cmF0aW9uLnJvdW5kcyc6IHVuZGVmaW5lZCxcbiAgICAgIC8vICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgLy8gICB9XG4gICAgICAvLyBdKVxuICAgICAgLy8gY29uc3QgZWZmZWN0ID0gZWZmZWN0c1swXVxuICAgICAgLy8gYXdhaXQgZWZmZWN0LnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgLy8gdWkubm90aWZpY2F0aW9ucy5pbmZvKCAnZWZmZWN0IGNyZWF0ZWQgIScpXG4gICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oJ2VmZmVjdCBjcmVhdGVkICEnKVxuICAgIH0pXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLnNraWxsLW5hbWUucm9sbGFibGUnKVxuICAgICAgLm1vdXNlZW50ZXIodGhpcy50b29sVGlwU2tpbGxFbnRlci5iaW5kKHRoaXMpKVxuICAgICAgLm1vdXNlbGVhdmUoZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcExlYXZlLmJpbmQodGhpcykpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5jaGFyYWN0ZXJpc3RpYy1sYWJlbCcpXG4gICAgICAubW91c2VlbnRlcih0aGlzLnRvb2xUaXBDaGFyYWN0ZXJpc3RpY0VudGVyLmJpbmQodGhpcykpXG4gICAgICAubW91c2VsZWF2ZShnYW1lLkNvQzdUb29sdGlwcy50b29sVGlwTGVhdmUuYmluZCh0aGlzKSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLmF0dHJpYnV0ZS1sYWJlbC5yb2xsYWJsZScpXG4gICAgICAubW91c2VlbnRlcih0aGlzLnRvb2xUaXBBdHRyaWJ1dGVFbnRlci5iaW5kKHRoaXMpKVxuICAgICAgLm1vdXNlbGVhdmUoZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcExlYXZlLmJpbmQodGhpcykpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5hdXRvLXRvZ2dsZScpXG4gICAgICAubW91c2VlbnRlcih0aGlzLnRvb2xUaXBBdXRvRW50ZXIuYmluZCh0aGlzKSlcbiAgICAgIC5tb3VzZWxlYXZlKGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBMZWF2ZS5iaW5kKHRoaXMpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuaXRlbS1jb250cm9sLmRldmVsb3BtZW50LWZsYWcnKVxuICAgICAgLm1vdXNlZW50ZXIodGhpcy50b29sVGlwRmxhZ0ZvckRldmVsb3BtZW50LmJpbmQodGhpcykpXG4gICAgICAubW91c2VsZWF2ZShnYW1lLkNvQzdUb29sdGlwcy50b29sVGlwTGVhdmUuYmluZCh0aGlzKSlcblxuICAgIC8vIEFjdGl2ZSBFZmZlY3RzXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5lZmZlY3QtY29udHJvbCcpXG4gICAgICAuY2xpY2soZXYgPT4gQ29DN0FjdGl2ZUVmZmVjdC5vbk1hbmFnZUFjdGl2ZUVmZmVjdChldiwgdGhpcy5hY3RvcikpXG4gIH1cblxuICB0b29sVGlwU2tpbGxFbnRlciAoZXZlbnQpIHtcbiAgICBjb25zdCBkZWxheSA9IHBhcnNlSW50KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Rvb2xUaXBEZWxheScpKVxuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIGNvbnN0IHNoZWV0ID0gdGhpc1xuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpc0NvbWJhdCA9IGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3Zlci5jbGFzc0xpc3Q/LmNvbnRhaW5zKFxuICAgICAgICAgICAgJ2NvbWJhdCdcbiAgICAgICAgICApXG4gICAgICAgICAgY29uc3QgaXRlbSA9IGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3Zlci5jbG9zZXN0KCcuaXRlbScpXG4gICAgICAgICAgaWYgKHR5cGVvZiBpdGVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3Qgc2tpbGxJZCA9IGl0ZW0uZGF0YXNldC5za2lsbElkXG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHNoZWV0LmFjdG9yLml0ZW1zLmdldChza2lsbElkKVxuICAgICAgICAgICAgbGV0IHRvb2xUaXAgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICBpc0NvbWJhdCA/ICdDb0M3LlRvb2xUaXBDb21iYXQnIDogJ0NvQzcuVG9vbFRpcFNraWxsJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNraWxsOiBza2lsbC5uYW1lLFxuICAgICAgICAgICAgICAgIHJlZ3VsYXI6IHNraWxsLnZhbHVlLFxuICAgICAgICAgICAgICAgIGhhcmQ6IE1hdGguZmxvb3Ioc2tpbGwudmFsdWUgLyAyKSxcbiAgICAgICAgICAgICAgICBleHRyZW1lOiBNYXRoLmZsb29yKHNraWxsLnZhbHVlIC8gNSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgICAgICAgIHRvb2xUaXAgPVxuICAgICAgICAgICAgICAgIHRvb2xUaXAgK1xuICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVG9vbFRpcEtlZXBlclNraWxsJywge1xuICAgICAgICAgICAgICAgICAgb3RoZXI6XG4gICAgICAgICAgICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3N0YW5ieUdNUm9sbHMnKSAmJlxuICAgICAgICAgICAgICAgICAgICBzaGVldC5hY3Rvci5oYXNQbGF5ZXJPd25lclxuICAgICAgICAgICAgICAgICAgICAgID8gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU3RhbmRieVNraWxsJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2hlZXQuYWN0b3IubmFtZVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5kaXNwbGF5VG9vbFRpcCh0b29sVGlwKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZGVsYXkpXG4gICAgfVxuICB9XG5cbiAgdG9vbFRpcENoYXJhY3RlcmlzdGljRW50ZXIgKGV2ZW50KSB7XG4gICAgY29uc3QgZGVsYXkgPSBwYXJzZUludChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0b29sVGlwRGVsYXknKSlcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICBjb25zdCBzaGVldCA9IHRoaXNcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgY2hhciA9IGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3Zlci5jbG9zZXN0KCcuY2hhci1ib3gnKVxuICAgICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3VuZGVmaW5lZCcgJiYgISFjaGFyKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFySWQgPSBjaGFyLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljID0gc2hlZXQuYWN0b3IuY2hhcmFjdGVyaXN0aWNzW2NoYXJJZF1cbiAgICAgICAgICAgIGxldCB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2tpbGwnLCB7XG4gICAgICAgICAgICAgIHNraWxsOiBjaGFyYWN0ZXJpc3RpYy5sYWJlbCxcbiAgICAgICAgICAgICAgcmVndWxhcjogY2hhcmFjdGVyaXN0aWMudmFsdWUgPz8gMCxcbiAgICAgICAgICAgICAgaGFyZDogY2hhcmFjdGVyaXN0aWMuaGFyZCA/PyAwLFxuICAgICAgICAgICAgICBleHRyZW1lOiBjaGFyYWN0ZXJpc3RpYy5leHRyZW1lID8/IDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICAgICAgdG9vbFRpcCA9XG4gICAgICAgICAgICAgICAgdG9vbFRpcCArXG4gICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICBvdGhlcjpcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3RhbmJ5R01Sb2xscycpICYmXG4gICAgICAgICAgICAgICAgICAgIHNoZWV0LmFjdG9yLmhhc1BsYXllck93bmVyXG4gICAgICAgICAgICAgICAgICAgICAgPyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlRvb2xUaXBLZWVwZXJTdGFuZGJ5U2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzaGVldC5hY3Rvci5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLmRpc3BsYXlUb29sVGlwKHRvb2xUaXApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBkZWxheSlcbiAgICB9XG4gIH1cblxuICB0b29sVGlwQXR0cmlidXRlRW50ZXIgKGV2ZW50KSB7XG4gICAgY29uc3QgZGVsYXkgPSBwYXJzZUludChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd0b29sVGlwRGVsYXknKSlcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICBjb25zdCBzaGVldCA9IHRoaXNcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgYXR0cmliID0gZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyLmNsb3Nlc3QoJy5hdHRyaWJ1dGUnKVxuICAgICAgICAgIGlmICh0eXBlb2YgYXR0cmliICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlSWQgPSBhdHRyaWIuZGF0YXNldC5hdHRyaWJcbiAgICAgICAgICAgIGxldCB0b29sVGlwID0gJydcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBzaGVldC5hY3Rvci5zeXN0ZW0uYXR0cmlic1thdHRyaWJ1dGVJZF1cbiAgICAgICAgICAgIHN3aXRjaCAoYXR0cmlidXRlSWQpIHtcbiAgICAgICAgICAgICAgY2FzZSAnbGNrJzpcbiAgICAgICAgICAgICAgICB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICBza2lsbDogYXR0cmlidXRlcy5sYWJlbCxcbiAgICAgICAgICAgICAgICAgIHJlZ3VsYXI6IGF0dHJpYnV0ZXMudmFsdWUgPz8gMCxcbiAgICAgICAgICAgICAgICAgIGhhcmQ6IE1hdGguZmxvb3IoKGF0dHJpYnV0ZXMudmFsdWUgPz8gMCkgLyAyKSxcbiAgICAgICAgICAgICAgICAgIGV4dHJlbWU6IE1hdGguZmxvb3IoKGF0dHJpYnV0ZXMudmFsdWUgPz8gMCkgLyA1KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgICAgICAgICAgICB0b29sVGlwID1cbiAgICAgICAgICAgICAgICAgICAgdG9vbFRpcCArXG4gICAgICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVG9vbFRpcEtlZXBlclNraWxsJywge1xuICAgICAgICAgICAgICAgICAgICAgIG90aGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3RhbmJ5R01Sb2xscycpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVldC5hY3Rvci5oYXNQbGF5ZXJPd25lclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVG9vbFRpcEtlZXBlclN0YW5kYnlTa2lsbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzaGVldC5hY3Rvci5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuZGlzcGxheVRvb2xUaXAodG9vbFRpcClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICBjYXNlICdkYic6XG4gICAgICAgICAgICAgICAgdG9vbFRpcCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ub29sVGlwREInKVxuICAgICAgICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLmRpc3BsYXlUb29sVGlwKHRvb2xUaXApXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgY2FzZSAnc2FuJzpcbiAgICAgICAgICAgICAgICB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2FuaXR5Jywge1xuICAgICAgICAgICAgICAgICAgc2tpbGw6ICdTYW5pdHknLFxuICAgICAgICAgICAgICAgICAgcmVndWxhcjogYXR0cmlidXRlcy52YWx1ZSA/PyAwLFxuICAgICAgICAgICAgICAgICAgaGFyZDogTWF0aC5mbG9vcigoYXR0cmlidXRlcy52YWx1ZSA/PyAwKSAvIDIpLFxuICAgICAgICAgICAgICAgICAgZXh0cmVtZTogTWF0aC5mbG9vcigoYXR0cmlidXRlcy52YWx1ZSA/PyAwKSAvIDUpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgICAgICAgICAgICAgIHRvb2xUaXAgPVxuICAgICAgICAgICAgICAgICAgICB0b29sVGlwICtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU2tpbGwnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgb3RoZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVG9vbFRpcEtlZXBlclNhbml0eScpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzdGFuYnlHTVJvbGxzJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWV0LmFjdG9yLmhhc1BsYXllck93bmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwS2VlcGVyU3RhbmRieVNraWxsJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNoZWV0LmFjdG9yLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuZGlzcGxheVRvb2xUaXAodG9vbFRpcClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZGVsYXkpXG4gICAgfVxuICB9XG5cbiAgdG9vbFRpcEF1dG9FbnRlciAoZXZlbnQpIHtcbiAgICBjb25zdCBkZWxheSA9IHBhcnNlSW50KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Rvb2xUaXBEZWxheScpKVxuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBnYW1lLkNvQzdUb29sdGlwcy5Ub29sVGlwSG92ZXIgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgdG9vbFRpcCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ub29sVGlwQXV0b1RvZ2dsZScpXG4gICAgICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuZGlzcGxheVRvb2xUaXAodG9vbFRpcClcbiAgICAgICAgfVxuICAgICAgfSwgZGVsYXkpXG4gICAgfVxuICB9XG5cbiAgdG9vbFRpcEZsYWdGb3JEZXZlbG9wbWVudCAoZXZlbnQpIHtcbiAgICBjb25zdCBkZWxheSA9IHBhcnNlSW50KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Rvb2xUaXBEZWxheScpKVxuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIGNvbnN0IHNoZWV0ID0gdGhpc1xuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgZ2FtZS5Db0M3VG9vbHRpcHMudG9vbFRpcFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciAhPT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZ2FtZS5Db0M3VG9vbHRpcHMuVG9vbFRpcEhvdmVyLmNsb3Nlc3QoJy5pdGVtJylcbiAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBza2lsbElkID0gaXRlbS5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgICAgIGNvbnN0IHNraWxsID0gc2hlZXQuYWN0b3IuaXRlbXMuZ2V0KHNraWxsSWQpXG4gICAgICAgICAgICBjb25zdCB0b29sVGlwID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ub29sVGlwU2tpbGxGbGFnVG9nZ2xlJywge1xuICAgICAgICAgICAgICBzdGF0dXM6IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBza2lsbC5zeXN0ZW0uZmxhZ3MuZGV2ZWxvcGVtZW50XG4gICAgICAgICAgICAgICAgICA/ICdDb0M3LlRvb2xUaXBTa2lsbEZsYWdnZWQnXG4gICAgICAgICAgICAgICAgICA6ICdDb0M3LlRvb2xUaXBTa2lsbFVuZmxhZ2dlZCdcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLmRpc3BsYXlUb29sVGlwKHRvb2xUaXApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBkZWxheSlcbiAgICB9XG4gIH1cblxuICBfb25Db250ZXh0TWVudUNsaWNrIChldmVudCwgdGFyZ2V0KSB7XG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IHRhcmdldC5kYXRhc2V0Py50YXJnZXRUeXBlXG4gICAgY29uc3Qgcm9sbE9wdGlvbnMgPSB7XG4gICAgICBwcmV2ZW50U3RhbmRieTogdHJ1ZSxcbiAgICAgIGZhc3RGb3J3YXJkOiBmYWxzZSxcbiAgICAgIGFjdG9yOiB0aGlzLmFjdG9yXG4gICAgfVxuICAgIHN3aXRjaCAodGFyZ2V0VHlwZSkge1xuICAgICAgY2FzZSAoJ3NraWxsJyk6XG4gICAgICAgIHJvbGxPcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTFxuICAgICAgICByb2xsT3B0aW9ucy5za2lsbElkID0gdGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJyk/LmRhdGFzZXQuc2tpbGxJZFxuXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnY2hhcmFjdGVyaXN0aWMnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMucm9sbFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDXG4gICAgICAgIHJvbGxPcHRpb25zLmNoYXJhY3RlcmlzdGljID0gdGFyZ2V0LmNsb3Nlc3QoJy5jaGFyLWJveCcpLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAoJ2F0dHJpYnV0ZScpOlxuICAgICAgICByb2xsT3B0aW9ucy5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFXG4gICAgICAgIHJvbGxPcHRpb25zLmF0dHJpYnV0ZSA9IHRhcmdldC5jbG9zZXN0KCcuYXR0cmlidXRlJykuZGF0YXNldC5hdHRyaWJcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgc3dpdGNoIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYWN0aW9uKSB7XG4gICAgICBjYXNlICgncm9sbCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnb3Bwb3NlZC1yb2xsJyk6XG4gICAgICAgIHJvbGxPcHRpb25zLmNhcmRUeXBlID0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9PUFBPU0VEXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnY29tYmluZWQtcm9sbCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfQ09NQklORURcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdyZXF1ZXN0LXJvbGwnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PUk1BTFxuICAgICAgICByb2xsT3B0aW9ucy5wcmV2ZW50U3RhbmRieSA9IGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnbGluay10b29sJyk6XG4gICAgICAgIHJvbGxPcHRpb25zLmNhcmRUeXBlID0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT05FXG4gICAgICAgIHJvbGxPcHRpb25zLm9wZW5MaW5rVG9vbCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdzZW5kLWNoYXQnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PTkVcbiAgICAgICAgcm9sbE9wdGlvbnMuc2VuZFRvQ2hhdCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdjb3B5LXRvLWNsaXBib2FyZCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9ORVxuICAgICAgICByb2xsT3B0aW9ucy5zZW5kVG9DbGlwYm9hcmQgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICgnbGluay1lbmNvdW50ZXInKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PTkVcbiAgICAgICAgcm9sbE9wdGlvbnMuY3JlYXRlRW5jb3VudGVyID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAoJ2VuY291bnRlcicpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfU0FOX0NIRUNLXG4gICAgICAgIHJvbGxPcHRpb25zLnJvbGxUeXBlID0gQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9BVFRSSUJVVEVcbiAgICAgICAgcm9sbE9wdGlvbnMuZmFzdEZvcndhcmQgPSB0cnVlXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIocm9sbE9wdGlvbnMpXG4gIH1cblxuICBfb25SZW5kZXJJdGVtU2hlZXQgKGV2ZW50KSB7XG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQobGkuZGF0YSgnaXRlbUlkJykpXG4gICAgaXRlbS5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vblRyYWRlSXRlbSAoZXZlbnQpIHtcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtSWQnKSlcbiAgICBsZXQgY29udGVudCA9ICc8cD4nICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1lc3NhZ2VTZWxlY3RVc2VyVG9HaXZlVG8nKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICBhY3RvckZyb206IHRoaXMuYWN0b3IuaWQsXG4gICAgICBzY2VuZTogbnVsbCxcbiAgICAgIGFjdG9yVG86IHRoaXMuYWN0b3IuaWQsXG4gICAgICBpdGVtOiBpdGVtLmlkXG4gICAgfVxuICAgIGlmICh0aGlzLnRva2VuPy5hY3Rvcikge1xuICAgICAgbWVzc2FnZS5hY3RvckZyb20gPSB0aGlzLnRva2VuLmlkXG4gICAgICBtZXNzYWdlLnNjZW5lID0gdGhpcy50b2tlbi5wYXJlbnQuaWRcbiAgICB9XG4gICAgY29uc3QgYWN0b3JzID0gZ2FtZS5hY3RvcnMuZmlsdGVyKGUgPT4ge1xuICAgICAgaWYgKCFbJ2NoYXJhY3RlcicsICducGMnLCAnY3JlYXR1cmUnLCAnY29udGFpbmVyJ10uaW5jbHVkZXMoZS50eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFjdG9yLmlkID09PSBlLmlkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgbGV0IHZpc2libGUgPSBmYWxzZVxuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZS5vd25lcnNoaXApKSB7XG4gICAgICAgIGlmIChrID09PSAnZGVmYXVsdCcgfHwgayA9PT0gZ2FtZS51c2VyLmlkKSB7XG4gICAgICAgICAgdmlzaWJsZSA9IHZpc2libGUgfHwgdiAhPT0gQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5OT05FXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2aXNpYmxlXG4gICAgfSlcbiAgICBjb250ZW50ID0gY29udGVudCArICc8Zm9ybSBpZD1cInNlbGVjdGZvcm1cIj48c2VsZWN0IG5hbWU9XCJ1c2VyXCI+J1xuICAgIGZvciAoY29uc3QgYWN0b3Igb2YgYWN0b3JzKSB7XG4gICAgICBjb250ZW50ID1cbiAgICAgICAgY29udGVudCArICc8b3B0aW9uIHZhbHVlPVwiJyArIGFjdG9yLmlkICsgJ1wiPicgKyBhY3Rvci5uYW1lICsgJzwvb3B0aW9uPidcbiAgICB9XG4gICAgY29udGVudCA9IGNvbnRlbnQgKyAnPC9zZWxlY3Q+PC9mb3JtPjwvcD4nXG4gICAgbWVzc2FnZS5hY3RvclRvID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCBkbGcgPSBuZXcgRGlhbG9nKHtcbiAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NZXNzYWdlVGl0bGVTZWxlY3RVc2VyVG9HaXZlVG8nKSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVmFsaWRhdGUnKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBodG1sID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoXG4gICAgICAgICAgICAgICAgaHRtbFswXS5xdWVyeVNlbGVjdG9yKCcjc2VsZWN0Zm9ybScpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0OiAnY29uZmlybScsXG4gICAgICAgIGNsb3NlOiAoKSA9PiB7fVxuICAgICAgfSlcbiAgICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuICAgIGF3YWl0IGdhbWUuQ29DN3NvY2tldC5leGVjdXRlQXNHTSgnZ210cmFkZWl0ZW10bycsIG1lc3NhZ2UpXG4gIH1cblxuICBfb25EcmFnU3RhcnQgKGV2ZW50KSB7XG4gICAgc3VwZXIuX29uRHJhZ1N0YXJ0KGV2ZW50KVxuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICBjb25zdCBkcmFnRGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSlcbiAgICAgIGRyYWdEYXRhLnRva2VuVXVpZCA9IHRoaXMudG9rZW4udXVpZFxuICAgICAgZHJhZ0RhdGEudG9rZW5JZCA9IHRoaXMudG9rZW4uaWRcbiAgICAgIGRyYWdEYXRhLnNjZW5lSWQgPSB0aGlzLnRva2VuLnBhcmVudC5pZFxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkcmFnRGF0YSkpXG4gICAgfVxuICB9XG5cbiAgX29uRHJhZ0NoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGNvbnN0IGJveCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudFxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBDb0M3VHlwZTogJ2xpbmsnLFxuICAgICAgbGlua1R5cGU6ICdjb2M3LWxpbmsnLFxuICAgICAgY2hlY2s6ICdjaGVjaycsXG4gICAgICB0eXBlOiAnY2hhcmFjdGVyaXN0aWMnLFxuICAgICAgaGFzUGxheWVyT3duZXI6IHRoaXMuYWN0b3IuaGFzUGxheWVyT3duZXIsXG4gICAgICBhY3RvcktleTogdGhpcy5hY3Rvci5hY3RvcktleSxcbiAgICAgIG5hbWU6IGJveC5kYXRhc2V0LmNoYXJhY3RlcmlzdGljLFxuICAgICAgaWNvbjogbnVsbCxcbiAgICAgIGRvY3VtZW50OiB7XG4gICAgICAgIHR5cGU6IHRoaXMuZG9jdW1lbnQudHlwZSxcbiAgICAgICAgdXVpZDogdGhpcy5kb2N1bWVudC51dWlkXG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG5cbiAgX29uRHJhZ0F0dHJpYnV0ZSAoZXZlbnQpIHtcbiAgICBjb25zdCBib3ggPSBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnRcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgQ29DN1R5cGU6ICdsaW5rJyxcbiAgICAgIGxpbmtUeXBlOiAnY29jNy1saW5rJyxcbiAgICAgIGNoZWNrOiAnY2hlY2snLFxuICAgICAgdHlwZTogJ2F0dHJpYnV0ZScsXG4gICAgICBoYXNQbGF5ZXJPd25lcjogdGhpcy5hY3Rvci5oYXNQbGF5ZXJPd25lcixcbiAgICAgIGFjdG9yS2V5OiB0aGlzLmFjdG9yLmFjdG9yS2V5LFxuICAgICAgbmFtZTogYm94LmRhdGFzZXQuYXR0cmliLFxuICAgICAgaWNvbjogbnVsbCxcbiAgICAgIGRvY3VtZW50OiB7XG4gICAgICAgIHR5cGU6IHRoaXMuZG9jdW1lbnQudHlwZSxcbiAgICAgICAgdXVpZDogdGhpcy5kb2N1bWVudC51dWlkXG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG5cbiAgX29uRHJhZ1NhbkNoZWNrIChldmVudCkge1xuICAgIGNvbnN0IHNhbk1pbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLnNhbi12YWx1ZS5wYXNzJylcbiAgICBjb25zdCBzYW5NYXggPSBldmVudC5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5zYW4tdmFsdWUuZmFpbGVkJylcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgQ29DN1R5cGU6ICdsaW5rJyxcbiAgICAgIGxpbmtUeXBlOiAnY29jNy1saW5rJyxcbiAgICAgIGNoZWNrOiAnc2FubG9zcycsXG4gICAgICBoYXNQbGF5ZXJPd25lcjogdGhpcy5hY3Rvci5oYXNQbGF5ZXJPd25lcixcbiAgICAgIGFjdG9yS2V5OiB0aGlzLmFjdG9yLmFjdG9yS2V5LFxuICAgICAgc2FuTWluOiBzYW5NaW4uaW5uZXJUZXh0LFxuICAgICAgc2FuTWF4OiBzYW5NYXguaW5uZXJUZXh0LFxuICAgICAgaWNvbjogbnVsbCxcbiAgICAgIGRvY3VtZW50OiB7XG4gICAgICAgIHR5cGU6IHRoaXMuZG9jdW1lbnQudHlwZSxcbiAgICAgICAgdXVpZDogdGhpcy5kb2N1bWVudC51dWlkXG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcCAoZXZlbnQpIHtcbiAgICBjb25zdCBkYXRhU3RyaW5nID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKVxuICAgIGlmIChkYXRhU3RyaW5nID09PSAnJykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpXG4gICAgaWYgKGRhdGEudHlwZSA9PT0gJ0NvQzdMaW5rJykge1xuICAgICAgaWYgKGRhdGEuY2hlY2sgPT09IENvQzdMaW5rLkNIRUNLX1RZUEUuRUZGRUNUKSB7XG4gICAgICAgIENvQzdMaW5rLl9vbkxpbmtBY3RvckNsaWNrKHRoaXMuYWN0b3IsIGRhdGEpXG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHN1cGVyLl9vbkRyb3AoZXZlbnQpXG4gIH1cblxuICBhc3luYyBfb25Db25kaXRpb25Ub2dnbGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY29uZGl0aW9uKSB7XG4gICAgICBhd2FpdCB0aGlzLmFjdG9yLnRvZ2dsZUNvbmRpdGlvbihldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY29uZGl0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJldml2ZSAoKSB7XG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB0aGlzLmFjdG9yLnVuc2V0Q29uZGl0aW9uKENPQzcuc3RhdHVzLmRlYWQpXG4gIH1cblxuICBhc3luYyBoZWFsICgpIHtcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHRoaXMuYWN0b3IudW5zZXRDb25kaXRpb24oQ09DNy5zdGF0dXMuZHlpbmcpXG4gIH1cblxuICBhc3luYyBjaGVja0ZvckRlYXRoIChldmVudCkge1xuICAgIGNvbnN0IGNvbkNoZWNrID0gbmV3IENvQzdDb25DaGVjayhcbiAgICAgIHRoaXMuYWN0b3IuaXNUb2tlbiA/IHRoaXMuYWN0b3IudG9rZW5LZXkgOiB0aGlzLmFjdG9yLmlkXG4gICAgKVxuICAgIGNvbkNoZWNrLnN0YXlBbGl2ZSA9IHRydWVcbiAgICBjb25DaGVjay50b01lc3NhZ2UoZXZlbnQuc2hpZnRLZXkpXG4gIH1cblxuICBhc3luYyBfb25EcmFnVG9rZW5TdGFydCAoZXZlbnQpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgdHlwZTogJ1Rva2VuJyxcbiAgICAgIHV1aWQ6IHRoaXMudG9rZW4udXVpZFxuICAgIH1cbiAgICBldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gIH1cblxuICBhc3luYyBfb25SZXNldENvdW50ZXIgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGF3YWl0IHRoaXMuYWN0b3IucmVzZXREYWlseVNhbml0eSgpXG4gIH1cblxuICBhc3luYyBfb25BdXRvVG9nZ2xlIChldmVudCkge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5hdHRyaWJ1dGUnKSkge1xuICAgICAgY29uc3QgYXR0cmliID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYXR0cmlidXRlJykuZGF0YXNldC5hdHRyaWJcbiAgICAgIHRoaXMuYWN0b3IudG9nZ2xlQXR0cmliQXV0byhhdHRyaWIpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uVG9nZ2xlIChldmVudCkge1xuICAgIGNvbnN0IHdlYXBvbiA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KFxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkXG4gICAgKVxuICAgIGlmICh3ZWFwb24pIHtcbiAgICAgIHdlYXBvbi50b2dnbGVQcm9wZXJ0eShcbiAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnByb3BlcnR5LFxuICAgICAgICBpc0N0cmxLZXkoZXZlbnQpXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLy8gcm9sbCB0aGUgYWN0b3IgY2hhcmFjdGVyaXN0aWMgZnJvbSBmb3JtdWxhIHdoZW4gcG9zc2libGUuXG4gIGFzeW5jIF9vblJvbGxDaGFyYWN0ZXJpdGljc1ZhbHVlICgpIHtcbiAgICBhd2FpdCB0aGlzLmFjdG9yLnJvbGxDaGFyYWN0ZXJpc3RpY3NWYWx1ZSgpXG4gIH1cblxuICBhc3luYyBfb25BdmVyYWdlQ2hhcmFjdGVyaXRpY3NWYWx1ZSAoKSB7XG4gICAgdGhpcy5hY3Rvci5hdmVyYWdlQ2hhcmFjdGVyaXN0aWNzVmFsdWUoKVxuICB9XG5cbiAgYXN5bmMgX29uTG9ja0NsaWNrZWQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGlzTG9ja2VkID0gdGhpcy5hY3Rvci5sb2NrZWRcbiAgICB0aGlzLmFjdG9yLmxvY2tlZCA9ICFpc0xvY2tlZFxuICAgIEhvb2tzLmNhbGwoJ2FjdG9yTG9ja0NsaWNrZWRDb0M3JywgWyFpc0xvY2tlZF0pXG4gIH1cblxuICBhc3luYyBfb25GbGFnQ2xpY2tlZCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgZmxhZ05hbWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZmxhZ1xuICAgIHRoaXMuYWN0b3IudG9nZ2xlQWN0b3JGbGFnKGZsYWdOYW1lKVxuICB9XG5cbiAgYXN5bmMgX29uRm9ybXVsYUNsaWNrZWQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuYWN0b3IudG9nZ2xlQWN0b3JGbGFnKCdkaXNwbGF5Rm9ybXVsYScpXG4gIH1cblxuICBhc3luYyBfb25XaGVlbCAoZXZlbnQpIHtcbiAgICBsZXQgdmFsdWUgPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKSB8fCBudWxsXG4gICAgaWYgKGV2ZW50LmRlbHRhWSA+IDApIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWUgLSAxXG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmRlbHRhWSA8IDApIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgKyAxXG4gICAgfVxuXG4gICAgc3dpdGNoIChldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWUpIHtcbiAgICAgIGNhc2UgJ3N5c3RlbS5hdHRyaWJzLmhwLnZhbHVlJzpcbiAgICAgICAgdGhpcy5hY3Rvci5zZXRIcCh2YWx1ZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N5c3RlbS5hdHRyaWJzLm1wLnZhbHVlJzpcbiAgICAgICAgdGhpcy5hY3Rvci5zZXRNcCh2YWx1ZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZSc6XG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0U2FuKHZhbHVlKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3lzdGVtLmF0dHJpYnMubGNrLnZhbHVlJzpcbiAgICAgICAgdGhpcy5hY3Rvci5zZXRMdWNrKHZhbHVlKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3lzdGVtLmF0dHJpYnMuYnVpbGQuY3VycmVudCc6XG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0SHAodmFsdWUpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgX3RvZ2dsZVJlYWRPbmx5IChldmVudCkge1xuICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucmVhZE9ubHkgPSAhZXZlbnQuY3VycmVudFRhcmdldC5yZWFkT25seVxuICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgncmVhZC1vbmx5JylcbiAgfVxuXG4gIF9vbkl0ZW1TdW1tYXJ5IChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtLWlkJykpXG4gICAgY29uc3QgY2hhdERhdGEgPSBpdGVtLmdldENoYXREYXRhKHsgc2VjcmV0czogdGhpcy5hY3Rvci5pc093bmVyIH0pXG5cbiAgICAvLyBUb2dnbGUgc3VtbWFyeVxuICAgIGlmIChsaS5oYXNDbGFzcygnZXhwYW5kZWQnKSkge1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IGxpLmNoaWxkcmVuKCcuaXRlbS1zdW1tYXJ5JylcbiAgICAgIHN1bW1hcnkuc2xpZGVVcCgyMDAsICgpID0+IHtcbiAgICAgICAgc3VtbWFyeS5yZW1vdmUoKVxuICAgICAgICBsaS50b2dnbGVDbGFzcygnZXhwYW5kZWQnKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGl2ID0gJCgnPGRpdiBjbGFzcz1cIml0ZW0tc3VtbWFyeVwiPjwvZGl2PicpXG5cbiAgICAgIGNvbnN0IGxhYmVscyA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLWxhYmVsc1wiPjwvZGl2PicpXG4gICAgICBmb3IgKGNvbnN0IHAgb2YgY2hhdERhdGEubGFiZWxzKSB7XG4gICAgICAgIGxhYmVscy5hcHBlbmQoXG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJpdGVtLWxhYmVsXCI+PHNwYW4gY2xhc3M9XCJsYWJlbC1uYW1lXCI+JHtwLm5hbWV9IDo8L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbC12YWx1ZVwiPiR7cC52YWx1ZX08L3NwYW4+PC9kaXY+YFxuICAgICAgICApXG4gICAgICB9XG4gICAgICBkaXYuYXBwZW5kKGxhYmVscylcblxuICAgICAgZGl2LmFwcGVuZChcbiAgICAgICAgJChgPGRpdiBjbGFzcz1cIml0ZW0tZGVzY3JpcHRpb25cIj4ke2NoYXREYXRhLmRlc2NyaXB0aW9uLnZhbHVlfTwvZGl2PmApXG4gICAgICApXG5cbiAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5zcGNsKSB7XG4gICAgICAgIGNvbnN0IHNwZWNpYWxEaXYgPSAkKFxuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiaXRlbS1zcGVjaWFsXCI+JHtjaGF0RGF0YS5kZXNjcmlwdGlvbi5zcGVjaWFsfTwvZGl2PmBcbiAgICAgICAgKVxuICAgICAgICBkaXYuYXBwZW5kKHNwZWNpYWxEaXYpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByb3BzID0gJCgnPGRpdiBjbGFzcz1cIml0ZW0tcHJvcGVydGllc1wiPjwvZGl2PicpXG4gICAgICBmb3IgKGNvbnN0IHAgb2YgY2hhdERhdGEucHJvcGVydGllcykge1xuICAgICAgICBwcm9wcy5hcHBlbmQoXG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJ0YWcgaXRlbS1wcm9wZXJ0eVwiPiR7Z2FtZS5pMThuLmxvY2FsaXplKHApfTwvZGl2PmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgZGl2LmFwcGVuZChwcm9wcylcblxuICAgICAgbGkuYXBwZW5kKGRpdi5oaWRlKCkpXG4gICAgICBDb0M3TGluay5iaW5kRXZlbnRzSGFuZGxlcihkaXYpXG4gICAgICBkaXYuc2xpZGVEb3duKDIwMCwgKCkgPT4gbGkudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJykpXG4gICAgfVxuICAgIC8vICQoZXZlbnQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gIH1cblxuICBhc3luYyBfb25TZWN0aW9uSGVhZGVyIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAvLyBsZXQgc2VjdGlvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnc2VjdGlvbicpLFxuICAgIC8vICBwYW5uZWxDbGFzcyA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgncGFubmVsJyksXG4gICAgLy8gIHBhbm5lbCA9IHNlY3Rpb24uZmluZCggYC4ke3Bhbm5lbENsYXNzfWApO1xuICAgIC8vIHBhbm5lbC50b2dnbGUoKTtcbiAgICBjb25zdCBzZWN0aW9uID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCdzZWN0aW9uJylcbiAgICBjb25zdCBwYW5uZWxDbGFzcyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wYW5uZWxcbiAgICBpZiAodHlwZW9mIHBhbm5lbENsYXNzID09PSAndW5kZWZpbmVkJykgcmV0dXJuXG4gICAgY29uc3QgcGFubmVsID0gJChzZWN0aW9uKS5maW5kKGAucGFubmVsLiR7cGFubmVsQ2xhc3N9YClcblxuICAgIC8vIHBhbm5lbC50b2dnbGUoKTtcbiAgICBpZiAocGFubmVsLmhhc0NsYXNzKCdleHBhbmRlZCcpKSB7XG4gICAgICAvLyBDb3VsZCByZW1vdmUgZXhwYW5kZWQgY2xhc3MgYW5kIHVzZSAocGFubmVsLmlzKCc6dmlzaWJsZScpKVxuICAgICAgcGFubmVsLnNsaWRlVXAoMjAwLCAoKSA9PiBwYW5uZWwudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJykpXG4gICAgfSBlbHNlIHtcbiAgICAgIHBhbm5lbC5zbGlkZURvd24oMjAwLCAoKSA9PiBwYW5uZWwudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJykpXG4gICAgfVxuXG4gICAgY29uc3QgY2FtZWxGbGFnID0gY2hhdEhlbHBlci5oeXBoZW5Ub0NhbWVsQ2FzZShgZGF0YS5wYW5uZWwuJHtwYW5uZWxDbGFzc30uZXhwYW5kZWRgKVxuXG4gICAgdGhpcy5hY3Rvci51cGRhdGUoXG4gICAgICB7IFtjYW1lbEZsYWddOiAhcGFubmVsLmhhc0NsYXNzKCdleHBhbmRlZCcpIH0sXG4gICAgICB7IHJlbmRlcjogZmFsc2UgfSlcbiAgfVxuXG4gIF9vbkludmVudG9yeUhlYWRlciAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnNpYmxpbmdzKCdsaScpXG4gICAgaWYgKGxpLmlzKCc6dmlzaWJsZScpKSBsaS5zbGlkZVVwKDIwMClcbiAgICBlbHNlIGxpLnNsaWRlRG93bigyMDApXG4gIH1cblxuICBfb25JdGVtSGVhZGVyIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBvbCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkubmV4dCgnb2wnKVxuICAgIGlmIChvbC5pcygnOnZpc2libGUnKSkgb2wuc2xpZGVVcCgyMDApXG4gICAgZWxzZSBvbC5zbGlkZURvd24oMjAwKVxuICB9XG5cbiAgYXN5bmMgX29uSXRlbVBvcHVwIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtLWlkJykpXG5cbiAgICBDb0M3QWN0b3JTaGVldC5wb3B1cFNraWxsKGl0ZW0pXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgcG9wdXBTa2lsbCAoc2tpbGwpIHtcbiAgICBza2lsbC5zeXN0ZW0uZGVzY3JpcHRpb24uZW5yaWNoZWRWYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNraWxsLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHsgYXN5bmM6IGZhbHNlIH1cbiAgICApXG4gICAgLy8gZ2FtZS5Db0M3LmVucmljaGVyKCBza2lsbC5kYXRhLmRhdGEuZGVzY3JpcHRpb24uZW5yaWNoZWRWYWx1ZSk7XG4gICAgY29uc3QgZGxnID0gbmV3IERpYWxvZyhcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ta2lsbERldGFpbHNXaW5kb3cnKSxcbiAgICAgICAgY29udGVudDogc2tpbGwsXG4gICAgICAgIGJ1dHRvbnM6IHt9LFxuICAgICAgICBjbG9zZTogKCkgPT4ge31cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldCcsICdza2lsbCddLFxuICAgICAgICB3aWR0aDogNTIwLFxuICAgICAgICBoZWlnaHQ6IDQ4MCxcbiAgICAgICAgc2Nyb2xsWTogWycuaXRlbS1kZXNjcmlwdGlvbiddLFxuICAgICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9za2lsbC1kZXRhaWxzLmh0bWwnXG4gICAgICB9XG4gICAgKVxuICAgIGRsZy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcm9sbGluZyBvZiBhbiBpdGVtIGZyb20gdGhlIEFjdG9yIHNoZWV0LCBvYnRhaW5pbmcgdGhlIEl0ZW0gaW5zdGFuY2UgYW5kIGRpc3BhdGNoaW5nIHRvIGl0J3Mgcm9sbCBtZXRob2RcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF9vbkl0ZW1Sb2xsIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAvLyBjb25zdCBpdGVtSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWQ7XG4gICAgLy8gY29uc3QgYWN0b3JJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnZm9ybScpLmRhdGFzZXQuYWN0b3JJZDtcbiAgICAvLyBjb25zdCB0b2tlbktleSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnZm9ybScpLmRhdGFzZXQudG9rZW5JZDtcbiAgICAvLyBsZXQgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKCk7XG5cbiAgICAvLyBjaGVjay5hY3RvciA9ICF0b2tlbktleSA/IGFjdG9ySWQgOiB0b2tlbktleTtcbiAgICAvLyBjaGVjay5pdGVtID0gaXRlbUlkO1xuICAgIC8vIGNoZWNrLnJvbGwoKTtcbiAgICAvLyBjaGVjay50b01lc3NhZ2UoKTtcbiAgfVxuXG4gIGFzeW5jIF9vbkVmZmVjdCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgZWZmZWN0SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2xpJykuZGF0YXNldC5lZmZlY3RJZFxuICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuYWN0b3IuZWZmZWN0cy5nZXQoZWZmZWN0SWQpXG4gICAgaWYgKGlzQ3RybEtleShldmVudCkgJiYgZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIENvQzdDb250ZW50TGlua0RpYWxvZy5jcmVhdGUoeyB0eXBlOiAnQ29DN0xpbmsnLCBjaGVjazogQ29DN0xpbmsuQ0hFQ0tfVFlQRS5FRkZFQ1QsIG9iamVjdDogZWZmZWN0IH0pXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uV2VhcG9uUm9sbCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgaXRlbUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCdsaScpLmRhdGFzZXQuaXRlbUlkXG4gICAgY29uc3QgZmFzdEZvcndhcmQgPSBldmVudC5zaGlmdEtleVxuICAgIGNvbnN0IHdlYXBvbiA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW1JZClcbiAgICAvLyBjb25zdCBhY3RvcktleSA9ICF0aGlzLnRva2VuPyB0aGlzLmFjdG9yLmFjdG9yS2V5IDogYCR7dGhpcy50b2tlbi5zY2VuZT8uX2lkP3RoaXMudG9rZW4uc2NlbmUuX2lkOidUT0tFTid9LiR7dGhpcy50b2tlbi5kYXRhLl9pZH1gOyAvL1JFRkFDVE9SSU5HICgyKVxuICAgIC8qKiAqIE1PRElGIDAuOC54ICoqKi9cbiAgICBsZXQgYWN0b3JLZXlcbiAgICBpZiAoIXRoaXMudG9rZW4pIGFjdG9yS2V5ID0gdGhpcy5hY3Rvci5pZFxuICAgIC8vIFNoZWV0IHdhcyBvcGVuZWQgZnJvbSBhY3RvciBkaXJlY3RvcnlcbiAgICBlbHNlIHtcbiAgICAgIC8vIE9wZW5lZCBmcm9tIHRva2VuXG4gICAgICBpZiAodGhpcy5hY3Rvci5pc1Rva2VuICYmIGdhbWUuYWN0b3JzLnRva2Vuc1t0aGlzLnRva2VuLmlkXSkge1xuICAgICAgICBhY3RvcktleSA9IGBUT0tFTi4ke3RoaXMudG9rZW4uaWR9YFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0b3JLZXkgPSBgJHt0aGlzLnRva2VuLnBhcmVudC5pZH0uJHt0aGlzLnRva2VuLmlkfWBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNDdHJsS2V5KGV2ZW50KSAmJiBnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgY29uc3QgbGlua0RhdGEgPSB7XG4gICAgICAgIGNoZWNrOiBDb0M3TGluay5DSEVDS19UWVBFLklURU0sXG4gICAgICAgIG5hbWU6IHdlYXBvbi5uYW1lXG4gICAgICB9XG4gICAgICBDb0M3Q29udGVudExpbmtEaWFsb2cuY3JlYXRlKGxpbmtEYXRhLCB7IGFjdG9yczogW3RoaXMuYWN0b3JdIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwcm9jZWVkV2l0aG91dFRhcmdldFxuICAgICAgaWYgKGdhbWUudXNlci50YXJnZXRzLnNpemUgPD0gMCkge1xuICAgICAgICBwcm9jZWVkV2l0aG91dFRhcmdldCA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICB0aXRsZTogJyAnLFxuICAgICAgICAgICAgY29udGVudDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ob1RhcmdldFNlbGVjdGVkJywge1xuICAgICAgICAgICAgICB3ZWFwb246IHdlYXBvbi5uYW1lXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICAgY2FuY2VsOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DYW5jZWwnKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwcm9jZWVkOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrXCI+PC9pPicsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Qcm9jZWVkJyksXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVmYXVsdDogJ2NhbmNlbCcsXG4gICAgICAgICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJ11cbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3IERpYWxvZyhkYXRhKS5yZW5kZXIodHJ1ZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChnYW1lLnVzZXIudGFyZ2V0cy5zaXplID4gMCB8fCBwcm9jZWVkV2l0aG91dFRhcmdldCkge1xuICAgICAgICBpZiAoIXdlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICAgICAgaWYgKGdhbWUudXNlci50YXJnZXRzLnNpemUgPiAxKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lldhcm5Ub29NYW55VGFyZ2V0JykpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDb0M3TWVsZWVJbml0aWF0b3IoYWN0b3JLZXksIGl0ZW1JZCwgZmFzdEZvcndhcmQpXG4gICAgICAgICAgY2FyZC5jcmVhdGVDaGF0Q2FyZCgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdlYXBvbi5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDb0M3UmFuZ2VJbml0aWF0b3IoYWN0b3JLZXksIGl0ZW1JZCwgZmFzdEZvcndhcmQpXG4gICAgICAgICAgY2FyZC5jcmVhdGVDaGF0Q2FyZCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25SZWxvYWRXZWFwb24gKGV2ZW50KSB7XG4gICAgY29uc3QgaXRlbUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpXG4gICAgICA/IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0Lml0ZW1JZFxuICAgICAgOiBudWxsXG4gICAgaWYgKCFpdGVtSWQpIHJldHVyblxuICAgIGNvbnN0IHdlYXBvbiA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGl0ZW1JZClcbiAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIGF3YWl0IHdlYXBvbi5yZWxvYWQoKVxuICAgICAgZWxzZSBhd2FpdCB3ZWFwb24uYWRkQnVsbGV0KClcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMikge1xuICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSBhd2FpdCB3ZWFwb24uc2V0QnVsbGV0cygwKVxuICAgICAgZWxzZSBhd2FpdCB3ZWFwb24uc2hvb3RCdWxsZXRzKDEpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uQWRkQW1vIChldmVudCkge1xuICAgIGNvbnN0IGl0ZW1JZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgICAgPyBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgIDogbnVsbFxuICAgIGlmICghaXRlbUlkKSByZXR1cm5cbiAgICBjb25zdCB3ZWFwb24gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChpdGVtSWQpXG4gICAgYXdhaXQgd2VhcG9uLmFkZEJ1bGxldCgpXG4gIH1cblxuICBhc3luYyBfb25XZWFwb25Ta2lsbFJvbGwgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHNraWxsSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2tpbGxJZFxuICAgIGNvbnN0IGFjdG9ySWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2Zvcm0nKS5kYXRhc2V0LmFjdG9ySWRcbiAgICBjb25zdCB0b2tlbktleSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnZm9ybScpLmRhdGFzZXQudG9rZW5JZFxuICAgIGNvbnN0IGl0ZW1JZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnbGknKVxuICAgICAgPyBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2xpJykuZGF0YXNldC5pdGVtSWRcbiAgICAgIDogbnVsbFxuXG4gICAgY29uc3QgY2hlY2sgPSBuZXcgQ29DN0NoZWNrKClcblxuICAgIGlmICghZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgUm9sbERpYWxvZy5jcmVhdGUoKVxuICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgIGNoZWNrLmRpY2VNb2RpZmllciA9IHVzYWdlLmdldCgnYm9udXNEaWNlJylcbiAgICAgICAgY2hlY2suZGlmZmljdWx0eSA9IHVzYWdlLmdldCgnZGlmZmljdWx0eScpXG4gICAgICAgIGNoZWNrLmZsYXREaWNlTW9kaWZpZXIgPSBOdW1iZXIodXNhZ2UuZ2V0KCdmbGF0RGljZU1vZGlmaWVyJykpXG4gICAgICAgIGNoZWNrLmZsYXRUaHJlc2hvbGRNb2RpZmllciA9IE51bWJlcih1c2FnZS5nZXQoJ2ZsYXRUaHJlc2hvbGRNb2RpZmllcicpKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrLmFjdG9yID0gIXRva2VuS2V5ID8gYWN0b3JJZCA6IHRva2VuS2V5XG4gICAgY2hlY2suc2tpbGwgPSBza2lsbElkXG4gICAgY2hlY2suaXRlbSA9IGl0ZW1JZFxuICAgIGF3YWl0IGNoZWNrLnJvbGwoKVxuICAgIGNoZWNrLnRvTWVzc2FnZSgpXG5cbiAgICAvLyBIQUNLOiBqdXN0IHRvIHBvcCB0aGUgYWR2YW5jZWQgcm9sbCB3aW5kb3dcbiAgICAvLyBjaGVjay5pdGVtLnJvbGwoKTtcbiAgfVxuXG4gIGFzeW5jIF9vbldlYXBvbkRhbWFnZSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgaXRlbUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcud2VhcG9uJykuZGF0YXNldC5pdGVtSWRcbiAgICBjb25zdCByYW5nZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLndlYXBvbi1kYW1hZ2UnKS5kYXRhc2V0LnJhbmdlXG4gICAgY29uc3QgZGFtYWdlQ2hhdENhcmQgPSBuZXcgRGFtYWdlQ2FyZCh7XG4gICAgICBmYXN0Rm9yd2FyZDogZXZlbnQuc2hpZnRLZXksXG4gICAgICByYW5nZVxuICAgIH0pXG4gICAgZGFtYWdlQ2hhdENhcmQuYWN0b3JLZXkgPSB0aGlzLmFjdG9yLnRva2VuS2V5XG4gICAgZGFtYWdlQ2hhdENhcmQuaXRlbUlkID0gaXRlbUlkXG4gICAgZGFtYWdlQ2hhdENhcmQudXBkYXRlQ2hhdENhcmQoKVxuICAgIC8vIGNvbnNvbGUubG9nKCAnV2VhcG9uIGRhbWFnZSBDbGlja2VkJyk7XG4gIH1cblxuICBhc3luYyBfb25PcHBvc2VkUm9sbCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuYXR0cmliID09PSAnZGInKSByZXR1cm5cblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICByb2xsVHlwZTogQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9TS0lMTCxcbiAgICAgIGNhcmRUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX09QUE9TRUQsXG4gICAgICBldmVudCxcbiAgICAgIGFjdG9yOiB0aGlzLmFjdG9yXG4gICAgfVxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2hhcmFjdGVyaXN0aWMtbGFiZWwnKSkge1xuICAgICAgZGF0YS5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQ0hBUkFDVEVSSVNUSUNcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhdHRyaWJ1dGUtbGFiZWwnKSkge1xuICAgICAgZGF0YS5yb2xsVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfQVRUUklCVVRFXG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmFsdEtleSkge1xuICAgICAgZGF0YS5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfQ09NQklORURcbiAgICB9XG5cbiAgICBDb0M3Q2hhdE1lc3NhZ2UudHJpZ2dlcihkYXRhKVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByb2xsaW5nIGEgU2tpbGwgY2hlY2tcbiAgICogQCAgcGFyYW0ge0V2ZW50fSBldmVudCAgIFRoZSBvcmlnaW5hdGluZyBjbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXN5bmMgX29uUm9sbENoYXJhY3Rlcml0aWNUZXN0IChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsYWdnZWQ0ZGV2JykpIHJldHVyblxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VDb250ZXh0TWVudXMnKSkge1xuICAgICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIoe1xuICAgICAgICByb2xsVHlwZTogQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQyxcbiAgICAgICAgY2FyZFR5cGU6IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMLFxuICAgICAgICBwcmV2ZW50U3RhbmRieTogdHJ1ZSxcbiAgICAgICAgZmFzdEZvcndhcmQ6IHRydWUsXG4gICAgICAgIGNoYXJhY3RlcmlzdGljOiBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5jaGFyLWJveCcpLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWMsXG4gICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBDb0M3Q2hhdE1lc3NhZ2UudHJpZ2dlcih7XG4gICAgICAgIHJvbGxUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0NIQVJBQ1RFUklTVElDLFxuICAgICAgICBjYXJkVHlwZTogQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUwsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Sb2xsQXR0cmliVGVzdCAoZXZlbnQpIHtcbiAgICAvLyBGTEFUTU9ESUZJRVJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgYXR0cmliID0gZXZlbnQuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuYXR0cmliXG4gICAgaWYgKGF0dHJpYiA9PT0gJ2RiJykge1xuICAgICAgaWYgKFxuICAgICAgICAhL14tezAsMX1cXGQrJC8udGVzdChcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC5yb2xsRm9ybXVsYVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgciA9IG5ldyBSb2xsKFxuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnJvbGxGb3JtdWxhXG4gICAgICAgIClcbiAgICAgICAgYXdhaXQgci5yb2xsKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgICAgaWYgKCFpc05hTihyLnRvdGFsKSAmJiAhKHIudG90YWwgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICByLnRvTWVzc2FnZSh7XG4gICAgICAgICAgICBzcGVha2VyOiBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKCksXG4gICAgICAgICAgICBmbGF2b3I6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Cb251c0RhbWFnZVJvbGwnKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VDb250ZXh0TWVudXMnKSkge1xuICAgICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIoe1xuICAgICAgICByb2xsVHlwZTogQ29DN0NoYXRNZXNzYWdlLlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQyxcbiAgICAgICAgY2FyZFR5cGU6IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9STUFMLFxuICAgICAgICBwcmV2ZW50U3RhbmRieTogdHJ1ZSxcbiAgICAgICAgZmFzdEZvcndhcmQ6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZTogZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYXR0cmlidXRlJykuZGF0YXNldC5hdHRyaWIsXG4gICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBDb0M3Q2hhdE1lc3NhZ2UudHJpZ2dlcih7XG4gICAgICAgIHJvbGxUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0FUVFJJQlVURSxcbiAgICAgICAgY2FyZFR5cGU6XG4gICAgICAgIGV2ZW50LmFsdEtleSAmJiBhdHRyaWIgPT09ICdzYW4nXG4gICAgICAgICAgPyBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX1NBTl9DSEVDS1xuICAgICAgICAgIDogQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUwsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHJvbGxpbmcgYSBTa2lsbCBjaGVja1xuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAgIFRoZSBvcmlnaW5hdGluZyBjbGljayBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX29uUm9sbFNraWxsVGVzdCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbGFnZ2VkNGRldicpKSByZXR1cm5cbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAndXNlQ29udGV4dE1lbnVzJykpIHtcbiAgICAgIENvQzdDaGF0TWVzc2FnZS50cmlnZ2VyKHtcbiAgICAgICAgcm9sbFR5cGU6IENvQzdDaGF0TWVzc2FnZS5ST0xMX1RZUEVfU0tJTEwsXG4gICAgICAgIGNhcmRUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PUk1BTCxcbiAgICAgICAgcHJldmVudFN0YW5kYnk6IHRydWUsXG4gICAgICAgIGZhc3RGb3J3YXJkOiB0cnVlLFxuICAgICAgICBza2lsbElkOiBldmVudD8uY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpPy5kYXRhc2V0LnNraWxsSWQsXG4gICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBDb0M3Q2hhdE1lc3NhZ2UudHJpZ2dlcih7XG4gICAgICAgIHJvbGxUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX1NLSUxMLFxuICAgICAgICBjYXJkVHlwZTogQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT1JNQUwsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIC8vIF9nZXRTdWJtaXREYXRhKHVwZGF0ZURhdGE9e30pIHtcblxuICAvLyAgLy8gQ3JlYXRlIHRoZSBleHBhbmRlZCB1cGRhdGUgZGF0YSBvYmplY3RcbiAgLy8gIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhRXh0ZW5kZWQodGhpcy5mb3JtLCB7ZWRpdG9yczogdGhpcy5lZGl0b3JzfSk7XG4gIC8vICBsZXQgZGF0YSA9IGZkLnRvT2JqZWN0KCk7XG4gIC8vICBpZiAoIHVwZGF0ZURhdGEgKSBkYXRhID0gbWVyZ2VPYmplY3QoZGF0YSwgdXBkYXRlRGF0YSk7XG4gIC8vICBlbHNlIGRhdGEgPSBleHBhbmRPYmplY3QoZGF0YSk7XG5cbiAgLy8gIC8vIEhhbmRsZSBEYW1hZ2UgYXJyYXlcbiAgLy8gIGNvbnN0IGRhbWFnZSA9IGRhdGEuZGF0YT8uZGFtYWdlO1xuICAvLyAgaWYgKCBkYW1hZ2UgKSBkYW1hZ2UucGFydHMgPSBPYmplY3QudmFsdWVzKGRhbWFnZT8ucGFydHMgfHwge30pLm1hcChkID0+IFtkWzBdIHx8ICcnLCBkWzFdIHx8ICcnXSk7XG5cbiAgLy8gIC8vIFJldHVybiB0aGUgZmxhdHRlbmVkIHN1Ym1pc3Npb24gZGF0YVxuICAvLyAgcmV0dXJuIGZsYXR0ZW5PYmplY3QoZGF0YSk7XG4gIC8vIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnQgdGhlIF91cGRhdGVPYmplY3QgbWV0aG9kIGFzIHJlcXVpcmVkIGJ5IHRoZSBwYXJlbnQgY2xhc3Mgc3BlY1xuICAgKiBUaGlzIGRlZmluZXMgaG93IHRvIHVwZGF0ZSB0aGUgc3ViamVjdCBvZiB0aGUgZm9ybSB3aGVuIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oJ191cGRhdGVPYmplY3QnKTtcbiAgICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggICBfZ2V0U3VibWl0RGF0YSh1cGRhdGVEYXRhPXt9KSBDZi4gc2hlZXQuanMoMjQzKVxuICAgIGNvbnN0IG92ZXJyaWRlcyA9IGZvdW5kcnkudXRpbHMuZmxhdHRlbk9iamVjdCh0aGlzLmFjdG9yLm92ZXJyaWRlcylcbiAgICBjb25zdCBuYW1lID0gZXZlbnQ/LmN1cnJlbnRUYXJnZXQ/Lm5hbWVcbiAgICBpZiAobmFtZSAmJiBvdmVycmlkZXMgJiYgb3ZlcnJpZGVzW25hbWVdKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRWZmZWN0QXBwbGllZENhbnRPdmVycmlkZScsIHsgbmFtZSB9KVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QpIHtcbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdza2lsbC1hZGp1c3RtZW50JykpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICA/IHBhcnNlSW50KGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgIDogbnVsbFxuXG4gICAgICAgICAgICBpZiAoIWV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgYXdhaXQgaXRlbS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIFtldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWVdOiBudWxsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGl0ZW0udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgIFtldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWVdOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29DSURGbGFnLmtleXMuaS5za2lsbC5jcmVkaXQtcmF0aW5nJykgPT09IGl0ZW0ubmFtZSAmJiB0eXBlb2YgdGhpcy5hY3Rvci5vY2N1cGF0aW9uPy5zeXN0ZW0/LmNyZWRpdFJhdGluZz8ubWF4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBjb25zdCBjcmVkaXRWYWx1ZSA9XG4gICAgICAgICAgICAgICAgKGl0ZW0udmFsdWUgfHwgMCkgLVxuICAgICAgICAgICAgICAgIChpdGVtLnN5c3RlbS5hZGp1c3RtZW50cz8uZXhwZXJpZW5jZSB8fCAwKVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY3JlZGl0VmFsdWUgPlxuICAgICAgICAgICAgICAgICAgTnVtYmVyKHRoaXMuYWN0b3Iub2NjdXBhdGlvbi5zeXN0ZW0uY3JlZGl0UmF0aW5nLm1heCkgfHxcbiAgICAgICAgICAgICAgICBjcmVkaXRWYWx1ZSA8XG4gICAgICAgICAgICAgICAgICBOdW1iZXIodGhpcy5hY3Rvci5vY2N1cGF0aW9uLnN5c3RlbS5jcmVkaXRSYXRpbmcubWluKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNyZWRpdE91dE9mUmFuZ2UnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1pbjogTnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0b3Iub2NjdXBhdGlvbi5zeXN0ZW0uY3JlZGl0UmF0aW5nLm1pblxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLm9jY3VwYXRpb24uc3lzdGVtLmNyZWRpdFJhdGluZy5tYXhcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2F0dHJpYnV0ZS12YWx1ZScpKSB7XG4gICAgICAgICAgLy8gVE9ETyA6IGNoZWNrIHdoeSBTQU4gb25seSA/XG4gICAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQubmFtZSA9PT0gJ3N5c3RlbS5hdHRyaWJzLnNhbi52YWx1ZScpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3Iuc2V0U2FuKFxuICAgICAgICAgICAgICBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5uYW1lID09PSAnc3lzdGVtLmF0dHJpYnMuaHAudmFsdWUnKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldEhwKFxuICAgICAgICAgICAgICBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGV4dC1hcmVhJykpIHtcbiAgICAgICAgICB0aGlzLmFjdG9yLnVwZGF0ZVRleHRBcmVhKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jpby1zZWN0aW9uLXZhbHVlJykpIHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KFxuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYmlvLXNlY3Rpb24nKS5kYXRhc2V0LmluZGV4XG4gICAgICAgICAgKVxuICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlQmlvVmFsdWUoaW5kZXgsIGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jpby1zZWN0aW9uLXRpdGxlJykpIHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KFxuICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuYmlvLXNlY3Rpb24nKS5kYXRhc2V0LmluZGV4XG4gICAgICAgICAgKVxuICAgICAgICAgIHRoaXMuYWN0b3IudXBkYXRlQmlvVGl0bGUoaW5kZXgsIGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25wYy1za2lsbC1zY29yZScpKSB7XG4gICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmFjdG9yLml0ZW1zLmdldChcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKHNraWxsKSB7XG4gICAgICAgICAgICBhd2FpdCBza2lsbC51cGRhdGVWYWx1ZShldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2tpbGwtbmFtZScpIHx8XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2l0ZW0tbmFtZScpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0LnNraWxsSWRcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fVxuICAgICAgICAgICAgaWYgKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCkge1xuICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGRhdGEubmFtZSA9IHBhcnRzLm5hbWVcbiAgICAgICAgICAgICAgZGF0YVsnc3lzdGVtLnNraWxsTmFtZSddID0gcGFydHMuc2tpbGxOYW1lXG4gICAgICAgICAgICAgIGRhdGFbJ3N5c3RlbS5zcGVjaWFsaXphdGlvbiddID0gcGFydHMuc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRhdGFbJ3N5c3RlbS5za2lsbE5hbWUnXSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgZGF0YS5uYW1lID0gZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgaXRlbS51cGRhdGUoZGF0YSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NoYXJhY3RlcmlzdGljLWZvcm11bGEnKSkge1xuICAgICAgICAgIC8vIHRlc3RlciBzaSBjJ2VzdCB2aWRlXG4gICAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBPbiB0ZXN0ZSBzaSBjJ2VzdCB1bmUgZm9ybXVsZSB2YWxpZGUgIVxuICAgICAgICAgICAgY29uc3QgciA9IG5ldyBSb2xsKGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpXG4gICAgICAgICAgICBhd2FpdCByLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICAgaWYgKGlzTmFOKHIudG90YWwpIHx8IHR5cGVvZiByLnRvdGFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuRXJyb3JJbnZhbGlkRm9ybXVsYScsIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBmb3JtRGF0YVtldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWVdID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICAgICAnQ29DNy5FcnJvckludmFsaWQnXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2F0dHJpYnV0ZS12YWx1ZScpKSB7XG4gICAgICAgICAgLy8gdGVzdGVyIHNpIGxlIGRiIHJldG91cm7DqSBlc3QgdmFsaWRlLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUubGVuZ3RoICE9PSAwICYmXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5hdHRyaWJ1dGUnKS5kYXRhc2V0LmF0dHJpYiA9PT0gJ2RiJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gT24gdGVzdGUgc2kgYydlc3QgdW5lIGZvcm11bGUgdmFsaWRlICFcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgUm9sbChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgYXdhaXQgci5yb2xsKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgICAgICAgIGlmIChpc05hTihyLnRvdGFsKSB8fCByLnRvdGFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9ySW52YWxpZEZvcm11bGEnLCB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZm9ybURhdGFbZXZlbnQuY3VycmVudFRhcmdldC5uYW1lXSA9IGdhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICAgJ0NvQzcuRXJyb3JJbnZhbGlkJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGUgc2tpbGwgYXNzb2Npw6kgYSBsJ2FybWUgYSBjaGFuZ8OpXG4gICAgICAgIC8vIFRPRE8gOiBGYWN0b3Jpc2F0aW9uIGR1IHN3aXRjaFxuICAgICAgICAvLyBUT0RPIDogcmVtcGxhY2VyIGxlcyBzdHJpbmdzIHBhciBkZSBjb25zdGFudGVzIChpdGVtLnNraWxsLm1haW4gLi4uKVxuICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3dlYXBvbi1za2lsbCcpKSB7XG4gICAgICAgICAgY29uc3Qgd2VhcG9uID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgICAgICApXG4gICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmFjdG9yLml0ZW1zLmdldChcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQub3B0aW9uc1tldmVudC5jdXJyZW50VGFyZ2V0LnNlbGVjdGVkSW5kZXhdLnZhbHVlXG4gICAgICAgICAgKVxuICAgICAgICAgIGlmICh3ZWFwb24gJiYgc2tpbGwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ21haW4nOlxuICAgICAgICAgICAgICAgIGF3YWl0IHdlYXBvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS5za2lsbC5tYWluLmlkJzogc2tpbGwuaWQsXG4gICAgICAgICAgICAgICAgICAnc3lzdGVtLnNraWxsLm1haW4ubmFtZSc6IHNraWxsLm5hbWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgIGNhc2UgJ2FsdGVybmF0aXYnOlxuICAgICAgICAgICAgICAgIGF3YWl0IHdlYXBvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgJ3N5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkJzogc2tpbGwuaWQsXG4gICAgICAgICAgICAgICAgICAnc3lzdGVtLnNraWxsLmFsdGVybmF0aXYubmFtZSc6IHNraWxsLm5hbWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGUgbm9tIGRlIGwnYXJtZSBhIGNoYW5nw6lcbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd3ZWFwb24tbmFtZScpKSB7XG4gICAgICAgICAgY29uc3Qgd2VhcG9uID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKHdlYXBvbikge1xuICAgICAgICAgICAgYXdhaXQgd2VhcG9uLnVwZGF0ZSh7IG5hbWU6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXMgZGVnYXRzIGRlIGwnYXJtZSBvbiBjaGFuZ8Opcy5cbiAgICAgICAgLy8gVE9ETyA6IEZhY3RvcmlzYXRpb24gZHUgc3dpdGNoXG4gICAgICAgIC8vIFRPRE8gOiByZW1wbGFjZXIgbGVzIHN0cmluZ3MgcGFyIGRlIGNvbnN0YW50ZXMgKGl0ZW0ucmFuZ2Uubm9ybWFsIC4uLilcbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYW1hZ2UtZm9ybXVsYScpKSB7XG4gICAgICAgICAgY29uc3Qgd2VhcG9uID0gdGhpcy5hY3Rvci5pdGVtcy5nZXQoXG4gICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKHdlYXBvbikge1xuICAgICAgICAgICAgLy8gdGVzdGUgbGEgdmFsaWRpdMOpIGRlIGxhIGZvcm11bGUuXG4gICAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgY29uc3QgciA9IG5ldyBSb2xsKGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgIGF3YWl0IHIucm9sbCh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgICAgIGlmIChpc05hTihyLnRvdGFsKSB8fCB0eXBlb2Ygci50b3RhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvclVuYWJsZVRvUGFyc2VGb3JtdWxhJywge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHdlYXBvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICdzeXN0ZW0ucmFuZ2Uubm9ybWFsLmRhbWFnZSc6IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ2xvbmcnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB3ZWFwb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAnc3lzdGVtLnJhbmdlLmxvbmcuZGFtYWdlJzogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgY2FzZSAnZXh0cmVtZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHdlYXBvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICdzeXN0ZW0ucmFuZ2UuZXh0cmVtZS5kYW1hZ2UnOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5yYW5nZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XG4gICAgICAgICAgICAgICAgICBhd2FpdCB3ZWFwb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgJ3N5c3RlbS5yYW5nZS5ub3JtYWwuZGFtYWdlJzogbnVsbFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnbG9uZyc6XG4gICAgICAgICAgICAgICAgICBhd2FpdCB3ZWFwb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgJ3N5c3RlbS5yYW5nZS5sb25nLmRhbWFnZSc6IG51bGxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2V4dHJlbWUnOlxuICAgICAgICAgICAgICAgICAgYXdhaXQgd2VhcG9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICdzeXN0ZW0ucmFuZ2UuZXh0cmVtZS5kYW1hZ2UnOiBudWxsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vYmplY3QudXBkYXRlKGZvcm1EYXRhKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgbWVyZ2VPYmplY3QsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IENvQzdBY3RvclNoZWV0IH0gZnJvbSAnLi9iYXNlLmpzJ1xuaW1wb3J0IHsgUm9sbERpYWxvZyB9IGZyb20gJy4uLy4uL2FwcHMvcm9sbC1kaWFsb2cuanMnXG5pbXBvcnQgeyBDb0M3TGluayB9IGZyb20gJy4uLy4uL2FwcHMvY29jNy1saW5rLmpzJ1xuaW1wb3J0IHsgY2hhdEhlbHBlciwgaXNDdHJsS2V5IH0gZnJvbSAnLi4vLi4vY2hhdC9oZWxwZXIuanMnXG5pbXBvcnQgeyBTYW5DaGVja0NhcmQgfSBmcm9tICcuLi8uLi9jaGF0L2NhcmRzL3Nhbi1jaGVjay5qcydcbmltcG9ydCB7IENvQzdDb250ZXh0TWVudSB9IGZyb20gJy4uLy4uL2NvbnRleHQtbWVudS5qcydcbmltcG9ydCB7IENvQzdDaGF0TWVzc2FnZSB9IGZyb20gJy4uLy4uL2FwcHMvY29jNy1jaGF0LW1lc3NhZ2UuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBBY3RvclNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3TlBDU2hlZXQgZXh0ZW5kcyBDb0M3QWN0b3JTaGVldCB7XG4gIC8qKlxuICAgKiBQcmVwYXJlIGRhdGEgZm9yIHJlbmRlcmluZyB0aGUgQWN0b3Igc2hlZXRcbiAgICogVGhlIHByZXBhcmVkIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGJvdGggdGhlIGFjdG9yIGRhdGEgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIHNoZWV0IG9wdGlvbnNcbiAgICovXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuXG4gICAgLy8gVE9ETyA6IGRvIHdlIG5lZWQgdGhhdCA/XG4gICAgc2hlZXREYXRhLmFsbG93Rm9ybXVsYSA9IHRydWVcbiAgICBzaGVldERhdGEuZGlzcGxheUZvcm11bGEgPSAodGhpcy5hY3Rvci5nZXRBY3RvckZsYWcoJ2Rpc3BsYXlGb3JtdWxhJykgfHwgZmFsc2UpXG5cbiAgICBzaGVldERhdGEuaGFzU2FuID0gc2hlZXREYXRhLmRhdGEuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlICE9PSBudWxsXG4gICAgc2hlZXREYXRhLmhhc01wID0gc2hlZXREYXRhLmRhdGEuc3lzdGVtLmF0dHJpYnMubXAudmFsdWUgIT09IG51bGxcbiAgICBzaGVldERhdGEuaGFzTHVjayA9IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5hdHRyaWJzLmxjay52YWx1ZSAhPT0gbnVsbFxuXG4gICAgc2hlZXREYXRhLmlzQ3JlYXR1cmUgPSBmYWxzZVxuXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlJdGVtcyA9XG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2hlZXREYXRhLml0ZW1zQnlUeXBlLCAnaXRlbScpIHx8XG4gICAgICAhc2hlZXREYXRhLmRhdGEuc3lzdGVtLmZsYWdzLmxvY2tlZFxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5Qm9va3MgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ2Jvb2snKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVNwZWxscyA9XG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2hlZXREYXRhLml0ZW1zQnlUeXBlLCAnc3BlbGwnKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVRhbGVudHMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3RhbGVudCcpIHx8XG4gICAgICAoIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWQgJiYgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVUYWxlbnRzJykpXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTdGF0dXNlcyA9XG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2hlZXREYXRhLml0ZW1zQnlUeXBlLCAnc3RhdHVzJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlXZWFwb25zID0gZmFsc2VcbiAgICBzaGVldERhdGEuaGFzSW52ZW50b3J5ID1cbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5SXRlbXMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5Qm9va3MgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5U3BlbGxzIHx8XG4gICAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVRhbGVudHMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5U3RhdHVzZXMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5V2VhcG9uc1xuXG4gICAgc2hlZXREYXRhLmVucmljaGVkQmlvZ3JhcGh5UGVyc29uYWxEZXNjcmlwdGlvbiA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5iaW9ncmFwaHkucGVyc29uYWxEZXNjcmlwdGlvbj8udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd1c2VDb250ZXh0TWVudXMnKSkge1xuICAgICAgaWYgKCF0aGlzLm1lbnVzKSB0aGlzLm1lbnVzID0gW11cblxuICAgICAgY29uc3Qgc2FubG9zc01lbnUgPSB7XG4gICAgICAgIGlkOiAnc2FuLWxvc3Mtcm9sbCcsXG4gICAgICAgIGNsYXNzZXM6ICdyb2xsLW1lbnUnLFxuICAgICAgICBzZWN0aW9uOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NlczogJ21haW4nLFxuICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgeyBhY3Rpb246ICdsaW5rLXRvb2wnLCBsYWJlbDogJ09wZW4gaW4gbGluayB0b29sJyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ3NlbmQtY2hhdCcsIGxhYmVsOiAnU2VuZCB0byBjaGF0JyB9LFxuICAgICAgICAgICAgICB7IGFjdGlvbjogJ2NvcHktdG8tY2xpcGJvYXJkJywgbGFiZWw6ICdDb3B5IHRvIGNsaXAtYm9hcmQnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG5cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzYW5sb3NzQ29udGV4dE1lbnUgPSBuZXcgQ29DN0NvbnRleHRNZW51KClcbiAgICAgIHNhbmxvc3NDb250ZXh0TWVudS5iaW5kKHNhbmxvc3NNZW51LCBodG1sLCB0aGlzLl9vblNhbkxvc3NDb250ZXh0TWVudUNsaWNrLmJpbmQodGhpcykpXG4gICAgICB0aGlzLm1lbnVzLnB1c2goc2FubG9zc0NvbnRleHRNZW51KVxuICAgIH1cblxuICAgIGh0bWwuZmluZCgnLnJvbGwtc2FuJykuY2xpY2sodGhpcy5fb25TYW5DaGVjay5iaW5kKHRoaXMpKVxuICAgIC8vIGlmICh0aGlzLmFjdG9yLmlzT3duZXIpIHtcbiAgICAvLyAgIGh0bWxcbiAgICAvLyAgICAgLmZpbmQoJ1tuYW1lPVwiZGF0YS5hdHRyaWJzLmhwLnZhbHVlXCJdJylcbiAgICAvLyAgICAgLmNoYW5nZShldmVudCA9PiB0aGlzLmFjdG9yLnNldEhlYWx0aFN0YXR1c01hbnVhbGx5KGV2ZW50KSlcbiAgICAvLyB9XG4gIH1cblxuICBhc3luYyBfb25TYW5Mb3NzQ29udGV4dE1lbnVDbGljayAoZXZlbnQpIHtcbiAgICBjb25zdCByb2xsT3B0aW9ucyA9IHtcbiAgICAgIHJvbGxUeXBlOiBDb0M3Q2hhdE1lc3NhZ2UuUk9MTF9UWVBFX0VOQ09VTlRFUixcbiAgICAgIHByZXZlbnRTdGFuZGJ5OiB0cnVlLFxuICAgICAgZmFzdEZvcndhcmQ6IGZhbHNlLFxuICAgICAgZXZlbnQsXG4gICAgICBjYXJkVHlwZTogQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9TQU5fQ0hFQ0ssXG4gICAgICBhY3RvcjogdGhpcy5hY3RvclxuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAoJ2xpbmstdG9vbCcpOlxuICAgICAgICByb2xsT3B0aW9ucy5jYXJkVHlwZSA9IENvQzdDaGF0TWVzc2FnZS5DQVJEX1RZUEVfTk9ORVxuICAgICAgICByb2xsT3B0aW9ucy5jcmVhdGVFbmNvdW50ZXIgPSB0cnVlXG4gICAgICAgIHJvbGxPcHRpb25zLm9wZW5MaW5rVG9vbCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgKCdzZW5kLWNoYXQnKTpcbiAgICAgICAgcm9sbE9wdGlvbnMuY2FyZFR5cGUgPSBDb0M3Q2hhdE1lc3NhZ2UuQ0FSRF9UWVBFX05PTkVcbiAgICAgICAgcm9sbE9wdGlvbnMuY3JlYXRlRW5jb3VudGVyID0gdHJ1ZVxuICAgICAgICByb2xsT3B0aW9ucy5zZW5kVG9DaGF0ID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAoJ2NvcHktdG8tY2xpcGJvYXJkJyk6XG4gICAgICAgIHJvbGxPcHRpb25zLmNhcmRUeXBlID0gQ29DN0NoYXRNZXNzYWdlLkNBUkRfVFlQRV9OT05FXG4gICAgICAgIHJvbGxPcHRpb25zLmNyZWF0ZUVuY291bnRlciA9IHRydWVcbiAgICAgICAgcm9sbE9wdGlvbnMuc2VuZFRvQ2xpcGJvYXJkID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgQ29DN0NoYXRNZXNzYWdlLnRyaWdnZXIocm9sbE9wdGlvbnMpXG4gIH1cblxuICBhc3luYyBfb25TYW5DaGVjayAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKFxuICAgICAgIXRoaXMuYWN0b3Iuc3lzdGVtLnNwZWNpYWwuc2FuTG9zcy5jaGVja1Bhc3NlZCAmJlxuICAgICAgIXRoaXMuYWN0b3Iuc3lzdGVtLnNwZWNpYWwuc2FuTG9zcy5jaGVja0ZhaWxsZWRcbiAgICApIHtcbiAgICAgIC8vIHVpLm5vdGlmaWNhdGlvbnMuaW5mbygnTm8gc2FuaXR5IGxvc3MgdmFsdWUnKTtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoXG4gICAgICBpc0N0cmxLZXkoZXZlbnQpICYmXG4gICAgICBnYW1lLnVzZXIuaXNHTVxuICAgICkge1xuICAgICAgbGV0IGRpZmZpY3VsdHksIG1vZGlmaWVyXG4gICAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgIGNvbnN0IHVzYWdlID0gYXdhaXQgUm9sbERpYWxvZy5jcmVhdGUoe1xuICAgICAgICAgIGRpc2FibGVGbGF0RGljZU1vZGlmaWVyOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICAgIG1vZGlmaWVyID0gTnVtYmVyKHVzYWdlLmdldCgnYm9udXNEaWNlJykpXG4gICAgICAgICAgZGlmZmljdWx0eSA9IE51bWJlcih1c2FnZS5nZXQoJ2RpZmZpY3VsdHknKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgbGlua0RhdGEgPSB7XG4gICAgICAgIGNoZWNrOiAnc2FubG9zcycsXG4gICAgICAgIHNhbk1pbjogdGhpcy5hY3Rvci5zeXN0ZW0uc3BlY2lhbC5zYW5Mb3NzLmNoZWNrUGFzc2VkLFxuICAgICAgICBzYW5NYXg6IHRoaXMuYWN0b3Iuc3lzdGVtLnNwZWNpYWwuc2FuTG9zcy5jaGVja0ZhaWxsZWQsXG4gICAgICAgIHNhblJlYXNvbjogdGhpcy5hY3Rvci5zeXN0ZW0uaW5mb3MudHlwZT8ubGVuZ3RoXG4gICAgICAgICAgPyB0aGlzLmFjdG9yLnN5c3RlbS5pbmZvcy50eXBlXG4gICAgICAgICAgOiB0aGlzLmFjdG9yLm5hbWUsXG4gICAgICAgIHRva2VuS2V5OiB0aGlzLmFjdG9yLmFjdG9yS2V5XG4gICAgICB9XG4gICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ2NvcmUnLCAncm9sbE1vZGUnKSA9PT0gJ2JsaW5kcm9sbCcpIHtcbiAgICAgICAgbGlua0RhdGEuYmxpbmQgPSB0cnVlXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG1vZGlmaWVyICE9PSAndW5kZWZpbmVkJykgbGlua0RhdGEubW9kaWZpZXIgPSBtb2RpZmllclxuICAgICAgaWYgKHR5cGVvZiBkaWZmaWN1bHR5ICE9PSAndW5kZWZpbmVkJykgbGlua0RhdGEuZGlmZmljdWx0eSA9IGRpZmZpY3VsdHlcbiAgICAgIGNvbnN0IGxpbmsgPSAobmV3IENvQzdMaW5rKCkpLl9jcmVhdGVEb2N1bWVudExpbmsobGlua0RhdGEpXG4gICAgICBpZiAobGluaykge1xuICAgICAgICBjaGF0SGVscGVyLmNyZWF0ZU1lc3NhZ2UoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1lc3NhZ2VDaGVja1JlcXVlc3RlZFdhaXQnLCB7XG4gICAgICAgICAgICBjaGVjazogbGlua1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2FuRGF0YSA9IHtcbiAgICAgICAgc2FuTWF4OiB0aGlzLmFjdG9yLnNhbkxvc3NDaGVja0ZhaWxsZWQsXG4gICAgICAgIHNhbk1pbjogdGhpcy5hY3Rvci5zYW5Mb3NzQ2hlY2tQYXNzZWQsXG4gICAgICAgIHNhblJlYXNvbjogdGhpcy5hY3Rvci5zeXN0ZW0uaW5mb3MudHlwZT8ubGVuZ3RoXG4gICAgICAgICAgPyB0aGlzLmFjdG9yLnN5c3RlbS5pbmZvcy50eXBlXG4gICAgICAgICAgOiB0aGlzLmFjdG9yLm5hbWUsXG4gICAgICAgIHRva2VuS2V5OiB0aGlzLmFjdG9yLmFjdG9yS2V5XG4gICAgICB9XG4gICAgICBTYW5DaGVja0NhcmQuY2hlY2tUYXJnZXRzKHNhbkRhdGEsIGV2ZW50LnNoaWZ0S2V5KVxuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2VTaGVldCAoKSB7XG4gICAgdGhpcy5hY3Rvci51bnNldEFjdG9yRmxhZygnZGlzcGxheUZvcm11bGEnKVxuICAgIHN1cGVyLm9uQ2xvc2VTaGVldCgpXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIC8qKlxuICAgKiBFeHRlbmQgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgQWN0b3IgU2hlZXRcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnYWN0b3InLCAnbnBjJ10sXG4gICAgICBkcmFnRHJvcDogW3sgZHJhZ1NlbGVjdG9yOiAnLml0ZW0nLCBkcm9wU2VsZWN0b3I6IG51bGwgfV0sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL25wYy1zaGVldC5odG1sJyxcbiAgICAgIHdpZHRoOiA1ODAsXG4gICAgICByZXNpemFibGU6IGZhbHNlLFxuICAgICAgbWluaW1pemFibGU6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudCB0aGUgX3VwZGF0ZU9iamVjdCBtZXRob2QgYXMgcmVxdWlyZWQgYnkgdGhlIHBhcmVudCBjbGFzcyBzcGVjXG4gICAqIFRoaXMgZGVmaW5lcyBob3cgdG8gdXBkYXRlIHRoZSBzdWJqZWN0IG9mIHRoZSBmb3JtIHdoZW4gdGhlIGZvcm0gaXMgc3VibWl0dGVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QpIHtcbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGFyYWN0ZXJpc3RpYy1zY29yZScpKSB7XG4gICAgICAgICAgdGhpcy5hY3Rvci5zZXRDaGFyYWN0ZXJpc3RpYyhcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQubmFtZSxcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLl91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKVxuICB9XG5cbiAgc3RhdGljIGZvcmNlQXV0byAoYXBwLCBodG1sKSB7XG4gICAgaHRtbC5oZWlnaHQoJ2F1dG8nKVxuICB9XG5cbiAgc2V0UG9zaXRpb24gKGEpIHtcbiAgICBzdXBlci5zZXRQb3NpdGlvbihhKVxuICAgIENvQzdOUENTaGVldC5mb3JjZUF1dG8oYSwgdGhpcy5fZWxlbWVudClcbiAgfVxufVxuIiwiLyogZ2xvYmFsIG1lcmdlT2JqZWN0ICovXG5pbXBvcnQgeyBDb0M3TlBDU2hlZXQgfSBmcm9tICcuL25wYy1zaGVldC5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEFjdG9yU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdDcmVhdHVyZVNoZWV0IGV4dGVuZHMgQ29DN05QQ1NoZWV0IHtcbiAgLyoqXG4gICAqIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBBY3RvciBzaGVldFxuICAgKiBUaGUgcHJlcGFyZWQgZGF0YSBvYmplY3QgY29udGFpbnMgYm90aCB0aGUgYWN0b3IgZGF0YSBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgc2hlZXQgb3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG4gICAgc2hlZXREYXRhLmlzQ3JlYXR1cmUgPSB0cnVlXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgLyoqXG4gICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBBY3RvciBTaGVldFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnYWN0b3InLCAnbnBjJywgJ2NyZWF0dXJlJ11cbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgRm9ybUFwcGxpY2F0aW9uLCBnYW1lLCBtZXJnZU9iamVjdCAqL1xuZXhwb3J0IGNsYXNzIENvQzdDcmVhdGVNeXRob3NFbmNvdW50ZXIgZXh0ZW5kcyBGb3JtQXBwbGljYXRpb24ge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNyddLFxuICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TYW5pdHlMb3NzVHlwZURpYWxvZ1RpdGxlJyksXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9zYW5pdHktbG9zcy10eXBlLmhicycsXG4gICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgIH0pXG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG4gICAgZGF0YS5pc0ltbXVuaXR5ID0gZGF0YS5vYmplY3QudHlwZSA9PT0gJ2ltbXVuaXR5J1xuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIGh0bWwuZmluZCgnLmZpZWxkX3R5cGUnKS5jaGFuZ2UodGhpcy5fb25TZWxlY3RDaGFuZ2UuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5kaWFsb2ctYnV0dG9uJykuY2xpY2sodGhpcy5fb25CdXR0b25DbGljay5iaW5kKHRoaXMpKVxuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gIH1cblxuICBfb25CdXR0b25DbGljayAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmJ1dHRvbiA9PT0gJ2FkZCcpIHtcbiAgICAgIGNvbnN0IGh0bWwgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy53aW5kb3ctY29udGVudCcpXG4gICAgICBjb25zdCB0eXBlID0gaHRtbC5maW5kKCcuZmllbGRfdHlwZScpLnZhbCgpXG4gICAgICBjb25zdCBuYW1lID0gaHRtbC5maW5kKCcuZmllbGRfbmFtZScpLnZhbCgpXG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGh0bWwuZmluZCgnLmZpZWxkX3ZhbHVlJykudmFsKCkpXG4gICAgICBjb25zdCBzYW5pdHlMb3NzRXZlbnRzID1cbiAgICAgICAgdGhpcy5vYmplY3QuYWN0b3Iuc3lzdGVtLnNhbml0eUxvc3NFdmVudHMgPz8gW11cbiAgICAgIHNhbml0eUxvc3NFdmVudHMucHVzaCh7XG4gICAgICAgIHR5cGU6IG5hbWUsXG4gICAgICAgIHRvdGFsTG9zczogdmFsdWUsXG4gICAgICAgIGltbXVuaXR5OiB0eXBlID09PSAnaW1tdW5pdHknXG4gICAgICB9KVxuICAgICAgc2FuaXR5TG9zc0V2ZW50cy5zb3J0KGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xuICAgICAgICByZXR1cm4gbGVmdC50eXBlLmxvY2FsZUNvbXBhcmUocmlnaHQudHlwZSlcbiAgICAgIH0pXG4gICAgICB0aGlzLm9iamVjdC5hY3Rvci51cGRhdGUoeyAnZGF0YS5zYW5pdHlMb3NzRXZlbnRzJzogc2FuaXR5TG9zc0V2ZW50cyB9KVxuICAgIH1cbiAgICB0aGlzLmNsb3NlKClcbiAgfVxuXG4gIF9vblNlbGVjdENoYW5nZSAoZXZlbnQpIHtcbiAgICBjb25zdCBodG1sID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcud2luZG93LWNvbnRlbnQnKVxuICAgIHRoaXMub2JqZWN0Lm5hbWUgPSBodG1sLmZpbmQoJy5maWVsZF9uYW1lJykudmFsKClcbiAgICB0aGlzLm9iamVjdC50eXBlID0gaHRtbC5maW5kKCcuZmllbGRfdHlwZScpLnZhbCgpXG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge31cbn1cbiIsIi8qIGdsb2JhbCAkLCBkdXBsaWNhdGUsIGV4cGFuZE9iamVjdCwgRm9udEZhY2UsIGdhbWUsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yLCB1aSAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3IuanMnXG5pbXBvcnQgeyBDb0M3QWN0b3JTaGVldCB9IGZyb20gJy4vYmFzZS5qcydcbmltcG9ydCB7IENvQzdDcmVhdGVNeXRob3NFbmNvdW50ZXIgfSBmcm9tICcuLi8uLi9hcHBzL2NyZWF0ZS1teXRob3MtZW5jb3VudGVycy5qcydcbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDaGFyYWN0ZXJTaGVldCBleHRlbmRzIENvQzdBY3RvclNoZWV0IHtcbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdDb0M3Q2hhcmFjdGVyU2hlZXQnKSB7XG4gICAgICBpZiAoIXRoaXMuc3VtbWFyaXplZCkgdGhpcy5zdW1tYXJpemVkID0gZmFsc2VcbiAgICAgIGxldCBidXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgICAgYnV0dG9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLnN1bW1hcml6ZWRcbiAgICAgICAgICAgID8gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1heGltaXplJylcbiAgICAgICAgICAgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlN1bW1hcml6ZScpLFxuICAgICAgICAgIGNsYXNzOiAndGVzdC1leHRyYS1pY29uJyxcbiAgICAgICAgICBpY29uOiB0aGlzLnN1bW1hcml6ZWRcbiAgICAgICAgICAgID8gJ2ZhcyBmYS13aW5kb3ctbWF4aW1pemUnXG4gICAgICAgICAgICA6ICdmYXMgZmEtd2luZG93LW1pbmltaXplJyxcbiAgICAgICAgICBvbmNsaWNrOiBldmVudCA9PiB0aGlzLnRvZ2dsZVNoZWV0TW9kZShldmVudClcbiAgICAgICAgfS8qICxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgICBjbGFzczogJ2RyYWctdGVzdC10aGluZ3knLFxuICAgICAgICAgIGljb246ICdnYW1lLWljb24gZ2FtZS1pY29uLWQxMCcsXG4gICAgICAgICAgb25kcmFnc3RhcnQ6ICgpID0+IHVpLm5vdGlmaWNhdGlvbnMuaW5mbygnZHJhZyBzdGFydGVkJylcbiAgICAgICAgfSAqL1xuICAgICAgXS5jb25jYXQoYnV0dG9ucylcbiAgICAgIHJldHVybiBidXR0b25zXG4gICAgfVxuICAgIHJldHVybiBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gIH1cblxuICBhc3luYyB0b2dnbGVTaGVldE1vZGUgKGV2ZW50KSB7XG4gICAgdGhpcy5zdW1tYXJpemVkID0gIXRoaXMuc3VtbWFyaXplZFxuICAgIGF3YWl0IHRoaXMuY2xvc2UoKVxuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnN1bW1hcml6ZWRcbiAgICAgID8ge1xuICAgICAgICAgIGNsYXNzZXM6IFsnY29jNycsICdhY3RvcicsICdjaGFyYWN0ZXInLCAnc3VtbWFyaXplZCddLFxuICAgICAgICAgIGhlaWdodDogMjAwLFxuICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2UsXG4gICAgICAgICAgd2lkdGg6IDcwMFxuICAgICAgICB9XG4gICAgICA6IENvQzdDaGFyYWN0ZXJTaGVldC5kZWZhdWx0T3B0aW9uc1xuICAgIGF3YWl0IHRoaXMucmVuZGVyKHRydWUsIG9wdGlvbnMpXG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBhd2FpdCBzdXBlci5nZXREYXRhKClcbiAgICBpZiAoXG4gICAgICB0aGlzLmlzRWRpdGFibGUgJiZcbiAgICAgIHR5cGVvZiB0aGlzLmFjdG9yLmdldEZsYWcoJ0NvQzcnLCAnc2tpbGxMaXN0TW9kZScpID09PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRGbGFnKCdDb0M3JywgJ3NraWxsTGlzdE1vZGUnLCBmYWxzZSlcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc0VkaXRhYmxlICYmXG4gICAgICB0eXBlb2YgdGhpcy5hY3Rvci5nZXRGbGFnKCdDb0M3JywgJ3NraWxsU2hvd1VuY29tbW9uJykgPT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldEZsYWcoJ0NvQzcnLCAnc2tpbGxTaG93VW5jb21tb24nLCB0cnVlKVxuICAgIH1cbiAgICBzaGVldERhdGEuc2tpbGxMaXN0TW9kZVZhbHVlID1cbiAgICAgIHRoaXMuYWN0b3IuZ2V0RmxhZygnQ29DNycsICdza2lsbExpc3RNb2RlJykgPz8gZmFsc2VcbiAgICBzaGVldERhdGEuc2tpbGxTaG93VW5jb21tb24gPVxuICAgICAgdGhpcy5hY3Rvci5nZXRGbGFnKCdDb0M3JywgJ3NraWxsU2hvd1VuY29tbW9uJykgPz8gdHJ1ZVxuICAgIHNoZWV0RGF0YS5zaG93SWNvbnNPbmx5ID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc2hvd0ljb25zT25seScpXG5cbiAgICBpZiAodGhpcy5hY3Rvci5vY2N1cGF0aW9uKSB7XG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3Mub2NjdXBhdGlvbiA9IHRoaXMuYWN0b3Iub2NjdXBhdGlvbi5uYW1lXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3Mub2NjdXBhdGlvblNldCA9IHRydWVcbiAgICB9IGVsc2Ugc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLm9jY3VwYXRpb25TZXQgPSBmYWxzZVxuXG4gICAgaWYgKHRoaXMuYWN0b3IuYXJjaGV0eXBlKSB7XG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uaW5mb3MuYXJjaGV0eXBlID0gdGhpcy5hY3Rvci5hcmNoZXR5cGUubmFtZVxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLmFyY2hldHlwZVNldCA9IHRydWVcbiAgICB9IGVsc2Ugc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLmFyY2hldHlwZVNldCA9IGZhbHNlXG5cbiAgICBzaGVldERhdGEudG90YWxFeHBlcmllbmNlID0gdGhpcy5hY3Rvci5leHBlcmllbmNlUG9pbnRzXG4gICAgc2hlZXREYXRhLnRvdGFsT2NjdXBhdGlvbiA9IHRoaXMuYWN0b3Iub2NjdXBhdGlvblBvaW50c1NwZW50XG4gICAgc2hlZXREYXRhLmludmFsaWRPY2N1cGF0aW9uUG9pbnRzID1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLm9jY3VwYXRpb25Qb2ludHNTcGVudCkgIT09XG4gICAgICBOdW1iZXIodGhpcy5hY3Rvci5zeXN0ZW0uZGV2ZWxvcG1lbnQ/Lm9jY3VwYXRpb24pXG4gICAgc2hlZXREYXRhLnRvdGFsQXJjaGV0eXBlID0gdGhpcy5hY3Rvci5hcmNoZXR5cGVQb2ludHNTcGVudFxuICAgIHNoZWV0RGF0YS5pbnZhbGlkQXJjaGV0eXBlUG9pbnRzID1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLmFyY2hldHlwZVBvaW50c1NwZW50KSAhPT1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLnN5c3RlbS5kZXZlbG9wbWVudD8uYXJjaGV0eXBlKVxuICAgIHNoZWV0RGF0YS50b3RhbFBlcnNvbmFsID0gdGhpcy5hY3Rvci5wZXJzb25hbFBvaW50c1NwZW50XG4gICAgc2hlZXREYXRhLmludmFsaWRQZXJzb25hbFBvaW50cyA9XG4gICAgICBOdW1iZXIodGhpcy5hY3Rvci5wZXJzb25hbFBvaW50c1NwZW50KSAhPT1cbiAgICAgIE51bWJlcih0aGlzLmFjdG9yLnN5c3RlbS5kZXZlbG9wbWVudD8ucGVyc29uYWwpXG4gICAgc2hlZXREYXRhLmNyZWRpdFJhdGluZ01heCA9IE51bWJlcihcbiAgICAgIHRoaXMuYWN0b3Iub2NjdXBhdGlvbj8uc3lzdGVtLmNyZWRpdFJhdGluZy5tYXhcbiAgICApXG4gICAgc2hlZXREYXRhLmNyZWRpdFJhdGluZ01pbiA9IE51bWJlcihcbiAgICAgIHRoaXMuYWN0b3Iub2NjdXBhdGlvbj8uc3lzdGVtLmNyZWRpdFJhdGluZy5taW5cbiAgICApXG4gICAgc2hlZXREYXRhLmludmFsaWRDcmVkaXRSYXRpbmcgPVxuICAgICAgdGhpcy5hY3Rvci5jcmVkaXRSYXRpbmdTa2lsbD8uc3lzdGVtLmFkanVzdG1lbnRzPy5vY2N1cGF0aW9uID5cbiAgICAgIHNoZWV0RGF0YS5jcmVkaXRSYXRpbmdNYXggfHxcbiAgICAgIHRoaXMuYWN0b3IuY3JlZGl0UmF0aW5nU2tpbGw/LnN5c3RlbS5hZGp1c3RtZW50cz8ub2NjdXBhdGlvbiA8XG4gICAgICBzaGVldERhdGEuY3JlZGl0UmF0aW5nTWluXG4gICAgc2hlZXREYXRhLnB1bHBUYWxlbnRDb3VudCA9IHNoZWV0RGF0YS5pdGVtc0J5VHlwZS50YWxlbnQ/Lmxlbmd0aFxuICAgICAgPyBzaGVldERhdGEuaXRlbXNCeVR5cGUudGFsZW50Py5sZW5ndGhcbiAgICAgIDogMFxuICAgIHNoZWV0RGF0YS5taW5QdWxwVGFsZW50cyA9IHRoaXMuYWN0b3IuYXJjaGV0eXBlPy5zeXN0ZW0udGFsZW50c1xuICAgICAgPyB0aGlzLmFjdG9yLmFyY2hldHlwZT8uc3lzdGVtLnRhbGVudHNcbiAgICAgIDogMFxuICAgIHNoZWV0RGF0YS5pbnZhbGlkUHVscFRhbGVudHMgPSBzaGVldERhdGEucHVscFRhbGVudENvdW50IDwgc2hlZXREYXRhLm1pblB1bHBUYWxlbnRzXG5cbiAgICBzaGVldERhdGEuaGFzRGV2ZWxvcG1lbnRQaGFzZSA9IHRoaXMuYWN0b3IuaGFzRGV2ZWxvcG1lbnRQaGFzZVxuXG4gICAgc2hlZXREYXRhLmFsbG93RGV2ZWxvcG1lbnQgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkZXZlbG9wbWVudEVuYWJsZWQnKVxuICAgIHNoZWV0RGF0YS5hbGxvd0NoYXJDcmVhdGlvbiA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2NoYXJDcmVhdGlvbkVuYWJsZWQnKVxuICAgIHNoZWV0RGF0YS5kZXZlbG9wbWVudFJvbGxGb3JMdWNrID0gZ2FtZS5zZXR0aW5ncy5nZXQoXG4gICAgICAnQ29DNycsXG4gICAgICAnZGV2ZWxvcG1lbnRSb2xsRm9yTHVjaydcbiAgICApXG4gICAgc2hlZXREYXRhLnNob3dEZXZQYW5uZWwgPSBzaGVldERhdGEuYWxsb3dEZXZlbG9wbWVudCB8fCBzaGVldERhdGEuYWxsb3dDaGFyQ3JlYXRpb25cblxuICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlGb3JtYXRzID0gW11cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBDT0M3Lm1vbmV0YXJ5Rm9ybWF0cykge1xuICAgICAgc2hlZXREYXRhLl9tb25ldGFyeUZvcm1hdHMucHVzaCh7IGtleSwgdmFsOiBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5tb25ldGFyeUZvcm1hdHNba2V5XSkgfSlcbiAgICB9XG5cbiAgICBzaGVldERhdGEuc2hvd0N1cnJlbmN5U3ltYm9sID0gWydkZWNpbWFsTGVmdCcsICdkZWNpbWFsUmlnaHQnLCAnaW50ZWdlckxlZnQnLCAnaW50ZWdlclJpZ2h0J10uaW5jbHVkZXMoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdClcblxuICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlUeXBlcyA9IFtdXG4gICAgZm9yIChjb25zdCBrZXkgaW4gQ09DNy5tb25ldGFyeVR5cGVzKSB7XG4gICAgICBpZiAoQ09DNy5tb25ldGFyeVR5cGVzW2tleV0uZmlsdGVyLmxlbmd0aCA9PT0gMCB8fCBDT0M3Lm1vbmV0YXJ5VHlwZXNba2V5XS5maWx0ZXIuaW5jbHVkZXMoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdCkpIHtcbiAgICAgICAgc2hlZXREYXRhLl9tb25ldGFyeVR5cGVzLnB1c2goeyBrZXksIHZhbDogZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubW9uZXRhcnlUeXBlc1trZXldLm5hbWUpIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLm1hbnVhbENyZWRpdCA9IHRoaXMuYWN0b3IuZ2V0QWN0b3JGbGFnKCdtYW51YWxDcmVkaXQnKVxuICAgIGlmICghc2hlZXREYXRhLm1hbnVhbENyZWRpdCkge1xuICAgICAgc2hlZXREYXRhLm1vbmV0YXJ5ID0ge1xuICAgICAgICBzcGVuZGluZ0xldmVsOiBDb0NBY3Rvci5tb25ldGFyeUZvcm1hdChzaGVldERhdGEuZGF0YS5zeXN0ZW0ubW9uZXRhcnkuZm9ybWF0LCBzaGVldERhdGEuZGF0YS5zeXN0ZW0ubW9uZXRhcnkuc3ltYm9sLCB0aGlzLmFjdG9yLnNwZW5kaW5nTGV2ZWwpLFxuICAgICAgICBhc3NldHM6IENvQ0FjdG9yLm1vbmV0YXJ5Rm9ybWF0KHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5tb25ldGFyeS5mb3JtYXQsIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5tb25ldGFyeS5zeW1ib2wsIHRoaXMuYWN0b3IuYXNzZXRzKSxcbiAgICAgICAgY2FzaDogQ29DQWN0b3IubW9uZXRhcnlGb3JtYXQoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdCwgc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LnN5bWJvbCwgdGhpcy5hY3Rvci5jYXNoKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5vbmVCbG9ja0JhY2tTdG9yeSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ29uZUJsb2NrQmFja3N0b3J5JylcblxuICAgIHNoZWV0RGF0YS5zdW1tYXJpemVkID0gdGhpcy5zdW1tYXJpemVkICYmICFzaGVldERhdGEucGVybWlzc2lvbkxpbWl0ZWRcbiAgICBzaGVldERhdGEuc2tpbGxMaXN0ID0gW11cbiAgICBsZXQgcHJldmlvdXNTcGVjID0gJydcbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHNoZWV0RGF0YS5za2lsbHMpIHtcbiAgICAgIGlmIChzaGVldERhdGEuc2tpbGxTaG93VW5jb21tb24gfHwgIXNraWxsLnN5c3RlbS5wcm9wZXJ0aWVzLnJhcml0eSkge1xuICAgICAgICBpZiAoc2tpbGwuc3lzdGVtLnByb3BlcnRpZXMuc3BlY2lhbCkge1xuICAgICAgICAgIGlmIChwcmV2aW91c1NwZWMgIT09IHNraWxsLnN5c3RlbS5zcGVjaWFsaXphdGlvbikge1xuICAgICAgICAgICAgcHJldmlvdXNTcGVjID0gc2tpbGwuc3lzdGVtLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgICBzaGVldERhdGEuc2tpbGxMaXN0LnB1c2goe1xuICAgICAgICAgICAgICBpc1NwZWNpYWxpemF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICBuYW1lOiBza2lsbC5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5za2lsbExpc3QucHVzaChza2lsbClcbiAgICAgIH1cbiAgICB9XG4gICAgc2hlZXREYXRhLnNraWxsc0J5VmFsdWUgPSBbLi4uc2hlZXREYXRhLnNraWxsc10uc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGIuc3lzdGVtLnZhbHVlIC0gYS5zeXN0ZW0udmFsdWVcbiAgICB9KVxuICAgIHNoZWV0RGF0YS50b3BTa2lsbHMgPSBbLi4uc2hlZXREYXRhLnNraWxsc0J5VmFsdWVdLnNsaWNlKDAsIDE0KVxuICAgIHNoZWV0RGF0YS5za2lsbHNCeVZhbHVlID0gc2hlZXREYXRhLnNraWxsc0J5VmFsdWUuZmlsdGVyKFxuICAgICAgc2tpbGwgPT4gc2hlZXREYXRhLnNraWxsU2hvd1VuY29tbW9uIHx8ICFza2lsbC5zeXN0ZW0ucHJvcGVydGllcy5yYXJpdHlcbiAgICApXG4gICAgc2hlZXREYXRhLnRvcFdlYXBvbnMgPSBbLi4uc2hlZXREYXRhLm1lbGVlV3BuLCAuLi5zaGVldERhdGEucmFuZ2VXcG5dXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5zeXN0ZW0uc2tpbGwubWFpbj8udmFsdWUgLSBiLnN5c3RlbS5za2lsbC5tYWluPy52YWx1ZVxuICAgICAgfSlcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5zbGljZSgwLCAzKVxuICAgIHNoZWV0RGF0YS5kaXNwbGF5UGxheWVyTmFtZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KFxuICAgICAgJ0NvQzcnLFxuICAgICAgJ2Rpc3BsYXlQbGF5ZXJOYW1lT25TaGVldCdcbiAgICApXG4gICAgaWYgKHNoZWV0RGF0YS5kaXNwbGF5UGxheWVyTmFtZSAmJiAhc2hlZXREYXRhLmRhdGEuc3lzdGVtLmluZm9zLnBsYXllcm5hbWUpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLmFjdG9yLmNoYXJhY3RlclVzZXJcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5pbmZvcy5wbGF5ZXJuYW1lID0gdXNlci5uYW1lXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLnNraWxsTGlzdEVtcHR5ID0gc2hlZXREYXRhLnNraWxscy5sZW5ndGggPT09IDBcblxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5SXRlbXMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ2l0ZW0nKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeUJvb2tzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICdib29rJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTcGVsbHMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3NwZWxsJykgfHxcbiAgICAgICFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlUYWxlbnRzID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICd0YWxlbnQnKSB8fFxuICAgICAgKCFzaGVldERhdGEuZGF0YS5zeXN0ZW0uZmxhZ3MubG9ja2VkICYmIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlVGFsZW50cycpKVxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5U3RhdHVzZXMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3N0YXR1cycpIHx8XG4gICAgICAhc2hlZXREYXRhLmRhdGEuc3lzdGVtLmZsYWdzLmxvY2tlZFxuXG4gICAgc2hlZXREYXRhLmhhc0ludmVudG9yeSA9XG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlJdGVtcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlCb29rcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTcGVsbHMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5VGFsZW50cyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTdGF0dXNlcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlXZWFwb25zXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWRCYWNrc3RvcnkgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uYmFja3N0b3J5LFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBfc2F2ZVNjcm9sbFBvc2l0aW9ucyAoaHRtbCkge1xuICAgIHN1cGVyLl9zYXZlU2Nyb2xsUG9zaXRpb25zKGh0bWwpXG4gICAgY29uc3Qgc2VsZWN0b3JzID0gWycucmlnaHQtcGFuZWwgLnRhYi5kZXZlbG9wbWVudCBvbCddXG4gICAgdGhpcy5fc2Nyb2xsUG9zaXRpb25zWCA9IHNlbGVjdG9ycy5yZWR1Y2UoKHBvcywgc2VsKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGh0bWwuZmluZChzZWwpXG4gICAgICBwb3Nbc2VsXSA9IEFycmF5LmZyb20oZWwpLm1hcChlbCA9PiBlbC5zY3JvbGxMZWZ0KVxuICAgICAgcmV0dXJuIHBvc1xuICAgIH0sIHt9KVxuICB9XG5cbiAgX3Jlc3RvcmVTY3JvbGxQb3NpdGlvbnMgKGh0bWwpIHtcbiAgICBzdXBlci5fcmVzdG9yZVNjcm9sbFBvc2l0aW9ucyhodG1sKVxuICAgIGNvbnN0IHNlbGVjdG9ycyA9IFsnLnJpZ2h0LXBhbmVsIC50YWIuZGV2ZWxvcG1lbnQgb2wnXVxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMuX3Njcm9sbFBvc2l0aW9uc1ggfHwge31cbiAgICBmb3IgKGNvbnN0IHNlbCBvZiBzZWxlY3RvcnMpIHtcbiAgICAgIGNvbnN0IGVsID0gaHRtbC5maW5kKHNlbClcbiAgICAgIGVsLmVhY2goKGksIGVsKSA9PiB7IGVsLnNjcm9sbExlZnQgPSBwb3NpdGlvbnNbc2VsXT8uW2ldIHx8IDAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIDVlIEFjdG9yIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldFYyJywgJ2FjdG9yJywgJ2NoYXJhY3RlciddLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9jaGFyYWN0ZXIvaW5kZXguaHRtbCcsXG4gICAgICB3aWR0aDogNjg3LFxuICAgICAgaGVpZ2h0OiA2MjMsXG4gICAgICByZXNpemFibGU6IHRydWUsXG4gICAgICBkcmFnRHJvcDogW3sgZHJhZ1NlbGVjdG9yOiAnLml0ZW0nLCBkcm9wU2VsZWN0b3I6IG51bGwgfV0sXG4gICAgICBzY3JvbGxZOiBbJy5yaWdodC1wYW5lbCAudGFiJ10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXYnLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnc2tpbGxzJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgIGlmICh0aGlzLmFjdG9yLmlzT3duZXIpIHtcbiAgICAgIC8vIE1PRElGOiAwLjgueCBvd25lciBkZXByZWNhdGVkICA9PiBpc093bmVyXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuc2tpbGwtbmFtZS5yb2xsYWJsZS5mbGFnZ2VkNGRldicpXG4gICAgICAgIC5jbGljayhhc3luYyBldmVudCA9PiB0aGlzLl9vblNraWxsRGV2KGV2ZW50KSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5yZXNldC1vY2N1cGF0aW9uJylcbiAgICAgICAgLmNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuYWN0b3IucmVzZXRPY2N1cGF0aW9uKCkpXG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcucmVzZXQtYXJjaGV0eXBlJylcbiAgICAgICAgLmNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuYWN0b3IucmVzZXRBcmNoZXR5cGUoKSlcbiAgICAgIGh0bWwuZmluZCgnLm9wZW4taXRlbScpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uSXRlbURldGFpbHMoZXZlbnQpKVxuICAgICAgLy8gaHRtbFxuICAgICAgLy8gICAuZmluZCgnW25hbWU9XCJkYXRhLmF0dHJpYnMuaHAudmFsdWVcIl0nKVxuICAgICAgLy8gICAuY2hhbmdlKGFzeW5jIGV2ZW50ID0+e1xuICAgICAgLy8gICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIC8vICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgLy8gICAgIGxldCB2YWx1ZSA9IE51bWJlciggZXZlbnQuY3VycmVudFRhcmdldD8udmFsdWUpXG4gICAgICAvLyAgICAgaWYoICFpc05hTih2YWx1ZSkpIGF3YWl0IHRoaXMuYWN0b3Iuc2V0SHAoZXZlbnQpXG4gICAgICAvLyAgICAgZWxzZSB1aS5ub3RpZmljYXRpb25zLndhcm4oJ0Vycm9yIHBhcnNpbmcgSFAgdmFsdWUnKVxuICAgICAgLy8gICB9KVxuICAgICAgaHRtbC5maW5kKCcudG9nZ2xlLWxpc3QtbW9kZScpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy50b2dnbGVTa2lsbExpc3RNb2RlKGV2ZW50KVxuICAgICAgfSlcbiAgICAgIGh0bWwuZmluZCgnLnRvZ2dsZS11bmNvbW1vbi1tb2RlJykuY2xpY2soZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnRvZ2dsZVNraWxsVW5jb21tb25Nb2RlKGV2ZW50KVxuICAgICAgfSlcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy5zYW5pdHktbG9zcy10eXBlLWFkZCcpXG4gICAgICAgICAgLmNsaWNrKHRoaXMuX29uQWRkU2FuaXR5TG9zc1JlYXNvbi5iaW5kKHRoaXMpKVxuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy5zYW5pdHktbG9zcy10eXBlLWRlbGV0ZScpXG4gICAgICAgICAgLmNsaWNrKHRoaXMuX29uRGVsZXRlU2FuaXR5TG9zc1JlYXNvbi5iaW5kKHRoaXMpKVxuICAgICAgICBodG1sXG4gICAgICAgICAgLmZpbmQoJy50b2dnbGUta2VlcGVyLWZsYWdzJylcbiAgICAgICAgICAuY2xpY2sodGhpcy5fb25Ub2dnbGVLZWVwZXJGbGFncy5iaW5kKHRoaXMpKVxuICAgICAgICBodG1sLmZpbmQoJy5hZGQtbW9uZXRhcnknKS5jbGljayh0aGlzLl9vbkFkZE1vbmV0YXJ5LmJpbmQodGhpcykpXG4gICAgICAgIGh0bWwuZmluZCgnLnJlbW92ZS1tb25ldGFyeScpLmNsaWNrKHRoaXMuX29uUmVtb3ZlTW9uZXRhcnkuYmluZCh0aGlzKSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfb25BZGRNb25ldGFyeSAoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5hY3Rvci5zeXN0ZW0ubW9uZXRhcnkudmFsdWVzID8gZHVwbGljYXRlKHRoaXMuYWN0b3Iuc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcykgOiBbXVxuICAgIHZhbHVlcy5wdXNoKHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgbWluOiBudWxsLFxuICAgICAgbWF4OiBudWxsLFxuICAgICAgY2FzaFR5cGU6IDAsXG4gICAgICBjYXNoVmFsdWU6ICcnLFxuICAgICAgYXNzZXRzVHlwZTogMCxcbiAgICAgIGFzc2V0c1ZhbHVlOiAnJyxcbiAgICAgIHNwZW5kaW5nVHlwZTogMCxcbiAgICAgIHNwZW5kaW5nVmFsdWU6ICcnXG4gICAgfSlcbiAgICB0aGlzLmFjdG9yLnVwZGF0ZSh7ICdzeXN0ZW0ubW9uZXRhcnkudmFsdWVzJzogdmFsdWVzIH0pXG4gIH1cblxuICBfb25SZW1vdmVNb25ldGFyeSAoZXZlbnQpIHtcbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGRpdiA9IGEuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IHZhbHVlcyA9IGR1cGxpY2F0ZSh0aGlzLmFjdG9yLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMpXG4gICAgdmFsdWVzLnNwbGljZShOdW1iZXIoZGl2LmRhdGFzZXQuaW5kZXgpLCAxKVxuICAgIHRoaXMuYWN0b3IudXBkYXRlKHsgJ3N5c3RlbS5tb25ldGFyeS52YWx1ZXMnOiB2YWx1ZXMgfSlcbiAgfVxuXG4gIF9vblRvZ2dsZUtlZXBlckZsYWdzIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBzd2l0Y2ggKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5mbGFnKSB7XG4gICAgICBjYXNlICdteXRob3NJbnNhbml0eUV4cGVyaWVuY2VkJzpcbiAgICAgICAgdGhpcy5hY3Rvci5zZXRGbGFnKFxuICAgICAgICAgICdDb0M3JyxcbiAgICAgICAgICAnbXl0aG9zSW5zYW5pdHlFeHBlcmllbmNlZCcsXG4gICAgICAgICAgIXRoaXMuYWN0b3IubXl0aG9zSW5zYW5pdHlFeHBlcmllbmNlZFxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdteXRob3NIYXJkZW5lZCc6XG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0RmxhZygnQ29DNycsICdteXRob3NIYXJkZW5lZCcsICF0aGlzLmFjdG9yLm15dGhvc0hhcmRlbmVkKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkFkZFNhbml0eUxvc3NSZWFzb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIG5ldyBDb0M3Q3JlYXRlTXl0aG9zRW5jb3VudGVyKFxuICAgICAge1xuICAgICAgICBhY3RvcjogdGhpcy5hY3RvcixcbiAgICAgICAgdHlwZTogZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnR5cGVcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICkucmVuZGVyKHRydWUpXG4gIH1cblxuICBfb25EZWxldGVTYW5pdHlMb3NzUmVhc29uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBvZmZzZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgICAuY2xvc2VzdCgnLmZsZXhyb3cnKVxuICAgICAgLmRhdGEoJ29mZnNldCcpXG4gICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50cyA9IHRoaXMuYWN0b3Iuc3lzdGVtLnNhbml0eUxvc3NFdmVudHMgPz8gW11cbiAgICBzYW5pdHlMb3NzRXZlbnRzLnNwbGljZShvZmZzZXQsIDEpXG4gICAgc2FuaXR5TG9zc0V2ZW50cy5zb3J0KGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xuICAgICAgcmV0dXJuIGxlZnQudHlwZS5sb2NhbGVDb21wYXJlKHJpZ2h0LnR5cGUpXG4gICAgfSlcbiAgICB0aGlzLmFjdG9yLnVwZGF0ZSh7ICdzeXN0ZW0uc2FuaXR5TG9zc0V2ZW50cyc6IHNhbml0eUxvc3NFdmVudHMgfSlcbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZVNraWxsTGlzdE1vZGUgKGV2ZW50KSB7XG4gICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRGbGFnKFxuICAgICAgJ0NvQzcnLFxuICAgICAgJ3NraWxsTGlzdE1vZGUnLFxuICAgICAgIXRoaXMuYWN0b3IuZ2V0RmxhZygnQ29DNycsICdza2lsbExpc3RNb2RlJylcbiAgICApXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyB0b2dnbGVTa2lsbFVuY29tbW9uTW9kZSAoZXZlbnQpIHtcbiAgICBhd2FpdCB0aGlzLmFjdG9yLnNldEZsYWcoXG4gICAgICAnQ29DNycsXG4gICAgICAnc2tpbGxTaG93VW5jb21tb24nLFxuICAgICAgIXRoaXMuYWN0b3IuZ2V0RmxhZygnQ29DNycsICdza2lsbFNob3dVbmNvbW1vbicpXG4gICAgKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgYXN5bmMgX29uU2tpbGxEZXYgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHNraWxsSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5pdGVtSWRcbiAgICBhd2FpdCB0aGlzLmFjdG9yLmRldmVsb3BTa2lsbChza2lsbElkLCBldmVudC5zaGlmdEtleSlcbiAgfVxuXG4gIF9vbkl0ZW1EZXRhaWxzIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCB0eXBlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnR5cGVcbiAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvclt0eXBlXVxuICAgIGlmIChpdGVtKSBpdGVtLnNoZWV0LnJlbmRlcih0cnVlKVxuICB9XG5cbiAgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgY29uc3Qgc3lzdGVtID0gZXhwYW5kT2JqZWN0KGZvcm1EYXRhKT8uc3lzdGVtXG4gICAgaWYgKHN5c3RlbS5tb25ldGFyeT8udmFsdWVzKSB7XG4gICAgICBmb3JtRGF0YVsnc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyddID0gT2JqZWN0LnZhbHVlcyhzeXN0ZW0ubW9uZXRhcnkudmFsdWVzIHx8IFtdKVxuICAgIH1cbiAgICBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSlcbiAgfVxuXG4gIHN0YXRpYyByZW5kZXJTaGVldCAoc2hlZXQsIGh0bWwpIHtcbiAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb3ZlcnJpZGVTaGVldEFydHdvcmsnKSkge1xuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtTaGVldEJhY2tncm91bmQnKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0V29ya1NoZWV0QmFja2dyb3VuZCcpLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgJ251bGwnXG4gICAgICAgICkge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1iZycsXG4gICAgICAgICAgICBcInVybCggJy4vYXNzZXRzL2ltYWdlcy92b2lkLndlYnAnKVwiXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1iZycsXG4gICAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnRXb3JrU2hlZXRCYWNrZ3JvdW5kJylcbiAgICAgICAgICApXG4gICAgICAgICAgLy8gY29uc3QgYm9yZGVySW1hZ2UgPSBzaGVldC5lbGVtZW50LmZpbmQoJ2Zvcm0nKS5jc3MoJ2JvcmRlci1pbWFnZScpO1xuICAgICAgICAgIC8vIHNoZWV0LmVsZW1lbnQuZmluZCgnZm9ybScpLmNzcygnYm9yZGVyLWltYWdlJywgJycpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtTaGVldEJhY2tncm91bmRUeXBlJykgIT09ICdzbGljZSdcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGxldCBzdHlsZVNoZWV0LCBjc3NSdWxlSW5kZXhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldLmhyZWY/LmVuZHNXaXRoKCdjb2M3Zy5jc3MnKSkge1xuICAgICAgICAgICAgICAgIHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1tpXVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZVNoZWV0LnJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc3R5bGVTaGVldC5ydWxlc1tpXS5zZWxlY3RvclRleHQgPT09ICcuc2hlZXRWMi5jaGFyYWN0ZXIgZm9ybSdcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGNzc1J1bGVJbmRleCA9IGlcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3NzUnVsZUluZGV4KSB7XG4gICAgICAgICAgICAgIGNvbnN0IENTU1N0eWxlID0gc3R5bGVTaGVldC5ydWxlc1tjc3NSdWxlSW5kZXhdLnN0eWxlXG4gICAgICAgICAgICAgIENTU1N0eWxlLnJlbW92ZVByb3BlcnR5KCdib3JkZXItaW1hZ2UnKVxuICAgICAgICAgICAgICBDU1NTdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZCcsXG4gICAgICAgICAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0V29ya1NoZWV0QmFja2dyb3VuZCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnRXb3JrU2hlZXRCYWNrZ3JvdW5kVHlwZScpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXV0byc6XG4gICAgICAgICAgICAgICAgICBDU1NTdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1zaXplJywgJ2F1dG8nKVxuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdjb250YWluJzpcbiAgICAgICAgICAgICAgICAgIENTU1N0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLXNpemUnLCAnY29udGFpbicpXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvdmVyJzpcbiAgICAgICAgICAgICAgICAgIENTU1N0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLXNpemUnLCAnY292ZXInKVxuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgQ1NTU3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtc2l6ZScsICdhdXRvJylcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZCcpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBnYW1lLnNldHRpbmdzXG4gICAgICAgICAgICAuZ2V0KCdDb0M3JywgJ2FydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZCcpXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKSA9PT0gJ251bGwnXG4gICAgICAgICkge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tb3RoZXItc2hlZXQtYmcnLFxuICAgICAgICAgICAgXCJ1cmwoICcuL2Fzc2V0cy9pbWFnZXMvdm9pZC53ZWJwJylcIlxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaGVldC5lbGVtZW50LmNzcyhcbiAgICAgICAgICAgICctLW90aGVyLXNoZWV0LWJnJyxcbiAgICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFdvcmtPdGhlclNoZWV0QmFja2dyb3VuZCcpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrU2hlZXRJbWFnZScpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrU2hlZXRJbWFnZScpLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgJ251bGwnXG4gICAgICAgICkge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1pbWFnZScsXG4gICAgICAgICAgICBcInVybCggJy4vYXNzZXRzL2ltYWdlcy92b2lkLndlYnAnKVwiXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJy0tbWFpbi1zaGVldC1pbWFnZScsXG4gICAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrU2hlZXRJbWFnZScpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrRnJvbnRDb2xvcicpKSB7XG4gICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKFxuICAgICAgICAgICctLW1haW4tc2hlZXQtZnJvbnQtY29sb3InLFxuICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtGcm9udENvbG9yJylcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtCYWNrZ3JvdW5kQ29sb3InKSkge1xuICAgICAgICBzaGVldC5lbGVtZW50LmNzcyhcbiAgICAgICAgICAnLS1tYWluLXNoZWV0LWJhY2stY29sb3InLFxuICAgICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtCYWNrZ3JvdW5kQ29sb3InKVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0d29ya0ludGVyYWN0aXZlQ29sb3InKSkge1xuICAgICAgICBzaGVldC5lbGVtZW50LmNzcyhcbiAgICAgICAgICAnLS1tYWluLXNoZWV0LWludGVyYWN0aXZlLWNvbG9yJyxcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrSW50ZXJhY3RpdmVDb2xvcicpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0d29ya0ZpeGVkU2tpbGxMZW5ndGgnKSkge1xuICAgICAgICBzaGVldC5lbGVtZW50LmNzcygnLS1za2lsbC1sZW5ndGgnLCAnYXV0bycpXG4gICAgICAgIHNoZWV0LmVsZW1lbnQuY3NzKCctLXNraWxsLXNwZWNpYWxpemF0aW9uLWxlbmd0aCcsICdhdXRvJylcbiAgICAgIH1cblxuICAgICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtNYWluRm9udCcpKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVNoZWV0Rm9udCA9IG5ldyBGb250RmFjZShcbiAgICAgICAgICAnY3VzdG9tU2hlZXRGb250JyxcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnQnKVxuICAgICAgICApXG4gICAgICAgIGN1c3RvbVNoZWV0Rm9udFxuICAgICAgICAgIC5sb2FkKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAobG9hZGVkRmFjZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZhY2UpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGVycm9yKVxuICAgICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnRCb2xkJykpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tU2hlZXRDdXJzaXZlRm9udCA9IG5ldyBGb250RmFjZShcbiAgICAgICAgICAnY3VzdG9tU2hlZXRGb250JyxcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnRCb2xkJyksXG4gICAgICAgICAgeyB3ZWlnaHQ6ICdib2xkJyB9XG4gICAgICAgIClcbiAgICAgICAgY3VzdG9tU2hlZXRDdXJzaXZlRm9udFxuICAgICAgICAgIC5sb2FkKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAobG9hZGVkRmFjZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGxvYWRlZEZhY2UpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGVycm9yKVxuICAgICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnR3b3JrTWFpbkZvbnRTaXplJykpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGAke2dhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydHdvcmtNYWluRm9udFNpemUnKX1weGBcbiAgICAgICAgaWYgKHNpemUgIT09ICQoJzpyb290JykuY3NzKCdmb250LXNpemUnKSkge1xuICAgICAgICAgICQoJzpyb290JykuY3NzKCdmb250LXNpemUnLCBzaXplKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzaGVldC5hY3Rvcj8uc3lzdGVtLnBhbm5lbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNoZWV0LmFjdG9yLnN5c3RlbS5wYW5uZWwpKSB7XG4gICAgICAgIGNvbnN0IHBhbm5lbENsYXNzID0gY2hhdEhlbHBlci5jYW1lbENhc2VUb0h5cGhlbihrZXkpXG4gICAgICAgIGNvbnN0IHBhbm5lbCA9IGh0bWwuZmluZChgLnBhbm5lbC4ke3Bhbm5lbENsYXNzfWApXG4gICAgICAgIGlmICh2YWx1ZS5leHBhbmRlZCkgcGFubmVsLmFkZENsYXNzKCdleHBhbmRlZCcpXG4gICAgICAgIGVsc2UgcGFubmVsLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgZ2FtZSAqL1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi9jaGVjay5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDb21iYXQge1xuICBzdGF0aWMgcmVuZGVyQ29tYmF0VHJhY2tlciAoYXBwLCBodG1sLCBkYXRhKSB7XG4gICAgY29uc3QgY3VycmVudENvbWJhdCA9IGRhdGEuY29tYmF0c1tkYXRhLmN1cnJlbnRJbmRleCAtIDFdXG4gICAgaWYgKCFjdXJyZW50Q29tYmF0KSByZXR1cm5cblxuICAgIC8vIFRPRE8gOiBTaSBsZSBjb21iYXQgZXN0IGRlamEgZGVidXTDqSBhdmFudCBjaGFyZ2VtZW50IGxhIGZvbmN0aW9uIGQnaW5pdGlhdGl2ZSBwb2ludGUgdmVycyBsJ2FuY2llbm5lLlxuICAgIC8vIGxhIGZvbmN0aW9uIGF0dHJpYnXDqWUgZXN0IGRhdGEuY29tYmF0LnJvbGxJbml0aWF0aXZlXG4gICAgaHRtbC5maW5kKCcuY29tYmF0YW50JykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgIC8vIGlmKCBnYW1lLmNvbWJhdC5zdGFydGVkKXtcblxuICAgICAgY29uc3QgY29tYklkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbWJhdGFudC1pZCcpXG4gICAgICBjb25zdCBjb21iYXRhbnRDb250cm9sc0RpdiA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jb21iYXRhbnQtY29udHJvbHMnKVxuICAgICAgLy8gY29uc3QgY29tYmF0YW50ID0gZ2FtZS5jb21iYXQuZ2V0Q29tYmF0YW50KGNvbWJJZCk7XG4gICAgICBjb25zdCBjb21iYXRhbnQgPSBjdXJyZW50Q29tYmF0LmNvbWJhdGFudHMuZ2V0KGNvbWJJZClcblxuICAgICAgaWYgKGNvbWJhdGFudC5nZXRGbGFnKCdDb0M3JywgJ2hhc0d1bicpKSB7XG4gICAgICAgICQoY29tYmF0YW50Q29udHJvbHNEaXYpLnByZXBlbmQoXG4gICAgICAgICAgYDxhIGNsYXNzPVwiY29tYmF0YW50LWNvbnRyb2wgYWN0aXZlIGFkZC1pbml0XCIgdGl0bGU9XCIke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICdDb0M3LlB1dEd1bkF3YXknXG4gICAgICAgICAgKX1cIiBkYXRhLWNvbnRyb2w9XCJkcmF3R3VuXCI+PGkgY2xhc3M9XCJnYW1lLWljb24gZ2FtZS1pY29uLXJldm9sdmVyXCI+PC9pPjwvYT5gXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoY29tYmF0YW50Q29udHJvbHNEaXYpLnByZXBlbmQoXG4gICAgICAgICAgYDxhIGNsYXNzPVwiY29tYmF0YW50LWNvbnRyb2wgYWRkLWluaXRcIiB0aXRsZT1cIiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgJ0NvQzcuRHJhd0d1bidcbiAgICAgICAgICApfVwiIGRhdGEtY29udHJvbD1cImRyYXdHdW5cIj48aSBjbGFzcz1cImdhbWUtaWNvbiBnYW1lLWljb24tcmV2b2x2ZXJcIj48L2k+PC9hPmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdpbml0aWF0aXZlUnVsZScpID09PSAnb3B0aW9uYWwnICYmXG4gICAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rpc3BsYXlJbml0QXNUZXh0JylcbiAgICAgICkge1xuICAgICAgICBpZiAoY29tYmF0YW50LmluaXRpYXRpdmUpIHtcbiAgICAgICAgICBjb25zdCB0b2tlbkluaXRpYXRpdmUgPSBlbC5xdWVyeVNlbGVjdG9yKCcudG9rZW4taW5pdGlhdGl2ZScpXG4gICAgICAgICAgY29uc3QgaW5pdGlhdGl2ZVRlc3QgPSB0b2tlbkluaXRpYXRpdmUucXVlcnlTZWxlY3RvcignLmluaXRpYXRpdmUnKVxuICAgICAgICAgIGNvbnN0IHJvbGwgPVxuICAgICAgICAgICAgMTAwICogY29tYmF0YW50LmluaXRpYXRpdmUgLSAxMDAgKiBNYXRoLmZsb29yKGNvbWJhdGFudC5pbml0aWF0aXZlKVxuICAgICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihjb21iYXRhbnQuaW5pdGlhdGl2ZSkpIHtcbiAgICAgICAgICAgIGNhc2UgQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5mdW1ibGU6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdmdW1ibGUnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRnVtYmxlJylcbiAgICAgICAgICAgICAgaW5pdGlhdGl2ZVRlc3QudGl0bGUgPSByb2xsXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZmFpbHVyZTpcbiAgICAgICAgICAgICAgdG9rZW5Jbml0aWF0aXZlLmNsYXNzTGlzdC5hZGQoJ2ZhaWx1cmUnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmFpbHVyZScpXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLnJlZ3VsYXI6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdyZWd1bGFyLXN1Y2Nlc3MnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlSZWd1bGFyJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmhhcmQ6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdoYXJkLXN1Y2Nlc3MnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlIYXJkJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmV4dHJlbWU6XG4gICAgICAgICAgICAgIHRva2VuSW5pdGlhdGl2ZS5jbGFzc0xpc3QuYWRkKCdleHRyZW1lLXN1Y2Nlc3MnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlFeHRyZW1lJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGluaXRpYXRpdmVUZXN0LnRpdGxlID0gcm9sbFxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBDb0M3Q2hlY2suc3VjY2Vzc0xldmVsLmNyaXRpY2FsOlxuICAgICAgICAgICAgICB0b2tlbkluaXRpYXRpdmUuY2xhc3NMaXN0LmFkZCgnY3JpdGljYWwnKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC5pbm5lclRleHQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgJ0NvQzcuUm9sbERpZmZpY3VsdHlDcml0aWNhbCdcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpbml0aWF0aXZlVGVzdC50aXRsZSA9IHJvbGxcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY29tYmF0YW50LmluaXRpYXRpdmUgPCAwKSB7XG4gICAgICAgIGNvbnN0IGg0ID0gZWwucXVlcnlTZWxlY3RvcignLnRva2VuLW5hbWUnKS5xdWVyeVNlbGVjdG9yKCdoNCcpXG4gICAgICAgIGNvbnN0IHNwYW4gPSBlbC5xdWVyeVNlbGVjdG9yKCdzcGFuLmluaXRpYXRpdmUnKVxuICAgICAgICBoNC5zdHlsZS5mb250V2VpZ2h0ID0gJzkwMCdcbiAgICAgICAgaDQuc3R5bGUudGV4dFNoYWRvdyA9ICcxcHggMXB4IDRweCBkYXJrcmVkJ1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnOTAwJ1xuICAgICAgICBzcGFuLnN0eWxlLnRleHRTaGFkb3cgPSAnMXB4IDFweCA0cHggZGFya3JlZCdcblxuICAgICAgICBlbC5zdHlsZS5jb2xvciA9ICdkYXJrcmVkJ1xuICAgICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJ1xuICAgICAgICBlbC5zdHlsZS5mb250V2VpZ2h0ID0gJzkwMCdcbiAgICAgIH1cbiAgICB9KVxuICAgIGh0bWwuZmluZCgnLmFkZC1pbml0JykuY2xpY2soZXZlbnQgPT4gQ29DN0NvbWJhdC5fb25Ub2dnbGVHdW4oZXZlbnQpKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9vblRvZ2dsZUd1biAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCBidG4gPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgbGkgPSBidG4uY2xvc2VzdCgnLmNvbWJhdGFudCcpXG4gICAgY29uc3QgYyA9IGF3YWl0IGdhbWUuY29tYmF0LmNvbWJhdGFudHMuZ2V0KGxpLmRhdGFzZXQuY29tYmF0YW50SWQpXG4gICAgaWYgKGMuYWN0b3IuaXNPd25lcikge1xuICAgICAgaWYgKGMuZ2V0RmxhZygnQ29DNycsICdoYXNHdW4nKSkge1xuICAgICAgICBhd2FpdCBjLnNldEZsYWcoJ0NvQzcnLCAnaGFzR3VuJywgZmFsc2UpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBjLnNldEZsYWcoJ0NvQzcnLCAnaGFzR3VuJywgdHJ1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBuZXdJbml0ID0gYXdhaXQgYy5hY3Rvci5yb2xsSW5pdGlhdGl2ZSghIWMuZ2V0RmxhZygnQ29DNycsICdoYXNHdW4nKSlcbiAgICBpZiAoYy5nZXRGbGFnKCdDb0M3JywgJ2hhc0d1bicpKSB7XG4gICAgICBpZiAoYy5pbml0aWF0aXZlIDwgbmV3SW5pdCkgZ2FtZS5jb21iYXQuc2V0SW5pdGlhdGl2ZShjLmlkLCBuZXdJbml0KVxuICAgIH0gZWxzZSBnYW1lLmNvbWJhdC5zZXRJbml0aWF0aXZlKGMuaWQsIG5ld0luaXQpXG4gIH1cbn1cblxuLyoqXG4gKiBSb2xsIGluaXRpYXRpdmUgZm9yIG9uZSBvciBtdWx0aXBsZSBDb21iYXRhbnRzIHdpdGhpbiB0aGUgQ29tYmF0IGVudGl0eVxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGlkcyAgICAgQSBDb21iYXRhbnQgaWQgb3IgQXJyYXkgb2YgaWRzIGZvciB3aGljaCB0byByb2xsXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnM9e31dICAgICBBZGRpdGlvbmFsIG9wdGlvbnMgd2hpY2ggbW9kaWZ5IGhvdyBpbml0aWF0aXZlIHJvbGxzIGFyZSBjcmVhdGVkIG9yIHByZXNlbnRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IFtvcHRpb25zLmZvcm11bGFdICAgICAgICAgQSBub24tZGVmYXVsdCBpbml0aWF0aXZlIGZvcm11bGEgdG8gcm9sbC4gT3RoZXJ3aXNlIHRoZSBzeXN0ZW0gZGVmYXVsdCBpcyB1c2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51cGRhdGVUdXJuPXRydWVdICAgICBVcGRhdGUgdGhlIENvbWJhdCB0dXJuIGFmdGVyIGFkZGluZyBuZXcgaW5pdGlhdGl2ZSBzY29yZXMgdG8ga2VlcCB0aGUgdHVybiBvbiB0aGUgc2FtZSBDb21iYXRhbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMubWVzc2FnZU9wdGlvbnM9e31dICAgIEFkZGl0aW9uYWwgb3B0aW9ucyB3aXRoIHdoaWNoIHRvIGN1c3RvbWl6ZSBjcmVhdGVkIENoYXQgTWVzc2FnZXNcbiAqIEByZXR1cm4ge1Byb21pc2U8Q29tYmF0Pn0gICAgICAgIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byB0aGUgdXBkYXRlZCBDb21iYXQgZW50aXR5IG9uY2UgdXBkYXRlcyBhcmUgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByb2xsSW5pdGlhdGl2ZSAoXG4gIGlkcyxcbiAgeyBmb3JtdWxhID0gbnVsbCwgdXBkYXRlVHVybiA9IHRydWUsIG1lc3NhZ2VPcHRpb25zID0ge30gfSA9IHt9XG4pIHtcbiAgLy8gSXRlcmF0ZSBvdmVyIENvbWJhdGFudHMsIHBlcmZvcm1pbmcgYW4gaW5pdGlhdGl2ZSByb2xsIGZvciBlYWNoXG4gIGNvbnN0IHVwZGF0ZXMgPSBbXVxuICBmb3IgKGNvbnN0IFssIGlkXSBvZiBpZHMuZW50cmllcygpKSB7XG4gICAgLy8gR2V0IENvbWJhdGFudCBkYXRhIChub24tc3RyaWN0bHkpXG4gICAgY29uc3QgY29tYmF0YW50ID0gdGhpcy5jb21iYXRhbnRzLmdldChpZClcblxuICAgIC8vIFByb2R1Y2UgYW4gaW5pdGlhdGl2ZSByb2xsIGZvciB0aGUgQ29tYmF0YW50XG4gICAgY29uc3Qgcm9sbCA9IGF3YWl0IGNvbWJhdGFudC5hY3Rvci5yb2xsSW5pdGlhdGl2ZShcbiAgICAgICEhY29tYmF0YW50LmdldEZsYWcoJ0NvQzcnLCAnaGFzR3VuJylcbiAgICApXG4gICAgdXBkYXRlcy5wdXNoKHsgX2lkOiBpZCwgaW5pdGlhdGl2ZTogcm9sbCB9KVxuICB9XG4gIGlmICghdXBkYXRlcy5sZW5ndGgpIHJldHVybiB0aGlzXG5cbiAgLy8gVXBkYXRlIG11bHRpcGxlIGNvbWJhdGFudHNcbiAgYXdhaXQgdGhpcy51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnQ29tYmF0YW50JywgdXBkYXRlcylcblxuICByZXR1cm4gdGhpc1xufVxuIiwiLyogZ2xvYmFsICQsIENPTkZJRywgZHVwbGljYXRlLCBleHBhbmRPYmplY3QsIGZsYXR0ZW5PYmplY3QsIEZvcm1BcHBsaWNhdGlvbiwgZ2FtZSwgSXRlbSwgbWVyZ2VPYmplY3QgKi9cbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0NJREJhdGNoIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJywgJ2NvYy1pZC1lZGl0b3InXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2NvYy1pZC1iYXRjaC5oYnMnLFxuICAgICAgd2lkdGg6IDcwMCxcbiAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgdGl0bGU6ICdDb0M3LkNvQ0lERmxhZy50aXRsZScsXG4gICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZSxcbiAgICAgIHN1Ym1pdE9uQ2xvc2U6IGZhbHNlLFxuICAgICAgc3VibWl0T25DaGFuZ2U6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuICAgIHNoZWV0RGF0YS5mb3VuZEtleXMgPSBPYmplY3Qua2V5cyhzaGVldERhdGEub2JqZWN0LmZvdW5kS2V5cykucmVkdWNlKChvdXQsIGtleSkgPT4ge1xuICAgICAgb3V0LnB1c2goeyBuYW1lOiBrZXksIGtleTogc2hlZXREYXRhLm9iamVjdC5mb3VuZEtleXNba2V5XSB9KVxuICAgICAgcmV0dXJuIG91dFxuICAgIH0sIFtdKS5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICBzaGVldERhdGEubWlzc2luZ05hbWVzID0gT2JqZWN0LmtleXMoc2hlZXREYXRhLm9iamVjdC5taXNzaW5nTmFtZXMpLnJlZHVjZSgob3V0LCBrZXkpID0+IHtcbiAgICAgIG91dC5wdXNoKHsga2V5OiBzaGVldERhdGEub2JqZWN0LmZvdW5kS2V5c1trZXldID8/ICcnLCBuYW1lOiBrZXksIGN1c3RvbTogc2hlZXREYXRhLm9iamVjdC5taXNzaW5nTmFtZXNba2V5XSwgc3VmZml4OiBzaGVldERhdGEub2JqZWN0Lm1pc3NpbmdOYW1lc1trZXldLnJlcGxhY2UodGhpcy5vYmplY3Quc3VmZml4UmVnRXhwLCAnJykgfSlcbiAgICAgIHJldHVybiBvdXRcbiAgICB9LCBbXSkuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIGh0bWwuZmluZCgnLmV4aXN0aW5nJykuY2hhbmdlKHRoaXMub25TZXROYW1lLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuZmEtd2FuZC1tYWdpYycpLmNsaWNrKHRoaXMub25DbGlja0d1ZXNzLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCdpbnB1dCcpLmtleXVwKHRoaXMub25LZXl1cC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgb25TZXROYW1lIChldmVudCkge1xuICAgIGNvbnN0IG9iaiA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICB0aGlzLm9iamVjdC5taXNzaW5nTmFtZXNbb2JqLmNsb3Nlc3QoJ2xpJykuZGF0YSgnbmFtZScpXSA9IG9iai52YWwoKVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBvbkNsaWNrR3Vlc3MgKGV2ZW50KSB7XG4gICAgY29uc3Qgb2JqID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IG5hbWUgPSBvYmouY2xvc2VzdCgnbGknKS5kYXRhKCduYW1lJylcbiAgICB0aGlzLm9iamVjdC5taXNzaW5nTmFtZXNbbmFtZV0gPSB0aGlzLm9iamVjdC5pZFByZWZpeCArIENvQzdVdGlsaXRpZXMudG9LZWJhYkNhc2UobmFtZSlcbiAgICB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgb25LZXl1cCAoZXZlbnQpIHtcbiAgICBjb25zdCBvYmogPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgY29uc3QgbmFtZSA9IG9iai5jbG9zZXN0KCdsaScpLmRhdGEoJ25hbWUnKVxuICAgIHRoaXMub2JqZWN0Lm1pc3NpbmdOYW1lc1tuYW1lXSA9IHRoaXMub2JqZWN0LmlkUHJlZml4ICsgb2JqLnZhbCgpXG4gIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBpZiAoZXZlbnQuc3VibWl0dGVyKSB7XG4gICAgICBpZiAodGhpcy5vYmplY3QudHlwZU5hbWUgPT09IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5Ta2lsbCcpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICBhd2FpdCBDb0NJREJhdGNoLnByb2Nlc3NTa2lsbEtleXModGhpcy5vYmplY3QudXBkYXRlTGlzdCwgdGhpcy5vYmplY3QubWlzc2luZ05hbWVzKVxuICAgICAgfVxuICAgICAgdGhpcy5vYmplY3QucmVzb2x2ZSh0cnVlKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBwcm9jZXNzU2tpbGxLZXlzICh1cGRhdGVMaXN0LCBtaXNzaW5nTmFtZXMpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdXG4gICAgY29uc3QgYWN0b3JzID0ge31cbiAgICBjb25zdCBzY2VuZXMgPSB7fVxuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZUxpc3QpIHtcbiAgICAgIHVwZGF0ZS5jb2NpZEZsYWcuaWQgPSBtaXNzaW5nTmFtZXNbdXBkYXRlLm5hbWVdXG4gICAgICBpZiAodHlwZW9mIHVwZGF0ZS5jb2NpZEZsYWcubGFuZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXBkYXRlLmNvY2lkRmxhZy5sYW5nID0gZ2FtZS5pMThuLmxhbmdcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdXBkYXRlLmNvY2lkRmxhZy5wcmlvcml0eSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXBkYXRlLmNvY2lkRmxhZy5wcmlvcml0eSA9IDBcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdXBkYXRlLmNvY2lkRmxhZy5lcmFzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1cGRhdGUuY29jaWRGbGFnLmVyYXMgPSB7fVxuICAgICAgfVxuICAgICAgY29uc3QgZmxhZ3MgPSBmbGF0dGVuT2JqZWN0KHsgZmxhZ3M6IHsgQ29DNzogeyBjb2NpZEZsYWc6IHVwZGF0ZS5jb2NpZEZsYWcgfSB9IH0pXG4gICAgICBpZiAodHlwZW9mIHVwZGF0ZS5zY2VuZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2VuZXNbdXBkYXRlLnNjZW5lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldCh1cGRhdGUuc2NlbmUpXG4gICAgICAgICAgc2NlbmVzW3VwZGF0ZS5zY2VuZV0gPSBzY2VuZS50b09iamVjdCgpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5PZmZzZXQgPSBzY2VuZXNbdXBkYXRlLnNjZW5lXS50b2tlbnMuZmluZEluZGV4KHQgPT4gdC5faWQgPT09IHVwZGF0ZS50b2tlbilcbiAgICAgICAgaWYgKHRva2VuT2Zmc2V0ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBpdGVtT2Zmc2V0ID0gc2NlbmVzW3VwZGF0ZS5zY2VuZV0udG9rZW5zW3Rva2VuT2Zmc2V0XS5hY3RvckRhdGEuaXRlbXMuZmluZEluZGV4KGkgPT4gaS5faWQgPT09IHVwZGF0ZS5pdGVtKVxuICAgICAgICAgIGlmIChpdGVtT2Zmc2V0ID4gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGFuZGVkRmxhZ3MgPSBleHBhbmRPYmplY3QoT2JqZWN0LmVudHJpZXMoZmxhZ3MpLnJlZHVjZSgob3V0LCBlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZW50cnlbMF0ubWF0Y2goL15mbGFnc1xcLkNvQzdcXC5jb2NpZEZsYWcvKSkge1xuICAgICAgICAgICAgICAgIG91dFtlbnRyeVswXV0gPSBlbnRyeVsxXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBvdXRcbiAgICAgICAgICAgIH0sIHt9KSlcbiAgICAgICAgICAgIHNjZW5lc1t1cGRhdGUuc2NlbmVdLnRva2Vuc1t0b2tlbk9mZnNldF0uYWN0b3JEYXRhLml0ZW1zW2l0ZW1PZmZzZXRdID0gbWVyZ2VPYmplY3Qoc2NlbmVzW3VwZGF0ZS5zY2VuZV0udG9rZW5zW3Rva2VuT2Zmc2V0XS5hY3RvckRhdGEuaXRlbXNbaXRlbU9mZnNldF0sIGV4cGFuZGVkRmxhZ3MpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB1cGRhdGUuYWN0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0b3JzW3VwZGF0ZS5hY3Rvcl0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgYWN0b3JzW3VwZGF0ZS5hY3Rvcl0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgX2lkOiB1cGRhdGUuaXRlbVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGZsYWdzKSkge1xuICAgICAgICAgIGlmIChrZXkubWF0Y2goL15mbGFnc1xcLkNvQzdcXC5jb2NpZEZsYWcvKSkge1xuICAgICAgICAgICAgaXRlbVtrZXldID0gZmxhZ3Nba2V5XVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhY3RvcnNbdXBkYXRlLmFjdG9yXS5wdXNoKGl0ZW0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgIF9pZDogdXBkYXRlLml0ZW1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhmbGFncykpIHtcbiAgICAgICAgICBpZiAoa2V5Lm1hdGNoKC9eZmxhZ3NcXC5Db0M3XFwuY29jaWRGbGFnLykpIHtcbiAgICAgICAgICAgIGl0ZW1ba2V5XSA9IGZsYWdzW2tleV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXRlbXMucHVzaChpdGVtKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICBhd2FpdCBJdGVtLnVwZGF0ZURvY3VtZW50cyhpdGVtcylcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKGFjdG9ycykubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IGFjdG9ySWQgb2YgT2JqZWN0LmtleXMoYWN0b3JzKSkge1xuICAgICAgICBhd2FpdCBJdGVtLnVwZGF0ZURvY3VtZW50cyhhY3RvcnNbYWN0b3JJZF0sIHsgcGFyZW50OiBnYW1lLmFjdG9ycy5nZXQoYWN0b3JJZCkgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHNjZW5lcykubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IHNjZW5lSWQgb2YgT2JqZWN0LmtleXMoc2NlbmVzKSkge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdhbWUuc2NlbmVzLmdldChzY2VuZUlkKVxuICAgICAgICBzY2VuZS51cGRhdGUoc2NlbmVzW3NjZW5lSWRdKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHBvcHVsYXRlU2tpbGxLZXlzICh1cGRhdGVMaXN0LCBtaXNzaW5nTmFtZXMsIGZvdW5kS2V5cykge1xuICAgIGZvciAoY29uc3QgYWN0b3Igb2YgZ2FtZS5hY3RvcnMuY29udGVudHMpIHtcbiAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IGFjdG9yLnRvT2JqZWN0KClcbiAgICAgIGlmIChhY3RvckRhdGEuaXRlbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFjdG9yRGF0YS5pdGVtcykge1xuICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gaXRlbSBpbnN0YW5jZW9mIENPTkZJRy5JdGVtLmRvY3VtZW50Q2xhc3MgPyBpdGVtLnRvT2JqZWN0KCkgOiBpdGVtXG4gICAgICAgICAgaWYgKGl0ZW1EYXRhLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgICAgICAgIGlmICghaXRlbURhdGEuZmxhZ3MuQ29DNz8uY29jaWRGbGFnPy5pZD8ubWF0Y2goL15pLnNraWxsLykpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaXNzaW5nTmFtZXNbaXRlbURhdGEubmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgbWlzc2luZ05hbWVzW2l0ZW1EYXRhLm5hbWVdID0gJydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB1cGRhdGVMaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdG9yOiBhY3Rvci5faWQsXG4gICAgICAgICAgICAgICAgaXRlbTogaXRlbURhdGEuX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW1EYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgY29jaWRGbGFnOiBpdGVtRGF0YS5mbGFncy5Db0M3Py5jb2NpZEZsYWcgPz8ge31cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvdW5kS2V5c1tpdGVtRGF0YS5uYW1lXSA9IGl0ZW1EYXRhLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBnYW1lLml0ZW1zLmNvbnRlbnRzKSB7XG4gICAgICBjb25zdCBpdGVtRGF0YSA9IGl0ZW0gaW5zdGFuY2VvZiBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzID8gaXRlbS50b09iamVjdCgpIDogaXRlbVxuICAgICAgaWYgKGl0ZW1EYXRhLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgICAgaWYgKCFpdGVtRGF0YS5mbGFncy5Db0M3Py5jb2NpZEZsYWc/LmlkPy5tYXRjaCgvXmkuc2tpbGwvKSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgbWlzc2luZ05hbWVzW2l0ZW1EYXRhLm5hbWVdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbWlzc2luZ05hbWVzW2l0ZW1EYXRhLm5hbWVdID0gJydcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlTGlzdC5wdXNoKHtcbiAgICAgICAgICAgIGl0ZW06IGl0ZW1EYXRhLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IGl0ZW1EYXRhLm5hbWUsXG4gICAgICAgICAgICBjb2NpZEZsYWc6IGl0ZW1EYXRhLmZsYWdzLkNvQzc/LmNvY2lkRmxhZyA/PyB7fVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm91bmRLZXlzW2l0ZW1EYXRhLm5hbWVdID0gaXRlbURhdGEuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIGdhbWUuc2NlbmVzKSB7XG4gICAgICBjb25zdCBzY2VuZURhdGEgPSBzY2VuZS50b09iamVjdCgpXG4gICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHNjZW5lRGF0YS50b2tlbnMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRva2VuLmFjdG9ySWQgJiYgIXRva2VuLmFjdG9yTGluaykge1xuICAgICAgICAgIGNvbnN0IGFjdG9yRGF0YSA9IGR1cGxpY2F0ZSh0b2tlbi5hY3RvckRhdGEpXG4gICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFjdG9yRGF0YS5pdGVtcyA/PyBbXSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSBpdGVtIGluc3RhbmNlb2YgQ09ORklHLkl0ZW0uZG9jdW1lbnRDbGFzcyA/IGl0ZW0udG9PYmplY3QoKSA6IGl0ZW1cbiAgICAgICAgICAgIGlmIChpdGVtRGF0YS50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICAgICAgICAgIGlmICghaXRlbURhdGEuZmxhZ3MuQ29DNz8uY29jaWRGbGFnPy5pZD8ubWF0Y2goL15pLnNraWxsLykpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pc3NpbmdOYW1lc1tpdGVtRGF0YS5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIG1pc3NpbmdOYW1lc1tpdGVtRGF0YS5uYW1lXSA9ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZUxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICBzY2VuZTogc2NlbmVEYXRhLl9pZCxcbiAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbi5faWQsXG4gICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtRGF0YS5faWQsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgY29jaWRGbGFnOiBpdGVtRGF0YS5mbGFncy5Db0M3Py5jb2NpZEZsYWcgPz8ge31cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvdW5kS2V5c1tpdGVtRGF0YS5uYW1lXSA9IGl0ZW1EYXRhLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKG1pc3NpbmdOYW1lcykuZmlsdGVyKGtleSA9PiBtaXNzaW5nTmFtZXNba2V5XSA9PT0gJycpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRFJlZ2V4QmVzdCh7IGNvY2lkUmVnRXhwOiAvXmlcXC5za2lsbFxcLi8sIHR5cGU6ICdpJywgZXJhOiBmYWxzZSB9KVxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGZvdW5kS2V5c1tpdGVtLm5hbWVdID0gaXRlbS5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZFxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gZmxhdHRlbk9iamVjdChnYW1lLmkxOG4udHJhbnNsYXRpb25zLkNvQzcuQ29DSURGbGFnLmtleXMgPz8ge30pKSB7XG4gICAgICAgIGZvdW5kS2V5c1tnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNvQ0lERmxhZy5rZXlzLicgKyBrZXkpXSA9IGtleVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIG1pc3NpbmdOYW1lcykge1xuICAgICAgICBpZiAodHlwZW9mIGZvdW5kS2V5c1tuYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBtaXNzaW5nTmFtZXNbbmFtZV0gPSBmb3VuZEtleXNbbmFtZV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKHR5cGUpIHtcbiAgICBjb25zdCB1cGRhdGVMaXN0ID0gW11cbiAgICBjb25zdCBtaXNzaW5nTmFtZXMgPSB7fVxuICAgIGNvbnN0IGZvdW5kS2V5cyA9IHt9XG4gICAgbGV0IHR5cGVOYW1lID0gJydcbiAgICBsZXQgaWRQcmVmaXggPSAnJ1xuICAgIGxldCBzdWZmaXhSZWdFeHAgPSBudWxsXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdza2lsbCc6XG4gICAgICAgIHR5cGVOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLlNraWxsJylcbiAgICAgICAgaWRQcmVmaXggPSAnaS5za2lsbC4nXG4gICAgICAgIHN1ZmZpeFJlZ0V4cCA9IC9eaVxcLnNraWxsXFwuL1xuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGF3YWl0IENvQ0lEQmF0Y2gucG9wdWxhdGVTa2lsbEtleXModXBkYXRlTGlzdCwgbWlzc2luZ05hbWVzLCBmb3VuZEtleXMpXG4gICAgaWYgKE9iamVjdC5rZXlzKG1pc3NpbmdOYW1lcykuZmlsdGVyKGtleSA9PiBtaXNzaW5nTmFtZXNba2V5XSA9PT0gJycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYXdhaXQgQ29DSURCYXRjaC5wcm9jZXNzU2tpbGxLZXlzKHVwZGF0ZUxpc3QsIG1pc3NpbmdOYW1lcylcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGRsZyA9IG5ldyBDb0NJREJhdGNoKHsgdHlwZU5hbWUsIGlkUHJlZml4LCBzdWZmaXhSZWdFeHAsIHVwZGF0ZUxpc3QsIG1pc3NpbmdOYW1lcywgZm91bmRLZXlzLCByZXNvbHZlIH0pXG4gICAgICBkbGcucmVuZGVyKHRydWUpXG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIENPTkZJRywgRGlhbG9nLCBkdXBsaWNhdGUsIGV4cGFuZE9iamVjdCwgZm91bmRyeSwgZ2FtZSwgaXNOZXdlclZlcnNpb24sIG1lcmdlT2JqZWN0LCB1aSAqL1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuL2l0ZW1zL2l0ZW0uanMnXG5pbXBvcnQgeyBDb0NJREJhdGNoIH0gZnJvbSAnLi9hcHBzL2NvYy1pZC1iYXRjaC5qcydcblxuZXhwb3J0IGNsYXNzIFVwZGF0ZXIge1xuICBzdGF0aWMgYXN5bmMgY2hlY2tGb3JVcGRhdGUgKCkge1xuICAgIGxldCBzeXN0ZW1VcGRhdGVWZXJzaW9uID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc3lzdGVtVXBkYXRlVmVyc2lvbicpXG4gICAgaWYgKGdhbWUuYWN0b3JzLnNpemUgKyBnYW1lLnNjZW5lcy5zaXplICsgZ2FtZS5pdGVtcy5zaXplICsgZ2FtZS5qb3VybmFsLnNpemUgKyBnYW1lLnRhYmxlcy5zaXplID09PSAwKSB7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gYWN0b3JzLCBpdGVtcywgam91cm5hbHMsIHJvbGwgdGFibGVzLCBvciBzY2VuZXMgc2tpcCB3b3JsZCB1cGRhdGVcbiAgICAgIHN5c3RlbVVwZGF0ZVZlcnNpb24gPSBnYW1lLnN5c3RlbS52ZXJzaW9uXG4gICAgICBhd2FpdCBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdzeXN0ZW1VcGRhdGVWZXJzaW9uJywgc3lzdGVtVXBkYXRlVmVyc2lvbilcbiAgICB9XG4gICAgY29uc3QgcnVuTWlncmF0ZSA9IGlzTmV3ZXJWZXJzaW9uKGdhbWUuc3lzdGVtLnZlcnNpb24sIHN5c3RlbVVwZGF0ZVZlcnNpb24gPz8gJzAnKVxuICAgIHRoaXMudXBkYXRlZE1vZHVsZXMgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzeXN0ZW1VcGRhdGVkTW9kdWxlVmVyc2lvbicpIHx8IHt9XG4gICAgdGhpcy5jdXJyZW50TW9kdWxlcyA9IHt9XG4gICAgZm9yIChjb25zdCBwYWNrIG9mIGdhbWUucGFja3MpIHtcbiAgICAgIGlmICghWydDb0M3JywgJ3dvcmxkJ10uaW5jbHVkZXMocGFjay5tZXRhZGF0YS5wYWNrYWdlTmFtZSkgJiYgWydBY3RvcicsICdJdGVtJywgJ1NjZW5lJ10uaW5jbHVkZXMocGFjay5tZXRhZGF0YS50eXBlKSkge1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnJlbnRNb2R1bGVzLCBwYWNrLm1ldGFkYXRhLnBhY2thZ2VOYW1lKSkge1xuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byBjaGVjayBlYWNoIG1vZHVsZSBvbmNlXG4gICAgICAgICAgY29uc3QgbW9kdWxlID0gZ2FtZS5tb2R1bGVzLmdldChwYWNrLm1ldGFkYXRhLnBhY2thZ2VOYW1lKVxuICAgICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIGlmIChydW5NaWdyYXRlIHx8ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy51cGRhdGVkTW9kdWxlcywgbW9kdWxlLmlkKSB8fCBTdHJpbmcodGhpcy51cGRhdGVkTW9kdWxlc1ttb2R1bGUuaWRdKSAhPT0gU3RyaW5nKG1vZHVsZS52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAvLyBBIG1pZ3JhdGlvbiBpcyByZXF1aXJlZCwgbW9kdWxlIGhhcyBub3QgYmVlbiB1cGRhdGVkIGJlZm9yZSwgb3IgdGhlIHZlcnNpb24gbnVtYmVyIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudE1vZHVsZXNbbW9kdWxlLmlkXSA9IG1vZHVsZS52ZXJzaW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChydW5NaWdyYXRlIHx8IE9iamVjdC5rZXlzKHRoaXMuY3VycmVudE1vZHVsZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICBuZXcgRGlhbG9nKHtcbiAgICAgICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuVGl0bGUnKSxcbiAgICAgICAgICBjb250ZW50OiBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5jdXJyZW50TW9kdWxlcykubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgID8gJ0NvQzcuTWlncmF0ZS5NZXNzYWdlJ1xuICAgICAgICAgICAgICA6ICdDb0M3Lk1pZ3JhdGUuV2l0aE1vZHVsZXNNZXNzYWdlJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmVyc2lvbjogZ2FtZS5zeXN0ZW0udmVyc2lvbixcbiAgICAgICAgICAgICAgbW9kdWxlczpcbiAgICAgICAgICAgICAgICAnPHVsPjxsaT4nICtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmN1cnJlbnRNb2R1bGVzKVxuICAgICAgICAgICAgICAgICAgLm1hcChtb2QgPT4gZ2FtZS5tb2R1bGVzLmdldChtb2QpLnRpdGxlKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oJzwvbGk+PGxpPicpICtcbiAgICAgICAgICAgICAgICAnPC9saT48L3VsPidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuQnV0dG9uVXBkYXRlJyksXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiBVcGRhdGVyLnVwZGF0ZSgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2tpcDoge1xuICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuQnV0dG9uU2tpcCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KS5yZW5kZXIodHJ1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ldyBEaWFsb2coe1xuICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWlncmF0ZS5UaXRsZScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5HTVJlcXVpcmVkJywge1xuICAgICAgICAgICAgdmVyc2lvbjogZ2FtZS5zeXN0ZW0udmVyc2lvblxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIE9LOiB7XG4gICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWlncmF0ZS5CdXR0b25Pa2F5JylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLnJlbmRlcih0cnVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGUgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlRG9jdW1lbnRzKClcblxuICAgIC8vIC8vIElmIHdlIHB1dCB1cCBhIHRlbXBvcmFyeSBzY2VuZSByZXR1cm4gdGhlIHVzZXIgYW5kIHJlbW92ZSBpdFxuICAgIC8vIGlmIChcbiAgICAvLyAgIHR5cGVvZiB0aGlzLnRlbXBvcmFyeVNjZW5lICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vICAgdHlwZW9mIHRoaXMub3JpZ2luYWxTY2VuZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAvLyApIHtcbiAgICAvLyAgIGF3YWl0IHRoaXMub3JpZ2luYWxTY2VuZS52aWV3KClcbiAgICAvLyAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSlcbiAgICAvLyAgIGF3YWl0IHRoaXMudGVtcG9yYXJ5U2NlbmUuZGVsZXRlKClcbiAgICAvLyB9XG5cbiAgICAvLyBNaWdyYXRlIFNldHRpbmdzIGlmIFB1bHAgUnVsZXMgaXMgZW5hYmxlZCB0dXJuIG9uIGFsbCBydWxlc1xuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZXMnKSkge1xuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAncHVscFJ1bGVEb3VibGVNYXhIZWFsdGgnLCB0cnVlKVxuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAncHVscFJ1bGVEZXZlbG9wbWVudFJvbGxMdWNrJywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlQXJjaGV0eXBlJywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlT3JnYW5pemF0aW9uJywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlVGFsZW50cycsIHRydWUpXG4gICAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdwdWxwUnVsZUZhc3RlclJlY292ZXJ5JywgdHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3B1bHBSdWxlSWdub3JlTWFqb3JXb3VuZHMnLCB0cnVlKVxuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAncHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXMnLCB0cnVlKVxuICAgIH1cblxuICAgIGF3YWl0IENvQ0lEQmF0Y2guY3JlYXRlKCdza2lsbCcpXG5cbiAgICBjb25zdCBzZXR0aW5ncyA9IG1lcmdlT2JqZWN0KHRoaXMudXBkYXRlZE1vZHVsZXMgfHwge30sIHRoaXMuY3VycmVudE1vZHVsZXMpXG4gICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnc3lzdGVtVXBkYXRlZE1vZHVsZVZlcnNpb24nLCBzZXR0aW5ncylcbiAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdzeXN0ZW1VcGRhdGVWZXJzaW9uJywgZ2FtZS5zeXN0ZW0udmVyc2lvbilcblxuICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuQ29tcGxldGUnKSwge1xuICAgICAgcGVybWFuZW50OiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVEb2N1bWVudHMgKCkge1xuICAgIC8vIE1pZ3JhdGUgV29ybGQgQWN0b3JzXG4gICAgZm9yIChjb25zdCBhY3RvciBvZiBnYW1lLmFjdG9ycy5jb250ZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHRoaXMubWlncmF0ZUFjdG9yRGF0YShhY3Rvci50b09iamVjdCgpKVxuICAgICAgICBpZiAoIWZvdW5kcnkudXRpbHMuaXNFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRpbmcgQWN0b3IgZG9jdW1lbnQgJHthY3Rvci5uYW1lfWApXG4gICAgICAgICAgYXdhaXQgYWN0b3IudXBkYXRlKHVwZGF0ZURhdGEsIHsgZW5mb3JjZVR5cGVzOiBmYWxzZSB9KVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGRldGFpbHMnLCBlcnIpXG4gICAgICAgIGVyci5tZXNzYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NaWdyYXRlLkVycm9yQWN0b3InLCB7XG4gICAgICAgICAgbmFtZTogYWN0b3IubmFtZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZVxuICAgICAgICB9KVxuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGVyci5tZXNzYWdlLCB7IHBlcm1hbmVudDogdHJ1ZSB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1pZ3JhdGUgV29ybGQgSXRlbXNcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2FtZS5pdGVtcy5jb250ZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IFVwZGF0ZXIubWlncmF0ZUl0ZW1EYXRhKGl0ZW0udG9PYmplY3QoKSlcbiAgICAgICAgaWYgKCFmb3VuZHJ5LnV0aWxzLmlzRW1wdHkodXBkYXRlRGF0YSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0aW5nIEl0ZW0gZG9jdW1lbnQgJHtpdGVtLm5hbWV9YClcbiAgICAgICAgICBhd2FpdCBpdGVtLnVwZGF0ZSh1cGRhdGVEYXRhLCB7IGVuZm9yY2VUeXBlczogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZXRhaWxzJywgZXJyKVxuICAgICAgICBlcnIubWVzc2FnZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5FcnJvckl0ZW0nLCB7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyLm1lc3NhZ2UsIHsgcGVybWFuZW50OiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWlncmF0ZSBXb3JsZCBUYWJsZXNcbiAgICBmb3IgKGNvbnN0IHRhYmxlIG9mIGdhbWUudGFibGVzLmNvbnRlbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlVGFibGVEYXRhKHRhYmxlLnRvT2JqZWN0KCkpXG4gICAgICAgIGlmICghZm91bmRyeS51dGlscy5pc0VtcHR5KHVwZGF0ZURhdGEpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYE1pZ3JhdGluZyBUYWJsZSBkb2N1bWVudCAke3RhYmxlLm5hbWV9YClcbiAgICAgICAgICBhd2FpdCB0YWJsZS51cGRhdGUodXBkYXRlRGF0YSwgeyBlbmZvcmNlVHlwZXM6IGZhbHNlIH0pXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZGV0YWlscycsIGVycilcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuRXJyb3JUYWJsZScsIHtcbiAgICAgICAgICBuYW1lOiB0YWJsZS5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyLm1lc3NhZ2UsIHsgcGVybWFuZW50OiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWlncmF0ZSBNYWNyb3NcbiAgICBmb3IgKGNvbnN0IG1hY3JvIG9mIGdhbWUubWFjcm9zLmNvbnRlbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlTWFjcm9EYXRhKG1hY3JvLnRvT2JqZWN0KCkpXG4gICAgICAgIGlmICghZm91bmRyeS51dGlscy5pc0VtcHR5KHVwZGF0ZURhdGEpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYE1pZ3JhdGluZyBNYWNybyBkb2N1bWVudCAke21hY3JvLm5hbWV9YClcbiAgICAgICAgICBhd2FpdCBtYWNyby51cGRhdGUodXBkYXRlRGF0YSwgeyBlbmZvcmNlVHlwZXM6IGZhbHNlIH0pXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZGV0YWlscycsIGVycilcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuRXJyb3JNYWNybycsIHtcbiAgICAgICAgICBuYW1lOiBtYWNyby5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZXJyLm1lc3NhZ2UsIHsgcGVybWFuZW50OiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWlncmF0ZSBTY2VuZXMgW1Rva2VuXSBBY3RvcnNcbiAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIGdhbWUuc2NlbmVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlU2NlbmVEYXRhKHNjZW5lKVxuICAgICAgICBpZiAoIWZvdW5kcnkudXRpbHMuaXNFbXB0eSh1cGRhdGVEYXRhKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRpbmcgU2NlbmUgZG9jdW1lbnQgJHtzY2VuZS5uYW1lfWApXG4gICAgICAgICAgLy8gaWYgKFxuICAgICAgICAgIC8vICAgc2NlbmUuaWQgPT09IGdhbWUuc2NlbmVzLmN1cnJlbnQuaWQgJiZcbiAgICAgICAgICAvLyAgIHR5cGVvZiB0aGlzLnRlbXBvcmFyeVNjZW5lID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIC8vICAgdHlwZW9mIHRoaXMub3JpZ2luYWxTY2VuZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAvLyApIHtcbiAgICAgICAgICAvLyAgIHRoaXMudGVtcG9yYXJ5U2NlbmUgPSBhd2FpdCBTY2VuZS5jcmVhdGUoe1xuICAgICAgICAgIC8vICAgICBuYW1lOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3Lk1pZ3JhdGUuVXBkYXRlQ3VycmVudFNjZW5lJyksXG4gICAgICAgICAgLy8gICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnXG4gICAgICAgICAgLy8gICB9KVxuICAgICAgICAgIC8vICAgdGhpcy5vcmlnaW5hbFNjZW5lID0gc2NlbmVcbiAgICAgICAgICAvLyAgIGF3YWl0IERyYXdpbmdEb2N1bWVudC5jcmVhdGUoXG4gICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAvLyAgICAgICBhdXRob3I6IGdhbWUudXNlci5pZCxcbiAgICAgICAgICAvLyAgICAgICBzaGFwZToge1xuICAgICAgICAgIC8vICAgICAgICAgdHlwZTogJ3InLFxuICAgICAgICAgIC8vICAgICAgICAgd2lkdGg6IDE2MDAsXG4gICAgICAgICAgLy8gICAgICAgICBoZWlnaHQ6IDIwMFxuICAgICAgICAgIC8vICAgICAgIH0sXG4gICAgICAgICAgLy8gICAgICAgeDogMjIwMCxcbiAgICAgICAgICAvLyAgICAgICB5OiAyMjAwLFxuICAgICAgICAgIC8vICAgICAgIHo6IDAsXG4gICAgICAgICAgLy8gICAgICAgc3Ryb2tlV2lkdGg6IDAsXG4gICAgICAgICAgLy8gICAgICAgdGV4dDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5NaWdyYXRlLlVwZGF0ZUN1cnJlbnRTY2VuZScpLFxuICAgICAgICAgIC8vICAgICAgIGZvbnRGYW1pbHk6ICdTaWduaWthJyxcbiAgICAgICAgICAvLyAgICAgICBmb250U2l6ZTogMTI4LFxuICAgICAgICAgIC8vICAgICAgIHRleHRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICAgIC8vICAgICAgIHRleHRBbHBoYTogMSxcbiAgICAgICAgICAvLyAgICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgICAgIC8vICAgICAgIGxvY2tlZDogdHJ1ZVxuICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgLy8gICAgICAgcGFyZW50OiB0aGlzLnRlbXBvcmFyeVNjZW5lXG4gICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAvLyAgIClcbiAgICAgICAgICAvLyAgIGF3YWl0IHRoaXMudGVtcG9yYXJ5U2NlbmUudmlldygpXG4gICAgICAgICAgLy8gICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGF3YWl0IHNjZW5lLnVwZGF0ZSh1cGRhdGVEYXRhLCB7IGVuZm9yY2VUeXBlczogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgICAgICBzY2VuZS50b2tlbnMuZm9yRWFjaCh0ID0+ICh0Ll9hY3RvciA9IG51bGwpKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZXRhaWxzJywgZXJyKVxuICAgICAgICBlcnIubWVzc2FnZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5FcnJvclNjZW5lJywge1xuICAgICAgICAgIG5hbWU6IHNjZW5lLm5hbWUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2VcbiAgICAgICAgfSlcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihlcnIubWVzc2FnZSwgeyBwZXJtYW5lbnQ6IHRydWUgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNaWdyYXRlIFdvcmxkIENvbXBlbmRpdW0gUGFja3NcbiAgICBmb3IgKGNvbnN0IHBhY2sgb2YgZ2FtZS5wYWNrcykge1xuICAgICAgaWYgKFxuICAgICAgICBwYWNrLm1ldGFkYXRhLnBhY2thZ2VOYW1lICE9PSAnQ29DNycgJiZcbiAgICAgICAgWydBY3RvcicsICdJdGVtJywgJ01hY3JvJywgJ1JvbGxUYWJsZScsICdTY2VuZSddLmluY2x1ZGVzKFxuICAgICAgICAgIHBhY2subWV0YWRhdGEudHlwZVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgVXBkYXRlci5taWdyYXRlQ29tcGVuZGl1bURhdGEocGFjaylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgbWlncmF0ZUFjdG9yRGF0YSAoYWN0b3IpIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cblxuICAgIC8vIFVwZGF0ZSBXb3JsZCBBY3RvclxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3RvckNoYXJhY3RlclNhbml0eShhY3RvciwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlQWN0b3JBcnR3b3JrKGFjdG9yLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3RvcktlZXBlck5vdGVzKGFjdG9yLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3Rvck5wY0NyZWF0dXJlKGFjdG9yLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVBY3RvclN0YXR1c0VmZmVjdEFjdGl2ZShhY3RvciwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlQWN0b3JTYW5Mb3NzUmVhc29ucyhhY3RvciwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlQWN0b3JNb25ldGFyeShhY3RvciwgdXBkYXRlRGF0YSlcblxuICAgIC8vIE1pZ3JhdGUgV29ybGQgQWN0b3IgSXRlbXNcbiAgICBpZiAoYWN0b3IuaXRlbXMpIHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gYWN0b3IuaXRlbXMucmVkdWNlKChhcnIsIGkpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPVxuICAgICAgICAgIGkgaW5zdGFuY2VvZiBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzID8gaS50b09iamVjdCgpIDogaVxuICAgICAgICBjb25zdCBpdGVtVXBkYXRlID0gVXBkYXRlci5taWdyYXRlSXRlbURhdGEoaXRlbURhdGEpXG4gICAgICAgIGlmICghZm91bmRyeS51dGlscy5pc0VtcHR5KGl0ZW1VcGRhdGUpKSB7XG4gICAgICAgICAgaXRlbVVwZGF0ZS5faWQgPSBpdGVtRGF0YS5faWRcbiAgICAgICAgICBhcnIucHVzaChleHBhbmRPYmplY3QoaXRlbVVwZGF0ZSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyclxuICAgICAgfSwgW10pXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICB1cGRhdGVEYXRhLml0ZW1zID0gaXRlbXNcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIG1pZ3JhdGVDb21wZW5kaXVtRGF0YSAocGFjaykge1xuICAgIGNvbnN0IGRvY3VtZW50VHlwZSA9IHBhY2subWV0YWRhdGEudHlwZVxuICAgIGlmIChcbiAgICAgICFbJ0FjdG9yJywgJ0l0ZW0nLCAnTWFjcm8nLCAnUm9sbFRhYmxlJywgJ1NjZW5lJ10uaW5jbHVkZXMoZG9jdW1lbnRUeXBlKVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gVW5sb2NrIHRoZSBwYWNrIGZvciBlZGl0aW5nXG4gICAgY29uc3Qgd2FzTG9ja2VkID0gcGFjay5sb2NrZWRcbiAgICBhd2FpdCBwYWNrLmNvbmZpZ3VyZSh7IGxvY2tlZDogZmFsc2UgfSlcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwYWNrLm1pZ3JhdGUoKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coJ3BhY2sgbWlncmF0ZSBmYWlsZWQnLCBwYWNrLCBlcnIpXG4gICAgfVxuICAgIGNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IHBhY2suZ2V0RG9jdW1lbnRzKClcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBjb21wZW5kaXVtIGVudHJpZXMgLSBhcHBseWluZyBmaW5lLXR1bmVkIG1pZ3JhdGlvbiBmdW5jdGlvbnNcbiAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2N1bWVudHMpIHtcbiAgICAgIGxldCB1cGRhdGVEYXRhID0ge31cbiAgICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAoZG9jdW1lbnRUeXBlKSB7XG4gICAgICAgICAgY2FzZSAnQWN0b3InOlxuICAgICAgICAgICAgdXBkYXRlRGF0YSA9IFVwZGF0ZXIubWlncmF0ZUFjdG9yRGF0YShkb2MudG9PYmplY3QoKSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnSXRlbSc6XG4gICAgICAgICAgICB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlSXRlbURhdGEoZG9jLnRvT2JqZWN0KCkpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ01hY3JvJzpcbiAgICAgICAgICAgIHVwZGF0ZURhdGEgPSBVcGRhdGVyLm1pZ3JhdGVNYWNyb0RhdGEoZG9jLnRvT2JqZWN0KCkpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ1JvbGxUYWJsZSc6XG4gICAgICAgICAgICB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlVGFibGVEYXRhKGRvYy50b09iamVjdCgpKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdTY2VuZSc6XG4gICAgICAgICAgICB1cGRhdGVEYXRhID0gVXBkYXRlci5taWdyYXRlU2NlbmVEYXRhKGRvYylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgLy8gU2F2ZSB0aGUgZW50cnksIGlmIGRhdGEgd2FzIGNoYW5nZWRcbiAgICAgICAgaWYgKCFmb3VuZHJ5LnV0aWxzLmlzRW1wdHkodXBkYXRlRGF0YSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGBNaWdyYXRlZCAke2RvY3VtZW50VHlwZX0gZG9jdW1lbnQgJHtkb2MubmFtZX0gaW4gQ29tcGVuZGl1bSAke3BhY2suY29sbGVjdGlvbn1gXG4gICAgICAgICAgKVxuICAgICAgICAgIGF3YWl0IGRvYy51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZXRhaWxzJywgZXJyKVxuICAgICAgICBlcnIubWVzc2FnZSA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTWlncmF0ZS5FcnJvckRvY3VtZW50UGFjaycsIHtcbiAgICAgICAgICBuYW1lOiBkb2MubmFtZSxcbiAgICAgICAgICBjb2xsZWN0aW9uOiBwYWNrLmNvbGxlY3Rpb24sXG4gICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2VcbiAgICAgICAgfSlcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihlcnIubWVzc2FnZSwgeyBwZXJtYW5lbnQ6IHRydWUgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBcHBseSB0aGUgb3JpZ2luYWwgbG9ja2VkIHN0YXR1cyBmb3IgdGhlIHBhY2tcbiAgICBhd2FpdCBwYWNrLmNvbmZpZ3VyZSh7IGxvY2tlZDogd2FzTG9ja2VkIH0pXG4gIH1cblxuICBzdGF0aWMgbWlncmF0ZUl0ZW1EYXRhIChpdGVtKSB7XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG5cbiAgICAvLyBVcGRhdGUgV29ybGQgSXRlbVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtRW1iZWRkZWR2MTAoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUV4cGVyaWVuY2UoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUFydHdvcmsoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUJvb2tBdXRvbWF0ZWQoaXRlbSwgdXBkYXRlRGF0YSlcbiAgICBVcGRhdGVyLl9taWdyYXRlSXRlbUtlZXBlck5vdGVzKGl0ZW0sIHVwZGF0ZURhdGEpXG4gICAgVXBkYXRlci5fbWlncmF0ZUl0ZW1TcGVsbEF1dG9tYXRlZChpdGVtLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtS2VlcGVyTm90ZXNNZXJnZShpdGVtLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtRXJhcyhpdGVtLCB1cGRhdGVEYXRhKVxuICAgIFVwZGF0ZXIuX21pZ3JhdGVJdGVtdjEwKGl0ZW0sIHVwZGF0ZURhdGEpXG4gICAgVXBkYXRlci5fbWlncmF0ZUl0ZW1Cb29rVW5pdHMoaXRlbSwgdXBkYXRlRGF0YSlcblxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgbWlncmF0ZU1hY3JvRGF0YSAodGFibGUpIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cblxuICAgIC8vIFVwZGF0ZSBXb3JsZCBBY3RvclxuICAgIFVwZGF0ZXIuX21pZ3JhdGVNYWNyb0FydHdvcmsodGFibGUsIHVwZGF0ZURhdGEpXG5cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgc3RhdGljIG1pZ3JhdGVUYWJsZURhdGEgKHRhYmxlKSB7XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG5cbiAgICAvLyBVcGRhdGUgV29ybGQgQWN0b3JcbiAgICBVcGRhdGVyLl9taWdyYXRlVGFibGVBcnR3b3JrKHRhYmxlLCB1cGRhdGVEYXRhKVxuXG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBtaWdyYXRlU2NlbmVEYXRhIChzY2VuZSkge1xuICAgIGNvbnN0IHJldHVybnMgPSB7XG4gICAgICB0b2tlbnM6IFtdXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NlbmUudG9rZW5zICE9PSAndW5kZWZpbmVkJyAmJiBzY2VuZS50b2tlbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5zLnRva2VucyA9IHNjZW5lLnRva2Vucy5tYXAodG9rZW4gPT4ge1xuICAgICAgICBjb25zdCB0ID0gdG9rZW4udG9PYmplY3QoKVxuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cbiAgICAgICAgVXBkYXRlci5fbWlncmF0ZVRva2VuQXJ0d29yayh0LCB1cGRhdGVEYXRhKVxuICAgICAgICBpZiAoT2JqZWN0LmtleXModXBkYXRlRGF0YSkubGVuZ3RoKSB7XG4gICAgICAgICAgZm91bmRyeS51dGlscy5tZXJnZU9iamVjdCh0LCB1cGRhdGVEYXRhKVxuICAgICAgICB9XG4gICAgICAgIGlmICghdC5hY3RvcklkIHx8IHQuYWN0b3JMaW5rKSB7XG4gICAgICAgICAgdC5hY3RvckRhdGEgPSB7fVxuICAgICAgICB9IGVsc2UgaWYgKCFnYW1lLmFjdG9ycy5oYXModC5hY3RvcklkKSkge1xuICAgICAgICAgIHQuYWN0b3JJZCA9IG51bGxcbiAgICAgICAgICB0LmFjdG9yRGF0YSA9IHt9XG4gICAgICAgIH0gZWxzZSBpZiAoIXQuYWN0b3JMaW5rKSB7XG4gICAgICAgICAgY29uc3QgYWN0b3JEYXRhID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodC5hY3RvckRhdGEpXG4gICAgICAgICAgYWN0b3JEYXRhLnR5cGUgPSB0b2tlbi5hY3Rvcj8udHlwZVxuICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IFVwZGF0ZXIubWlncmF0ZUFjdG9yRGF0YShhY3RvckRhdGEpXG4gICAgICAgICAgO1snaXRlbXMnLCAnZWZmZWN0cyddLmZvckVhY2goZW1iZWRkZWROYW1lID0+IHtcbiAgICAgICAgICAgIGlmICghdXBkYXRlW2VtYmVkZGVkTmFtZV0/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZXMgPSBuZXcgTWFwKHVwZGF0ZVtlbWJlZGRlZE5hbWVdLm1hcCh1ID0+IFt1Ll9pZCwgdV0pKVxuICAgICAgICAgICAgdC5hY3RvckRhdGFbZW1iZWRkZWROYW1lXS5mb3JFYWNoKG9yaWdpbmFsID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlID0gdXBkYXRlcy5nZXQob3JpZ2luYWwuX2lkKVxuICAgICAgICAgICAgICBpZiAodXBkYXRlKSBtZXJnZU9iamVjdChvcmlnaW5hbCwgdXBkYXRlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVbZW1iZWRkZWROYW1lXVxuICAgICAgICAgIH0pXG4gICAgICAgICAgbWVyZ2VPYmplY3QodC5hY3RvckRhdGEsIHVwZGF0ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdFxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHJldHVybnNcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUl0ZW1LZWVwZXJOb3RlcyAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChcbiAgICAgIFtcbiAgICAgICAgJ2FyY2hldHlwZScsXG4gICAgICAgICdjaGFzZScsXG4gICAgICAgICdpdGVtJyxcbiAgICAgICAgJ29jY3VwYXRpb24nLFxuICAgICAgICAnc2V0dXAnLFxuICAgICAgICAnc2tpbGwnLFxuICAgICAgICAnc3BlbGwnLFxuICAgICAgICAnc3RhdHVzJyxcbiAgICAgICAgJ3RhbGVudCcsXG4gICAgICAgICd3ZWFwb24nXG4gICAgICBdLmluY2x1ZGVzKGl0ZW0udHlwZSlcbiAgICApIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbiddID0ge1xuICAgICAgICAgIHZhbHVlOiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBrZWVwZXI6ICcnXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHR5cGVvZiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbiA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb24gPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24nXSA9IHtcbiAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAga2VlcGVyOiAnJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXInXSA9ICcnXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVJdGVtRXhwZXJpZW5jZSAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChpdGVtLnR5cGUgPT09ICdza2lsbCcpIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHM/LmV4cGVyaWVuY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hZGp1c3RtZW50cy5leHBlcmllbmNlJ10gPSAwXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVJdGVtQXJ0d29yayAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGxldCBpbWFnZSA9IFN0cmluZyhpdGVtLmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICB1cGRhdGVEYXRhLmltZyA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zLycgKyBpbWFnZVsxXVxuICAgIH1cbiAgICBpZiAoaXRlbS50eXBlID09PSAnc2V0dXAnKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5pdGVtcykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGltYWdlID0gU3RyaW5nKHYuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICAgICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddID0gaXRlbS5zeXN0ZW0uaXRlbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLmltZyA9XG4gICAgICAgICAgICAgICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zLycgKyBpbWFnZVsxXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnb2NjdXBhdGlvbicpIHtcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLnNraWxscykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGltYWdlID0gU3RyaW5nKHYuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICAgICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5pbWcgPVxuICAgICAgICAgICAgICAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgW28sIGddIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLmdyb3VwcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZy5za2lsbHMpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW1hZ2UgPSBTdHJpbmcodi5pbWcpLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgICAgICAgICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLmdyb3VwcyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXSA9IGl0ZW0uc3lzdGVtLmdyb3Vwc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10uaW1nID1cbiAgICAgICAgICAgICAgICAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2Jvb2snKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5zcGVsbHMpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpbWFnZSA9IFN0cmluZyh2LmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgICAgICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5zcGVsbHMnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNwZWxscyddID0gaXRlbS5zeXN0ZW0uc3BlbGxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc3BlbGxzJ11ba10uaW1nID1cbiAgICAgICAgICAgICAgJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdhcmNoZXR5cGUnKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5za2lsbHMpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpbWFnZSA9IFN0cmluZyh2LmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgICAgICAgaWYgKGltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID0gaXRlbS5zeXN0ZW0uc2tpbGxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ11ba10uaW1nID1cbiAgICAgICAgICAgICAgJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVJdGVtU3BlbGxBdXRvbWF0ZWQgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnc3BlbGwnICYmIHR5cGVvZiBpdGVtLnN5c3RlbS5jb3N0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNhc3RpbmdUaW1lJ10gPSBpdGVtLnN5c3RlbS5jYXN0aW5nVGltZSB8fCAnJ1xuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvc3RzLmhpdFBvaW50cyddID0gaXRlbS5zeXN0ZW0uY29zdC5ocCB8fCAwXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29zdHMubWFnaWNQb2ludHMnXSA9IGl0ZW0uc3lzdGVtLmNvc3QubXAgfHwgMFxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvc3RzLnNhbml0eSddID0gaXRlbS5zeXN0ZW0uY29zdC5zYW4gfHwgMFxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvc3RzLnBvd2VyJ10gPSBpdGVtLnN5c3RlbS5jb3N0LnBvdyB8fCAwXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29zdHMub3RoZXJzJ10gPSAnJ1xuXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1jb3N0J10gPSBudWxsXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24uLT11bmlkZW50aWZpZWQnXSA9IG51bGxcbiAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi4tPW5vdGVzJ10gPSBudWxsXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJvb2sgYXV0b21hdGlvbiB3YXMgaW5jcmVhc2VkIGluIDAuNi41XG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIERvY3VtZW50IGRhdGEgZXhwcmVzc2VkIGFzIGEgcGxhaW4gb2JqZWN0XG4gICAqIEBwYXJhbSB7anNvbn0gdXBkYXRlRGF0YSBEaWZmZXJlbnRpYWwgdXBkYXRlIGRhdGEgd2hpY2ggbW9kaWZpZXMgdGhlIGV4aXN0aW5nIHZhbHVlcyBvZiB0aGlzIGRvY3VtZW50IGRhdGFcbiAgICogQHJldHVybnMge2pzb259IERpZmZlcmVudGlhbCB1cGRhdGUgZGF0YSB3aGljaCBtb2RpZmllcyB0aGUgZXhpc3RpbmcgdmFsdWVzIG9mIHRoaXMgZG9jdW1lbnQgZGF0YVxuICAgKi9cbiAgc3RhdGljIF9taWdyYXRlSXRlbUJvb2tBdXRvbWF0ZWQgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vaycpIHtcbiAgICAgIC8qKiBJZiBib29rIHN0aWxsIGhhcyB0aGUgc3lzdGVtLmRlc2NyaXB0aW9uLnVuaWRlbnRpZmllZCBrZXkgdGhlbiBydW4gbWlncmF0ZSBvbiBpdCAqL1xuICAgICAgaWYgKHR5cGVvZiBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbi51bmlkZW50aWZpZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8qKiBGaWVsZHMgY2hhbmdlZCBmcm9tIG51bGwgZGVmYXVsdCB0byBlbXB0eSBzdHJpbmcgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF1dGhvciddID0gaXRlbS5zeXN0ZW0uYXV0aG9yIHx8ICcnXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kYXRlJ10gPSBpdGVtLnN5c3RlbS5kYXRlIHx8ICcnXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5sYW5ndWFnZSddID0gaXRlbS5zeXN0ZW0ubGFuZ3VhZ2UgfHwgJydcbiAgICAgICAgLyoqIEZpZWxkcyBjaGFuZ2VkIGZyb20gbnVsbC9zdHJpbmcgZGVmYXVsdHMgdG8gaW50ZWdlciB0byAwICovXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5zYW5pdHlMb3NzJ10gPSBpdGVtLnN5c3RlbS5zYW5Mb3NzIHx8IDBcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLm15dGhvc1JhdGluZyddID0gTnVtYmVyKGl0ZW0uc3lzdGVtLm15dGhvc1JhdGluZykgfHwgMFxuICAgICAgICAvKiogUmVuYW1lZC9tb3ZlZCBmaWVsZHMgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbnRlbnQnXSA9IGl0ZW0uc3lzdGVtLmRlc2NyaXB0aW9uLnVuaWRlbnRpZmllZFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPSBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvbi5ub3Rlc1xuICAgICAgICAvKiogTmV3IGZpZWxkcyBzZXQgZGVmYXVsdCB2YWx1ZXMgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmRpZmZpY3VsdHlMZXZlbCddID0gJ3JlZ3VsYXInXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5mdWxsU3R1ZGllcyddID0gMFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uaW5pdGlhbFJlYWRpbmcnXSA9IGZhbHNlXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5rZWVwZXJOb3RlcyddID0gJydcbiAgICAgICAgLyoqIE1vdmUgYW5kIHJlbmFtZSBnYWluIGZpZWxkcyB0byBnYWlucywgZGVmYXVsdCBOYU4gdmFsdWVzIHRvIDAgKi9cbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmdhaW5zLmN0aHVsaHVNeXRob3MuaW5pdGlhbCddID1cbiAgICAgICAgICBOdW1iZXIoaXRlbS5zeXN0ZW0uZ2Fpbi5jdGh1bGh1TXl0aG9zLkNNSSkgfHwgMFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ2FpbnMuY3RodWxodU15dGhvcy5maW5hbCddID1cbiAgICAgICAgICBOdW1iZXIoaXRlbS5zeXN0ZW0uZ2Fpbi5jdGh1bGh1TXl0aG9zLkNNRikgfHwgMFxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ2FpbnMub2NjdWx0J10gPSBOdW1iZXIoaXRlbS5zeXN0ZW0uZ2Fpbi5vY2N1bHQpIHx8IDBcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmdhaW5zLm90aGVycyddID0gW11cbiAgICAgICAgLyoqIE5ldyBzdHVkeSBmaWVsZCBkZWZhdWx0IG5lY2Vzc2FyeSB0byBpbnRlZ2VyIG9mIHdlZWtzU3R1ZHlUaW1lIG9yIDAgaWYgbm90IHNldCAqL1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc3R1ZHknXSA9IHtcbiAgICAgICAgICBuZWNlc3Nhcnk6IE51bWJlcihpdGVtLnN5c3RlbS53ZWVrc1N0dWR5VGltZSkgfHwgMCxcbiAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICB1bml0czogJ0NvQzcud2Vla3MnXG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlbW92ZSBvbGQga2V5cyAqL1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1zYW5Mb3NzJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPXdlZWtzU3R1ZHlUaW1lJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPWdhaW4nXSA9IG51bGxcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmRlc2NyaXB0aW9uLi09dW5pZGVudGlmaWVkJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi4tPW5vdGVzJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5nYWlucy4tPW90aGVyJ10gPSBudWxsXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPXByb3BlcnRpZXMnXSA9IG51bGxcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLi09ZmxhZ3MnXSA9IG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUl0ZW1Cb29rVW5pdHMgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vaycpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGl0ZW0uc3lzdGVtLnN0dWR5Lm5lY2Vzc2FyeSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW0uc3lzdGVtLnN0dWR5LnVuaXRzID09PSAndW5kZWZpbmVkJ1xuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5zdHVkeS51bml0cyddID0gJ0NvQzcud2Vla3MnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlSXRlbUtlZXBlck5vdGVzTWVyZ2UgKGl0ZW0sIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoaXRlbS50eXBlID09PSAnc3BlbGwnIHx8IGl0ZW0udHlwZSA9PT0gJ2Jvb2snKSB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW0uc3lzdGVtLm5vdGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0uc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPVxuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyICsgaXRlbS5zeXN0ZW0ubm90ZXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPSBpdGVtLnN5c3RlbS5ub3Rlc1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPW5vdGVzJ10gPSBudWxsXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGl0ZW0uc3lzdGVtLmtlZXBlck5vdGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXInXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPVxuICAgICAgICAgICAgaXRlbS5zeXN0ZW0ua2VlcGVyTm90ZXMgKyB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ11cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyJ10gPSBpdGVtLnN5c3RlbS5rZWVwZXJOb3Rlc1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPWtlZXBlck5vdGVzJ10gPSBudWxsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlSXRlbUVtYmVkZGVkdjEwIChpdGVtLCB1cGRhdGVEYXRhKSB7XG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ29jY3VwYXRpb24nKSB7XG4gICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IFtvLCBnXSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5ncm91cHMpKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGcuc2tpbGxzKSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygdi5zeXN0ZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGl0ZW0uc3lzdGVtLmdyb3Vwc1tvXS5za2lsbHNba10uc3lzdGVtID0gdi5kYXRhXG4gICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ10gPSBpdGVtLnN5c3RlbS5ncm91cHNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFsnc2V0dXAnXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5pdGVtcykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2Ygdi5zeXN0ZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5pdGVtc1trXS5zeXN0ZW0gPSB2LmRhdGFcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uaXRlbXMnXSA9IGl0ZW0uc3lzdGVtLml0ZW1zXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChbJ2FyY2hldHlwZScsICdvY2N1cGF0aW9uJ10uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZVxuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uc2tpbGxzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2LnN5c3RlbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLnNraWxsc1trXS5zeXN0ZW0gPSB2LmRhdGFcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFsnYm9vayddLmluY2x1ZGVzKGl0ZW0udHlwZSkpIHtcbiAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2VcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLnNwZWxscykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2Ygdi5zeXN0ZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5zcGVsbHNba10uc3lzdGVtID0gdi5kYXRhXG4gICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNwZWxscyddID0gaXRlbS5zeXN0ZW0uc3BlbGxzXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlSXRlbXYxMCAoaXRlbSwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChcbiAgICAgIGl0ZW0udHlwZSA9PT0gJ3NraWxsJyAmJlxuICAgICAgKHR5cGVvZiBpdGVtLnN5c3RlbS5za2lsbE5hbWUgPT09ICd1bmRlZmluZWQnIHx8IGl0ZW0uc3lzdGVtLnNraWxsTmFtZSA9PT0gJycpXG4gICAgKSB7XG4gICAgICB1cGRhdGVEYXRhLm5hbWUgPSBpdGVtLm5hbWVcbiAgICAgIC8vIFVwZGF0ZSBQb2xpc2ggZG9kZ2UgdHJhbnNsYXRpb24gZnJvbSBVbmlraSB0byBVbmlrIHRvIG1hdGNoIHVwZGF0ZSB0byBsYW5nL3BsLmpzb25cbiAgICAgIGlmICh1cGRhdGVEYXRhLm5hbWUgPT09ICdVbmlraScpIHtcbiAgICAgICAgdXBkYXRlRGF0YS5uYW1lID0gJ1VuaWsnXG4gICAgICB9XG4gICAgICBjb25zdCBwYXJ0cyA9IENvQzdJdGVtLmdldE5hbWVQYXJ0c1NwZWMoXG4gICAgICAgIHVwZGF0ZURhdGEubmFtZSxcbiAgICAgICAgdHlwZW9mIGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uPy5ncm91cCA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/IGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uLmdyb3VwXG4gICAgICAgICAgOiBpdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgKVxuICAgICAgdXBkYXRlRGF0YS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxsTmFtZSddID0gcGFydHMuc2tpbGxOYW1lXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc3BlY2lhbGl6YXRpb24nXSA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzZXR1cCcpIHtcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW0uc3lzdGVtLml0ZW1zKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdi50eXBlID09PSAnc2tpbGwnICYmXG4gICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddID0gaXRlbS5zeXN0ZW0uaXRlbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLm5hbWUgPSB2Lm5hbWVcbiAgICAgICAgICAgIGlmICh1cGRhdGVEYXRhWydzeXN0ZW0uaXRlbXMnXVtrXS5uYW1lID09PSAnVW5pa2knKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLm5hbWUgPSAnVW5paydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ11ba10ubmFtZSxcbiAgICAgICAgICAgICAgdHlwZW9mIHYuc3lzdGVtLnNwZWNpYWxpemF0aW9uPy5ncm91cCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IHYuc3lzdGVtLnNwZWNpYWxpemF0aW9uLmdyb3VwXG4gICAgICAgICAgICAgICAgOiB2LnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLml0ZW1zJ11ba10ubmFtZSA9IHBhcnRzLm5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pdGVtcyddW2tdLnN5c3RlbS5zcGVjaWFsaXphdGlvbiA9IHBhcnRzLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdvY2N1cGF0aW9uJykge1xuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uc2tpbGxzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdi50eXBlID09PSAnc2tpbGwnICYmXG4gICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gdi5uYW1lXG4gICAgICAgICAgICBpZiAodXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPT09ICdVbmlraScpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPSAnVW5paydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUsXG4gICAgICAgICAgICAgIHR5cGVvZiB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbj8uZ3JvdXAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbi5ncm91cFxuICAgICAgICAgICAgICAgIDogdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gPVxuICAgICAgICAgICAgICBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBbbywgZ10gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uZ3JvdXBzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhnLnNraWxscykpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHYudHlwZSA9PT0gJ3NraWxsJyAmJlxuICAgICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ10gPSBpdGVtLnN5c3RlbS5ncm91cHNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ11bb10uc2tpbGxzW2tdLm5hbWUgPSB2Lm5hbWVcbiAgICAgICAgICAgICAgaWYgKHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10ubmFtZSA9PT0gJ1VuaWtpJykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10ubmFtZSA9ICdVbmlrJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ11bb10uc2tpbGxzW2tdLm5hbWUsXG4gICAgICAgICAgICAgICAgdHlwZW9mIHYuc3lzdGVtLnNwZWNpYWxpemF0aW9uPy5ncm91cCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgID8gdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb24uZ3JvdXBcbiAgICAgICAgICAgICAgICAgIDogdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uZ3JvdXBzJ11bb10uc2tpbGxzW2tdLm5hbWUgPSBwYXJ0cy5uYW1lXG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10uc3lzdGVtLnNraWxsTmFtZSA9XG4gICAgICAgICAgICAgICAgcGFydHMuc2tpbGxOYW1lXG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ncm91cHMnXVtvXS5za2lsbHNba10uc3lzdGVtLnNwZWNpYWxpemF0aW9uID1cbiAgICAgICAgICAgICAgICBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnYXJjaGV0eXBlJykge1xuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbS5zeXN0ZW0uc2tpbGxzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdi50eXBlID09PSAnc2tpbGwnICYmXG4gICAgICAgICAgICAodHlwZW9mIHYuc3lzdGVtLnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdi5zeXN0ZW0uc2tpbGxOYW1lID09PSAnJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2tpbGxzJ10gPSBpdGVtLnN5c3RlbS5za2lsbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gdi5uYW1lXG4gICAgICAgICAgICBpZiAodXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPT09ICdVbmlraScpIHtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUgPSAnVW5paydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0l0ZW0uZ2V0TmFtZVBhcnRzU3BlYyhcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLm5hbWUsXG4gICAgICAgICAgICAgIHR5cGVvZiB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbj8uZ3JvdXAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyB2LnN5c3RlbS5zcGVjaWFsaXphdGlvbi5ncm91cFxuICAgICAgICAgICAgICAgIDogdi5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5uYW1lID0gcGFydHMubmFtZVxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNraWxscyddW2tdLnN5c3RlbS5za2lsbE5hbWUgPSBwYXJ0cy5za2lsbE5hbWVcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5za2lsbHMnXVtrXS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gPVxuICAgICAgICAgICAgICBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUl0ZW1FcmFzIChpdGVtLCB1cGRhdGVEYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBpdGVtLnN5c3RlbS5lcmFzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gMTkyMCA9PiBzdGFuZGFyZFxuICAgICAgLy8gbWRybiA9PiBtb2Rlcm4gLyBtb2Rlcm5QdWxwXG4gICAgICAvLyBwdWxwID0+IHB1bHBcbiAgICAgIC8vIGRkdHMgPT4gZG93bkRhcmtlclRyYWlscyAvIGRvd25EYXJrZXJUcmFpbHNQdWxwXG4gICAgICAvLyBkcmthID0+IGRhcmtBZ2VzIC8gZGFya0FnZXNQdWxwXG4gICAgICAvLyBnbGl0ID0+IGdhc0xpZ2h0XG4gICAgICAvLyBudmN0ID0+IGludmljdHVzXG4gICAgICBsZXQgZXJhcyA9IHt9XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhpdGVtLnN5c3RlbS5lcmFzKSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLnNlbGVjdGVkICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnMTkyMCc6XG4gICAgICAgICAgICAgIGVyYXMuc3RhbmRhcmQgPSB0cnVlXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdtZHJuJzpcbiAgICAgICAgICAgICAgZXJhcy5tb2Rlcm4gPSB0cnVlXG4gICAgICAgICAgICAgIGVyYXMubW9kZXJuUHVscCA9IHRydWVcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ3B1bHAnOlxuICAgICAgICAgICAgICBlcmFzLnB1bHAgPSB0cnVlXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdkZHRzJzpcbiAgICAgICAgICAgICAgZXJhcy5kb3duRGFya2VyVHJhaWxzID0gdHJ1ZVxuICAgICAgICAgICAgICBlcmFzLmRvd25EYXJrZXJUcmFpbHNQdWxwID0gdHJ1ZVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnZHJrYSc6XG4gICAgICAgICAgICAgIGVyYXMuZGFya0FnZXMgPSB0cnVlXG4gICAgICAgICAgICAgIGVyYXMuZGFya0FnZXNQdWxwID0gdHJ1ZVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnZ2xpdCc6XG4gICAgICAgICAgICAgIGVyYXMuZ2FzTGlnaHQgPSB0cnVlXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdudmN0JzpcbiAgICAgICAgICAgICAgZXJhcy5pbnZpY3R1cyA9IHRydWVcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzZXR1cCcpIHtcbiAgICAgICAgLy8gSWYgbW9yZSB0aGFuIG9uZSBlcmEgdGFrZSB0aGUgZmlyc3Qgb25lIG9ubHlcbiAgICAgICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMoZXJhcylbMF1cbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIGVyYXMgPSB7IFtrZXldOiB0cnVlIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiBubyBlcmFzIGRlZmF1bHQgdG8gc3RhbmRhcmRcbiAgICAgICAgICBlcmFzID0geyBzdGFuZGFyZDogdHJ1ZSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IENvQzcgPSB7XG4gICAgICAgIGNvY2lkRmxhZzoge1xuICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICBsYW5nOiBnYW1lLmkxOG4ubGFuZyxcbiAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICBlcmFzXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaXRlbS5mbGFncz8uQ29DNyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaXRlbS5mbGFncy5Db0M3ID0gQ29DN1xuICAgICAgICB1cGRhdGVEYXRhWydmbGFncy5Db0M3J10gPSBDb0M3XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGl0ZW0uZmxhZ3MuQ29DNy5jb2NpZEZsYWcgPSBDb0M3LmNvY2lkRmxhZ1xuICAgICAgICB1cGRhdGVEYXRhWydmbGFncy5Db0M3LmNvY2lkRmxhZyddID0gQ29DNy5jb2NpZEZsYWdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0uZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcyA9IENvQzcuY29jaWRGbGFnLmVyYXNcbiAgICAgICAgdXBkYXRlRGF0YVsnZmxhZ3MuQ29DNy5jb2NpZEZsYWcuZXJhcyddID0gQ29DNy5jb2NpZEZsYWcuZXJhc1xuICAgICAgfVxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLi09ZXJhcyddID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUFjdG9yQXJ0d29yayAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBsZXQgaW1hZ2UgPSBTdHJpbmcoYWN0b3IuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgIHVwZGF0ZURhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBhY3Rvci5wcm90b3R5cGVUb2tlbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBhY3Rvci5wcm90b3R5cGVUb2tlbi50ZXh0dXJlPy5zcmMgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBpbWFnZSA9IFN0cmluZyhhY3Rvci5wcm90b3R5cGVUb2tlbi50ZXh0dXJlLnNyYykubWF0Y2goXG4gICAgICAgIC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvXG4gICAgICApXG4gICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgdXBkYXRlRGF0YVsncHJvdG90eXBlVG9rZW4udGV4dHVyZS5zcmMnXSA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zLycgKyBpbWFnZVsxXVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGFjdG9yLmVmZmVjdHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhhY3Rvci5lZmZlY3RzKSkge1xuICAgICAgICBpbWFnZSA9IFN0cmluZyh2Lmljb24pLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZURhdGEuZWZmZWN0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGEuZWZmZWN0cyA9IGFjdG9yLmVmZmVjdHNcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlRGF0YS5lZmZlY3RzW2tdLmljb24gPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUFjdG9yS2VlcGVyTm90ZXMgKGFjdG9yLCB1cGRhdGVEYXRhKSB7XG4gICAgaWYgKFsnY2hhcmFjdGVyJywgJ25wYycsICdjcmVhdHVyZSddLmluY2x1ZGVzKGFjdG9yLnR5cGUpKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uZGVzY3JpcHRpb24gPT09ICd1bmRlZmluZWQnXG4gICAgICApIHtcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmRlc2NyaXB0aW9uJ10gPSB7XG4gICAgICAgICAga2VlcGVyOiAnJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlQWN0b3JNb25ldGFyeSAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoYWN0b3IudHlwZSA9PT0gJ2NoYXJhY3RlcicgJiYgdHlwZW9mIGFjdG9yLnN5c3RlbS5jcmVkaXQ/Lm11bHRpcGxpZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuc3ltYm9sJ10gPSBhY3Rvci5zeXN0ZW0uY3JlZGl0Py5tb25ldGFyeVN5bWJvbCA/IGFjdG9yLnN5c3RlbS5jcmVkaXQubW9uZXRhcnlTeW1ib2wgOiAnJCdcbiAgICAgIGlmICh1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuc3ltYm9sJ10udG9TdHJpbmcoKS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5tb25ldGFyeS5zeW1ib2wnXSA9ICckJ1xuICAgICAgfVxuICAgICAgY29uc3QgbXVsdGlwbGllciA9IHBhcnNlSW50KGFjdG9yLnN5c3RlbS5jcmVkaXQubXVsdGlwbGllcikgPyBwYXJzZUludChhY3Rvci5zeXN0ZW0uY3JlZGl0Lm11bHRpcGxpZXIpIDogMVxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLm1vbmV0YXJ5LnNwZW50J10gPSBhY3Rvci5zeXN0ZW0uY3JlZGl0LnNwZW50XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuYXNzZXRzRGV0YWlscyddID0gYWN0b3Iuc3lzdGVtLmNyZWRpdC5hc3NldHNEZXRhaWxzXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuc3BlbmRpbmdMZXZlbCddID0gYWN0b3Iuc3lzdGVtLmNyZWRpdC5zcGVuZGluZ0xldmVsXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuY2FzaCddID0gYWN0b3Iuc3lzdGVtLmNyZWRpdC5jYXNoXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubW9uZXRhcnkuYXNzZXRzJ10gPSBhY3Rvci5zeXN0ZW0uY3JlZGl0LmFzc2V0c1xuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyddID0gZHVwbGljYXRlKGFjdG9yLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMpXG4gICAgICBpZiAobXVsdGlwbGllciAhPT0gMSkge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHVwZGF0ZURhdGFbJ3N5c3RlbS5tb25ldGFyeS52YWx1ZXMnXSkge1xuICAgICAgICAgIHZhbHVlLmNhc2hWYWx1ZSA9IG11bHRpcGxpZXIgKiB2YWx1ZS5jYXNoVmFsdWVcbiAgICAgICAgICB2YWx1ZS5hc3NldHNWYWx1ZSA9IG11bHRpcGxpZXIgKiB2YWx1ZS5hc3NldHNWYWx1ZVxuICAgICAgICAgIHZhbHVlLnNwZW5kaW5nVmFsdWUgPSBtdWx0aXBsaWVyICogdmFsdWUuc3BlbmRpbmdWYWx1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1jcmVkaXQnXSA9IG51bGxcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVBY3RvclNhbkxvc3NSZWFzb25zIChhY3RvciwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChcbiAgICAgIGFjdG9yLnR5cGUgPT09ICdjaGFyYWN0ZXInICYmXG4gICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtPy5lbmNvdW50ZXJlZENyZWF0dXJlcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICApIHtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IHt9XG4gICAgICBmb3IgKGNvbnN0IHNhbml0eUxvc3NFdmVudCBvZiBhY3Rvci5zeXN0ZW0uZW5jb3VudGVyZWRDcmVhdHVyZXMpIHtcbiAgICAgICAgaWYgKHNhbml0eUxvc3NFdmVudC50b3RhbExvc3MgPiAwKSB7XG4gICAgICAgICAgZ3JvdXBzW3Nhbml0eUxvc3NFdmVudC5uYW1lXSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgZ3JvdXBzW3Nhbml0eUxvc3NFdmVudC5uYW1lXSA/PyAwLFxuICAgICAgICAgICAgc2FuaXR5TG9zc0V2ZW50LnRvdGFsTG9zc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc2FuaXR5TG9zc0V2ZW50cyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZ3JvdXBzKSB7XG4gICAgICAgIHNhbml0eUxvc3NFdmVudHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogbmFtZSxcbiAgICAgICAgICB0b3RhbExvc3M6IGdyb3Vwc1tuYW1lXSxcbiAgICAgICAgICBpbW11bml0eTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5zYW5pdHlMb3NzRXZlbnRzJ10gPSBzYW5pdHlMb3NzRXZlbnRzXG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uLT1lbmNvdW50ZXJlZENyZWF0dXJlcyddID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZUFjdG9yU3RhdHVzRWZmZWN0QWN0aXZlIChhY3RvciwgdXBkYXRlRGF0YSkge1xuICAgIGlmIChbJ2NoYXJhY3RlcicsICducGMnLCAnY3JlYXR1cmUnXS5pbmNsdWRlcyhhY3Rvci50eXBlKSkge1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAodHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXMgIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5jb25kaXRpb25zID09PSAndW5kZWZpbmVkJylcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5jcml0aWNhbFdvdW5kcy52YWx1ZSddID0gZmFsc2VcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMudW5jb25zY2lvdXMudmFsdWUnXSA9IGZhbHNlXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLmR5aW5nLnZhbHVlJ10gPSBmYWxzZVxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5kZWFkLnZhbHVlJ10gPSBmYWxzZVxuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5wcm9uZS52YWx1ZSddID0gZmFsc2VcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMudGVtcG9JbnNhbmUudmFsdWUnXSA9IGZhbHNlXG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLmluZGVmSW5zYW5lLnZhbHVlJ10gPSBmYWxzZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmNyaXRpY2FsV291bmRzPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uc3RhdHVzPy5jcml0aWNhbFdvdW5kcy52YWx1ZVxuICAgICAgICApIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5jcml0aWNhbFdvdW5kcy52YWx1ZSddID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLnN0YXR1cz8udW5jb25zY2lvdXM/LnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGFjdG9yLnN5c3RlbS5zdGF0dXM/LnVuY29uc2Npb3VzLnZhbHVlXG4gICAgICAgICkge1xuICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLnVuY29uc2Npb3VzLnZhbHVlJ10gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uc3RhdHVzPy5keWluZz8udmFsdWUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgYWN0b3Iuc3lzdGVtLnN0YXR1cz8uZHlpbmcudmFsdWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMuZHlpbmcudmFsdWUnXSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmRlYWQ/LnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmRlYWQudmFsdWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMuZGVhZC52YWx1ZSddID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLnN0YXR1cz8ucHJvbmU/LnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGFjdG9yLnN5c3RlbS5zdGF0dXM/LnByb25lLnZhbHVlXG4gICAgICAgICkge1xuICAgICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5jb25kaXRpb25zLnByb25lLnZhbHVlJ10gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uc3RhdHVzPy50ZW1wb0luc2FuZT8udmFsdWUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgYWN0b3Iuc3lzdGVtLnN0YXR1cz8udGVtcG9JbnNhbmUudmFsdWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmNvbmRpdGlvbnMudGVtcG9JbnNhbmUudmFsdWUnXSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5zdGF0dXM/LmluZGVmSW5zYW5lPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uc3RhdHVzPy5pbmRlZkluc2FuZS52YWx1ZVxuICAgICAgICApIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uY29uZGl0aW9ucy5pbmRlZkluc2FuZS52YWx1ZSddID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYWN0b3IuZWZmZWN0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBlZmZlY3RzID0gYWN0b3IuZWZmZWN0c1xuICAgICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaW0gPSBlZmZlY3RzLmxlbmd0aDsgaSA8IGltOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVmZmVjdCA9IGVmZmVjdHNbaV1cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZWZmZWN0Lmljb24ubWF0Y2goXG4gICAgICAgICAgICAgIC9cXC8oaGFuZ2luZy1zcGlkZXJ8dGVudGFjbGVzLXNrdWxsfGFybS1zbGluZ3xoZWFydC1iZWF0c3x0b21ic3RvbmV8a25vY2tlZC1vdXQtc3RhcnN8ZmFsbGluZ3xza3VsbHx1bmNvbnNjaW91cylcXC4vXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbGV0IHN0YXR1c0lkID0gJydcbiAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hhbmdpbmctc3BpZGVyJzpcbiAgICAgICAgICAgICAgICAgIHN0YXR1c0lkID0gJ3RlbXBvSW5zYW5lJ1xuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICd0ZW50YWNsZXMtc2t1bGwnOlxuICAgICAgICAgICAgICAgICAgc3RhdHVzSWQgPSAnaW5kZWZJbnNhbmUnXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FybS1zbGluZyc6XG4gICAgICAgICAgICAgICAgICBzdGF0dXNJZCA9ICdjcml0aWNhbFdvdW5kcydcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnaGVhcnQtYmVhdHMnOlxuICAgICAgICAgICAgICAgICAgc3RhdHVzSWQgPSAnZHlpbmcnXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvbWJzdG9uZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc2t1bGwnOlxuICAgICAgICAgICAgICAgICAgc3RhdHVzSWQgPSAnZGVhZCdcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAna25vY2tlZC1vdXQtc3RhcnMnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3VuY29uc2Npb3VzJzpcbiAgICAgICAgICAgICAgICAgIHN0YXR1c0lkID0gJ3VuY29uc2Npb3VzJ1xuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdmYWxsaW5nJzpcbiAgICAgICAgICAgICAgICAgIHN0YXR1c0lkID0gJ3Byb25lJ1xuICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc3RhdHVzSWQgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVEYXRhW2BzeXN0ZW0uY29uZGl0aW9ucy4ke3N0YXR1c0lkfS52YWx1ZWBdKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhW2BzeXN0ZW0uY29uZGl0aW9ucy4ke3N0YXR1c0lkfS52YWx1ZWBdID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5mbGFncy5jb3JlPy5zdGF0dXNJZCAhPT0gc3RhdHVzSWQpIHtcbiAgICAgICAgICAgICAgICAgIGVmZmVjdHNbaV0gPSBtZXJnZU9iamVjdChlZmZlY3QsIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb3JlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNJZFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB1cGRhdGVEYXRhLmVmZmVjdHMgPSBlZmZlY3RzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS4tPXN0YXR1cyddID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgc3RhdGljIF9taWdyYXRlQWN0b3JOcGNDcmVhdHVyZSAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoWyducGMnXS5pbmNsdWRlcyhhY3Rvci50eXBlKSAmJiB0eXBlb2YgYWN0b3Iuc3lzdGVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHR5cGVvZiBhY3Rvci5zeXN0ZW0uc3BlY2lhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNwZWNpYWwnXSA9IHtcbiAgICAgICAgICBjaGVja1Bhc3NlZDogbnVsbCxcbiAgICAgICAgICBjaGVja0ZhaWxsZWQ6IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0YWNrc1BlclJvdW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0YWNrc1BlclJvdW5kJ10gPSAxXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhXG4gIH1cblxuICBzdGF0aWMgX21pZ3JhdGVBY3RvckNoYXJhY3RlclNhbml0eSAoYWN0b3IsIHVwZGF0ZURhdGEpIHtcbiAgICBpZiAoXG4gICAgICBhY3Rvci50eXBlID09PSAnY2hhcmFjdGVyJyAmJlxuICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbT8uYXR0cmlicz8uc2FuICE9PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgY29uc3Qgb25lRmlmdGhTYW5pdHkgPSBNYXRoLmNlaWwoYWN0b3Iuc3lzdGVtLmF0dHJpYnMuc2FuLnZhbHVlIC8gNSlcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0cmlicy5zYW4uZGFpbHlMb3NzJ10gPSAwXG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0cmlicy5zYW4ub25lRmlmdGhTYW5pdHkgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5hdHRyaWJzLnNhbi5vbmVGaWZ0aFNhbml0eSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLnNhbi5vbmVGaWZ0aFNhbml0eSddID0gJyAvICcgKyBvbmVGaWZ0aFNhbml0eVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgYWN0b3Iuc3lzdGVtLmF0dHJpYnMuc2FuLmRhaWx5TG9zcyA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5hdHRyaWJzLnNhbi5kYWlseUxvc3MnXSA9IDBcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgYWN0b3Iuc3lzdGVtLmluZGVmaW5pdGVJbnNhbml0eUxldmVsID09PSBudWxsIHx8XG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwudmFsdWUgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC52YWx1ZSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC52YWx1ZSddID0gMFxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWN0b3Iuc3lzdGVtLmluZGVmaW5pdGVJbnNhbml0eUxldmVsID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICBhY3Rvci5zeXN0ZW0uaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwgPT09IG51bGwgfHxcbiAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC5tYXggPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5pbmRlZmluaXRlSW5zYW5pdHlMZXZlbC5tYXggPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uaW5kZWZpbml0ZUluc2FuaXR5TGV2ZWwubWF4J10gPSBvbmVGaWZ0aFNhbml0eVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSA9PT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uYXR0cmlicy5tcC52YWx1ZSddID0gb25lRmlmdGhTYW5pdHlcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGFjdG9yLnN5c3RlbS5hdHRyaWJzLm1wLm1heCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICBhY3Rvci5zeXN0ZW0uYXR0cmlicy5tcC5tYXggPT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF0dHJpYnMubXAubWF4J10gPSBvbmVGaWZ0aFNhbml0eVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBhY3Rvci5zeXN0ZW0ubm90ZXMgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGFjdG9yLnN5c3RlbS5ub3RlcyA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHVwZGF0ZURhdGFbJ3N5c3RlbS5ub3RlcyddID0gJydcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZU1hY3JvQXJ0d29yayAodGFibGUsIHVwZGF0ZURhdGEpIHtcbiAgICBjb25zdCBpbWFnZSA9IFN0cmluZyh0YWJsZS5pbWcpLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgIGlmIChpbWFnZSAhPT0gbnVsbCkge1xuICAgICAgdXBkYXRlRGF0YS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZVRhYmxlQXJ0d29yayAodGFibGUsIHVwZGF0ZURhdGEpIHtcbiAgICBsZXQgaW1hZ2UgPSBTdHJpbmcodGFibGUuaW1nKS5tYXRjaCgvc3lzdGVtc1xcL0NvQzdcXC9hcnR3b3JrXFwvaWNvbnNcXC8oLispLylcbiAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgIHVwZGF0ZURhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvJyArIGltYWdlWzFdXG4gICAgfVxuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHRhYmxlLnJlc3VsdHMpKSB7XG4gICAgICBpbWFnZSA9IFN0cmluZyh2LmltZykubWF0Y2goL3N5c3RlbXNcXC9Db0M3XFwvYXJ0d29ya1xcL2ljb25zXFwvKC4rKS8pXG4gICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cGRhdGVEYXRhLnJlc3VsdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdXBkYXRlRGF0YS5yZXN1bHRzID0gdGFibGUucmVzdWx0c1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZURhdGEucmVzdWx0c1trXS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBfbWlncmF0ZVRva2VuQXJ0d29yayAodG9rZW4sIHVwZGF0ZURhdGEpIHtcbiAgICBjb25zdCBpbWFnZSA9IFN0cmluZyh0b2tlbi5pbWcpLm1hdGNoKC9zeXN0ZW1zXFwvQ29DN1xcL2FydHdvcmtcXC9pY29uc1xcLyguKykvKVxuICAgIGlmIChpbWFnZSAhPT0gbnVsbCkge1xuICAgICAgdXBkYXRlRGF0YS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy8nICsgaW1hZ2VbMV1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZURhdGFcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUgKi9cbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnXG4vKipcbiAqIG5hbWVDaGFyYWN0ZXJzIGxpc3Qgb2YgY2hhcmFjdGVycyB0aGF0IGNhbiBiZSBwYXJ0IG9mIGEgW10gZm9yIGNoYXJhY3Rlciwgc2tpbGwsIG9yIHdlYXBvbiBuYW1lcyB1c2VkIGluIGJyYWNrZXQgZXhwcmVzc2lvbi5cbiAqXG4gKiBcImtleXMuPGxhbmd1YWdlPi5kZXNjcmlwdGlvblwiIGxhbmcga2V5IHRvIHNob3cgaW4gdGhlIGxhbmd1YWdlIHNlbGVjdGlvbiBkaWFsb2cgYm94LlxuICogXCJrZXlzLjxsYW5ndWFnZT4uZGJOb25lXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIG5vIERhbWFnZSBCb251cyBlLmcuIERCOiBcImRiTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uYXJtb3JOb25lXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIG5vIEFybW91ciBCb251cyBlLmcuIEFybW9yOiBcImFybW9yTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uYXR0YWNrc1BlclJvdW5kTm9uZVwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBpbmRpY2F0ZSBubyBhdHRhY2tzIGUuZy4gQXR0YWNrcyBQZXIgUm91bmQ6IFwiYXR0YWNrc1BlclJvdW5kTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uc2FuTG9zc05vbmVcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gaW5kaWNhdGUgbm8gc2FuaXR5IGxvc3MgZS5nLiBTQU4gbG9zczogXCJzYW5Mb3NzTm9uZVwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uZnVsbGRiXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIGRhbWFnZSBib251cyBpbiBhdHRyaWJ1dGVzIGFuZCB3ZWFwb24gZGFtYWdlIGUuZy4gREI6IFwiZnVsbGRiXCIgLyBXZWFwb24gNTAlICgyNS8xMCksIGRhbWFnZSAxRDYgKyBcImZ1bGxkYlwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uaGFsZmRiXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIGhhbGYgZGFtYWdlIGJvbnVzIGluIHdlYXBvbiBkYW1hZ2UgZS5nLiBXZWFwb24gNTAlICgyNS8xMCksIGRhbWFnZSAxRDYgKyBcImhhbGZkYlwiLlxuICogXCJrZXlzLjxsYW5ndWFnZT4uc2VjdGlvbkNvbWJhdHNcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gaW5kaWNhdGUgdGhlIHN0YXJ0IG9mIHRoZSBjb21iYXQgLyB3ZWFwb24gc2VjdGlvbiBvZiB0ZXh0LlxuICogXCJrZXlzLjxsYW5ndWFnZT4ubmV3Q29tYmF0SGVhZGVyXCIgSWYgdGhlcmUgaXMgbm8gY29tYmF0IC8gd2VhcG9uIHNlY3Rpb24sIGFkZCB0aGlzIHNlY3Rpb24gd2VyZSBpdCBwcm9iYWJseSBpcywgdGhpcyBuZWVkcyB0byBtYXRjaGVkIGJ5IFwia2V5cy48bGFuZ3VhZ2U+LnNlY3Rpb25Db21iYXRzXCIuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5zZWN0aW9uU2tpbGxzXCIgUmVndWxhciBleHByZXNzaW9uIHRvIGluZGljYXRlIHRoZSBzdGFydCBvZiB0aGUgc2tpbGxzIHNlY3Rpb24gb2YgdGV4dC5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+LnNlY3Rpb25MYW5nYXVnZXNcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gaW5kaWNhdGUgdGhlIHN0YXJ0IG9mIHRoZSBsYW5ndWFnZXMgc2VjdGlvbiBvZiB0ZXh0LlxuICogXCJrZXlzLjxsYW5ndWFnZT4uc2VjdGlvblNwZWxsc1wiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBpbmRpY2F0ZSB0aGUgc3RhcnQgb2YgdGhlIHNwZWxscyBzZWN0aW9uIG9mIHRleHQuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5oYW5kZ3VuXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBjb21iYXQgc2VjdGlvbiB3ZWFwb24gbmFtZSBpcyBhIGhhbmRndW4gdHlwZS5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+LnJpZmxlXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBjb21iYXQgc2VjdGlvbiB3ZWFwb24gbmFtZSBpcyBhIHJpZmxlIHR5cGUuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5zbWJcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbWJhdCBzZWN0aW9uIHdlYXBvbiBuYW1lIGlzIGEgc3VibWFjaGluZSBndW4gdHlwZS5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+Lm1hY2hpbmVHdW5cIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbWJhdCBzZWN0aW9uIHdlYXBvbiBuYW1lIGlzIGEgbWFjaGluZSBndW4gdHlwZS5cbiAqIFwia2V5cy48bGFuZ3VhZ2U+LmxhdW5jaGVkXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBjb21iYXQgc2VjdGlvbiB3ZWFwb24gbmFtZSBpcyBhIGxhdW5jaGVkIHR5cGUuXG4gKiBcImtleXMuPGxhbmd1YWdlPi5leGFtcGxlXCIgU3RyaW5nIHRoYXQgc2hvdWxkIHNob3cgYXMgYSBwbGFjZWhvbGRlciBleGFtcGxlLlxuICpcbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uYWdlXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBhZ2UsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8YWdlPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ub2NjdXBhdGlvblwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgb2NjdXBhdGlvbiwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxvY2N1cGF0aW9uPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uc3RyXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBzdHJlbmd0aCBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxzdHI+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5jb25cIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbnN0aXR1dGlvbiBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxjb24+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5zaXpcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIHNpemUgY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8c2l6Pi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uaW50XCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBpbnRlbGxpZ2VuY2UgY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8aW50Pi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ucG93XCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBwb3dlciBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxwb3c+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5kZXhcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGRleHRlcml0eSBjaGFyYWN0ZXJpc3RpYywgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxkZXg+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5hcHBcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGFwcGVhcmFuY2UgY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8YXBwPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uZWR1XCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBlZHVjYXRpb24gY2hhcmFjdGVyaXN0aWMsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8ZWR1Pi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uc2FuXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBzYW5pdHkgcG9pbnRzIGF0dHJpYnV0ZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxzYW4+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5ocFwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgaGl0IHBvaW50cyBhdHRyaWJ1dGUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8aHA+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5tcFwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgbWFnaWMgcG9pbnRzIGF0dHJpYnV0ZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxtcD4uXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LmRiXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBkYW1hZ2UgYm9udXMgYXR0cmlidXRlLCBuYW1lZCBjYXB0dXJpbmcgZ3JvdXAgPGRiPiBpZiBtYXRjaGluZyBcImtleXMuPGxhbmd1YWdlPi5kYk5vbmVcIiB0aGVuIDAuXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LmJ1aWxkXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBidWlsZCBhdHRyaWJ1dGUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8YnVpbGQ+LlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5hcm1vclwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgZGFtYWdlIGJvbnVzIGF0dHJpYnV0ZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxkYj4gaWYgbWF0Y2hpbmcgXCJrZXlzLjxsYW5ndWFnZT4uYXJtb3JOb25lXCIgdGhlbiAwLlxuICogXCJ0cmFuc2xhdGlvbnMuPGxhbmd1YWdlPi5tb3ZcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIG1vdmVtZW50IHJhdGUgYXR0cmlidXRlLCBuYW1lZCBjYXB0dXJpbmcgZ3JvdXAgPG1vdj4uXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+Lmxja1wiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgbHVjayBhdHRyaWJ1dGUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8bGNrPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uYXR0YWNrc1BlclJvdW5kXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBhdHRhY2tzIHBlciByb3VuZCwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxhdHRhY2tzUGVyUm91bmQ+IGlmIG1hdGNoaW5nIFwia2V5cy48bGFuZ3VhZ2U+LmF0dGFja3NQZXJSb3VuZE5vbmVcIiB0aGVuIDAuXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LnNhbkxvc3NcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIHNhbiBsb3NzIG1pbi9tYXgsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8c2FuTG9zcz4gaWYgbWF0Y2hpbmcgXCJrZXlzLjxsYW5ndWFnZT4uc2FuTG9zc05vbmVcIiB0aGVuIG5vbmUuXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LndlYXBvblwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgY29tYmF0IHNlY3Rpb24sIG5hbWVkIGNhcHR1cmluZyBncm91cCB3ZWFwb24gPG5hbWU+LCBvcHRpb25hbCA8cGVyY2VudGFnZT4sIGFuZCA8ZGFtYWdlPi4gRGFtYWdlIGNhbiBjb250YWluIFwia2V5cy48bGFuZ3VhZ2U+LmZ1bGxkYlwiIGFuZCBcImtleXMuPGxhbmd1YWdlPi5oYWxmZGJcIi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ud2VhcG9uRG9kZ2VcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggTlBDIGNvbWJhdCBzZWN0aW9uIGRvZGdlIHNraWxsLCBuYW1lZCBjYXB0dXJpbmcgZ3JvdXAgPG5hbWU+IGFuZCA8cGVyY2VudGFnZT4uXG4gKiBcInRyYW5zbGF0aW9ucy48bGFuZ3VhZ2U+LnNraWxsXCIgUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIE5QQyBza2lsbCBzZWN0aW9uIHNraWxsIG5hbWUsIG5hbWVkIGNhcHR1cmluZyBncm91cCA8bmFtZT4gYW5kIDxwZXJjZW50YWdlPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uZ3Vlc3NTdGFydENvbWJhdFwiIFJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB0aGVyZSBpcyBubyBjb21iYXQgc2VjdGlvbiBmaW5kIHRoZXNlIGFyZSBsaWtlbHkgdG8gYmUgdGhlIGZpcnN0IHdlYXBvbiBuYW1lLCBcImtleXMuPGxhbmd1YWdlPi5uZXdDb21iYXRIZWFkZXJcIiBpcyB0aGVuIGFkZGVkIGJlZm9yZSBpdCB0byBnZXQgdGhlIGdyb3Vwc1xuICpcbiAqIFRoZXNlIHNob3VsZCBub3QgYmUgZWRpdGVkIGFzIHRoZXkgc2hvdWxkIHdvcmsgYXMgaXNcbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4ubmFtZVwiIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBOUEMgbmFtZSwgbmFtZWQgY2FwdHVyaW5nIGdyb3VwIDxuYW1lPi5cbiAqIFwidHJhbnNsYXRpb25zLjxsYW5ndWFnZT4uc2VjdGlvbnNcIiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gc3BsaXQgdGV4dCBpbnRvIGNvbWJhdCwgc2tpbGwsIGxhbmd1YWdlLCBhbmQgc3BlbGxzIHNlY3Rpb25cbiAqXG4gKiBJZiB0aGVyZSBpcyBuZXcgZnVuY3Rpb25hbGl0eSBjaGVjayBmb3IgdGhpcyBzdHJpbmcgaW4gdGhlIHRyYW5zbGF0aW9ucyAvIGtleXMgZm9yIHlvdXIgbGFuZ3VhZ2UgXCJORVcgS0VZIEJFTE9XIC0gVFJBTlNMQVRJT04gUkVRVUlSRURcIlxuICovXG5jb25zdCBuYW1lQ2hhcmFjdGVycyA9XG4gICdcXFxcdTMwMDBcXFxcdTM0MDAtXFxcXHU0REJGXFxcXHU0RTAwLVxcXFx1OUZGRlxcXFx3XFxcXChcXFxcKVxcXFwtXFxcXC8mXCJcXCcnICtcbiAgQ29DN1V0aWxpdGllcy5xdW90ZVJlZ0V4cChcbiAgICAnYcyBZcyBacyBb8yBw6DDqMOsw7LDucOAw4jDjMOSw5nDocOpw63Ds8O6w73DgcOJw43Dk8Oaw53DosOqw67DtMO7w4LDisOOw5TDm8Ojw7HDtcODxIDDkcOVw6TDq8Ovw7bDvMO/w4TDi8OPw5bDnMW4w6DDqMOnw4fDn8OYw7jDhcOlw4bDpsWT4oCc4oCdwqvCu8SFxIfEmcWCxYTDs8WbxbrFvMSExIbEmMWBxYPDk8WaxbnFuydcbiAgKVxuXG5jb25zdCBrZXlzID0ge1xuICBlbjoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5FbmdsaXNoJyxcbiAgICBkYk5vbmU6ICdub25lJyxcbiAgICBhcm1vck5vbmU6ICdub25lJyxcbiAgICBhdHRhY2tzUGVyUm91bmROb25lOiAnbm9uZScsXG4gICAgc2FuTG9zc05vbmU6ICdub25lJyxcbiAgICBmdWxsZGI6ICcoJyArICdEYW1hZ2UgQm9udXN8REInICsgJyknLFxuICAgIGhhbGZkYjogJygnICsgJ8K9fGhhbGYnICsgJyknLFxuICAgIHNlY3Rpb25Db21iYXRzOiAnXFxuKD86JyArICdjb21iYXR8ZmlnaHRpbmcgYXR0YWNrcycgKyAnKVs6XFxuXScsXG4gICAgbmV3Q29tYmF0SGVhZGVyOiAnXFxuJyArICdDb21iYXQnICsgJ1xcbicsXG4gICAgc2VjdGlvblNraWxsczogJ1xcbig/OicgKyAnc2tpbGxzJyArICcoPzpcXFxccypcXFxcKFteXFxcXCldK1xcXFwpKT8pWzpcXG5dJyxcbiAgICBzZWN0aW9uTGFuZ2F1Z2VzOiAnXFxuKD86JyArICdsYW5ndWFnZXMnICsgJylbOlxcbl0nLFxuICAgIHNlY3Rpb25TcGVsbHM6ICdcXG4oPzonICsgJ3NwZWxscycgKyAnKVs6XFxuXScsXG4gICAgaGFuZGd1bjpcbiAgICAgICcoPzx0eXBlPicgK1xuICAgICAgJyBHdW58UmV2b2x2ZXJ8UGlzdG9sfEhhbmRndW58RGVycmluZ2VyfEJlcmV0dGF8THVnZXJ8RGVzZXJ0IEVhZ2xlfCBcXFxcLjM4JyArXG4gICAgICAnKScsXG4gICAgcmlmbGU6XG4gICAgICAnKD88dHlwZT4nICsgJ1JpZmxlfFNob3RndW58Q2FyYmluZXxHYXVnZSB8TGVlLUVuZmllbGR8RWxlcGhhbnQnICsgJyknLFxuICAgIHNtYjogJyg/PHR5cGU+JyArICdTdWJtYWNoaW5lIEd1bnxUaG9tcHNvbicgKyAnKScsXG4gICAgbWFjaGluZUd1bjogJyg/PHR5cGU+JyArICdCcm93bmluZ3xWaWNrZXJzJyArICcpJyxcbiAgICBsYXVuY2hlZDogJyg/PHR5cGU+JyArICdNb2xvdG92fEdyZW5hZGV8RHluYW1pdGUnICsgJyknLFxuICAgIGV4YW1wbGU6XG4gICAgICAnRXhhbXBsZSBDaGFyYWN0ZXIsIGFnZSAyN1xcblNUUiA3NSBDT04gNjAgU0laIDgwIERFWCA3MCBBUFAgNjAgSU5UIDgwXFxuUE9XIDUwIEVEVSA4NSBTQU4gNTUgSFAgMTQgREI6IDFENFxcbkJ1aWxkOiAxIE1vdmU6IDcgTVA6IDEwIEx1Y2s6IDQwIEFybW9yOiAxXFxuQXR0YWNrcyBwZXIgcm91bmQ6IDMgU0FOIGxvc3M6IDFkNC8xZDhcXG5Db21iYXRcXG5CaXRlIDUwJSAoMjUvMTApLCBkYW1hZ2UgMUQ2XFxuQnJhd2wgMzAlICgxNS82KSwgZGFtYWdlIDFEM1xcbkRlcnJpbmdlciA0MCUgKDIwLzgpLCBkYW1hZ2UgMUQ4KzFcXG5Eb2RnZSA1MCUgKDI1LzEwKVxcblNraWxsc1xcbkFuaW1hbCBIYW5kbGluZyA1NSUsIENoYXJtIDMwJSwgRmlyc3QgQWlkIDI1JSwgRGlzZ3Vpc2UgMjAlLFxcbkxpc3RlbiA1MCUsIE1lZGljaW5lIDQ1JSwgUGVyc3VhZGUgMjUlLCBQc3ljaG9sb2d5IDc1JSxcXG5TY2llbmNlIChBc3Ryb25vbXkpIDkwJSwgU2NpZW5jZSAoQm90YW55KSAzNSUsIFNjaWVuY2UgKFpvb2xvZ3kpIDEwJSxcXG5TcG90IEhpZGRlbiAzNSUsIFN0ZWFsdGggMTAlXFxuTGFuZ3VhZ2VzOiBFbmdsaXNoIDgwJSwgRWtsbyA1JS5cXG5TcGVsbHM6IFN1bW1vbiBOUEMsIERpc3BlbCBOUEMuJ1xuICB9LFxuICBkZToge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5HZXJtYW4nLFxuICAgIGRiTm9uZTogJ25vbmUnLFxuICAgIGFybW9yTm9uZTogJ25vbmUnLFxuICAgIGF0dGFja3NQZXJSb3VuZE5vbmU6ICdub25lJyxcbiAgICBzYW5Mb3NzTm9uZTogJ25vbmUnLFxuICAgIGRpY2VTaG9ydDogJ3d8ZCcsXG4gICAgZnVsbGRiOiAnKCcgKyAnU2NoYWRlbnNib251c3xTYicgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18MS8yIFNjaGFkZW5zYm9udXN8U2IvMicgKyAnKScsXG4gICAgc2VjdGlvbkNvbWJhdHM6ICdcXG4oPzonICsgJ0thbXBmfEFuZ3JpZmY6fEFOR1JJRkZFJyArICcpWzpcXG5dJyxcbiAgICBuZXdDb21iYXRIZWFkZXI6ICdcXG4nICsgJ0thbXBmJyArICdcXG4nLFxuICAgIHNlY3Rpb25Ta2lsbHM6ICdcXG4oPzonICsgJ0ZlcnRpZ2tlaXRlbicgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnU3ByYWNoZW4nICsgJylbOlxcbl0nLFxuICAgIHNlY3Rpb25TcGVsbHM6ICdcXG4oPzonICsgJ1phdWJlcicgKyAnKVs6XFxuXScsXG4gICAgaGFuZGd1bjpcbiAgICAgICcoPzx0eXBlPicgK1xuICAgICAgJyBHdW58UmV2b2x2ZXJ8UGlzdG9sZXxIYW5kZ3VufERlcnJpbmdlcnxCZXJldHRhfEx1Z2VyfERlc2VydCBFYWdsZXwgXFxcXC4zOCcgK1xuICAgICAgJyknLFxuICAgIHJpZmxlOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnR2V3ZWhyfFNjaHJvdGZsaW50ZXxDYXJhYmluZXJ8S2FyYWJpbmVyfEdhdWdlIHxMZWUtRW5maWVsZHxFbGVmYW50ZW4nICtcbiAgICAgICcpJyxcbiAgICBzbWI6ICcoPzx0eXBlPicgKyAnU3VibWFjaGluZSBHdW58VGhvbXBzb24nICsgJyknLFxuICAgIG1hY2hpbmVHdW46ICcoPzx0eXBlPicgKyAnQnJvd25pbmd8Vmlja2VycycgKyAnKScsXG4gICAgbGF1bmNoZWQ6ICcoPzx0eXBlPicgKyAnTW9sb3RvdnxHcmFuYXRlfER5bmFtaXQnICsgJyknLFxuICAgIGV4YW1wbGU6XG4gICAgICAnVm9ybmFtZSBOYWNobmFtZVxcbkFsdGVyOiAyOVxcbkJlcnVmOiBFaW4gQmVydWZcXG5TVCA1MFxcbk1BIDYwXFxuS08gNjBcXG5HRSA2MFxcbkdSIDU1XFxuRVIgNjVcXG5JTiA4MFxcbkJJIDg1XFxuVHJlZmZlcnB1bmt0ZTogMTFcXG5HZWlzdGlnZSBTdGFiaWxpdMOkdDogNjBcXG5TY2hhZGVuc2JvbnVzOiAwXFxuU3RhdHVyOiAwXFxuTWFnaWVwdW5rdGU6IDEyXFxuQmV3ZWd1bmdzd2VpdGU6IDhcXG5cXG5LYW1wZlxcbkFuZ3JpZmZlOiAxXFxuSGFuZGdlbWVuZ2UgMzAlICgxNS82KSwgU2NoYWRlbiAxRDNcXG5NZXNzZXIgMzAlICgxNS82KSwgU2NoYWRlbiAxRDRcXG5BdXN3ZWljaGVuIDMwJSAoMTUvNilcXG5cXG5GZXJ0aWdrZWl0ZW46IEFudGhyb3BvbG9naWUgNzAlICgzNS8xNCksIEFyY2jDpG9sb2dpZSAzMCUgKDE1LzYpLCBCaWJsaW90aGVrc251dHp1bmcgNTAlICgyNS8xMCksIEVyc3RlIEhpbGZlIDUwJSAoMjUvMTApLCBGaW5hbnprcmFmdCA0MCUgKDIwLzgpLCBHZXNjaGljaHRlIDYwJSAoMzAvMTIpLCBLbGV0dGVybiA1MCUgKDI1LzEwKVxcblxcblNwcmFjaGVuOiBFbmdsaXNjaCA4NSUgKDQyLzE3KTsgRGV1dHNjaCA0NSUgKDIyLzkpLCBMYXRlaW4gNDUlICgyMi85KSdcbiAgfSxcbiAgcGw6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvQzcuUG9saXNoJyxcbiAgICBkYk5vbmU6ICdicmFrJyxcbiAgICBhcm1vck5vbmU6ICdicmFrJyxcbiAgICBhdHRhY2tzUGVyUm91bmROb25lOiAnYnJhaycsXG4gICAgc2FuTG9zc05vbmU6ICdicmFrJyxcbiAgICBkaWNlU2hvcnQ6ICdrfGQnLFxuICAgIGZ1bGxkYjogJygnICsgJ01vZHlmaWthdG9yIE9icmHFvGXFhHxNTycgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18MS8yIE1PfE1PLzInICsgJyknLFxuICAgIHNlY3Rpb25Db21iYXRzOiAnXFxuKD86JyArICdXYWxrYXxBdGFraScgKyAnKVs6XFxuXScsXG4gICAgbmV3Q29tYmF0SGVhZGVyOiAnXFxuJyArICdXYWxrYScgKyAnXFxuJyxcbiAgICBzZWN0aW9uU2tpbGxzOiAnXFxuKD86JyArICdVbWllasSZdG5vxZtjaScgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnSsSZenlraScgKyAnKVs6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnWmFrbMSZY2lhJyArICcpWzpcXG5dJyxcbiAgICBoYW5kZ3VuOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnIFBpc3RvbGV0fFJld29sd2VyfERlcnJpbmdlcnxCZXJldHRhfEx1Z2VyfERlc2VydCBFYWdsZXwgXFxcXC4zOCcgK1xuICAgICAgJyknLFxuICAgIHJpZmxlOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnS2FyYWJpbnxTdHJ6ZWxiYXxXaWF0csOzd2thfEdhcmFuZHxHYXVnZSB8TGVlLUVuZmllbGR8U3RyemVsYmEgbmEgc8WCb25pZScgK1xuICAgICAgJyknLFxuICAgIHNtYjogJyg/PHR5cGU+JyArICdQaXN0b2xldCBtYXN6eW5vd3l8VGhvbXBzb24nICsgJyknLFxuICAgIG1hY2hpbmVHdW46ICcoPzx0eXBlPicgKyAnQnJvd25pbmd8Vmlja2VycycgKyAnKScsXG4gICAgbGF1bmNoZWQ6ICcoPzx0eXBlPicgKyAnTW/Fgm90b3dhfEdyYW5hdHxMYXNrYSBkeW5hbWl0dXxEeW5hbWl0JyArICcpJyxcbiAgICBleGFtcGxlOlxuICAgICAgJ1ByenlrxYJhZG93YSBwb3N0YcSHLCAyNyBsYXRcXG5CaWJsaW90ZWthcnpcXG5TIDc1IEtPTiA2MCBCQyA4MCBaUiA3MCBXWUcgNjAgSU5UIDgwXFxuTU9DIDUwIFdZSyA4NSBQIDU1IFBXIDE0IE1POiAxRDRcXG5LcnplcGE6IDEgUnVjaDogNyBQTTogMTAgU3pjesSZxZtjaWU6IDQwIFBhbmNlcno6IDFcXG5BdGFraSB3IHJ1bmR6aWU6IDMgVXRyYXRhIFBvY3p5dGFsbm/Fm2NpOiAxSzQvMUs4XFxuV2Fsa2FcXG5VZ3J5emllbmllIDUwJSAoMjUvMTApLCBvYnJhxbxlbmlhIDFLNlxcbldhbGthIDMwJSAoMTUvNiksIG9icmHFvGVuaWEgMUszXFxuRGVycmluZ2VyIDQwJSAoMjAvOCksIG9icmHFvGVuaWEgMUs4KzFcXG5VbmlrIDUwJSAoMjUvMTApXFxuVW1pZWrEmXRub8WbY2lcXG5UcmVzdXJhIFp3aWVyesSFdCA1NSUsIFVyb2sgT3NvYmlzdHkgMzAlLCBQaWVyd3N6YSBQb21vYyAyNSUsIFVrcnl3YW5pZSAyMCUsXFxuTmFzxYJ1Y2hpd2FuaWUgNTAlLCBNZWR5Y3luYSA0NSUsIFByemVrb255d2FuaWUgMjUlLCBQc3ljaG9sb2dpYSA3NSUsXFxuTmF1a2EgKEFzdHJvbm9taWEpIDkwJSwgTmF1a2EgKEJvdGFuaWthKSAzNSUsIE5hdWthIChab29sb2dpYSkgMTAlLFxcblNwb3N0cnplZ2F3Y3pvxZvEhyAzNSUsIFVrcnl3YW5pZSAxMCVcXG5KxJl6eWtpOiBBbmdpZWxza2kgODAlLCBFa2xvIDUlLlxcblpha2zEmWNpYTogUHJ6eXp3YW5pZSBOUEMsIE9kZXPFgmFuaWUgTlBDLidcbiAgfSxcbiAgZnI6IHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvQzcuRnJlbmNoJyxcbiAgICBkYk5vbmU6ICdBY3VuZScsXG4gICAgYXJtb3JOb25lOiAnKD86QWN1bmV8YXVjdW5lKScsXG4gICAgYXR0YWNrc1BlclJvdW5kTm9uZTogJ0FjdW5lJyxcbiAgICBzYW5Mb3NzTm9uZTogJ0FjdW5lJyxcbiAgICBmdWxsZGI6ICcoJyArICdCRHxCb251cyBhdXggZG9tbWFnZXN8SW1wYWN0fEltcCcgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18MS8yIEltcHxJbXAvMicgKyAnKScsXG4gICAgc2VjdGlvbkNvbWJhdHM6ICdcXG4oPzonICsgJ0NvbWJhdHxBcm1lc3xBdHRhcXVlcycgKyAnKVs6XFxuXScsXG4gICAgbmV3Q29tYmF0SGVhZGVyOiAnXFxuJyArICdDb21iYXQnICsgJ1xcbicsXG4gICAgc2VjdGlvblNraWxsczogJ1xcbig/OicgKyAnQ29tcMOpdGVuY2VzJyArICcoPzpcXFxccypcXFxcKFteXFxcXCldK1xcXFwpKT8pWzpcXG5dJyxcbiAgICBzZWN0aW9uTGFuZ2F1Z2VzOiAnXFxuKD86JyArICdMYW5ndWVzPycgKyAnKVxcXFxzKls6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnU29ydGlsw6hnZXNcXFxccyp8U29ydHMnICsgJylbOlxcbl0nLFxuICAgIGhhbmRndW46XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICdSZXZvbHZlcnxQaXN0b2xldHxEZXJyaW5nZXJ8QmVyZXR0YXxMdWdlcnxEZXNlcnQgRWFnbGV8IFxcXFwuMzgnICtcbiAgICAgICcpJyxcbiAgICByaWZsZTogJyg/PHR5cGU+JyArICdDYXJhYmluZXxMZWUtRW5maWVsZHxGdXNpbCcgKyAnKScsXG4gICAgc21iOiAnKD88dHlwZT4nICsgJ1NNR3xUaG9tcHNvbicgKyAnKScsXG4gICAgbWFjaGluZUd1bjogJyg/PHR5cGU+JyArICdCcm93bmluZ3xWaWNrZXJzfE1pdHJhaWxsZXVzZScgKyAnKScsXG4gICAgbGF1bmNoZWQ6XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICdCb29tZXJhbmcgZGUgZ3VlcnJlfEphdmVsaW5lfFBpZXJyZXxTaHVyaWtlbnxCw6J0b24gZGUgZHluYW1pdGV8Q29ja3RhaWwgTW9sb3RvdnxHcmVuYWRlIMOgIG1haW58TW9sb3RvdnxHcmVuYWRlfER5bmFtaXRlJyArXG4gICAgICAnKScsXG4gICAgZXhhbXBsZTpcbiAgICAgICdFeGFtcGxlIENoYXJhY3RlciwgMjcgYW5zXFxuRk9SIDc1IENPTiA2MCBUQUkgODAgREVYIDcwIEFQUCA2MCBJTlQgODBcXG5QT1UgNTAgw4lEVSA4NSBTQU4gNTUgUFYgMTQgQkQ6IDFENFxcbkNhcnJ1cmU6IDEgTXZ0OiA3IFBNOiAxMCBDaGFuY2U6IDQwIEFybXVyZTogMVxcbkF0dGFxdWVzIHBhciByb3VuZCAzIFBlcnRlIGRlIFNBTjogMWQ0LzFkOFxcbkF0dGFxdWVzXFxuQml0ZSA1MCUgKDI1LzEwKSwgZG9tbWFnZSAxRDZcXG5CcmF3bCAzMCUgKDE1LzYpLCBkb21tYWdlIDFEM1xcbkRlcnJpbmdlciA0MCUgKDIwLzgpLCBkb21tYWdlIDFEOCsxXFxuRXNxdWl2ZXIgNTAlICgyNS8xMClcXG5Db21ww6l0ZW5jZXNcXG5BbmltYWwgSGFuZGxpbmcgNTUlLCBDaGFybSAzMCUsIEZpcnN0IEFpZCAyNSUsIERpc2d1aXNlIDIwJSxcXG5MaXN0ZW4gNTAlLCBNZWRpY2luZSA0NSUsIFBlcnN1YWRlIDI1JSwgUHN5Y2hvbG9neSA3NSUsXFxuU2NpZW5jZSAoQXN0cm9ub215KSA5MCUsIFNjaWVuY2UgKEJvdGFueSkgMzUlLCBTY2llbmNlIChab29sb2d5KSAxMCUsXFxuU3BvdCBIaWRkZW4gMzUlLCBTdGVhbHRoIDEwJVxcbkxhbmd1ZTogRW5nbGlzaCA4MCUsIEVrbG8gNSUuXFxuU29ydGlsw6hnZXM6IFN1bW1vbiBOUEMsIERpc3BlbCBOUEMuJ1xuICB9LFxuICBlczoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5TcGFuaXNoJyxcbiAgICBkYk5vbmU6ICduaW5ndW5hJyxcbiAgICBhcm1vck5vbmU6ICduaW5ndW5hJyxcbiAgICBhdHRhY2tzUGVyUm91bmROb25lOiAnbmluZ3VubycsXG4gICAgc2FuTG9zc05vbmU6ICdubycsXG4gICAgZnVsbGRiOiAnKCcgKyAnQkR8YmR8Ym9uaWZpY2FjacOzbiBkZSBkYcOxbycgKyAnKScsXG4gICAgaGFsZmRiOiAnKCcgKyAnwr18bWVkaW8gZGHDsW98bWl0YWR8ZGHDsW8gYSBsYSBtaXRhZCcgKyAnKScsXG4gICAgc2VjdGlvbkNvbWJhdHM6ICdcXG4oPzonICsgJ0NvbWJhdGV8QXJtYXMnICsgJylbOlxcbl0nLFxuICAgIG5ld0NvbWJhdEhlYWRlcjogJ1xcbicgKyAnQ29tYmF0ZScgKyAnXFxuJyxcbiAgICBzZWN0aW9uU2tpbGxzOiAnXFxuKD86JyArICdIYWJpbGlkYWRlcycgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnSWRpb21hc3xMZW5ndWFqZXN8TGVuZ3VhcycgKyAnKVs6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnQ29uanVyb3N8SGVjaGl6b3MnICsgJylbOlxcbl0nLFxuICAgIGhhbmRndW46XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICdSZXZvbHZlcnxQaXN0b2xhfERlcnJpbmdlcnxCZXJldHRhfEx1Z2VyfERlc2VydCBFYWdsZXwgXFxcXC4zOCcgK1xuICAgICAgJyknLFxuICAgIHJpZmxlOlxuICAgICAgJyg/PHR5cGU+JyArXG4gICAgICAnUmlmbGV8Q2FyYWJpbmF8TGVlLUVuZmllbGR8Q2F6YSBFbGVmYW50ZXN8RnVzaWx8RXNjb3BldGF8R2FsZ2F8UmVjb3J0YWRhJyArXG4gICAgICAnKScsXG4gICAgc21iOiAnKD88dHlwZT4nICsgJ1N1YmZ1c2lsfFRob21wc29uJyArICcpJyxcbiAgICBtYWNoaW5lR3VuOiAnKD88dHlwZT4nICsgJ0Jyb3duaW5nfFZpY2tlcnN8QW1ldHJhbGxhZG9yYScgKyAnKScsXG4gICAgbGF1bmNoZWQ6ICcoPzx0eXBlPicgKyAnTW9sb3RvdnxHcmFuYWRhfERpbmFtaXRhJyArICcpJyxcbiAgICBleGFtcGxlOlxuICAgICAgJ0V4YW1wbGUgQ2hhcmFjdGVyLCAyNyBhw7Fvc1xcbkZVRSA3NSBDT04gNjAgVEFNIDgwIERFUyA3MCBBUEEgNjAgSU5UIDgwXFxuUE9EIDUwIEVEVSA4NSBDT1IgNTUgUFYgMTQgQkQ6IDFENFxcbkNvcnB1bGVuY2lhOiAxIE1vdmltaWVudG86IDcgUE06IDEwIFN1ZXJ0ZTogNDAgQXJtYWR1cmE6IDFcXG5Ow7ptZXJvIGRlIEF0YXF1ZXMgMyBQw6lyZGlkYSBkZSBjb3JkdXJhOiAxZDQvMWQ4XFxuQ29tYmF0ZVxcbkJpdGUgNTAlICgyNS8xMCksIGRhw7FvIDFENlxcbkJyYXdsIDMwJSAoMTUvNiksIGRhw7FvIDFEM1xcbkRlcnJpbmdlciA0MCUgKDIwLzgpLCBkYcOxbyAxRDgrMVxcbkVzcXVpdmFyIDUwJSAoMjUvMTApXFxuSGFiaWxpZGFkZXNcXG5BbmltYWwgSGFuZGxpbmcgNTUlLCBDaGFybSAzMCUsIEZpcnN0IEFpZCAyNSUsIERpc2d1aXNlIDIwJSxcXG5MaXN0ZW4gNTAlLCBNZWRpY2luZSA0NSUsIFBlcnN1YWRlIDI1JSwgUHN5Y2hvbG9neSA3NSUsXFxuU2NpZW5jZSAoQXN0cm9ub215KSA5MCUsIFNjaWVuY2UgKEJvdGFueSkgMzUlLCBTY2llbmNlIChab29sb2d5KSAxMCUsXFxuU3BvdCBIaWRkZW4gMzUlLCBTdGVhbHRoIDEwJVxcbklkaW9tYXM6IEVuZ2xpc2ggODAlLCBFa2xvIDUlLlxcbkNvbmp1cm9zOiBTdW1tb24gTlBDLCBEaXNwZWwgTlBDLidcbiAgfSxcbiAgJ3poLVRXJzoge1xuICAgIGRlc2NyaXB0aW9uOiAnQ29DNy5UcmFkaXRpb25hbENoaW5lc2UnLFxuICAgIGRiTm9uZTogJ25vbmUnLFxuICAgIGFybW9yTm9uZTogJ25vbmUnLFxuICAgIGF0dGFja3NQZXJSb3VuZE5vbmU6ICdub25lJyxcbiAgICBzYW5Mb3NzTm9uZTogJ25vbmUnLFxuICAgIGZ1bGxkYjogJygnICsgJ0RhbWFnZSBCb251c3xEQnzlgrflrrPliqDlgLwnICsgJyknLFxuICAgIC8qIE5FVyBLRVkgQkVMT1cgLSBUUkFOU0xBVElPTiBSRVFVSVJFRCAqL1xuICAgIGhhbGZkYjogJygnICsgJ8K9fGhhbGYnICsgJyknLFxuICAgIHNlY3Rpb25Db21iYXRzOlxuICAgICAgJ1xcbig/OicgKyAnY29tYmF0fGZpZ2h0aW5nIGF0dGFja3N85oiw6ayl5oqA6IO9fOaIsOmspeWIl+ihqHzmrablmagnICsgJylbOlxcbl0nLFxuICAgIG5ld0NvbWJhdEhlYWRlcjogJ1xcbicgKyAnQ29tYmF0JyArICdcXG4nLFxuICAgIHNlY3Rpb25Ta2lsbHM6XG4gICAgICAnXFxuKD86JyArICcoPzpTa2lsbHN85oqA6IO95YiX6KGoKScgKyAnKD86XFxcXHMqXFxcXChbXlxcXFwpXStcXFxcKSk/KVs6XFxuXScsXG4gICAgc2VjdGlvbkxhbmdhdWdlczogJ1xcbig/OicgKyAnTGFuZ3VhZ2VzfOiqnuiogCcgKyAnKVs6XFxuXScsXG4gICAgc2VjdGlvblNwZWxsczogJ1xcbig/OicgKyAnc3BlbGxzfOWSkuaWh+WIl+ihqHzlkpLmlocnICsgJylbOlxcbl0nLFxuICAgIGhhbmRndW46XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICcg6YGC55m85qeNfFxcXFwuMjLnn63lj6Poh6rli5XmiYvmp418XFxcXC4yNeefreWPo+aJi+anjSjllq7nrqEpfFxcXFwuMzLmiJY3XFxcXC42NW1t5bem6Lyq5omL5qeNfFxcXFwuMzLmiJY3XFxcXC42NW1t6Ieq5YuV5omL5qeNfFxcXFwuMzU3IE1hZ251beW3pui8quaJi+anjXxcXFxcLjM45oiWOW1t5bem6Lyq5omL5qeNfFxcXFwuMzjoh6rli5XmiYvmp4186LKd6Zu35aGUTTl85qC85rSb5YWLMTd8OW1t6Ieq5YuV5omL5qeNfOmtr+agvFAwOHxcXFxcLjQx5bem6Lyq5omL5qeNfFxcXFwuNDTppqzmoLzljZflt6bovKrmiYvmp418XFxcXC40NeW3pui8quaJi+anjXxcXFxcLjQ16Ieq5YuV5omL5qeNfOaymea8oOS5i+m3uXxHdW58UmV2b2x2ZXJ8UGlzdG9sfEhhbmRndW58RGVycmluZ2VyfEJlcmV0dGF8THVnZXJ8RGVzZXJ0IEVhZ2xlfCBcXFxcLjM4JyArXG4gICAgICAnKScsXG4gICAgcmlmbGU6XG4gICAgICAnKD88dHlwZT4nICtcbiAgICAgICfmraXmp4185Y2h6LOT5qeNfOWNiuiHquWLleatpeanjXznjbXosaHmp418UmlmbGV8U2hvdGd1bnxDYXJiaW5lfEdhdWdlIHxMZWUtRW5maWVsZHxFbGVwaGFudCcgK1xuICAgICAgJyknLFxuICAgIHNtYjogJyg/PHR5cGU+JyArICdTdWJtYWNoaW5lIEd1bnxUaG9tcHNvbnzooZ3pi5Lmp40nICsgJyknLFxuICAgIG1hY2hpbmVHdW46ICcoPzx0eXBlPicgKyAnQnJvd25pbmd8Vmlja2Vyc3zmqZ/mp40nICsgJyknLFxuICAgIGxhdW5jaGVkOiAnKD88dHlwZT4nICsgJ01vbG90b3Z8R3JlbmFkZXxEeW5hbWl0ZeeIhueCuOeJqXzmiYvmprTlvYh86YeN5q2m5ZmoJyArICcpJyxcbiAgICBleGFtcGxlOlxuICAgICAgJ+ekuuevhOinkuiJsiwg5bm06b2hIDI3XFxu5Yqb6YePIDc1IOmrlOizqiA2MCDpq5TlnosgODAg5pWP5o23IDcwIOWkluiyjiA2MCDmmbrlipsgODBcXG7mhI/lv5cgNTAg5pWZ6IKyIDg1IFNBTiA1NSBIUCAxNCBEQjogMUQ0XFxu6auU5qC8OiAxIE1vdmU6IDcgTVA6IDEwIOW5uOmBizogNDAg6K2355SyOiAxXFxu5pS75pOK5qyh5pW4OiAzIOeQhuaZuuWWquWksTogMWQ0LzFkOFxcbuaIsOmspeWIl+ihqFxcbuWSrCA1MCUgKDI1LzEwKSwg5YK35a6zIDFENlxcbuepuuaJiyAzMCUgKDE1LzYpLCDlgrflrrMgMUQzXFxu5omL5qeNIDQwJSAoMjAvOCksIOWCt+WusyAxRDgrMVxcbumWg+mBvyA1MCUgKDI1LzEwKVxcbuaKgOiDveWIl+ihqFxcbuWLleeJqemmtOmkiiA1NSUsIOWPluaChSAzMCUsIOaApeaVkSAyNSUsIOa9m+ihjCAyMCUsXFxu6IGG6IG9IDUwJSwg6Jel5a24IDQ1JSwg57K+56We5YiG5p6QIDI1JSwg5b+D55CG5a24IDc1JSxcXG7np5HlrbggKOWPuOazleenkeWtuCkgOTAlLCDnp5HlrbggKOWvhueivOWtuCkgMzUlLCBcXG7lgbXmn6UgMzUlLCDllqzoo50gMTAlXFxu6Kqe6KiAOiDnsrXoqp4gODAlLCDoroDllIcgNSUuXFxu5ZKS5paHOiDlj6zllpogTlBDLCDmjIfmj64gTlBDLidcbiAgfVxufVxuXG5jb25zdCB0cmFuc2xhdGlvbnMgPSB7XG4gIGVuOiB7XG4gICAgYWdlOiAnKD88IVthLXpdKScgKyAnYWdlJyArICcoXFxcXHMqOik/XFxcXHMrKD88YWdlPlxcXFxkKylbLFxcXFxzXSonLFxuICAgIG9jY3VwYXRpb246XG4gICAgICAnWyxcXFxcc10qJyArICdPY2N1cGF0aW9uJyArICcoXFxcXHMqOik/XFxcXHMrKD88b2NjdXBhdGlvbj4uKylbLFxcXFxzXFxuXSonLFxuICAgIHN0cjogJyg/PCFbYS16XSknICsgJ1NUUicgKyAnKFxcXFxzKjopP1xcXFxzKig/PHN0cj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGNvbjogJyg/PCFbYS16XSknICsgJ0NPTicgKyAnKFxcXFxzKjopP1xcXFxzKig/PGNvbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNpejogJyg/PCFbYS16XSknICsgJ1NJWicgKyAnKFxcXFxzKjopP1xcXFxzKig/PHNpej5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGludDogJyg/PCFbYS16XSknICsgJ0lOVCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGludD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHBvdzogJyg/PCFbYS16XSknICsgJ1BPVycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHBvdz5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRleDogJyg/PCFbYS16XSknICsgJ0RFWCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGRleD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGFwcDogJyg/PCFbYS16XSknICsgJ0FQUCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGFwcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGVkdTogJyg/PCFbYS16XSknICsgJ0VEVScgKyAnKFxcXFxzKjopP1xcXFxzKig/PGVkdT5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArICdTQU58U2FuaXR5JyArICcpKFxcXFxzKjopP1xcXFxzKig/PHNhbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGhwOlxuICAgICAgJyg/PCFbYS16XSkoPzonICsgJ0hQfEhpdCBwb2ludHMnICsgJykoXFxcXHMqOik/XFxcXHMqKD88aHA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBtcDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnTVB8TWFnaWMgcG9pbnRzJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxtcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRiOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgIGtleXMuZW4uZnVsbGRiICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGRiPlsrLV0/XFxcXGQrKD86ZFxcXFxkK3xEXFxcXGQrKT98JyArXG4gICAgICBrZXlzLmVuLmRiTm9uZSArXG4gICAgICAnKVssXFxcXHNcXG5dKicsXG4gICAgYnVpbGQ6ICcoPzwhW2Etel0pJyArICdCdWlsZCcgKyAnKFxcXFxzKjopP1xcXFxzKyg/PGJ1aWxkPlsrLV0/XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgYXJtb3I6XG4gICAgICAnKD88IVthLXpdKScgK1xuICAgICAgJ0FybW9yJyArXG4gICAgICAnKFxcXFxzKjopP1xcXFxzKyg/PGFybW9yPicgK1xuICAgICAga2V5cy5lbi5hcm1vck5vbmUgK1xuICAgICAgJ3xcXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBtb3Y6ICcoPzwhW2Etel0pJyArICdNb3ZlJyArICcoXFxcXHMqOik/XFxcXHMqKD88bW92PlxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIGxjazogJyg/PCFbYS16XSknICsgJ0x1Y2snICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0F0dGFja3MgcGVyIHJvdW5kfCMgQXR0YWNrcycgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88YXR0YWNrc1BlclJvdW5kPicgK1xuICAgICAga2V5cy5lbi5hdHRhY2tzUGVyUm91bmROb25lICtcbiAgICAgICd8XFxcXGQrKD8hZCkpWyxcXFxcc1xcbl0qJyxcbiAgICBzYW5Mb3NzOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdTYW5pdHkgbG9zc3xTQU4gbG9zcycgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88c2FuTG9zcz4nICtcbiAgICAgIGtleXMuZW4uc2FuTG9zc05vbmUgK1xuICAgICAgJ3xcXFxcZEQ/WytcXFxcZF0qXFxcXC9cXFxcZEQ/WytcXFxcZF0qKVssXFxcXHNcXG5dKicsXG4gICAgd2VhcG9uOlxuICAgICAgJyhefFxcXFxuKSg/PG5hbWU+Wy5cXFxcdCAnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKykoXFxcXCoqLD9cXFxccyt8XFxcXCopKD86XFxcXCh8KD88cGVyY2VudGFnZT5cXFxcZCspJSw/KD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpXFxcXHMqLD8pPyk/KFxcXFxzKicgK1xuICAgICAgJ2RhbWFnZScgK1xuICAgICAgJyk/XFxcXHMrKD88ZGFtYWdlPig6Pyg6P1xcXFxkK2QpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZW4uZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVuLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnRG9kZ2UnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVxcXFwpP1xcXFxzKiUoPzpcXFxccypcXFxcKFxcXFxkK1xcXFwvXFxcXGQrXFxcXCkpPycsXG4gICAgLy8gU2tpbGwgc2hvdWxkIG5vdCBiZSBuYW1lZCBcIlRoZSBwbGF5ZXIgaGFzXCIgLyBcImJ1dCB0aGV5IHJlZ2VuZXJhdGVcIiByZXF1aXJlZCBmb3IgXCJBIENvbGQgRmlyZSBXaXRoaW5cIlxuICAgIHNraWxsOlxuICAgICAgJ14oPzxuYW1lPls6XFxcXCouXFxcXHMnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKyg/PCEnICtcbiAgICAgICdUaGUgcGxheWVyIGhhc3xidXQgdGhleSByZWdlbmVyYXRlJyArXG4gICAgICAnKSlcXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylbXmRdJT9cXFxcKT8oXFxcXHMqXFxcXChcXFxcZCsvXFxcXGQrXFxcXCkpP1tcXFxcLixdP1xcXFxzKicsXG4gICAgZ3Vlc3NTdGFydENvbWJhdDogJyhefCg/PCEsKVxcbikoJyArICdGaWdodGluZ3xGaXJlYXJtc3xCcmF3bHxCaXRlJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLmVuLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVuLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZW4uc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5lbi5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBkZToge1xuICAgIGFnZTogJyg/PCFbYS16XSknICsgJ0FsdGVyJyArICcoXFxcXHMqOik/XFxcXHMrKD88YWdlPlxcXFxkKylbLFxcXFxzXSonLFxuICAgIG9jY3VwYXRpb246ICdbLFxcXFxzXSonICsgJ0JlcnVmJyArICcoXFxcXHMqOik/XFxcXHMrKD88b2NjdXBhdGlvbj4uKylbLFxcXFxzXFxuXSonLFxuICAgIHN0cjogJyg/PCFbYS16XSknICsgJ1NUJyArICcoXFxcXHMqOik/XFxcXHMqKD88c3RyPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgY29uOiAnKD88IVthLXpdKScgKyAnS08nICsgJyhcXFxccyo6KT9cXFxccyooPzxjb24+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzaXo6ICcoPzwhW2Etel0pJyArICdHUicgKyAnKFxcXFxzKjopP1xcXFxzKig/PHNpej5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGludDogJyg/PCFbYS16XSknICsgJ0lOJyArICcoXFxcXHMqOik/XFxcXHMqKD88aW50PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgcG93OiAnKD88IVthLXpdKScgKyAnTUEnICsgJyhcXFxccyo6KT9cXFxccyooPzxwb3c+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkZXg6ICcoPzwhW2Etel0pJyArICdHRScgKyAnKFxcXFxzKjopP1xcXFxzKig/PGRleD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGFwcDogJyg/PCFbYS16XSknICsgJ0VSJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnQkknICsgJyhcXFxccyo6KT9cXFxccyooPzxlZHU+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzYW46XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ2dTfFNUQXxHZWlzdGlnZSBTdGFiaWxpdMOkdCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88c2FuPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaHA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1RQfFRyZWZmZXJwdW5rdGUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PGhwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgbXA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ01QfE1hZ2llcHVua3RlJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxtcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRiOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgIGtleXMuZGUuZnVsbGRiICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGRiPlsrLV0/XFxcXGQrKD86ZFxcXFxkK3xEfFdcXFxcZCspP3wnICtcbiAgICAgIGtleXMuZGUuZGJOb25lICtcbiAgICAgICcpWyxcXFxcc1xcbl0qJyxcbiAgICBidWlsZDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnU3RhdHVyfFN0YXQuJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxidWlsZD5bKy1dP1xcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIGFybW9yOlxuICAgICAgJyg/PCFbYS16XSknICtcbiAgICAgICdQYW56ZXJ1bmcnICtcbiAgICAgICcoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLmRlLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnQld8QmV3ZWd1bmdzd2VpdGUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PG1vdj5cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBsY2s6ICcoPzwhW2Etel0pJyArICdHbMO8Y2snICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0FuZ3JpZmZlIHBybyBSdW5kZXxBbmdyaWZmZXxQcm8gUnVuZGUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGF0dGFja3NQZXJSb3VuZD4nICtcbiAgICAgIGtleXMuZGUuYXR0YWNrc1BlclJvdW5kTm9uZSArXG4gICAgICAnfFxcXFxkKyg/IWQpKVssXFxcXHNcXG5dKicsXG4gICAgc2FuTG9zczpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnU3RhYmlsaXTDpHRzdmVybHVzdCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88c2FuTG9zcz4nICtcbiAgICAgIGtleXMuZGUuc2FuTG9zc05vbmUgK1xuICAgICAgJ3xcXFxcZFtEV10/WytcXFxcZF0qXFxcXC9cXFxcZFtEV10/WytcXFxcZF0qKVssXFxcXHNcXG5dKicsXG4gICAgd2VhcG9uOlxuICAgICAgJyhefFxcXFxuKSg/PG5hbWU+Wy5cXFxcdCAnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKykoXFxcXCoqLD9cXFxccyt8XFxcXCopKD86XFxcXCh8KD88cGVyY2VudGFnZT5cXFxcZCspJSw/KD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpXFxcXHMqLD8pPyk/KFxcXFxzKicgK1xuICAgICAgJ1NjaGFkZW4nICtcbiAgICAgICcpP1xcXFxzKyg/PGRhbWFnZT4oOj8oOj9cXFxcZCt3fGQpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZGUuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmRlLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZHx3KT9cXFxcZCspKikrKVxcXFwpPycsXG4gICAgd2VhcG9uRG9kZ2U6XG4gICAgICAnKD88bmFtZT4nICtcbiAgICAgICdBdXN3ZWljaGVuJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylcXFxcKT9cXFxccyolKD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpKT8nLFxuICAgIC8vIFNraWxsIHNob3VsZCBub3QgYmUgbmFtZWQgXCJUaGUgcGxheWVyIGhhc1wiIC8gXCJidXQgdGhleSByZWdlbmVyYXRlXCIgcmVxdWlyZWQgZm9yIFwiQSBDb2xkIEZpcmUgV2l0aGluXCJcbiAgICBza2lsbDpcbiAgICAgICdeKD88bmFtZT5bOlxcXFwqLlxcXFxzJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSsoPzwhJyArXG4gICAgICAnVGhlIHBsYXllciBoYXN8YnV0IHRoZXkgcmVnZW5lcmF0ZScgK1xuICAgICAgJykpXFxcXHMrXFxcXCg/KD88cGVyY2VudGFnZT5cXFxcZCspW15kXSU/XFxcXCk/KFxcXFxzKlxcXFwoXFxcXGQrL1xcXFxkK1xcXFwpKT9bXFxcXC4sO10/XFxcXHMqJyxcbiAgICBndWVzc1N0YXJ0Q29tYmF0OlxuICAgICAgJyhefCg/PCEsKVxcbikoJyArXG4gICAgICAnQW5ncmlmZmV8SGFuZGdlbWVuZ2V8TmFoa2FtcGZ8RmF1c3RmZXVlcndhZmZlfEJlacOfZW4nICtcbiAgICAgICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLmRlLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmRlLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZGUuc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5kZS5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBwbDoge1xuICAgIGFnZTogJyg/PGFnZT5cXFxcZCspJyArICdcXFxccysoPzonICsgJ2xhdGF8bGF0fHJvaycgKyAnKVssXFxcXHNdKicsXG4gICAgb2NjdXBhdGlvbjogJ1ssXFxcXHNdKicgKyAnWmF3w7NkJyArICcoXFxcXHMqOik/XFxcXHMrKD88b2NjdXBhdGlvbj4uKylbLFxcXFxzXFxuXSonLFxuICAgIHN0cjogJyg/PCFbYS16XSknICsgJ1MnICsgJyhcXFxccyo6KT9cXFxccyooPzxzdHI+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBjb246ICcoPzwhW2Etel0pJyArICdLT04nICsgJyhcXFxccyo6KT9cXFxccyooPzxjb24+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBzaXo6ICcoPzwhW2Etel0pJyArICdCQycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHNpej5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGludDogJyg/PCFbYS16XSknICsgJ0lOVCcgKyAnKFxcXFxzKjopP1xcXFxzKig/PGludD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHBvdzogJyg/PCFbYS16XSknICsgJ01PQycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHBvdz5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRleDogJyg/PCFbYS16XSknICsgJ1pSJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZGV4PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXBwOiAnKD88IVthLXpdKScgKyAnV1lHJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnV1lLJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZWR1PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2FuOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdQfFBvY3p5dGFsbm/Fm8SHJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxzYW4+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBocDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUFd8UHVua3R5IFd5dHJ6eW1hxYJvxZtjaScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88aHA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBtcDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUE18UHVua3R5IE1hZ2lpJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxtcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRiOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgIGtleXMucGwuZnVsbGRiICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGRiPlsrLV0/XFxcXGQrKD86ZFxcXFxkK3xEfEtcXFxcZCspP3wnICtcbiAgICAgIGtleXMucGwuZGJOb25lICtcbiAgICAgICcpWyxcXFxcc1xcbl0qJyxcbiAgICBidWlsZDogJyg/PCFbYS16XSknICsgJ0tyemVwYScgKyAnKFxcXFxzKjopP1xcXFxzKyg/PGJ1aWxkPlsrLV0/XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgYXJtb3I6XG4gICAgICAnKD88IVthLXpdKScgK1xuICAgICAgJ1BhbmNlcnonICtcbiAgICAgICcoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLnBsLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjogJyg/PCFbYS16XSknICsgJ1J1Y2gnICsgJyhcXFxccyo6KT9cXFxccyooPzxtb3Y+XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgbGNrOiAnKD88IVthLXpdKScgKyAnU3pjesSZxZtjaWUnICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0F0YWtpIHcgcnVuZHppZXwjIEF0YWtpJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxhdHRhY2tzUGVyUm91bmQ+JyArXG4gICAgICBrZXlzLnBsLmF0dGFja3NQZXJSb3VuZE5vbmUgK1xuICAgICAgJ3xcXFxcZCsoPyFkKSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbkxvc3M6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1V0cmF0YSBQb2N6eXRhbG5vxZtjaXx1dHJhdGEgUCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88c2FuTG9zcz4nICtcbiAgICAgIGtleXMucGwuc2FuTG9zc05vbmUgK1xuICAgICAgJ3xcXFxcZFtES10/WytcXFxcZF0qXFxcXC9cXFxcZFtES10/WytcXFxcZF0qKVssXFxcXHNcXG5dKicsXG4gICAgd2VhcG9uOlxuICAgICAgJyhefFxcXFxuKSg/PG5hbWU+Wy5cXFxcdCAnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKykoXFxcXCoqLD9cXFxccyt8XFxcXCopKD86XFxcXCh8KD88cGVyY2VudGFnZT5cXFxcZCspJSw/KD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpXFxcXHMqLD8pPyk/KFxcXFxzKicgK1xuICAgICAgJ29icmHFvGVuaWEnICtcbiAgICAgICcpP1xcXFxzKyg/PGRhbWFnZT4oOj8oOj9cXFxcZCtrfGQpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMucGwuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLnBsLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnVW5paycgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrXFxcXCg/KD88cGVyY2VudGFnZT5cXFxcZCspXFxcXCk/XFxcXHMqJSg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKSk/JyxcbiAgICAvLyBTa2lsbCBzaG91bGQgbm90IGJlIG5hbWVkIFwiVGhlIHBsYXllciBoYXNcIiAvIFwiYnV0IHRoZXkgcmVnZW5lcmF0ZVwiIHJlcXVpcmVkIGZvciBcIkEgQ29sZCBGaXJlIFdpdGhpblwiXG4gICAgc2tpbGw6XG4gICAgICAnXig/PG5hbWU+WzpcXFxcKi5cXFxccycgK1xuICAgICAgbmFtZUNoYXJhY3RlcnMgK1xuICAgICAgJ10rKD88IScgK1xuICAgICAgJ1RoZSBwbGF5ZXIgaGFzfGJ1dCB0aGV5IHJlZ2VuZXJhdGUnICtcbiAgICAgICcpKVxcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVteZF0lP1xcXFwpPyhcXFxccypcXFxcKFxcXFxkKy9cXFxcZCtcXFxcKSk/W1xcXFwuLF0/XFxcXHMqJyxcbiAgICBndWVzc1N0YXJ0Q29tYmF0OlxuICAgICAgJyhefCg/PCEsKVxcbikoJyArICdXYWxrYXxCcm/FhCBQYWxuYXxCaWphdHlrYXxVZ3J5emllbmllJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLnBsLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLnBsLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMucGwuc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5wbC5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBmcjoge1xuICAgIGFnZTogJyg/PGFnZT5cXFxcZCspXFxcXHMqJyArICdhbnMnICsgJyg/IVthLXpdKVssXFxcXHNdKicsXG4gICAgb2NjdXBhdGlvbjpcbiAgICAgICdbLFxcXFxzXSonICsgJ09jY3VwYXRpb24nICsgJyhcXFxccyo6KT9cXFxccysoPzxvY2N1cGF0aW9uPi4rKVssXFxcXHNcXG5dKicsXG4gICAgc3RyOiAnKD88IVthLXpdKScgKyAnRk9SJyArICcoXFxcXHMqOik/XFxcXHMqKD88c3RyPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgY29uOiAnKD88IVthLXpdKScgKyAnQ09OJyArICcoXFxcXHMqOik/XFxcXHMqKD88Y29uPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2l6OiAnKD88IVthLXpdKScgKyAnVEFJJyArICcoXFxcXHMqOik/XFxcXHMqKD88c2l6PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaW50OiAnKD88IVthLXpdKScgKyAnSU5UJyArICcoXFxcXHMqOik/XFxcXHMqKD88aW50PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgcG93OiAnKD88IVthLXpdKScgKyAnUE9VJyArICcoXFxcXHMqOik/XFxcXHMqKD88cG93PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZGV4OiAnKD88IVthLXpdKScgKyAnREVYJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZGV4PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXBwOiAnKD88IVthLXpdKScgKyAnQVBQJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnw4lEVScgKyAnKFxcXFxzKjopP1xcXFxzKig/PGVkdT5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbjpcbiAgICAgICcoPzwhKFthLXpdfGRlXFxcXHMpKSg/OicgK1xuICAgICAgJ1NBTnxTYW50w6kgTWVudGFsZScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88c2FuPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaHA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1BWfFBvaW50cyBkZSB2aWUnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PGhwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgbXA6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1BNfFBvaW50cyBkZSBtYWdpZScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88bXA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkYjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICBrZXlzLmZyLmZ1bGxkYiArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxkYj5bKy1dP1xcXFxkKyg/OmRcXFxcZCt8RFxcXFxkKyk/fCcgK1xuICAgICAga2V5cy5mci5kYk5vbmUgK1xuICAgICAgJylbLFxcXFxzXFxuXSonLFxuICAgIGJ1aWxkOlxuICAgICAgJyg/PCFbYS16XSknICsgJ0NhcnJ1cmUnICsgJyhcXFxccyo6KT9cXFxccysoPzxidWlsZD5bKy1dP1xcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIGFybW9yOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdBcm11cmV8UHJvdGVjdGlvbicgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLmZyLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnTXZ0fE1vdXZlbWVudHxEw6lwbGFjZW1lbnQnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PG1vdj5cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBsY2s6ICcoPzwhW2Etel0pJyArICdDaGFuY2UnICsgJyhcXFxccyo6KT9cXFxccysoPzxsY2s+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhdHRhY2tzUGVyUm91bmQ6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ0F0dGFxdWVzIHBhciByb3VuZCcgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88YXR0YWNrc1BlclJvdW5kPicgK1xuICAgICAga2V5cy5mci5hdHRhY2tzUGVyUm91bmROb25lICtcbiAgICAgICd8XFxcXGQrKD8hZCkpWyxcXFxcc1xcbl0qJyxcbiAgICBzYW5Mb3NzOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdQZXJ0ZSBkZSBTYW50w6kgbWVudGFsZXxQZXJ0ZSBkZSBTQU4nICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PHNhbkxvc3M+JyArXG4gICAgICBrZXlzLmZyLnNhbkxvc3NOb25lICtcbiAgICAgICd8XFxcXGREP1srXFxcXGRdKlxcXFwvXFxcXGREP1srXFxcXGRdKilbLFxcXFxzXFxuXSonLFxuICAgIHdlYXBvbjpcbiAgICAgICcoXnxcXFxcbikoPzxuYW1lPlsuXFxcXHQgJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSspKFxcXFwqKiw/XFxcXHMrfFxcXFwqKSg/OlxcXFwofCg/PHBlcmNlbnRhZ2U+XFxcXGQrKSUsPyg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKVxcXFxzKiw/KT8pPyhcXFxccyooPzonICtcbiAgICAgICdkb21tYWdlfGTDqWfDonRzJyArXG4gICAgICAnKSk/XFxcXHMrKD88ZGFtYWdlPig6Pyg6P1xcXFxkK2QpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZnIuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmZyLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnRXNxdWl2ZXI/JyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylcXFxcKT9cXFxccyolKD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpKT8nLFxuICAgIHNraWxsOlxuICAgICAgJ14oPzxuYW1lPls6XFxcXCouXFxcXHMnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKyg/PCEnICtcbiAgICAgICdUaGUgcGxheWVyIGhhc3xidXQgdGhleSByZWdlbmVyYXRlJyArXG4gICAgICAnKSlcXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylbXmRdJT9cXFxcKT8oXFxcXHMqXFxcXChcXFxcZCsvXFxcXGQrXFxcXCkpP1tcXFxcLixdP1xcXFxzKicsXG4gICAgZ3Vlc3NTdGFydENvbWJhdDpcbiAgICAgICcoXnwoPzwhLClcXG4pKCcgKyAnQXUgY29udGFjdHzDgCBkaXN0YW5jZXxDb21iYXQgcmFwcHJvY2jDqXxCaXRlJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLmZyLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmZyLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZnIuc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5mci5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICBlczoge1xuICAgIGFnZTogJyg/PGFnZT5cXFxcZCspXFxcXHMqJyArICdhW8Oxw5Fdb3MnICsgJyg/IVthLXpdKVssXFxcXHNdKicsXG4gICAgb2NjdXBhdGlvbjpcbiAgICAgICdbLFxcXFxzXSonICsgJ09jdXBhY2nDs24nICsgJyhcXFxccyo6KT9cXFxccysoPzxvY2N1cGF0aW9uPi4rKVssXFxcXHNcXG5dKicsXG4gICAgc3RyOiAnKD88IVthLXpdKScgKyAnRlVFJyArICcoXFxcXHMqOik/XFxcXHMqKD88c3RyPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgY29uOiAnKD88IVthLXpdKScgKyAnQ09OJyArICcoXFxcXHMqOik/XFxcXHMqKD88Y29uPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2l6OiAnKD88IVthLXpdKScgKyAnVEFNJyArICcoXFxcXHMqOik/XFxcXHMqKD88c2l6PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgaW50OiAnKD88IVthLXpdKScgKyAnSU5UJyArICcoXFxcXHMqOik/XFxcXHMqKD88aW50PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgcG93OiAnKD88IVthLXpdKScgKyAnUE9EJyArICcoXFxcXHMqOik/XFxcXHMqKD88cG93PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZGV4OiAnKD88IVthLXpdKScgKyAnREVTJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZGV4PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXBwOiAnKD88IVthLXpdKScgKyAnQVBBJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnRURVJyArICcoXFxcXHMqOik/XFxcXHMqKD88ZWR1PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgc2FuOlxuICAgICAgJyg/PCFbYS16XSkoPzonICsgJ0NPUnxDb3JkdXJhJyArICcpKFxcXFxzKjopP1xcXFxzKig/PHNhbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGhwOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdQVnxQdW50b3MgZGUgdmlkYXxQXFxcXC4gP1ZcXFxcLicgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88aHA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBtcDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUE18UHVudG9zIE3DoWdpY29zfFB1bnRvcyBkZSBNYWdpYScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMrKD88bXA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBkYjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICBrZXlzLmVzLmZ1bGxkYiArXG4gICAgICAnKShcXFxccyo6KT9cXFxccysoPzxkYj5bKy1dP1xcXFxkKyg/OmRcXFxcZCt8RFxcXFxkKyk/fCcgK1xuICAgICAga2V5cy5lcy5kYk5vbmUgK1xuICAgICAgJylbLFxcXFxzXFxuXSonLFxuICAgIGJ1aWxkOlxuICAgICAgJyg/PCFbYS16XSknICsgJ0NvcnB1bGVuY2lhJyArICcoXFxcXHMqOik/XFxcXHMrKD88YnVpbGQ+WystXT9cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBhcm1vcjpcbiAgICAgICcoPzwhW2Etel0pJyArXG4gICAgICAnQXJtYWR1cmEnICtcbiAgICAgICcoXFxcXHMqOik/XFxcXHMrKD88YXJtb3I+JyArXG4gICAgICBrZXlzLmVzLmFybW9yTm9uZSArXG4gICAgICAnfFxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIG1vdjogJyg/PCFbYS16XSknICsgJ01vdmltaWVudG8nICsgJyhcXFxccyo6KT9cXFxccyooPzxtb3Y+XFxcXGQrKVssXFxcXHNcXG5dKicsXG4gICAgbGNrOiAnKD88IVthLXpdKScgKyAnU3VlcnRlJyArICcoXFxcXHMqOik/XFxcXHMrKD88bGNrPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXR0YWNrc1BlclJvdW5kOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdOw7ptZXJvIGRlIEF0YXF1ZXMnICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PGF0dGFja3NQZXJSb3VuZD4nICtcbiAgICAgIGtleXMuZXMuYXR0YWNrc1BlclJvdW5kTm9uZSArXG4gICAgICAnfFxcXFxkKyg/IWQpKVssXFxcXHNcXG5dKicsXG4gICAgc2FuTG9zczpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnUMOpcmRpZGEgZGUgY29yZHVyYXxQw6lyZGlkYSBkZSBDT1InICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKyg/PHNhbkxvc3M+JyArXG4gICAgICBrZXlzLmVzLnNhbkxvc3NOb25lICtcbiAgICAgICd8XFxcXGREP1srXFxcXGRdKlxcXFwvXFxcXGREP1srXFxcXGRdKilbLFxcXFxzXFxuXSonLFxuICAgIHdlYXBvbjpcbiAgICAgICcoXnxcXFxcbikoPzxuYW1lPlsuXFxcXHQgJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSspKFxcXFwqKiw/XFxcXHMrfFxcXFwqKSg/OlxcXFwofCg/PHBlcmNlbnRhZ2U+XFxcXGQrKSUsPyg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKVxcXFxzKiw/KT8pPyhcXFxccyonICtcbiAgICAgICdkYcOxbycgK1xuICAgICAgJyk/XFxcXHMrKD88ZGFtYWdlPig6Pyg6P1xcXFxkK2QpP1xcXFxkKyhcXFxccyovXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooPzonICtcbiAgICAgIGtleXMuZXMuZnVsbGRiICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVzLmhhbGZkYiArXG4gICAgICAnKVxcXFxzKnxcXFxccypbKy1dXFxcXHMqKDo/XFxcXGQrZCk/XFxcXGQrKSopKylcXFxcKT8nLFxuICAgIHdlYXBvbkRvZGdlOlxuICAgICAgJyg/PG5hbWU+JyArXG4gICAgICAnRXNxdWl2YXInICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVxcXFwpP1xcXFxzKiUoPzpcXFxccypcXFxcKFxcXFxkK1xcXFwvXFxcXGQrXFxcXCkpPycsXG4gICAgc2tpbGw6XG4gICAgICAnXig/PG5hbWU+WzpcXFxcKi5cXFxccycgK1xuICAgICAgbmFtZUNoYXJhY3RlcnMgK1xuICAgICAgJ10rKD88IScgK1xuICAgICAgJ1RoZSBwbGF5ZXIgaGFzfGJ1dCB0aGV5IHJlZ2VuZXJhdGUnICtcbiAgICAgICcpKVxcXFxzK1xcXFwoPyg/PHBlcmNlbnRhZ2U+XFxcXGQrKVteZF0lP1xcXFwpPyhcXFxccypcXFxcKFxcXFxkKy9cXFxcZCtcXFxcKSk/W1xcXFwuLF0/XFxcXHMqJyxcbiAgICBndWVzc1N0YXJ0Q29tYmF0OlxuICAgICAgJyhefCg/PCEsKVxcbikoJyArICdDb21iYXRpcnxBcm1hcyBkZSBmdWVnb3xCcmF3bHxCaXRlJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzLmVzLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzLmVzLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXMuZXMuc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5cy5lcy5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9LFxuICAnemgtVFcnOiB7XG4gICAgYWdlOiAnKD88IVthLXpdKScgKyAnYWdlfOW5tOm9oScgKyAnKFxcXFxzKjopP1xcXFxzKig/PGFnZT5cXFxcZCspWyxcXFxcc10qJyxcbiAgICAvKiBORVcgS0VZIEJFTE9XIC0gVFJBTlNMQVRJT04gUkVRVUlSRUQgKi9cbiAgICBvY2N1cGF0aW9uOlxuICAgICAgJ1ssXFxcXHNdKicgKyAnT2NjdXBhdGlvbicgKyAnKFxcXFxzKjopP1xcXFxzKyg/PG9jY3VwYXRpb24+LispWyxcXFxcc1xcbl0qJyxcbiAgICBzdHI6ICcoPzwhW2Etel0pJyArICdTVFJ85Yqb6YePJyArICcoXFxcXHMqOik/XFxcXHMqKD88c3RyPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgY29uOiAnKD88IVthLXpdKScgKyAnQ09OfOmrlOizqicgKyAnKFxcXFxzKjopP1xcXFxzKig/PGNvbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNpejogJyg/PCFbYS16XSknICsgJ1NJWnzpq5TlnosnICsgJyhcXFxccyo6KT9cXFxccyooPzxzaXo+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBpbnQ6ICcoPzwhW2Etel0pJyArICdJTlR85pm65YqbJyArICcoXFxcXHMqOik/XFxcXHMqKD88aW50PlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgcG93OiAnKD88IVthLXpdKScgKyAnUE9XfOaEj+W/lycgKyAnKFxcXFxzKjopP1xcXFxzKig/PHBvdz5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRleDogJyg/PCFbYS16XSknICsgJ0RFWHzmlY/mjbcnICsgJyhcXFxccyo6KT9cXFxccyooPzxkZXg+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBhcHA6ICcoPzwhW2Etel0pJyArICdBUFB85aSW6LKOJyArICcoXFxcXHMqOik/XFxcXHMqKD88YXBwPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgZWR1OiAnKD88IVthLXpdKScgKyAnRURVfOaVmeiCsicgKyAnKFxcXFxzKjopP1xcXFxzKig/PGVkdT5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbjpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnU0FOfFNhbml0eXznkIbmmbonICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PHNhbj5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGhwOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdIUHxIaXQgcG9pbnRzfOeUn+WRvScgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88aHA+XFxcXGQrfC0pWyxcXFxcc1xcbl0qJyxcbiAgICBtcDpcbiAgICAgICcoPzwhW2Etel0pKD86JyArXG4gICAgICAnTVB8TWFnaWMgcG9pbnRzJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxtcD5cXFxcZCt8LSlbLFxcXFxzXFxuXSonLFxuICAgIGRiOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgIGtleXNbJ3poLVRXJ10uZnVsbGRiICtcbiAgICAgICcpKFxcXFxzKjopP1xcXFxzKig/PGRiPlsrLV0/XFxcXGQrKD86ZFxcXFxkK3xEXFxcXGQrKT98JyArXG4gICAgICBrZXlzWyd6aC1UVyddLmRiTm9uZSArXG4gICAgICAnKVssXFxcXHNcXG5dKicsXG4gICAgYnVpbGQ6XG4gICAgICAnKD88IVthLXpdKScgKyAnQnVpbGR86auU5qC8JyArICcoXFxcXHMqOik/XFxcXHMqKD88YnVpbGQ+WystXT9cXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBhcm1vcjpcbiAgICAgICcoPzwhW2Etel0pJyArXG4gICAgICAnQXJtb3J86K2355SyJyArXG4gICAgICAnKFxcXFxzKjopP1xcXFxzKig/PGFybW9yPicgK1xuICAgICAga2V5c1snemgtVFcnXS5hcm1vck5vbmUgK1xuICAgICAgJ3xcXFxcZCspWyxcXFxcc1xcbl0qJyxcbiAgICBtb3Y6ICcoPzwhW2Etel0pJyArICdNb3ZlJyArICcoXFxcXHMqOik/XFxcXHMqKD88bW92PlxcXFxkKylbLFxcXFxzXFxuXSonLFxuICAgIGxjazogJyg/PCFbYS16XSknICsgJ0x1Y2t85bm46YGLJyArICcoXFxcXHMqOik/XFxcXHMqKD88bGNrPlxcXFxkK3wtKVssXFxcXHNcXG5dKicsXG4gICAgYXR0YWNrc1BlclJvdW5kOlxuICAgICAgJyg/PCFbYS16XSkoPzonICtcbiAgICAgICdBdHRhY2tzIHBlciByb3VuZHwjIEF0dGFja3N85pS75pOK5qyh5pW4fCMg5pS75pOKJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccyooPzxhdHRhY2tzUGVyUm91bmQ+JyArXG4gICAgICBrZXlzWyd6aC1UVyddLmF0dGFja3NQZXJSb3VuZE5vbmUgK1xuICAgICAgJ3xcXFxcZCsoPyFkKSlbLFxcXFxzXFxuXSonLFxuICAgIHNhbkxvc3M6XG4gICAgICAnKD88IVthLXpdKSg/OicgK1xuICAgICAgJ1Nhbml0eSBsb3NzfFNBTiBsb3NzfOeQhuaZuuWWquWksXxTQU7lgLzmkI3lpLF8U0FO5YC85Zaq5aSxfOaJo1NBTicgK1xuICAgICAgJykoXFxcXHMqOik/XFxcXHMqKD88c2FuTG9zcz4nICtcbiAgICAgIGtleXNbJ3poLVRXJ10uc2FuTG9zc05vbmUgK1xuICAgICAgJ3xcXFxcZEQ/WytcXFxcZF0qXFxcXC9cXFxcZEQ/WytcXFxcZF0qKVssXFxcXHNcXG5dKicsXG4gICAgd2VhcG9uOlxuICAgICAgJyhefFxcXFxuKSg/PG5hbWU+Wy5cXFxcdCAnICtcbiAgICAgIG5hbWVDaGFyYWN0ZXJzICtcbiAgICAgICddKykoXFxcXCoqLD9cXFxccyt8XFxcXCopKD86XFxcXCh8KD88cGVyY2VudGFnZT5cXFxcZCspJSw/KD86XFxcXHMqXFxcXChcXFxcZCtcXFxcL1xcXFxkK1xcXFwpXFxcXHMqLD8pPyk/KFxcXFxzKig/OicgK1xuICAgICAgJ2RhbWFnZXzlgrflrrMnICtcbiAgICAgICcpKT9cXFxccysoPzxkYW1hZ2U+KDo/KDo/XFxcXGQrZCk/XFxcXGQrKFxcXFxzKi9cXFxccyp8XFxcXHMqWystXVxcXFxzKig/OicgK1xuICAgICAga2V5c1snemgtVFcnXS5mdWxsZGIgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXNbJ3poLVRXJ10uaGFsZmRiICtcbiAgICAgICcpXFxcXHMqfFxcXFxzKlsrLV1cXFxccyooOj9cXFxcZCtkKT9cXFxcZCspKikrKVxcXFwpPycsXG4gICAgd2VhcG9uRG9kZ2U6XG4gICAgICAnKD88bmFtZT4nICtcbiAgICAgICdEb2RnZXzploPpgb986ZaD6LqyJyArXG4gICAgICAnKShcXFxccyo6KT9cXFxccytcXFxcKD8oPzxwZXJjZW50YWdlPlxcXFxkKylcXFxcKT9cXFxccyolPyg/OlxcXFxzKlxcXFwoXFxcXGQrXFxcXC9cXFxcZCtcXFxcKSk/JyxcbiAgICBza2lsbDpcbiAgICAgICdeKD88bmFtZT5bOlxcXFwqLlxcXFxzJyArXG4gICAgICBuYW1lQ2hhcmFjdGVycyArXG4gICAgICAnXSsoPzwhJyArXG4gICAgICAnVGhlIHBsYXllciBoYXN8YnV0IHRoZXkgcmVnZW5lcmF0ZScgK1xuICAgICAgJykpXFxcXHMrXFxcXCg/KD88cGVyY2VudGFnZT5cXFxcZCspW15kXSU/XFxcXCk/KFxcXFxzKlxcXFwoXFxcXGQrL1xcXFxkK1xcXFwpKT9bXFxcXC4sXT9cXFxccyonLFxuICAgIGd1ZXNzU3RhcnRDb21iYXQ6ICcoXnwoPzwhLClcXG4pKCcgKyAn6L+R5oiw5oqA6IO9fOWwhOaTiuaKgOiDvXxCcmF3bHxCaXRlJyArICcpJyxcbiAgICBuYW1lOiAnXig/PG5hbWU+W1xcXFwuXFxcXHMnICsgbmFtZUNoYXJhY3RlcnMgKyAnXSspWyxcXFxcc1xcbl0rJyxcbiAgICBzZWN0aW9uczpcbiAgICAgICcoJyArXG4gICAgICBrZXlzWyd6aC1UVyddLnNlY3Rpb25Db21iYXRzICtcbiAgICAgICd8JyArXG4gICAgICBrZXlzWyd6aC1UVyddLnNlY3Rpb25Ta2lsbHMgK1xuICAgICAgJ3wnICtcbiAgICAgIGtleXNbJ3poLVRXJ10uc2VjdGlvbkxhbmdhdWdlcyArXG4gICAgICAnfCcgK1xuICAgICAga2V5c1snemgtVFcnXS5zZWN0aW9uU3BlbGxzICtcbiAgICAgICcpJ1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb0M3QWN0b3JJbXBvcnRlclJlZ0V4cCB7XG4gIHN0YXRpYyBjaGVja0xhbmd1YWdlIChsYW5nID0gbnVsbCkge1xuICAgIGlmICghbGFuZykge1xuICAgICAgbGFuZyA9IGdhbWUuaTE4bi5sYW5nXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdHJhbnNsYXRpb25zW2xhbmddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbGFuZyA9ICdlbidcbiAgICB9XG4gICAgcmV0dXJuIGxhbmdcbiAgfVxuXG4gIHN0YXRpYyBnZXRFeGFtcGxlVGV4dCAobGFuZykge1xuICAgIGxldCBleGFtcGxlID0ga2V5cy5lbi5leGFtcGxlXG4gICAgaWYgKHR5cGVvZiBrZXlzW2xhbmddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZXhhbXBsZSA9IGtleXNbbGFuZ10uZXhhbXBsZVxuICAgIH1cbiAgICByZXR1cm4gZXhhbXBsZVxuICB9XG5cbiAgc3RhdGljIGdldFRyYW5zbGF0aW9ucyAoKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0ge31cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBrZXlzKSB7XG4gICAgICBvdXRwdXRba2V5XSA9IGtleXNba2V5XS5kZXNjcmlwdGlvblxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0XG4gIH1cblxuICBzdGF0aWMgZ2V0S2V5cyAobGFuZykge1xuICAgIHJldHVybiBrZXlzW2xhbmddIHx8IGtleXMuZW5cbiAgfVxuXG4gIHN0YXRpYyBnZXRSZWd1bGFyRXhwcmVzc2lvbnMgKGxhbmcpIHtcbiAgICByZXR1cm4gdHJhbnNsYXRpb25zW2xhbmddIHx8IHRyYW5zbGF0aW9ucy5lblxuICB9XG59XG4iLCIvKiBnbG9iYWwgQWN0b3IsIENPTkZJRywgZHVwbGljYXRlLCBnYW1lLCB1aSAqL1xuaW1wb3J0IHsgQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAgfSBmcm9tICcuL2FjdG9yLWltcG9ydGVyLXJlZ2V4cC5qcydcbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi9pdGVtcy9pdGVtLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBDb0M3QWN0b3JJbXBvcnRlciBoZWxwZXIgY2xhc3MgdG8gaW1wb3J0IGFuIEFjdG9yIGZyb20gdGhlIHJhdyB0ZXh0IGRlc2NyaXB0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ29DN0FjdG9ySW1wb3J0ZXIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5wYXJzZWQgPSB7fVxuICAgIHRoaXMuaXRlbUxvY2F0aW9ucyA9ICcnXG4gIH1cblxuICBzdGF0aWMgZ2V0IGFzTnVtYmVyICgpIHtcbiAgICByZXR1cm4gJ24nXG4gIH1cblxuICBzdGF0aWMgZ2V0IGFzU3RyaW5nICgpIHtcbiAgICByZXR1cm4gJ3MnXG4gIH1cblxuICAvKipcbiAgICogZ2V0UmVnRXgsIGdldCBSZWdFeHAgb2JqZWN0IGlmIG5vdCBjdXJyZW50bHkgYSBSZWdFeHAgb2JqZWN0XG4gICAqIEBwYXJhbSB7TWl4ZWR9IHJlZ2V4IFJlZ0V4cCBvciBzdHJpbmdcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGlmaWVycyBpZiBzdHJpbmcgd2FzIHN1cHBsaWVkIGluIHJlZ2V4IGxpc3Qgb2YgbW9kaWZpZXJzIHRvIGFkZCB0byB0aGUgUmVnRXhwXG4gICAqIEByZXR1cm5zIHtSZWdFeHB9XG4gICAqL1xuICBnZXRSZWdFeCAocmVnZXgsIG1vZGlmaWVycyA9ICdpdScpIHtcbiAgICBpZiAocmVnZXguY29uc3RydWN0b3I/Lm5hbWUgPT09ICdSZWdFeHAnKSB7XG4gICAgICByZXR1cm4gcmVnZXhcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocmVnZXgsIG1vZGlmaWVycylcbiAgfVxuXG4gIC8qKlxuICAgKiBjbGVhblN0cmluZywgcmVtb3ZlcyBuZXcgbGluZSBhbmQgY2FycmllciByZXR1cm4gY2hhcmFjdGVyIGFuZCBsYXRlcmFsIHNwYWNlcyBmcm9tIGEgc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzIHRoZSBzdHJpbmcgdG8gY2xlYW5cbiAgICogQHJldHVybnMge1N0cmluZ30gdGhlIGNsZWFuZWQgc3RyaW5nXG4gICAqL1xuICBjbGVhblN0cmluZyAocykge1xuICAgIHJldHVybiBzXG4gICAgICAucmVwbGFjZSgvKFxcbnxcXHIpL2csICcgJylcbiAgICAgIC5yZXBsYWNlKC9eXFxzKi8sICcnKVxuICAgICAgLnJlcGxhY2UoL1xccypcXC4/XFxzKlxcLj8kLywgJycpXG4gIH1cblxuICAvKipcbiAgICogdHJhbnNsYXRlUm9sbCwgdHJhbnNsYXRlcyBsYW5ndWFnZSBzcGVjaWZpYyBzaG9ydGZvcm0gb2YgZGljZSAoRCkgaW4gcm9sbHNcbiAgICogRXhhbXBsZSBmb3IgR2VybWFuIHJvbGxzOiAxVzQgPT4gMUQ0LlxuICAgKiBEaWNlIHNob3J0Zm9ybSBpcyBjb25maWd1cmVkIHVzaW5nIGtleXMuZGljZVNob3J0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzIHRoZSByb2xsIHRvIGJlIHRyYW5zbGF0ZWRcbiAgICogQHJldHVybnMge1N0cmluZ30gdGhlIHRyYW5zbGF0ZWQgcm9sbFxuICAgKi9cbiAgdHJhbnNsYXRlUm9sbCAocykge1xuICAgIGlmICh0eXBlb2YgcyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBzXG4gICAgaWYgKHR5cGVvZiB0aGlzLmtleXMuZGljZVNob3J0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgcmVnRXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAnKD88bjE+XFxcXGQrKScgKyB0aGlzLmtleXMuZGljZVNob3J0ICsgJyg/PG4yPlxcXFxkKyknLFxuICAgICAgICAnaXVnJ1xuICAgICAgKVxuICAgICAgcmV0dXJuIHMucmVwbGFjZShyZWdFeCwgJyQ8bjE+RCQ8bjI+JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogdG9IVE1MLCBjb252ZXJ0cyBhIHN0cmluZyB0byBIVE1MIHN0cmlwaW5nIG91dCBlbXB0eSBsaW5lcyBvciBsaW5lcyB0aGF0IGNvbnRhaW4ganVzdCAsIG9yIC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHMgdGhlIHN0cmluZyB0byBjb252ZXJ0XG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBIVE1MIG9yIGFuIGVtcHR5IHN0cmluZ1xuICAgKi9cbiAgdG9IVE1MIChzKSB7XG4gICAgaWYgKHMudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIHMgPSBzXG4gICAgICAudHJpbSgpXG4gICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAubWFwKHRleHQgPT4gdGV4dC50cmltKCkucmVwbGFjZSgvXlssLlxcc10rJC8sICcnKSlcbiAgICAgIC5maWx0ZXIodGV4dCA9PiB0ZXh0KVxuICAgICAgLmpvaW4oJzwvcD48cD4nKVxuICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIHJldHVybiAnPHA+JyArIHMgKyAnPC9wPidcbiAgfVxuXG4gIC8qKlxuICAgKiBjaGVjayBleHBlY3RzIGEga2V5IGZyb20gdGhpcy5yZWdFeCB3aWxsIGF0dGVtcHQgdG8gbWF0Y2ggdGhlIHRleHRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlZ0V4S2V5IGtleSBpbiB0aGlzLnJlZ0V4XG4gICAqIEBwYXJhbSB7SlNPTn1cbiAgICogLSByZW1vdmVGcm9tVGV4dCByZW1vdmUgZnJvbSB0aGlzLnRleHRcbiAgICogLSBzYXZlS2V5cyBhZGQgZ3JvdXAga2V5cyB0byB0aGlzLnBhcnNlZFxuICAgKiAtIHR5cGUgSWYgYWRkaW5nIHdpdGggc2F2ZUtleXMgc2V0IHR5cGUgKENvQzdBY3RvckltcG9ydGVyLmFzU3RyaW5nIC8gQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIpXG4gICAqIC0gdGV4dCBJZiBzZXQgdXNlIHRoaXMgaW5zdGVhZCBvZiB0aGlzLnRleHRcbiAgICogLSByZXF1aXJlZEdyb3VwIElmIG5vdCBmYWxzZSByZXF1aXJlIHNwZWNpZmllZCBrZXkgaW4gUmVnRXhwIGdyb3Vwc1xuICAgKiBAcmV0dXJucyB7RmFsc2V9L3tKU09OIGdyb3VwcyAnJyBpcyBtYXRjaGVkIHN0cmluZ31cbiAgICovXG4gIGNoZWNrIChcbiAgICByZWdFeEtleSxcbiAgICB7XG4gICAgICByZW1vdmVGcm9tVGV4dCA9IHRydWUsXG4gICAgICBzYXZlS2V5cyA9IHRydWUsXG4gICAgICB0eXBlID0gQ29DN0FjdG9ySW1wb3J0ZXIuYXNTdHJpbmcsXG4gICAgICB0ZXh0ID0gZmFsc2UsXG4gICAgICByZXF1aXJlZEdyb3VwID0gZmFsc2VcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgbGV0IG91dHB1dCA9IGZhbHNlXG4gICAgbGV0IHJlZ0V4cCA9IGZhbHNlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnJlZ0V4W3JlZ0V4S2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJlZ0V4cCA9IHRoaXMuZ2V0UmVnRXgodGhpcy5yZWdFeFtyZWdFeEtleV0pXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5rZXlzW3JlZ0V4S2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJlZ0V4cCA9IHRoaXMuZ2V0UmVnRXgodGhpcy5rZXlzW3JlZ0V4S2V5XSlcbiAgICB9XG4gICAgaWYgKHJlZ0V4cCAhPT0gZmFsc2UpIHtcbiAgICAgIGlmICh0ZXh0ID09PSBmYWxzZSkge1xuICAgICAgICB0ZXh0ID0gdGhpcy50ZXh0XG4gICAgICB9XG4gICAgICBjb25zdCBjaGVjayA9IHJlZ0V4cC5leGVjKHRleHQpXG4gICAgICBsZXQgdmFsdWUgPSBudWxsXG4gICAgICBpZiAoXG4gICAgICAgIGNoZWNrICE9PSBudWxsICYmXG4gICAgICAgIChyZXF1aXJlZEdyb3VwID09PSBmYWxzZSB8fFxuICAgICAgICAgIHR5cGVvZiAoY2hlY2suZ3JvdXBzIHx8IHt9KVtyZXF1aXJlZEdyb3VwXSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICApIHtcbiAgICAgICAgb3V0cHV0ID0gY2hlY2suZ3JvdXBzIHx8IHt9XG4gICAgICAgIGlmIChyZW1vdmVGcm9tVGV4dCkge1xuICAgICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5yZXBsYWNlKGNoZWNrWzBdLnRyaW0oKSwgJ1xcbicpLnRyaW0oKVxuICAgICAgICB9XG4gICAgICAgIGlmIChzYXZlS2V5cykge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNoZWNrLmdyb3VwcykpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIENvQzdBY3RvckltcG9ydGVyLmFzU3RyaW5nOlxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VkW2tleV0gPSBTdHJpbmcoY2hlY2suZ3JvdXBzW2tleV0pLnJlcGxhY2UoJ1xcbicsICcgJylcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICBjYXNlIENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gTnVtYmVyKGNoZWNrLmdyb3Vwc1trZXldKVxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlZFtrZXldID0gTnVtYmVyKGNoZWNrLmdyb3Vwc1trZXldKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXRwdXRbJy1zb3VyY2UnXSA9IGNoZWNrWzBdXG4gICAgICAgIG91dHB1dFsnLWluZGV4J10gPSBjaGVjay5pbmRleFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0XG4gIH1cblxuICAvKipcbiAgICogcHJvY2Vzc0NvbWJhdCBleHRyYWN0cyBjb21iYXQgLyBkb2RnZSBpbmZvcm1hdGlvbiBmcm9tIGEgc3Vic2VjdGlvbiBvZiB0ZXh0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRoZSByYXcgdGV4dCBvZiB0aGUgY29tYmF0IHNlY3Rpb25cbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgcHJvY2Vzc0NvbWJhdCAodGV4dCkge1xuICAgIGlmICh0ZXh0LnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5sb2coJ2NvbWJhdCB0ZXh0JywgdGV4dClcbiAgICB9XG4gICAgbGV0IHdlYXBvblxuICAgIGxldCBkb2RnZVxuICAgIGxldCBuZXdsaW5lXG4gICAgbGV0IGxhc3RQZXJjZW50ID0gZmFsc2VcbiAgICBsZXQgbWF4TG9vcHMgPSA0MFxuICAgIGRvIHtcbiAgICAgIG1heExvb3BzLS1cbiAgICAgIHRleHQgPSB0ZXh0LnRyaW0oKVxuICAgICAgaWYgKFxuICAgICAgICAoZG9kZ2UgPSB0aGlzLmNoZWNrKCd3ZWFwb25Eb2RnZScsIHsgc2F2ZUtleXM6IGZhbHNlLCB0ZXh0IH0pKVxuICAgICAgKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoZG9kZ2VbJy1zb3VyY2UnXSwgJ1xcbicpXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wYXJzZWQuc2tpbGxzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMucGFyc2VkLnNraWxscyA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJzZWQuc2tpbGxzLnB1c2goe1xuICAgICAgICAgIG5hbWU6IHRoaXMuY2xlYW5TdHJpbmcoZG9kZ2UubmFtZSksXG4gICAgICAgICAgdmFsdWU6IE51bWJlcihkb2RnZS5wZXJjZW50YWdlKSxcbiAgICAgICAgICBwdXNoOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHdlYXBvbiA9IHRoaXMuY2hlY2soJ3dlYXBvbicsIHtcbiAgICAgICAgICBzYXZlS2V5czogZmFsc2UsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICByZXF1aXJlZEdyb3VwOiBsYXN0UGVyY2VudCA9PT0gZmFsc2UgPyAncGVyY2VudGFnZScgOiBmYWxzZVxuICAgICAgICB9KSlcbiAgICAgICkge1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHdlYXBvblsnLXNvdXJjZSddLCAnXFxuJylcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuY2xlYW5TdHJpbmcod2VhcG9uLm5hbWUgfHwgJycpXG4gICAgICAgIGxldCBkYW1hZ2UgPSB0aGlzLnRyYW5zbGF0ZVJvbGwodGhpcy5jbGVhblN0cmluZyh3ZWFwb24uZGFtYWdlIHx8ICcnKSlcbiAgICAgICAgY29uc3QgaXNSYW5nZWQgPSAhIShcbiAgICAgICAgICB0aGlzLmNoZWNrKCdoYW5kZ3VuJywge1xuICAgICAgICAgICAgdGV4dDogbmFtZSxcbiAgICAgICAgICAgIHJlbW92ZUZyb21UZXh0OiBmYWxzZSxcbiAgICAgICAgICAgIHNhdmVLZXlzOiBmYWxzZVxuICAgICAgICAgIH0pIHx8XG4gICAgICAgICAgdGhpcy5jaGVjaygncmlmbGUnLCB7XG4gICAgICAgICAgICB0ZXh0OiBuYW1lLFxuICAgICAgICAgICAgcmVtb3ZlRnJvbVRleHQ6IGZhbHNlLFxuICAgICAgICAgICAgc2F2ZUtleXM6IGZhbHNlXG4gICAgICAgICAgfSkgfHxcbiAgICAgICAgICB0aGlzLmNoZWNrKCdzbWInLCB7XG4gICAgICAgICAgICB0ZXh0OiBuYW1lLFxuICAgICAgICAgICAgcmVtb3ZlRnJvbVRleHQ6IGZhbHNlLFxuICAgICAgICAgICAgc2F2ZUtleXM6IGZhbHNlXG4gICAgICAgICAgfSkgfHxcbiAgICAgICAgICB0aGlzLmNoZWNrKCdtYWNoaW5lR3VuJywge1xuICAgICAgICAgICAgdGV4dDogbmFtZSxcbiAgICAgICAgICAgIHJlbW92ZUZyb21UZXh0OiBmYWxzZSxcbiAgICAgICAgICAgIHNhdmVLZXlzOiBmYWxzZVxuICAgICAgICAgIH0pIHx8XG4gICAgICAgICAgdGhpcy5jaGVjaygnbGF1bmNoZWQnLCB7XG4gICAgICAgICAgICB0ZXh0OiBuYW1lLFxuICAgICAgICAgICAgcmVtb3ZlRnJvbVRleHQ6IGZhbHNlLFxuICAgICAgICAgICAgc2F2ZUtleXM6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgd2VhcG9uLnBlcmNlbnRhZ2UgIT09IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2Ygd2VhcG9uLnBlcmNlbnRhZ2UgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICkge1xuICAgICAgICAgIGxhc3RQZXJjZW50ID0gTnVtYmVyKHdlYXBvbi5wZXJjZW50YWdlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RQZXJjZW50ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGxldCBmb3VuZFxuICAgICAgICBsZXQgYWhkYiA9IGZhbHNlXG4gICAgICAgIGxldCBhZGRiID0gZmFsc2VcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGZvdW5kID0gdGhpcy5nZXRSZWdFeChcbiAgICAgICAgICAgICdcXFxccypbKy1dP1xcXFxzKignICtcbiAgICAgICAgICAgICAgdGhpcy5rZXlzLmhhbGZkYiArXG4gICAgICAgICAgICAgICcpXFxcXHMqKCcgK1xuICAgICAgICAgICAgICB0aGlzLmtleXMuZnVsbGRiICtcbiAgICAgICAgICAgICAgJyk/Wy0rXT9cXFxccyooJyArXG4gICAgICAgICAgICAgIHRoaXMucGFyc2VkLmRiLnJlcGxhY2UoL15bLStdLywgJycpICtcbiAgICAgICAgICAgICAgJyk/J1xuICAgICAgICAgICkuZXhlYyhkYW1hZ2UpXG4gICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICBhaGRiID0gdHJ1ZVxuICAgICAgICAgICAgZGFtYWdlID0gZGFtYWdlLnJlcGxhY2UoZm91bmRbMF0sICcnKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRoaXMuZ2V0UmVnRXgoXG4gICAgICAgICAgICAgICdcXFxccypbKy1dP1xcXFxzKignICtcbiAgICAgICAgICAgICAgICB0aGlzLmtleXMuZnVsbGRiICtcbiAgICAgICAgICAgICAgICAnKVxcXFxzKlstK10/XFxcXHMqKCcgK1xuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VkLmRiLnJlcGxhY2UoL15bLStdLywgJycpICtcbiAgICAgICAgICAgICAgICAnKT8nXG4gICAgICAgICAgICApLmV4ZWMoZGFtYWdlKVxuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgIGFkZGIgPSB0cnVlXG4gICAgICAgICAgICAgIGRhbWFnZSA9IGRhbWFnZS5yZXBsYWNlKGZvdW5kWzBdLCAnJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGZvdW5kKVxuICAgICAgICBjb25zdCBkYW1hZ2VzID0gZGFtYWdlLnNwbGl0KCcvJylcbiAgICAgICAgY29uc3QgaXNTaG90Z3VuID0gZGFtYWdlcy5sZW5ndGggPT09IDNcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHR5cGU6ICd3ZWFwb24nLFxuICAgICAgICAgIHN5c3RlbToge1xuICAgICAgICAgICAgc2tpbGw6IHtcbiAgICAgICAgICAgICAgaWQ6IGxhc3RQZXJjZW50XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXNTaG90Z3VuID8gMTAgOiAwLFxuICAgICAgICAgICAgICAgIGRhbWFnZTogZGFtYWdlc1swXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBsb25nOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGlzU2hvdGd1biA/IDIwIDogMCxcbiAgICAgICAgICAgICAgICBkYW1hZ2U6IGlzU2hvdGd1biA/IGRhbWFnZXNbMV0gOiAnJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBleHRyZW1lOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGlzU2hvdGd1biA/IDUwIDogMCxcbiAgICAgICAgICAgICAgICBkYW1hZ2U6IGlzU2hvdGd1biA/IGRhbWFnZXNbMl0gOiAnJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBzb21lIG9mIHRoZSBwcm9wZXJ0aWVzXG4gICAgICAgIGRhdGEuc3lzdGVtLnByb3BlcnRpZXMuc2hvdGd1biA9IGlzU2hvdGd1blxuICAgICAgICBkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzLnJuZ2QgPSBpc1JhbmdlZCB8fCBpc1Nob3RndW5cbiAgICAgICAgZGF0YS5zeXN0ZW0ucHJvcGVydGllcy5tZWxlZSA9ICFkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzLnJuZ2RcbiAgICAgICAgZGF0YS5zeXN0ZW0ucHJvcGVydGllcy5haGRiID0gYWhkYlxuICAgICAgICBkYXRhLnN5c3RlbS5wcm9wZXJ0aWVzLmFkZGIgPSBhZGRiXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wYXJzZWQuYXR0YWNrcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aGlzLnBhcnNlZC5hdHRhY2tzID0gW11cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnNlZC5hdHRhY2tzLnB1c2goZGF0YSlcbiAgICAgIH0gZWxzZSBpZiAoKG5ld2xpbmUgPSB0ZXh0Lm1hdGNoKC9eKC4rKVxcbi8pKSkge1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG5ld2xpbmVbMF0sICdcXG4nKVxuICAgICAgfSBlbHNlIGlmICgobmV3bGluZSA9IHRleHQubWF0Y2goL15bXlxcbl0rJC8pKSkge1xuICAgICAgICB0ZXh0ID0gJydcbiAgICAgIH1cbiAgICB9IHdoaWxlIChtYXhMb29wcyA+IDAgJiYgKCEhd2VhcG9uIHx8ICEhZG9kZ2UgfHwgISF0ZXh0KSlcbiAgICBpZiAobWF4TG9vcHMgPT09IDApIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yVW5leHBlY3RlZFdlYXBvblRleHQnKVxuICAgICAgKVxuICAgICAgY29uc29sZS5kZWJ1ZygnVW5leHBlY3RlZCB3ZWFwb25zOicsIHRleHQpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHByb2Nlc3NTa2lsbHMgZXh0cmFjdHMgc2tpbGxzIC8gbGFuZ3VhZ2UgaW5mb3JtYXRpb24gZnJvbSBhIHN1YnNlY3Rpb24gb2YgdGV4dFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0aGUgcmF3IHRleHQgb2YgdGhlIHNraWxscyAvIGxhbmd1YWdlIHNlY3Rpb25cbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgcHJvY2Vzc1NraWxscyAodGV4dCwga2V5ID0gJ3NraWxscycpIHtcbiAgICBpZiAodGV4dC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgYnJlYWtzID0gdGV4dC5zcGxpdCgvXFwuXFxyP1xcbi8pXG4gICAgaWYgKGJyZWFrcy5sZW5ndGggPiAxKSB7XG4gICAgICB0ZXh0ID0gYnJlYWtzWzBdXG4gICAgfVxuICAgIGxldCBza2lsbFxuICAgIGxldCBtYXhMb29wcyA9IDQwXG4gICAgZG8ge1xuICAgICAgbWF4TG9vcHMtLVxuICAgICAgdGV4dCA9IHRleHQudHJpbSgpXG4gICAgICBza2lsbCA9IHRoaXMuY2hlY2soJ3NraWxsJywgeyBzYXZlS2V5czogZmFsc2UsIHRleHQgfSlcbiAgICAgIGlmIChza2lsbCkge1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHNraWxsWyctc291cmNlJ10sICdcXG4nKVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMucGFyc2VkW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy5wYXJzZWRba2V5XSA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJzZWRba2V5XS5wdXNoKHtcbiAgICAgICAgICBuYW1lOiB0aGlzLmNsZWFuU3RyaW5nKHNraWxsLm5hbWUpLFxuICAgICAgICAgIHZhbHVlOiBOdW1iZXIoc2tpbGwucGVyY2VudGFnZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IHdoaWxlIChtYXhMb29wcyA+IDAgJiYgc2tpbGwpXG4gICAgaWYgKG1heExvb3BzID09PSAwKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvclVuZXhwZWN0ZWRTa2lsbHNUZXh0JylcbiAgICAgIClcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1VuZXhwZWN0ZWQgc2tpbGxzOicsIHRleHQpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHByb2Nlc3NTcGVsbHMgZXh0cmFjdHMgc3BlbGwgaW5mb3JtYXRpb24gZnJvbSBhIHN1YnNlY3Rpb24gb2YgdGV4dFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0aGUgcmF3IHRleHQgb2YgdGhlIHNwZWxsIHNlY3Rpb25cbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgcHJvY2Vzc1NwZWxscyAodGV4dCkge1xuICAgIGlmICh0ZXh0LnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBicmVha3MgPSB0ZXh0LnNwbGl0KC9cXC5cXHI/XFxuLylcbiAgICBpZiAoYnJlYWtzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRleHQgPSBicmVha3NbMF1cbiAgICB9XG4gICAgY29uc3Qgc3BlbGxzQXJyID0gdGV4dC5yZXBsYWNlKC8oW1xcblxccl0rKS9nLCAnICcpLnNwbGl0KC8oPzwhXFwoW14pXSspLC8pXG4gICAgdGhpcy50ZXh0ID0gdGhpcy50ZXh0LnJlcGxhY2UodGV4dC50cmltKCksICdcXG4nKVxuICAgIGZvciAoY29uc3Qgc3BlbGwgb2Ygc3BlbGxzQXJyKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucGFyc2VkLnNwZWxscyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5wYXJzZWQuc3BlbGxzID0gW11cbiAgICAgIH1cbiAgICAgIHRoaXMucGFyc2VkLnNwZWxscy5wdXNoKHRoaXMuY2xlYW5TdHJpbmcoc3BlbGwpKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBwYXJzZUNoYXJhY3RlciBleHRyYWN0cyBpbmZvcm1hdGlvbiBmcm9tIHRoZSByYXcgdGV4dCBkZXNjcmlwdGlvbiBvZiBhbiBlbnRpdHkgKE5QQyBvciBDcmVhdHVyZSlcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGhlIHJhdyB0ZXh0IG9mIHRoZSBlbnRpdHlcbiAgICogQHJldHVybnMgZXh0cmFjdGVkRGF0YSBvYmplY3Qgd2l0aCB0aGUgZW50aXR5IGRhdGFcbiAgICovXG4gIGFzeW5jIHBhcnNlQ2hhcmFjdGVyICh0ZXh0KSB7XG4gICAgLy8gUmVwbGFjZSBcIkVuIERhc2hcIiBhbmQgXCJFbSBEYXNoXCIgZGFzaGVzIHdpdGggLSBhbmQgXCJSaWdodCBTaW5nbGUgUXVvdGF0aW9uIE1hcmtcIiB3aXRoICdcbiAgICB0aGlzLnRleHQgPSBTdHJpbmcodGV4dClcbiAgICAgIC50cmltKClcbiAgICAgIC5yZXBsYWNlKC9cXHUyMDEzfFxcdTIwMTR8XFx1MjIxMi9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXFx1MjAxOS9nLCBcIidcIilcbiAgICAgIC5yZXBsYWNlKC9bXFx1ZGJjMC1cXHVkYmZlXVtcXHVkYzAwLVxcdWRmZmZdL2csICcnKVxuICAgIC8vIEVhcmxpZXN0IGNoYXJhY3RlciB0aGF0IGhhcyBiZWVuIHVzZWQsIHRvIHdvcmsgb3V0IHRoZSBoZWFkZXJcbiAgICBsZXQgbWluID0gdGhpcy50ZXh0Lmxlbmd0aFxuICAgIC8vIFNUUiwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBsZXQgY2hlY2sgPSB0aGlzLmNoZWNrKCdzdHInLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pW1xuICAgICAgJy1pbmRleCdcbiAgICBdXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIENPTiwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ2NvbicsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIFNJWiwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ3NpeicsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIElOVCwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ2ludCcsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIFBPVywgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ3BvdycsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIERFWCwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ2RleCcsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIEFQUCwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ2FwcCcsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIEVEVSwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ2VkdScsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIFNBTiwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ3NhbicsIHsgdHlwZTogQ29DN0FjdG9ySW1wb3J0ZXIuYXNOdW1iZXIgfSlbJy1pbmRleCddXG4gICAgaWYgKCFpc05hTihjaGVjaykpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY2hlY2spXG4gICAgfVxuICAgIC8vIEhQLCBpZiBiZXJmb3JlIHRoYW4gcHJldmlvdXMgbWluIHVwZGF0ZSBpdFxuICAgIGNoZWNrID0gdGhpcy5jaGVjaygnaHAnLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pWyctaW5kZXgnXVxuICAgIGlmICghaXNOYU4oY2hlY2spKSB7XG4gICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIGNoZWNrKVxuICAgIH1cbiAgICAvLyBNUCwgaWYgYmVyZm9yZSB0aGFuIHByZXZpb3VzIG1pbiB1cGRhdGUgaXRcbiAgICBjaGVjayA9IHRoaXMuY2hlY2soJ21wJywgeyB0eXBlOiBDb0M3QWN0b3JJbXBvcnRlci5hc051bWJlciB9KVsnLWluZGV4J11cbiAgICBpZiAoIWlzTmFOKGNoZWNrKSkge1xuICAgICAgbWluID0gTWF0aC5taW4obWluLCBjaGVjaylcbiAgICB9XG4gICAgLy8gV29yayBvdXQgdGhlIGhlYWRlciBiYXNlZCBvbiBwcmV2aW91cyBtaW5pbXVtIG1hdGNoZWQgY2hhcmFjdGVyXG4gICAgbGV0IGhlYWRlclxuICAgIGlmIChtaW4gPiAwKSB7XG4gICAgICBoZWFkZXIgPSB0aGlzLnRleHQuc3Vic3RyKDAsIG1pbilcbiAgICAgIC8vIEdldCBuYW1lIGZyb20gaGVhZGVyXG4gICAgICBjaGVjayA9IHRoaXMuY2hlY2soJ25hbWUnLCB7IHRleHQ6IGhlYWRlciB9KVxuICAgICAgaWYgKGNoZWNrID09PSBmYWxzZSkge1xuICAgICAgICAvLyBJZiBub3QgZm91bmQgdXNlIGRlZmF1bHQgTlBDIG5hbWVcbiAgICAgICAgdGhpcy5wYXJzZWQubmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbXBvcnRlZFVubmFtZWRDaGFyYWN0ZXInKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVtb3ZlIG5hbWUgZnJvbSBoZWFkZXJcbiAgICAgICAgaGVhZGVyID0gaGVhZGVyLnJlcGxhY2UoY2hlY2tbJy1zb3VyY2UnXSwgJ1xcbicpXG4gICAgICB9XG4gICAgICAvLyBHZXQgYWdlIGZyb20gaGVhZGVyXG4gICAgICBjaGVjayA9IHRoaXMuY2hlY2soJ2FnZScsIHsgdGV4dDogaGVhZGVyIH0pXG4gICAgICBpZiAoY2hlY2sgIT09IGZhbHNlKSB7XG4gICAgICAgIC8vIElmIGZvdW5kIHJlbW92ZSBhZ2UgZnJvbSBoZWFkZXJcbiAgICAgICAgaGVhZGVyID0gaGVhZGVyLnJlcGxhY2UoY2hlY2tbJy1zb3VyY2UnXSwgJ1xcbicpXG4gICAgICB9XG4gICAgICAvLyBHZXQgb2NjdXBhdGlvbiBmcm9tIGhlYWRlclxuICAgICAgaWYgKCF0aGlzLmNoZWNrKCdvY2N1cGF0aW9uJywgeyB0ZXh0OiBoZWFkZXIgfSkgJiYgaGVhZGVyLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgLy8gSWYgb2NjdXBhdGlvbiBpcyBub3QgZm91bmQgYnV0IHRoZXJlIGlzIGEgaGVhZGVyIHNldCB0aGUgb2NjdXBhdGlvbiB0byB0aGUgcmVtYWluaW5nIGhlYWRlclxuICAgICAgICBsZXQgb2NjdXBhdGlvbiA9IGhlYWRlclxuICAgICAgICBpZiAoaGVhZGVyLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBmdWxsIHN0b3AganVzdCB1c2UgdGhlIGZpcnN0IHBhcnQgb2YgdGhlIGhlYWRlciBhcyB0aGUgb2NjdXBhdGlvblxuICAgICAgICAgIG9jY3VwYXRpb24gPSBoZWFkZXIuc3Vic3RyKDAsIGhlYWRlci5pbmRleE9mKCcuJykgKyAxKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyc2VkLm9jY3VwYXRpb24gPSBvY2N1cGF0aW9uXG4gICAgICAgICAgLnJlcGxhY2UoLyhbXFxuXFxyXSspL2csICcgJylcbiAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgLnJlcGxhY2UoLywkLywgJycpXG4gICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5yZXBsYWNlKG9jY3VwYXRpb24udHJpbSgpLCAnXFxuJylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUgaXMgbm8gaGVhZGVyIHNldCBkZWZhdWx0IE5QQyBuYW1lXG4gICAgICB0aGlzLnBhcnNlZC5uYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkltcG9ydGVkVW5uYW1lZENoYXJhY3RlcicpXG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGlzIGFuIG9jY3VwYXRpb24gYnV0IG5vIGFnZSBjaGVjayBpZiB0aGUgb2NjdXBhdGlvbiBzdGFydHMgbnVtYmVyIHNwbGl0IGFnZSBhbmQgb2NjdXBhdGlvblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0aGlzLnBhcnNlZC5vY2N1cGF0aW9uICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIHRoaXMucGFyc2VkLmFnZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICApIHtcbiAgICAgIGNvbnN0IG9jY3VwYXRpb25BZ2UgPSB0aGlzLnBhcnNlZC5vY2N1cGF0aW9uLm1hdGNoKFxuICAgICAgICAvXig/PGFnZT5cXGQrKSwoPzxvY2N1cGF0aW9uPi4rKSQvXG4gICAgICApXG4gICAgICBpZiAob2NjdXBhdGlvbkFnZSkge1xuICAgICAgICB0aGlzLnBhcnNlZC5hZ2UgPSBvY2N1cGF0aW9uQWdlLmdyb3Vwcy5hZ2VcbiAgICAgICAgdGhpcy5wYXJzZWQub2NjdXBhdGlvbiA9IG9jY3VwYXRpb25BZ2UuZ3JvdXBzLm9jY3VwYXRpb24udHJpbSgpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIEdldCBkYW1hZ2UgYm9udXMsIGlmIG5vdCBmb3VuZCBvciBub25lIHNldCB0byAwXG4gICAgaWYgKFxuICAgICAgIXRoaXMuY2hlY2soJ2RiJykgfHxcbiAgICAgIHRoaXMuY2hlY2soJ2RiTm9uZScsIHtcbiAgICAgICAgcmVtb3ZlRnJvbVRleHQ6IGZhbHNlLFxuICAgICAgICBzYXZlS2V5czogZmFsc2UsXG4gICAgICAgIHRleHQ6IHRoaXMucGFyc2VkLmRiXG4gICAgICB9KVxuICAgICkge1xuICAgICAgdGhpcy5wYXJzZWQuZGIgPSAnMCdcbiAgICB9XG4gICAgdGhpcy5wYXJzZWQuZGIgPSB0aGlzLnRyYW5zbGF0ZVJvbGwodGhpcy5wYXJzZWQuZGIpXG4gICAgLy8gR2V0IGJ1aWxkXG4gICAgdGhpcy5jaGVjaygnYnVpbGQnKVxuICAgIC8vIEdldCBhcm1vciwgaWYgbm90IGZvdW5kIG9yIG5vbmUgc2V0IHRvIDBcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jaGVjaygnYXJtb3InKSB8fFxuICAgICAgdGhpcy5jaGVjaygnYXJtb3JOb25lJywge1xuICAgICAgICByZW1vdmVGcm9tVGV4dDogZmFsc2UsXG4gICAgICAgIHNhdmVLZXlzOiBmYWxzZSxcbiAgICAgICAgdGV4dDogdGhpcy5wYXJzZWQuYXJtb3JcbiAgICAgIH0pXG4gICAgKSB7XG4gICAgICB0aGlzLnBhcnNlZC5hcm1vciA9ICcwJ1xuICAgIH1cbiAgICAvLyBHZXQgbW92ZW1lbnRcbiAgICB0aGlzLmNoZWNrKCdtb3YnLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pXG4gICAgLy8gR2V0IGx1Y2tcbiAgICB0aGlzLmNoZWNrKCdsY2snLCB7IHR5cGU6IENvQzdBY3RvckltcG9ydGVyLmFzTnVtYmVyIH0pXG4gICAgLy8gR2V0IHNhbml0eSBsb3NzXG4gICAgdGhpcy5jaGVjaygnc2FuTG9zcycpXG4gICAgdGhpcy5wYXJzZWQuc2FuTG9zcyA9IHRoaXMudHJhbnNsYXRlUm9sbCh0aGlzLnBhcnNlZC5zYW5Mb3NzKVxuICAgIC8vIEdldCBhdHRhY2tzIHBlciByb3VuZCwgaWYgbm90IGZvdW5kIG9yIG5vbmUgc2V0IHRvIDBcbiAgICBpZiAoXG4gICAgICB0aGlzLmNoZWNrKCdhdHRhY2tzUGVyUm91bmQnKSAmJlxuICAgICAgdGhpcy5jaGVjaygnYXR0YWNrc1BlclJvdW5kTm9uZScsIHtcbiAgICAgICAgcmVtb3ZlRnJvbVRleHQ6IGZhbHNlLFxuICAgICAgICBzYXZlS2V5czogZmFsc2UsXG4gICAgICAgIHRleHQ6IHRoaXMucGFyc2VkLmF0dGFja3NQZXJSb3VuZFxuICAgICAgfSlcbiAgICApIHtcbiAgICAgIHRoaXMucGFyc2VkLmF0dGFja3NQZXJSb3VuZCA9ICcwJ1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIGNvbWJhdCBzZWN0aW9uXG4gICAgdGhpcy50ZXh0ID0gJ1xcbicgKyB0aGlzLnRleHRcbiAgICBsZXQgc2VjdGlvbnMgPSB0aGlzLmdldFJlZ0V4KCcoJyArIHRoaXMua2V5cy5zZWN0aW9uQ29tYmF0cyArICcpJywgJ2knKVxuICAgIGlmICh0aGlzLnRleHQubWF0Y2goc2VjdGlvbnMpID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBjb21iYXQgc2VjdGlvbiBndWVzcyB3aGVyZSBpdCBzdGFydHNcbiAgICAgIHNlY3Rpb25zID0gdGhpcy5jaGVjaygnZ3Vlc3NTdGFydENvbWJhdCcsIHtcbiAgICAgICAgc2F2ZUtleXM6IGZhbHNlLFxuICAgICAgICByZW1vdmVGcm9tVGV4dDogZmFsc2VcbiAgICAgIH0pXG4gICAgICBpZiAoc2VjdGlvbnMpIHtcbiAgICAgICAgLy8gQWRkIGEgaGVhZGVyIHRvIHRoZSBzdGFydCBvZiB0aGUgY29tYmF0IHNlY3Rpb25cbiAgICAgICAgdGhpcy50ZXh0ID0gW1xuICAgICAgICAgIHRoaXMudGV4dC5zbGljZSgwLCBzZWN0aW9uc1snLWluZGV4J10pLFxuICAgICAgICAgIHRoaXMua2V5cy5uZXdDb21iYXRIZWFkZXIsXG4gICAgICAgICAgdGhpcy50ZXh0LnNsaWNlKHNlY3Rpb25zWyctaW5kZXgnXSlcbiAgICAgICAgXS5qb2luKCcnKVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBTcGxpdCB0aGUgc2VjdGlvbnMgQ29tYmF0LCBTa2lsbHMsIExhbmd1YWdlcywgYW5kIFNwZWxsc1xuICAgIGNvbnN0IHJlZ0V4cFNlY3Rpb25zID0gdGhpcy5nZXRSZWdFeCh0aGlzLnJlZ0V4LnNlY3Rpb25zLCAnaScpXG4gICAgc2VjdGlvbnMgPSB0aGlzLnRleHQuc3BsaXQocmVnRXhwU2VjdGlvbnMpXG4gICAgaWYgKHNlY3Rpb25zICE9PSBudWxsKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaW0gPSBzZWN0aW9ucy5sZW5ndGg7IGkgPCBpbTsgaSsrKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZWN0aW9uc1tpXS5tYXRjaChcbiAgICAgICAgICAgIHRoaXMuZ2V0UmVnRXgoJygnICsgdGhpcy5rZXlzLnNlY3Rpb25Db21iYXRzICsgJyknLCAnaScpXG4gICAgICAgICAgKSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiBzZWN0aW9uc1tpICsgMV0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIElmIHNlY3Rpb24gaXMgY29tYmF0XG4gICAgICAgICAgdGhpcy50ZXh0ID0gKCdcXG4nICsgdGhpcy50ZXh0ICsgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZShzZWN0aW9uc1tpXSwgJ1xcbicpXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgdGhpcy5wcm9jZXNzQ29tYmF0KHNlY3Rpb25zW2kgKyAxXSlcbiAgICAgICAgICBpKytcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBzZWN0aW9uc1tpXS5tYXRjaChcbiAgICAgICAgICAgIHRoaXMuZ2V0UmVnRXgoJygnICsgdGhpcy5rZXlzLnNlY3Rpb25Ta2lsbHMgKyAnKScsICdpJylcbiAgICAgICAgICApICE9PSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHNlY3Rpb25zW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gSWYgc2VjdGlvbiBpcyBza2lsbHNcbiAgICAgICAgICB0aGlzLnRleHQgPSAoJ1xcbicgKyB0aGlzLnRleHQgKyAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHNlY3Rpb25zW2ldLCAnXFxuJylcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICB0aGlzLnByb2Nlc3NTa2lsbHMoc2VjdGlvbnNbaSArIDFdKVxuICAgICAgICAgIGkrK1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHNlY3Rpb25zW2ldLm1hdGNoKFxuICAgICAgICAgICAgdGhpcy5nZXRSZWdFeCgnKCcgKyB0aGlzLmtleXMuc2VjdGlvbkxhbmdhdWdlcyArICcpJywgJ2knKVxuICAgICAgICAgICkgIT09IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2Ygc2VjdGlvbnNbaSArIDFdICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBJZiBzZWN0aW9uIGlzIGxhbmd1YWdlc1xuICAgICAgICAgIHRoaXMudGV4dCA9ICgnXFxuJyArIHRoaXMudGV4dCArICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2Uoc2VjdGlvbnNbaV0sICdcXG4nKVxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgIHRoaXMucHJvY2Vzc1NraWxscyhzZWN0aW9uc1tpICsgMV0sICdsYW5ndWFnZXMnKVxuICAgICAgICAgIGkrK1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHNlY3Rpb25zW2ldLm1hdGNoKFxuICAgICAgICAgICAgdGhpcy5nZXRSZWdFeCgnKCcgKyB0aGlzLmtleXMuc2VjdGlvblNwZWxscyArICcpJywgJ2knKVxuICAgICAgICAgICkgIT09IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2Ygc2VjdGlvbnNbaSArIDFdICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBJZiBzZWN0aW9uIGlzIHNwZWxsc1xuICAgICAgICAgIHRoaXMudGV4dCA9ICgnXFxuJyArIHRoaXMudGV4dCArICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2Uoc2VjdGlvbnNbaV0sICdcXG4nKVxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgIHRoaXMucHJvY2Vzc1NwZWxscyhzZWN0aW9uc1tpICsgMV0pXG4gICAgICAgICAgaSsrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQW55IHJlbWFpbmluZyB0ZXh0IGFkZCB0byBHTSBub3RlcyBzbyB5b3UgY2FuIGVhc2lseSBzZWUgaWYgdGhlcmUgYXJlIGFueSBvYnZpb3VzIGlzc3VlIG9yIGp1c3QgZ2VuZXJhbCBub3Rlc1xuICAgIHRoaXMucGFyc2VkLmdtbm90ZXMgPSB0aGlzLnRvSFRNTCh0aGlzLnRleHQpXG4gICAgcmV0dXJuIHRoaXMucGFyc2VkXG4gIH1cblxuICBkaXNhYmxlQXR0cmliQXV0byAoa2V5LCBhdHRyaWJWYWx1ZSwgY2hlY2ssIHVwZGF0ZURhdGEpIHtcbiAgICBjb25zdCB2YWx1ZSA9IE1hdGgubWF4KDAsIE51bWJlcihhdHRyaWJWYWx1ZSkpXG4gICAgaWYgKHZhbHVlICE9PSBOdW1iZXIoY2hlY2spKSB7XG4gICAgICB1cGRhdGVEYXRhW2BzeXN0ZW0uYXR0cmlicy4ke2tleX0uYXV0b2BdID0gZmFsc2VcbiAgICAgIHVwZGF0ZURhdGFbYHN5c3RlbS5hdHRyaWJzLiR7a2V5fS52YWx1ZWBdID0gdmFsdWVcbiAgICAgIGlmIChrZXkgPT09ICdidWlsZCcpIHtcbiAgICAgICAgdXBkYXRlRGF0YVtgc3lzdGVtLmF0dHJpYnMuJHtrZXl9LmN1cnJlbnRgXSA9IHZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVEYXRhW2BzeXN0ZW0uYXR0cmlicy4ke2tleX0ubWF4YF0gPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlbnRpdHkgKGBucGNgIG9yIGBjcmVhdHVyZWApIGZyb20gdGhlIG9iamVjdCB3aXRoIHRoZSBhbHJlYWR5IHBhcnNlZCBlbnRpdHkgZGF0YVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2hhcmFjdGVyRGF0YSBvYmplY3Qgd2l0aCB0aGUgZGF0YSBleHRyYWN0ZWQgZnJvbSB0aGUgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbnRpdHlUeXBlU3RyaW5nIGVudGl0eSB0eXBlIG9idGFpbmVkIGZyb20gdGhlIHVzZXIgaW5wdXRcbiAgICogQHJldHVybnMge0FjdG9yfSB0aGUgY3JlYXRlZCBmb3VuZHJ5IGBBY3RvcmBcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUVudGl0eSAoY2hhcmFjdGVyRGF0YSwgZW50aXR5VHlwZSkge1xuICAgIGNvbnN0IGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlciA9XG4gICAgICBhd2FpdCBDb0M3VXRpbGl0aWVzLmNyZWF0ZUltcG9ydENoYXJhY3RlcnNGb2xkZXJJZk5vdEV4aXN0cygpXG4gICAgaWYgKGVudGl0eVR5cGUgIT09ICducGMnKSB7XG4gICAgICBlbnRpdHlUeXBlID0gJ2NyZWF0dXJlJ1xuICAgIH1cbiAgICBjb25zdCBhY3RvckRhdGEgPSB7XG4gICAgICBuYW1lOiBjaGFyYWN0ZXJEYXRhLm5hbWUsXG4gICAgICB0eXBlOiBlbnRpdHlUeXBlLFxuICAgICAgZm9sZGVyOiBpbXBvcnRlZENoYXJhY3RlcnNGb2xkZXIuaWQsXG4gICAgICBkYXRhOiBjaGFyYWN0ZXJEYXRhLmFjdG9yXG4gICAgfVxuICAgIGNvbnN0IG5wYyA9IGF3YWl0IEFjdG9yLmNyZWF0ZShhY3RvckRhdGEpXG4gICAgYXdhaXQgbnBjLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgY2hhcmFjdGVyRGF0YS5pdGVtcywge1xuICAgICAgcmVuZGVyU2hlZXQ6IGZhbHNlXG4gICAgfSlcbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge31cbiAgICBsZXQgdmFsdWUgPSAwXG4gICAgaWYgKHR5cGVvZiBjaGFyYWN0ZXJEYXRhLmFjdG9yLmF0dHJpYnMuaHA/LnZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kaXNhYmxlQXR0cmliQXV0byhcbiAgICAgICAgJ2hwJyxcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLmhwLnZhbHVlLFxuICAgICAgICBucGMuaHBNYXgsXG4gICAgICAgIHVwZGF0ZURhdGFcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjaGFyYWN0ZXJEYXRhLmFjdG9yLmF0dHJpYnMubXA/LnZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kaXNhYmxlQXR0cmliQXV0byhcbiAgICAgICAgJ21wJyxcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLm1wLnZhbHVlLFxuICAgICAgICBucGMubXBNYXgsXG4gICAgICAgIHVwZGF0ZURhdGFcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjaGFyYWN0ZXJEYXRhLmFjdG9yLmF0dHJpYnMubW92Py52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUF0dHJpYkF1dG8oXG4gICAgICAgICdtb3YnLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhLmFjdG9yLmF0dHJpYnMubW92LnZhbHVlLFxuICAgICAgICBucGMubW92LFxuICAgICAgICB1cGRhdGVEYXRhXG4gICAgICApXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLmJ1aWxkPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUF0dHJpYkF1dG8oXG4gICAgICAgICdidWlsZCcsXG4gICAgICAgIGNoYXJhY3RlckRhdGEuYWN0b3IuYXR0cmlicy5idWlsZC52YWx1ZSxcbiAgICAgICAgbnBjLmJ1aWxkLFxuICAgICAgICB1cGRhdGVEYXRhXG4gICAgICApXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hhcmFjdGVyRGF0YS5hY3Rvci5hdHRyaWJzLmRiPy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKGNoYXJhY3RlckRhdGEuYWN0b3IuYXR0cmlicy5kYi52YWx1ZSkucmVwbGFjZSgvXlxcK1xccyovLCAnJylcbiAgICAgIGlmICh2YWx1ZSAhPT0gU3RyaW5nKG5wYy5kYikpIHtcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF0dHJpYnMuZGIuYXV0byddID0gZmFsc2VcbiAgICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLmF0dHJpYnMuZGIudmFsdWUnXSA9IHZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyh1cGRhdGVEYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCd1cGRhdGVEYXRhOicsIHVwZGF0ZURhdGEpXG4gICAgICB9XG4gICAgICBhd2FpdCBucGMudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1EYXRhID0gW11cbiAgICBsZXQgbGFzdFdlYXBvblNraWxsID0gbnVsbFxuICAgIGZvciAoY29uc3QgcGFpciBvZiB0aGlzLndlYXBvblNraWxscykge1xuICAgICAgaWYgKHBhaXJbMF0gIT09IGZhbHNlKSB7XG4gICAgICAgIGxhc3RXZWFwb25Ta2lsbCA9IG5wYy5pdGVtcy5maWx0ZXIoXG4gICAgICAgICAgaSA9PiBpLm5hbWUgPT09IHBhaXJbMF0ubmFtZSAmJlxuICAgICAgICAgICAgaS50eXBlID09PSAnc2tpbGwnICYmXG4gICAgICAgICAgICBOdW1iZXIoaS5zeXN0ZW0udmFsdWUpID09PSBOdW1iZXIocGFpclswXS5zeXN0ZW0udmFsdWUpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGNvbnN0IHdlYXBvbiA9IG5wYy5pdGVtcy5maWx0ZXIoXG4gICAgICAgIGkgPT4gaS5uYW1lID09PSBwYWlyWzFdLm5hbWUgJiZcbiAgICAgICAgICBpLnR5cGUgPT09ICd3ZWFwb24nICYmXG4gICAgICAgICAgaS5zeXN0ZW0ucmFuZ2Uubm9ybWFsLmRhbWFnZSA9PT0gcGFpclsxXS5zeXN0ZW0ucmFuZ2Uubm9ybWFsLmRhbWFnZVxuICAgICAgKVxuICAgICAgaWYgKGxhc3RXZWFwb25Ta2lsbFswXSAmJiB3ZWFwb25bMF0pIHtcbiAgICAgICAgdXBkYXRlSXRlbURhdGEucHVzaCh7XG4gICAgICAgICAgX2lkOiB3ZWFwb25bMF0uaWQsXG4gICAgICAgICAgJ3N5c3RlbS5za2lsbC5tYWluLmlkJzogbGFzdFdlYXBvblNraWxsWzBdLmlkLFxuICAgICAgICAgICdzeXN0ZW0uc2tpbGwubWFpbi5uYW1lJzogbGFzdFdlYXBvblNraWxsWzBdLm5hbWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwZGF0ZUl0ZW1EYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ3VwZGF0ZUl0ZW1EYXRhOicsIHVwZGF0ZUl0ZW1EYXRhKVxuICAgICAgfVxuICAgICAgYXdhaXQgbnBjLnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgdXBkYXRlSXRlbURhdGEpXG4gICAgfVxuICAgIHJldHVybiBucGNcbiAgfVxuXG4gIC8qKlxuICAgKiBhY3RvckRhdGEsIGNvbnZlcnQgcGFyc2VDaGFyYWN0ZXIgZGF0YSBpbnRvIEFjdG9yIGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9IHBjIG9iamVjdCB3aXRoIHRoZSBkYXRhIGV4dHJhY3RlZCBmcm9tIHRoZSBjaGFyYWN0ZXIgYXMgcmV0dXJuZWQgZnJvbSBgcGFyc2VDaGFyYWN0ZXJgXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGZvcm1hdHRlZCBBY3RvciBkYXRhXG4gICAqL1xuICBhY3RvckRhdGEgKHBjKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGNoYXJhY3RlcmlzdGljczoge30sXG4gICAgICBhdHRyaWJzOiB7fSxcbiAgICAgIGluZm9zOiB7fSxcbiAgICAgIHNwZWNpYWw6IHt9LFxuICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAga2VlcGVyOiAnJ1xuICAgICAgfSxcbiAgICAgIGZsYWdzOiB7XG4gICAgICAgIGxvY2tlZDogZmFsc2UsXG4gICAgICAgIGRpc3BsYXlGb3JtdWxhOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbXG4gICAgICAnc3RyJyxcbiAgICAgICdjb24nLFxuICAgICAgJ3NpeicsXG4gICAgICAnZGV4JyxcbiAgICAgICdhcHAnLFxuICAgICAgJ2ludCcsXG4gICAgICAncG93JyxcbiAgICAgICdlZHUnXG4gICAgXSkge1xuICAgICAgaWYgKHR5cGVvZiBwY1trZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkYXRhLmNoYXJhY3RlcmlzdGljc1trZXldID0ge1xuICAgICAgICAgIHZhbHVlOiBOdW1iZXIocGNba2V5XSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbJ3NhbicsICdtb3YnLCAnYnVpbGQnLCAnYXJtb3InLCAnbGNrJywgJ2hwJywgJ21wJ10pIHtcbiAgICAgIGlmICh0eXBlb2YgcGNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGF0YS5hdHRyaWJzW2tleV0gPSB7XG4gICAgICAgICAgdmFsdWU6IE51bWJlcihwY1trZXldKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGMuZGIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLmF0dHJpYnMuZGIgPSB7XG4gICAgICAgIHZhbHVlOiBwYy5kYlxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbJ2FnZScsICdvY2N1cGF0aW9uJ10pIHtcbiAgICAgIGlmICh0eXBlb2YgcGNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGF0YS5pbmZvc1trZXldID0gcGNba2V5XVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHBjLnNhbkxvc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBbcGFzc2VkLCBmYWlsZWRdID0gcGMuc2FuTG9zcy5zcGxpdCgnLycpXG4gICAgICBkYXRhLnNwZWNpYWwuc2FuTG9zcyA9IHtcbiAgICAgICAgY2hlY2tQYXNzZWQ6IHBhc3NlZCxcbiAgICAgICAgY2hlY2tGYWlsbGVkOiBmYWlsZWRcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYy5hdHRhY2tzUGVyUm91bmQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLnNwZWNpYWwuYXR0YWNrc1BlclJvdW5kID0gTnVtYmVyKHBjLmF0dGFja3NQZXJSb3VuZClcbiAgICB9XG4gICAgZGF0YS5kZXNjcmlwdGlvbi5rZWVwZXIgPSBwYy5nbW5vdGVzXG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ2FjdG9yRGF0YTonLCBkYXRhKVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLyoqXG4gICAqIGl0ZW1zRGF0YSwgY29udmVydCBwYXJzZUNoYXJhY3RlciBkYXRhIGludG8gQWN0b3IgaXRlbSBkYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYyBvYmplY3Qgd2l0aCB0aGUgZGF0YSBleHRyYWN0ZWQgZnJvbSB0aGUgY2hhcmFjdGVyIGFzIHJldHVybmVkIGZyb20gYHBhcnNlQ2hhcmFjdGVyYFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBmb3JtYXR0ZWQgQWN0b3IgZGF0YVxuICAgKi9cbiAgYXN5bmMgaXRlbXNEYXRhIChwYykge1xuICAgIGNvbnN0IGl0ZW1zID0gW11cbiAgICB0aGlzLndlYXBvblNraWxscyA9IFtdXG4gICAgLy8gV2VhcG9uIHNraWxsc1xuICAgIGlmICh0eXBlb2YgcGMuYXR0YWNrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAoY29uc3QgYXR0YWNrIG9mIHBjLmF0dGFja3MpIHtcbiAgICAgICAgbGV0IHNraWxsID0gZmFsc2VcbiAgICAgICAgaWYgKGF0dGFjay5zeXN0ZW0/LnNraWxsPy5pZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHNraWxsID0gYXdhaXQgdGhpcy53ZWFwb25Ta2lsbChhdHRhY2spXG4gICAgICAgICAgaXRlbXMucHVzaChza2lsbClcbiAgICAgICAgfVxuICAgICAgICBhdHRhY2suc3lzdGVtLnNraWxsLmlkID0gbnVsbFxuICAgICAgICBpdGVtcy5wdXNoKGF0dGFjaylcbiAgICAgICAgdGhpcy53ZWFwb25Ta2lsbHMucHVzaChbc2tpbGwsIGF0dGFja10pXG4gICAgICB9XG4gICAgfVxuICAgIC8vIFNraWxsc1xuICAgIGlmICh0eXBlb2YgcGMuc2tpbGxzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZm9yIChjb25zdCBza2lsbCBvZiBwYy5za2lsbHMpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCBza2lsbC5uYW1lLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBjbG9uZWQgPSBleGlzdGluZy50b09iamVjdCgpXG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5iYXNlID0gc2tpbGwudmFsdWVcbiAgICAgICAgICBpZiAodHlwZW9mIHNraWxsLnB1c2ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMucHVzaCA9IHNraWxsLnB1c2hcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbXMucHVzaChkdXBsaWNhdGUoY2xvbmVkKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBvcHRpb25zID0ge31cbiAgICAgICAgICBpZiAodHlwZW9mIHNraWxsLnB1c2ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2ggPSBza2lsbC5wdXNoXG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW1zLnB1c2goQ29DQWN0b3IuZW1wdHlTa2lsbChza2lsbC5uYW1lLCBza2lsbC52YWx1ZSwgb3B0aW9ucykpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTGFuZ3VhZ2VzXG4gICAgaWYgKHR5cGVvZiBwYy5sYW5ndWFnZXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHBjLmxhbmd1YWdlcykge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsIHNraWxsLm5hbWUsIHtcbiAgICAgICAgICBzb3VyY2U6IHRoaXMuaXRlbUxvY2F0aW9uc1xuICAgICAgICB9KVxuICAgICAgICBpZiAodHlwZW9mIGV4aXN0aW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IGNsb25lZCA9IGV4aXN0aW5nLnRvT2JqZWN0KClcbiAgICAgICAgICBjbG9uZWQuc3lzdGVtLmJhc2UgPSBza2lsbC52YWx1ZVxuICAgICAgICAgIGl0ZW1zLnB1c2goZHVwbGljYXRlKGNsb25lZCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbXMucHVzaChcbiAgICAgICAgICAgIENvQ0FjdG9yLmVtcHR5U2tpbGwoc2tpbGwubmFtZSwgc2tpbGwudmFsdWUsIHtcbiAgICAgICAgICAgICAgaW1nOiBDb0M3SXRlbS5pY29uTGFuZ3VhZ2UsXG4gICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uOiAnTGFuZ3VhZ2UnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBTcGVsbHNcbiAgICBpZiAodHlwZW9mIHBjLnNwZWxscyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBwYy5zcGVsbHMpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc3BlbGwnLCBuYW1lLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBjbG9uZWQgPSBleGlzdGluZy50b09iamVjdCgpXG4gICAgICAgICAgaXRlbXMucHVzaChkdXBsaWNhdGUoY2xvbmVkKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtcy5wdXNoKENvQ0FjdG9yLmVtcHR5U3BlbGwobmFtZSkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zXG4gIH1cblxuICAvKiogd2VhcG9uU2tpbGwgdHJpZXMgdG8gZ3Vlc3Mgd2hhdCBraW5kIG9mIHdlYXBvbiBza2lsbCB0byB1c2UgZm9yIHdlYXBvbiBmcm9tIGl0J3MgbmFtZVxuICAgKiBAcGFyYW0gd2VhcG9uOiBKU09OLCB3ZWFwb24gZGF0YVxuICAgKi9cbiAgYXN5bmMgd2VhcG9uU2tpbGwgKHdlYXBvbikge1xuICAgIGxldCBza2lsbCA9IG51bGxcbiAgICBpZiAodGhpcy5nZXRSZWdFeCgnaGFuZGd1bicpLmV4ZWMod2VhcG9uLm5hbWUpKSB7XG4gICAgICBza2lsbCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsICdIYW5kZ3VuJywge1xuICAgICAgICBjb21iYXQ6IHRydWUsXG4gICAgICAgIHNvdXJjZTogdGhpcy5pdGVtTG9jYXRpb25zXG4gICAgICB9KVxuICAgICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgJHt3ZWFwb24ubmFtZX0gdXNlcyBIYW5kZ3VuIHNraWxsOiAke3NraWxsfWApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmdldFJlZ0V4KCdyaWZsZScpLmV4ZWMod2VhcG9uLm5hbWUpKSB7XG4gICAgICBza2lsbCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsICdSaWZsZS9TaG90Z3VuJywge1xuICAgICAgICBjb21iYXQ6IHRydWUsXG4gICAgICAgIHNvdXJjZTogdGhpcy5pdGVtTG9jYXRpb25zXG4gICAgICB9KVxuICAgICAgaWYgKCFza2lsbCkge1xuICAgICAgICBza2lsbCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsICdSaWZsZScsIHtcbiAgICAgICAgICBjb21iYXQ6IHRydWUsXG4gICAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKCFza2lsbCkge1xuICAgICAgICAgIHNraWxsID0gYXdhaXQgQ29DN1V0aWxpdGllcy5ndWVzc0l0ZW0oJ3NraWxsJywgJ1Nob3RndW4nLCB7XG4gICAgICAgICAgICBjb21iYXQ6IHRydWUsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaXRlbUxvY2F0aW9uc1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYCR7d2VhcG9uLm5hbWV9IHVzZXMgUmlmbGUgc2tpbGw6ICR7c2tpbGx9YClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0UmVnRXgoJ3NtYicpLmV4ZWMod2VhcG9uLm5hbWUpKSB7XG4gICAgICBza2lsbCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsICdTdWJtYWNoaW5lIEd1bicsIHtcbiAgICAgICAgY29tYmF0OiB0cnVlLFxuICAgICAgICBzb3VyY2U6IHRoaXMuaXRlbUxvY2F0aW9uc1xuICAgICAgfSlcbiAgICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYCR7d2VhcG9uLm5hbWV9IHVzZXMgU3VibWFjaGluZSBHdW4gc2tpbGw6ICR7c2tpbGx9YClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0UmVnRXgoJ21hY2hpbmVHdW4nKS5leGVjKHdlYXBvbi5uYW1lKSkge1xuICAgICAgc2tpbGwgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnc2tpbGwnLCAnTWFjaGluZSBHdW4nLCB7XG4gICAgICAgIGNvbWJhdDogdHJ1ZSxcbiAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgIH0pXG4gICAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGAke3dlYXBvbi5uYW1lfSB1c2VzIE1hY2hpbmUgR3VuIHNraWxsOiAke3NraWxsfWApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmdldFJlZ0V4KCdsYXVuY2hlZCcpLmV4ZWMod2VhcG9uLm5hbWUpKSB7XG4gICAgICBza2lsbCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsICdMYXVuY2gnLCB7XG4gICAgICAgIGNvbWJhdDogdHJ1ZSxcbiAgICAgICAgc291cmNlOiB0aGlzLml0ZW1Mb2NhdGlvbnNcbiAgICAgIH0pXG4gICAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGAke3dlYXBvbi5uYW1lfSB1c2VzIExhdW5jaCBza2lsbDogJHtza2lsbH1gKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2tpbGwgIT09IG51bGwgJiYgdHlwZW9mIHNraWxsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc2tpbGxDbG9uZSA9IHNraWxsLmNsb25lKHtcbiAgICAgICAgc3lzdGVtOiB7XG4gICAgICAgICAgdmFsdWU6IHdlYXBvbi5zeXN0ZW0/LnNraWxsPy5pZFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHNraWxsQ2xvbmVcbiAgICB9XG4gICAgY29uc3QgZmlyZWFybXMgPSB3ZWFwb24uc3lzdGVtPy5wcm9wZXJ0aWVzPy5ybmdkXG4gICAgY29uc3QgcGFydHMgPSBDb0M3SXRlbS5nZXROYW1lUGFydHNTcGVjKFxuICAgICAgd2VhcG9uLm5hbWUsXG4gICAgICBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgIGZpcmVhcm1zXG4gICAgICAgICAgPyAnQ29DNy5GaXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lJ1xuICAgICAgICAgIDogJ0NvQzcuRmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWUnXG4gICAgICApXG4gICAgKVxuICAgIGNvbnN0IG5ld1NraWxsID0ge1xuICAgICAgdHlwZTogJ3NraWxsJyxcbiAgICAgIG5hbWU6IHBhcnRzLm5hbWUsXG4gICAgICBzeXN0ZW06IHtcbiAgICAgICAgc2tpbGxOYW1lOiBwYXJ0cy5za2lsbE5hbWUsXG4gICAgICAgIHNwZWNpYWxpemF0aW9uOiBwYXJ0cy5zcGVjaWFsaXphdGlvbixcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHNwZWNpYWw6IHRydWUsXG4gICAgICAgICAgZmlnaHRpbmc6ICFmaXJlYXJtcyxcbiAgICAgICAgICBmaXJlYXJtOiBmaXJlYXJtcyxcbiAgICAgICAgICBjb21iYXQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYmFzZTogd2VhcG9uLnN5c3RlbT8uc2tpbGw/LmlkLFxuICAgICAgICB2YWx1ZTogd2VhcG9uLnN5c3RlbT8uc2tpbGw/LmlkXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKFxuICAgICAgICBgV2VhcG9uIHNraWxsIG5vdCBmb3VuZCBmb3IgJHt3ZWFwb24ubmFtZX0sIGNyZWF0aW5nIGEgbmV3IG9uZWAsXG4gICAgICAgIG5ld1NraWxsXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBuZXdTa2lsbFxuICB9XG5cbiAgLyoqXG4gICAqIG5lZWRzQ29udmVyc2lvbiBkb2VzIGFuIGV2YWx1YXRpb24gdG8gc2VlIGlmIHRoZSBnaXZlbiBucGMgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIDd0aCBFZGl0aW9uXG4gICAqIFJldHVybnMgYGZhbHNlYCB3aGVuIGFueSBvZiB0aGUgQ2hhcmFjdGVyaXN0aWNzIHZhbHVlIGl0J3MgYWJvdmUgMjlcbiAgICovXG4gIG5lZWRzQ29udmVyc2lvbiAobnBjKSB7XG4gICAgbGV0IG5lZWRzQ29udmVyc2lvblJlc3VsdCA9IHRydWVcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbXG4gICAgICAnc3RyJyxcbiAgICAgICdjb24nLFxuICAgICAgJ3NpeicsXG4gICAgICAnZGV4JyxcbiAgICAgICdhcHAnLFxuICAgICAgJ2ludCcsXG4gICAgICAncG93JyxcbiAgICAgICdlZHUnXG4gICAgXSkge1xuICAgICAgaWYgKHR5cGVvZiBucGNba2V5XSAhPT0gJ3VuZGVmaW5lZCcgJiYgbnBjW2tleV0gPiAzMCkge1xuICAgICAgICBuZWVkc0NvbnZlcnNpb25SZXN1bHQgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnbmVlZHNDb252ZXJzaW9uOicsIG5lZWRzQ29udmVyc2lvblJlc3VsdClcbiAgICB9XG4gICAgcmV0dXJuIG5lZWRzQ29udmVyc2lvblJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIGNyZWF0ZUFjdG9yIG1haW4gbWV0aG9kIHRvIGNyZWF0ZSBhbiBgQWN0b3JgIGZyb20gYSBnaXZlIHVzZXIgaW5wdXQsIHRha2VzIG9uIGFjY291bnQgdGhlIGxhbmcsIGVudGl0eSB0eXBlLFxuICAgKiB0aGUgY29udmVydCB0byA3IEVkaXRpb24gZmxhZywgYW5kIHRoZSByYXcgZW50aXR5IGRhdGEuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dHMgaW5wdXRzIGZyb20gdGhlIGZvcm0gdG8gY3JlYXRlIGFuIEFjdG9yXG4gICAqIEByZXR1cm5zIHtBY3Rvcn0gdGhlIGZvdW5kcnkgYEFjdG9yYCBmcm9tIHRoZSBnaXZlbiBgaW5wdXRgIG9wdGlvbnNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUFjdG9yIChpbnB1dHMpIHtcbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnY3JlYXRlQWN0b3I6JywgaW5wdXRzKVxuICAgIH1cbiAgICBjb25zdCBsYW5nID0gQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAuY2hlY2tMYW5ndWFnZShpbnB1dHMubGFuZylcbiAgICB0aGlzLmtleXMgPSBDb0M3QWN0b3JJbXBvcnRlclJlZ0V4cC5nZXRLZXlzKGxhbmcpXG4gICAgdGhpcy5yZWdFeCA9IENvQzdBY3RvckltcG9ydGVyUmVnRXhwLmdldFJlZ3VsYXJFeHByZXNzaW9ucyhsYW5nKVxuICAgIHRoaXMuaXRlbUxvY2F0aW9ucyA9IGlucHV0cy5zb3VyY2VcbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnUmVndWxhciBFeHByZXNzaW9uczonLCBsYW5nLCB0aGlzLmtleXMsIHRoaXMucmVnRXgpXG4gICAgfVxuICAgIGxldCBjaGFyYWN0ZXIgPSBhd2FpdCB0aGlzLnBhcnNlQ2hhcmFjdGVyKGlucHV0cy50ZXh0KVxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdwYXJzZUNoYXJhY3RlcjonLCBjaGFyYWN0ZXIpXG4gICAgfVxuICAgIGlmIChcbiAgICAgIChpbnB1dHMuY29udmVydEZyb202RSA9PT0gJ2NvYy1ndWVzcycgJiZcbiAgICAgICAgdGhpcy5uZWVkc0NvbnZlcnNpb24oY2hhcmFjdGVyKSkgfHxcbiAgICAgIGlucHV0cy5jb252ZXJ0RnJvbTZFID09PSAnY29jLWNvbnZlcnQnXG4gICAgKSB7XG4gICAgICBjaGFyYWN0ZXIgPSBhd2FpdCB0aGlzLmNvbnZlcnQ3RShjaGFyYWN0ZXIpXG4gICAgfVxuICAgIGNvbnN0IGNoYXJhY3RlckRhdGEgPSB7XG4gICAgICBuYW1lOiBjaGFyYWN0ZXIubmFtZSxcbiAgICAgIGFjdG9yOiB0aGlzLmFjdG9yRGF0YShjaGFyYWN0ZXIpLFxuICAgICAgaXRlbXM6IGF3YWl0IHRoaXMuaXRlbXNEYXRhKGNoYXJhY3RlcilcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlucHV0cy50ZXN0TW9kZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5wdXRzLnRlc3RNb2RlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyRGF0YVxuICAgIH1cbiAgICBjb25zdCBucGMgPSBhd2FpdCB0aGlzLmNyZWF0ZUVudGl0eShjaGFyYWN0ZXJEYXRhLCBpbnB1dHMuZW50aXR5KVxuICAgIHJldHVybiBucGNcbiAgfVxuXG4gIC8qKlxuICAgKiBjb252ZXJ0N0UgQ29udmVydHMgdGhlIGdpdmVuIGVudGl0eSBmcm9tIDYgZWRpdGlvbiB0byA3IGVkaXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IHRoZSBlbnRpdHkgb2JqZWN0IGFzIG9idGFpbmVkIGZyb20gYHBhcnNlQ2hhcmFjdGVyYFxuICAgKiBAcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBidXQgd2l0aCB1cGRhdGVkIGNoYXJhY3RlcmlzdGljcyBmb3IgNyBlZGl0aW9uXG4gICAqL1xuICBhc3luYyBjb252ZXJ0N0UgKGNyZWF0dXJlKSB7XG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0NvbnZlcnRpbmcgbnBjJywgY3JlYXR1cmUpXG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIFsnc3RyJywgJ2NvbicsICdzaXonLCAnZGV4JywgJ2FwcCcsICdpbnQnLCAncG93J10pIHtcbiAgICAgIGlmICh0eXBlb2YgY3JlYXR1cmVba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY3JlYXR1cmVba2V5XSAqPSA1XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY3JlYXR1cmUuZWR1ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGNyZWF0dXJlLmVkdSA8PSAxOCkge1xuICAgICAgICBjcmVhdHVyZS5lZHUgKj0gNVxuICAgICAgfSBlbHNlIGlmIChjcmVhdHVyZS5lZHUgPD0gMjYpIHtcbiAgICAgICAgY3JlYXR1cmUuZWR1ID0gY3JlYXR1cmUuZWR1ICsgOTAgLSAxOFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXR1cmUuZWR1ID49MjhcbiAgICAgICAgY3JlYXR1cmUuZWR1ID0gOTlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjcmVhdHVyZS5kYiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChjcmVhdHVyZS5kYiA9PT0gJy0xZDQnKSB7XG4gICAgICAgIGNyZWF0dXJlLmRiID0gLTFcbiAgICAgIH0gZWxzZSBpZiAoY3JlYXR1cmUuZGIgPT09ICctMWQ2Jykge1xuICAgICAgICBjcmVhdHVyZS5kYiA9IC0yXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdjb252ZXJ0N0U6ICcsIGNyZWF0dXJlKVxuICAgIH1cbiAgICByZXR1cm4gY3JlYXR1cmVcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIEZpbGUsIEZpbGVQaWNrZXIsIGdhbWUsIHVpICovXG5leHBvcnQgY2xhc3MgQ29DN0RpcmVjdG9yeVBpY2tlciBleHRlbmRzIEZpbGVQaWNrZXIge1xuICBnZXQgdGl0bGUgKCkge1xuICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUGlja0RpcmVjdG9yeScpXG4gIH1cblxuICBfb25TdWJtaXQgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHBhdGggPSBldmVudC50YXJnZXQudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgYWN0aXZlU291cmNlID0gdGhpcy5hY3RpdmVTb3VyY2VcbiAgICBjb25zdCBidWNrZXQgPSBldmVudC50YXJnZXQuYnVja2V0ID8gZXZlbnQudGFyZ2V0LmJ1Y2tldC52YWx1ZSA6IG51bGxcbiAgICB0aGlzLmZpZWxkLnZhbHVlID0gQ29DN0RpcmVjdG9yeVBpY2tlci5mb3JtYXQoe1xuICAgICAgYWN0aXZlU291cmNlLFxuICAgICAgYnVja2V0LFxuICAgICAgcGF0aFxuICAgIH0pXG4gICAgdGhpcy5jbG9zZSgpXG4gIH1cblxuICBzdGF0aWMgRGVmYXVsdERpcmVjdG9yeSAodmFsKSB7XG4gICAgcmV0dXJuIHZhbCA9PT0gbnVsbCA/ICcnIDogU3RyaW5nKHZhbClcbiAgfVxuXG4gIHN0YXRpYyBmb3JtYXQgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmJ1Y2tldCAhPT0gbnVsbFxuICAgICAgPyBgWyR7dmFsdWUuYWN0aXZlU291cmNlfToke3ZhbHVlLmJ1Y2tldH1dICR7dmFsdWUucGF0aH1gXG4gICAgICA6IGBbJHt2YWx1ZS5hY3RpdmVTb3VyY2V9XSAke3ZhbHVlLnBhdGh9YFxuICB9XG5cbiAgc3RhdGljIHBhcnNlIChyYXcpIHtcbiAgICBjb25zdCBzdHIgPSByYXcgPz8gJydcbiAgICBjb25zdCBtYXRjaGVzID0gc3RyLm1hdGNoKC9eXFxbKFteOl0rKSg6KC4rKSk/XFxdXFxzKiguKyk/JC91KVxuXG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGl2ZVNvdXJjZTogbWF0Y2hlc1sxXSxcbiAgICAgICAgYnVja2V0OiBtYXRjaGVzWzNdID8/ICcnLFxuICAgICAgICBjdXJyZW50OiBtYXRjaGVzWzRdXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVTb3VyY2U6ICdkYXRhJyxcbiAgICAgIGJ1Y2tldDogbnVsbCxcbiAgICAgIGN1cnJlbnQ6IHN0clxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBwcm9jZXNzSHRtbCAoaHRtbCkge1xuICAgICQoaHRtbClcbiAgICAgIC5maW5kKCdpbnB1dFtkYXRhLWR0eXBlPVwiRGVmYXVsdERpcmVjdG9yeVwiXScpXG4gICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSAkKGVsKVxuICAgICAgICBpbnB1dC5wcm9wKCdyZWFkb25seScsIHRydWUpXG4gICAgICAgIGlmICghaW5wdXQubmV4dCgpLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHBpY2tlciA9IG5ldyBDb0M3RGlyZWN0b3J5UGlja2VyKHtcbiAgICAgICAgICAgIGZpZWxkOiBpbnB1dFswXSxcbiAgICAgICAgICAgIC4uLkNvQzdEaXJlY3RvcnlQaWNrZXIucGFyc2UoaW5wdXQudmFsKCkpXG4gICAgICAgICAgfSlcbiAgICAgICAgICBjb25zdCBwaWNrZXJCdXR0b24gPSAkKFxuICAgICAgICAgICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiZmlsZS1waWNrZXJcIiB0aXRsZT1cIicgK1xuICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUGlja0RpcmVjdG9yeScpICtcbiAgICAgICAgICAgICAgJ1wiPjxpIGNsYXNzPVwiZmFzIGZhLWZpbGUtaW1wb3J0IGZhLWZ3XCI+PC9pPjwvYnV0dG9uPidcbiAgICAgICAgICApXG4gICAgICAgICAgQ29DN0RpcmVjdG9yeVBpY2tlci5jcmVhdGVEZWZhdWx0RGlyZWN0b3J5KClcbiAgICAgICAgICBwaWNrZXJCdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgcGlja2VyLnJlbmRlcih0cnVlKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgaW5wdXQucGFyZW50KCkuYXBwZW5kKHBpY2tlckJ1dHRvbilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcblxuICAgICQoaHRtbCkuZmluZCgnb2wuZmlsZXMtbGlzdCcpLnJlbW92ZSgpXG4gICAgJChodG1sKS5maW5kKCdmb290ZXIgZGl2JykucmVtb3ZlKClcbiAgICAkKGh0bWwpLmZpbmQoJ2Zvb3RlciBidXR0b24nKS50ZXh0KGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5QaWNrRGlyZWN0b3J5JykpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlRGVmYXVsdERpcmVjdG9yeSAoKSB7XG4gICAgY29uc3QgcGFyc2VkID0gQ29DN0RpcmVjdG9yeVBpY2tlci5wYXJzZShcbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Rob2xlVXBsb2FkRGlyZWN0b3J5JylcbiAgICApXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IENvQzdEaXJlY3RvcnlQaWNrZXIuY3JlYXRlRGlyZWN0b3J5KFxuICAgICAgICBwYXJzZWQuYWN0aXZlU291cmNlLFxuICAgICAgICBwYXJzZWQuY3VycmVudCxcbiAgICAgICAgeyBidWNrZXQ6IHBhcnNlZC5idWNrZXQgfVxuICAgICAgKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoIWUuc3RhcnRzV2l0aCgnRUVYSVNUJykpIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0b3JJbXBvcnRlclVwbG9hZEVycm9yJylcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBsb2FkVG9EZWZhdWx0RGlyZWN0b3J5IChmaWxlLCBmaWxlbmFtZSkge1xuICAgIGNvbnN0IHBhcnNlZCA9IENvQzdEaXJlY3RvcnlQaWNrZXIucGFyc2UoXG4gICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaG9sZVVwbG9hZERpcmVjdG9yeScpXG4gICAgKVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgRmlsZVBpY2tlci51cGxvYWQoXG4gICAgICBwYXJzZWQuYWN0aXZlU291cmNlLFxuICAgICAgcGFyc2VkLmN1cnJlbnQsXG4gICAgICBuZXcgRmlsZShbZmlsZV0sIGZpbGVuYW1lLCB7XG4gICAgICAgIHR5cGU6ICdpbWFnZS9wbmcnXG4gICAgICB9KSxcbiAgICAgIHsgYnVja2V0OiBwYXJzZWQuYnVja2V0IH1cbiAgICApXG4gICAgaWYgKCFyZXNwb25zZS5wYXRoKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GaWxlVXBsb2FkRXJyb3InKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkLmN1cnJlbnQgKyAnLycgKyBmaWxlbmFtZVxuICB9XG59XG4iLCIvKiBnbG9iYWwgQWN0b3IsIENPTkZJRywgZHVwbGljYXRlLCBnYW1lLCB1aSwgZmV0Y2ggKi9cbmltcG9ydCB7IENvQ0FjdG9yIH0gZnJvbSAnLi4vYWN0b3JzL2FjdG9yLmpzJ1xuaW1wb3J0IHsgQ29DN0RpcmVjdG9yeVBpY2tlciB9IGZyb20gJy4uL3NjcmlwdHMvY29jNy1kaXJlY3RvcnktcGlja2VyLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBDb0M3QWN0b3JJbXBvcnRlciBoZWxwZXIgY2xhc3MgdG8gaW1wb3J0IGFuIEFjdG9yIGZyb20gdGhlIHJhdyB0ZXh0IGRlc2NyaXB0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyIHtcbiAgLyoqXG4gICAqIENvbXBvc2UgdGhlIEJhY2tzdG9yeSBmcm9tIHRoZSBkaWZmZXJlbnQgYmxvY2tzLlxuICAgKiBAcGFyYW0ge30gYmFja3N0b3J5SlNPTiBEaG9sZUhvdXNlIGJhY2tzdG9yeSBKU09OXG4gICAqIEByZXR1cm5zIEhUTUwgd2l0aCB0aGUgZm9ybWF0dGVkIGJhY2tzdG9yeVxuICAgKi9cbiAgc3RhdGljIGdldEJhY2tzdG9yeSAoYmFja3N0b3J5SlNPTikge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gW1xuICAgICAgWydkZXNjcmlwdGlvbicsICdEZXNjcmlwdGlvbiddLFxuICAgICAgWyd0cmFpdHMnLCAnVHJhaXRzJ10sXG4gICAgICBbJ2lkZW9sb2d5JywgJ0lkZW9sb2d5J10sXG4gICAgICBbJ2luanVydWVzJywgJ0luanVyaWVzJywgJ2luanVyaWVzJ10sXG4gICAgICBbJ3Blb3BsZScsICdQZW9wbGUnXSxcbiAgICAgIFsncGhvYmlhcycsICdQaG9iaWFzJ10sXG4gICAgICBbJ2xvY2F0aW9ucycsICdMb2NhdGlvbnMnXSxcbiAgICAgIFsndG9tZXMnLCAnVG9tZXMnXSxcbiAgICAgIFsncG9zc2Vzc2lvbnMnLCAnUG9zc2Vzc2lvbnMnXSxcbiAgICAgIFsnZW5jb3VudGVycycsICdFbmNvdW50ZXJzJ11cbiAgICBdXG4gICAgY29uc3QgYmFja3N0b3J5ID0ge1xuICAgICAgYmxvY2s6IFtdLFxuICAgICAgc2VjdGlvbnM6IFtdXG4gICAgfVxuICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgICAgaWYgKGJhY2tzdG9yeUpTT05bc2VjdGlvblswXV0gIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWN0aW9uWzJdID09PSAndW5kZWZpbmVkJyB8fCBzZWN0aW9uWzJdID09PSAnJykge1xuICAgICAgICAgIHNlY3Rpb25bMl0gPSBzZWN0aW9uWzBdXG4gICAgICAgIH1cbiAgICAgICAgYmFja3N0b3J5LmJsb2NrLnB1c2goXG4gICAgICAgICAgYDxoMz4ke3NlY3Rpb25bMV19PC9oMz5cXG48ZGl2IGNsYXNzPVwiJHtzZWN0aW9uWzJdfVwiPlxcbiR7XG4gICAgICAgICAgICBiYWNrc3RvcnlKU09OW3NlY3Rpb25bMF1dXG4gICAgICAgICAgfVxcbjwvZGl2PmBcbiAgICAgICAgKVxuICAgICAgICBiYWNrc3Rvcnkuc2VjdGlvbnMucHVzaCh7XG4gICAgICAgICAgdGl0bGU6IHNlY3Rpb25bMV0sXG4gICAgICAgICAgdmFsdWU6IGJhY2tzdG9yeUpTT05bc2VjdGlvblswXV1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgYmFja3N0b3J5LmJsb2NrID1cbiAgICAgICc8aDI+QmFja3N0b3J5PC9oMj5cXG4nICsgYmFja3N0b3J5LmJsb2NrLmpvaW4oJ1xcbicsIGJhY2tzdG9yeS5ibG9jaylcbiAgICByZXR1cm4gYmFja3N0b3J5XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtKU09OfSBkaG9sZUhvdXNlRGF0YSBEaG9sZUhvdXNlSlNPTlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNvbnZlcnREaG9sZUhvdXNlQ2hhcmFjdGVyRGF0YSAoZGhvbGVIb3VzZURhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5sb2coJ1NvdXJjZTonLCBkaG9sZUhvdXNlRGF0YSlcbiAgICB9XG4gICAgZGhvbGVIb3VzZURhdGEgPSBkaG9sZUhvdXNlRGF0YS5JbnZlc3RpZ2F0b3JcbiAgICBjb25zdCBiYWNrc3RvcmllcyA9IENvQzdEaG9sZUhvdXNlQWN0b3JJbXBvcnRlci5nZXRCYWNrc3RvcnkoXG4gICAgICBkaG9sZUhvdXNlRGF0YS5CYWNrc3RvcnlcbiAgICApXG4gICAgY29uc3QgY0RhdGEgPSB7XG4gICAgICBuYW1lOiBkaG9sZUhvdXNlRGF0YS5QZXJzb25hbERldGFpbHMuTmFtZSxcbiAgICAgIGFjdG9yOiB7XG4gICAgICAgIGNoYXJhY3RlcmlzdGljczoge1xuICAgICAgICAgIHN0cjogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLlNUUiwgMTApIH0sXG4gICAgICAgICAgY29uOiB7IHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuQ09OLCAxMCkgfSxcbiAgICAgICAgICBzaXo6IHsgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5TSVosIDEwKSB9LFxuICAgICAgICAgIGRleDogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLkRFWCwgMTApIH0sXG4gICAgICAgICAgYXBwOiB7IHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuQVBQLCAxMCkgfSxcbiAgICAgICAgICBpbnQ6IHsgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5JTlQsIDEwKSB9LFxuICAgICAgICAgIHBvdzogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLlBPVywgMTApIH0sXG4gICAgICAgICAgZWR1OiB7IHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuRURVLCAxMCkgfVxuICAgICAgICB9LFxuICAgICAgICBhdHRyaWJzOiB7XG4gICAgICAgICAgc2FuOiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLlNhbml0eSwgMTApLFxuICAgICAgICAgICAgbWF4OiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuU2FuaXR5TWF4LCAxMCksXG4gICAgICAgICAgICBkYWlseUxpbWl0OiBNYXRoLmZsb29yKGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5TYW5pdHkgLyA1KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaHA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuSGl0UHRzLCAxMCksXG4gICAgICAgICAgICBtYXg6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5IaXRQdHNNYXgsIDEwKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbXA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuTWFnaWNQdHMsIDEwKSxcbiAgICAgICAgICAgIG1heDogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLk1hZ2ljUHRzTWF4LCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxjazoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5MdWNrLCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vdjoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5Nb3ZlLCAxMCksXG4gICAgICAgICAgICBtYXg6IHBhcnNlSW50KGRob2xlSG91c2VEYXRhLkNoYXJhY3RlcmlzdGljcy5Nb3ZlLCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRiOiB7IHZhbHVlOiBkaG9sZUhvdXNlRGF0YS5DaGFyYWN0ZXJpc3RpY3MuRGFtYWdlQm9udXMgfSxcbiAgICAgICAgICBidWlsZDogeyB2YWx1ZTogcGFyc2VJbnQoZGhvbGVIb3VzZURhdGEuQ2hhcmFjdGVyaXN0aWNzLkJ1aWxkLCAxMCkgfVxuICAgICAgICB9LFxuICAgICAgICBpbmZvczoge1xuICAgICAgICAgIG9jY3VwYXRpb246IGRob2xlSG91c2VEYXRhLlBlcnNvbmFsRGV0YWlscy5PY2N1cGF0aW9uLFxuICAgICAgICAgIGFnZTogZGhvbGVIb3VzZURhdGEuUGVyc29uYWxEZXRhaWxzLkFnZSxcbiAgICAgICAgICBzZXg6IGRob2xlSG91c2VEYXRhLlBlcnNvbmFsRGV0YWlscy5HZW5kZXIsXG4gICAgICAgICAgcmVzaWRlbmNlOiBkaG9sZUhvdXNlRGF0YS5QZXJzb25hbERldGFpbHMuUmVzaWRlbmNlLFxuICAgICAgICAgIGJpcnRocGxhY2U6IGRob2xlSG91c2VEYXRhLlBlcnNvbmFsRGV0YWlscy5CaXJ0aHBsYWNlXG4gICAgICAgIH0sXG4gICAgICAgIGJhY2tzdG9yeTogYmFja3N0b3JpZXMuYmxvY2ssXG4gICAgICAgIGJpb2dyYXBoeTogYmFja3N0b3JpZXMuc2VjdGlvbnMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAga2VlcGVyOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXJTb3VyY2UnKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2tpbGxzOiBhd2FpdCBDb0M3RGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXIuZXh0cmFjdFNraWxscyhcbiAgICAgICAgZGhvbGVIb3VzZURhdGEuU2tpbGxzLlNraWxsID8/IFtdLFxuICAgICAgICBvcHRpb25zXG4gICAgICApLFxuICAgICAgcG9zc2VzaW9uczogYXdhaXQgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyLmV4dHJhY3RQb3NzZXNzaW9ucyhcbiAgICAgICAgZGhvbGVIb3VzZURhdGEuUG9zc2Vzc2lvbnM/Lml0ZW0gPz8gW10sXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGNEYXRhXG4gIH1cblxuICBzdGF0aWMgbWFrZVNraWxsTmFtZSAobmFtZSwgc3BlY2lhbGl6YXRpb24pIHtcbiAgICBpZiAoc3BlY2lhbGl6YXRpb24gPT09ICdOb25lJykge1xuICAgICAgc3BlY2lhbGl6YXRpb24gPSAnQW55J1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ0xhbmd1YWdlIChPdGhlciknIHx8IG5hbWUgPT09ICdMYW5ndWFnZSAoT3duKScpIHtcbiAgICAgIG5hbWUgPSAnTGFuZ3VhZ2UnXG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnT3BlcmF0ZSBIZWF2eSBNYWNoaW5lJykge1xuICAgICAgbmFtZSA9ICdPcGVyYXRlIEhlYXZ5IE1hY2hpbmVyeSdcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdUaHJvdycgJiYgc3BlY2lhbGl6YXRpb24gPT09ICcnKSB7XG4gICAgICBuYW1lID0gJ0ZpZ2h0aW5nJ1xuICAgICAgc3BlY2lhbGl6YXRpb24gPSAnVGhyb3cnXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBza2lsbE5hbWU6IHNwZWNpYWxpemF0aW9uID09PSAnJyA/IG5hbWUgOiBzcGVjaWFsaXphdGlvbixcbiAgICAgIHNwZWNpYWxpemF0aW9uOiBzcGVjaWFsaXphdGlvbiA9PT0gJycgPyAnJyA6IG5hbWUsXG4gICAgICBuYW1lOiBuYW1lICsgKHNwZWNpYWxpemF0aW9uID09PSAnJyA/ICcnIDogJyAoJyArIHNwZWNpYWxpemF0aW9uICsgJyknKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBleHRyYWN0U2tpbGxzIChkaG9sZUhvdXNlc2tpbGxzLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2tpbGxzID0gW11cbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIGRob2xlSG91c2Vza2lsbHMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgc2tpbGwuc3Vic2tpbGwgPT09ICdOb25lJyAmJlxuICAgICAgICBza2lsbC52YWx1ZSA9PT0gJzEnICYmXG4gICAgICAgIHNraWxsLmhhbGYgPT09ICcwJyAmJlxuICAgICAgICBza2lsbC5maWZ0aCA9PT0gJzAnXG4gICAgICApIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnRzID0gQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyLm1ha2VTa2lsbE5hbWUoXG4gICAgICAgIHNraWxsLm5hbWUsXG4gICAgICAgIHNraWxsLnN1YnNraWxsID8/ICcnXG4gICAgICApXG4gICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ3Vlc3NJdGVtKCdza2lsbCcsIHBhcnRzLm5hbWUsIHtcbiAgICAgICAgc291cmNlOiBvcHRpb25zLnNvdXJjZSxcbiAgICAgICAgZmFsbGJhY2tBbnk6IHRydWVcbiAgICAgIH0pXG4gICAgICBsZXQgY2xvbmVkID0gbnVsbFxuICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2xvbmVkID0gZHVwbGljYXRlKGV4aXN0aW5nLnRvT2JqZWN0KCkpXG4gICAgICAgIGNsb25lZC5uYW1lID0gcGFydHMubmFtZVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnNraWxsTmFtZSA9IHBhcnRzLnNraWxsTmFtZVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnNwZWNpYWxpemF0aW9uID0gcGFydHMuc3BlY2lhbGl6YXRpb25cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb25lZCA9IENvQ0FjdG9yLmVtcHR5U2tpbGwoXG4gICAgICAgICAgcGFydHMuc2tpbGxOYW1lLFxuICAgICAgICAgIHBhcnNlSW50KHNraWxsLnZhbHVlID8/IDAsIDEwKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzcGVjaWFsaXphdGlvbjpcbiAgICAgICAgICAgICAgcGFydHMuc3BlY2lhbGl6YXRpb24gPT09ICcnID8gZmFsc2UgOiBwYXJ0cy5zcGVjaWFsaXphdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMgPSBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMgPz8ge31cbiAgICAgICAgaWYgKHBhcnRzLnNwZWNpYWxpemF0aW9uID09PSAnRmlnaHRpbmcnKSB7XG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLmZpZ2h0aW5nID0gdHJ1ZVxuICAgICAgICAgIGNsb25lZC5zeXN0ZW0ucHJvcGVydGllcy5jb21iYXQgPSB0cnVlXG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLnB1c2ggPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKHBhcnRzLnNwZWNpYWxpemF0aW9uID09PSAnRmlyZWFybXMnKSB7XG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0gPSB0cnVlXG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLmNvbWJhdCA9IHRydWVcbiAgICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMucHVzaCA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSBpZiAocGFydHMuc2tpbGxOYW1lID09PSAnRG9kZ2UnKSB7XG4gICAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLnB1c2ggPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2xvbmVkLnN5c3RlbS5za2lsbE5hbWUgPT09ICdBbnknKSB7XG4gICAgICAgIGNsb25lZC5uYW1lID0gY2xvbmVkLm5hbWUucmVwbGFjZSgnIChBbnkpJywgJyAoTm9uZSknKVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnNraWxsTmFtZSA9ICdOb25lJ1xuICAgICAgfVxuICAgICAgY2xvbmVkLnN5c3RlbS5iYXNlID0gcGFyc2VJbnQoc2tpbGwudmFsdWUgPz8gMCwgMTApXG4gICAgICBjbG9uZWQuc3lzdGVtLnZhbHVlID0gcGFyc2VJbnQoc2tpbGwudmFsdWUgPz8gMCwgMTApXG4gICAgICBjbG9uZWQuc3lzdGVtLmZsYWdzID0gY2xvbmVkLnN5c3RlbS5mbGFncyA/PyB7fVxuICAgICAgY2xvbmVkLnN5c3RlbS5mbGFncy5vY2N1cGF0aW9uID1cbiAgICAgICAgc2tpbGwub2NjdXBhdGlvbiA9PT0gdHJ1ZSB8fCBza2lsbC5vY2N1cGF0aW9uID09PSAndHJ1ZSdcbiAgICAgIHNraWxscy5wdXNoKGNsb25lZClcbiAgICB9XG4gICAgcmV0dXJuIHNraWxsc1xuICB9XG5cbiAgc3RhdGljIGZpbmRXZWFwb25Ta2lsbElkIChza2lsbE5hbWUsIGNoYXJhY3Rlcikge1xuICAgIGNvbnN0IHNraWxscyA9IGNoYXJhY3Rlci5nZXRFbWJlZGRlZENvbGxlY3Rpb24oJ0l0ZW0nKVxuICAgIGNvbnN0IGNoZWNrTmFtZSA9IHNraWxsTmFtZS5yZXBsYWNlKC9eXFwoKC4rKVxcKSQvLCAnJDEnKVxuICAgIGNvbnN0IGNoYXJhY3RlclNraWxsID0gc2tpbGxzLmZpbmQoaSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpLnN5c3RlbT8uc2tpbGxOYW1lID09PSBjaGVja05hbWUgfHxcbiAgICAgICAgaS5zeXN0ZW0/LnNraWxsTmFtZT8uaW5kZXhPZihjaGVja05hbWUpID4gLTFcbiAgICAgIClcbiAgICB9KVxuICAgIHJldHVybiBjaGFyYWN0ZXJTa2lsbFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGV4dHJhY3RQb3NzZXNzaW9ucyAoZGhvbGVob3VzZVBvc3Nlc3Npb25zLCBvcHRpb25zKSB7XG4gICAgY29uc3QgaXRlbXMgPSBbXVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBkaG9sZWhvdXNlUG9zc2Vzc2lvbnMpIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgQ29DN1V0aWxpdGllcy5ndWVzc0l0ZW0oJ2l0ZW0nLCBpdGVtLmRlc2NyaXB0aW9uLCB7XG4gICAgICAgIHNvdXJjZTogb3B0aW9ucy5zb3VyY2VcbiAgICAgIH0pXG4gICAgICBsZXQgY2xvbmVkID0gbnVsbFxuICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2xvbmVkID0gZHVwbGljYXRlKGV4aXN0aW5nLnRvT2JqZWN0KCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9uZWQgPSB7XG4gICAgICAgICAgbmFtZTogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICB0eXBlOiAnaXRlbSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXRlbXMucHVzaChjbG9uZWQpXG4gICAgfVxuICAgIHJldHVybiBpdGVtc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGV4dHJhY3RXZWFwb25zIChkaG9sZWhvdXNlV2VhcG9ucywgY2hhcmFjdGVyLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgd2VhcG9ucyA9IFtdXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRob2xlaG91c2VXZWFwb25zKSkge1xuICAgICAgZGhvbGVob3VzZVdlYXBvbnMgPSBbZGhvbGVob3VzZVdlYXBvbnNdXG4gICAgfVxuICAgIGZvciAoY29uc3Qgd2VhcG9uIG9mIGRob2xlaG91c2VXZWFwb25zKSB7XG4gICAgICBjb25zdCBza2lsbCA9IENvQzdEaG9sZUhvdXNlQWN0b3JJbXBvcnRlci5maW5kV2VhcG9uU2tpbGxJZChcbiAgICAgICAgd2VhcG9uLnNraWxsbmFtZSxcbiAgICAgICAgY2hhcmFjdGVyXG4gICAgICApXG4gICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb24uZGFtYWdlLnJlcGxhY2UoL1xcK0RCL2ksICcnKVxuICAgICAgY29uc3QgYWRkYiA9IGRhbWFnZSAhPT0gd2VhcG9uLmRhbWFnZVxuICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmd1ZXNzSXRlbSgnd2VhcG9uJywgd2VhcG9uLm5hbWUsIHtcbiAgICAgICAgc291cmNlOiBvcHRpb25zLnNvdXJjZVxuICAgICAgfSlcbiAgICAgIGxldCBjbG9uZWQgPSBudWxsXG4gICAgICBpZiAodHlwZW9mIGV4aXN0aW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjbG9uZWQgPSBkdXBsaWNhdGUoZXhpc3RpbmcudG9PYmplY3QoKSlcbiAgICAgICAgY2xvbmVkLnN5c3RlbS5za2lsbC5tYWluLm5hbWUgPSBza2lsbD8ubmFtZSA/PyAnJ1xuICAgICAgICBjbG9uZWQuc3lzdGVtLnNraWxsLm1haW4uaWQgPSBza2lsbD8uaWQgPz8gJydcbiAgICAgICAgY2xvbmVkLnN5c3RlbS5yYW5nZSA9IGNsb25lZC5zeXN0ZW0ucmFuZ2UgPz8ge31cbiAgICAgICAgY2xvbmVkLnN5c3RlbS5yYW5nZS5ub3JtYWwgPSBjbG9uZWQuc3lzdGVtLnJhbmdlLm5vcm1hbCA/PyB7fVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnJhbmdlLm5vcm1hbC5kYW1hZ2UgPSBkYW1hZ2VcbiAgICAgICAgY2xvbmVkLnN5c3RlbS5hbW1vID0gd2VhcG9uLmFtbW9cbiAgICAgICAgY2xvbmVkLnN5c3RlbS5tYWxmdW5jdGlvbiA9IHdlYXBvbi5tYWxmXG4gICAgICAgIGNsb25lZC5zeXN0ZW0ucHJvcGVydGllcyA9IGNsb25lZC5zeXN0ZW0ucHJvcGVydGllcyA/PyB7fVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMubWVsZWUgPVxuICAgICAgICAgIHNraWxsPy5zeXN0ZW0ucHJvcGVydGllcz8uZmlnaHRpbmcgPz8gZmFsc2VcbiAgICAgICAgY2xvbmVkLnN5c3RlbS5wcm9wZXJ0aWVzLnJuZ2QgPVxuICAgICAgICAgIHNraWxsPy5zeXN0ZW0ucHJvcGVydGllcz8uZmlyZWFybSA/PyBmYWxzZVxuICAgICAgICBjbG9uZWQuc3lzdGVtLnByb3BlcnRpZXMuYWRkYiA9IGFkZGJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb25lZCA9IHtcbiAgICAgICAgICBuYW1lOiB3ZWFwb24ubmFtZSxcbiAgICAgICAgICB0eXBlOiAnd2VhcG9uJyxcbiAgICAgICAgICBzeXN0ZW06IHtcbiAgICAgICAgICAgIHNraWxsOiB7XG4gICAgICAgICAgICAgIG1haW46IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBza2lsbD8ubmFtZSA/PyAnJyxcbiAgICAgICAgICAgICAgICBpZDogc2tpbGw/LmlkID8/ICcnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICAgICAgICBkYW1hZ2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFtbW86IHdlYXBvbi5hbW1vLFxuICAgICAgICAgICAgbWFsZnVuY3Rpb246IHdlYXBvbi5tYWxmLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBtZWxlZTogc2tpbGw/LnN5c3RlbS5wcm9wZXJ0aWVzPy5maWdodGluZyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgcm5nZDogc2tpbGw/LnN5c3RlbS5wcm9wZXJ0aWVzPy5maXJlYXJtID8/IGZhbHNlLFxuICAgICAgICAgICAgICBhZGRiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3ZWFwb25zLnB1c2goY2xvbmVkKVxuICAgIH1cbiAgICByZXR1cm4gd2VhcG9uc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIHNhdmVQb3J0cmFpdCAoYmFzZTY0UG9ydHJhaXQsIGZpbGVOYW1lKSB7XG4gICAgY29uc3QgYmFzZTY0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArIGJhc2U2NFBvcnRyYWl0XG4gICAgKVxuICAgIGNvbnN0IGltYWdlQmxvYiA9IGF3YWl0IGJhc2U2NFJlc3BvbnNlLmJsb2IoKVxuICAgIGNvbnN0IGZpbGVQYXRoID0gQ29DN0RpcmVjdG9yeVBpY2tlci51cGxvYWRUb0RlZmF1bHREaXJlY3RvcnkoXG4gICAgICBpbWFnZUJsb2IsXG4gICAgICBmaWxlTmFtZVxuICAgIClcbiAgICByZXR1cm4gZmlsZVBhdGhcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVOUENGcm9tRGhvbGVIb3VzZSAoZGhvbGVIb3VzZUNoYXJhY3RlckRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWdhbWUudXNlcj8uY2FuKCdGSUxFU19VUExPQUQnKSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFjdG9ySW1wb3J0ZXJVcGxvYWRFcnJvcicpXG4gICAgICApXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgY29uc3QgY2hhcmFjdGVyRGF0YSA9XG4gICAgICBhd2FpdCBDb0M3RGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXIuY29udmVydERob2xlSG91c2VDaGFyYWN0ZXJEYXRhKFxuICAgICAgICBkaG9sZUhvdXNlQ2hhcmFjdGVyRGF0YSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKVxuICAgIGlmIChDT05GSUcuZGVidWcuQ29DN0ltcG9ydGVyKSB7XG4gICAgICBjb25zb2xlLmxvZygnQ2hhcmFjdGVyIERhdGE6JywgY2hhcmFjdGVyRGF0YSlcbiAgICB9XG4gICAgY29uc3QgaW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyID1cbiAgICAgIGF3YWl0IENvQzdVdGlsaXRpZXMuY3JlYXRlSW1wb3J0Q2hhcmFjdGVyc0ZvbGRlcklmTm90RXhpc3RzKClcbiAgICBpZiAoIUNvQzdEaXJlY3RvcnlQaWNrZXIuY3JlYXRlRGVmYXVsdERpcmVjdG9yeSgpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgY29uc3QgYWN0b3JEYXRhID0ge1xuICAgICAgbmFtZTogY2hhcmFjdGVyRGF0YS5uYW1lLFxuICAgICAgdHlwZTogJ2NoYXJhY3RlcicsXG4gICAgICBmb2xkZXI6IGltcG9ydGVkQ2hhcmFjdGVyc0ZvbGRlci5pZCxcbiAgICAgIGRhdGE6IGNoYXJhY3RlckRhdGEuYWN0b3JcbiAgICB9XG4gICAgY29uc3QgbnBjID0gYXdhaXQgQWN0b3IuY3JlYXRlKGFjdG9yRGF0YSlcbiAgICAvLyBJZiBwb3NzaWJsZSB1cGxvYWQgdGhlIGltYWdlIHBvcnRyYWl0XG4gICAgaWYgKFxuICAgICAgZGhvbGVIb3VzZUNoYXJhY3RlckRhdGEuSW52ZXN0aWdhdG9yLlBlcnNvbmFsRGV0YWlscy5Qb3J0cmFpdD8ubGVuZ3RoID4gMTBcbiAgICApIHtcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gJ2F2YXRhci0nICsgbnBjLmlkICsgJy5wbmcnXG4gICAgICBjb25zdCBwb3J0cmFpdCA9IGF3YWl0IENvQzdEaG9sZUhvdXNlQWN0b3JJbXBvcnRlci5zYXZlUG9ydHJhaXQoXG4gICAgICAgIGRob2xlSG91c2VDaGFyYWN0ZXJEYXRhLkludmVzdGlnYXRvci5QZXJzb25hbERldGFpbHMuUG9ydHJhaXQsXG4gICAgICAgIGZpbGVOYW1lXG4gICAgICApXG4gICAgICBpZiAocG9ydHJhaXQgIT09IGZhbHNlKSB7XG4gICAgICAgIG5wYy51cGRhdGUoe1xuICAgICAgICAgIGltZzogcG9ydHJhaXRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdJdGVtczogJywgY2hhcmFjdGVyRGF0YS5pdGVtcylcbiAgICB9XG4gICAgYXdhaXQgbnBjLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgY2hhcmFjdGVyRGF0YS5za2lsbHMsIHtcbiAgICAgIHJlbmRlclNoZWV0OiBmYWxzZVxuICAgIH0pXG4gICAgYXdhaXQgbnBjLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgY2hhcmFjdGVyRGF0YS5wb3NzZXNpb25zLCB7XG4gICAgICByZW5kZXJTaGVldDogZmFsc2VcbiAgICB9KVxuICAgIGNvbnN0IHdlYXBvbnMgPSBhd2FpdCBDb0M3RGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXIuZXh0cmFjdFdlYXBvbnMoXG4gICAgICBkaG9sZUhvdXNlQ2hhcmFjdGVyRGF0YS5JbnZlc3RpZ2F0b3IuV2VhcG9ucz8ud2VhcG9uID8/IFtdLFxuICAgICAgbnBjLFxuICAgICAgb3B0aW9uc1xuICAgIClcbiAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgY29uc29sZS5sb2coJ1dlYXBvbnM6ICcsIHdlYXBvbnMpXG4gICAgfVxuICAgIGF3YWl0IG5wYy5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIHdlYXBvbnMsIHtcbiAgICAgIHJlbmRlclNoZWV0OiBmYWxzZVxuICAgIH0pXG5cbiAgICByZXR1cm4gbnBjXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBDT05GSUcsIEZvcm1BcHBsaWNhdGlvbiwgZ2FtZSwgSG9va3MsIG1lcmdlT2JqZWN0LCB1aSwgRmlsZVJlYWRlciAqL1xuXG5pbXBvcnQgeyBDb0M3QWN0b3JJbXBvcnRlciB9IGZyb20gJy4vYWN0b3ItaW1wb3J0ZXIuanMnXG5pbXBvcnQgeyBDb0M3RGhvbGVIb3VzZUFjdG9ySW1wb3J0ZXIgfSBmcm9tICcuL2Rob2xlaG91c2VfaW1wb3J0ZXIuanMnXG5pbXBvcnQgeyBDb0M3QWN0b3JJbXBvcnRlclJlZ0V4cCB9IGZyb20gJy4vYWN0b3ItaW1wb3J0ZXItcmVnZXhwLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdBY3RvckltcG9ydGVyRGlhbG9nIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdkaWFsb2cnLCAnYWN0b3ItaW1wb3J0ZXInXSxcbiAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0b3JJbXBvcnRlcicpLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvYWN0b3ItaW1wb3J0ZXIuaHRtbCcsXG4gICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZSxcbiAgICAgIHdpZHRoOiA2MDAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgIH0pXG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzdXBlci5nZXREYXRhKClcblxuICAgIGRhdGEuaW1wb3J0VHlwZSA9IGRhdGEub2JqZWN0LmltcG9ydFR5cGVcbiAgICBkYXRhLmNvbnZlcnQ2RSA9IGRhdGEub2JqZWN0LmNvbnZlcnQ2RVxuICAgIGRhdGEuc291cmNlID0gZGF0YS5vYmplY3Quc291cmNlXG4gICAgZGF0YS5jaGFyYWN0ZXJEYXRhID0gZGF0YS5vYmplY3QuY2hhcmFjdGVyRGF0YVxuICAgIGRhdGEuY2FuVXBsb2FkID0gZ2FtZS51c2VyPy5jYW4oJ0ZJTEVTX1VQTE9BRCcpXG4gICAgaWYgKFsnbnBjJywgJ2NyZWF0dXJlJ10uaW5jbHVkZXMoZGF0YS5pbXBvcnRUeXBlKSkge1xuICAgICAgZGF0YS5sYW5ndWFnZXMgPSBDb0M3QWN0b3JJbXBvcnRlclJlZ0V4cC5nZXRUcmFuc2xhdGlvbnMoKVxuICAgICAgZGF0YS5sYW5ndWFnZSA9IENvQzdBY3RvckltcG9ydGVyUmVnRXhwLmNoZWNrTGFuZ3VhZ2UoXG4gICAgICAgIGRhdGEub2JqZWN0Lmxhbmd1YWdlXG4gICAgICApXG4gICAgICBkYXRhLnBsYWNlaG9sZGVyID0gQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAuZ2V0RXhhbXBsZVRleHQoZGF0YS5sYW5ndWFnZSlcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaHRtbC5maW5kKCcjZGhvbGVob3VzZS1jaGFyYWN0ZXItcHJldmlldycpLmhpZGUoKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcjY29jLWVudGl0eS10eXBlLCNjb2MtZW50aXR5LWxhbmcnKVxuICAgICAgLmNoYW5nZSh0aGlzLl9vbkNoYW5nZVN1Ym1pdC5iaW5kKHRoaXMpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcjZGhvbGVob3VzZS1qc29uLWZpbGUtcGlja2VyJylcbiAgICAgIC5jaGFuZ2UodGhpcy5fb25KU09ORmlsZVNlbGVjdGVkLmJpbmQodGhpcykpXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnI2NvYy1wYXN0ZWQtY2hhcmFjdGVyLWRhdGEnKVxuICAgICAgLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcnNUb29FeHRlbmRlZCA9ICQodGhpcylcbiAgICAgICAgICAudmFsKClcbiAgICAgICAgICAubWF0Y2goL1tcXHVkYmMwLVxcdWRiZmVdW1xcdWRjMDAtXFx1ZGZmZl0vKVxuICAgICAgICBjb25zdCBwcm9tcHQgPSAkKCcjY29jLXByb21wdCcpXG4gICAgICAgIGlmIChwcm9tcHQuZGF0YSgnZXh0ZW5kZWQnKSAmJiBjaGFyYWN0ZXJzVG9vRXh0ZW5kZWQpIHtcbiAgICAgICAgICBwcm9tcHRcbiAgICAgICAgICAgIC5odG1sKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5UZXh0RmllbGRJbnZhbGlkQ2hhcmFjdGVycycpKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdlcnJvcicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvbXB0Lmh0bWwocHJvbXB0LmRhdGEoJ3RleHQnKSkucmVtb3ZlQ2xhc3MoJ2Vycm9yJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50cmlnZ2VyKCdrZXl1cCcpXG5cbiAgICBodG1sLmZpbmQoJy5zdWJtaXQtYnV0dG9uJykuY2xpY2sodGhpcy5fb25DbGlja1N1Ym1pdC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnZm9ybScpLnN1Ym1pdChlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHJldHVybnMgZ2V0SW5wdXRzIGV4dHJhY3RzIHRoZSBkYXRhIGZyb20gdGhlIGlucHV0IGZpZWxkcyBhbmRcbiAgICogYWRkcyBhIGAuYCBhdCB0aGUgZW5kIGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUuXG4gICAqL1xuICBzdGF0aWMgZ2V0SW5wdXRzIChmb3JtKSB7XG4gICAgY29uc3QgaW5wdXRzID0ge31cbiAgICBpbnB1dHMuZW50aXR5ID0gZm9ybS5maW5kKCcjY29jLWVudGl0eS10eXBlJykudmFsKCkudHJpbSgpXG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ2VudGl0eSB0eXBlOicsIGlucHV0cy5lbnRpdHkpXG4gICAgfVxuICAgIGlmIChmb3JtLmZpbmQoJyNjb2MtY29udmVydC02RScpLmxlbmd0aCA+IDApIHtcbiAgICAgIGlucHV0cy5jb252ZXJ0RnJvbTZFID0gZm9ybS5maW5kKCcjY29jLWNvbnZlcnQtNkUnKS52YWwoKS50cmltKClcbiAgICB9XG4gICAgaWYgKGZvcm0uZmluZCgnI2NvYy1lbnRpdHktbGFuZycpLmxlbmd0aCA+IDApIHtcbiAgICAgIGlucHV0cy5sYW5nID0gQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAuY2hlY2tMYW5ndWFnZShcbiAgICAgICAgZm9ybS5maW5kKCcjY29jLWVudGl0eS1sYW5nJykudmFsKCkudHJpbSgpXG4gICAgICApXG4gICAgfVxuICAgIGlmIChmb3JtLmZpbmQoJyNzb3VyY2UnKS5sZW5ndGggPiAwKSB7XG4gICAgICBpbnB1dHMuc291cmNlID0gZm9ybS5maW5kKCcjc291cmNlJykudmFsKCkudHJpbSgpXG4gICAgfVxuICAgIGlmIChmb3JtLmZpbmQoJyNjb2MtcGFzdGVkLWNoYXJhY3Rlci1kYXRhJykubGVuZ3RoID4gMCkge1xuICAgICAgaW5wdXRzLnRleHQgPSBmb3JtLmZpbmQoJyNjb2MtcGFzdGVkLWNoYXJhY3Rlci1kYXRhJykudmFsKCkudHJpbSgpXG4gICAgfVxuXG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ3JlY2VpdmVkIHRleHQnLCAnIyMnICsgaW5wdXRzLnRleHQgKyAnIyMnKVxuICAgIH1cbiAgICByZXR1cm4gaW5wdXRzXG4gIH1cblxuICBfb25KU09ORmlsZVNlbGVjdGVkIChldmVudCkge1xuICAgIGNvbnN0IGpzb25GaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGhvbGVob3VzZS1qc29uLWZpbGUtcGlja2VyJylcbiAgICBjb25zdCBwb3J0cmFpdEltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAnZGhvbGVob3VzZS1jaGFyYWN0ZXItcG9ydHJhaXQnXG4gICAgKVxuICAgIGNvbnN0IGNoYXJhY3Rlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGhvbGVob3VzZS1jaGFyYWN0ZXItbmFtZScpXG4gICAgY29uc3QgcHJldmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaG9sZWhvdXNlLWNoYXJhY3Rlci1wcmV2aWV3JylcbiAgICBjb25zdCBmaWxlID0ganNvbkZpbGVJbnB1dC5maWxlc1swXVxuICAgIGNvbnN0IGRpYWxvZyA9IHRoaXNcbiAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRpYWxvZy5jaGFyYWN0ZXJKU09OID0gSlNPTi5wYXJzZShmaWxlUmVhZGVyLnJlc3VsdClcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgJCgnI2NvYy1wcm9tcHQnKVxuICAgICAgICAgIC5odG1sKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5UZXh0RmllbGRJbnZhbGlkSlNPTicpKVxuICAgICAgICAgIC5hZGRDbGFzcygnZXJyb3InKVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgcGVyc29uYWxEZXRhaWxzID1cbiAgICAgICAgZGlhbG9nLmNoYXJhY3RlckpTT04/LkludmVzdGlnYXRvcj8uUGVyc29uYWxEZXRhaWxzXG4gICAgICBpZiAoIXBlcnNvbmFsRGV0YWlscykge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5EaG9sZUhvdXNlSW52YWxpZEFjdG9yJylcbiAgICAgICAgKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNoYXJhY3Rlck5hbWUudGV4dENvbnRlbnQgPSBwZXJzb25hbERldGFpbHMuTmFtZVxuICAgICAgcG9ydHJhaXRJbWFnZS5zcmMgPSAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBwZXJzb25hbERldGFpbHMuUG9ydHJhaXRcbiAgICAgIHByZXZpZXcuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgICQoJy5kaWFsb2cuYWN0b3ItaW1wb3J0ZXInKS5oZWlnaHQoJ2F1dG8nKVxuICAgIH1cbiAgICBmaWxlUmVhZGVyLnJlYWRBc1RleHQoZmlsZSlcbiAgfVxuXG4gIF9vbkNoYW5nZVN1Ym1pdCAoZXZlbnQpIHtcbiAgICB0aGlzLl9vblN1Ym1pdChldmVudClcbiAgfVxuXG4gIGFzeW5jIF9vbkNsaWNrU3VibWl0IChldmVudCkge1xuICAgIGNvbnN0IGlkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmJ1dHRvblxuICAgIGlmIChpZCA9PT0gJ25vJykge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfSBlbHNlIGlmIChpZCA9PT0gJ2dldEV4YW1wbGVOb3cnKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAuZ2V0RXhhbXBsZVRleHQoXG4gICAgICAgIHRoaXMub2JqZWN0Lmxhbmd1YWdlXG4gICAgICApXG4gICAgICBDb0M3VXRpbGl0aWVzLmNvcHlUb0NsaXBib2FyZChjb250ZW50KS50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29waWVkJykpXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAoaWQgPT09ICdpbXBvcnQnKSB7XG4gICAgICBjb25zdCBhcHAgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJ2Rpdi5kaWFsb2cuYWN0b3ItaW1wb3J0ZXInKVxuICAgICAgYXBwLmhpZGUoKVxuICAgICAgY29uc3QgZm9ybSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnZm9ybScpXG4gICAgICBjb25zdCBpbnB1dHMgPSBDb0M3QWN0b3JJbXBvcnRlckRpYWxvZy5nZXRJbnB1dHMoZm9ybSlcbiAgICAgIGlmIChpbnB1dHMuZW50aXR5ID09PSAnZGhvbGVob3VzZScgJiYgdGhpcy5jaGFyYWN0ZXJKU09OKSB7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlciA9XG4gICAgICAgICAgYXdhaXQgQ29DN0Rob2xlSG91c2VBY3RvckltcG9ydGVyLmNyZWF0ZU5QQ0Zyb21EaG9sZUhvdXNlKFxuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJKU09OLFxuICAgICAgICAgICAgeyBzb3VyY2U6IGlucHV0cy5zb3VyY2UgfVxuICAgICAgICAgIClcbiAgICAgICAgaWYgKGNoYXJhY3RlciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAoQ09ORklHLmRlYnVnLkNvQzdJbXBvcnRlcikge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnY2hhcmFjdGVyOicsIGNoYXJhY3RlcilcbiAgICAgICAgICB9XG4gICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5BY3RvckltcG9ydGVkJywge1xuICAgICAgICAgICAgICBhY3RvclR5cGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5DaGFyYWN0ZXInKSxcbiAgICAgICAgICAgICAgYWN0b3JOYW1lOiBjaGFyYWN0ZXIubmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICAgYXdhaXQgY2hhcmFjdGVyLnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwcC5zaG93KClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpbnB1dHMudGV4dCAmJiBpbnB1dHMudGV4dCAhPT0gJycpIHtcbiAgICAgICAgQ29DN0FjdG9ySW1wb3J0ZXJEaWFsb2cuaW1wb3J0QWN0b3IoaW5wdXRzKVxuICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcC5zaG93KClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlXG4gICAqIEEgc3ViY2xhc3Mgb2YgdGhlIEZvcm1BcHBsaWNhdGlvbiBtdXN0IGltcGxlbWVudCB0aGUgX3VwZGF0ZU9iamVjdCBtZXRob2QuXG4gICAqL1xuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICB0aGlzLm9iamVjdC5pbXBvcnRUeXBlID0gZm9ybURhdGFbJ2NvYy1lbnRpdHktdHlwZSddXG4gICAgdGhpcy5vYmplY3QuY2hhcmFjdGVyRGF0YSA9IGZvcm1EYXRhWydjb2MtcGFzdGVkLWNoYXJhY3Rlci1kYXRhJ10/LnRyaW0oKVxuICAgIGlmICh0eXBlb2YgZm9ybURhdGFbJ2NvYy1jb252ZXJ0LTZFJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9iamVjdC5jb252ZXJ0NkUgPSBmb3JtRGF0YVsnY29jLWNvbnZlcnQtNkUnXVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGZvcm1EYXRhWydjb2MtZW50aXR5LWxhbmcnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMub2JqZWN0Lmxhbmd1YWdlID0gZm9ybURhdGFbJ2NvYy1lbnRpdHktbGFuZyddXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZm9ybURhdGEuc291cmNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3Quc291cmNlID0gZm9ybURhdGEuc291cmNlXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICAvKipcbiAgICogaW1wb3J0QWN0b3IgaW1wb3J0cyBhbiBBY3RvciB1c2luZyB0aGUgZGlhbG9nIGRhdGFcbiAgICogQHBhcmFtIHtodG1sfSBodG1sXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgaW1wb3J0QWN0b3IgKGlucHV0cykge1xuICAgIGlmIChpbnB1dHMudGV4dFtpbnB1dHMudGV4dC5sZW5ndGhdICE9PSAnLicpIHtcbiAgICAgIGlucHV0cy50ZXh0ICs9ICcuJyAvLyBBZGQgYSBkb3QgYSB0aGUgZW5kIHRvIGhlbHAgdGhlIHJlZ2V4IGZpbmQgdGhlIGVuZFxuICAgIH1cbiAgICBjb25zdCBhY3RvciA9IG5ldyBDb0M3QWN0b3JJbXBvcnRlcigpXG4gICAgY29uc3QgY3JlYXRlZEFjdG9yID0gYXdhaXQgYWN0b3IuY3JlYXRlQWN0b3IoaW5wdXRzKVxuICAgIC8vIEFjdG9yIGNyZWF0ZWQsIE5vdGlmeSB0aGUgdXNlciBhbmQgc2hvdyB0aGUgc2hlZXQuXG4gICAgaWYgKENPTkZJRy5kZWJ1Zy5Db0M3SW1wb3J0ZXIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ2NyZWF0ZWRBY3RvcjonLCBjcmVhdGVkQWN0b3IpXG4gICAgfVxuICAgIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyhcbiAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQWN0b3JJbXBvcnRlZCcsIHtcbiAgICAgICAgYWN0b3JUeXBlOiBjcmVhdGVkQWN0b3IudHlwZT8udG9VcHBlckNhc2UoKSxcbiAgICAgICAgYWN0b3JOYW1lOiBjcmVhdGVkQWN0b3IubmFtZVxuICAgICAgfSlcbiAgICApXG4gICAgYXdhaXQgY3JlYXRlZEFjdG9yLnNoZWV0LnJlbmRlcih0cnVlKVxuICAgIC8vIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBVcGRhdGVyLnVwZGF0ZUFjdG9yKG5wYylcbiAgICAvLyBjb25zb2xlLmRlYnVnKCd1cGRhdGVkOicsIHVwZGF0ZWQpXG4gIH1cblxuICAvLyAvKipcbiAgLy8gICogY3JlYXRlIGl0J3MgdGhlIGRlZmF1bHQgd2ViIHRvIGNyYXRlIHRoZSBDb0M3QWN0b3JJbXBvcnRlckRpYWxvZ1xuICAvLyAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZSAob3B0aW9ucyA9IHt9KSB7XG4gICAgb3B0aW9ucy5pbXBvcnRUeXBlID0gb3B0aW9ucy5pbXBvcnRUeXBlID8/ICducGMnXG4gICAgb3B0aW9ucy5sYW5ndWFnZSA9XG4gICAgICBvcHRpb25zLmxhbmd1YWdlID8/IENvQzdBY3RvckltcG9ydGVyUmVnRXhwLmNoZWNrTGFuZ3VhZ2UobnVsbClcbiAgICBvcHRpb25zLmNvbnZlcnQ2RSA9IG9wdGlvbnMubGFuZ3VhZ2UgPz8gJ2NvYy1ndWVzcydcbiAgICBvcHRpb25zLnNvdXJjZSA9IG9wdGlvbnMuc291cmNlID8/ICdpd21zJ1xuICAgIG9wdGlvbnMuY2hhcmFjdGVyRGF0YSA9IG9wdGlvbnMuY2hhcmFjdGVyRGF0YSA/PyAnJ1xuXG4gICAgbmV3IENvQzdBY3RvckltcG9ydGVyRGlhbG9nKG9wdGlvbnMpLnJlbmRlcih0cnVlKVxuICB9XG59XG5cbkhvb2tzLm9uY2UoJ3JlYWR5JywgKCkgPT4ge1xuICBpZiAoZ2FtZS5tb2R1bGVzLmdldCgnQ29DNy1JbXBvcnRlci1UZXN0cycpPy5hY3RpdmUpIHtcbiAgICB3aW5kb3cuQ29DN0FjdG9ySW1wb3J0ZXIgPSBDb0M3QWN0b3JJbXBvcnRlclxuICB9XG59KVxuIiwiLyogZ2xvYmFsIERpYWxvZywgZHVwbGljYXRlLCBnYW1lICovXG5leHBvcnQgY2xhc3MgRHJvcENvQ0lEIGV4dGVuZHMgRGlhbG9nIHtcbiAgc3RhdGljIHByb2Nlc3NGb3JtIChyZXNwb25zZSwgZWxlbWVudCwgcmVzb2x2ZSkge1xuICAgIGlmIChlbGVtZW50LmZpbmQoJ2lucHV0JykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ2Ryb3BDb0NJRCcsIChyZXNwb25zZSA/ICdZJyA6ICdOJykpXG4gICAgfVxuICAgIHJlc29sdmUocmVzcG9uc2UpXG4gIH1cblxuICBzdGF0aWMgcHJvY2Vzc0l0ZW0gKHJlc3BvbnNlLCBpdGVtKSB7XG4gICAgaWYgKHJlc3BvbnNlICYmIGl0ZW0uZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uaWQpIHtcbiAgICAgIHJldHVybiBpdGVtLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkXG4gICAgfVxuICAgIHJldHVybiBkdXBsaWNhdGUoaXRlbSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKCkge1xuICAgIGNvbnN0IGRyb3BDb0NJRCA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2Ryb3BDb0NJRCcpXG4gICAgc3dpdGNoIChkcm9wQ29DSUQpIHtcbiAgICAgIGNhc2UgJyc6XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICBjb25zdCBkbGcgPSBuZXcgRHJvcENvQ0lEKHtcbiAgICAgICAgICAgIHRpdGxlOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNldHRpbmdzLkRyb3BDb0NJRC5OYW1lJyksXG4gICAgICAgICAgICBjb250ZW50OiAnPHA+JyArIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU2V0dGluZ3MuRHJvcENvQ0lELkRpYWxvZycpICsgJzwvcD48cD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJyZW1lbWJlcnRoaXNcIiBzdHlsZT1cInZlcnRpY2FsLWFsaWduOiBzdWI7XCI+PGxhYmVsIGZvcj1cInJlbWVtYmVydGhpc1wiPicgKyBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNldHRpbmdzLkRyb3BDb0NJRC5SZW1lbWJlcicpICsgJzwvbGFiZWw+PC9wPicsXG4gICAgICAgICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnYXBwJywgJ2RpYWxvZyddLFxuICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICB5ZXM6IHtcbiAgICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdZZXMnKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGVsZW1lbnQpID0+IHsgRHJvcENvQ0lELnByb2Nlc3NGb3JtKHRydWUsIGVsZW1lbnQsIHJlc29sdmUpIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbm86IHtcbiAgICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtdGltZXNcIj48L2k+JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdObycpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZWxlbWVudCkgPT4geyBEcm9wQ29DSUQucHJvY2Vzc0Zvcm0oZmFsc2UsIGVsZW1lbnQsIHJlc29sdmUpIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgZGxnLnJlbmRlcih0cnVlKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnWSc6XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICBjYXNlICdOJzpcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgRHJhZ0Ryb3AsIGR1cGxpY2F0ZSwgZXhwYW5kT2JqZWN0LCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbS5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBEcm9wQ29DSUQgfSBmcm9tICcuLi8uLi9hcHBzL2Ryb3AtY29jLWlkLmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgSXRlbVNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3T2NjdXBhdGlvblNoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgLyoqXG4gICAqIEFjdGl2YXRlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgcHJlcGFyZWQgc2hlZXQgSFRNTFxuICAgKiBAcGFyYW0gaHRtbCB7SFRNTH0gICBUaGUgcHJlcGFyZWQgSFRNTCBvYmplY3QgcmVhZHkgdG8gYmUgcmVuZGVyZWQgaW50byB0aGUgRE9NXG4gICAqL1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgLy8gRXZlcnl0aGluZyBiZWxvdyBoZXJlIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBzaGVldCBpcyBlZGl0YWJsZVxuICAgIGlmICghdGhpcy5vcHRpb25zLmVkaXRhYmxlKSByZXR1cm5cblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuaXRlbSAuaXRlbS1uYW1lIGg0JylcbiAgICAgIC5jbGljayhldmVudCA9PiB0aGlzLl9vbkl0ZW1TdW1tYXJ5KGV2ZW50LCAnc2tpbGxzJykpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5pdGVtLWRlbGV0ZScpXG4gICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25JdGVtRGVsZXRlKGV2ZW50LCAnc2tpbGxzJykpXG5cbiAgICBodG1sLmZpbmQoJy5ncm91cC1pdGVtLWRlbGV0ZScpLmNsaWNrKHRoaXMuX29uR3JvdXBJdGVtRGVsZXRlLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuZ3JvdXAtY29udHJvbCcpLmNsaWNrKHRoaXMuX29uR3JvdXBDb250cm9sLmJpbmQodGhpcykpXG5cbiAgICBjb25zdCBkcmFnRHJvcCA9IG5ldyBEcmFnRHJvcCh7XG4gICAgICBkcm9wU2VsZWN0b3I6ICcuZHJvcHBhYmxlJyxcbiAgICAgIGNhbGxiYWNrczogeyBkcm9wOiB0aGlzLl9vbkRyb3AuYmluZCh0aGlzKSB9XG4gICAgfSlcbiAgICBkcmFnRHJvcC5iaW5kKGh0bWxbMF0pXG4gIH1cblxuICBhc3luYyBfb25Ecm9wIChldmVudCwgdHlwZSA9ICdza2lsbCcsIGNvbGxlY3Rpb25OYW1lID0gJ3NraWxscycpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IG9wdGlvbmFsU2tpbGwgPSBldmVudD8uY3VycmVudFRhcmdldD8uY2xhc3NMaXN0Py5jb250YWlucygnb3B0aW9uYWwtc2tpbGxzJylcbiAgICBjb25zdCBvbCA9IGV2ZW50Py5jdXJyZW50VGFyZ2V0Py5jbG9zZXN0KCdvbCcpXG4gICAgY29uc3QgaW5kZXggPSBvbD8uZGF0YXNldD8uZ3JvdXBcblxuICAgIGNvbnN0IGRhdGFMaXN0ID0gYXdhaXQgQ29DN1V0aWxpdGllcy5nZXREYXRhRnJvbURyb3BFdmVudChldmVudCwgJ0l0ZW0nKVxuXG4gICAgbGV0IHVzZUNvQ0lEID0gMFxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSkgOiBbXVxuICAgIGNvbnN0IGdyb3VwcyA9IHRoaXMuaXRlbS5zeXN0ZW0uZ3JvdXBzID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0uZ3JvdXBzKSA6IFtdXG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YUxpc3QpIHtcbiAgICAgIGlmICghaXRlbSB8fCAhaXRlbS5zeXN0ZW0pIGNvbnRpbnVlXG4gICAgICBpZiAoIVt0eXBlXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25hbFNraWxsKSB7XG4gICAgICAgIGlmICghQ29DN0l0ZW0uaXNBbnlTcGVjKGl0ZW0pKSB7XG4gICAgICAgICAgLy8gR2VuZXJpYyBzcGVjaWFsaXphdGlvbiBjYW4gYmUgaW5jbHVkZWQgbWFueSB0aW1lc1xuICAgICAgICAgIGlmIChjb2xsZWN0aW9uLmZpbmQoZWwgPT4gZWwubmFtZSA9PT0gaXRlbS5uYW1lKSkge1xuICAgICAgICAgICAgY29udGludWUgLy8gSWYgc2tpbGwgaXMgYWxyZWFkeSBpbiBtYWluIGRvbid0IGFkZCBpdFxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZ3JvdXBzW2luZGV4XS5za2lsbHMuZmluZChlbCA9PiBlbC5uYW1lID09PSBpdGVtLm5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZSAvLyBJZiBza2lsbCBpcyBhbHJlYWR5IGluIGdyb3VwIGRvbid0IGFkZCBpdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VDb0NJRCA9PT0gMCkge1xuICAgICAgICAgIHVzZUNvQ0lEID0gYXdhaXQgRHJvcENvQ0lELmNyZWF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBzW2luZGV4XS5za2lsbHMgPSBncm91cHNbaW5kZXhdLnNraWxscy5jb25jYXQoW0Ryb3BDb0NJRC5wcm9jZXNzSXRlbSh1c2VDb0NJRCwgaXRlbSldKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFDb0M3SXRlbS5pc0FueVNwZWMoaXRlbSkpIHtcbiAgICAgICAgICAvLyBHZW5lcmljIHNwZWNpYWxpemF0aW9uIGNhbiBiZSBpbmNsdWRlZCBtYW55IHRpbWVzXG4gICAgICAgICAgaWYgKGNvbGxlY3Rpb24uZmluZChlbCA9PiBlbC5uYW1lID09PSBpdGVtLm5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgc2FtZSBza2lsbCBpcyBpbiBvbmUgb2YgdGhlIGdyb3VwIHJlbW92ZSBpdCBmcm9tIHRoZSBncm91cHNcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZ3JvdXBzW2ldLnNraWxscy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgIGVsID0+IGVsLm5hbWUgPT09IGl0ZW0ubmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICBncm91cHNbaV0uc2tpbGxzLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZUNvQ0lEID09PSAwKSB7XG4gICAgICAgICAgdXNlQ29DSUQgPSBhd2FpdCBEcm9wQ29DSUQuY3JlYXRlKClcbiAgICAgICAgfVxuICAgICAgICBjb2xsZWN0aW9uLnB1c2goRHJvcENvQ0lELnByb2Nlc3NJdGVtKHVzZUNvQ0lELCBpdGVtKSlcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0uZ3JvdXBzJzogZ3JvdXBzIH0pXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7IFtgc3lzdGVtLiR7Y29sbGVjdGlvbk5hbWV9YF06IGNvbGxlY3Rpb24gfSlcbiAgfVxuXG4gIGFzeW5jIF9vbkdyb3VwQ29udHJvbCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgYSA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcblxuICAgIC8vIEFkZCBuZXcgZGFtYWdlIGNvbXBvbmVudFxuICAgIGlmIChhLmNsYXNzTGlzdC5jb250YWlucygnYWRkLWdyb3VwJykpIHtcbiAgICAgIGF3YWl0IHRoaXMuX29uU3VibWl0KGV2ZW50KSAvLyBTdWJtaXQgYW55IHVuc2F2ZWQgY2hhbmdlc1xuICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5pdGVtLnN5c3RlbS5ncm91cHNcbiAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoe1xuICAgICAgICAnc3lzdGVtLmdyb3Vwcyc6IGdyb3Vwcy5jb25jYXQoW3sgb3B0aW9uczogMCwgc2tpbGxzOiBbXSB9XSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGEuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1vdmUtZ3JvdXAnKSkge1xuICAgICAgYXdhaXQgdGhpcy5fb25TdWJtaXQoZXZlbnQpIC8vIFN1Ym1pdCBhbnkgdW5zYXZlZCBjaGFuZ2VzXG4gICAgICBjb25zdCBncm91cHMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5ncm91cHMpXG4gICAgICBjb25zdCBvbCA9IGEuY2xvc2VzdCgnLml0ZW0tbGlzdC5ncm91cCcpXG4gICAgICBncm91cHMuc3BsaWNlKE51bWJlcihvbC5kYXRhc2V0Lmdyb3VwKSwgMSlcbiAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLmdyb3Vwcyc6IGdyb3VwcyB9KVxuICAgIH1cbiAgfVxuXG4gIF9vbkl0ZW1TdW1tYXJ5IChldmVudCwgY29sbGVjdGlvbk5hbWUgPSAnaXRlbXMnKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IG9iaiA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICBjb25zdCBsaSA9IG9iai5wYXJlbnRzKCcuaXRlbScpXG4gICAgY29uc3QgZ3JvdXAgPSBvYmouY2xvc2VzdCgnLmdyb3VwJylcbiAgICBsZXQgaXRlbVxuICAgIGlmIChncm91cC5sZW5ndGgpIHtcbiAgICAgIGl0ZW0gPSB0aGlzLml0ZW0uc3lzdGVtLmdyb3Vwc1tncm91cC5kYXRhKCdncm91cCcpXVtjb2xsZWN0aW9uTmFtZV0uZmluZChzID0+IHtcbiAgICAgICAgcmV0dXJuIHMuX2lkID09PSBsaS5kYXRhKCdpdGVtLWlkJylcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXS5maW5kKHMgPT4ge1xuICAgICAgICByZXR1cm4gcy5faWQgPT09IGxpLmRhdGEoJ2l0ZW0taWQnKVxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgY2hhdERhdGEgPSBpdGVtLnN5c3RlbS5kZXNjcmlwdGlvblxuXG4gICAgLy8gVG9nZ2xlIHN1bW1hcnlcbiAgICBpZiAobGkuaGFzQ2xhc3MoJ2V4cGFuZGVkJykpIHtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBsaS5jaGlsZHJlbignLml0ZW0tc3VtbWFyeScpXG4gICAgICBzdW1tYXJ5LnNsaWRlVXAoMjAwLCAoKSA9PiBzdW1tYXJ5LnJlbW92ZSgpKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXYgPSAkKGA8ZGl2IGNsYXNzPVwiaXRlbS1zdW1tYXJ5XCI+JHtjaGF0RGF0YS52YWx1ZX08L2Rpdj5gKVxuICAgICAgY29uc3QgcHJvcHMgPSAkKCc8ZGl2IGNsYXNzPVwiaXRlbS1wcm9wZXJ0aWVzXCI+PC9kaXY+JylcbiAgICAgIC8vIGZvciAoY29uc3QgcCBvZiBjaGF0RGF0YS5wcm9wZXJ0aWVzKSB7IHByb3BzLmFwcGVuZChgPHNwYW4gY2xhc3M9XCJ0YWdcIj4ke3B9PC9zcGFuPmApIH1cbiAgICAgIGRpdi5hcHBlbmQocHJvcHMpXG4gICAgICBsaS5hcHBlbmQoZGl2LmhpZGUoKSlcbiAgICAgIGRpdi5zbGlkZURvd24oMjAwKVxuICAgIH1cbiAgICBsaS50b2dnbGVDbGFzcygnZXhwYW5kZWQnKVxuICB9XG5cbiAgYXN5bmMgX29uSXRlbURlbGV0ZSAoZXZlbnQsIGNvbGxlY3Rpb25OYW1lID0gJ2l0ZW1zJykge1xuICAgIGNvbnN0IGl0ZW0gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCBpdGVtSWQgPSBpdGVtLmRhdGEoJ2l0ZW0taWQnKVxuICAgIGNvbnN0IENvQ0lkID0gaXRlbS5kYXRhKCdjb2NpZCcpXG4gICAgY29uc3QgaXRlbUluZGV4ID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0uZmluZEluZGV4KGkgPT4gKGl0ZW1JZCAmJiBpLl9pZCA9PT0gaXRlbUlkKSB8fCAoQ29DSWQgJiYgaSA9PT0gQ29DSWQpKVxuICAgIGlmIChpdGVtSW5kZXggPiAtMSkge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdKSA6IFtdXG4gICAgICBjb2xsZWN0aW9uLnNwbGljZShpdGVtSW5kZXgsIDEpXG4gICAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgW2BzeXN0ZW0uJHtjb2xsZWN0aW9uTmFtZX1gXTogY29sbGVjdGlvbiB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkdyb3VwSXRlbURlbGV0ZSAoZXZlbnQpIHtcbiAgICBjb25zdCBpdGVtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgZ3JvdXAgPSBOdW1iZXIoaXRlbS5jbG9zZXN0KCcuaXRlbS1saXN0Lmdyb3VwJykuZGF0YSgnZ3JvdXAnKSlcbiAgICBjb25zdCBncm91cHMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5ncm91cHMpXG4gICAgaWYgKHR5cGVvZiBncm91cHNbZ3JvdXBdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgaXRlbUlkID0gaXRlbS5kYXRhKCdpdGVtLWlkJylcbiAgICAgIGNvbnN0IENvQ0lkID0gaXRlbS5kYXRhKCdjb2NpZCcpXG4gICAgICBjb25zdCBpdGVtSW5kZXggPSBncm91cHNbZ3JvdXBdLnNraWxscy5maW5kSW5kZXgoaSA9PiAoaXRlbUlkICYmIGkuX2lkID09PSBpdGVtSWQpIHx8IChDb0NJZCAmJiBpID09PSBDb0NJZCkpXG4gICAgICBpZiAoaXRlbUluZGV4ID4gLTEpIHtcbiAgICAgICAgZ3JvdXBzW2dyb3VwXS5za2lsbHMuc3BsaWNlKGl0ZW1JbmRleCwgMSlcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0uZ3JvdXBzJzogZ3JvdXBzIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAnb2NjdXBhdGlvbiddLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zL29jY3VwYXRpb24uaHRtbCcsXG4gICAgICB3aWR0aDogNTI1LFxuICAgICAgaGVpZ2h0OiA0ODAsXG4gICAgICBkcmFnRHJvcDogW3sgZHJhZ1NlbGVjdG9yOiAnLml0ZW0nIH1dLFxuICAgICAgc2Nyb2xsWTogWycudGFiLmRlc2NyaXB0aW9uJ10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXZpZ2F0aW9uJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXQtYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuaGFzT3duZXIgPSB0aGlzLml0ZW0uaXNFbWJlZGRlZCA9PT0gdHJ1ZVxuXG4gICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLnNraWxscyA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5leHBhbmRJdGVtQXJyYXkoeyBpdGVtTGlzdDogc2hlZXREYXRhLmRhdGEuc3lzdGVtLnNraWxscyB9KVxuXG4gICAgc2hlZXREYXRhLnNraWxsTGlzdEVtcHR5ID0gc2hlZXREYXRhLmRhdGEuc3lzdGVtLnNraWxscy5sZW5ndGggPT09IDBcblxuICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5za2lsbHMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDAsIGxlbiA9IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5ncm91cHMubGVuZ3RoOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmdyb3Vwc1tpbmRleF0uc2tpbGxzID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmV4cGFuZEl0ZW1BcnJheSh7IGl0ZW1MaXN0OiBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZ3JvdXBzW2luZGV4XS5za2lsbHMgfSlcblxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmdyb3Vwc1tpbmRleF0uaXNFbXB0eSA9IHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5ncm91cHNbaW5kZXhdLnNraWxscy5sZW5ndGggPT09IDBcblxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmdyb3Vwc1tpbmRleF0uc2tpbGxzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgIH1cblxuICAgIHNoZWV0RGF0YS5vY2N1cGF0aW9uUG9pbnRzU3RyaW5nID0gQ29DN09jY3VwYXRpb25TaGVldC5vY2N1cGF0aW9uUG9pbnRzU3RyaW5nKHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5vY2N1cGF0aW9uU2tpbGxQb2ludHMpXG5cbiAgICBzaGVldERhdGEuaXRlbVByb3BlcnRpZXMgPSBbXVxuXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2hlZXREYXRhLmRhdGEuc3lzdGVtLnR5cGUpKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzLnB1c2goQ09DNy5vY2N1cGF0aW9uUHJvcGVydGllc1trZXldID8gQ09DNy5vY2N1cGF0aW9uUHJvcGVydGllc1trZXldIDogbnVsbClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIHN0YXRpYyBvY2N1cGF0aW9uUG9pbnRzU3RyaW5nIChvY2N1cGF0aW9uU2tpbGxQb2ludHMpIHtcbiAgICBjb25zdCBvcHRpb25uYWwgPSBbXVxuICAgIGNvbnN0IG1hbmRhdG9yeSA9IFtdXG4gICAgZm9yIChjb25zdCBba2V5LCBjYXJhY10gb2YgT2JqZWN0LmVudHJpZXMob2NjdXBhdGlvblNraWxsUG9pbnRzKSkge1xuICAgICAgaWYgKGNhcmFjLm11bHRpcGxpZXIpIHtcbiAgICAgICAgY29uc3QgY2FyYWNOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKGBDSEFSQUMuJHtrZXkudG9VcHBlckNhc2UoKX1gKVxuICAgICAgICBpZiAoY2FyYWMuc2VsZWN0ZWQgJiYgY2FyYWMub3B0aW9uYWwpIHtcbiAgICAgICAgICBvcHRpb25uYWwucHVzaChgJHtjYXJhY05hbWV9eCR7Y2FyYWMubXVsdGlwbGllcn1gKVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYXJhYy5zZWxlY3RlZCAmJiAhY2FyYWMub3B0aW9uYWwpIHtcbiAgICAgICAgICBtYW5kYXRvcnkucHVzaChgJHtjYXJhY05hbWV9eCR7Y2FyYWMubXVsdGlwbGllcn1gKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBvY2N1cGF0aW9uUG9pbnRzU3RyaW5nID0gJydcbiAgICBjb25zdCBvclN0cmluZyA9IGAgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuT3InKX0gYFxuICAgIGlmIChtYW5kYXRvcnkubGVuZ3RoKSBvY2N1cGF0aW9uUG9pbnRzU3RyaW5nICs9IG1hbmRhdG9yeS5qb2luKCcgKyAnKVxuICAgIGlmIChvcHRpb25uYWwubGVuZ3RoICYmIG1hbmRhdG9yeS5sZW5ndGgpIHtcbiAgICAgIG9jY3VwYXRpb25Qb2ludHNTdHJpbmcgKz0gYCArICgke29wdGlvbm5hbC5qb2luKG9yU3RyaW5nKX0pYFxuICAgIH1cbiAgICBpZiAob3B0aW9ubmFsLmxlbmd0aCAmJiAhbWFuZGF0b3J5Lmxlbmd0aCkge1xuICAgICAgb2NjdXBhdGlvblBvaW50c1N0cmluZyArPSBvcHRpb25uYWwuam9pbihvclN0cmluZylcbiAgICB9XG4gICAgcmV0dXJuIG9jY3VwYXRpb25Qb2ludHNTdHJpbmdcbiAgfVxuXG4gIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IHN5c3RlbSA9IGV4cGFuZE9iamVjdChmb3JtRGF0YSk/LnN5c3RlbVxuICAgIGlmIChzeXN0ZW0uZ3JvdXBzKSB7XG4gICAgICBmb3JtRGF0YVsnc3lzdGVtLmdyb3VwcyddID0gT2JqZWN0LnZhbHVlcyhcbiAgICAgICAgc3lzdGVtLmdyb3VwcyB8fCBbXVxuICAgICAgKVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaXRlbS5zeXN0ZW0uZ3JvdXBzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBmb3JtRGF0YVtgc3lzdGVtLmdyb3Vwcy4ke2luZGV4fS5za2lsbHNgXSA9IGR1cGxpY2F0ZShcbiAgICAgICAgICB0aGlzLml0ZW0uc3lzdGVtLmdyb3Vwc1tpbmRleF0uc2tpbGxzXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdXBlci5fdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIEFjdG9yLCBDaGF0TWVzc2FnZSwgQ09OU1QsIGR1cGxpY2F0ZSwgRm9ybUFwcGxpY2F0aW9uLCBnYW1lLCBIb29rcywgbWVyZ2VPYmplY3QsIHJhbmRvbUlELCByZW5kZXJUZW1wbGF0ZSwgUm9sbCwgdWkgKi9cbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi9jb25maWcuanMnXG5pbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4uL2FjdG9ycy9hY3Rvci5qcydcbmltcG9ydCB7IENvQzdPY2N1cGF0aW9uU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvb2NjdXBhdGlvbi5qcydcbmltcG9ydCB7IENvQzdQYXJzZXIgfSBmcm9tICcuL2NvYzctcGFyc2VyLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcbmltcG9ydCB7IFNraWxsU3BlY2lhbGl6YXRpb25TZWxlY3REaWFsb2cgfSBmcm9tICcuLi9hcHBzL3NraWxsLXNwZWNpYWxpemF0aW9uLXNlbGVjdC1kaWFsb2cuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBpZDogJ2ludmVzdGlnYXRvci13aXphcmQtYXBwbGljYXRpb24nLFxuICAgICAgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZycsICdpbnZlc3RpZ2F0b3Itd2l6YXJkJ10sXG4gICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkludmVzdGlnYXRvcldpemFyZC5UaXRsZScpLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC5oYnMnLFxuICAgICAgd2lkdGg6IDUyMCxcbiAgICAgIGhlaWdodDogNjAwLFxuICAgICAgY2xvc2VPblN1Ym1pdDogZmFsc2UsXG4gICAgICBzY3JvbGxZOiBbJy5zY3JvbGxzZWN0aW9uJ10sXG4gICAgICBkcmFnRHJvcDogW3sgZHJhZ1NlbGVjdG9yOiAnLmRyYWdnYWJsZScsIGRyb3BTZWxlY3RvcjogbnVsbCB9XVxuICAgIH0pXG4gIH1cblxuICBnZXQgcGFnZUxpc3QgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBQQUdFX05PTkU6IC0xLFxuICAgICAgUEFHRV9JTlRST0RVQ1RJT046IDAsXG4gICAgICBQQUdFX0NPTkZJR1VSQVRJT046IDEsXG4gICAgICBQQUdFX1NFVFVQUzogMixcbiAgICAgIFBBR0VfQVJDSEVUWVBFUzogMyxcbiAgICAgIFBBR0VfQ0hBUkFDVElTVElDUzogNCxcbiAgICAgIFBBR0VfQVRUUklCVVRFUzogNSxcbiAgICAgIFBBR0VfVklFV19BVFRSSUJVVEVTOiA2LFxuICAgICAgUEFHRV9PQ0NVUEFUSU9OUzogNyxcbiAgICAgIFBBR0VfT0NDVVBBVElPTl9TS0lMTFM6IDgsXG4gICAgICBQQUdFX0FSQ0hFVFlQRV9TS0lMTFM6IDksXG4gICAgICBQQUdFX1BPSU5UU19TS0lMTFM6IDEwLFxuICAgICAgUEFHRV9JTlZFU1RJR0FUT1I6IDExLFxuICAgICAgUEFHRV9CQUNLU1RPUlk6IDEyLFxuICAgICAgUEFHRV9DUkVBVEU6IDEzXG4gICAgfVxuICB9XG5cbiAgZ2V0IGNoYXJhY3RlcmlzdGljc01ldGhvZHMgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBNRVRIT0RfREVGQVVMVDogMSxcbiAgICAgIE1FVEhPRF9ST0xMOiAxLFxuICAgICAgTUVUSE9EX1BPSU5UUzogMixcbiAgICAgIE1FVEhPRF9WQUxVRVM6IDNcbiAgICB9XG4gIH1cblxuICBnZXQgY29jaWRDcmVkaXRSYXRpbmcgKCkge1xuICAgIHJldHVybiAnaS5za2lsbC5jcmVkaXQtcmF0aW5nJ1xuICB9XG5cbiAgZ2V0IGNvY2lkTGFuZ3VhZ2VPd24gKCkge1xuICAgIHJldHVybiAnaS5za2lsbC5sYW5ndWFnZS1vd24nXG4gIH1cblxuICBnZXQgcGFnZU9yZGVyICgpIHtcbiAgICBjb25zdCBwYWdlcyA9IHRoaXMucGFnZUxpc3RcbiAgICBsZXQgcGFnZU9yZGVyID0gW1xuICAgICAgcGFnZXMuUEFHRV9JTlRST0RVQ1RJT05cbiAgICBdXG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBwYWdlT3JkZXIucHVzaChwYWdlcy5QQUdFX0NPTkZJR1VSQVRJT04pXG4gICAgfVxuICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0U2V0dXAgPT09ICcnKSB7XG4gICAgICBwYWdlT3JkZXIucHVzaChwYWdlcy5QQUdFX1NFVFVQUylcbiAgICB9XG4gICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlQXJjaGV0eXBlJykpIHtcbiAgICAgIHBhZ2VPcmRlci5wdXNoKHBhZ2VzLlBBR0VfQVJDSEVUWVBFUylcbiAgICB9XG4gICAgcGFnZU9yZGVyLnB1c2gocGFnZXMuUEFHRV9DSEFSQUNUSVNUSUNTKVxuICAgIGlmICghZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXMnKSkge1xuICAgICAgcGFnZU9yZGVyLnB1c2gocGFnZXMuUEFHRV9BVFRSSUJVVEVTKVxuICAgIH1cbiAgICBwYWdlT3JkZXIgPSBwYWdlT3JkZXIuY29uY2F0KFtcbiAgICAgIHBhZ2VzLlBBR0VfVklFV19BVFRSSUJVVEVTLFxuICAgICAgcGFnZXMuUEFHRV9PQ0NVUEFUSU9OUyxcbiAgICAgIHBhZ2VzLlBBR0VfT0NDVVBBVElPTl9TS0lMTFNcbiAgICBdKVxuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUFyY2hldHlwZScpKSB7XG4gICAgICBwYWdlT3JkZXIucHVzaChwYWdlcy5QQUdFX0FSQ0hFVFlQRV9TS0lMTFMpXG4gICAgfVxuICAgIHBhZ2VPcmRlciA9IHBhZ2VPcmRlci5jb25jYXQoW1xuICAgICAgcGFnZXMuUEFHRV9QT0lOVFNfU0tJTExTLFxuICAgICAgcGFnZXMuUEFHRV9JTlZFU1RJR0FUT1IsXG4gICAgICBwYWdlcy5QQUdFX0JBQ0tTVE9SWSxcbiAgICAgIHBhZ2VzLlBBR0VfQ1JFQVRFXG4gICAgXSlcbiAgICByZXR1cm4gcGFnZU9yZGVyXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgbG9hZENhY2hlSXRlbUJ5Q29DSUQgKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZnJvbUNvQ0lEUmVnZXhCZXN0KHsgY29jaWRSZWdFeHA6IC9eaVxcLi8sIHR5cGU6ICdpJywgc2hvd0xvYWRpbmc6IHRydWUgfSkudGhlbigoaXRlbXMpID0+IHtcbiAgICAgICAgY29uc3QgbGlzdCA9IHt9XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgIGxpc3RbaXRlbS5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZF0gPSBpdGVtXG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShsaXN0KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZmlsdGVyQ2FjaGVJdGVtQnlDb0NJRCAocmVnZXhwKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGF3YWl0IHRoaXMub2JqZWN0LmNhY2hlQ29DSUQpLmZpbHRlcihlbnRyeSA9PiBlbnRyeVswXS5tYXRjaChyZWdleHApKS5tYXAoZW50cnkgPT4gZW50cnlbMV0pXG4gIH1cblxuICBhc3luYyBnZXRDYWNoZUl0ZW1CeUNvQ0lEIChpZCkge1xuICAgIHJldHVybiAoYXdhaXQgdGhpcy5vYmplY3QuY2FjaGVDb0NJRClbaWRdID8/IGZhbHNlXG4gIH1cblxuICBhc3luYyBleHBhbmRJdGVtQXJyYXkgKGl0ZW1MaXN0KSB7XG4gICAgY29uc3QgaXRlbXMgPSBpdGVtTGlzdC5maWx0ZXIoaXQgPT4gdHlwZW9mIGl0ICE9PSAnc3RyaW5nJylcbiAgICBjb25zdCBjb2NpZHMgPSBpdGVtTGlzdC5maWx0ZXIoaXQgPT4gdHlwZW9mIGl0ID09PSAnc3RyaW5nJylcbiAgICBpZiAoY29jaWRzLmxlbmd0aCkge1xuICAgICAgY29uc3Qgc291cmNlID0gYXdhaXQgdGhpcy5vYmplY3QuY2FjaGVDb0NJRFxuICAgICAgY29uc3QgbWlzc2luZyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IGNvY2lkIG9mIGNvY2lkcykge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtjb2NpZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRlbXMucHVzaChzb3VyY2VbY29jaWRdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pc3NpbmcucHVzaChjb2NpZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGVyYSA9IGdhbWUuaTE4bi5mb3JtYXQoQ09DNy5lcmFzW3RoaXMub2JqZWN0LmRlZmF1bHRFcmFdID8/ICdDb0M3LkNvQ0lERmxhZy5lcnJvci51bmtub3duLWVyYScsIHsgZXJhOiB0aGlzLm9iamVjdC5kZWZhdWx0RXJhIH0pXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNvQ0lERmxhZy5lcnJvci5kb2N1bWVudHMtbm90LWZvdW5kJywgeyBjb2NpZHM6IG1pc3Npbmcuam9pbignLCAnKSwgbGFuZzogZ2FtZS5pMThuLmxhbmcsIGVyYSB9KSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zXG4gIH1cblxuICBnZXRBZ2VBZGp1c3RtZW50cyAoKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnMpIHtcbiAgICAgIHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzW2tleV0gPSAwXG4gICAgfVxuICAgIC8vIGVkdTogb3B0aW9uYWwgLSBudW1iZXIgb2YgZWR1IGltcHJvdmVtZW50IGNoZWNrc1xuICAgIC8vIGRlZHVjdDogb3B0aW9uYWwgLSBkZWR1Y3QgW3RvdGFsXSBiZXR3ZWVuIFtmcm9tXVxuICAgIC8vIHJlZHVjZTogb3B0aW9uYWwgLSBkZWR1Y3QgW3RvdGxhXSBmcm9tIFtmcm9tXVxuICAgIC8vIGx1Y2s6IG9wdGlvbmFsIC0gcmVyb2xsIGx1Y2sgYW5kIHRha2UgaGlnaGVyXG4gICAgaWYgKCFnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdwdWxwUnVsZUlnbm9yZUFnZVBlbmFsdGllcycpKSB7XG4gICAgICBpZiAodGhpcy5vYmplY3QuYWdlID49IDQwKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IE1hdGguZmxvb3IodGhpcy5vYmplY3QuYWdlIC8gMTApXG4gICAgICAgIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMgPSB7XG4gICAgICAgICAgZWR1OiB7XG4gICAgICAgICAgICB0b3RhbDogKGtleSAtIDIgPiA0ID8gNCA6IGtleSAtIDIpLFxuICAgICAgICAgICAgcm9sbGVkOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVkdWN0OiB7XG4gICAgICAgICAgICB0b3RhbDogKGtleSA+IDEgPyA1ICogTWF0aC5wb3coMiwga2V5IC0gNCkgOiAwKSxcbiAgICAgICAgICAgIGZyb206IFsnc3RyJywgJ2NvbicsICdkZXgnXSxcbiAgICAgICAgICAgIHZhbHVlczoge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlZHVjZToge1xuICAgICAgICAgICAgdG90YWw6IChrZXkgLSAzKSAqIDUsXG4gICAgICAgICAgICBmcm9tOiAnYXBwJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLm9iamVjdC5hZ2UgPj0gMjApIHtcbiAgICAgICAgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cyA9IHtcbiAgICAgICAgICBlZHU6IHtcbiAgICAgICAgICAgIHRvdGFsOiAxLFxuICAgICAgICAgICAgcm9sbGVkOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLm9iamVjdC5hZ2UgPj0gMTUpIHtcbiAgICAgICAgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cyA9IHtcbiAgICAgICAgICBkZWR1Y3Q6IHtcbiAgICAgICAgICAgIHRvdGFsOiA1LFxuICAgICAgICAgICAgZnJvbTogWydzdHInLCAnc2l6J10sXG4gICAgICAgICAgICB2YWx1ZXM6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWR1Y2U6IHtcbiAgICAgICAgICAgIHRvdGFsOiA1LFxuICAgICAgICAgICAgZnJvbTogJ2VkdSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGx1Y2s6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLnJlZHVjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNbdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5yZWR1Y2UuZnJvbV0gPSAtdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5yZWR1Y2UudG90YWxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBhd2FpdCBzdXBlci5nZXREYXRhKClcblxuICAgIHNoZWV0RGF0YS5pc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG5cbiAgICBzaGVldERhdGEucGFnZXMgPSB0aGlzLnBhZ2VMaXN0XG5cbiAgICBzaGVldERhdGEuY2FuTmV4dCA9IGZhbHNlXG4gICAgc2hlZXREYXRhLmNyZWF0ZUJ1dHRvbiA9IGZhbHNlXG5cbiAgICBsZXQgc2V0dXBcbiAgICBsZXQgYXJjaGV0eXBlXG4gICAgbGV0IG9jY3VwYXRpb25cblxuICAgIGxldCBzaG93TW9uZXRhcnkgPSBmYWxzZVxuXG4gICAgc3dpdGNoIChzaGVldERhdGEub2JqZWN0LnN0ZXApIHtcbiAgICAgIGNhc2Ugc2hlZXREYXRhLnBhZ2VzLlBBR0VfSU5UUk9EVUNUSU9OOlxuICAgICAgICBzaGVldERhdGEuZXJhID0gZ2FtZS5pMThuLmZvcm1hdChDT0M3LmVyYXNbc2hlZXREYXRhLm9iamVjdC5kZWZhdWx0RXJhXSA/PyAnQ29DNy5Db0NJREZsYWcuZXJyb3IudW5rbm93bi1lcmEnLCB7IGVyYTogc2hlZXREYXRhLm9iamVjdC5kZWZhdWx0RXJhIH0pXG4gICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX0NPTkZJR1VSQVRJT046XG4gICAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgICAgIHNoZWV0RGF0YS5zZXR1cHMgPSBhd2FpdCB0aGlzLmZpbHRlckNhY2hlSXRlbUJ5Q29DSUQoL15pXFwuc2V0dXBcXC4vKVxuICAgICAgICAgIHNoZWV0RGF0YS5vY2N1cGF0aW9ucyA9IGF3YWl0IHRoaXMuZmlsdGVyQ2FjaGVJdGVtQnlDb0NJRCgvXmlcXC5vY2N1cGF0aW9uXFwuLylcbiAgICAgICAgICBzaGVldERhdGEuYXJjaGV0eXBlcyA9IGF3YWl0IHRoaXMuZmlsdGVyQ2FjaGVJdGVtQnlDb0NJRCgvXmlcXC5hcmNoZXR5cGVcXC4vKVxuICAgICAgICAgIHNldHVwID0gc2hlZXREYXRhLnNldHVwcy5maW5kKHMgPT4gcy5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZCA9PT0gc2hlZXREYXRhLm9iamVjdC5kZWZhdWx0U2V0dXApXG4gICAgICAgICAgaWYgKHR5cGVvZiBzZXR1cCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5vYmplY3QuZGVmYXVsdFNldHVwID0gJydcbiAgICAgICAgICAgIHNoZWV0RGF0YS5vYmplY3Quc2V0dXAgPSAnJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaGVldERhdGEuZGVzY3JpcHRpb24gPSBDb0M3UGFyc2VyLmVucmljaEhUTUwoc2V0dXAuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBzaGVldERhdGEub3duZXJzaGlwID0ge1xuICAgICAgICAgICAgW0NPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuTk9ORV06ICdPV05FUlNISVAuTk9ORScsXG4gICAgICAgICAgICBbQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5MSU1JVEVEXTogJ09XTkVSU0hJUC5MSU1JVEVEJyxcbiAgICAgICAgICAgIFtDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk9CU0VSVkVSXTogJ09XTkVSU0hJUC5PQlNFUlZFUicsXG4gICAgICAgICAgICBbQ09OU1QuRE9DVU1FTlRfT1dORVJTSElQX0xFVkVMUy5PV05FUl06ICdPV05FUlNISVAuT1dORVInXG4gICAgICAgICAgfVxuICAgICAgICAgIHNoZWV0RGF0YS5fZXJhcyA9IFtdXG4gICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoQ09DNy5lcmFzKSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLl9lcmFzLnB1c2goe1xuICAgICAgICAgICAgICBpZDoga2V5LFxuICAgICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUodmFsdWUpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcyA9IHRoaXMuY2hhcmFjdGVyaXN0aWNzTWV0aG9kc1xuICAgICAgICAgIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2QgPSBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfREVGQVVMVFxuICAgICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LmVuZm9yY2VQb2ludEJ1eSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZCA9IHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2RzLk1FVEhPRF9QT0lOVFNcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2QgPSBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfVkFMVUVTXG4gICAgICAgICAgfVxuICAgICAgICAgIHNoZWV0RGF0YS5fZXJhcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgICAgICBzaGVldERhdGEuaGFzQXJjaGV0eXBlcyA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlQXJjaGV0eXBlJylcbiAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX1NFVFVQUzpcbiAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3QuZGVmYXVsdFNldHVwID09PSAnJykge1xuICAgICAgICAgIHNoZWV0RGF0YS5zZXR1cHMgPSBhd2FpdCB0aGlzLmZpbHRlckNhY2hlSXRlbUJ5Q29DSUQoL15pXFwuc2V0dXBcXC4vKVxuICAgICAgICAgIHNoZWV0RGF0YS5zZXR1cHMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3Quc2V0dXAgIT09ICcnKSB7XG4gICAgICAgICAgICBzZXR1cCA9IHNoZWV0RGF0YS5zZXR1cHMuZmluZChzID0+IHMuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuaWQgPT09IHNoZWV0RGF0YS5vYmplY3Quc2V0dXApXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNldHVwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBzaGVldERhdGEuZGVzY3JpcHRpb24gPSBDb0M3UGFyc2VyLmVucmljaEhUTUwoc2V0dXAuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlKVxuICAgICAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9BUkNIRVRZUEVTOlxuICAgICAgICBzaGVldERhdGEuYXJjaGV0eXBlcyA9IGF3YWl0IHRoaXMuZmlsdGVyQ2FjaGVJdGVtQnlDb0NJRCgvXmlcXC5hcmNoZXR5cGVcXC4vKVxuICAgICAgICBpZiAoc2hlZXREYXRhLmFyY2hldHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2hlZXREYXRhLmFyY2hldHlwZXMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3QuYXJjaGV0eXBlICE9PSAnJykge1xuICAgICAgICAgICAgYXJjaGV0eXBlID0gc2hlZXREYXRhLmFyY2hldHlwZXMuZmluZChzID0+IHMuZmxhZ3MuQ29DNy5jb2NpZEZsYWcuaWQgPT09IHNoZWV0RGF0YS5vYmplY3QuYXJjaGV0eXBlKVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmNoZXR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5kZXNjcmlwdGlvbiA9IENvQzdQYXJzZXIuZW5yaWNoSFRNTChhcmNoZXR5cGUuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlKVxuICAgICAgICAgICAgICBzaGVldERhdGEuYm9udXNQb2ludHMgPSBhcmNoZXR5cGUuc3lzdGVtLmJvbnVzUG9pbnRzXG4gICAgICAgICAgICAgIGNvbnN0IGNvcmVDaGFyYWN0ZXJpc3RpY3MgPSBbXVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvcmVDaGFyYWN0ZXJpc3RpYyBpbiBhcmNoZXR5cGUuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJjaGV0eXBlLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzW2NvcmVDaGFyYWN0ZXJpc3RpY10pIHtcbiAgICAgICAgICAgICAgICAgIGNvcmVDaGFyYWN0ZXJpc3RpY3MucHVzaChjb3JlQ2hhcmFjdGVyaXN0aWMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChjb3JlQ2hhcmFjdGVyaXN0aWNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYyA9ICcnXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29yZUNoYXJhY3RlcmlzdGljcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5jb3JlQ2hhcmFjdGVyaXN0aWMgPSBjb3JlQ2hhcmFjdGVyaXN0aWNzWzBdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2hlZXREYXRhLmNvcmVDaGFyYWN0ZXJpc3RpYyA9IGNvcmVDaGFyYWN0ZXJpc3RpY3MubWFwKGMgPT4gYy50b0xvY2FsZVVwcGVyQ2FzZSgpKS5qb2luKCcgJyArIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5PcicpICsgJyAnKVxuICAgICAgICAgICAgICBjb25zdCBza2lsbHMgPSBbXVxuICAgICAgICAgICAgICBhcmNoZXR5cGUuc3lzdGVtLnNraWxscyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KGFyY2hldHlwZS5zeXN0ZW0uc2tpbGxzKVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIGFyY2hldHlwZS5zeXN0ZW0uc2tpbGxzKSB7XG4gICAgICAgICAgICAgICAgc2tpbGxzLnB1c2goc2tpbGwubmFtZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzaGVldERhdGEuc2tpbGxzID0gc2tpbGxzLmpvaW4oJywgJylcbiAgICAgICAgICAgICAgc2hlZXREYXRhLnN1Z2dlc3RlZE9jY3VwYXRpb25zID0gQ29DN1BhcnNlci5lbnJpY2hIVE1MKGFyY2hldHlwZS5zeXN0ZW0uc3VnZ2VzdGVkT2NjdXBhdGlvbnMpXG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5zdWdnZXN0ZWRUcmFpdHMgPSBDb0M3UGFyc2VyLmVucmljaEhUTUwoYXJjaGV0eXBlLnN5c3RlbS5zdWdnZXN0ZWRUcmFpdHMpXG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX0NIQVJBQ1RJU1RJQ1M6XG4gICAgICAgIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2RzID0gdGhpcy5jaGFyYWN0ZXJpc3RpY3NNZXRob2RzXG4gICAgICAgIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2QgPSBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfUk9MTFxuICAgICAgICBpZiAoc2hlZXREYXRhLm9iamVjdC5zZXR1cCAhPT0gJycpIHtcbiAgICAgICAgICBzZXR1cCA9IGF3YWl0IHRoaXMuZ2V0Q2FjaGVJdGVtQnlDb0NJRCh0aGlzLm9iamVjdC5zZXR1cClcbiAgICAgICAgICBpZiAodHlwZW9mIHNldHVwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKHNldHVwLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLmVuYWJsZWQgfHwgdGhpcy5vYmplY3QuZW5mb3JjZVBvaW50QnV5KSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2QgPSBzaGVldERhdGEuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfUE9JTlRTXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZCA9IHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2RzLk1FVEhPRF9WQUxVRVNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoZWV0RGF0YS5zZXR1cCA9IHtcbiAgICAgICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgICAgIHBvaW50czogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb2ludHMudmFsdWUsXG4gICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ3N0cicsXG4gICAgICAgICAgICAgICAgICByb2xsOiBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLnN0cixcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLlN0cmVuZ3RoJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiAnY29uJyxcbiAgICAgICAgICAgICAgICAgIHJvbGw6IHNldHVwLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3Mucm9sbHMuY29uLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuQ29uc3RpdHV0aW9uJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiAnc2l6JyxcbiAgICAgICAgICAgICAgICAgIHJvbGw6IHNldHVwLnN5c3RlbS5jaGFyYWN0ZXJpc3RpY3Mucm9sbHMuc2l6LFxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDSEFSQUMuU2l6ZSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ2RleCcsXG4gICAgICAgICAgICAgICAgICByb2xsOiBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmRleCxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLkRleHRlcml0eSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ2FwcCcsXG4gICAgICAgICAgICAgICAgICByb2xsOiBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmFwcCxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLkFwcGVhcmFuY2UnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBrZXk6ICdpbnQnLFxuICAgICAgICAgICAgICAgICAgcm9sbDogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5pbnQsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5JbnRlbGxpZ2VuY2UnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBrZXk6ICdwb3cnLFxuICAgICAgICAgICAgICAgICAgcm9sbDogc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5wb3csXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0NIQVJBQy5Qb3dlcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogJ2VkdScsXG4gICAgICAgICAgICAgICAgICByb2xsOiBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmVkdSxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ0hBUkFDLkVkdWNhdGlvbidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGx1Y2s6IHtcbiAgICAgICAgICAgICAgICByb2xsOiBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmx1Y2ssXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDb0M3Lkx1Y2snXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoZWV0RGF0YS5jb3JlQ2hhcmFjdGVyaXN0aWNzID0gW11cbiAgICAgICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LmFyY2hldHlwZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgYXJjaGV0eXBlID0gYXdhaXQgdGhpcy5nZXRDYWNoZUl0ZW1CeUNvQ0lEKHRoaXMub2JqZWN0LmFyY2hldHlwZSlcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmNoZXR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb3JlQ2hhcmFjdGVyaXN0aWMgaW4gYXJjaGV0eXBlLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoYXJjaGV0eXBlLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzW2NvcmVDaGFyYWN0ZXJpc3RpY10pIHtcbiAgICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLmNvcmVDaGFyYWN0ZXJpc3RpY3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAga2V5OiBjb3JlQ2hhcmFjdGVyaXN0aWMsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmZvcm1hdChzaGVldERhdGEuc2V0dXAuY2hhcmFjdGVyaXN0aWNzLmZpbmQoYyA9PiBjLmtleSA9PT0gY29yZUNoYXJhY3RlcmlzdGljKT8ubGFiZWwgPz8gJ1Vua25vd24nKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaGVldERhdGEuY29yZUNoYXJhY3RlcmlzdGljcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vYmplY3QuY29yZUNoYXJhY3RlcmlzdGljICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgaWYgKGFyY2hldHlwZS5zeXN0ZW0uY29yZUNoYXJhY3RlcmlzdGljc0Zvcm11bGEuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBzaGVldERhdGEuc2V0dXAuY2hhcmFjdGVyaXN0aWNzLmZpbmQoYyA9PiBjLmtleSA9PT0gdGhpcy5vYmplY3QuY29yZUNoYXJhY3RlcmlzdGljKS5yb2xsID0gYXJjaGV0eXBlLnN5c3RlbS5jb3JlQ2hhcmFjdGVyaXN0aWNzRm9ybXVsYS52YWx1ZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGVtcHRpZXMgPSBmYWxzZVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2hlZXREYXRhLm9iamVjdC5zZXR1cFBvaW50cykge1xuICAgICAgICAgICAgICBpZiAoc2hlZXREYXRhLm9iamVjdC5zZXR1cFBvaW50c1trZXldICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdsdWNrJykge1xuICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLnNldHVwLnRvdGFsICs9IHBhcnNlSW50KHNoZWV0RGF0YS5vYmplY3Quc2V0dXBQb2ludHNba2V5XSwgMTApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVtcHRpZXMgPSB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9iamVjdC5jb3JlQ2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgICAgICAgICAgc2hlZXREYXRhLmNvcmVDaGFyYWN0ZXJpc3RpYyA9IHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYy50b0xvY2FsZVVwcGVyQ2FzZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVtcHRpZXMgJiYgdGhpcy5vYmplY3QuYWdlID49IDE1KSB7XG4gICAgICAgICAgICAgIGlmIChbc2hlZXREYXRhLmNoYXJhY3RlcmlzdGljc01ldGhvZHMuTUVUSE9EX1JPTEwsIHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2RzLk1FVEhPRF9WQUxVRVNdLmluY2x1ZGVzKHNoZWV0RGF0YS5jaGFyYWN0ZXJpc3RpY3NNZXRob2QpKSB7XG4gICAgICAgICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hlZXREYXRhLnNldHVwLnRvdGFsLnRvU3RyaW5nKCkgPT09IHNoZWV0RGF0YS5zZXR1cC5wb2ludHMpIHtcbiAgICAgICAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX0FUVFJJQlVURVM6XG4gICAgICAgIHNoZWV0RGF0YS5wdWxwUnVsZUlnbm9yZUFnZVBlbmFsdGllcyA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlSWdub3JlQWdlUGVuYWx0aWVzJylcbiAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMgPSB7fVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVycykge1xuICAgICAgICAgIHNoZWV0RGF0YS5wb2ludHNba2V5XSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCksXG4gICAgICAgICAgICBtaW46IC1wYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyAxLFxuICAgICAgICAgICAgbGFiZWw6IENvQzdVdGlsaXRpZXMuZ2V0Q2hhcmFjdGVyaXN0aWNOYW1lcyhrZXkpLmxhYmVsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5lZHUgIT09ICd1bmRlZmluZWQnICYmICF0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLmVkdS5yb2xsZWQpIHtcbiAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLmRlZHVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzaGVldERhdGEuZGVkdWN0VG90YWwgPSAwXG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5kZWR1Y3QuZnJvbSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLmRlZHVjdFRvdGFsID0gc2hlZXREYXRhLmRlZHVjdFRvdGFsIC0gcGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNba2V5XSwgMTApXG4gICAgICAgICAgfVxuICAgICAgICAgIHNoZWV0RGF0YS5kZWR1Y3RGcm9tID0gdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5kZWR1Y3QuZnJvbS5tYXAobiA9PiBuLnRvTG9jYWxlVXBwZXJDYXNlKCkpLmpvaW4oJywgJykucmVwbGFjZSgvLCAoW2Etel0rKSQvaSwgJywgb3IgJDEnKVxuICAgICAgICAgIGlmIChzaGVldERhdGEuZGVkdWN0VG90YWwgIT09IHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMuZGVkdWN0LnRvdGFsKSB7XG4gICAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5yZWR1Y2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2hlZXREYXRhLnJlZHVjZUZyb20gPSB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLnJlZHVjZS5mcm9tLnRvTG9jYWxlVXBwZXJDYXNlKClcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMubHVjayAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzaGVldERhdGEubHVja1ZhbHVlID0gTWF0aC5tYXgodGhpcy5vYmplY3Quc2V0dXBQb2ludHMubHVjaywgdGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnMubHVjaylcbiAgICAgICAgICBpZiAodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnMubHVjayA9PT0gMCkge1xuICAgICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX1ZJRVdfQVRUUklCVVRFUzpcbiAgICAgICAgc2hlZXREYXRhLnBvaW50cyA9IHt9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzKSB7XG4gICAgICAgICAgc2hlZXREYXRhLnBvaW50c1trZXldID0ge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0sIDEwKSArIHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzW2tleV0sIDEwKSxcbiAgICAgICAgICAgIHByZWZpeDogJycsXG4gICAgICAgICAgICBzdWZmaXg6ICclJyxcbiAgICAgICAgICAgIGxhYmVsOiBDb0M3VXRpbGl0aWVzLmdldENoYXJhY3RlcmlzdGljTmFtZXMoa2V5KS5sYWJlbFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEucG9pbnRzLmRiID0ge1xuICAgICAgICAgIHZhbHVlOiBDb0NBY3Rvci5kYkZyb21DaGFyYWN0ZXJpc3RpY3Moc2hlZXREYXRhLnBvaW50cyksXG4gICAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgICBzdWZmaXg6ICcnLFxuICAgICAgICAgIGxhYmVsOiAnQ29DNy5Cb251c0RhbWFnZSdcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4oc2hlZXREYXRhLnBvaW50cy5kYi52YWx1ZSkgfHwgTnVtYmVyKHNoZWV0RGF0YS5wb2ludHMuZGIudmFsdWUpID49IDApIHtcbiAgICAgICAgICBzaGVldERhdGEucG9pbnRzLmRiLnByZWZpeCA9ICcrJ1xuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMuYnVpbGQgPSB7XG4gICAgICAgICAgdmFsdWU6IENvQ0FjdG9yLmJ1aWxkRnJvbUNoYXJhY3RlcmlzdGljcyhzaGVldERhdGEucG9pbnRzKSxcbiAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgIHN1ZmZpeDogJycsXG4gICAgICAgICAgbGFiZWw6ICdDb0M3LkJ1aWxkJ1xuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIoc2hlZXREYXRhLnBvaW50cy5idWlsZC52YWx1ZSkgPj0gMCkge1xuICAgICAgICAgIHNoZWV0RGF0YS5wb2ludHMuYnVpbGQucHJlZml4ID0gJysnXG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLnBvaW50cy5ocCA9IHtcbiAgICAgICAgICB2YWx1ZTogQ29DQWN0b3IuaHBGcm9tQ2hhcmFjdGVyaXN0aWNzKHNoZWV0RGF0YS5wb2ludHMsICdjaGFyYWN0ZXInKSxcbiAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgIHN1ZmZpeDogJycsXG4gICAgICAgICAgbGFiZWw6ICdDb0M3LkhpdFBvaW50cydcbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEucG9pbnRzLmhwLnByZWZpeCA9IHNoZWV0RGF0YS5wb2ludHMuaHAudmFsdWUgKyAnLydcbiAgICAgICAgc2hlZXREYXRhLnBvaW50cy5tcCA9IHtcbiAgICAgICAgICB2YWx1ZTogQ29DQWN0b3IubXBGcm9tQ2hhcmFjdGVyaXN0aWNzKHNoZWV0RGF0YS5wb2ludHMpLFxuICAgICAgICAgIHByZWZpeDogJycsXG4gICAgICAgICAgc3VmZml4OiAnJyxcbiAgICAgICAgICBsYWJlbDogJ0NvQzcuTWFnaWNQb2ludHMnXG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLnBvaW50cy5tcC5wcmVmaXggPSBzaGVldERhdGEucG9pbnRzLm1wLnZhbHVlICsgJy8nXG4gICAgICAgIHNoZWV0RGF0YS5wb2ludHMuc2FuID0ge1xuICAgICAgICAgIHZhbHVlOiBzaGVldERhdGEucG9pbnRzLnBvdy52YWx1ZSxcbiAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgIHN1ZmZpeDogJy85OScsXG4gICAgICAgICAgbGFiZWw6ICdDb0M3LlNhbml0eSdcbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEucG9pbnRzLm1vdiA9IHtcbiAgICAgICAgICB2YWx1ZTogQ29DQWN0b3IubW92RnJvbUNoYXJhY3RlcmlzdGljcyhzaGVldERhdGEucG9pbnRzLCAnY2hhcmFjdGVyJywgdGhpcy5vYmplY3QuYWdlKSxcbiAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgIHN1ZmZpeDogJycsXG4gICAgICAgICAgbGFiZWw6ICdDb0M3Lk1vdmVtZW50J1xuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX09DQ1VQQVRJT05TOlxuICAgICAgICBzaGVldERhdGEub2NjdXBhdGlvbnMgPSBhd2FpdCB0aGlzLmZpbHRlckNhY2hlSXRlbUJ5Q29DSUQoL15pXFwub2NjdXBhdGlvblxcLi8pXG4gICAgICAgIHNoZWV0RGF0YS5vY2N1cGF0aW9ucy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3Qub2NjdXBhdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICBvY2N1cGF0aW9uID0gc2hlZXREYXRhLm9jY3VwYXRpb25zLmZpbmQocyA9PiBzLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkID09PSBzaGVldERhdGEub2JqZWN0Lm9jY3VwYXRpb24pXG4gICAgICAgICAgaWYgKHR5cGVvZiBvY2N1cGF0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc2hlZXREYXRhLmRlc2NyaXB0aW9uID0gQ29DN1BhcnNlci5lbnJpY2hIVE1MKG9jY3VwYXRpb24uc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlKVxuICAgICAgICAgICAgc2hlZXREYXRhLm9jY3VwYXRpb25Qb2ludHNTdHJpbmcgPSBDb0M3T2NjdXBhdGlvblNoZWV0Lm9jY3VwYXRpb25Qb2ludHNTdHJpbmcob2NjdXBhdGlvbi5zeXN0ZW0ub2NjdXBhdGlvblNraWxsUG9pbnRzKVxuICAgICAgICAgICAgc2hlZXREYXRhLmNyZWRpdFJhdGluZyA9IG9jY3VwYXRpb24uc3lzdGVtLmNyZWRpdFJhdGluZ1xuICAgICAgICAgICAgc2hlZXREYXRhLnBlcnNvbmFsID0gb2NjdXBhdGlvbi5zeXN0ZW0ucGVyc29uYWxcbiAgICAgICAgICAgIHNoZWV0RGF0YS5za2lsbHMgPSBhd2FpdCB0aGlzLmV4cGFuZEl0ZW1BcnJheShvY2N1cGF0aW9uLnN5c3RlbS5za2lsbHMpXG4gICAgICAgICAgICBzaGVldERhdGEuZ3JvdXBzID0ge31cbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBvY2N1cGF0aW9uLnN5c3RlbS5ncm91cHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5ncm91cHNbaW5kZXhdID0ge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9jY3VwYXRpb24uc3lzdGVtLmdyb3Vwc1tpbmRleF0ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBza2lsbHM6IFtdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2hlZXREYXRhLmdyb3Vwc1tpbmRleF0uc2tpbGxzID0gYXdhaXQgdGhpcy5leHBhbmRJdGVtQXJyYXkob2NjdXBhdGlvbi5zeXN0ZW0uZ3JvdXBzW2luZGV4XS5za2lsbHMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGVldERhdGEucG9pbnRzID0gMFxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGNhcmFjXSBvZiBPYmplY3QuZW50cmllcyhvY2N1cGF0aW9uLnN5c3RlbS5vY2N1cGF0aW9uU2tpbGxQb2ludHMpKSB7XG4gICAgICAgICAgICAgIGlmIChjYXJhYy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChjYXJhYy5vcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKGNhcmFjLm11bHRpcGxpZXIgKiAocGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNba2V5XSwgMTApKSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLnBvaW50cyArPSBjYXJhYy5tdWx0aXBsaWVyICogKHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0sIDEwKSArIHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzW2tleV0sIDEwKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2hlZXREYXRhLnBvaW50cyArPSBNYXRoLm1heCguLi5vcHRpb25zKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2Ugc2hlZXREYXRhLnBhZ2VzLlBBR0VfSU5WRVNUSUdBVE9SOlxuICAgICAgICBzaGVldERhdGEubGFuZ3VhZ2UgPSAodHlwZW9mIHRoaXMub2JqZWN0LnNraWxsSXRlbXNbdGhpcy5jb2NpZExhbmd1YWdlT3duXSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIGlmIChzaGVldERhdGEubGFuZ3VhZ2UpIHtcbiAgICAgICAgICBzaGVldERhdGEubGFuZ3VhZ2VOYW1lID0gdGhpcy5vYmplY3Quc2tpbGxJdGVtc1t0aGlzLmNvY2lkTGFuZ3VhZ2VPd25dLml0ZW0ubmFtZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNoZWV0RGF0YS5sYW5ndWFnZU5hbWUgPSAnJ1xuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX09DQ1VQQVRJT05fU0tJTExTOlxuICAgICAgICBzaGVldERhdGEuZGVmYXVsdCA9IDBcbiAgICAgICAgc2hlZXREYXRhLnNlbGVjdGVkID0gMFxuICAgICAgICBzaGVldERhdGEuc2tpbGxJdGVtcyA9IFtdXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub2JqZWN0LnNraWxsSXRlbXMpIHtcbiAgICAgICAgICBsZXQgZ3JvdXAgPSAnb3RoZXInXG4gICAgICAgICAgY29uc3Qgcm93cyA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3MubGVuZ3RoXG4gICAgICAgICAgY29uc3QgaXNNdWx0aXBsZSA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLmZsYWdzLmlzTXVsdGlwbGVcbiAgICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgaW5kZXg6IC0xLFxuICAgICAgICAgICAgICBuYW1lOiBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLm5hbWUsXG4gICAgICAgICAgICAgIGdyb3VwLFxuICAgICAgICAgICAgICB0b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICBpc0NyZWRpdFJhdGluZzogZmFsc2UsXG4gICAgICAgICAgICAgIGlzTXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgIGlzUGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcm93czsgaW5kZXgrKykge1xuICAgICAgICAgICAgbGV0IGlzUGlja2FibGUgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLmlzT2NjdXBhdGlvbkRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgZ3JvdXAgPSAnZGVmYXVsdCdcbiAgICAgICAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICBpc1BpY2thYmxlID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNoZWV0RGF0YS5kZWZhdWx0KytcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uaW5PY2N1cGF0aW9uR3JvdXAgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIGdyb3VwID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uaW5PY2N1cGF0aW9uR3JvdXBcbiAgICAgICAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICBpc1BpY2thYmxlID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBncm91cCA9ICdvdGhlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0b2dnbGUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5vY2N1cGF0aW9uVG9nZ2xlXG4gICAgICAgICAgICBpZiAoaXNQaWNrYWJsZSkge1xuICAgICAgICAgICAgICB0b2dnbGUgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNwZWNpYWxpemF0aW9uID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLnN5c3RlbS5za2lsbE5hbWVcbiAgICAgICAgICAgIGxldCBwaWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgbGV0IGRlbGV0ZWFibGUgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgcGlja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICBza2lsbE5hbWUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZFxuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcGlja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICBzcGVjaWFsaXphdGlvbiA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLnNlbGVjdGVkLnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgICBza2lsbE5hbWUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5zZWxlY3RlZC5zeXN0ZW0uc2tpbGxOYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9nZ2xlIHx8IChpc1BpY2thYmxlICYmIHBpY2tlZCkpIHtcbiAgICAgICAgICAgICAgc2hlZXREYXRhLnNlbGVjdGVkKytcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuYW1lID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5uYW1lXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLmNvY2lkTGFuZ3VhZ2VPd24pIHtcbiAgICAgICAgICAgICAgbmFtZSA9IHNwZWNpYWxpemF0aW9uICsgJyAoJyArIHNraWxsTmFtZSArICcpJ1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNQaWNrYWJsZSAmJiBwaWNrZWQpIHtcbiAgICAgICAgICAgICAgbmFtZSA9IHNwZWNpYWxpemF0aW9uICsgJyAoJyArIHNraWxsTmFtZSArICcpJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BpY2thYmxlICYmIHBpY2tlZCkge1xuICAgICAgICAgICAgICBkZWxldGVhYmxlID0gIXNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLmFyY2hldHlwZVRvZ2dsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGdyb3VwOiBncm91cC50b1N0cmluZygpLFxuICAgICAgICAgICAgICB0b2dnbGUsXG4gICAgICAgICAgICAgIGlzQ3JlZGl0UmF0aW5nOiBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5pc0NyZWRpdFJhdGluZyxcbiAgICAgICAgICAgICAgaXNNdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICAgIGlzUGlja2FibGUsXG4gICAgICAgICAgICAgIHBpY2tlZCxcbiAgICAgICAgICAgICAgZGVsZXRlYWJsZSxcbiAgICAgICAgICAgICAgc3BlY2lhbGl6YXRpb24sXG4gICAgICAgICAgICAgIHNraWxsTmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLm1heCA9IHBhcnNlSW50KHNoZWV0RGF0YS5kZWZhdWx0LCAxMCkgKyBwYXJzZUludChzaGVldERhdGEub2JqZWN0LnBlcnNvbmFsLCAxMCkgKyBPYmplY3QudmFsdWVzKHNoZWV0RGF0YS5vYmplY3Qub2NjdXBhdGlvbkdyb3VwcykucmVkdWNlKChzLCB2KSA9PiBzICsgcGFyc2VJbnQodiwgMTApLCAwKVxuICAgICAgICBzaGVldERhdGEuc2tpbGxJdGVtcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgICAgaWYgKHNoZWV0RGF0YS5zZWxlY3RlZCA9PT0gc2hlZXREYXRhLm1heCkge1xuICAgICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2Ugc2hlZXREYXRhLnBhZ2VzLlBBR0VfQVJDSEVUWVBFX1NLSUxMUzpcbiAgICAgICAgc2hlZXREYXRhLm1heCA9IDBcbiAgICAgICAgc2hlZXREYXRhLnNlbGVjdGVkID0gMFxuICAgICAgICBzaGVldERhdGEuc2tpbGxJdGVtcyA9IFtdXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub2JqZWN0LnNraWxsSXRlbXMpIHtcbiAgICAgICAgICBsZXQgZ3JvdXAgPSAnb3RoZXInXG4gICAgICAgICAgY29uc3Qgcm93cyA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3MubGVuZ3RoXG4gICAgICAgICAgY29uc3QgaXNNdWx0aXBsZSA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLmZsYWdzLmlzTXVsdGlwbGVcbiAgICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgaW5kZXg6IC0xLFxuICAgICAgICAgICAgICBuYW1lOiBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLm5hbWUsXG4gICAgICAgICAgICAgIGdyb3VwLFxuICAgICAgICAgICAgICB0b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICBpc0NyZWRpdFJhdGluZzogZmFsc2UsXG4gICAgICAgICAgICAgIGlzTXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgIGlzUGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcm93czsgaW5kZXgrKykge1xuICAgICAgICAgICAgbGV0IGlzUGlja2FibGUgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLmlzQXJjaGV0eXBlRGVmYXVsdCkge1xuICAgICAgICAgICAgICBncm91cCA9ICdkZWZhdWx0J1xuICAgICAgICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIGlzUGlja2FibGUgPSB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2hlZXREYXRhLm1heCsrXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBncm91cCA9ICdvdGhlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0b2dnbGUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XS5hcmNoZXR5cGVUb2dnbGVcbiAgICAgICAgICAgIGlmIChpc1BpY2thYmxlKSB7XG4gICAgICAgICAgICAgIHRvZ2dsZSA9IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3BlY2lhbGl6YXRpb24gPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvblxuICAgICAgICAgICAgbGV0IHNraWxsTmFtZSA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLml0ZW0uc3lzdGVtLnNraWxsTmFtZVxuICAgICAgICAgICAgbGV0IHBpY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICBsZXQgZGVsZXRlYWJsZSA9IGZhbHNlXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLnNlbGVjdGVkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBwaWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgIHNraWxsTmFtZSA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLnNlbGVjdGVkXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLnNlbGVjdGVkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBwaWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uID0gc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQuc3lzdGVtLnNwZWNpYWxpemF0aW9uXG4gICAgICAgICAgICAgIHNraWxsTmFtZSA9IHNoZWV0RGF0YS5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdLnNlbGVjdGVkLnN5c3RlbS5za2lsbE5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2dnbGUgfHwgKGlzUGlja2FibGUgJiYgcGlja2VkKSkge1xuICAgICAgICAgICAgICBzaGVldERhdGEuc2VsZWN0ZWQrK1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5hbWUgPSBzaGVldERhdGEub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLm5hbWVcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHRoaXMuY29jaWRMYW5ndWFnZU93bikge1xuICAgICAgICAgICAgICBuYW1lID0gc3BlY2lhbGl6YXRpb24gKyAnICgnICsgc2tpbGxOYW1lICsgJyknXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc1BpY2thYmxlICYmIHBpY2tlZCkge1xuICAgICAgICAgICAgICBuYW1lID0gc3BlY2lhbGl6YXRpb24gKyAnICgnICsgc2tpbGxOYW1lICsgJyknXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzUGlja2FibGUgJiYgcGlja2VkKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZWFibGUgPSAhc2hlZXREYXRhLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0ub2NjdXBhdGlvblRvZ2dsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGdyb3VwOiBncm91cC50b1N0cmluZygpLFxuICAgICAgICAgICAgICB0b2dnbGUsXG4gICAgICAgICAgICAgIGlzQ3JlZGl0UmF0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgaXNNdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICAgIGlzUGlja2FibGUsXG4gICAgICAgICAgICAgIHBpY2tlZCxcbiAgICAgICAgICAgICAgZGVsZXRlYWJsZSxcbiAgICAgICAgICAgICAgc3BlY2lhbGl6YXRpb24sXG4gICAgICAgICAgICAgIHNraWxsTmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLnNraWxsSXRlbXMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG4gICAgICAgIGlmIChzaGVldERhdGEuc2VsZWN0ZWQgPT09IHNoZWV0RGF0YS5tYXgpIHtcbiAgICAgICAgICBzaGVldERhdGEuY2FuTmV4dCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIHNoZWV0RGF0YS5wYWdlcy5QQUdFX1BPSU5UU19TS0lMTFM6XG4gICAgICAgIHNoZWV0RGF0YS5za2lsbHMgPSBbXVxuICAgICAgICBzaGVldERhdGEuY3JlZGl0UmF0aW5nT2theSA9ICEodGhpcy5vYmplY3QuY3JlZGl0UmF0aW5nLm1heCA+IDApXG4gICAgICAgIHNoZWV0RGF0YS5wZXJzb25hbCA9IHtcbiAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICB0b3RhbDogMiAqIChwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50cy5pbnQsIDEwKSArIHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzLmludCwgMTApKSxcbiAgICAgICAgICByZW1haW5pbmc6IDBcbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEub2NjdXBhdGlvbiA9IHtcbiAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICByZW1haW5pbmc6IDBcbiAgICAgICAgfVxuICAgICAgICBzaGVldERhdGEuYXJjaGV0eXBlID0ge1xuICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgIHJlbWFpbmluZzogMFxuICAgICAgICB9XG4gICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0LnNldHVwICE9PSAnJykge1xuICAgICAgICAgIHNob3dNb25ldGFyeSA9IChhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQoc2hlZXREYXRhLm9iamVjdC5zZXR1cCkpLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMubGVuZ3RoID4gMFxuICAgICAgICB9XG4gICAgICAgIGlmIChzaGVldERhdGEub2JqZWN0Lm9jY3VwYXRpb24gIT09ICcnKSB7XG4gICAgICAgICAgb2NjdXBhdGlvbiA9IGF3YWl0IHRoaXMuZ2V0Q2FjaGVJdGVtQnlDb0NJRCh0aGlzLm9iamVjdC5vY2N1cGF0aW9uKVxuICAgICAgICAgIGlmIChvY2N1cGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gW11cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgY2FyYWNdIG9mIE9iamVjdC5lbnRyaWVzKG9jY3VwYXRpb24uc3lzdGVtLm9jY3VwYXRpb25Ta2lsbFBvaW50cykpIHtcbiAgICAgICAgICAgICAgaWYgKGNhcmFjLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmFjLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goY2FyYWMubXVsdGlwbGllciAqIChwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzaGVldERhdGEub2NjdXBhdGlvbi50b3RhbCArPSBjYXJhYy5tdWx0aXBsaWVyICogKHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0sIDEwKSArIHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzW2tleV0sIDEwKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2hlZXREYXRhLm9jY3VwYXRpb24udG90YWwgKz0gTWF0aC5tYXgoLi4ub3B0aW9ucylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub2JqZWN0LmFyY2hldHlwZSAhPT0gJycpIHtcbiAgICAgICAgICBjb25zdCBhcmNoZXR5cGUgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZnJvbUNvQ0lEKHRoaXMub2JqZWN0LmFyY2hldHlwZSlcbiAgICAgICAgICBpZiAoYXJjaGV0eXBlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLmFyY2hldHlwZS50b3RhbCA9IGFyY2hldHlwZVswXS5zeXN0ZW0uYm9udXNQb2ludHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMub2JqZWN0LnNraWxsSXRlbXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBza2lsbCA9IHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XVxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwLCBpbSA9IHNraWxsLnJvd3MubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHNraWxsLnJvd3NbaW5kZXhdXG4gICAgICAgICAgICAgIGlmICghc2tpbGwuZmxhZ3MuaXNNdWx0aXBsZSB8fCByb3cuc2VsZWN0ZWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBkdXBsaWNhdGUoc2tpbGwuaXRlbSlcbiAgICAgICAgICAgICAgICBpZiAocm93LnNlbGVjdGVkICE9PSBmYWxzZSAmJiB0eXBlb2Ygcm93LnNlbGVjdGVkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgaXRlbSA9IGR1cGxpY2F0ZShyb3cuc2VsZWN0ZWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBiYXNlID0gaXRlbS5zeXN0ZW0uYmFzZVxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTnVtZXJpYyhiYXNlKSkge1xuICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vYmplY3Quc2V0dXBQb2ludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnRXggPSBuZXcgUmVnRXhwKCdAJyArIGtleSwgJ2knKVxuICAgICAgICAgICAgICAgICAgICBiYXNlID0gYmFzZS5yZXBsYWNlKHJlZ0V4LCBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMCkgKyBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTnVtZXJpYyhiYXNlKSkge1xuICAgICAgICAgICAgICAgICAgYmFzZSA9IE1hdGguZmxvb3IobmV3IFJvbGwoYmFzZSkuZXZhbHVhdGUoeyBhc3luYzogZmFsc2UgfSkudG90YWwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB0b3RhbFBvaW50cyA9IHBhcnNlSW50KGJhc2UsIDEwKVxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIocm93LnBlcnNvbmFsUG9pbnRzKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IE51bWJlcihyb3cucGVyc29uYWxQb2ludHMpXG4gICAgICAgICAgICAgICAgICBzaGVldERhdGEucGVyc29uYWwuY291bnQgKz0gbnVtXG4gICAgICAgICAgICAgICAgICB0b3RhbFBvaW50cyA9IHRvdGFsUG9pbnRzICsgbnVtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIocm93Lm9jY3VwYXRpb25Qb2ludHMpID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKHJvdy5vY2N1cGF0aW9uUG9pbnRzKVxuICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLm9jY3VwYXRpb24uY291bnQgKz0gbnVtXG4gICAgICAgICAgICAgICAgICB0b3RhbFBvaW50cyA9IHRvdGFsUG9pbnRzICsgbnVtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIocm93LmFyY2hldHlwZVBvaW50cykgPiAwKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIocm93LmFyY2hldHlwZVBvaW50cylcbiAgICAgICAgICAgICAgICAgIHNoZWV0RGF0YS5hcmNoZXR5cGUuY291bnQgKz0gbnVtXG4gICAgICAgICAgICAgICAgICB0b3RhbFBvaW50cyA9IHRvdGFsUG9pbnRzICsgbnVtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIocm93LmV4cGVyaWVuY2VQb2ludHMpID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKHJvdy5leHBlcmllbmNlUG9pbnRzKVxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludHMgPSB0b3RhbFBvaW50cyArIG51bVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGl0ZW0ubmFtZVxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHRoaXMuY29jaWRMYW5ndWFnZU93bikge1xuICAgICAgICAgICAgICAgICAgbmFtZSA9IGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uICsgJyAoJyArIGl0ZW0uc3lzdGVtLnNraWxsTmFtZSArICcpJ1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2tpbGwuZmxhZ3MuaXNDcmVkaXRSYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lICsgJyBbJyArIHRoaXMub2JqZWN0LmNyZWRpdFJhdGluZy5taW4gKyAnIC0gJyArIHRoaXMub2JqZWN0LmNyZWRpdFJhdGluZy5tYXggKyAnXSdcbiAgICAgICAgICAgICAgICAgIGlmICh0b3RhbFBvaW50cyA+PSB0aGlzLm9iamVjdC5jcmVkaXRSYXRpbmcubWluICYmIHRvdGFsUG9pbnRzIDw9IHRoaXMub2JqZWN0LmNyZWRpdFJhdGluZy5tYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hlZXREYXRhLmNyZWRpdFJhdGluZ09rYXkgPSB0cnVlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygcm93LnNlbGVjdGVkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgbmFtZSA9IGl0ZW0uc3lzdGVtLnNwZWNpYWxpemF0aW9uICsgJyAoJyArIHJvdy5zZWxlY3RlZCArICcpJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaGVldERhdGEuc2tpbGxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgaXNPY2N1cGF0aW9uOiByb3cub2NjdXBhdGlvblRvZ2dsZSxcbiAgICAgICAgICAgICAgICAgIGlzQXJjaGV0eXBlOiByb3cuYXJjaGV0eXBlVG9nZ2xlLFxuICAgICAgICAgICAgICAgICAgYmFzZSxcbiAgICAgICAgICAgICAgICAgIHBlcnNvbmFsUG9pbnRzOiByb3cucGVyc29uYWxQb2ludHMsXG4gICAgICAgICAgICAgICAgICBvY2N1cGF0aW9uUG9pbnRzOiByb3cub2NjdXBhdGlvblBvaW50cyxcbiAgICAgICAgICAgICAgICAgIGFyY2hldHlwZVBvaW50czogcm93LmFyY2hldHlwZVBvaW50cyxcbiAgICAgICAgICAgICAgICAgIGV4cGVyaWVuY2VQb2ludHM6IHJvdy5leHBlcmllbmNlUG9pbnRzLFxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludHMsXG4gICAgICAgICAgICAgICAgICBzaG93Q3JlZGl0UmF0aW5nOiBzaG93TW9uZXRhcnkgJiYga2V5ID09PSB0aGlzLmNvY2lkQ3JlZGl0UmF0aW5nXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzaGVldERhdGEuc2tpbGxzLnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgICAgICAgIGlmIChzaGVldERhdGEuY3JlZGl0UmF0aW5nT2theSkge1xuICAgICAgICAgICAgc2hlZXREYXRhLmNhbk5leHQgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2hlZXREYXRhLnBlcnNvbmFsLnJlbWFpbmluZyA9IHNoZWV0RGF0YS5wZXJzb25hbC50b3RhbCAtIHNoZWV0RGF0YS5wZXJzb25hbC5jb3VudFxuICAgICAgICBzaGVldERhdGEub2NjdXBhdGlvbi5yZW1haW5pbmcgPSBzaGVldERhdGEub2NjdXBhdGlvbi50b3RhbCAtIHNoZWV0RGF0YS5vY2N1cGF0aW9uLmNvdW50XG4gICAgICAgIHNoZWV0RGF0YS5hcmNoZXR5cGUucmVtYWluaW5nID0gc2hlZXREYXRhLmFyY2hldHlwZS50b3RhbCAtIHNoZWV0RGF0YS5hcmNoZXR5cGUuY291bnRcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9CQUNLU1RPUlk6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBhbGxCYWNrc3RvcmllcyA9IGF3YWl0IHRoaXMub2JqZWN0LmNhY2hlQmFja3N0b3JpZXNcbiAgICAgICAgICBzaGVldERhdGEuYmFja3N0b3JpZXMgPSB7fVxuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm9iamVjdC5iaW9TZWN0aW9ucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHNoZWV0RGF0YS5iYWNrc3Rvcmllc1tpbmRleF0gPSB7XG4gICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICBuYW1lOiB0aGlzLm9iamVjdC5iaW9TZWN0aW9uc1tpbmRleF0ubmFtZSxcbiAgICAgICAgICAgICAgcm9sbHM6IChnYW1lLnN5c3RlbS5hcGkuY29jaWQuZmluZENvY0lkSW5MaXN0KHRoaXMub2JqZWN0LmJpb1NlY3Rpb25zW2luZGV4XS5rZXksIGFsbEJhY2tzdG9yaWVzKS5sZW5ndGggPyB0aGlzLm9iamVjdC5iaW9TZWN0aW9uc1tpbmRleF0ua2V5IDogJycpLFxuICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdLnZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICBzaGVldERhdGEuY3JlYXRlQnV0dG9uID0gZ2FtZS51c2VyLnJvbGUgPj0gQ09OU1QuVVNFUl9QRVJNSVNTSU9OUy5BQ1RPUl9DUkVBVEUuZGVmYXVsdFJvbGVcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBzaGVldERhdGEucGFnZXMuUEFHRV9DUkVBVEU6XG4gICAgICAgIHNoZWV0RGF0YS5jYW5OZXh0ID0gdHJ1ZVxuICAgICAgICBzaGVldERhdGEuY3JlYXRlQnV0dG9uID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICBodG1sLmtleXByZXNzKGUgPT4gL3RleHRhcmVhL2kudGVzdCgoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KS50YWdOYW1lKSB8fCAoZS5rZXlDb2RlIHx8IGUud2hpY2ggfHwgZS5jaGFyQ29kZSB8fCAwKSAhPT0gMTMpXG4gICAgaHRtbC5maW5kKCcuc3VibWl0X29uX2NoYW5nZScpLmNoYW5nZSh0aGlzLl9vbkNoYW5nZVN1Ym1pdC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLnJvbGwtY2hhcmFjdGVyaXN0aWMnKS5jbGljayh0aGlzLl9vblJvbGxDaGFyYWN0ZXJpc3RpYy5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLmluY3JlYXNlLTEwLWNoYXJhY3RlcmlzdGljJykuY2xpY2sodGhpcy5fb25JbmNyZWFzZUNoYXJhY3RlcmlzdGljMTAuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5pbmNyZWFzZS1jaGFyYWN0ZXJpc3RpYycpLmNsaWNrKHRoaXMuX29uSW5jcmVhc2VDaGFyYWN0ZXJpc3RpYy5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLmRlY3JlYXNlLWNoYXJhY3RlcmlzdGljJykuY2xpY2sodGhpcy5fb25EZWNyZWFzZUNoYXJhY3RlcmlzdGljLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuZGVjcmVhc2UtMTAtY2hhcmFjdGVyaXN0aWMnKS5jbGljayh0aGlzLl9vbkRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnYnV0dG9uLnJvbGxfYWxsJykuY2xpY2sodGhpcy5fb25Sb2xsQWxsLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCdidXR0b24ucm9sbF9lZHUnKS5jbGljayh0aGlzLl9vblJvbGxFZHUuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJ2J1dHRvbi5yb2xsX2x1Y2snKS5jbGljayh0aGlzLl9vblJvbGxMdWNrLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuaXRlbSBpbnB1dC5zdWJtaXRfb25fYmx1cicpLmJsdXIodGhpcy5fb25DaGFuZ2VTdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5pdGVtIGlucHV0LnNhdmUtY2hhcmFjdGVyaXN0aWMtb24tYmx1cicpLmJsdXIodGhpcy5fb25DaGFuZ2VTYXZlQ2hhcmFjdGVyaXN0aWMuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5pdGVtLnRvZ2dsZWFibGUnKS5jbGljayh0aGlzLl9vblRvZ2dsZVNraWxsLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuaXRlbS5jbGlja2FibGUnKS5jbGljayh0aGlzLl9vbkNsaWNrUGlja1NraWxsLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuc2tpbGxzLWxpc3QgaW5wdXQnKS5jbGljayh0aGlzLl9vbkNsaWNrU2tpbGxTcGVjaWFsLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcuc2tpbGxzLWxpc3QgLnJlbW92ZS1za2lsbCcpLmNsaWNrKHRoaXMuX29uQ2xpY2tSZW1vdmVTa2lsbC5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLml0ZW0gaW5wdXQuc2tpbGwtYWRqdXN0bWVudCcpLmJsdXIodGhpcy5fb25DaGFuZ2VTa2lsbFBvaW50cy5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgndGV4dGFyZWEuYmFja3N0b3J5LXRleHQnKS5rZXl1cCh0aGlzLl9vbkNoYW5nZUJhY2tzdG9yeVRleHQuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJ2J1dHRvbi5iYWNrc3Rvcnktcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbEJhY2tzdG9yeS5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnYnV0dG9uLmJhY2tzdG9yeS1yZXNldCcpLmNsaWNrKHRoaXMuX29uUmVzZXRCYWNrc3RvcnkuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGFzeW5jIHJvbGxNZXNzYWdlIChyb2xscykge1xuICAgIGlmIChyb2xscy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBbXVxuICAgICAgZm9yIChjb25zdCByb2xsIG9mIHJvbGxzKSB7XG4gICAgICAgIGh0bWwucHVzaChhd2FpdCByZW5kZXJUZW1wbGF0ZShSb2xsLkNIQVRfVEVNUExBVEUsIHtcbiAgICAgICAgICBmb3JtdWxhOiAoQ29DN1V0aWxpdGllcy5nZXRDaGFyYWN0ZXJpc3RpY05hbWVzKHJvbGxbMF0pPy5sYWJlbCA/PyByb2xsWzBdKSArICc6ICcgKyByb2xsWzFdLFxuICAgICAgICAgIHRvb2x0aXA6IGF3YWl0IHJvbGxbMl0uZ2V0VG9vbHRpcCgpLFxuICAgICAgICAgIHRvdGFsOiByb2xsWzJdLnRvdGFsXG4gICAgICAgIH0pKVxuICAgICAgfVxuICAgICAgQ2hhdE1lc3NhZ2UuY3JlYXRlKHtcbiAgICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgICBzcGVha2VyOiB7XG4gICAgICAgICAgYWxpYXM6IGdhbWUudXNlci5uYW1lXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IGh0bWwuam9pbignPGRpdj4mbmJzcDs8L2Rpdj4nKSxcbiAgICAgICAgd2hpc3BlcjogQ2hhdE1lc3NhZ2UuZ2V0V2hpc3BlclJlY2lwaWVudHMoJ0dNJylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYWRkSXRlbVRvTGlzdCAoaXRlbSwgeyBpc09jY3VwYXRpb25EZWZhdWx0ID0gZmFsc2UsIGluT2NjdXBhdGlvbkdyb3VwID0gZmFsc2UsIG9jY3VwYXRpb25Ub2dnbGUgPSBmYWxzZSwgaXNBcmNoZXR5cGVEZWZhdWx0ID0gZmFsc2UsIGFyY2hldHlwZVRvZ2dsZSA9IGZhbHNlLCBpc0NyZWRpdFJhdGluZyA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGNvbnN0IGtleSA9IChpdGVtLmZsYWdzLkNvQzc/LmNvY2lkRmxhZz8uaWQgPz8gaXRlbS5uYW1lKVxuICAgIGlmIChpdGVtLnR5cGUgIT09ICdza2lsbCcpIHtcbiAgICAgIHRoaXMub2JqZWN0LmludmVzdGlnYXRvckl0ZW1zLnB1c2goaXRlbSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBpc011bHRpcGxlID0gISEoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5zcGVjaWFsICYmICgoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5yZXF1aXJlc25hbWUgJiYgIShpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLm9ubHlvbmUgPz8gZmFsc2UpKSB8fCBpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLnBpY2tuYW1lb25seSB8fCBpdGVtLm5hbWUgPT09IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQW55U3BlY05hbWUnKSkpXG4gICAgY29uc3QgZmxhZ3MgPSB7XG4gICAgICBpc09jY3VwYXRpb25EZWZhdWx0LFxuICAgICAgaW5PY2N1cGF0aW9uR3JvdXAsXG4gICAgICBpc0FyY2hldHlwZURlZmF1bHQsXG4gICAgICBpc0NyZWRpdFJhdGluZyxcbiAgICAgIG9jY3VwYXRpb25Ub2dnbGUsXG4gICAgICBhcmNoZXR5cGVUb2dnbGVcbiAgICB9XG4gICAgY29uc3Qgcm93cyA9IHtcbiAgICAgIG9jY3VwYXRpb25Qb2ludHM6ICcnLFxuICAgICAgYXJjaGV0eXBlUG9pbnRzOiAnJyxcbiAgICAgIGV4cGVyaWVuY2VQb2ludHM6ICcnLFxuICAgICAgcGVyc29uYWxQb2ludHM6ICcnLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldID0ge1xuICAgICAgICBpdGVtLFxuICAgICAgICBmbGFnczogbWVyZ2VPYmplY3QoZmxhZ3MsIHsgaXNNdWx0aXBsZSB9LCB7IGlucGxhY2U6IGZhbHNlIH0pLFxuICAgICAgICByb3dzOiBbXVxuICAgICAgfVxuICAgICAgaWYgKCFpc011bHRpcGxlIHx8ICEoaXNPY2N1cGF0aW9uRGVmYXVsdCA9PT0gZmFsc2UgJiYgaW5PY2N1cGF0aW9uR3JvdXAgPT09IGZhbHNlICYmIGlzQXJjaGV0eXBlRGVmYXVsdCA9PT0gZmFsc2UpKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzLnB1c2gobWVyZ2VPYmplY3QoZmxhZ3MsIHJvd3MsIHsgaW5wbGFjZTogZmFsc2UgfSkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaXNNdWx0aXBsZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGZsYWcgaW4gZmxhZ3MpIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1swXVtmbGFnXSA9IHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzWzBdW2ZsYWddIHx8IGZsYWdzW2ZsYWddXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzLnB1c2gobWVyZ2VPYmplY3QoZmxhZ3MsIHJvd3MsIHsgaW5wbGFjZTogZmFsc2UgfSkpXG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGZsYWcgaW4gZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLmZsYWdzW2ZsYWddID0gdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLmZsYWdzW2ZsYWddIHx8IGZsYWdzW2ZsYWddXG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNNdWx0aXBsZSAmJiBmbGFncy5pc0NyZWRpdFJhdGluZykge1xuICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbMF0ub2NjdXBhdGlvblBvaW50cyA9IHRoaXMub2JqZWN0LmNyZWRpdFJhdGluZy5taW5cbiAgICB9XG4gIH1cblxuICBjbGVhclNldHVwUG9pbnRzICgpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm9iamVjdC5zZXR1cFBvaW50cykge1xuICAgICAgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSA9ICcnXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2V0U2tpbGxMaXN0cyAoKSB7XG4gICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtcyA9IHt9XG4gICAgdGhpcy5vYmplY3Qub2NjdXBhdGlvbkdyb3VwcyA9IHt9XG4gICAgdGhpcy5vYmplY3QuaW52ZXN0aWdhdG9ySXRlbXMgPSBbXVxuICAgIHRoaXMub2JqZWN0LnBsYWNlYWJsZSA9IGR1cGxpY2F0ZSh0aGlzLm9iamVjdC5xdWlja0ZpcmVWYWx1ZXMpXG4gICAgY29uc3Qgc2V0dXAgPSBhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQodGhpcy5vYmplY3Quc2V0dXApXG4gICAgY29uc3Qgb2NjdXBhdGlvbiA9IGF3YWl0IHRoaXMuZ2V0Q2FjaGVJdGVtQnlDb0NJRCh0aGlzLm9iamVjdC5vY2N1cGF0aW9uKVxuICAgIGxldCBhcmNoZXR5cGUgPSBmYWxzZVxuICAgIGlmICh0aGlzLm9iamVjdC5hcmNoZXR5cGUgIT09ICcnKSB7XG4gICAgICBhcmNoZXR5cGUgPSBhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQodGhpcy5vYmplY3QuYXJjaGV0eXBlKVxuICAgIH1cbiAgICBpZiAoc2V0dXAgJiYgb2NjdXBhdGlvbiAmJiAoIWdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3B1bHBSdWxlQXJjaGV0eXBlJykgfHwgYXJjaGV0eXBlKSkge1xuICAgICAgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnMgPSBbXVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHNldHVwLnN5c3RlbS5iaW9TZWN0aW9ucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnMucHVzaCh7XG4gICAgICAgICAgbmFtZTogc2V0dXAuc3lzdGVtLmJpb1NlY3Rpb25zW2luZGV4XSxcbiAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAga2V5OiAncnQuLmJhY2tzdG9yeS0nICsgQ29DN1V0aWxpdGllcy50b0tlYmFiQ2FzZShzZXR1cC5zeXN0ZW0uYmlvU2VjdGlvbnNbaW5kZXhdKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgdGhpcy5vYmplY3QucGVyc29uYWwgPSBvY2N1cGF0aW9uLnN5c3RlbS5wZXJzb25hbFxuICAgICAgdGhpcy5vYmplY3QuY3JlZGl0UmF0aW5nID0gb2NjdXBhdGlvbi5zeXN0ZW0uY3JlZGl0UmF0aW5nXG4gICAgICBsZXQgaXRlbXMgPSBbXVxuICAgICAgaXRlbXMgPSBhd2FpdCB0aGlzLmV4cGFuZEl0ZW1BcnJheShzZXR1cC5zeXN0ZW0uaXRlbXMpXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gaXRlbXMubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdChpdGVtc1tpbmRleF0pXG4gICAgICB9XG4gICAgICBpdGVtcyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KG9jY3VwYXRpb24uc3lzdGVtLnNraWxscylcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgaW0gPSBpdGVtcy5sZW5ndGg7IGluZGV4IDwgaW07IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5hZGRJdGVtVG9MaXN0KGl0ZW1zW2luZGV4XSwgeyBpc09jY3VwYXRpb25EZWZhdWx0OiB0cnVlLCBvY2N1cGF0aW9uVG9nZ2xlOiB0cnVlIH0pXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBncm91cCA9IDAsIGdtID0gb2NjdXBhdGlvbi5zeXN0ZW0uZ3JvdXBzLmxlbmd0aDsgZ3JvdXAgPCBnbTsgZ3JvdXArKykge1xuICAgICAgICB0aGlzLm9iamVjdC5vY2N1cGF0aW9uR3JvdXBzW2dyb3VwXSA9IG9jY3VwYXRpb24uc3lzdGVtLmdyb3Vwc1tncm91cF0ub3B0aW9uc1xuICAgICAgICBpdGVtcyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KG9jY3VwYXRpb24uc3lzdGVtLmdyb3Vwc1tncm91cF0uc2tpbGxzKVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gaXRlbXMubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgICAgdGhpcy5hZGRJdGVtVG9MaXN0KGl0ZW1zW2luZGV4XSwgeyBpbk9jY3VwYXRpb25Hcm91cDogZ3JvdXAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFyY2hldHlwZSkge1xuICAgICAgICBpdGVtcyA9IGF3YWl0IHRoaXMuZXhwYW5kSXRlbUFycmF5KGFyY2hldHlwZS5zeXN0ZW0uc2tpbGxzKVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gaXRlbXMubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgICAgdGhpcy5hZGRJdGVtVG9MaXN0KGl0ZW1zW2luZGV4XSwgeyBpc0FyY2hldHlwZURlZmF1bHQ6IHRydWUsIGFyY2hldHlwZVRvZ2dsZTogdHJ1ZSB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoTnVtYmVyKHRoaXMub2JqZWN0LmNyZWRpdFJhdGluZy5tYXgpID4gMCkge1xuICAgICAgICBjb25zdCBuYW1lQ3JlZGl0UmF0aW5nID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Db0NJREZsYWcua2V5cy4nICsgdGhpcy5jb2NpZENyZWRpdFJhdGluZylcbiAgICAgICAgY29uc3QgZmxhZ3MgPSB7IGlzT2NjdXBhdGlvbkRlZmF1bHQ6IHRydWUsIG9jY3VwYXRpb25Ub2dnbGU6IHRydWUsIGlzQ3JlZGl0UmF0aW5nOiB0cnVlIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW3RoaXMuY29jaWRDcmVkaXRSYXRpbmddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdCh0aGlzLm9iamVjdC5za2lsbEl0ZW1zW3RoaXMuY29jaWRDcmVkaXRSYXRpbmddLml0ZW0sIGZsYWdzKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW25hbWVDcmVkaXRSYXRpbmddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdCh0aGlzLm9iamVjdC5za2lsbEl0ZW1zW25hbWVDcmVkaXRSYXRpbmddLml0ZW0sIGZsYWdzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHNraWxsID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRCh0aGlzLmNvY2lkQ3JlZGl0UmF0aW5nKVxuICAgICAgICAgIGlmIChza2lsbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdChza2lsbFswXSwgZmxhZ3MpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX29uRHJhZ1N0YXJ0IChldmVudCkge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNLZXkpIHtcbiAgICAgIGNvbnN0IGRyYWdEYXRhID0geyB0eXBlOiAnaW52ZXN0aWdhdG9yQ2hhcmFjdGVyaXN0aWMnLCBrZXk6IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jaGFyYWN0ZXJpc3RpY0tleSwgdmFsdWU6IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC52YWx1ZSB9XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRyYWdEYXRhKSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Ecm9wIChldmVudCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhTGlzdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSlcbiAgICAgIGlmICh0eXBlb2YgZGF0YUxpc3QudHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YUxpc3QudHlwZSA9PT0gJ2ludmVzdGlnYXRvckNoYXJhY3RlcmlzdGljJykge1xuICAgICAgICBkYXRhTGlzdC5kZXN0aW5hdGlvbiA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdsaScpLmRhdGFzZXQuY2hhcmFjdGVyaXN0aWNLZXlcbiAgICAgICAgZGF0YUxpc3Qub2theSA9IGZhbHNlXG4gICAgICAgIGlmIChkYXRhTGlzdC5rZXkgPT09ICctJyAmJiB0eXBlb2YgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vYmplY3QucGxhY2VhYmxlLmluZGV4T2YocGFyc2VJbnQoZGF0YUxpc3QudmFsdWUsIDEwKSlcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5wbGFjZWFibGUuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucGxhY2VhYmxlLnB1c2gocGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dLCAxMCkpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSA9IHBhcnNlSW50KGRhdGFMaXN0LnZhbHVlLCAxMClcbiAgICAgICAgICB0aGlzLm9iamVjdC5wbGFjZWFibGUuc29ydCgpLnJldmVyc2UoKVxuICAgICAgICAgIGRhdGFMaXN0Lm9rYXkgPSB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0gIT09ICd1bmRlZmluZWQnICYmIGRhdGFMaXN0LmRlc3RpbmF0aW9uID09PSAnLScpIHtcbiAgICAgICAgICBpZiAodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3Qua2V5XSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnBsYWNlYWJsZS5wdXNoKHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0sIDEwKSlcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0gPSAnJ1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucGxhY2VhYmxlLnNvcnQoKS5yZXZlcnNlKClcbiAgICAgICAgICAgIGRhdGFMaXN0Lm9rYXkgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1tkYXRhTGlzdC5rZXldICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3QuZGVzdGluYXRpb25dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHRlbXAgPSAodGhpcy5vYmplY3Quc2V0dXBQb2ludHNbZGF0YUxpc3Qua2V5XSA9PT0gJycgPyAnJyA6IHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmtleV0sIDEwKSlcbiAgICAgICAgICB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1tkYXRhTGlzdC5rZXldID0gKHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSA9PT0gJycgPyAnJyA6IHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSwgMTApKVxuICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2RhdGFMaXN0LmRlc3RpbmF0aW9uXSA9IHRlbXBcbiAgICAgICAgICBkYXRhTGlzdC5va2F5ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGlzdC5va2F5KSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgIH1cbiAgICBjb25zdCBkYXRhTGlzdCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ2V0RGF0YUZyb21Ecm9wRXZlbnQoZXZlbnQsICdJdGVtJylcbiAgICBpZiAoW3RoaXMucGFnZUxpc3QuUEFHRV9BUkNIRVRZUEVfU0tJTExTLCB0aGlzLnBhZ2VMaXN0LlBBR0VfT0NDVVBBVElPTl9TS0lMTFNdLmluY2x1ZGVzKHRoaXMub2JqZWN0LnN0ZXApKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YUxpc3QpIHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgIHRoaXMuYWRkSXRlbVRvTGlzdChpdGVtKVxuICAgICAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfb25DbGlja1NraWxsU3BlY2lhbCAoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICB9XG5cbiAgX29uQ2xpY2tSZW1vdmVTa2lsbCAoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGNvbnN0IGtleSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ/LnBhcmVudE5vZGU/LmRhdGFzZXQ/LmtleVxuICAgIGNvbnN0IGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldD8ucGFyZW50Tm9kZT8uZGF0YXNldD8uaW5kZXhcbiAgICBpZiAodHlwZW9mIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XT8ucm93c1tpbmRleF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93cy5zcGxpY2UoaW5kZXgsIGluZGV4KVxuICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Ub2dnbGVTa2lsbCAoZXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0Py5kYXRhc2V0Py5rZXlcbiAgICBjb25zdCBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ/LmRhdGFzZXQ/LmluZGV4XG4gICAgY29uc3QgdG9nZ2xlS2V5ID0gZXZlbnQuY3VycmVudFRhcmdldD8uZGF0YXNldD8udG9nZ2xlS2V5XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0/LnJvd3NbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdW3RvZ2dsZUtleV0gPSAhdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdW3RvZ2dsZUtleV1cbiAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uQ2xpY2tQaWNrU2tpbGwgKGV2ZW50KSB7XG4gICAgY29uc3Qga2V5ID0gZXZlbnQuY3VycmVudFRhcmdldD8uZGF0YXNldD8ua2V5XG4gICAgY29uc3QgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0Py5kYXRhc2V0Py5pbmRleFxuICAgIGNvbnN0IHRvZ2dsZUtleSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ/LmRhdGFzZXQ/LnRvZ2dsZUtleVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldLnJvd3NbaW5kZXhdW3RvZ2dsZUtleV0gPSBmYWxzZVxuICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgfVxuICAgICAgbGV0IHNraWxsTGlzdCA9IFtdXG4gICAgICBjb25zdCBncm91cCA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5ndWVzc0dyb3VwRnJvbUtleShrZXkpXG4gICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgc2tpbGxMaXN0ID0gKGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5mcm9tQ29DSURSZWdleEJlc3QoeyBjb2NpZFJlZ0V4cDogbmV3IFJlZ0V4cCgnXicgKyBDb0M3VXRpbGl0aWVzLnF1b3RlUmVnRXhwKGdyb3VwKSArICcuKyQnKSwgdHlwZTogJ2knIH0pKS5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuICEoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8uc3BlY2lhbCAmJiAhIShpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5yZXF1aXJlc25hbWUgfHwgaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8ucGlja25hbWVvbmx5KSlcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHNraWxsTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgc2tpbGxMaXN0LnNvcnQoQ29DN1V0aWxpdGllcy5zb3J0QnlOYW1lS2V5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBza2lsbERhdGEgPSBhd2FpdCBTa2lsbFNwZWNpYWxpemF0aW9uU2VsZWN0RGlhbG9nLmNyZWF0ZSh7XG4gICAgICAgIHNraWxsczogc2tpbGxMaXN0LFxuICAgICAgICBhbGxvd0N1c3RvbTogKHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5yZXF1aXJlc25hbWUgPz8gZmFsc2UpLFxuICAgICAgICBmaXhlZEJhc2VWYWx1ZTogdHJ1ZSxcbiAgICAgICAgc3BlY2lhbGl6YXRpb25OYW1lOiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24sXG4gICAgICAgIGxhYmVsOiB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0uaXRlbS5uYW1lXG4gICAgICB9KVxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgaWYgKHNraWxsRGF0YS5zZWxlY3RlZCAhPT0gJycpIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgPSBza2lsbExpc3QuZmluZChpID0+IGkuaWQgPT09IHNraWxsRGF0YS5zZWxlY3RlZClcbiAgICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF1bdG9nZ2xlS2V5XSA9IHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChza2lsbERhdGEubmFtZSAhPT0gJycpIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC5za2lsbEl0ZW1zW2tleV0ucm93c1tpbmRleF0uc2VsZWN0ZWQgPSBza2lsbERhdGEubmFtZVxuICAgICAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XVt0b2dnbGVLZXldID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICBpZiAoc2tpbGxEYXRhLnNlbGVjdGVkICE9PSAnJykge1xuICAgICAgICAgIHNlbGVjdGVkID0gc2tpbGxMaXN0LmZpbmQoaSA9PiBpLmlkID09PSBza2lsbERhdGEuc2VsZWN0ZWQpXG4gICAgICAgIH0gZWxzZSBpZiAoc2tpbGxEYXRhLm5hbWUgIT09ICcnKSB7XG4gICAgICAgICAgc2VsZWN0ZWQgPSBza2lsbERhdGEubmFtZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzLnB1c2goe1xuICAgICAgICAgIGlzT2NjdXBhdGlvbkRlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGluT2NjdXBhdGlvbkdyb3VwOiBmYWxzZSxcbiAgICAgICAgICBpc0FyY2hldHlwZURlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGlzQ3JlZGl0UmF0aW5nOiBmYWxzZSxcbiAgICAgICAgICBvY2N1cGF0aW9uVG9nZ2xlOiAodG9nZ2xlS2V5ID09PSAnb2NjdXBhdGlvblRvZ2dsZScpLFxuICAgICAgICAgIGFyY2hldHlwZVRvZ2dsZTogKHRvZ2dsZUtleSA9PT0gJ2FyY2hldHlwZVRvZ2dsZScpLFxuICAgICAgICAgIG9jY3VwYXRpb25Qb2ludHM6ICcnLFxuICAgICAgICAgIGFyY2hldHlwZVBvaW50czogJycsXG4gICAgICAgICAgZXhwZXJpZW5jZVBvaW50czogJycsXG4gICAgICAgICAgcGVyc29uYWxQb2ludHM6ICcnLFxuICAgICAgICAgIHNlbGVjdGVkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbkNoYW5nZVNraWxsUG9pbnRzIChldmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IGFkanVzdG1lbnQgPSBpbnB1dC5kYXRhKCdhZGp1c3RtZW50JylcbiAgICBjb25zdCBsaSA9IGlucHV0LmNsb3Nlc3QoJ2xpJylcbiAgICBjb25zdCBrZXkgPSBsaS5kYXRhKCdrZXknKVxuICAgIGNvbnN0IGluZGV4ID0gbGkuZGF0YSgnaW5kZXgnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3Quc2tpbGxJdGVtc1trZXldPy5yb3dzW2luZGV4XVthZGp1c3RtZW50XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMub2JqZWN0LnNraWxsSXRlbXNba2V5XS5yb3dzW2luZGV4XVthZGp1c3RtZW50XSA9IGlucHV0LnZhbCgpXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25DaGFuZ2VCYWNrc3RvcnlUZXh0IChldmVudCkge1xuICAgIGNvbnN0IHRleHRhcmVhID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IGluZGV4ID0gdGV4dGFyZWEuZGF0YSgnaW5kZXgnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdLnZhbHVlID0gdGV4dGFyZWEudmFsKClcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Sb2xsQmFja3N0b3J5IChldmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICBjb25zdCBpbmRleCA9IGJ1dHRvbi5kYXRhKCdpbmRleCcpXG4gICAgY29uc3Qga2V5ID0gYnV0dG9uLmRhdGEoJ2tleScpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5iaW9TZWN0aW9uc1tpbmRleF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCByb2xsdGFibGUgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZnJvbUNvQ0lEKGtleSlcbiAgICAgIGlmIChyb2xsdGFibGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHRhYmxlUmVzdWx0ID0gYXdhaXQgcm9sbHRhYmxlWzBdLnJvbGwoKVxuICAgICAgICBpZiAodGFibGVSZXN1bHQucmVzdWx0c1swXS50eXBlID09PSBDT05TVC5UQUJMRV9SRVNVTFRfVFlQRVMuVEVYVCkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmJpb1NlY3Rpb25zW2luZGV4XS52YWx1ZSA9ICh0aGlzLm9iamVjdC5iaW9TZWN0aW9uc1tpbmRleF0udmFsdWUgKyAnXFxuJyArIHRhYmxlUmVzdWx0LnJlc3VsdHNbMF0udGV4dC50cmltKCkpLnRyaW0oKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25SZXNldEJhY2tzdG9yeSAoZXZlbnQpIHtcbiAgICBjb25zdCBidXR0b24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgY29uc3QgaW5kZXggPSBidXR0b24uZGF0YSgnaW5kZXgnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5vYmplY3QuYmlvU2VjdGlvbnNbaW5kZXhdLnZhbHVlID0gJydcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vblJvbGxMdWNrIChldmVudCkge1xuICAgIGNvbnN0IHNldHVwID0gYXdhaXQgdGhpcy5nZXRDYWNoZUl0ZW1CeUNvQ0lEKHRoaXMub2JqZWN0LnNldHVwKVxuICAgIGlmIChzZXR1cCkge1xuICAgICAgY29uc3QgZGllID0gYXdhaXQgbmV3IFJvbGwoc2V0dXAuc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5sdWNrLnRvU3RyaW5nKCkpLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICAgIHRoaXMub2JqZWN0LnNldHVwTW9kaWZpZXJzLmx1Y2sgPSBbZGllLnRvdGFsXVxuICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFJvbGwuQ0hBVF9URU1QTEFURSwge1xuICAgICAgICBmb3JtdWxhOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSW52ZXN0aWdhdG9yV2l6YXJkLlJvbGxUd2ljZUZvckx1Y2snKSArICc6ICcgKyBzZXR1cC5zeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmx1Y2sudG9TdHJpbmcoKSxcbiAgICAgICAgdG9vbHRpcDogYXdhaXQgZGllLmdldFRvb2x0aXAoKSxcbiAgICAgICAgdG90YWw6IGRpZS50b3RhbFxuICAgICAgfSlcbiAgICAgIENoYXRNZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgICAgc3BlYWtlcjoge1xuICAgICAgICAgIGFsaWFzOiBnYW1lLnVzZXIubmFtZVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBodG1sLFxuICAgICAgICB3aGlzcGVyOiBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgICAgfSlcbiAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uUm9sbEVkdSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9iamVjdC5yZXF1aXJlc0FnZUFkanVzdG1lbnRzLmVkdSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICghdGhpcy5vYmplY3QucmVxdWlyZXNBZ2VBZGp1c3RtZW50cy5lZHUucm9sbGVkICYmIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMuZWR1LnRvdGFsKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzLmVkdSwgMTApXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBbXVxuICAgICAgICBmb3IgKGxldCByb2xscyA9IHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMuZWR1LnRvdGFsOyByb2xscyA+IDA7IHJvbGxzLS0pIHtcbiAgICAgICAgICBjb25zdCBkaWUgPSBhd2FpdCBuZXcgUm9sbCgnMWQxMDAnKS5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgaWYgKGRpZS50b3RhbCA+IHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBhdWdtZW50RGllID0gYXdhaXQgbmV3IFJvbGwoJzFkMTAnKS5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgICAgICAgICBtZXNzYWdlLnB1c2goYDxzcGFuIGNsYXNzPVwidXBncmFkZS1zdWNjZXNzXCI+JHtnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgICAnQ29DNy5EZXZTdWNjZXNzJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW06IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkVkdWNhdGlvbicpLFxuICAgICAgICAgICAgICAgIGRpZTogZGllLnRvdGFsLFxuICAgICAgICAgICAgICAgIHNjb3JlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBhdWdtZW50OiBhdWdtZW50RGllLnRvdGFsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICl9PC9zcGFuPjxicj5gKVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIHBhcnNlSW50KGF1Z21lbnREaWUudG90YWwsIDEwKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlLnB1c2goYDxzcGFuIGNsYXNzPVwidXBncmFkZS1mYWlsZWRcIj4ke2dhbWUuaTE4bi5mb3JtYXQoXG4gICAgICAgICAgICAgICdDb0M3LkRldkZhaWx1cmUnLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbTogZ2FtZS5pMThuLmxvY2FsaXplKCdDSEFSQUMuRWR1Y2F0aW9uJyksXG4gICAgICAgICAgICAgICAgZGllOiBkaWUudG90YWwsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHZhbHVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICl9PC9zcGFuPjxicj5gKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlJvbGxBbGw0RGV2JyksXG4gICAgICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgICAgIHNwZWFrZXI6IHtcbiAgICAgICAgICAgIGFsaWFzOiBnYW1lLnVzZXIubmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5qb2luKCcnKSxcbiAgICAgICAgICB3aGlzcGVyOiBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVycy5lZHUgPSB2YWx1ZSAtIHBhcnNlSW50KHRoaXMub2JqZWN0LnNldHVwUG9pbnRzLmVkdSwgMTApXG4gICAgICAgIHRoaXMub2JqZWN0LnJlcXVpcmVzQWdlQWRqdXN0bWVudHMuZWR1LnJvbGxlZCA9IHRydWVcbiAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25Sb2xsQWxsIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCByb2xscyA9IFtdXG4gICAgZm9yIChjb25zdCBrZXkgb2YgWydzdHInLCAnY29uJywgJ3NpeicsICdkZXgnLCAnYXBwJywgJ2ludCcsICdwb3cnLCAnZWR1JywgJ2x1Y2snXSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5yb2xsQ2hhcmFjdGVyaXN0aWMoa2V5KVxuICAgICAgaWYgKHJlc3VsdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgcm9sbHMucHVzaChyZXN1bHQpXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucm9sbE1lc3NhZ2Uocm9sbHMpXG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIF9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBpZiAodHlwZW9mIGxpLmRhdGFzZXQub2Zmc2V0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbGkuZGF0YXNldC5taW4gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1heCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5T2Zmc2V0KGxpLmRhdGFzZXQub2Zmc2V0LCAxMCwgbGkuZGF0YXNldC5taW4sIGxpLmRhdGFzZXQubWF4KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpLmRhdGFzZXQua2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb2RpZnlDaGFyYWN0ZXJpc3RpYyhsaS5kYXRhc2V0LmtleSwgMTApXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25JbmNyZWFzZUNoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGlmICh0eXBlb2YgbGkuZGF0YXNldC5vZmZzZXQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1pbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGxpLmRhdGFzZXQubWF4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb2RpZnlPZmZzZXQobGkuZGF0YXNldC5vZmZzZXQsIDEsIGxpLmRhdGFzZXQubWluLCBsaS5kYXRhc2V0Lm1heClcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaS5kYXRhc2V0LmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5Q2hhcmFjdGVyaXN0aWMobGkuZGF0YXNldC5rZXksIDEpXG4gICAgfVxuICAgIHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25EZWNyZWFzZUNoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGlmICh0eXBlb2YgbGkuZGF0YXNldC5vZmZzZXQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1pbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGxpLmRhdGFzZXQubWF4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb2RpZnlPZmZzZXQobGkuZGF0YXNldC5vZmZzZXQsIC0xLCBsaS5kYXRhc2V0Lm1pbiwgbGkuZGF0YXNldC5tYXgpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbGkuZGF0YXNldC5rZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm1vZGlmeUNoYXJhY3RlcmlzdGljKGxpLmRhdGFzZXQua2V5LCAtMSlcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIF9vbkRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBpZiAodHlwZW9mIGxpLmRhdGFzZXQub2Zmc2V0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbGkuZGF0YXNldC5taW4gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsaS5kYXRhc2V0Lm1heCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5T2Zmc2V0KGxpLmRhdGFzZXQub2Zmc2V0LCAtMTAsIGxpLmRhdGFzZXQubWluLCBsaS5kYXRhc2V0Lm1heClcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaS5kYXRhc2V0LmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubW9kaWZ5Q2hhcmFjdGVyaXN0aWMobGkuZGF0YXNldC5rZXksIC0xMClcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIG1vZGlmeU9mZnNldCAoa2V5LCB2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICB0aGlzLm9iamVjdC5zZXR1cE1vZGlmaWVyc1trZXldID0gTWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQodGhpcy5vYmplY3Quc2V0dXBNb2RpZmllcnNba2V5XSwgMTApICsgdmFsdWUsIHBhcnNlSW50KG1heCwgMTApKSwgcGFyc2VJbnQobWluLCAxMCkpXG4gIH1cblxuICBtb2RpZnlDaGFyYWN0ZXJpc3RpYyAoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGxpID0gdGhpcy5fZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKGBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGk/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JylcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGlucHV0LnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKSArIHZhbHVlXG4gICAgICB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldID0gTnVtYmVyKGlucHV0LnZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vblJvbGxDaGFyYWN0ZXJpc3RpYyAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbGkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICBjb25zdCBjaGFyYWNLZXkgPSBsaS5kYXRhc2V0LmtleVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucm9sbENoYXJhY3RlcmlzdGljKGNoYXJhY0tleSlcbiAgICBpZiAocmVzdWx0ICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5yb2xsTWVzc2FnZShbcmVzdWx0XSlcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIGFzeW5jIHJvbGxDaGFyYWN0ZXJpc3RpYyAoa2V5KSB7XG4gICAgY29uc3QgbGkgPSAkKGAjaW52ZXN0aWdhdG9yLXdpemFyZC1hcHBsaWNhdGlvbiBsaS5pdGVtW2RhdGEta2V5PSR7a2V5fV1gKVxuICAgIGNvbnN0IGlucHV0ID0gbGkuZmluZCgnaW5wdXQnKVxuICAgIGNvbnN0IGZvcm11bGEgPSBsaS5kYXRhKCdyb2xsJylcbiAgICBpZiAoaW5wdXQgJiYgZm9ybXVsYSkge1xuICAgICAgaWYgKHRoaXMub2JqZWN0LnJlcm9sbHNFbmFibGVkIHx8IHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0gPT09ICcnKSB7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBuZXcgUm9sbChmb3JtdWxhLnRvU3RyaW5nKCkpXG4gICAgICAgIGF3YWl0IHJvbGwuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICBpbnB1dC52YWwocm9sbC50b3RhbClcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSA9IE51bWJlcihyb2xsLnRvdGFsKVxuICAgICAgICByZXR1cm4gW2tleSwgZm9ybXVsYS50b1N0cmluZygpLCByb2xsXVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGVcbiAgICogQSBzdWJjbGFzcyBvZiB0aGUgRm9ybUFwcGxpY2F0aW9uIG11c3QgaW1wbGVtZW50IHRoZSBfb25DaGFuZ2VTdWJtaXQgbWV0aG9kLlxuICAgKi9cbiAgX29uQ2hhbmdlU3VibWl0IChldmVudCkge1xuICAgIHRoaXMuX29uU3VibWl0KGV2ZW50KVxuICB9XG5cbiAgX29uQ2hhbmdlU2F2ZUNoYXJhY3RlcmlzdGljIChldmVudCkge1xuICAgIGNvbnN0IG9iaiA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICBjb25zdCBuYW1lID0gb2JqLnByb3AoJ25hbWUnKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNbbmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9iamVjdC5zZXR1cFBvaW50c1tuYW1lXSA9IG9iai52YWwoKVxuICAgICAgbGV0IGVtcHRpZXMgPSBmYWxzZVxuICAgICAgbGV0IHRvdGFsID0gMFxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vYmplY3Quc2V0dXBQb2ludHMpIHtcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0gIT09ICcnKSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gJ2x1Y2snKSB7XG4gICAgICAgICAgICB0b3RhbCArPSBwYXJzZUludCh0aGlzLm9iamVjdC5zZXR1cFBvaW50c1trZXldLCAxMClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW1wdGllcyA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgb2JqVG90YWwgPSBvYmouY2xvc2VzdCgnb2wuaXRlbS1saXN0JykuZmluZCgnc3Bhbi50b3RhbCcpXG4gICAgICBjb25zdCBtYXggPSBwYXJzZUludChvYmpUb3RhbC5zaWJsaW5ncygnc3Bhbi52YWx1ZScpLnRleHQoKSwgMTApXG4gICAgICBvYmpUb3RhbC50ZXh0KHRvdGFsKVxuICAgICAgaWYgKHRvdGFsID09PSBtYXggJiYgIWVtcHRpZXMpIHtcbiAgICAgICAgaWYgKG9iai5jbG9zZXN0KCdmb3JtJykuZmluZCgnYnV0dG9uLnN1Ym1pdC1idXR0b25bZGF0YS1idXR0b249bmV4dF0nKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob2JqLmNsb3Nlc3QoJ2Zvcm0nKS5maW5kKCdidXR0b24uc3VibWl0LWJ1dHRvbltkYXRhLWJ1dHRvbj1uZXh0XScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcih0cnVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0UGFnZU51bWJlciAoZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgcGFnZU9yZGVyID0gdGhpcy5wYWdlT3JkZXJcbiAgICBjb25zdCBrZXkgPSBwYXJzZUludChPYmplY3Qua2V5cyhwYWdlT3JkZXIpLmZpbmQoa2V5ID0+IHBhZ2VPcmRlcltrZXldID09PSB0aGlzLm9iamVjdC5zdGVwKSwgMTApICsgZGlyZWN0aW9uXG4gICAgcmV0dXJuIHBhZ2VPcmRlcltrZXldXG4gIH1cblxuICAvKiogQG92ZXJyaWRlXG4gICAqIEEgc3ViY2xhc3Mgb2YgdGhlIEZvcm1BcHBsaWNhdGlvbiBtdXN0IGltcGxlbWVudCB0aGUgX3VwZGF0ZU9iamVjdCBtZXRob2QuXG4gICAqL1xuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZm9ybURhdGEpIHtcbiAgICBpZiAoWydiYWNrJywgJ25leHQnXS5pbmNsdWRlcyhldmVudC5zdWJtaXR0ZXI/LmRhdGFzZXQuYnV0dG9uKSkge1xuICAgICAgaWYgKGV2ZW50LnN1Ym1pdHRlci5jbGFzc05hbWUuaW5kZXhPZignY3VycmVudGx5LXN1Ym1pdHRpbmcnKSA+IC0xKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZXZlbnQuc3VibWl0dGVyLmNsYXNzTmFtZSA9IGV2ZW50LnN1Ym1pdHRlci5jbGFzc05hbWUgKyAnIGN1cnJlbnRseS1zdWJtaXR0aW5nJ1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZvcm1EYXRhWydkZWZhdWx0LXNldHVwJ10gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBmb3JtRGF0YVsnd29ybGQtZXJhJ10gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBmb3JtRGF0YVsnZGVmYXVsdC1vd25lcnNoaXAnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0U2V0dXAgIT09IGZvcm1EYXRhWydkZWZhdWx0LXNldHVwJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3QuZGVmYXVsdFNldHVwID0gZm9ybURhdGFbJ2RlZmF1bHQtc2V0dXAnXVxuICAgICAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRTZXR1cCcsIHRoaXMub2JqZWN0LmRlZmF1bHRTZXR1cClcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0dXAgPSB0aGlzLm9iamVjdC5kZWZhdWx0U2V0dXBcbiAgICAgICAgdGhpcy5jbGVhclNldHVwUG9pbnRzKClcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTa2lsbExpc3RzKClcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0T3duZXJzaGlwICE9PSBmb3JtRGF0YVsnZGVmYXVsdC1vd25lcnNoaXAnXSkge1xuICAgICAgICB0aGlzLm9iamVjdC5kZWZhdWx0T3duZXJzaGlwID0gZm9ybURhdGFbJ2RlZmF1bHQtb3duZXJzaGlwJ11cbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkT3duZXJzaGlwJywgdGhpcy5vYmplY3QuZGVmYXVsdE93bmVyc2hpcClcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0RXJhICE9PSBmb3JtRGF0YVsnd29ybGQtZXJhJ10pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gJCh0aGlzLmVsZW1lbnQuZmluZCgnZm9ybScpKVxuICAgICAgICBjb25zdCBzdGFydGVkID0gRGF0ZS5ub3coKVxuICAgICAgICBvYmouZmluZCgnLmRpYWxvZy1idXR0b25zOmZpcnN0JykuaGlkZSgpXG4gICAgICAgIG9iai5maW5kKCcuc2Nyb2xsc2VjdGlvbjpmaXJzdCcpLmhpZGUoKVxuICAgICAgICBvYmouZmluZCgnLmVyYWNoYW5nZTpmaXJzdCcpLnNob3coKVxuICAgICAgICB0aGlzLm9iamVjdC5kZWZhdWx0RXJhID0gZm9ybURhdGFbJ3dvcmxkLWVyYSddXG4gICAgICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3dvcmxkRXJhJywgdGhpcy5vYmplY3QuZGVmYXVsdEVyYSlcbiAgICAgICAgdGhpcy5vYmplY3QuY2FjaGVDb0NJRCA9IGF3YWl0IENvQzdJbnZlc3RpZ2F0b3JXaXphcmQubG9hZENhY2hlSXRlbUJ5Q29DSUQoKVxuICAgICAgICAvLyBUbyBwcmV2ZW50IGZsYXNoaW5nIHNob3cgbWVzc2FnZSBmb3IgYXQgbGVhc3QgNTAwIG1zXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IDUwMCAtIChEYXRlLm5vdygpIC0gc3RhcnRlZClcbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGlmIGxlc3MgdGhhbiAxMG1zIHJlbWFpbmluZ1xuICAgICAgICBpZiAoYnVmZmVyID4gMTApIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgYnVmZmVyKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0eXBlb2YgZm9ybURhdGFbJ2NoYXJhY3RlcmlzdGljcy1tZXRob2QnXSAhPT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBOdW1iZXIoZm9ybURhdGFbJ2NoYXJhY3RlcmlzdGljcy1tZXRob2QnXSlcbiAgICAgICAgaWYgKHR5cGUgPT09IHRoaXMuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfREVGQVVMVCkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmVuZm9yY2VQb2ludEJ1eSA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzID0gW11cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSB0aGlzLmNoYXJhY3RlcmlzdGljc01ldGhvZHMuTUVUSE9EX1BPSU5UUykge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmVuZm9yY2VQb2ludEJ1eSA9IHRydWVcbiAgICAgICAgICB0aGlzLm9iamVjdC5xdWlja0ZpcmVWYWx1ZXMgPSBbXVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IHRoaXMuY2hhcmFjdGVyaXN0aWNzTWV0aG9kcy5NRVRIT0RfVkFMVUVTKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QuZW5mb3JjZVBvaW50QnV5ID0gZmFsc2VcbiAgICAgICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVBcmNoZXR5cGUnKSkge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzID0gWzkwLCA4MCwgNzAsIDYwLCA2MCwgNTAsIDUwLCA0MF1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzID0gWzgwLCA3MCwgNjAsIDYwLCA1MCwgNTAsIDUwLCA0MF1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUG9pbnRCdXknLCB0aGlzLm9iamVjdC5lbmZvcmNlUG9pbnRCdXkpXG4gICAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1aWNrRmlyZScsIHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcylcbiAgICAgIH1cbiAgICAgIHRoaXMub2JqZWN0LnJlcm9sbHNFbmFibGVkID0gKHR5cGVvZiBmb3JtRGF0YVsncmVyb2xscy1lbmFibGVkJ10gPT09ICdzdHJpbmcnKVxuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUmVyb2xscycsIHRoaXMub2JqZWN0LnJlcm9sbHNFbmFibGVkKVxuICAgICAgZm9yIChsZXQgaSA9IDAsIGltID0gdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzLmxlbmd0aDsgaSA8IGltOyBpKyspIHtcbiAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKGZvcm1EYXRhWydxdWljay1maXJlLXZhbHVlcy0nICsgaV0pXG4gICAgICAgIGlmIChudW0gPiAwKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzW2ldID0gbnVtXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcy5zb3J0KCkucmV2ZXJzZSgpXG4gICAgICB0aGlzLm9iamVjdC5wbGFjZWFibGUgPSBkdXBsaWNhdGUodGhpcy5vYmplY3QucXVpY2tGaXJlVmFsdWVzKVxuICAgICAgaWYgKHR5cGVvZiBmb3JtRGF0YVsnZGVmYXVsdC1lbmFibGVkJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0UXVhbnRpdHkudG9TdHJpbmcoKSA9PT0gJzAnKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QuZGVmYXVsdFF1YW50aXR5ID0gMVxuICAgICAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1YW50aXR5JywgdGhpcy5vYmplY3QuZGVmYXVsdFF1YW50aXR5KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmRlZmF1bHRRdWFudGl0eSA9IGZvcm1EYXRhWydkZWZhdWx0LXF1YW50aXR5J11cbiAgICAgICAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRRdWFudGl0eScsIHRoaXMub2JqZWN0LmRlZmF1bHRRdWFudGl0eSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLm9iamVjdC5kZWZhdWx0UXVhbnRpdHkudG9TdHJpbmcoKSAhPT0gJzAnKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LmRlZmF1bHRRdWFudGl0eSA9IDBcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVhbnRpdHknLCB0aGlzLm9iamVjdC5kZWZhdWx0UXVhbnRpdHkpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybURhdGFbJ2NvYy1zZXR1cCddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRoaXMub2JqZWN0LnNldHVwICE9PSBmb3JtRGF0YVsnY29jLXNldHVwJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3Quc2V0dXAgPSBmb3JtRGF0YVsnY29jLXNldHVwJ11cbiAgICAgICAgdGhpcy5jbGVhclNldHVwUG9pbnRzKClcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTa2lsbExpc3RzKClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtRGF0YVsnY29jLWFyY2hldHlwZSddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRoaXMub2JqZWN0LmFyY2hldHlwZSAhPT0gZm9ybURhdGFbJ2NvYy1hcmNoZXR5cGUnXSkge1xuICAgICAgICB0aGlzLm9iamVjdC5hcmNoZXR5cGUgPSBmb3JtRGF0YVsnY29jLWFyY2hldHlwZSddXG4gICAgICAgIHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYyA9ICcnXG4gICAgICAgIHRoaXMuY2xlYXJTZXR1cFBvaW50cygpXG4gICAgICAgIGF3YWl0IHRoaXMuc2V0U2tpbGxMaXN0cygpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybURhdGFbJ2NvYy1vY2N1cGF0aW9uJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGhpcy5vYmplY3Qub2NjdXBhdGlvbiAhPT0gZm9ybURhdGFbJ2NvYy1vY2N1cGF0aW9uJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3Qub2NjdXBhdGlvbiA9IGZvcm1EYXRhWydjb2Mtb2NjdXBhdGlvbiddXG4gICAgICAgIGF3YWl0IHRoaXMuc2V0U2tpbGxMaXN0cygpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm9ybURhdGFba2V5XSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5vYmplY3Quc2V0dXBQb2ludHNba2V5XSAhPT0gZm9ybURhdGFba2V5XSkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LnNldHVwUG9pbnRzW2tleV0gPSBmb3JtRGF0YVtrZXldXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZm9ybURhdGFbJ2NvYy1jb3JlLWNoYXJhY3RlcmlzdGljJ10gIT09ICd1bmRlZmluZWQnICYmIHRoaXMub2JqZWN0LmNvcmVDaGFyYWN0ZXJpc3RpYyAhPT0gZm9ybURhdGFbJ2NvYy1jb3JlLWNoYXJhY3RlcmlzdGljJ10pIHtcbiAgICAgICAgdGhpcy5vYmplY3QuY29yZUNoYXJhY3RlcmlzdGljID0gZm9ybURhdGFbJ2NvYy1jb3JlLWNoYXJhY3RlcmlzdGljJ11cbiAgICAgICAgdGhpcy5jbGVhclNldHVwUG9pbnRzKClcbiAgICAgICAgdGhpcy5vYmplY3QucGxhY2VhYmxlID0gZHVwbGljYXRlKHRoaXMub2JqZWN0LnF1aWNrRmlyZVZhbHVlcylcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZmxhdEtleXMgPSBbJ25hbWUnLCAnYWdlJywgJ3Jlc2lkZW5jZScsICdiaXJ0aHBsYWNlJywgJ2xhbmd1YWdlJywgJ2F2YXRhcicsICd0b2tlbiddXG4gICAgZm9yIChjb25zdCBrZXkgb2YgZmxhdEtleXMpIHtcbiAgICAgIGlmICh0eXBlb2YgZm9ybURhdGFba2V5XSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5vYmplY3Rba2V5XSAhPT0gZm9ybURhdGFba2V5XSkge1xuICAgICAgICB0aGlzLm9iamVjdFtrZXldID0gZm9ybURhdGFba2V5XVxuICAgICAgICBpZiAoa2V5ID09PSAnYWdlJykge1xuICAgICAgICAgIHRoaXMuZ2V0QWdlQWRqdXN0bWVudHMoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChldmVudC5zdWJtaXR0ZXI/LmRhdGFzZXQuYnV0dG9uID09PSAnYmFjaycpIHtcbiAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSB0aGlzLmdldFBhZ2VOdW1iZXIoLTEpXG4gICAgICBpZiAodHlwZW9mIHBhZ2VOdW1iZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnN0ZXAgPSBwYWdlTnVtYmVyXG4gICAgICAgIC8vIFdoZW4gbW92aW5nIHN0ZXAgcmVzZXQgc2Nyb2xsIGhlaWdodFxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmVsZW1lbnQuZmluZCgnLnNjcm9sbHNlY3Rpb24nKVxuICAgICAgICBpZiAob2JqLmxlbmd0aCAmJiBvYmpbMF0uc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgb2JqWzBdLnNjcm9sbFRvcCA9IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXZlbnQuc3VibWl0dGVyPy5kYXRhc2V0LmJ1dHRvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAodGhpcy5vYmplY3Quc3RlcCA9PT0gdGhpcy5wYWdlTGlzdC5QQUdFX0NSRUFURSB8fCAodGhpcy5vYmplY3Quc3RlcCA9PT0gdGhpcy5wYWdlTGlzdC5QQUdFX0JBQ0tTVE9SWSAmJiBnYW1lLnVzZXIucm9sZSA+PSBDT05TVC5VU0VSX1BFUk1JU1NJT05TLkFDVE9SX0NSRUFURS5kZWZhdWx0Um9sZSkpIHtcbiAgICAgICAgdGhpcy5hdHRlbXB0VG9DcmVhdGUoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSB0aGlzLmdldFBhZ2VOdW1iZXIoMSlcbiAgICAgICAgaWYgKHR5cGVvZiBwYWdlTnVtYmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMub2JqZWN0LnN0ZXAgPSBwYWdlTnVtYmVyXG4gICAgICAgICAgLy8gV2hlbiBtb3Zpbmcgc3RlcCByZXNldCBzY3JvbGwgaGVpZ2h0XG4gICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5lbGVtZW50LmZpbmQoJy5zY3JvbGxzZWN0aW9uJylcbiAgICAgICAgICBpZiAob2JqLmxlbmd0aCAmJiBvYmpbMF0uc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICBvYmpbMF0uc2Nyb2xsVG9wID0gMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgYXN5bmMgYXR0ZW1wdFRvQ3JlYXRlICgpIHtcbiAgICBjb25zdCBhY3RvckRhdGEgPSBhd2FpdCB0aGlzLm5vcm1hbGl6ZUNoYXJhY3RlckRhdGEodGhpcy5vYmplY3QpXG4gICAgaWYgKGdhbWUudXNlci5pc0dNIHx8IGdhbWUudXNlci5yb2xlID49IENPTlNULlVTRVJfUEVSTUlTU0lPTlMuQUNUT1JfQ1JFQVRFLmRlZmF1bHRSb2xlKSB7XG4gICAgICBjb25zdCBhY3RvciA9IGF3YWl0IENvQzdJbnZlc3RpZ2F0b3JXaXphcmQuY3JlYXRlQ2hhcmFjdGVyKGFjdG9yRGF0YSlcbiAgICAgIGFjdG9yLnNoZWV0LnJlbmRlcih0cnVlKVxuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtlZXBlcnMgPSBnYW1lLnVzZXJzLmZpbHRlcih1ID0+IHUuYWN0aXZlICYmIHUuaXNHTSlcbiAgICAgIGlmIChrZWVwZXJzLmxlbmd0aCkge1xuICAgICAgICBhY3RvckRhdGEub3duZXJzaGlwW2dhbWUudXNlci5pZF0gPSBDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk9XTkVSXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgdHlwZTogJ2NoYXJhY3Rlci13aXphcmQnLFxuICAgICAgICAgIGxpc3RlbmVyOiBrZWVwZXJzWzBdLmlkLFxuICAgICAgICAgIHBheWxvYWQ6IGFjdG9yRGF0YVxuICAgICAgICB9XG4gICAgICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3JywgZGF0YSlcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5JbnZlc3RpZ2F0b3JXaXphcmQuQ3JlYXRpbmdJbnZlc3RpZ2F0b3InKVxuICAgICAgICApXG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JNaXNzaW5nS2VlcGVyVXNlcicpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBub3JtYWxpemVDaGFyYWN0ZXJEYXRhIChkYXRhKSB7XG4gICAgY29uc3Qgd2VhcG9uU2tpbGxzID0ge1xuICAgICAgbWVsZWU6IHt9LFxuICAgICAgcm5nZDoge31cbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSBbXVxuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEuc2tpbGxJdGVtcykge1xuICAgICAgY29uc3Qgc2tpbGwgPSBkYXRhLnNraWxsSXRlbXNba2V5XVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwLCBpbSA9IHNraWxsLnJvd3MubGVuZ3RoOyBpbmRleCA8IGltOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHNraWxsLnJvd3NbaW5kZXhdXG4gICAgICAgIGlmICghc2tpbGwuZmxhZ3MuaXNNdWx0aXBsZSB8fCByb3cuc2VsZWN0ZWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgbGV0IGl0ZW0gPSBkdXBsaWNhdGUoc2tpbGwuaXRlbSlcbiAgICAgICAgICBpZiAocm93LnNlbGVjdGVkICE9PSBmYWxzZSAmJiB0eXBlb2Ygcm93LnNlbGVjdGVkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaXRlbSA9IGR1cGxpY2F0ZShyb3cuc2VsZWN0ZWQpXG4gICAgICAgICAgICByb3cuc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm93Lm9jY3VwYXRpb25Ub2dnbGUpIHtcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLmZsYWdzLm9jY3VwYXRpb24gPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyb3cuYXJjaGV0eXBlVG9nZ2xlKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5mbGFncy5hcmNoZXR5cGUgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBiYXNlID0gaXRlbS5zeXN0ZW0uYmFzZVxuICAgICAgICAgIGlmICghTnVtYmVyLmlzTnVtZXJpYyhiYXNlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YS5zZXR1cFBvaW50cykge1xuICAgICAgICAgICAgICBjb25zdCByZWdFeCA9IG5ldyBSZWdFeHAoJ0AnICsga2V5LCAnaScpXG4gICAgICAgICAgICAgIGJhc2UgPSBiYXNlLnJlcGxhY2UocmVnRXgsIHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghTnVtYmVyLmlzTnVtZXJpYyhiYXNlKSkge1xuICAgICAgICAgICAgYmFzZSA9IE1hdGguZmxvb3IobmV3IFJvbGwoYmFzZSkuZXZhbHVhdGUoeyBhc3luYzogZmFsc2UgfSkudG90YWwpXG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0uc3lzdGVtLmJhc2UgPSBiYXNlXG4gICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMgPSBpdGVtLnN5c3RlbS5hZGp1c3RtZW50cyA/PyB7fVxuICAgICAgICAgIGlmIChOdW1iZXIocm93LnBlcnNvbmFsUG9pbnRzKSA+IDApIHtcbiAgICAgICAgICAgIGl0ZW0uc3lzdGVtLmFkanVzdG1lbnRzLnBlcnNvbmFsID0gcGFyc2VJbnQocm93LnBlcnNvbmFsUG9pbnRzLCAxMClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE51bWJlcihyb3cub2NjdXBhdGlvblBvaW50cykgPiAwKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5hZGp1c3RtZW50cy5vY2N1cGF0aW9uID0gcGFyc2VJbnQocm93Lm9jY3VwYXRpb25Qb2ludHMsIDEwKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoTnVtYmVyKHJvdy5hcmNoZXR5cGVQb2ludHMpID4gMCkge1xuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuYXJjaGV0eXBlID0gcGFyc2VJbnQocm93LmFyY2hldHlwZVBvaW50cywgMTApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChOdW1iZXIocm93LmV4cGVyaWVuY2VQb2ludHMpID4gMCkge1xuICAgICAgICAgICAgaXRlbS5zeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSA9IHBhcnNlSW50KHJvdy5leHBlcmllbmNlUG9pbnRzLCAxMClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5jb2NpZExhbmd1YWdlT3duKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbE5hbWUgPSBkYXRhLmxhbmd1YWdlXG4gICAgICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLnN5c3RlbS5zcGVjaWFsaXphdGlvbiArICcgKCcgKyBpdGVtLnN5c3RlbS5za2lsbE5hbWUgKyAnKSdcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByb3cuc2VsZWN0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbE5hbWUgPSByb3cuc2VsZWN0ZWRcbiAgICAgICAgICAgIGl0ZW0uX2lkID0gcmFuZG9tSUQoKVxuICAgICAgICAgICAgaXRlbS5uYW1lID0gaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb24gKyAnICgnICsgaXRlbS5zeXN0ZW0uc2tpbGxOYW1lICsgJyknXG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uZmxhZ3MuQ29DNz8uY29jaWRGbGFnPy5pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgaXRlbS5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZCA9IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5ndWVzc0lkKGl0ZW0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLnN5c3RlbS5wcm9wZXJ0aWVzPy5maWdodGluZykge1xuICAgICAgICAgICAgd2VhcG9uU2tpbGxzLm1lbGVlW2l0ZW0ubmFtZV0gPSBpdGVtLl9pZFxuICAgICAgICAgICAgd2VhcG9uU2tpbGxzLm1lbGVlW2l0ZW0uc3lzdGVtLnNraWxsTmFtZV0gPSBpdGVtLl9pZFxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8uZmlyZWFybSkge1xuICAgICAgICAgICAgd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5uYW1lXSA9IGl0ZW0uX2lkXG4gICAgICAgICAgICB3ZWFwb25Ta2lsbHMucm5nZFtpdGVtLnN5c3RlbS5za2lsbE5hbWVdID0gaXRlbS5faWRcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbXMucHVzaChpdGVtKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qgc291cmNlSXRlbSBvZiBkYXRhLmludmVzdGlnYXRvckl0ZW1zKSB7XG4gICAgICBjb25zdCBpdGVtID0gZHVwbGljYXRlKHNvdXJjZUl0ZW0pXG4gICAgICBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5tZWxlZSkge1xuICAgICAgICBpZiAodHlwZW9mIHdlYXBvblNraWxscy5tZWxlZVtpdGVtLnN5c3RlbS5za2lsbC5tYWluLm5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGl0ZW0uc3lzdGVtLnNraWxsLm1haW4uaWQgPSB3ZWFwb25Ta2lsbHMubWVsZWVbaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lXVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygd2VhcG9uU2tpbGxzLm1lbGVlW2l0ZW0uc3lzdGVtLnNraWxsLmFsdGVybmF0aXYubmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRlbS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5pZCA9IHdlYXBvblNraWxscy5tZWxlZVtpdGVtLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2Lm5hbWVdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5ybmdkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbC5tYWluLmlkID0gd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwubWFpbi5uYW1lXVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdGVtLnN5c3RlbS5za2lsbC5hbHRlcm5hdGl2LmlkID0gd2VhcG9uU2tpbGxzLnJuZ2RbaXRlbS5zeXN0ZW0uc2tpbGwuYWx0ZXJuYXRpdi5uYW1lXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpdGVtcy5wdXNoKGl0ZW0pXG4gICAgfVxuICAgIGxldCBtb25ldGFyeSA9IHt9XG4gICAgY29uc3Qgc2V0dXAgPSBhd2FpdCB0aGlzLmdldENhY2hlSXRlbUJ5Q29DSUQodGhpcy5vYmplY3Quc2V0dXApXG4gICAgaWYgKHNldHVwKSB7XG4gICAgICBtb25ldGFyeSA9IGR1cGxpY2F0ZShzZXR1cC5zeXN0ZW0ubW9uZXRhcnkpXG4gICAgfVxuICAgIGNvbnN0IGRldmVsb3BtZW50ID0ge1xuICAgICAgcGVyc29uYWw6IDIgKiAocGFyc2VJbnQoZGF0YS5zZXR1cFBvaW50cy5pbnQsIDEwKSArIHBhcnNlSW50KGRhdGEuc2V0dXBNb2RpZmllcnMuaW50LCAxMCkpLFxuICAgICAgb2NjdXBhdGlvbjogMCxcbiAgICAgIGFyY2hldHlwZTogMFxuICAgIH1cbiAgICBpZiAoZGF0YS5hcmNoZXR5cGUgIT09ICcnKSB7XG4gICAgICBjb25zdCBhcmNoZXR5cGUgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZnJvbUNvQ0lEKGRhdGEuYXJjaGV0eXBlKVxuICAgICAgaWYgKGFyY2hldHlwZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaXRlbXMucHVzaChhcmNoZXR5cGVbMF0udG9PYmplY3QoKSlcbiAgICAgICAgZGV2ZWxvcG1lbnQuYXJjaGV0eXBlID0gYXJjaGV0eXBlWzBdLnN5c3RlbS5ib251c1BvaW50c1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGF0YS5vY2N1cGF0aW9uICE9PSAnJykge1xuICAgICAgY29uc3Qgb2NjdXBhdGlvbiA9IGF3YWl0IGdhbWUuc3lzdGVtLmFwaS5jb2NpZC5mcm9tQ29DSUQoZGF0YS5vY2N1cGF0aW9uKVxuICAgICAgaWYgKG9jY3VwYXRpb24ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGl0ZW1zLnB1c2gob2NjdXBhdGlvblswXS50b09iamVjdCgpKVxuICAgICAgICBjb25zdCBvcHRpb25zID0gW11cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBjYXJhY10gb2YgT2JqZWN0LmVudHJpZXMob2NjdXBhdGlvblswXS5zeXN0ZW0ub2NjdXBhdGlvblNraWxsUG9pbnRzKSkge1xuICAgICAgICAgIGlmIChjYXJhYy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgaWYgKGNhcmFjLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMucHVzaChjYXJhYy5tdWx0aXBsaWVyICogKHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGV2ZWxvcG1lbnQub2NjdXBhdGlvbiArPSBjYXJhYy5tdWx0aXBsaWVyICogKHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHNba2V5XSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVyc1trZXldLCAxMCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBkZXZlbG9wbWVudC5vY2N1cGF0aW9uICs9IE1hdGgubWF4KC4uLm9wdGlvbnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYmlvZ3JhcGh5ID0gW11cbiAgICBmb3IgKGxldCBpbmRleCA9IDAsIGltID0gZGF0YS5iaW9TZWN0aW9ucy5sZW5ndGg7IGluZGV4IDwgaW07IGluZGV4KyspIHtcbiAgICAgIGJpb2dyYXBoeS5wdXNoKHtcbiAgICAgICAgdGl0bGU6IGRhdGEuYmlvU2VjdGlvbnNbaW5kZXhdLm5hbWUsXG4gICAgICAgIHZhbHVlOiBkYXRhLmJpb1NlY3Rpb25zW2luZGV4XS52YWx1ZVxuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3QgYWN0b3JEYXRhID0ge1xuICAgICAgdHlwZTogJ2NoYXJhY3RlcicsXG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBpbWc6IGRhdGEuYXZhdGFyLFxuICAgICAgc3lzdGVtOiB7XG4gICAgICAgIGNoYXJhY3RlcmlzdGljczoge1xuICAgICAgICAgIHN0cjoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMuc3RyLCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLnN0ciwgMTApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb246IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkYXRhLnNldHVwUG9pbnRzLmNvbiwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVycy5jb24sIDEwKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2l6OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoZGF0YS5zZXR1cFBvaW50cy5zaXosIDEwKSArIHBhcnNlSW50KGRhdGEuc2V0dXBNb2RpZmllcnMuc2l6LCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRleDoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMuZGV4LCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLmRleCwgMTApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkYXRhLnNldHVwUG9pbnRzLmFwcCwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVycy5hcHAsIDEwKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaW50OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoZGF0YS5zZXR1cFBvaW50cy5pbnQsIDEwKSArIHBhcnNlSW50KGRhdGEuc2V0dXBNb2RpZmllcnMuaW50LCAxMClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMucG93LCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLnBvdywgMTApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlZHU6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUludChkYXRhLnNldHVwUG9pbnRzLmVkdSwgMTApICsgcGFyc2VJbnQoZGF0YS5zZXR1cE1vZGlmaWVycy5lZHUsIDEwKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXR0cmliczoge1xuICAgICAgICAgIGxjazoge1xuICAgICAgICAgICAgdmFsdWU6IE1hdGgubWF4KHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMubHVjaywgMTApLCBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLmx1Y2ssIDEwKSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNhbjoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KGRhdGEuc2V0dXBQb2ludHMucG93LCAxMCkgKyBwYXJzZUludChkYXRhLnNldHVwTW9kaWZpZXJzLnBvdywgMTApXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbmZvczoge1xuICAgICAgICAgIGFnZTogZGF0YS5hZ2UsXG4gICAgICAgICAgcmVzaWRlbmNlOiBkYXRhLnJlc2lkZW5jZSxcbiAgICAgICAgICBiaXJ0aHBsYWNlOiBkYXRhLmJpcnRocGxhY2VcbiAgICAgICAgfSxcbiAgICAgICAgZGV2ZWxvcG1lbnQsXG4gICAgICAgIGJpb2dyYXBoeSxcbiAgICAgICAgbW9uZXRhcnlcbiAgICAgIH0sXG4gICAgICBwcm90b3R5cGVUb2tlbjoge1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFjdG9yTGluazogdHJ1ZSxcbiAgICAgICAgdGV4dHVyZToge1xuICAgICAgICAgIHNyYzogZGF0YS50b2tlblxuICAgICAgICB9LFxuICAgICAgICBkaXNwb3NpdGlvbjogQ09OU1QuVE9LRU5fRElTUE9TSVRJT05TLkZSSUVORExZLFxuICAgICAgICBzaWdodDoge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZGV0ZWN0aW9uTW9kZXM6IFt7XG4gICAgICAgICAgaWQ6ICdiYXNpY1NpZ2h0JyxcbiAgICAgICAgICByYW5nZTogMzAsXG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgIGl0ZW1zLFxuICAgICAgb3duZXJzaGlwOiB7XG4gICAgICAgIGRlZmF1bHQ6IHBhcnNlSW50KGRhdGEuZGVmYXVsdE93bmVyc2hpcCwgMTApXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY3RvckRhdGFcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVDaGFyYWN0ZXJGcm9tRGF0YSAoYWN0b3JEYXRhKSB7XG4gICAgY29uc3QgYWN0b3IgPSBhd2FpdCBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkLmNyZWF0ZUNoYXJhY3RlcihhY3RvckRhdGEpXG4gICAgY29uc3QgZnVuY3Rpb25JZCA9IEhvb2tzLm9uKCdyZW5kZXJBY3RvclNoZWV0JywgKGFwcCwgaHRtbCwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGFwcC5vYmplY3QuaWQgPT09IGFjdG9yLmlkKSB7XG4gICAgICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3Jywge1xuICAgICAgICAgIHR5cGU6ICdvcGVuLWNoYXJhY3RlcicsXG4gICAgICAgICAgbGlzdGVuZXI6IE9iamVjdC5rZXlzKGFjdG9yRGF0YS5vd25lcnNoaXApLmZpbmQoayA9PiBrICE9PSAnZGVmYXVsdCcpLFxuICAgICAgICAgIHBheWxvYWQ6IGFjdG9yLmlkXG4gICAgICAgIH0pXG4gICAgICAgIEhvb2tzLm9mZigncmVuZGVyQWN0b3JTaGVldCcsIGZ1bmN0aW9uSWQpXG4gICAgICB9XG4gICAgfSlcbiAgICBhY3Rvci5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVDaGFyYWN0ZXIgKGFjdG9yRGF0YSkge1xuICAgIGNvbnN0IGFjdG9yID0gYXdhaXQgQWN0b3IuY3JlYXRlKGFjdG9yRGF0YSlcbiAgICBhd2FpdCBhY3Rvci51cGRhdGUoe1xuICAgICAgJ3N5c3RlbS5hdHRyaWJzLmhwLnZhbHVlJzogYWN0b3IucmF3SHBNYXgsXG4gICAgICAnc3lzdGVtLmF0dHJpYnMubXAudmFsdWUnOiBhY3Rvci5yYXdNcE1heCxcbiAgICAgICdzeXN0ZW0uYXR0cmlicy5zYW4ubWF4JzogYWN0b3IucmF3TXBNYXhcbiAgICB9KVxuICAgIGF3YWl0IGFjdG9yLnJlc2V0RGFpbHlTYW5pdHkoKVxuICAgIHJldHVybiBhY3RvclxuICB9XG5cbiAgLyoqXG4gICAqIGNyZWF0ZSBpdCdzIHRoZSBkZWZhdWx0IHdheSB0byBjcmVhdGUgdGhlIENvQzdDaGFyYWN0ZXJXaXphcmRcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIFRyeSBhbmQgcHJlcmVxdXN0IGFzIG1hbnkgQ29DSURzIGR1ZSB0byB0aGUgd2F5IHRoZXkgaGF2ZSB0byBiZSBsb2FkZWRcbiAgICBvcHRpb25zID0gbWVyZ2VPYmplY3Qoe1xuICAgICAgc3RlcDogMCxcbiAgICAgIGRlZmF1bHRTZXR1cDogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkU2V0dXAnKSxcbiAgICAgIGRlZmF1bHRRdWFudGl0eTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVhbnRpdHknKSxcbiAgICAgIGRlZmF1bHRPd25lcnNoaXA6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZE93bmVyc2hpcCcpLFxuICAgICAgZGVmYXVsdEVyYTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnd29ybGRFcmEnKSxcbiAgICAgIHJlcm9sbHNFbmFibGVkOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRSZXJvbGxzJyksXG4gICAgICBlbmZvcmNlUG9pbnRCdXk6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFBvaW50QnV5JyksXG4gICAgICBxdWlja0ZpcmVWYWx1ZXM6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1aWNrRmlyZScpLFxuICAgICAgcGxhY2VhYmxlOiBkdXBsaWNhdGUoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVpY2tGaXJlJykpLFxuICAgICAgY2FjaGVDb0NJRDogQ29DN0ludmVzdGlnYXRvcldpemFyZC5sb2FkQ2FjaGVJdGVtQnlDb0NJRCgpLFxuICAgICAgY2FjaGVCYWNrc3RvcmllczogZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmZyb21Db0NJRFJlZ2V4QmVzdCh7IGNvY2lkUmVnRXhwOiAvXnJ0XFwuXFwuYmFja3N0b3J5LS8sIHR5cGU6ICdydCcgfSksXG4gICAgICBjYWNoZUl0ZW1zOiB7fSxcbiAgICAgIHNldHVwOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRTZXR1cCcpLFxuICAgICAgc2tpbGxJdGVtczoge30sXG4gICAgICBvY2N1cGF0aW9uR3JvdXBzOiB7fSxcbiAgICAgIGludmVzdGlnYXRvckl0ZW1zOiBbXSxcbiAgICAgIHNldHVwUG9pbnRzOiB7XG4gICAgICAgIHN0cjogJycsXG4gICAgICAgIGNvbjogJycsXG4gICAgICAgIHNpejogJycsXG4gICAgICAgIGRleDogJycsXG4gICAgICAgIGFwcDogJycsXG4gICAgICAgIGludDogJycsXG4gICAgICAgIHBvdzogJycsXG4gICAgICAgIGVkdTogJycsXG4gICAgICAgIGx1Y2s6ICcnXG4gICAgICB9LFxuICAgICAgc2V0dXBNb2RpZmllcnM6IHtcbiAgICAgICAgc3RyOiAwLFxuICAgICAgICBjb246IDAsXG4gICAgICAgIHNpejogMCxcbiAgICAgICAgZGV4OiAwLFxuICAgICAgICBhcHA6IDAsXG4gICAgICAgIGludDogMCxcbiAgICAgICAgcG93OiAwLFxuICAgICAgICBlZHU6IDAsXG4gICAgICAgIGx1Y2s6IDBcbiAgICAgIH0sXG4gICAgICBhcmNoZXR5cGU6ICcnLFxuICAgICAgY29yZUNoYXJhY3RlcmlzdGljOiAnJyxcbiAgICAgIG9jY3VwYXRpb246ICcnLFxuICAgICAgYmlvU2VjdGlvbnM6IFtdLFxuICAgICAgcGVyc29uYWw6IDAsXG4gICAgICBjcmVkaXRSYXRpbmc6IHtcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDBcbiAgICAgIH0sXG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGFnZTogJycsXG4gICAgICByZXF1aXJlc0FnZUFkanVzdG1lbnRzOiBmYWxzZSxcbiAgICAgIHJlc2lkZW5jZTogJycsXG4gICAgICBiaXJ0aHBsYWNlOiAnJyxcbiAgICAgIGxhbmd1YWdlOiAnJyxcbiAgICAgIGF2YXRhcjogJ2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi5zdmcnLFxuICAgICAgdG9rZW46ICdpY29ucy9zdmcvbXlzdGVyeS1tYW4uc3ZnJ1xuICAgIH0sIG9wdGlvbnMpXG4gICAgbmV3IENvQzdJbnZlc3RpZ2F0b3JXaXphcmQob3B0aW9ucykucmVuZGVyKHRydWUpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBjYW52YXMsIGZvdW5kcnksIGdhbWUsIFBsYWNlYWJsZXNMYXllciAqL1xuaW1wb3J0IHsgQ29DN0NoYXQgfSBmcm9tICcuL2NoYXQuanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBDb0M3QWN0b3JJbXBvcnRlckRpYWxvZyB9IGZyb20gJy4vYXBwcy9hY3Rvci1pbXBvcnRlci1kaWFsb2cuanMnXG5pbXBvcnQgeyBDb0M3Q29udGVudExpbmtEaWFsb2cgfSBmcm9tICcuL2FwcHMvY29jNy1jb250ZW50LWxpbmstZGlhbG9nLmpzJ1xuaW1wb3J0IHsgQ29DN0ludmVzdGlnYXRvcldpemFyZCB9IGZyb20gJy4vYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkLmpzJ1xuXG5jbGFzcyBDb0M3TWVudUxheWVyIGV4dGVuZHMgUGxhY2VhYmxlc0xheWVyIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLm9iamVjdHMgPSB7fVxuICB9XG5cbiAgc3RhdGljIGdldCBsYXllck9wdGlvbnMgKCkge1xuICAgIHJldHVybiBmb3VuZHJ5LnV0aWxzLm1lcmdlT2JqZWN0KHN1cGVyLmxheWVyT3B0aW9ucywge1xuICAgICAgbmFtZTogJ2NvYzdtZW51JyxcbiAgICAgIHpJbmRleDogNjBcbiAgICB9KVxuICB9XG5cbiAgc3RhdGljIGdldCBkb2N1bWVudE5hbWUgKCkge1xuICAgIHJldHVybiAnVG9rZW4nXG4gIH1cblxuICBnZXQgcGxhY2VhYmxlcyAoKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvQzdNZW51IHtcbiAgc3RhdGljIGdldEJ1dHRvbnMgKGNvbnRyb2xzKSB7XG4gICAgY2FudmFzLmNvYzdnbXRvb2xzID0gbmV3IENvQzdNZW51TGF5ZXIoKVxuICAgIGNvbnN0IGlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICBjb25zdCBzaG93SGlkZGVuRGV2TWVudSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2hpZGRlbmRldm1lbnUnKVxuICAgIGNvbnRyb2xzLnB1c2goe1xuICAgICAgbmFtZTogJ2NvYzdtZW51JyxcbiAgICAgIHRpdGxlOiAnQ29DNy5HbVRvb2xzJyxcbiAgICAgIGxheWVyOiAnY29jN2dtdG9vbHMnLFxuICAgICAgaWNvbjogJ2dhbWUtaWNvbiBnYW1lLWljb24tdGVudGFjbGUtc3RyaWtlJyxcbiAgICAgIHZpc2libGU6IGlzS2VlcGVyLFxuICAgICAgdG9vbHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICAgICAgICBpY29uOiAnZmFzIGZhLWFuZ2xlLWRvdWJsZS11cCcsXG4gICAgICAgICAgbmFtZTogJ2RldnBoYXNlJyxcbiAgICAgICAgICBhY3RpdmU6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2RldmVsb3BtZW50RW5hYmxlZCcpLFxuICAgICAgICAgIHRpdGxlOiAnQ29DNy5EZXZQaGFzZScsXG4gICAgICAgICAgb25DbGljazogYXN5bmMgdG9nZ2xlID0+IGF3YWl0IENvQzdVdGlsaXRpZXMudG9nZ2xlRGV2UGhhc2UodG9nZ2xlKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdG9nZ2xlOiB0cnVlLFxuICAgICAgICAgIGljb246ICdmYXMgZmEtdXNlci1lZGl0JyxcbiAgICAgICAgICBuYW1lOiAnY2hhcmNyZWF0ZScsXG4gICAgICAgICAgYWN0aXZlOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdjaGFyQ3JlYXRpb25FbmFibGVkJyksXG4gICAgICAgICAgdGl0bGU6ICdDb0M3LkNoYXJDcmVhdGlvbk1vZGUnLFxuICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jIHRvZ2dsZSA9PlxuICAgICAgICAgICAgYXdhaXQgQ29DN1V0aWxpdGllcy50b2dnbGVDaGFyQ3JlYXRpb24odG9nZ2xlKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgYnV0dG9uOiB0cnVlLFxuICAgICAgICAgIGljb246ICdmYXMgZmEtdXNlci1wbHVzJyxcbiAgICAgICAgICBuYW1lOiAnYWN0b3ItaW1wb3J0JyxcbiAgICAgICAgICB0aXRsZTogJ0NvQzcuQWN0b3JJbXBvcnRlcicsXG4gICAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4gYXdhaXQgQ29DN0FjdG9ySW1wb3J0ZXJEaWFsb2cuY3JlYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICBpY29uOiAnZmFzIGZhLXVzZXItY2hlY2snLFxuICAgICAgICAgIG5hbWU6ICdpbnZlc3RpZ2F0b3Itd2l6YXJkJyxcbiAgICAgICAgICB0aXRsZTogJ0NvQzcuSW52ZXN0aWdhdG9yV2l6YXJkLlRpdGxlJyxcbiAgICAgICAgICBvbkNsaWNrOiBhc3luYyAoKSA9PiBhd2FpdCBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkLmNyZWF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0b2dnbGU6IHRydWUsXG4gICAgICAgICAgaWNvbjogJ2ZhcyBmYS1jZXJ0aWZpY2F0ZScsXG4gICAgICAgICAgY2xhc3M6ICd4cF90b2dnbGUnLFxuICAgICAgICAgIG5hbWU6ICd4cHRvZ2dsZScsXG4gICAgICAgICAgYWN0aXZlOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd4cEVuYWJsZWQnKSxcbiAgICAgICAgICB0aXRsZTogJ0NvQzcudG9nZ2xlWFAnLFxuICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jIHRvZ2dsZSA9PiBhd2FpdCBDb0M3VXRpbGl0aWVzLnRvZ2dsZVhQR2Fpbih0b2dnbGUpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBidXR0b246IHRydWUsXG4gICAgICAgICAgaWNvbjogJ2dhbWUtaWNvbiBnYW1lLWljb24tY2FyZC1qb2tlcicsXG4gICAgICAgICAgbmFtZTogJ2Zha2Vyb2xsJyxcbiAgICAgICAgICB0aXRsZTogJ0NvQzcuRmFrZVJvbGwnLFxuICAgICAgICAgIG9uQ2xpY2s6IENvQzdDaGF0LmZha2VSb2xsTWVzc2FnZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgYnV0dG9uOiB0cnVlLFxuICAgICAgICAgIGljb246ICdmYXMgZmEtbW9vbicsXG4gICAgICAgICAgbmFtZTogJ3N0YXJ0cmVzdCcsXG4gICAgICAgICAgdGl0bGU6ICdDb0M3LnN0YXJ0UmVzdCcsXG4gICAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4gYXdhaXQgQ29DN1V0aWxpdGllcy5nZXRUYXJnZXQoKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgICBpZiAoc2hvd0hpZGRlbkRldk1lbnUpIHtcbiAgICAgIGNhbnZhcy5jb2M3RGV2VG9vbHMgPSBuZXcgQ29DN01lbnVMYXllcigpXG4gICAgICBjb250cm9scy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ2NvYzdEZXZNZW51JyxcbiAgICAgICAgdGl0bGU6XG4gICAgICAgICAgXCJEZXYgdG9vbHMuIElmIHlvdSBkb24ndCBrbm93IHdoYXQgaXQgaXMsIHlvdSBkb24ndCBuZWVkIGl0IGFuZCB5b3Ugc2hvdWxkbid0IHVzZSBpdCAhIVwiLFxuICAgICAgICBsYXllcjogJ2NvYzdEZXZUb29scycsXG4gICAgICAgIGljb246ICdnYW1lLWljb24gZ2FtZS1pY29uLXBvbGljZS1iYWRnZScsXG4gICAgICAgIHZpc2libGU6IGlzS2VlcGVyLFxuICAgICAgICB0b29sczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICAgICAgICAgIGljb246ICdnYW1lLWljb24gZ2FtZS1pY29uLWRpY2UtZmlyZScsXG4gICAgICAgICAgICBuYW1lOiAnYWx3YXlzQ3JpdCcsXG4gICAgICAgICAgICBhY3RpdmU6IGdhbWUuQ29DNy5kZXYuZGljZS5hbHdheXNDcml0LFxuICAgICAgICAgICAgdGl0bGU6ICdBbGwgcm9sbHMgd2lsbCBjcml0JyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRvZ2dsZSA9PiB7XG4gICAgICAgICAgICAgIGdhbWUuQ29DNy5kZXYuZGljZS5hbHdheXNGdW1ibGUgPSBmYWxzZVxuICAgICAgICAgICAgICBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzQ3JpdCA9IHRvZ2dsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdG9nZ2xlOiB0cnVlLFxuICAgICAgICAgICAgaWNvbjogJ2dhbWUtaWNvbiBnYW1lLWljb24tZmlyZS1leHRpbmd1aXNoZXInLFxuICAgICAgICAgICAgbmFtZTogJ2Fsd2F5c0Z1bWJsZScsXG4gICAgICAgICAgICBhY3RpdmU6IGdhbWUuQ29DNy5kZXYuZGljZS5hbHdheXNGdW1ibGUsXG4gICAgICAgICAgICB0aXRsZTogJ0FsbCByb2xscyB3aWxsIGZ1bWJsZScsXG4gICAgICAgICAgICBvbkNsaWNrOiB0b2dnbGUgPT4ge1xuICAgICAgICAgICAgICBnYW1lLkNvQzcuZGV2LmRpY2UuYWx3YXlzRnVtYmxlID0gdG9nZ2xlXG4gICAgICAgICAgICAgIGdhbWUuQ29DNy5kZXYuZGljZS5hbHdheXNDcml0ID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHJlbmRlckNvbnRyb2xzIChhcHAsIGh0bWwsIGRhdGEpIHtcbiAgICBjb25zdCBpc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG4gICAgY29uc3Qga2VlcGVyTWVudSA9IGh0bWwuZmluZCgnLmdhbWUtaWNvbi10ZW50YWNsZS1zdHJpa2UnKS5wYXJlbnQoKVxuICAgIGtlZXBlck1lbnUuYWRkQ2xhc3MoJ2NvYzctbWVudScpXG4gICAgaWYgKGlzS2VlcGVyKSB7XG4gICAgICBrZWVwZXJNZW51LmFmdGVyKFxuICAgICAgICAnPGxpIGNsYXNzPVwic2NlbmUtY29udHJvbCBjb2M3LW1lbnUgY29jNy1jcmVhdGUtbGlua1wiIHRpdGxlPVwiJyArXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNyZWF0ZUxpbmsnKSArXG4gICAgICAgICAgJ1wiPjxpIGNsYXNzPVwiZmFzIGZhLWxpbmtcIj48L2k+PC9saT4nXG4gICAgICApXG4gICAgfVxuICAgIGtlZXBlck1lbnUuYWZ0ZXIoXG4gICAgICAnPGxpIGNsYXNzPVwic2NlbmUtY29udHJvbCBjb2M3LW1lbnUgY29jNy1kaWNlLXJvbGxcIiB0aXRsZT1cIicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUm9sbERpY2UnKSArXG4gICAgICAgICdcIj48aSBjbGFzcz1cImdhbWUtaWNvbiBnYW1lLWljb24tZDEwXCI+PC9pPjwvbGk+J1xuICAgIClcbiAgICBodG1sXG4gICAgICAuZmluZCgnLmNvYzctbWVudS5jb2M3LWRpY2Utcm9sbCcpXG4gICAgICAuY2xpY2soZXZlbnQgPT4gQ29DN1V0aWxpdGllcy5yb2xsRGljZShldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5jb2M3LW1lbnUuY29jNy1jcmVhdGUtbGluaycpXG4gICAgICAuY2xpY2soZXZlbnQgPT4gQ29DN0NvbnRlbnRMaW5rRGlhbG9nLmNyZWF0ZShldmVudCkpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBnYW1lICovXG5pbXBvcnQgeyBDb0M3TGluayB9IGZyb20gJy4vY29jNy1saW5rLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0NhbnZhcyB7XG4gIHN0YXRpYyBnZXQgQ09DN19UWVBFU19TVVBQT1JURUQgKCkge1xuICAgIHJldHVybiBbJ0NvQzdMaW5rJ11cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBvbkRyb3BTb21ldGhpbmcgKGNhbnZhcywgZGF0YSkge1xuICAgIGlmIChcbiAgICAgIGRhdGEudHlwZSAmJlxuICAgICAgQ29DN0NhbnZhcy5DT0M3X1RZUEVTX1NVUFBPUlRFRC5pbmNsdWRlcyhkYXRhLnR5cGUpXG4gICAgKSB7XG4gICAgICBjb25zdCBncmlkU2l6ZSA9IGNhbnZhcy5zY2VuZS5ncmlkLnNpemVcbiAgICAgIGNvbnN0IHggPSBkYXRhLnggLSBncmlkU2l6ZSAvIDJcbiAgICAgIGNvbnN0IHkgPSBkYXRhLnkgLSBncmlkU2l6ZSAvIDJcbiAgICAgIGNvbnN0IGhlaWdodCA9IGdyaWRTaXplXG4gICAgICBjb25zdCB3aWR0aCA9IGdyaWRTaXplXG4gICAgICBsZXQgZHJvcFRhcmdldFRva2VucyA9IGNhbnZhcy50b2tlbnMucGxhY2VhYmxlcy5maWx0ZXIob2JqID0+IHtcbiAgICAgICAgY29uc3QgYyA9IG9iai5jZW50ZXJcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBOdW1iZXIuYmV0d2VlbihjLngsIHgsIHggKyB3aWR0aCkgJiZcbiAgICAgICAgICBOdW1iZXIuYmV0d2VlbihjLnksIHksIHkgKyBoZWlnaHQpXG4gICAgICAgIClcbiAgICAgIH0pIC8vIEZpbmQgZHJvcCB0YXJnZXQuXG4gICAgICBpZiAoIWRyb3BUYXJnZXRUb2tlbnMubGVuZ3RoKSBkcm9wVGFyZ2V0VG9rZW5zID0gY2FudmFzLnRva2Vucy5jb250cm9sbGVkIC8vIElmIG5vIHRhcmdldCB3aGlzcGVyIHRvIHNlbGVjdGVkIHRva2VuXG4gICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICBjYXNlICdDb0M3TGluayc6XG4gICAgICAgICAgaWYgKGRhdGEuY2hlY2sgPT09IENvQzdMaW5rLkNIRUNLX1RZUEUuRUZGRUNUKSB7XG4gICAgICAgICAgICBpZiAoZHJvcFRhcmdldFRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBkcm9wVGFyZ2V0VG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgQ29DN0xpbmsuX29uTGlua0FjdG9yQ2xpY2sodG9rZW4uYWN0b3IsIGRhdGEpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEFwcGx5IHRvIGV2ZXJ5b25lID8gb3Igb25seSBwbGF5ZXJzID8gb3Igbm9ib2R5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChkcm9wVGFyZ2V0VG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgQ29DN0xpbmsudG9XaGlzcGVyTWVzc2FnZShkYXRhLCBkcm9wVGFyZ2V0VG9rZW5zLmZpbHRlcih0ID0+IHQuYWN0b3Iub3duZXJzLmxlbmd0aCkubWFwKHQgPT4gdC5hY3RvcikpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIENvQzdMaW5rLnRvV2hpc3Blck1lc3NhZ2UoZGF0YSwgZ2FtZS51c2Vycy5wbGF5ZXJzLmZpbHRlcih1ID0+ICEhdS5jaGFyYWN0ZXIpLm1hcCh1ID0+IHUuY2hhcmFjdGVyKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICAvLyBUaGlzIGRvZXMgbm90IGFwcGVhciB0byBiZSBjYWxsZWQgaW4gRm91bmRyeVZUVCB2MTAsIHJlbW92ZSBpZiBub3QgbmVlZGVkXG4gICAgICAgIC8vIENPQzdfVFlQRVNfU1VQUE9SVEVEIGNoYXNlIGhhcyBiZWVuIHJlbW92ZWQgYmVjYXVzZSBvZiB0aGlzXG4gICAgICAgIC8vIGRlZmF1bHQ6XG4gICAgICAgIC8vICAgaWYgKGRhdGEuZG9jVXVpZCAmJiBkYXRhLmNhbGxCYWNrKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBkb2MgPSBDb0M3VXRpbGl0aWVzLlNmcm9tVXVpZChkYXRhLmRvY1V1aWQpXG4gICAgICAgIC8vICAgICBpZiAoXG4gICAgICAgIC8vICAgICAgIGRvY1tkYXRhLmNhbGxCYWNrXSAmJlxuICAgICAgICAvLyAgICAgICB0eXBlb2YgZG9jW2RhdGEuY2FsbEJhY2tdID09PSAnZnVuY3Rpb24nXG4gICAgICAgIC8vICAgICApIHtcbiAgICAgICAgLy8gICAgICAgdHJ5IHtcbiAgICAgICAgLy8gICAgICAgICBkYXRhLnNjZW5lID0gY2FudmFzLnNjZW5lLnV1aWRcbiAgICAgICAgLy8gICAgICAgICBkb2NbZGF0YS5jYWxsQmFja10oZGF0YSlcbiAgICAgICAgLy8gICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IubWVzc2FnZSlcbiAgICAgICAgLy8gICAgICAgfVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsIERpYWxvZywgZ2FtZSwgU2V0dGluZ3MgKi9cbmV4cG9ydCBjbGFzcyBDb0M3U2V0dGluZ3NEaXJlY3RvcnkgZXh0ZW5kcyBTZXR0aW5ncyB7XG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJyNzZXR0aW5ncy1nYW1lJylcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInRyaWdnZXItZGF0YS1taWdyYXRpb25cIj48aSBjbGFzcz1cImZhcyBmYS13cmVuY2hcIj48L2k+ICcgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuVHJpZ2dlckJ1dHRvbicpICtcbiAgICAgICAgICAgICc8L2J1dHRvbj4nXG4gICAgICAgIClcbiAgICAgIGh0bWwuZmluZCgnLnRyaWdnZXItZGF0YS1taWdyYXRpb24nKS5jbGljaygoKSA9PiB7XG4gICAgICAgIG5ldyBEaWFsb2coXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NaWdyYXRlLlRyaWdnZXJUaXRsZScpLFxuICAgICAgICAgICAgY29udGVudDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuVHJpZ2dlckNvbnRlbnRzJyksXG4gICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgIG1pZ3JhdGU6IHtcbiAgICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1pZ3JhdGUuVHJpZ2dlclJlc3RhcnQnKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCAnc3lzdGVtVXBkYXRlVmVyc2lvbicsIDApXG4gICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNsb3NlOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWJhblwiPjwvaT4nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NhbmNlbCcpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7fVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVmYXVsdDogJ2Nsb3NlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge31cbiAgICAgICAgKS5yZW5kZXIodHJ1ZSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgQ29tcGVuZGl1bURpcmVjdG9yeSwgRGlhbG9nLCBnYW1lICovXG5leHBvcnQgY2xhc3MgQ29DN0NvbXBlbmRpdW1EaXJlY3RvcnkgZXh0ZW5kcyBDb21wZW5kaXVtRGlyZWN0b3J5IHtcbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIGxldCB0cmFuc2xhdGVkID0gZmFsc2VcbiAgICBpZiAoZ2FtZS5pMThuLmxhbmcgPT09ICdlbicpIHtcbiAgICAgIHRyYW5zbGF0ZWQgPSB0cnVlXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZ2FtZS5iYWJlbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IHYgb2YgT2JqZWN0LnZhbHVlcyhnYW1lLmJhYmVsZS5tb2R1bGVzKSkge1xuICAgICAgICBpZiAodi5sYW5nID09PSBnYW1lLmkxOG4ubGFuZykge1xuICAgICAgICAgIHRyYW5zbGF0ZWQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0cmFuc2xhdGVkKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCdmb290ZXIuZGlyZWN0b3J5LWZvb3RlcicpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgJzxhIGNsYXNzPVwiY29tcGVuZGl1bS10cmFuc2xhdGlvblwiIHRpdGxlPVwiJyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSG93VG9UcmFuc2xhdGVUaXRsZScpICtcbiAgICAgICAgICAgICdcIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ib3dUb1RyYW5zbGF0ZVRpdGxlJykgK1xuICAgICAgICAgICAgJzwvYT4nXG4gICAgICAgIClcbiAgICAgIGh0bWwuZmluZCgnLmNvbXBlbmRpdW0tdHJhbnNsYXRpb24nKS5jbGljaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAgICc8cD4nICtcbiAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSG93VG9UcmFuc2xhdGVXYXJuaW5nJykgK1xuICAgICAgICAgICc8L3A+JyArXG4gICAgICAgICAgJzxwPicgK1xuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ib3dUb1RyYW5zbGF0ZUluc3RhbGxCYWJlbGUnKSArXG4gICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lkhvd1RvVHJhbnNsYXRlSW5zdGFsbFRyYW5zbGF0aW9uJykgK1xuICAgICAgICAgICc8L3A+JyArXG4gICAgICAgICAgJzxwPicgK1xuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ib3dUb1RyYW5zbGF0ZUVuYWJsZVRyYW5zbGF0aW9uJykgK1xuICAgICAgICAgICc8L3A+JyArXG4gICAgICAgICAgJzxwPicgK1xuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ib3dUb1RyYW5zbGF0ZU5vVHJhbnNsYXRpb24nKSArXG4gICAgICAgICAgJzwvcD4nXG4gICAgICAgIG5ldyBEaWFsb2coXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ib3dUb1RyYW5zbGF0ZVRpdGxlJyksXG4gICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLFxuICAgICAgICAgICAgYnV0dG9uczoge30sXG4gICAgICAgICAgICBkZWZhdWx0OiAnY2xvc2UnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7fVxuICAgICAgICApLnJlbmRlcih0cnVlKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBBY3RvckRpcmVjdG9yeSwgQ09OU1QsIGdhbWUgKi9cbmltcG9ydCB7IENvQzdBY3RvckltcG9ydGVyRGlhbG9nIH0gZnJvbSAnLi9hcHBzL2FjdG9yLWltcG9ydGVyLWRpYWxvZy5qcydcbmltcG9ydCB7IENvQzdJbnZlc3RpZ2F0b3JXaXphcmQgfSBmcm9tICcuL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdBY3RvckRpcmVjdG9yeSBleHRlbmRzIEFjdG9yRGlyZWN0b3J5IHtcbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgLy8gQWxsb3cgSW52ZXN0aWdhdG9yIFdpemFyZFxuICAgIC8vICAqIElmIHRoZSB1c2VyIHJvbGUgaXMgYWxsb3dlZCB0byBjcmVhdGUgYWN0b3JzXG4gICAgLy8gICogSWYgdGhlIHVzZXIgaGFzIGxlc3Mgb3duZWQgYWN0b3JzIHRoYW4gYWxsb3dlZCBpbiBzZXR0aW5nc1xuICAgIGxldCBhbGxvd1dpemFyZCA9IGdhbWUudXNlci5yb2xlID49IENPTlNULlVTRVJfUEVSTUlTU0lPTlMuQUNUT1JfQ1JFQVRFLmRlZmF1bHRSb2xlXG4gICAgaWYgKCFhbGxvd1dpemFyZCkge1xuICAgICAgY29uc3QgYWxsb3dlZCA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFF1YW50aXR5JylcbiAgICAgIGlmIChhbGxvd2VkID4gMCkge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IGdhbWUuYWN0b3JzLmZpbHRlcihhID0+IFthLm93bmVyc2hpcC5kZWZhdWx0LCAoYS5vd25lcnNoaXBbZ2FtZS51c2VyLmlkXSA/PyBDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk5PTkUpXS5pbmNsdWRlcyhDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk9XTkVSKSkubGVuZ3RoXG4gICAgICAgIGFsbG93V2l6YXJkID0gZXhpc3RpbmcgPCBhbGxvd2VkXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFsbG93V2l6YXJkKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCdmb290ZXIuZGlyZWN0b3J5LWZvb3RlcicpXG4gICAgICAgIC5hcHBlbmQoJzxhIGNsYXNzPVwiaW52ZXN0aWdhdG9yLXdpemFyZFwiPicgKyBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuSW52ZXN0aWdhdG9yV2l6YXJkLlRpdGxlJykgKyAnPC9hPicpXG4gICAgICBodG1sLmZpbmQoJy5pbnZlc3RpZ2F0b3Itd2l6YXJkJykuY2xpY2soKCkgPT4ge1xuICAgICAgICBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkLmNyZWF0ZSgpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChnYW1lLnVzZXIucm9sZSA+PSBDT05TVC5VU0VSX1BFUk1JU1NJT05TLkFDVE9SX0NSRUFURS5kZWZhdWx0Um9sZSkge1xuICAgICAgaHRtbFxuICAgICAgICAuZmluZCgnZm9vdGVyLmRpcmVjdG9yeS1mb290ZXInKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICc8YSBjbGFzcz1cImFjdG9yLWltcG9ydFwiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFjdG9ySW1wb3J0ZXInKSArXG4gICAgICAgICAgICAnPC9hPidcbiAgICAgICAgKVxuICAgICAgaHRtbC5maW5kKCcuYWN0b3ItaW1wb3J0JykuY2xpY2soKCkgPT4ge1xuICAgICAgICBDb0M3QWN0b3JJbXBvcnRlckRpYWxvZy5jcmVhdGUoKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBDaGF0TWVzc2FnZSwgRGlhbG9nLCBnYW1lLCBtZXJnZU9iamVjdCwgUm9sbCwgcmVuZGVyVGVtcGxhdGUsIHVpICovXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi9pdGVtLmpzJ1xuaW1wb3J0IHsgU2FuQ2hlY2tDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9zYW4tY2hlY2suanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3U3BlbGwgZXh0ZW5kcyBDb0M3SXRlbSB7XG4gIGNvbnN0cnVjdG9yIChkYXRhLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhLmltZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvcGVudGFncmFtLXJvc2Uuc3ZnJ1xuICAgIH1cbiAgICBzdXBlcihkYXRhLCBjb250ZXh0KVxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHRcbiAgfVxuXG4gIGFzeW5jIGNhc3QgKCkge1xuICAgIGlmICghdGhpcy5pc093bmVkKSB7XG4gICAgICAvKiogVGhpcyBpcyBub3Qgb3duZWQgYnkgYW55IEFjdG9yICovXG4gICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm90T3duZWQnKSlcbiAgICB9XG4gICAgY29uc3QgY29zdHMgPSB0aGlzLnN5c3RlbS5jb3N0c1xuICAgIGNvbnN0IGxvc3NlcyA9IFtdXG4gICAgbGV0IGNvbnZlcnRTdXJwbHVzSW50b0hpdFBvaW50c1xuICAgIGNvc3RzLm1hZ2ljUG9pbnRzID0gQ29DN1V0aWxpdGllcy5pc0Zvcm11bGEoY29zdHMubWFnaWNQb2ludHMpXG4gICAgICA/IChhd2FpdCBuZXcgUm9sbChjb3N0cy5tYWdpY1BvaW50cykucm9sbCh7IGFzeW5jOiB0cnVlIH0pKS50b3RhbFxuICAgICAgOiBwYXJzZUludChjb3N0cy5tYWdpY1BvaW50cylcbiAgICBpZiAoXG4gICAgICBjb3N0cy5tYWdpY1BvaW50cyAmJlxuICAgICAgY29zdHMubWFnaWNQb2ludHMgPiB0aGlzLmFjdG9yLnN5c3RlbS5hdHRyaWJzLm1wLnZhbHVlXG4gICAgKSB7XG4gICAgICBjb252ZXJ0U3VycGx1c0ludG9IaXRQb2ludHMgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgY29udmVydGVkSGl0UG9pbnRzID1cbiAgICAgICAgICBjb3N0cy5tYWdpY1BvaW50cyAtIHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnMubXAudmFsdWVcbiAgICAgICAgY29uc3QgY29udmVydGVkTWFnaWNQb2ludHMgPSBjb3N0cy5tYWdpY1BvaW50cyAtIGNvbnZlcnRlZEhpdFBvaW50c1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAnICcsXG4gICAgICAgICAgY29udGVudDogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Ob3RFbm91Z2hNYWdpY1BvaW50cycsIHtcbiAgICAgICAgICAgIGFjdG9yTWFnaWNQb2ludHM6IHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnMubXAudmFsdWUsXG4gICAgICAgICAgICBjb252ZXJ0ZWRIaXRQb2ludHMsXG4gICAgICAgICAgICBjb252ZXJ0ZWRNYWdpY1BvaW50cyxcbiAgICAgICAgICAgIG9yaWdpbmFsTWFnaWNQb2ludHM6IGNvc3RzLm1hZ2ljUG9pbnRzLFxuICAgICAgICAgICAgc3BlbGw6IHRoaXMubmFtZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIGNhbmNlbDoge1xuICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtdGltZXNcIj48L2k+JyxcbiAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5DYW5jZWwnKSxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2NlZWQ6IHtcbiAgICAgICAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrXCI+PC9pPicsXG4gICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUHJvY2VlZCcpLFxuICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvc3RzLmhpdFBvaW50cyA9IGNvbnZlcnRlZEhpdFBvaW50c1xuICAgICAgICAgICAgICAgIGNvc3RzLm1hZ2ljUG9pbnRzID0gY29udmVydGVkTWFnaWNQb2ludHNcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWZhdWx0OiAnY2FuY2VsJyxcbiAgICAgICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnZGlhbG9nJ11cbiAgICAgICAgfVxuICAgICAgICBuZXcgRGlhbG9nKGRhdGEpLnJlbmRlcih0cnVlKVxuICAgICAgfSlcbiAgICAgIGlmICghY29udmVydFN1cnBsdXNJbnRvSGl0UG9pbnRzKSByZXR1cm5cbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29zdHMpKSB7XG4gICAgICBpZiAoIXZhbHVlIHx8IE51bWJlcih2YWx1ZSkgPT09IDApIGNvbnRpbnVlXG4gICAgICBsb3NzZXMucHVzaChhd2FpdCB0aGlzLnJlc29sdmVMb3NzZXMoa2V5LCB2YWx1ZSkpXG4gICAgfVxuICAgIGNvbnN0IHRlbXBsYXRlID0gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvc3BlbGwvY2hhdC5odG1sJ1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWVcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHsgZGVzY3JpcHRpb24sIGxvc3NlcyB9KVxuICAgIHJldHVybiBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7IGFjdG9yOiB0aGlzLmFjdG9yIH0pLFxuICAgICAgZmxhdm9yOiB0aGlzLm5hbWUsXG4gICAgICBjb250ZW50OiBodG1sXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIHJlc29sdmVMb3NzZXMgKGNoYXJhY3RlcmlzdGljLCB2YWx1ZSkge1xuICAgIGxldCBjaGFyYWN0ZXJpc3RpY05hbWVcbiAgICBsZXQgbG9zc1xuICAgIGlmIChDb0M3VXRpbGl0aWVzLmlzRm9ybXVsYSh2YWx1ZSkpIHtcbiAgICAgIGxvc3MgPSAoYXdhaXQgbmV3IFJvbGwodmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICB9IGVsc2Uge1xuICAgICAgbG9zcyA9IHBhcnNlSW50KHZhbHVlKVxuICAgIH1cbiAgICBjb25zdCBhY3RvckRhdGEgPSB0aGlzLmFjdG9yLnN5c3RlbVxuICAgIHN3aXRjaCAoY2hhcmFjdGVyaXN0aWMpIHtcbiAgICAgIGNhc2UgJ2hpdFBvaW50cyc6XG4gICAgICAgIGNoYXJhY3RlcmlzdGljTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IaXRQb2ludHMnKVxuICAgICAgICB0aGlzLmFjdG9yLmRlYWxEYW1hZ2UobG9zcywgeyBpZ25vcmVBcm1vcjogdHJ1ZSB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2FuaXR5JzpcbiAgICAgICAgY2hhcmFjdGVyaXN0aWNOYW1lID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNhbml0eVBvaW50cycpXG4gICAgICAgIHRoaXMuZ3JhbnRTYW5pdHlMb3NzKGxvc3MpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtYWdpY1BvaW50cyc6XG4gICAgICAgIGNoYXJhY3RlcmlzdGljTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NYWdpY1BvaW50cycpXG4gICAgICAgIHRoaXMuYWN0b3Iuc2V0TXAoYWN0b3JEYXRhLmF0dHJpYnMubXAudmFsdWUgLSBsb3NzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncG93ZXInOlxuICAgICAgICBjaGFyYWN0ZXJpc3RpY05hbWUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NIQVJBQy5Qb3dlcicpXG4gICAgICAgIHRoaXMuYWN0b3IudXBkYXRlKHtcbiAgICAgICAgICAnc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUnOlxuICAgICAgICAgICAgYWN0b3JEYXRhLmNoYXJhY3RlcmlzdGljcy5wb3cudmFsdWUgLSBsb3NzXG4gICAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiB7IGNoYXJhY3RlcmlzdGljTmFtZSwgbG9zcyB9XG4gIH1cblxuICAvKiogQnlwYXNzIHRoZSBTYW5pdHkgY2hlY2sgYW5kIGp1c3Qgcm9sbCB0aGUgZGFtYWdlICovXG4gIGFzeW5jIGdyYW50U2FuaXR5TG9zcyAodmFsdWUpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IFNhbkNoZWNrQ2FyZC50ZW1wbGF0ZVxuICAgIGxldCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHt9KVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7IGFjdG9yOiB0aGlzLmFjdG9yIH0pLFxuICAgICAgZmxhdm9yOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNhc3RpbmdTcGVsbCcsIHtcbiAgICAgICAgc3BlbGw6IHRoaXMubmFtZVxuICAgICAgfSksXG4gICAgICBjb250ZW50OiBodG1sXG4gICAgfSlcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgbWVzc2FnZS5nZXRIVE1MKClcbiAgICBpZiAodHlwZW9mIGNhcmQubGVuZ3RoICE9PSAndW5kZWZpbmVkJyAmJiBjYXJkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3Qgc2FuaXR5TG9zcyA9IHZhbHVlXG4gICAgICBodG1sID0gY2FyZC5maW5kKCcuY2hhdC1jYXJkJylbMF1cbiAgICAgIGh0bWwuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhY3RvcktleTogdGhpcy5hY3Rvci5pZCxcbiAgICAgICAgICBmYXN0Rm9yd2FyZDogZmFsc2UsXG4gICAgICAgICAgc2FuRGF0YToge1xuICAgICAgICAgICAgc2FuTWluOiBzYW5pdHlMb3NzLFxuICAgICAgICAgICAgc2FuTWF4OiBzYW5pdHlMb3NzXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgY29uc3Qgc2FuaXR5Q2hlY2sgPSBTYW5DaGVja0NhcmQuZ2V0RnJvbUNhcmQoaHRtbClcbiAgICAgIGF3YWl0IHNhbml0eUNoZWNrLmJ5cGFzc1JvbGxTYW4oKVxuICAgICAgYXdhaXQgc2FuaXR5Q2hlY2sucm9sbFNhbkxvc3MoKVxuICAgICAgc2FuaXR5Q2hlY2sudXBkYXRlQ2hhdENhcmQoKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZSAoZGF0YSwgY29udGV4dCkge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0aGlzLmNvbnRleHQucGFyZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIHRoaXMuY29udGV4dC5ib29rSWQgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBsZXQgaXRlbVxuICAgICAgbGV0IGJvb2tcbiAgICAgIC8vIGxldCBzcGVsbERhdGFcbiAgICAgIGlmICh0aGlzLmNvbnRleHQucGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIGl0ZW0gPSBnYW1lLml0ZW1zLmdldCh0aGlzLmNvbnRleHQuYm9va0lkKVxuICAgICAgICBib29rID0gaXRlbS50b09iamVjdCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib29rID0gdGhpcy5jb250ZXh0LnBhcmVudC5pdGVtcy5nZXQodGhpcy5jb250ZXh0LmJvb2tJZCkudG9PYmplY3QoKVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDAsIGltID0gYm9vay5zeXN0ZW0uc3BlbGxzLmxlbmd0aDsgaSA8IGltOyBpKyspIHtcbiAgICAgICAgaWYgKGJvb2suc3lzdGVtLnNwZWxsc1tpXS5faWQgPT09IHRoaXMuaWQpIHtcbiAgICAgICAgICBib29rLnN5c3RlbS5zcGVsbHNbaV0gPSBtZXJnZU9iamVjdChib29rLnN5c3RlbS5zcGVsbHNbaV0sIGRhdGEpXG4gICAgICAgICAgLy8gc3BlbGxEYXRhID0gYm9vay5zeXN0ZW0uc3BlbGxzW2ldXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNvbnRleHQucGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIGF3YWl0IGl0ZW0udXBkYXRlKHtcbiAgICAgICAgICAnc3lzdGVtLnNwZWxscyc6IGJvb2suc3lzdGVtLnNwZWxsc1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLnNoZWV0Lm9iamVjdCA9IG5ldyBDb0M3U3BlbGwoXG4gICAgICAgICAgYm9vay5zeXN0ZW0uc3BlbGxzLmZpbmQoc3BlbGwgPT4gc3BlbGwuX2lkID09PSB0aGlzLmlkKSxcbiAgICAgICAgICB0aGlzLmNvbnRleHRcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb250ZXh0LnBhcmVudC51cGRhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtib29rXSlcbiAgICAgICAgdGhpcy5zaGVldC5vYmplY3QgPSBuZXcgQ29DN1NwZWxsKFxuICAgICAgICAgIGJvb2suc3lzdGVtLnNwZWxscy5maW5kKHNwZWxsID0+IHNwZWxsLl9pZCA9PT0gdGhpcy5pZCksXG4gICAgICAgICAgdGhpcy5jb250ZXh0XG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHRoaXMuc2hlZXQucmVuZGVyKHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLnVwZGF0ZShkYXRhLCBjb250ZXh0KVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsIENoYXRNZXNzYWdlLCBkdXBsaWNhdGUsIGdhbWUsIHJlbmRlclRlbXBsYXRlLCBSb2xsLCB1aSAqL1xuaW1wb3J0IHsgU2FuQ2hlY2tDYXJkIH0gZnJvbSAnLi4vLi4vY2hhdC9jYXJkcy9zYW4tY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbS5qcydcbmltcG9ydCB7IENvQzdTcGVsbCB9IGZyb20gJy4uL3NwZWxsL2RhdGEuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3Qm9vayBleHRlbmRzIENvQzdJdGVtIHtcbiAgY29uc3RydWN0b3IgKGRhdGEsIGNvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEuaW1nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGF0YS5pbWcgPSAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9zZWNyZXQtYm9vay5zdmcnXG4gICAgfVxuICAgIHN1cGVyKGRhdGEsIGNvbnRleHQpXG4gIH1cblxuICAvKiogQ29udmVydCB0aGUgZGlmZmljdWx0eSBvbiB0aGUgc2VsZWN0IGVsZW1lbnQgdG8gYSBmb3JtYXQgYWNjZXB0ZWQgKi9cbiAgc3RhdGljIGNvbnZlcnREaWZmaWN1bHR5IChkaWZmaWN1bHR5KSB7XG4gICAgc3dpdGNoIChkaWZmaWN1bHR5KSB7XG4gICAgICBjYXNlICdoYXJkJzpcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuaGFyZFxuICAgICAgY2FzZSAnZXh0cmVtZSc6XG4gICAgICAgIHJldHVybiBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmV4dHJlbWVcbiAgICAgIGNhc2UgJ2NyaXRpY2FsJzpcbiAgICAgICAgcmV0dXJuIENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwuY3JpdGljYWxcbiAgICAgIGNhc2UgJ3VucmVhZGFibGUnOlxuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5pbXBvc3NpYmxlXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQ29DN0NoZWNrLmRpZmZpY3VsdHlMZXZlbC5yZWd1bGFyXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvciB0aGUgZnV0dXJlOiBhZGQgYWR2YW5jZWQgcnVsZXMgZm9yIGxlYXJuaW5nIHNwZWxscywgcGcuIDE3NlxuICAgKiBAcGFyYW0gW3tEb2N1bWVudH1dIHNwZWxsc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEb2N1bWVudD59IHVwZGF0ZSB0byBJdGVtIGRvY3VtZW50XG4gICAqL1xuICBhc3luYyBhZGRTcGVsbHMgKHNwZWxscykge1xuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLnN5c3RlbS5zcGVsbHNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuc3lzdGVtLnNwZWxscylcbiAgICAgIDogW11cbiAgICBmb3IgKGNvbnN0IHNwZWxsIG9mIHNwZWxscykge1xuICAgICAgY29sbGVjdGlvbi5wdXNoKHNwZWxsKVxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLnNwZWxscyc6IGNvbGxlY3Rpb24gfSlcbiAgfVxuXG4gIGFzeW5jIHNwZWxsRGV0YWlsIChpbmRleCkge1xuICAgIGNvbnN0IGlzS2VlcGVyID0gZ2FtZS51c2VyLmlzR01cbiAgICBjb25zdCBkYXRhID0gdGhpcy5zeXN0ZW0uc3BlbGxzW2luZGV4XVxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuYWN0b3IgPyB0aGlzLmFjdG9yIDogbnVsbFxuICAgIGNvbnN0IHNwZWxsID0gbmV3IENvQzdTcGVsbChkYXRhLCB7IHBhcmVudCwgYm9va0lkOiB0aGlzLmlkIH0pXG4gICAgaWYgKGlzS2VlcGVyIHx8IHNwZWxsLnN5c3RlbS5sZWFybmVkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgc3BlbGwuc2hlZXQucmVuZGVyKHRydWUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYWxsIHRoZSBsb2dpYyBpbnZvbHZpbmcgdGhlIGF0dGVtcHQgb2YgaW5pdGlhbCByZWFkaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBAc2VlIGxpc3RlbiBAc2VlIGdyYW50SW5pdGlhbFJlYWRpbmdcbiAgICovXG4gIGFzeW5jIGF0dGVtcHRJbml0aWFsUmVhZGluZyAoKSB7XG4gICAgLyoqIENvbnZlcnRzIHRoZSBkaWZmaWN1bHR5IHZhbHVlIHRvIHNvbWV0aGluZyBhY2NlcHRlZCBieSBDb0M3Q2hlY2sgKi9cbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gQ29DN0Jvb2suY29udmVydERpZmZpY3VsdHkoXG4gICAgICB0aGlzLnN5c3RlbS5kaWZmaWN1bHR5TGV2ZWxcbiAgICApXG4gICAgY29uc3QgbGFuZ3VhZ2UgPSB0aGlzLnN5c3RlbS5sYW5ndWFnZVxuICAgIGNvbnN0IHNraWxsID0gdGhpcy5hY3Rvcj8uZ2V0U2tpbGxzQnlOYW1lKGxhbmd1YWdlKVxuICAgIGlmICghc2tpbGwpIHtcbiAgICAgIC8qKiBUaGlzIGlzIG5vdCBvd25lZCBieSBhbnkgQWN0b3IgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RPd25lZCcpKVxuICAgIH0gZWxzZSBpZiAoc2tpbGwubGVuZ3RoID09PSAwKSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBBY3RvciB3aG8gb3ducyB0aGlzIGRvZXMgbm90IGhhdmUgdGhlIHNraWxsIG9mXG4gICAgICAgKiB0aGUgbGFuZ3VhZ2UgaW4gd2hpY2ggaXQgd2FzIHdyaXR0ZW5cbiAgICAgICAqL1xuICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuVW5rbm93bkxhbmd1YWdlJywgeyBhY3RvcjogdGhpcy5hY3Rvci5uYW1lIH0pXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICBjaGVjay5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICAgIGNoZWNrLnNraWxsID0gc2tpbGxbMF0uaWRcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5XG4gICAgICBjaGVjay5wYXJlbnQgPSB0aGlzLnV1aWRcbiAgICAgIGNoZWNrLmNvbnRleHQgPSAnSU5JVElBTF9SRUFESU5HJ1xuICAgICAgY2hlY2suZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5SZWFkQXR0ZW1wdCcsIHtcbiAgICAgICAgYm9vazogdGhpcy5uYW1lLFxuICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgZGlmZmljdWx0eTogdGhpcy5zeXN0ZW0uZGlmZmljdWx0eUxldmVsXG4gICAgICB9KVxuICAgICAgYXdhaXQgY2hlY2sucm9sbCgpXG4gICAgICByZXR1cm4gYXdhaXQgY2hlY2sudG9NZXNzYWdlKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRzIGlzIGNhbGxlZCBldmVyeSB0aW1lIHRoZSB1c2VyIGludGVyYWN0cyBpbiBzb21lIHdheSB3aXRoIHByb2dyZXNzIGJhclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAncmVzZXQnIHx8ICdpbmNyZWFzZScgfHwgJ2RlY3JlYXNlJ1xuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUganVzdCBzbyB0aGF0IHByb2dyZXNzIGlzIG5vdCBncmVhdGVyIHRoYW4gbmVjZXNzYXJ5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPERvY3VtZW50Pn0gdXBkYXRlIHRvIEl0ZW0gZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIGNoYW5nZVByb2dyZXNzIChtb2RlLCB2YWx1ZSkge1xuICAgIGlmICghdGhpcy5pc093bmVkICYmIG1vZGUgIT09ICdyZXNldCcpIHtcbiAgICAgIC8qKiBUaGlzIGlzIG5vdCBvd25lZCBieSBhbnkgQWN0b3IgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RPd25lZCcpKVxuICAgIH1cbiAgICBpZiAoIXRoaXMuc3lzdGVtLmluaXRpYWxSZWFkaW5nICYmIG1vZGUgIT09ICdyZXNldCcpIHtcbiAgICAgIC8qKiBBY3RvciBkaWQgbm90IHBlcmZvcm1lZCBhbiBpbml0aWFsIHJlYWRpbmcgZmlyc3QgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkluaXRpYWxSZWFkaW5nTmVlZGVkJywge1xuICAgICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yLm5hbWUsXG4gICAgICAgICAgYm9vazogdGhpcy5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIGlmICghdGhpcy5zeXN0ZW0udHlwZS5teXRob3MgJiYgbW9kZSAhPT0gJ3Jlc2V0Jykge1xuICAgICAgcmV0dXJuIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vdE15dGhvc1RvbWUnKSlcbiAgICB9XG4gICAgY29uc3QgbmVjZXNzYXJ5ID0gdGhpcy5zeXN0ZW0uc3R1ZHkubmVjZXNzYXJ5XG4gICAgbGV0IGZ1bGxTdHVkeSA9IHRoaXMuc3lzdGVtLmZ1bGxTdHVkeVxuICAgIGxldCBwcm9ncmVzcyA9IHRoaXMuc3lzdGVtLnN0dWR5LnByb2dyZXNzXG4gICAgaWYgKGlzTmFOKHByb2dyZXNzKSkge1xuICAgICAgLyoqIEl0IHNlZW1zIGEgbGl0dGxlIGltcG9zc2libGUsIGJ1dCB5b3UgbmV2ZXIga25vdyAqL1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IDBcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICh2YWx1ZSAmJiBwcm9ncmVzcyA+IHZhbHVlKSB7XG4gICAgICAvKipcbiAgICAgICAqIFByb2dyZXNzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB2YWx1ZSBlbnRlcmVkIGJ5IHVzZXIgYXMgbmVjZXNzYXJ5LFxuICAgICAgICogcmVzZXQgcHJvZ3Jlc3MgdG8gYmUgZXF1YWwgbmVjZXNzYXJ5IGFuZCBjb21wbGV0ZSBmdWxsIHN0dWR5XG4gICAgICAgKi9cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5mdWxsU3R1ZHknOiArK2Z1bGxTdHVkeSxcbiAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IHZhbHVlXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tcGxldGVGdWxsU3R1ZHkoKVxuICAgIH1cbiAgICBpZiAobW9kZSA9PT0gJ2luY3JlYXNlJyAmJiBwcm9ncmVzcyA8IG5lY2Vzc2FyeSkge1xuICAgICAgLyoqIFVzZXIgY2xpY2tlZCBvbiBwbHVzIGljb24gdG8gaW5jcmVhc2UgcHJvZ3Jlc3MgKi9cbiAgICAgIGlmICgoYXdhaXQgdGhpcy5jaGVja0V4aGF1c3Rpb24oKSkgIT09IGZhbHNlKSByZXR1cm5cbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6ICsrcHJvZ3Jlc3NcbiAgICAgIH0pXG4gICAgICBpZiAocHJvZ3Jlc3MgPT09IG5lY2Vzc2FyeSkge1xuICAgICAgICAvKiogQ29tcGxldGUgZnVsbCBzdHVkeSBpZiBwcm9ncmVzcyBpcyBlcXVhbCBuZWNlc3NhcnkgKi9cbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLmZ1bGxTdHVkeSc6ICsrZnVsbFN0dWR5IH0pXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdyYW50RnVsbFN0dWR5KClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdkZWNyZWFzZScgJiYgcHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAvKiogVXNlciBjbGlja2VkIG9uIG1pbnVzIGljb24gdG8gZGVjcmVhc2UgcHJvZ3Jlc3MgKi9cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uc3R1ZHkucHJvZ3Jlc3MnOiAtLXByb2dyZXNzXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNoZWNrRXhoYXVzdGlvbiAoKSB7XG4gICAgY29uc3QgYWN0b3JNeXRob3NWYWx1ZSA9IHRoaXMuYWN0b3I/LmN0aHVsaHVNeXRob3NcbiAgICBjb25zdCBteXRob3NSYXRpbmcgPSB0aGlzLnN5c3RlbS5teXRob3NSYXRpbmdcbiAgICBpZiAodGhpcy5zeXN0ZW0uaW5pdGlhbFJlYWRpbmcpIHtcbiAgICAgIGlmIChhY3Rvck15dGhvc1ZhbHVlID49IG15dGhvc1JhdGluZykge1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IHRoaXMuc3lzdGVtLnN0dWR5Lm5lY2Vzc2FyeVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQm9va0hhc05vdGhpbmdNb3JlVG9UZWFjaCcsIHtcbiAgICAgICAgICAgIGFjdG9yOiB0aGlzLmFjdG9yLm5hbWUsXG4gICAgICAgICAgICBib29rOiB0aGlzLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ3JhbnRGdWxsU3R1ZHkgKCkge1xuICAgIGlmICghdGhpcy5zeXN0ZW0udHlwZS5teXRob3MpIHJldHVyblxuICAgIGlmICgoYXdhaXQgdGhpcy5jaGVja0V4aGF1c3Rpb24oKSkgIT09IGZhbHNlKSByZXR1cm5cbiAgICBjb25zdCBhY3Rvck15dGhvc1ZhbHVlID0gdGhpcy5hY3Rvci5jdGh1bGh1TXl0aG9zXG4gICAgY29uc3QgZGV2ZWxvcG1lbnRzID0gW11cbiAgICBjb25zdCBteXRob3NSYXRpbmcgPSB0aGlzLnN5c3RlbS5teXRob3NSYXRpbmdcbiAgICBsZXQgbXl0aG9zRmluYWwgPSB0aGlzLnN5c3RlbS5nYWlucy5jdGh1bGh1TXl0aG9zLmZpbmFsXG4gICAgaWYgKGFjdG9yTXl0aG9zVmFsdWUgKyBteXRob3NGaW5hbCA+IG15dGhvc1JhdGluZykge1xuICAgICAgZm9yIChsZXQgaW5kZXggPSAxOyBpbmRleCA8PSBteXRob3NGaW5hbDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoYWN0b3JNeXRob3NWYWx1ZSArIG15dGhvc0ZpbmFsIC0gaW5kZXggPD0gbXl0aG9zUmF0aW5nKSB7XG4gICAgICAgICAgbXl0aG9zRmluYWwgLT0gaW5kZXhcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmVhZGVyIGF1dG9tYXRpY2FsbHkgZ2FpbnMgYSBza2lsbCB0aWNrIGZvciB0aGVcbiAgICAgKiBsYW5ndWFnZSBpbiB3aGljaCB0aGUgYm9vayBpcyB3cml0dGVuXG4gICAgICovXG4gICAgZGV2ZWxvcG1lbnRzLnB1c2goXG4gICAgICB7XG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db0NJREZsYWcua2V5cy5pLnNraWxsLmN0aHVsaHUtbXl0aG9zJyksXG4gICAgICAgIGdhaW46IHBhcnNlSW50KG15dGhvc0ZpbmFsKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogdGhpcy5zeXN0ZW0ubGFuZ3VhZ2UsXG4gICAgICAgIGdhaW46ICdkZXZlbG9wbWVudCdcbiAgICAgIH1cbiAgICApXG4gICAgYXdhaXQgdGhpcy5ncmFudFNraWxsRGV2ZWxvcG1lbnQoZGV2ZWxvcG1lbnRzKVxuICAgIGF3YWl0IHRoaXMucm9sbFNhbml0eUxvc3MoKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAnc3lzdGVtLmZ1bGxTdHVkaWVzJzogKyt0aGlzLnN5c3RlbS5mdWxsU3R1ZGllc1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSB1cGRhdGUgdG8gSXRlbSBkb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgZ3JhbnRJbml0aWFsUmVhZGluZyAoKSB7XG4gICAgLyoqIElmIGluaXRpYWwgcmVhZGluZyBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdGhlcmUgaXMgbm90aGluZyB0byBkbyBoZXJlICovXG4gICAgaWYgKHRoaXMuc3lzdGVtLmluaXRpYWxSZWFkaW5nKSByZXR1cm5cbiAgICBjb25zdCBkZXZlbG9wbWVudHMgPSBbXVxuICAgIGNvbnN0IG15dGhvcyA9IHtcbiAgICAgIGdhaW5zOiB0aGlzLnN5c3RlbS5nYWlucy5jdGh1bGh1TXl0aG9zLmluaXRpYWwsXG4gICAgICB0eXBlOiB0aGlzLnN5c3RlbS50eXBlLm15dGhvc1xuICAgIH1cbiAgICBjb25zdCBvY2N1bHQgPSB7XG4gICAgICBnYWluczogdGhpcy5zeXN0ZW0uZ2FpbnMub2NjdWx0LFxuICAgICAgdHlwZTogdGhpcy5zeXN0ZW0udHlwZS5vY2N1bHRcbiAgICB9XG4gICAgY29uc3Qgb3RoZXIgPSB7XG4gICAgICBnYWluczogdGhpcy5zeXN0ZW0uZ2FpbnMub3RoZXJzLFxuICAgICAgdHlwZTogdGhpcy5zeXN0ZW0udHlwZS5vdGhlclxuICAgIH1cbiAgICBpZiAobXl0aG9zLnR5cGUgJiYgbXl0aG9zLmdhaW5zKSB7XG4gICAgICBkZXZlbG9wbWVudHMucHVzaCh7XG4gICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db0NJREZsYWcua2V5cy5pLnNraWxsLmN0aHVsaHUtbXl0aG9zJyksXG4gICAgICAgIGdhaW46IHBhcnNlSW50KG15dGhvcy5nYWlucylcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmIChvY2N1bHQudHlwZSAmJiBvY2N1bHQuZ2FpbnMpIHtcbiAgICAgIGRldmVsb3BtZW50cy5wdXNoKHtcbiAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk9jY3VsdCcpLFxuICAgICAgICBnYWluOiBwYXJzZUludChvY2N1bHQuZ2FpbnMpXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAob3RoZXIudHlwZSkge1xuICAgICAgZm9yIChjb25zdCBza2lsbCBvZiBvdGhlci5nYWlucykge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gc2tpbGwubmFtZS5tYXRjaCgvXiguKykgXFwoKC4rKVxcKSQvKVxuICAgICAgICAvKiogU2FuaXRpemF0aW9uIHRvIGRlYWwgd2l0aCBzcGVjaWFsaXphdGlvbnMgKi9cbiAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICBza2lsbC5zcGVjaWFsaXphdGlvbiA9IHBhdHRlcm5bMV1cbiAgICAgICAgICBza2lsbC5uYW1lID0gcGF0dGVyblsyXVxuICAgICAgICB9XG4gICAgICAgIGlmIChza2lsbC52YWx1ZSAhPT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIHNraWxsLnZhbHVlID0gKFxuICAgICAgICAgICAgYXdhaXQgbmV3IFJvbGwoc2tpbGwudmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICkudG90YWxcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpbGwudmFsdWUpIHtcbiAgICAgICAgICBkZXZlbG9wbWVudHMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBza2lsbC5uYW1lLFxuICAgICAgICAgICAgZ2Fpbjogc2tpbGwudmFsdWUsXG4gICAgICAgICAgICBzcGVjaWFsaXphdGlvbjogc2tpbGwuc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuZ3JhbnRTa2lsbERldmVsb3BtZW50KGRldmVsb3BtZW50cylcbiAgICBpZiAoKG15dGhvcy50eXBlIHx8IG9jY3VsdC50eXBlKSAmJiB0aGlzLnN5c3RlbS5zYW5pdHlMb3NzKSB7XG4gICAgICBhd2FpdCB0aGlzLnJvbGxTYW5pdHlMb3NzKClcbiAgICB9XG4gICAgLyoqIE1hcmsgaW5pdGlhbCByZWFkaW5nIGFzIGNvbXBsZXRlICovXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5pbml0aWFsUmVhZGluZyc6IHRydWUgfSlcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge0l0ZW19IHNwZWxsbGVhcm5lZCBUaGUgc3BlbGwgdGhhdCB3YXMgbGVhcm5lZCBzdWNjZXNzZnVsbHkgZnJvbSBib29rXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBncmFudFNwZWxsTGVhcm5pbmcgKHNwZWxsbGVhcm5lZCkge1xuICAgIGZvciAoY29uc3Qgc3BlbGwgb2YgdGhpcy5zeXN0ZW0uc3BlbGxzKSB7XG4gICAgICBpZiAoc3BlbGwuX2lkID09PSBzcGVsbGxlYXJuZWQuX2lkKSB7XG4gICAgICAgIHNwZWxsLnN5c3RlbS5sZWFybmVkID0gdHJ1ZVxuICAgICAgICAvLyBEb2VzIHRoZSBhY3RvciBhbHJlYWR5IGhhcyBhIHNwZWxsIG9mIHRoYXQgbmFtZT8gVGhlbiBkbyBub3QgYWRkIHRoZSBzcGVsbFxuICAgICAgICBjb25zdCBleGlzdGluZ1NwZWxsID0gYXdhaXQgdGhpcy5hY3Rvci5pdGVtcy5maW5kKFxuICAgICAgICAgIGl0ZW0gPT5cbiAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gJ3NwZWxsJyAmJiBpdGVtLm5hbWUgPT09IHNwZWxsbGVhcm5lZC5uYW1lXG4gICAgICAgIClcbiAgICAgICAgaWYgKCFleGlzdGluZ1NwZWxsKSB7XG4gICAgICAgICAgc3BlbGxsZWFybmVkLnN5c3RlbS5sZWFybmVkID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuU3BlbGxBbHJlYWR5TGVhcm5lZCcsIHtcbiAgICAgICAgICAgICAgc3BlbGw6IHNwZWxsbGVhcm5lZC5uYW1lLFxuICAgICAgICAgICAgICBib29rOiB0aGlzLm5hbWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIC8vIFNhdmUgc3BlbGwgbGlzdCBvZiBib29rXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLnNwZWxscyc6IHRoaXMuc3lzdGVtLnNwZWxscyB9KVxuICAgIC8vIEFkZCBsZWFybmVkIHNwZWxsIHRvIGFjdG9yXG4gICAgaWYgKHNwZWxsbGVhcm5lZC5zeXN0ZW0ubGVhcm5lZCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5pbmZvKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlNwZWxsU3VjY2Vzc2Z1bGx5TGVhcm5lZCcsIHtcbiAgICAgICAgICBzcGVsbDogc3BlbGxsZWFybmVkLm5hbWUsXG4gICAgICAgICAgYm9vazogdGhpcy5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBhd2FpdCB0aGlzLmFjdG9yLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgW1xuICAgICAgICBkdXBsaWNhdGUoc3BlbGxsZWFybmVkKVxuICAgICAgXSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjZWl2ZXMgYW4gQXJyYXkgb2Ygc2tpbGxzIGFuZCBoYW5kbGVzIGFsbCB0aGUgbG9naWMgdG8gZGV2ZWxvcCB0aGVtXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRldmVsb3BtZW50cyBAc2VlIGdyYW50SW5pdGlhbFJlYWRpbmdcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSB1cGRhdGUgdG8gSXRlbSBkb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgZ3JhbnRTa2lsbERldmVsb3BtZW50IChkZXZlbG9wbWVudHMpIHtcbiAgICBpZiAoZGV2ZWxvcG1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG4gICAgZm9yIChjb25zdCBkZXZlbG9wbWVudCBvZiBkZXZlbG9wbWVudHMpIHtcbiAgICAgIC8qKiBUZXN0IGlmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gemVybyAqL1xuICAgICAgaWYgKCFkZXZlbG9wbWVudC5nYWluKSBjb250aW51ZVxuICAgICAgbGV0IHNraWxsID0gYXdhaXQgdGhpcy5hY3Rvci5nZXRTa2lsbHNCeU5hbWUoZGV2ZWxvcG1lbnQubmFtZSlcbiAgICAgIC8qKiBUaGUgQWN0b3IgZG9lcyBub3Qgb3duIHRoaXMgc2tpbGwsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAqIEZpcnN0LCBjaGVjayBpZiB0aGVyZSBpcyBhbnkgc2tpbGwgaW4gdGhlIGdhbWUgd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgICAgKiBJbiB0aGUgbGFzdCBhbHRlcm5hdGl2ZSBqdXN0IGNyZWF0ZSBhIG5ldyBnZW5lcmljIHNraWxsXG4gICAgICAgKi9cbiAgICAgIGlmIChza2lsbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdTa2lsbCA9IGF3YWl0IGdhbWUuaXRlbXMuZmluZChcbiAgICAgICAgICBpdGVtID0+XG4gICAgICAgICAgICBpdGVtLnR5cGUgPT09ICdza2lsbCcgJiYgaXRlbS5uYW1lID09PSBkZXZlbG9wbWVudC5uYW1lXG4gICAgICAgIClcbiAgICAgICAgaWYgKGV4aXN0aW5nU2tpbGwpIHtcbiAgICAgICAgICBza2lsbCA9IGF3YWl0IHRoaXMuYWN0b3IuY3JlYXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbXG4gICAgICAgICAgICBkdXBsaWNhdGUoZXhpc3RpbmdTa2lsbClcbiAgICAgICAgICBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNraWxsID0gYXdhaXQgdGhpcy5hY3Rvci5jcmVhdGVTa2lsbChkZXZlbG9wbWVudC5uYW1lLCAwKVxuICAgICAgICAgIGlmIChkZXZlbG9wbWVudC5zcGVjaWFsaXphdGlvbikge1xuICAgICAgICAgICAgYXdhaXQgc2tpbGxbMF0udXBkYXRlKHtcbiAgICAgICAgICAgICAgJ3N5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWwnOiB0cnVlLFxuICAgICAgICAgICAgICAnc3lzdGVtLnNwZWNpYWxpemF0aW9uJzogZGV2ZWxvcG1lbnQuc3BlY2lhbGl6YXRpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBza2lsbCA9IHNraWxsWzBdXG4gICAgICBpZiAoZGV2ZWxvcG1lbnQuZ2FpbiA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAvKiogU2ltcGx5IG1hcmsgdGhlIHNraWxsIGZvciBkZXZlbG9wbWVudCAqL1xuICAgICAgICBhd2FpdCBza2lsbC5mbGFnRm9yRGV2ZWxvcGVtZW50KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgcmVjZWl2ZWQgdmFsdWUgZ2FpbmVkIGlzIG51bWVyaWMsIGVuc3VyZSB0aGF0IHRoZSBhbW91bnRcbiAgICAgICAgICogd2lsbCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHZhbHVlIG9mIDk5XG4gICAgICAgICAqL1xuICAgICAgICBpZiAoc2tpbGwudmFsdWUgKyBkZXZlbG9wbWVudC5nYWluID4gOTkpIHtcbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDE7IGluZGV4IDw9IGRldmVsb3BtZW50LmdhaW47IGluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChza2lsbC52YWx1ZSArIGRldmVsb3BtZW50LmdhaW4gLSBpbmRleCA8PSA5OSkge1xuICAgICAgICAgICAgICBkZXZlbG9wbWVudC5nYWluIC09IGluZGV4XG4gICAgICAgICAgICAgIGF3YWl0IHNraWxsLmluY3JlYXNlRXhwZXJpZW5jZShkZXZlbG9wbWVudC5nYWluKVxuICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBza2lsbC5pbmNyZWFzZUV4cGVyaWVuY2UoZGV2ZWxvcG1lbnQuZ2FpbilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2hvd0RldmVsb3BtZW50c1RhYmxlKGRldmVsb3BtZW50cylcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzZXF1ZW50IHBlcmlvZHMgb2YgZnVsbCBzdHVkeSBtYXkgYmUgdW5kZXJ0YWtlbiwgdGhlIGRpZmZlcmVuY2UgYmVpbmdcbiAgICogdGhhdCBlYWNoIHN0dWR5IHdpbGwgdGFrZSB0d2ljZSBhcyBsb25nIGFzIHRoZSBwcmV2aW91cyBvbmVcbiAgICogQHJldHVybnMge1Byb21pc2UuPERvY3VtZW50Pn0gdXBkYXRlIHRvIEl0ZW0gZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIHJlZG9GdWxsU3R1ZHkgKCkge1xuICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS5zdHVkeS5wcm9ncmVzcyc6IDAgfSlcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoe1xuICAgICAgJ3N5c3RlbS5zdHVkeS5uZWNlc3NhcnknOiB0aGlzLnN5c3RlbS5zdHVkeS5uZWNlc3NhcnkgKiAyXG4gICAgfSlcbiAgfVxuXG4gIC8qKiBCeXBhc3MgdGhlIFNhbml0eSBjaGVjayBhbmQganVzdCByb2xsIHRoZSBkYW1hZ2UgKi9cbiAgYXN5bmMgcm9sbFNhbml0eUxvc3MgKCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zeXN0ZW0uc2FuaXR5TG9zc1xuICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcnKSByZXR1cm5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IFNhbkNoZWNrQ2FyZC50ZW1wbGF0ZVxuICAgIGxldCBodG1sID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHt9KVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBDaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgc3BlYWtlcjogQ2hhdE1lc3NhZ2UuZ2V0U3BlYWtlcih7IGFjdG9yOiB0aGlzLmFjdG9yIH0pLFxuICAgICAgZmxhdm9yOiBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LlJlYWRpbmdNeXRob3NUb21lJywge1xuICAgICAgICBib29rOiB0aGlzLm5hbWVcbiAgICAgIH0pLFxuICAgICAgY29udGVudDogaHRtbFxuICAgIH0pXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IG1lc3NhZ2UuZ2V0SFRNTCgpXG4gICAgaWYgKHR5cGVvZiBjYXJkLmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FyZC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IHNhbml0eUxvc3MgPSAoYXdhaXQgbmV3IFJvbGwodmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KSkudG90YWxcbiAgICAgIGh0bWwgPSBjYXJkLmZpbmQoJy5jaGF0LWNhcmQnKVswXVxuICAgICAgaHRtbC5kYXRhc2V0Lm9iamVjdCA9IGVzY2FwZShcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFjdG9yS2V5OiB0aGlzLmFjdG9yLmlkLFxuICAgICAgICAgIGZhc3RGb3J3YXJkOiBmYWxzZSxcbiAgICAgICAgICBzYW5EYXRhOiB7XG4gICAgICAgICAgICBzYW5NaW46IHNhbml0eUxvc3MsXG4gICAgICAgICAgICBzYW5NYXg6IHNhbml0eUxvc3NcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBjb25zdCBzYW5pdHlDaGVjayA9IFNhbkNoZWNrQ2FyZC5nZXRGcm9tQ2FyZChodG1sKVxuICAgICAgYXdhaXQgc2FuaXR5Q2hlY2suYnlwYXNzUm9sbFNhbigpXG4gICAgICBhd2FpdCBzYW5pdHlDaGVjay5yb2xsU2FuTG9zcygpXG4gICAgICBzYW5pdHlDaGVjay51cGRhdGVDaGF0Q2FyZCgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYSB0YWJsZSBpbiB0aGUgY2hhdCB3aXRoIGFsbCBza2lsbCBkZXZlbG9wbWVudHMgb2J0YWluZWRcbiAgICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBkZXZlbG9wbWVudHNcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSBjcmVhdGUgQ2hhdE1lc3NhZ2VcbiAgICovXG4gIGFzeW5jIHNob3dEZXZlbG9wbWVudHNUYWJsZSAoZGV2ZWxvcG1lbnRzKSB7XG4gICAgLyoqIFByZXBhcmUgdGhlIEFycmF5IGRhdGEgdG8gYmUgc2hvd24gdG8gdGhlIGVuZCB1c2VyIGluIGNoYXQgKi9cbiAgICBmb3IgKGNvbnN0IGRldmVsb3BtZW50IG9mIGRldmVsb3BtZW50cykge1xuICAgICAgaWYgKGRldmVsb3BtZW50LnNwZWNpYWxpemF0aW9uKSB7XG4gICAgICAgIGRldmVsb3BtZW50Lm5hbWUgPSBgJHtkZXZlbG9wbWVudC5zcGVjaWFsaXphdGlvbn0gKCR7ZGV2ZWxvcG1lbnQubmFtZX0pYFxuICAgICAgfVxuICAgICAgaWYgKGRldmVsb3BtZW50LmdhaW4gPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgZGV2ZWxvcG1lbnQuZ2FpbiA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5NYXJrZWRGb3JEZXZlbG9wbWVudCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZlbG9wbWVudC5nYWluID0gYCske2RldmVsb3BtZW50LmdhaW59ICR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICdDb0M3LlBvaW50cydcbiAgICAgICAgKX1gXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRlbXBsYXRlID0gJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvYm9vay9kZXZlbG9wbWVudC5odG1sJ1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgeyBkZXZlbG9wbWVudHMgfSlcbiAgICByZXR1cm4gYXdhaXQgQ2hhdE1lc3NhZ2UuY3JlYXRlKHtcbiAgICAgIHVzZXI6IGdhbWUudXNlci5pZCxcbiAgICAgIHNwZWFrZXI6IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoeyBhY3RvcjogdGhpcy5hY3RvciB9KSxcbiAgICAgIGZsYXZvcjogZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5HYWluc0ZvclJlYWRpbmcnLCB7IGJvb2s6IHRoaXMubmFtZSB9KSxcbiAgICAgIGNvbnRlbnQ6IGh0bWxcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgYXR0ZW1wdFNwZWxsTGVhcm5pbmcgKGlkKSB7XG4gICAgaWYgKCF0aGlzLmlzT3duZWQpIHtcbiAgICAgIC8qKiBUaGlzIGlzIG5vdCBvd25lZCBieSBhbnkgQWN0b3IgKi9cbiAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RPd25lZCcpKVxuICAgIH1cbiAgICBpZiAoIXRoaXMuc3lzdGVtLmluaXRpYWxSZWFkaW5nKSB7XG4gICAgICAvKiogQWN0b3IgZGlkIG5vdCBwZXJmb3JtZWQgYW4gaW5pdGlhbCByZWFkaW5nIGZpcnN0ICovXG4gICAgICByZXR1cm4gdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5Jbml0aWFsUmVhZGluZ05lZWRlZCcsIHtcbiAgICAgICAgICBhY3RvcjogdGhpcy5hY3Rvci5uYW1lLFxuICAgICAgICAgIGJvb2s6IHRoaXMubmFtZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cbiAgICBjb25zdCBzcGVsbCA9IHRoaXMuc3lzdGVtLnNwZWxscy5maW5kKHNwZWxsID0+IHtcbiAgICAgIHJldHVybiBzcGVsbC5faWQgPT09IGlkXG4gICAgfSlcbiAgICBpZiAoc3BlbGwpIHtcbiAgICAgIGNvbnN0IGNoZWNrID0gbmV3IENvQzdDaGVjaygpXG4gICAgICBjaGVjay5hY3RvciA9IHRoaXMuYWN0b3JcbiAgICAgIGNoZWNrLmRpZmZpY3VsdHkgPSBDb0M3Q2hlY2suZGlmZmljdWx0eUxldmVsLmhhcmRcbiAgICAgIGNoZWNrLnBhcmVudCA9IHRoaXMudXVpZFxuICAgICAgY2hlY2suZmxhdm9yID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5MZWFyblNwZWxsQXR0ZW1wdCcsIHtcbiAgICAgICAgYm9vazogdGhpcy5uYW1lLFxuICAgICAgICBzcGVsbDogc3BlbGwubmFtZVxuICAgICAgfSlcbiAgICAgIGNoZWNrLmNvbnRleHQgPSAnU1BFTExfTEVBUk5JTkcnXG4gICAgICBjaGVjay5zcGVsbCA9IHNwZWxsXG4gICAgICBhd2FpdCBjaGVjay5yb2xsQ2hhcmFjdGVyaXN0aWMoJ2ludCcpXG4gICAgICBhd2FpdCBjaGVjay50b01lc3NhZ2UoKVxuICAgIH1cbiAgfVxuXG4gIC8qKiBMaXN0ZW4gdG8gY2hhbmdlcyBvbiB0aGUgY2hlY2sgY2FyZCAqL1xuICBhc3luYyB1cGRhdGVSb2xsIChyb2xsKSB7XG4gICAgY29uc3QgY2hlY2sgPSBDb0M3Q2hlY2suZnJvbVJvbGxTdHJpbmcocm9sbClcblxuICAgIC8qKiBXaWxsIGtub3cgaWYgdXNlciBwdXNoIHRoZSByb2xsIG9yIHNwZW5kIEx1Y2sgKi9cbiAgICBpZiAoY2hlY2sucGFzc2VkKSB7XG4gICAgICBpZiAoY2hlY2suY29udGV4dCA9PT0gJ0lOSVRJQUxfUkVBRElORycpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ3JhbnRJbml0aWFsUmVhZGluZygpXG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmNvbnRleHQgPT09ICdTUEVMTF9MRUFSTklORycpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ3JhbnRTcGVsbExlYXJuaW5nKGNoZWNrLnNwZWxsKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIENoYXRNZXNzYWdlLCBkZWVwQ2xvbmUsIEZvcm1EYXRhRXh0ZW5kZWQsIGZvdW5kcnksIGZyb21VdWlkLCBnYW1lLCBIb29rcywgbWVyZ2VPYmplY3QsIHJlbmRlclRlbXBsYXRlLCBzb2NrZXRsaWIsIHVpICovXG5cbmNvbnN0IEVDQ19DTEFTUyA9ICdlbmhhbmNlZC1jaGF0LWNhcmQnXG5cbmNvbnN0IFBFUk1JU1NJT05fVFlQRSA9IHtcbiAgR006ICdnbScsIC8vIHVzZXIgaXMgR01cbiAgTk9UX0dNOiAnIWdtJywgLy8gdXNlciBpcyBOT1QgZ20gKGhpZGUgdG8gR00gaW4gY2FzZSBvZiB2aXNpYmlsaXR5KVxuICBTUEVBS0VSOiAnc3BlYWtlcicsIC8vIHRoZSBzcGVha2VyIGlzIGFuIGFjdG9yIGNvbnRyb2xlZC9vd25lZCBieSB0aGUgdXNlclxuICBVU0VSOiAndXNlcicsIC8vIHRoZSB1c2VyIGlzIHRoZSBtZXNzYWdlJ3MgYXV0aG9yXG4gIEVWRVJZT05FOiAnYWxsJywgLy8gZXF1aXZhbGVudCB0byBlbXB0eSBzdHJpbmdcbiAgQkxBQ0tMSVNUOiAnYmxhY2tsaXN0JyAvLyBpbnZlcnQgdGhlIGxvZ2ljXG59XG5cbmNvbnN0IFNUQVRFID0ge1xuICBPTjogJ3N3aXRjaGVkLW9uJyxcbiAgT0ZGOiAnc3dpdGNoZWQtb2ZmJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVDQyAoLi4uY2FyZGNsYXNzKSB7XG4gIC8vIEhvb2tzLm9uY2UoJ2luaXQnLCBmdW5jdGlvbiAoKSB7XG4gIC8vIH0pXG5cbiAgSG9va3Mub24oJ3JlbmRlckNoYXRMb2cnLCAoYXBwLCBodG1sLCBkYXRhKSA9PlxuICAgIEVuaGFuY2VkQ2hhdENhcmRMaWIuaW5qZWN0Q1NTKGFwcCwgaHRtbCwgZGF0YSlcbiAgKVxuXG4gIEhvb2tzLm9uY2UoJ3NvY2tldGxpYi5yZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICBFbmhhbmNlZENoYXRDYXJkTGliLnJlZ2lzdGVyKGNhcmRjbGFzcylcbiAgICBFbmhhbmNlZENoYXRDYXJkTGliLnNvY2tldCA9IHNvY2tldGxpYi5yZWdpc3RlclN5c3RlbShnYW1lLnN5c3RlbS5pZCkgLy8gU29ja2V0IGlzIGF0dGFjaGVkIHRvIGN1cnJlbnQgc3lzdGVtXG4gICAgRW5oYW5jZWRDaGF0Q2FyZExpYi5zb2NrZXQucmVnaXN0ZXIoJ3VwZGF0ZU1lc3NhZ2UnLCB1cGRhdGVNZXNzYWdlKVxuICAgIEVuaGFuY2VkQ2hhdENhcmRMaWIuc29ja2V0LnJlZ2lzdGVyKCdHTVVwZGF0ZScsIEdNVXBkYXRlKVxuICAgIEVuaGFuY2VkQ2hhdENhcmRMaWIuc29ja2V0LnJlZ2lzdGVyKCdhZHZpc2UnLCBhZHZpc2UpXG4gICAgLy8gRW5oYW5jZWRDaGF0Q2FyZExpYi5zb2NrZXQucmVnaXN0ZXIoJ2dtdHJhZGVpdGVtdG8nLCBnbXRyYWRlaXRlbXRvKVxuICB9KVxuXG4gIEhvb2tzLm9uKCdyZW5kZXJDaGF0TWVzc2FnZScsIChhcHAsIGh0bWwsIGRhdGEpID0+XG4gICAgRW5oYW5jZWRDaGF0Q2FyZC5iaW5kTGlzdGVuZXJzKGh0bWwpXG4gIClcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVzc2FnZSAobWVzc2FnZUlkLCBuZXdDb250ZW50KSB7XG4gIGNvbnN0IGNoYXRNZXNzYWdlID0gZ2FtZS5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKVxuXG4gIGF3YWl0IGNoYXRNZXNzYWdlLnVwZGF0ZSh7XG4gICAgY29udGVudDogbmV3Q29udGVudFxuICB9KVxufVxuXG5hc3luYyBmdW5jdGlvbiBHTVVwZGF0ZSAoZGF0YSwgb3B0aW9ucywgY2FyZENsYXNzTmFtZSwgbWVzc2FnZUlkID0gdW5kZWZpbmVkKSB7XG4gIGNvbnN0IGNhcmQgPSBhd2FpdCBFbmhhbmNlZENoYXRDYXJkLmZyb21EYXRhKFxuICAgIGRhdGEsXG4gICAgb3B0aW9ucyxcbiAgICBjYXJkQ2xhc3NOYW1lLFxuICAgIG1lc3NhZ2VJZFxuICApXG4gIGF3YWl0IGNhcmQuR01VcGRhdGUoKVxuICAvLyBjb25zdCBkaWZmID0gZm91bmRyeS51dGlscy5kaWZmT2JqZWN0KCBkYXRhLCBjYXJkLnRvT2JqZWN0KCkpXG4gIHJldHVybiBjYXJkLnRvT2JqZWN0KClcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWR2aXNlICgpIHt9XG5cbmNsYXNzIEVuaGFuY2VkQ2hhdENhcmRMaWIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy50eXBlcyA9IG5ldyBNYXAoKVxuICAgIHRoaXMuc29ja2V0ID0gbnVsbFxuICAgIC8vIHRoaXMuZW5oYW5jZWRDaGF0Q2FyZENsYXNzID0gRW5oYW5jZWRDaGF0Q2FyZFxuICB9XG5cbiAgc3RhdGljIGluamVjdENTUyAoKSB7XG4gICAgbGV0IHN0eWxlID0gJCgnaGVhZCcpLmZpbmQoJ3N0eWxlJylcbiAgICBpZiAoIXN0eWxlPy5sZW5ndGgpIHtcbiAgICAgICQoJ2hlYWQnKS5hcHBlbmQoJCgnPHN0eWxlICB0eXBlPVwidGV4dC9jc3NcIj48L3N0eWxlPicpKVxuICAgICAgc3R5bGUgPSAkKCdoZWFkJykuZmluZCgnc3R5bGUnKVxuICAgIH1cbiAgICBzdHlsZS5hcHBlbmQoXG4gICAgICBgLmVjYy1yZXN0cmljdGVkIHtjb2xvcjogcmVkfVxuICAgIC5lY2MtcmVzdHJpY3RlZDpob3ZlciB7Y3Vyc29yOiBub3QtYWxsb3dlZH1gXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIHNldCBzb2NrZXQgKHgpIHtcbiAgICBpZiAoIWdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIpIHtcbiAgICAgIGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIgPSBuZXcgRW5oYW5jZWRDaGF0Q2FyZExpYigpXG4gICAgfVxuICAgIGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIuc29ja2V0ID0geFxuICB9XG5cbiAgc3RhdGljIGdldCBzb2NrZXQgKCkge1xuICAgIGlmICghZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignRUNDIG5vdCBJbml0aWFsaXplZCcpXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIGlmICghZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYi5zb2NrZXQpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0VDQyBubyBzb2NrZXQnKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICByZXR1cm4gZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYi5zb2NrZXRcbiAgfVxuXG4gIHN0YXRpYyBnZXQgdHlwZXMgKCkge1xuICAgIGlmICghZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYikge1xuICAgICAgZ2FtZS5lbmhhbmNlZENoYXRDYXJkc0xpYiA9IG5ldyBFbmhhbmNlZENoYXRDYXJkTGliKClcbiAgICB9XG4gICAgcmV0dXJuIGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIudHlwZXNcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlciAoY2FyZENvbnN0cnVjdG9ycykge1xuICAgIGNhcmRDb25zdHJ1Y3RvcnMuZm9yRWFjaChjYXJkQ29uc3RydWN0b3IgPT4ge1xuICAgICAgaWYgKCFFbmhhbmNlZENoYXRDYXJkTGliLnR5cGVzLmdldChjYXJkQ29uc3RydWN0b3IubmFtZSkpIHtcbiAgICAgICAgRW5oYW5jZWRDaGF0Q2FyZExpYi50eXBlcy5zZXQoY2FyZENvbnN0cnVjdG9yLm5hbWUsIGNhcmRDb25zdHJ1Y3RvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gc3RhdGljIGdtX29uVG9nZ2xlIChkYXRhKXtcbiAgLy8gICB1aS5ub3RpZmljYXRpb25zLmluZm8oICdnbV9vblRvZ2dsZScpXG4gIC8vIH1cbn1cblxuZnVuY3Rpb24gc2V0QnlQYXRoIChvYmosIHBhdGgsIHZhbHVlKSB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpXG4gIGxldCBvID0gb2JqXG4gIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGlmICghb1twYXJ0c1tpXV0pIG9bcGFydHNbaV1dID0ge31cbiAgICAgIG8gPSBvW3BhcnRzW2ldXVxuICAgIH1cbiAgfVxuXG4gIG9bcGFydHNbcGFydHMubGVuZ3RoIC0gMV1dID0gdmFsdWVcbn1cblxuZnVuY3Rpb24gZ2V0QnlQYXRoIChvYmosIHBhdGgpIHtcbiAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcuJylcbiAgbGV0IG8gPSBvYmpcbiAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgaWYgKCFvW3BhcnRzW2ldXSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgbyA9IG9bcGFydHNbaV1dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9bcGFydHNbcGFydHMubGVuZ3RoIC0gMV1dXG59XG5cbmV4cG9ydCBjbGFzcyBFbmhhbmNlZENoYXRDYXJkIHtcbiAgLy8gc3RhdGljIHJlZ2lzdGVyIChjYXJkQ29uc3RydWN0b3IpIHtcbiAgLy8gICBFbmhhbmNlZENoYXRDYXJkTGliLnJlZ2lzdGVyKGNhcmRDb25zdHJ1Y3RvcilcbiAgLy8gfVxuXG4gIGNvbnN0cnVjdG9yIChkYXRhID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgICBpZiAoIXRoaXMuZGF0YS5mbGFncykgdGhpcy5kYXRhLmZsYWdzID0ge31cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9uc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBvbmx5IG9uY2UgYmVmb3JlIHNlbmRpbmcgbWVzc2FnZSB0byBjaGF0LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFzeW5jIGluaXRpYWxpemUgKCkge31cblxuICBnZXQgb3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdE9wdGlvbnMsIHRoaXMuX29wdGlvbnMpXG4gIH1cblxuICBzZXQgb3B0aW9ucyAoeCkge1xuICAgIHRoaXMuX29wdGlvbnMgPSB4XG4gIH1cblxuICBnZXQgdGVtcGxhdGUgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGVtcGxhdGVcbiAgfVxuXG4gIGdldCBjc3NDbGFzc2VzICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsYXNzZXM/LmpvaW4oJyAnKVxuICB9XG5cbiAgZ2V0IHNwZWFrZXIgKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMub29jKSByZXR1cm4gZ2FtZS51c2VyXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnNwZWFrZXIgJiZcbiAgICAgIENoYXRNZXNzYWdlLmdldFNwZWFrZXJBY3Rvcih0aGlzLm9wdGlvbnMuc3BlYWtlcilcbiAgICApIHtcbiAgICAgIHJldHVybiBDaGF0TWVzc2FnZS5nZXRTcGVha2VyQWN0b3IodGhpcy5vcHRpb25zLnNwZWFrZXIpXG4gICAgfVxuICAgIHJldHVybiBnYW1lLnVzZXJcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIC8vIGF3YWl0IHRoaXMuYXNzaWduT2JqZWN0cygpXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhcmQ6IHRoaXMsXG4gICAgICBmbGFnczogdGhpcy5mbGFncyxcbiAgICAgIGRhdGE6IHRoaXMudG9PYmplY3QoKSxcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIGNzczogdGhpcy5jc3NDbGFzc2VzLFxuICAgICAgdXNlcjogZ2FtZS51c2VyLFxuICAgICAgc3BlYWtlcjogdGhpcy5zcGVha2VyXG4gICAgfVxuICB9XG5cbiAgdG9PYmplY3QgKCkge1xuICAgIGlmICghdGhpcy5kYXRhKSByZXR1cm5cbiAgICBjb25zdCBkYXRhID0ge31cbiAgICBmb3IgKGNvbnN0IGsgb2YgT2JqZWN0LmtleXModGhpcy5kYXRhKSkge1xuICAgICAgY29uc3QgdiA9IHRoaXMuZGF0YVtrXVxuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgZGF0YVtrXSA9IHYudG9PYmplY3QgPyB2LnRvT2JqZWN0KCkgOiBkZWVwQ2xvbmUodilcbiAgICAgIH0gZWxzZSBkYXRhW2tdID0gdlxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgYXN5bmMgdG9NZXNzYWdlIChvcHRpb25uYWxDaGF0RGF0YSA9IHt9KSB7XG4gICAgLy8gTWFwIGVjYyBjYXJkIHR5cGUgaWYgbm90IHJlZ2lzdGVyZWQgYWxyZWFkeVxuICAgIC8vIHRoaXMucmVnaXN0ZXJFQ0NDbGFzcygpXG5cbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKVxuXG4gICAgLy8gUHVibGlzaCBieSBjdXJyZW50IHVzZXIgYnkgZGVmYXVsdCB1bmxlc3Mgb3B0aW9ucy5HTWNoYXRDYXJkXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0RGF0YSgpXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIGRhdGEpXG4gICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJChodG1sKVswXVxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXR0YWNoT2JqZWN0KSB7XG4gICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUodGhpcy5vYmplY3REYXRhU3RyaW5nKVxuICAgIH1cbiAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5lY2NDbGFzcyA9IHRoaXMuY29uc3RydWN0b3IubmFtZVxuICAgIGh0bWxDYXJkRWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLnRoaXMub3B0aW9ucy5jbGFzc2VzKVxuXG4gICAgY29uc3Qgc3BlYWtlciA9XG4gICAgICB0aGlzLm9wdGlvbnMuc3BlYWtlciAmJiAhdGhpcy5vcHRpb25zLm9vY1xuICAgICAgICA/IENoYXRNZXNzYWdlLmdldFNwZWFrZXIodGhpcy5vcHRpb25zLnNwZWFrZXIpXG4gICAgICAgIDoge31cblxuICAgIC8vIGNvbnN0IHVzZXJJZCA9IHRoaXMub3B0aW9ucy51c2VySWQgPyB0aGlzLm9wdGlvbnMudXNlcklkIDogZ2FtZS51c2VyLmlkXG5cbiAgICBjb25zdCBjaGF0RGF0YSA9IGZvdW5kcnkudXRpbHMubWVyZ2VPYmplY3QoXG4gICAgICB7XG4gICAgICAgIC8vIHVzZXI6IHVzZXJJZCxcbiAgICAgICAgdXNlcjogZ2FtZS51c2VyLmlkLFxuICAgICAgICBzcGVha2VyLFxuICAgICAgICBmbGF2b3I6IGdhbWUuaTE4bi5sb2NhbGl6ZSh0aGlzLm9wdGlvbnMudGl0bGUpLFxuICAgICAgICBjb250ZW50OiBodG1sQ2FyZEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgICB9LFxuICAgICAgb3B0aW9ubmFsQ2hhdERhdGFcbiAgICApXG5cbiAgICBpZiAoWydnbXJvbGwnLCAnYmxpbmRyb2xsJ10uaW5jbHVkZXModGhpcy5yb2xsTW9kZSkpIHtcbiAgICAgIGNoYXREYXRhLndoaXNwZXIgPSBDaGF0TWVzc2FnZS5nZXRXaGlzcGVyUmVjaXBpZW50cygnR00nKVxuICAgIH1cbiAgICBpZiAodGhpcy5yb2xsTW9kZSA9PT0gJ3NlbGZyb2xsJykgY2hhdERhdGEud2hpc3BlciA9IFtnYW1lLnVzZXIuaWRdXG4gICAgaWYgKHRoaXMucm9sbE1vZGUgPT09ICdibGluZHJvbGwnKSBjaGF0RGF0YS5ibGluZCA9IHRydWVcblxuICAgIENoYXRNZXNzYWdlLmNyZWF0ZShjaGF0RGF0YSkudGhlbihtc2cgPT4ge1xuICAgICAgcmV0dXJuIG1zZ1xuICAgIH0pXG4gIH1cblxuICBhc3luYyB1cGRhdGVDaGF0Q2FyZCAoeyBhdHRhY2hPYmplY3QgPSB0cnVlIH0gPSB7fSkge1xuICAgIC8vIFRPRE8gdGhlIHdob2xlIGZ1bmN0aW9uIGhhcyB0byBiZSBleGVjdXRlZCBieSBHTSBpZiBvcHRpb25zLkdNY2hhdENhcmRcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbXB1dGUpIGF3YWl0IHRoaXMubG9jYWxDb21wdXRlKClcbiAgICBpZiAodGhpcy5vcHRpb25zLkdNVXBkYXRlKSBhd2FpdCB0aGlzLkV4ZWN1dGVHTVVwZGF0ZSgpXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2VJZCkge1xuICAgICAgdGhpcy50b01lc3NhZ2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKClcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCBkYXRhKVxuICAgICAgY29uc3QgaHRtbENhcmRFbGVtZW50ID0gJC5wYXJzZUhUTUwoaHRtbClbMF1cblxuICAgICAgLy8gQXR0YWNoIHRoZSBvYmplY3QgdG8gdGhlIG1lc3NhZ2UuXG4gICAgICBpZiAoYXR0YWNoT2JqZWN0ICYmICF0aGlzLmRhdGEuRUVDX0FDVElPTj8uZGV0YWNoRGF0YSkge1xuICAgICAgICBodG1sQ2FyZEVsZW1lbnQuZGF0YXNldC5vYmplY3QgPSBlc2NhcGUodGhpcy5vYmplY3REYXRhU3RyaW5nKVxuICAgICAgfVxuICAgICAgaHRtbENhcmRFbGVtZW50LmRhdGFzZXQuZWNjQ2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcbiAgICAgIGh0bWxDYXJkRWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLnRoaXMub3B0aW9ucy5jbGFzc2VzKVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIG1lc3NhZ2UuXG4gICAgICBnYW1lLmVuaGFuY2VkQ2hhdENhcmRzTGliLnNvY2tldC5leGVjdXRlQXNHTShcbiAgICAgICAgJ3VwZGF0ZU1lc3NhZ2UnLFxuICAgICAgICB0aGlzLm1lc3NhZ2VJZCxcbiAgICAgICAgaHRtbENhcmRFbGVtZW50Lm91dGVySFRNTFxuICAgICAgKVxuICAgICAgLy8gY29uc3QgY2hhdE1lc3NhZ2UgPSBnYW1lLm1lc3NhZ2VzLmdldCh0aGlzLm1lc3NhZ2VJZClcblxuICAgICAgLy8gY29uc3QgbXNnID0gYXdhaXQgY2hhdE1lc3NhZ2UudXBkYXRlKHsgLy9EaXNwYXRjaCByZXF1ZXN0IGJ5IHNvY2tldFxuICAgICAgLy8gY29udGVudDogaHRtbENhcmRFbGVtZW50Lm91dGVySFRNTCAvL0Rpc3BhdGNoIHJlcXVlc3QgYnkgc29ja2V0XG4gICAgICAvLyB9KSAvL0Rpc3BhdGNoIHJlcXVlc3QgYnkgc29ja2V0XG4gICAgICAvLyBhd2FpdCB1aS5jaGF0LnVwZGF0ZU1lc3NhZ2UobXNnLCBmYWxzZSkgLy9EaXNwYXRjaCByZXF1ZXN0IGJ5IHNvY2tldFxuICAgICAgLy8gcmV0dXJuIG1zZyAvL0Rpc3BhdGNoIHJlcXVlc3QgYnkgc29ja2V0XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICAvLyBodG1sLm9uKFxuICAgIC8vICAgJ2NsaWNrJyxcbiAgICAvLyAgIGAuJHtFQ0NfQ0xBU1N9IC5lY2MtcmFkaW8tc3dpdGNoYCxcbiAgICAvLyAgIHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcylcbiAgICAvLyApXG4gICAgaHRtbC5vbignY2hhbmdlJywgJ2lucHV0LHNlbGVjdCx0ZXh0YXJlYScsIHRoaXMuX29uQ2hhbmdlLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignY2xpY2snLCBgLiR7RUNDX0NMQVNTfSAuZWNjLXN3aXRjaGAsIHRoaXMuX29uVG9nZ2xlLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbignY2xpY2snLCBgLiR7RUNDX0NMQVNTfSAuc3VibWl0YCwgdGhpcy5fb25TdWJtaXQuYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKCdmb2N1c291dCcsIGAuJHtFQ0NfQ0xBU1N9IGlucHV0YCwgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSlcbiAgICBodG1sLm9uKCdjbGljaycsIGAuJHtFQ0NfQ0xBU1N9IGJ1dHRvbmAsIHRoaXMuX29uQnV0dG9uLmJpbmQodGhpcykpXG4gICAgaHRtbC5vbigna2V5ZG93bicsIGAuJHtFQ0NfQ0xBU1N9IGZvcm1gLCB0aGlzLl9vbktleS5iaW5kKHRoaXMpKVxuXG4gICAgLy8gY29uc3QgdmlzaSA9IGh0bWwuZmluZCgnW2RhdGEtZWNjLXZpc2liaWxpdHldJylcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHZpc2kubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgIGNvbnN0IGVsID0gdmlzaVtpXTtcbiAgICAvLyAgIGF3YWl0IHRoaXMuc2V0VmlzaWJpbGl0eShlbClcblxuICAgIC8vIH1cblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCdbZGF0YS1lY2MtdmlzaWJpbGl0eV0nKVxuICAgICAgLmVhY2goYXN5bmMgKGksIGVsKSA9PiBhd2FpdCB0aGlzLnNldFZpc2liaWxpdHkoZWwpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCdbZGF0YS1lY2MtcGVybWlzc2lvbnNdJylcbiAgICAgIC5lYWNoKGFzeW5jIChpLCBlbCkgPT4gYXdhaXQgdGhpcy5zZXRQZXJtaXNzaW9uKGVsKSlcbiAgICBodG1sLmZpbmQoYC4ke0VDQ19DTEFTU30gLmVjYy1zd2l0Y2hgKS5lYWNoKChpLCBlbCkgPT4gdGhpcy5zZXRTdGF0ZShlbCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoYC4ke0VDQ19DTEFTU30gaW5wdXRbdHlwZT1cInJhZGlvXCJdYClcbiAgICAgIC5lYWNoKChpLCBlbCkgPT4gdGhpcy5zZXRSYWRpb1N0YXRlKGVsKSlcbiAgICAvLyBodG1sLmZpbmQoYC4ke0VDQ19DTEFTU30gLmVjYy1yYWRpby1zd2l0Y2hgKS5lYWNoKCAoaSwgZWwpID0+IHRoaXMuc2V0U3RhdGUoZWwpKVxuICB9XG5cbiAgc2V0U3RhdGUgKGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVyblxuICAgIGlmIChlbGVtZW50LmRhdGFzZXQuZmxhZykge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFxuICAgICAgICB0aGlzLmZsYWdzW2VsZW1lbnQuZGF0YXNldC5mbGFnXSA/IFNUQVRFLk9OIDogU1RBVEUuT0ZGXG4gICAgICApXG4gICAgfVxuICAgIGlmIChlbGVtZW50LmRhdGFzZXQubmFtZSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBnZXRCeVBhdGgodGhpcywgZWxlbWVudC5kYXRhc2V0Lm5hbWUpXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodmFsdWUgPyBTVEFURS5PTiA6IFNUQVRFLk9GRilcbiAgICB9XG4gIH1cblxuICBzZXRSYWRpb1N0YXRlIChlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50Lm5hbWUpIHJldHVyblxuICAgIGNvbnN0IHNwbGl0ZWQgPSBlbGVtZW50Lm5hbWUuc3BsaXQoJy4nKVxuICAgIGlmIChzcGxpdGVkWzBdLnRvTG93ZXJDYXNlKCkgIT09ICdkYXRhJykgcmV0dXJuXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0eXBlb2YgdGhpcy5kYXRhW3NwbGl0ZWRbMV1dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRoaXMuZGF0YVtzcGxpdGVkWzFdXSA9PT0gZWxlbWVudC52YWx1ZSkge1xuICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2V0VmlzaWJpbGl0eSAoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudC5kYXRhc2V0LmVjY1Zpc2liaWxpdHkpIHJldHVyblxuICAgIGNvbnN0IGNhbllvdVNlZSA9IGF3YWl0IHRoaXMuaGFzUGVybShlbGVtZW50LmRhdGFzZXQuZWNjVmlzaWJpbGl0eSwgdHJ1ZSlcbiAgICBpZiAoIWNhbllvdVNlZSkgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gIH1cblxuICBhc3luYyBzZXRQZXJtaXNzaW9uIChlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50LmRhdGFzZXQuZWNjUGVybWlzc2lvbnMpIHJldHVyblxuICAgIGNvbnN0IGNhbllvdU1vZCA9IGF3YWl0IHRoaXMuaGFzUGVybShlbGVtZW50LmRhdGFzZXQuZWNjUGVybWlzc2lvbnMpXG4gICAgaWYgKCFjYW5Zb3VNb2QpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZWNjLXJlc3RyaWN0ZWQnKVxuICAgICAgaWYgKCQoZWxlbWVudCkuaXMoJ2lucHV0JykpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ3JhbmdlJykgJChlbGVtZW50KS5hdHRyKCdkaXNhYmxlZCcsIHRydWUpXG4gICAgICAgIGVsc2UgJChlbGVtZW50KS5hdHRyKCdyZWFkb25seScsIHRydWUpXG4gICAgICB9XG4gICAgICBpZiAoJChlbGVtZW50KS5pcygnc2VsZWN0JykpICQoZWxlbWVudCkuYXR0cignZGlzYWJsZWQnLCB0cnVlKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY3VycmVudCB1c2VyIGFzIHBlcm1pc3Npb24gYWdhaW5zdCBhIHN0cmluZyBvZiBhbGxvd2VkIHBlcnNvbnMuXG4gICAqIElmIHRoZSBzdHJpbmcgaXMgZW1wdHkgcGVybWlzc2lvbiBhcmUgYWxsIGdyYW50ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlc3RyaWN0ZWRUbyAgIEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHNldCBvZiBwbGF5ZXIgYWxsb3dlZC4gVmFsdWUgY2FuIGJlIG93bmVyLCBnbSwgcGxheWVycywgdXVpZCBzZXBhcmF0ZWQgYnkgc3BhY2VcbiAgICogQHBhcmFtIHtib29sZWFufSB2aXNpb24gICAgICAgIGlmIHRydWUgZ20gd2lsbCBiZSBjb25zaWRlcmVkIGZvciBwZXJtaXNzaW9ucy4gZmFsc2UgPSBnbSBoYXMgYWx3YXlzIHJpZ2h0LiB0cnVlIEdNIHBlcm1pc3Npb24gd2lsbCBiZSBjaGVja2VkXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBoYXNQZXJtIChyZXN0cmljdGVkVG8sIHZpc2lvbiA9IGZhbHNlKSB7XG4gICAgaWYgKCFyZXN0cmljdGVkVG8ubGVuZ3RoKSByZXR1cm4gdHJ1ZVxuICAgIGxldCBwZXJtaXNzaW9uc0FycmF5ID0gcmVzdHJpY3RlZFRvLnNwbGl0KCcgJylcbiAgICBjb25zdCB3aGl0ZUxpc3QgPSAhcGVybWlzc2lvbnNBcnJheS5pbmNsdWRlcyhQRVJNSVNTSU9OX1RZUEUuQkxBQ0tMSVNUKVxuICAgIGlmICghd2hpdGVMaXN0KSB7XG4gICAgICBwZXJtaXNzaW9uc0FycmF5ID0gcGVybWlzc2lvbnNBcnJheS5maWx0ZXIoXG4gICAgICAgIGUgPT4gZSAhPT0gUEVSTUlTU0lPTl9UWVBFLkJMQUNLTElTVFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcbiAgICAgIGlmICghdmlzaW9uKSByZXR1cm4gdHJ1ZSAvLyBHTSBjYW4gYWx3YXlzIG1vZGlmeSBldmVyeXRoaW5nICEgTmFoXG4gICAgICBpZiAocGVybWlzc2lvbnNBcnJheS5pbmNsdWRlcyhQRVJNSVNTSU9OX1RZUEUuR00pKSB7XG4gICAgICAgIHJldHVybiB0cnVlICYmIHdoaXRlTGlzdFxuICAgICAgfVxuICAgICAgaWYgKHBlcm1pc3Npb25zQXJyYXkuaW5jbHVkZXMoUEVSTUlTU0lPTl9UWVBFLk5PVF9HTSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlIHx8ICF3aGl0ZUxpc3RcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwZXJtaXNzaW9uc0FycmF5ID0gcGVybWlzc2lvbnNBcnJheS5maWx0ZXIoZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuR00pXG4gICAgcGVybWlzc2lvbnNBcnJheSA9IHBlcm1pc3Npb25zQXJyYXkuZmlsdGVyKFxuICAgICAgZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuTk9UX0dNXG4gICAgKVxuXG4gICAgLy8gICByZXR1cm4gZmFsc2UgfHwgIXdoaXRlTGlzdCAvL0lmIHBhc3MgdGhlIGZpbHRlciByZXR1cm4gZmFsc2UgdW5sZXNzIGl0J3MgYSBibGFja2xpc3RcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgcGVybWlzc2lvbnNBcnJheSA9IHBlcm1pc3Npb25zQXJyYXkuZmlsdGVyKGUgPT4gZSAhPSBQRVJNSVNTSU9OX1RZUEUuR00pXG4gICAgLy8gfVxuXG4gICAgaWYgKHBlcm1pc3Npb25zQXJyYXkuaW5jbHVkZXMoUEVSTUlTU0lPTl9UWVBFLlVTRVIpKSB7XG4gICAgICBpZiAodGhpcy5tZXNzYWdlLmlzQXV0aG9yKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3QgLy8gaXNBdXRob3IgdnMgdXNlci5pc093bmVyID9cbiAgICAgIHBlcm1pc3Npb25zQXJyYXkgPSBwZXJtaXNzaW9uc0FycmF5LmZpbHRlcihcbiAgICAgICAgZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuVVNFUlxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChwZXJtaXNzaW9uc0FycmF5LmluY2x1ZGVzKFBFUk1JU1NJT05fVFlQRS5TUEVBS0VSKSkge1xuICAgICAgY29uc3Qgc3BlYWtlciA9IHRoaXMubWVzc2FnZS5kYXRhLnNwZWFrZXJcbiAgICAgIGlmIChzcGVha2VyLnRva2VuICYmIHNwZWFrZXIuc2NlbmUpIHtcbiAgICAgICAgY29uc3QgYWN0b3IgPSBhd2FpdCBmcm9tVXVpZChcbiAgICAgICAgICBgU2NlbmUuJHtzcGVha2VyLnNjZW5lfS5Ub2tlbi4ke3NwZWFrZXIudG9rZW59YFxuICAgICAgICApXG4gICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgIGlmIChhY3Rvci5pc093bmVyKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3RcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzcGVha2VyLmFjdG9yKSB7XG4gICAgICAgIGNvbnN0IGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpXG4gICAgICAgIGlmIChhY3Rvcikge1xuICAgICAgICAgIGlmIChhY3Rvci5pc093bmVyKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZWxzZSBpZiAoc3BlYWtlci51c2VyKSB7XG4gICAgICAvLyAgIGlmIChnYW1lLnVzZXIuaWQgPT0gc3BlYWtlci51c2VyKSByZXR1cm4gdHJ1ZSAmJiB3aGl0ZUxpc3RcbiAgICAgIC8vIH1cbiAgICAgIHBlcm1pc3Npb25zQXJyYXkgPSBwZXJtaXNzaW9uc0FycmF5LmZpbHRlcihcbiAgICAgICAgZSA9PiBlICE9PSBQRVJNSVNTSU9OX1RZUEUuU1BFQUtFUlxuICAgICAgKVxuICAgIH1cbiAgICAvLyBBbGwgZmlsdGVyIHBhc3NlZCwgYXJyYXkgc2hvdWxkIGNvbnRhaW5zIG9ubHkgdXVpZHMgb3IgYWN0b3IvdG9rZW4gaWRzXG4gICAgaWYgKHBlcm1pc3Npb25zQXJyYXkubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBlcm1pc3Npb25zQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdXVpZCA9IHBlcm1pc3Npb25zQXJyYXlbaV1cbiAgICAgICAgbGV0IGFjdG9yID0gYXdhaXQgZnJvbVV1aWQodXVpZClcbiAgICAgICAgaWYgKCFhY3RvcikgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQodXVpZClcbiAgICAgICAgaWYgKGFjdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdG9yLmlzT3duZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGBVbmFibGUgdG8gZmluZCBhY3RvciAke3V1aWR9YClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2UgfHwgIXdoaXRlTGlzdCAvLyBJZiBwYXNzIHRoZSBmaWx0ZXIgcmV0dXJuIGZhbHNlIHVubGVzcyBpdCdzIGEgYmxhY2tsaXN0XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgYmluZExpc3RlbmVycyAoaHRtbCkge1xuICAgIGNvbnN0IGh0bWxNZXNzYWdlRWxlbWVudCA9IGh0bWxbMF1cbiAgICBjb25zdCBodG1sQ2FyZEVsZW1lbnQgPSBodG1sTWVzc2FnZUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7RUNDX0NMQVNTfWApXG4gICAgaWYgKCFodG1sQ2FyZEVsZW1lbnQpIHJldHVyblxuXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IEVuaGFuY2VkQ2hhdENhcmQuZnJvbUhUTUxDYXJkRWxlbWVudChodG1sQ2FyZEVsZW1lbnQpXG4gICAgaWYgKCFjYXJkKSByZXR1cm5cbiAgICBjYXJkLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gIH1cblxuICBnZXQgZmxhZ3MgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuZmxhZ3NcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0byByZWFzc2lnbiBvYmplY3QgZnJvbSB0aGUgZGF0YSBzdHJ1Y3R1cmUuXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBhc3NpZ25PYmplY3RzICgpIHt9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRvIHVwZGF0ZSBvYmplY3QgYWZ0ZXIgZGF0YSBjaGFuZ2UuXG4gICAqIFRoaXMgaXMgY2FsbGVkIGJ5IHRoZSBsb2NhbCBjbGllbnRcbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzeW5jIGxvY2FsQ29tcHV0ZSAoKSB7fVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0byB1cGRhdGUgb2JqZWN0IGFmdGVyIGRhdGEgY2hhbmdlLlxuICAgKiBUaGlzIGlzIGNhbGxlZCBieSBvbmUgb2YgdGhlIEdNIGNsaWVudHMuXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBHTVVwZGF0ZSAoKSB7fVxuXG4gIGFzeW5jIEV4ZWN1dGVHTVVwZGF0ZSAoKSB7XG4gICAgY29uc3QgbmV3RGF0YSA9IGF3YWl0IGdhbWUuZW5oYW5jZWRDaGF0Q2FyZHNMaWIuc29ja2V0LmV4ZWN1dGVBc0dNKFxuICAgICAgJ0dNVXBkYXRlJyxcbiAgICAgIHRoaXMudG9PYmplY3QoKSxcbiAgICAgIHRoaXMuX29wdGlvbnMsXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgICB0aGlzLm1lc3NhZ2VJZFxuICAgIClcblxuICAgIHRoaXMuZGF0YSA9IG5ld0RhdGFcbiAgICBhd2FpdCB0aGlzLmFzc2lnbk9iamVjdHMoKVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnQgd2lsbCBjaGVjayBmb3IgYW4gYWN0aW9uIChkYXRhLWFjdGlvbilcbiAgICogaWYgYSBtZXRob2Qgd2l0aCB0aGF0IG5hbWUgZXhpc3QgaXQgd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAqL1xuICBhc3luYyBfb25CdXR0b24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuXG4gICAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgLy8gQXZvaWQgbXVsdGlwbGUgcHVzaFxuICAgIGNvbnN0IGFjdGlvbiA9IHRhcmdldC5kYXRhc2V0LmFjdGlvblxuXG4gICAgbGV0IGZvcm1VcGRhdGVcbiAgICBsZXQgYWN0aW9uVXBkYXRlID0gZmFsc2VcblxuICAgIC8vIGlmICgnc3VibWl0JyA9PSB0YXJnZXQudHlwZSkge1xuICAgIC8vICAgY29uc29sZS53YXJuKCdCdXR0b24gaXMgYWxzbyBhIHN1Ym1pdCcpXG4gICAgLy8gfVxuXG4gICAgLy8gUGVyZm9ybSBjYXJkIHVwZGF0ZSBmaXJzdFxuICAgIGNvbnN0IGNhcmQgPSB0YXJnZXQuY2xvc2VzdChgLiR7RUNDX0NMQVNTfWApXG4gICAgaWYgKGNhcmQpIGZvcm1VcGRhdGUgPSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBDb3VsZCBub3QgZmluZCBhIEVFQyBjbGFzcyBmb3IgdGhpcyBjYXJkOiAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ2luYWxEaXNwbGF5U3R5bGUgPSB0YXJnZXQuc3R5bGUuZGlzcGxheVxuXG4gICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgIGNvbnNvbGUud2Fybignbm8gYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGJ1dHRvbicpXG4gICAgICBpZiAoIWZvcm1VcGRhdGUpIHJldHVybiAvLyBJZiB0aGUgZm9ybSB3YXMgdXBkYXRlZCB3ZSBzdGlsbCB1cGRhdGUgdGhlIGNhcmRcbiAgICB9XG4gICAgaWYgKCF0aGlzW2FjdGlvbl0pIHtcbiAgICAgIGNvbnNvbGUud2Fybihgbm8gJHthY3Rpb259IGFjdGlvbiBmb3VuZCBmb3IgdGhpcyBjYXJkYClcbiAgICAgIGlmICghZm9ybVVwZGF0ZSkgcmV0dXJuIC8vIElmIHRoZSBmb3JtIHdhcyB1cGRhdGVkIHdlIHN0aWxsIHVwZGF0ZSB0aGUgY2FyZFxuICAgIH1cbiAgICBpZiAodGhpc1thY3Rpb25dKSB7XG4gICAgICBhY3Rpb25VcGRhdGUgPSBhd2FpdCB0aGlzW2FjdGlvbl0oeyBldmVudCwgdXBkYXRlQ2FyZDogZmFsc2UgfSlcbiAgICB9XG5cbiAgICBpZiAoZm9ybVVwZGF0ZSB8fCBhY3Rpb25VcGRhdGUpIGF3YWl0IHRoaXMudXBkYXRlQ2hhdENhcmQoKVxuICAgIGVsc2UgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBvcmlnaW5hbERpc3BsYXlTdHlsZVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICogQHJldHVybnMgZmFsc2UgaWYga2V5IGlzIGVudGVyIHRvIGF2b2lkIGdsb2JhbCBzdWJtaXNzaW9uXG4gICAqL1xuICBfb25LZXkgKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykgdGhpcy5fb25TdWJtaXQoZXZlbnQpXG4gICAgcmV0dXJuIGV2ZW50LmtleSAhPT0gJ0VudGVyJ1xuICB9XG5cbiAgX29uQ2hhbmdlIChldmVudCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc3VibWl0T25DaGFuZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vblN1Ym1pdChldmVudClcbiAgICB9XG4gIH1cblxuICBfb25TdWJtaXQgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHRhZ05hbWUgPSB0YXJnZXQudGFnTmFtZVxuICAgIGlmICh0YWdOYW1lID09PSAnQlVUVE9OJyAmJiAnYWN0aW9uJyBpbiB0YXJnZXQuZGF0YXNldCkgcmV0dXJuIC8vXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgY2FyZCA9IHRhcmdldC5jbG9zZXN0KGAuJHtFQ0NfQ0xBU1N9YClcbiAgICBpZiAoIWNhcmQpIHJldHVyblxuICAgIGNvbnN0IHVwZGF0ZXMgPSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICBpZiAodXBkYXRlcykgdGhpcy51cGRhdGVDaGF0Q2FyZCgpXG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgdGhlIGZvcm0gZnJvbSB0aGUgY2FyZCBhbmQgdXBkYXRlIHRoZSBkYXRhIHN0cnVjdHVyZVxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYXJkXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBfdXBkYXRlIChjYXJkKSB7XG4gICAgY29uc3QgZm9ybXMgPSBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKVxuICAgIGxldCB1cGRhdGVzID0gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmb3JtID0gZm9ybXNbaV1cbiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhRXh0ZW5kZWQoZm9ybSlcbiAgICAgIGNvbnN0IGRhdGEgPSBmZC5vYmplY3RcbiAgICAgIC8vIGRhdGEgPSBmb3VuZHJ5LnV0aWxzLmRpZmZPYmplY3QoXG4gICAgICAvLyAgIHRoaXMuZGF0YSxcbiAgICAgIC8vICAgZm91bmRyeS51dGlscy5leHBhbmRPYmplY3QoZGF0YSlcbiAgICAgIC8vIClcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0QnlQYXRoKHRoaXMsIGtleSlcbiAgICAgICAgaWYgKCEob2xkVmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICAgIHNldEJ5UGF0aCh0aGlzLCBrZXksIHZhbHVlKVxuICAgICAgICAgIHVwZGF0ZXMgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZXNcbiAgfVxuXG4gIGdldCBtZXNzYWdlICgpIHtcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2VcbiAgICBpZiAodGhpcy5fbWVzc2FnZUlkKSByZXR1cm4gZ2FtZS5tZXNzYWdlcy5nZXQodGhpcy5fbWVzc2FnZUlkKVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHNldCBtZXNzYWdlICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZSA9IHhcbiAgfVxuXG4gIGdldCBtZXNzYWdlSWQgKCkge1xuICAgIGlmICh0aGlzLl9tZXNzYWdlSWQpIHJldHVybiB0aGlzLl9tZXNzYWdlSWRcbiAgICBpZiAodGhpcy5fbWVzc2FnZSkgcmV0dXJuIHRoaXMuX21lc3NhZ2UuaWRcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBzZXQgbWVzc2FnZUlkICh4KSB7XG4gICAgdGhpcy5fbWVzc2FnZUlkID0geFxuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dGFjaE9iamVjdDogdHJ1ZSxcbiAgICAgIGNsYXNzZXM6IFtFQ0NfQ0xBU1NdLFxuICAgICAgZXhjbHVkZTogW10sXG4gICAgICBleGNsdWRlU3RhcnRXaXRoOiAnXycsXG4gICAgICBzdWJtaXRPbkNoYW5nZTogdHJ1ZSxcbiAgICAgIHNwZWFrZXI6IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKSxcbiAgICAgIG9vYzogZmFsc2UsIC8vICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMub29jPWZhbHNlXSAgVXNlIHRoZSBzcGVha2VyL2dldHNwZWFrZXIuIGlmIHRydWUgdXNlIHRoZSB1c2VyIGluc3RlYWRcbiAgICAgIGNvbXB1dGU6IHRydWUsIC8vICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb21wdXRlLmxvY2FsPXRydWVdIGludm9xdWUgdGhlIGNvbXB1dGUgbWV0aG9kIGFzIGxvY2FsIHVzZXIgPT4gbmVlZCB0byBvdmVycmlkZSBsb2NhbENvbXB1dGVcbiAgICAgIEdNVXBkYXRlOiBmYWxzZSAvLyAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29tcHV0ZS5HTT1mYWxzZV0gaW52b3F1ZSB0aGUgR01VcGRhdGUgbWV0aG9kIGFzIEdNID0+IG5lZWQgdG8gb3ZlcnJpZGUgR01VcGRhdGVcbiAgICB9XG4gIH1cblxuICBnZXQgb2JqZWN0RGF0YVN0cmluZyAoKSB7XG4gICAgY29uc3Qgc2F2ZURhdGEgPSB7XG4gICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICBvcHRpb25zOiB0aGlzLl9vcHRpb25zXG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzYXZlRGF0YSwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5leGNsdWRlPy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgodGhpcy5vcHRpb25zLmV4Y2x1ZGVTdGFydFdpdGgpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9KVxuICB9XG5cbiAgZ2V0IHJvbGxNb2RlICgpIHtcbiAgICBpZiAoIXRoaXMuX3JvbGxNb2RlKSB0aGlzLl9yb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJylcbiAgICByZXR1cm4gdGhpcy5fcm9sbE1vZGVcbiAgfVxuXG4gIHNldCByb2xsTW9kZSAoeCkge1xuICAgIGlmICh4ID09PSBmYWxzZSkgdGhpcy5fcm9sbE1vZGUgPSBnYW1lLnNldHRpbmdzLmdldCgnY29yZScsICdyb2xsTW9kZScpXG4gICAgdGhpcy5fcm9sbE1vZGUgPSB4XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbU1lc3NhZ2VJZCAobWVzc2FnZUlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGdhbWUubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZClcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5mcm9tTWVzc2FnZShtZXNzYWdlKVxuICAgIGNhcmQubWVzc2FnZUlkID0gbWVzc2FnZUlkXG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tTWVzc2FnZSAobWVzc2FnZSkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gJChtZXNzYWdlLmRhdGEuY29udGVudClbMF1cbiAgICBpZiAoIWNhcmRFbGVtZW50KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgY2FyZCA9IGF3YWl0IHRoaXMuZnJvbUhUTUxDYXJkRWxlbWVudChjYXJkRWxlbWVudClcbiAgICBjYXJkLm1lc3NhZ2UgPSBtZXNzYWdlXG4gICAgcmV0dXJuIGNhcmRcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmcm9tSFRNTENhcmRFbGVtZW50IChodG1tbENhcmQpIHtcbiAgICBpZiAoIWh0bW1sQ2FyZCkgcmV0dXJuXG4gICAgaWYgKCFodG1tbENhcmQuZGF0YXNldC5lY2NDbGFzcykgcmV0dXJuXG4gICAgaWYgKCFodG1tbENhcmQuZGF0YXNldC5vYmplY3QpIHJldHVyblxuICAgIGNvbnN0IGNhcmREYXRhID0gSlNPTi5wYXJzZSh1bmVzY2FwZShodG1tbENhcmQuZGF0YXNldC5vYmplY3QpKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBodG1tbENhcmQuY2xvc2VzdCgnLm1lc3NhZ2UnKVxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IG1lc3NhZ2U/LmRhdGFzZXQ/Lm1lc3NhZ2VJZFxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZnJvbURhdGEoXG4gICAgICBjYXJkRGF0YS5kYXRhLFxuICAgICAgY2FyZERhdGEub3B0aW9ucyxcbiAgICAgIGh0bW1sQ2FyZC5kYXRhc2V0LmVjY0NsYXNzLFxuICAgICAgbWVzc2FnZUlkXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21EYXRhIChkYXRhLCBvcHRpb25zLCBjYXJkQ2xhc3NOYW1lLCBtZXNzYWdlSWQgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBDYXJkQ2xhc3MgPSBnYW1lLmVuaGFuY2VkQ2hhdENhcmRzTGliLnR5cGVzLmdldChjYXJkQ2xhc3NOYW1lKVxuXG4gICAgaWYgKCFDYXJkQ2xhc3MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFVua25vd24gY2hhdCBjYXJkIHR5cGU6ICR7Y2FyZENsYXNzTmFtZX1gKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZENsYXNzKGRhdGEsIG9wdGlvbnMpXG4gICAgaWYgKG1lc3NhZ2VJZCkgY2FyZC5tZXNzYWdlSWQgPSBtZXNzYWdlSWRcbiAgICBhd2FpdCBjYXJkLmFzc2lnbk9iamVjdHMoKVxuICAgIHJldHVybiBjYXJkXG4gIH1cblxuICBzZXREYXRhIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lICYmICEoJC50eXBlKG5hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHNldEJ5UGF0aCh0aGlzLCBuYW1lLCB0cnVlKVxuICB9XG5cbiAgdW5zZXREYXRhIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lICYmICEoJC50eXBlKG5hbWUpID09PSAnc3RyaW5nJykpIHJldHVyblxuICAgIHNldEJ5UGF0aCh0aGlzLCBuYW1lLCBmYWxzZSlcbiAgfVxuXG4gIHRvZ2dsZURhdGEgKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUgJiYgISgkLnR5cGUobmFtZSkgPT09ICdzdHJpbmcnKSkgcmV0dXJuXG4gICAgY29uc3QgdmFsdWUgPSBnZXRCeVBhdGgodGhpcywgbmFtZSlcbiAgICBzZXRCeVBhdGgodGhpcywgbmFtZSwgIXZhbHVlKVxuICB9XG5cbiAgYXN5bmMgX29uVG9nZ2xlIChldmVudCkge1xuICAgIC8vIGNvbnN0IGFuc3dlciA9IGF3YWl0IEVuaGFuY2VkQ2hhdENhcmRMaWIuc29ja2V0LmV4ZWN1dGVBc0dNKCdnbV9vblRvZ2dsZScsIHtcbiAgICAvLyAgIGV2ZW50OiBldmVudCxcbiAgICAvLyAgIGNhcmQ6IHRoaXNcbiAgICAvLyB9KVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBpZiAoJ2FjdGlvbicgaW4gdGFyZ2V0LmRhdGFzZXQpIHJldHVybiB0aGlzLl9vbkJ1dHRvbihldmVudClcbiAgICBpZiAoXG4gICAgICB0YXJnZXQgJiZcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2dtLXNlbGVjdC1vbmx5JykgJiZcbiAgICAgICFnYW1lLnVzZXIuaXNHTVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSB0YXJnZXQuZGF0YXNldC5mbGFnXG4gICAgICA/IGBkYXRhLmZsYWdzLiR7dGFyZ2V0LmRhdGFzZXQuZmxhZ31gXG4gICAgICA6IHRhcmdldC5kYXRhc2V0Lm5hbWVcbiAgICBpZiAoIW5hbWUpIHJldHVyblxuICAgIGNvbnN0IHRvZ2dsZSA9IHRhcmdldC5jbG9zZXN0KCcuZWNjLXJhZGlvJylcbiAgICBpZiAoIXRvZ2dsZSkge1xuICAgICAgdGhpcy50b2dnbGVEYXRhKG5hbWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSB0b2dnbGUucXVlcnlTZWxlY3RvckFsbCgnLmVjYy1zd2l0Y2gnKVxuICAgICAgZm9yIChjb25zdCBiIG9mIGJ1dHRvbnMpIHtcbiAgICAgICAgY29uc3QgYk5hbWUgPSBiLmRhdGFzZXQuZmxhZ1xuICAgICAgICAgID8gYGRhdGEuZmxhZ3MuJHtiLmRhdGFzZXQuZmxhZ31gXG4gICAgICAgICAgOiBiLmRhdGFzZXQubmFtZVxuICAgICAgICB0aGlzLnVuc2V0RGF0YShiTmFtZSlcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0RGF0YShuYW1lKVxuICAgIH1cbiAgICBjb25zdCBjYXJkID0gdGFyZ2V0LmNsb3Nlc3QoYC4ke0VDQ19DTEFTU31gKVxuICAgIGlmICh0aGlzLm9wdGlvbnMuc3VibWl0T25DaGFuZ2UpIHtcbiAgICAgIGlmIChjYXJkKSB0aGlzLl91cGRhdGUoY2FyZClcbiAgICB9XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDaGF0Q2FyZCgpIC8vIFN1Ym1pdCBvbiBjaGFuZ2UgP1xuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgdWkgKi9cbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuLi8uLi9jaGF0L2hlbHBlci5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4uLy4uL2NoZWNrLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIF9wYXJ0aWNpcGFudCB7XG4gIGNvbnN0cnVjdG9yIChkYXRhID0ge30pIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhXG4gIH1cblxuICBfZmV0Y2ggKCkge1xuICAgIGlmICghdGhpcy5fZG9jICYmIHRoaXMuZGF0YS5kb2NVdWlkKSB7XG4gICAgICB0aGlzLl9kb2MgPSBDb0M3VXRpbGl0aWVzLmdldERvY3VtZW50RnJvbUtleSh0aGlzLmRhdGEuZG9jVXVpZClcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2FjdG9yKSB7XG4gICAgICBpZiAodGhpcy5fZG9jKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fZG9jLmNvbnN0cnVjdG9yPy5uYW1lKSB7XG4gICAgICAgICAgY2FzZSAnVG9rZW5Eb2N1bWVudCc6XG4gICAgICAgICAgICB0aGlzLl9hY3RvciA9IHRoaXMuX2RvYy5hY3RvclxuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGNhc2UgJ0NvQ0FjdG9yJzpcbiAgICAgICAgICAgIHRoaXMuX2FjdG9yID0gdGhpcy5fZG9jXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgdGhpcy5fYWN0b3IgPSBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRnJvbUtleSh0aGlzLmRhdGEuZG9jVXVpZClcbiAgICB9XG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIHRoaXMuX2ZldGNoKClcbiAgICByZXR1cm4gdGhpcy5fYWN0b3JcbiAgfVxuXG4gIGdldCBpc0FjdG9yICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNBY3RvciB8fCB0aGlzLmhhc1ZlaGljbGVcbiAgfVxuXG4gIGdldCBpc0FjdGl2ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5hY3RpdmUgfHwgZmFsc2VcbiAgfVxuXG4gIGdldCBrZXkgKCkge1xuICAgIGlmICh0aGlzLmhhc1ZlaGljbGUpIHJldHVybiB0aGlzLnZlaGljbGUuYWN0b3JLZXlcbiAgICBpZiAodGhpcy5oYXNBY3RvcikgcmV0dXJuIHRoaXMuYWN0b3IuYWN0b3JLZXlcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgaWNvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmlzQWN0b3IpIHtcbiAgICAgIHJldHVybiAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9xdWVzdGlvbi1jaXJjbGUtcmVndWxhci5zdmcnXG4gICAgfVxuICAgIGlmICh0aGlzLmhhc1ZlaGljbGUpIHJldHVybiB0aGlzLnZlaGljbGUuaW1nXG4gICAgaWYgKHRoaXMuaGFzQWN0b3IpIHJldHVybiB0aGlzLmFjdG9yLmltZ1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBkcml2ZXIgKCkge1xuICAgIGlmICghdGhpcy5fZHJpdmVyKSB7XG4gICAgICB0aGlzLl9kcml2ZXIgPSBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRnJvbUtleSh0aGlzLmRhdGEuZG9jVXVpZClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2RyaXZlclxuICB9XG5cbiAgZ2V0IHZlaGljbGUgKCkge1xuICAgIGlmICh0aGlzLmRhdGEudmVoaWNsZUtleSkge1xuICAgICAgdGhpcy5fdmVoaWNsZSA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KHRoaXMuZGF0YS52ZWhpY2xlS2V5KVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmVoaWNsZVxuICB9XG5cbiAgZ2V0IGhhc0FjdG9yICgpIHtcbiAgICByZXR1cm4gISF0aGlzLmFjdG9yXG4gIH1cblxuICBnZXQgaGFzVmVoaWNsZSAoKSB7XG4gICAgcmV0dXJuICEhdGhpcy52ZWhpY2xlXG4gIH1cblxuICBnZXQgbmFtZSAoKSB7XG4gICAgaWYgKHRoaXMuaGFzVmVoaWNsZSkgcmV0dXJuIHRoaXMudmVoaWNsZS5uYW1lXG4gICAgaWYgKHRoaXMuaGFzQWN0b3IpIHJldHVybiB0aGlzLmFjdG9yLm5hbWVcbiAgICByZXR1cm4gdGhpcy5kYXRhLm5hbWUgfHwgdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgbW92ICgpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5tb3YpIHtcbiAgICAgIGlmICh0aGlzLmhhc1ZlaGljbGUpIHRoaXMuZGF0YS5tb3YgPSB0aGlzLnZlaGljbGUubW92XG4gICAgICBlbHNlIGlmICh0aGlzLmhhc0FjdG9yKSB0aGlzLmRhdGEubW92ID0gdGhpcy5hY3Rvci5tb3ZcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLm1vdikge1xuICAgICAgaWYgKCFpc05hTihOdW1iZXIodGhpcy5kYXRhLm1vdikpKSB0aGlzLmRhdGEuaGFzVmFsaWRNb3YgPSB0cnVlXG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5kYXRhLmhhc1ZhbGlkTW92ID0gZmFsc2VcbiAgICAgICAgdGhpcy5kYXRhLm1vdiA9IHVuZGVmaW5lZFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRhdGEubW92XG4gIH1cblxuICBnZXQgdXVpZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS51dWlkXG4gIH1cblxuICBnZXQgaGFzTWF4Qm9udXNEaWNlICgpIHtcbiAgICByZXR1cm4gdGhpcy5ib251c0RpY2UgPj0gMlxuICB9XG5cbiAgZ2V0IGJvbnVzRGljZSAoKSB7XG4gICAgaWYgKFxuICAgICAgaXNOYU4odGhpcy5kYXRhLmJvbnVzRGljZSkgfHxcbiAgICAgIHRoaXMuZGF0YS5ib251c0RpY2UgPCAwIHx8XG4gICAgICB0aGlzLmRhdGEuYm9udXNEaWNlID4gMlxuICAgICkge1xuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5ib251c0RpY2VcbiAgfVxuXG4gIHNldCBib251c0RpY2UgKHgpIHtcbiAgICBpZiAoaXNOYU4oeCkpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0JvbnVzIGRpY2UgY2FuIE9ubHkgYmUgYSBudW1iZXInKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh4ID4gMikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignTWF4IDIgYm9udXMgZGljZScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHggPCAwKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdObyBuZWdhdGl2IGJvbnVzIGRpY2UnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuZGF0YS5ib251c0RpY2UgPSB4XG4gIH1cblxuICBnZXQgaHAgKCkge1xuICAgIGlmICghdGhpcy5kYXRhLmhwKSB7XG4gICAgICB0aGlzLmRhdGEuaHAgPSAwXG4gICAgfVxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICB0aGlzLmRhdGEuaHAgPSB0aGlzLmFjdG9yLmhwXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5ocFxuICB9XG5cbiAgc2V0IGhwICh4KSB7XG4gICAgdGhpcy5kYXRhLmhwID0geFxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICB0aGlzLmFjdG9yLnNldEhwKHgpXG4gICAgfVxuICB9XG5cbiAgYWRkQm9udXNEaWNlICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLmJvbnVzRGljZSA+PSAyKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdBbHJlYWR5IGhhdmUgbWF4IGJvbnVzIGRpY2UnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuZGF0YS5ib251c0RpY2UgKz0gMVxuICB9XG5cbiAgcmVtb3ZlQm9udXNEaWNlICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLmJvbnVzRGljZSA8PSAwKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdBbHJlYWR5IGhhdmUgMCBib251cyBkaWNlJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmRhdGEuYm9udXNEaWNlIC09IDFcbiAgfVxuXG4gIHJlc2V0Qm9udXNEaWNlICgpIHtcbiAgICB0aGlzLmRhdGEuYm9udXNEaWNlID0gMFxuICB9XG5cbiAgZ2V0IGhhc0JvbnVzRGljZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzT25lQm9udXNEaWNlIHx8IHRoaXMuaGFzVHdvQm9udXNEaWNlXG4gIH1cblxuICBnZXQgaGFzT25lQm9udXNEaWNlICgpIHtcbiAgICByZXR1cm4gdGhpcy5ib251c0RpY2UgPj0gMVxuICB9XG5cbiAgZ2V0IGhhc1R3b0JvbnVzRGljZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYm9udXNEaWNlID49IDJcbiAgfVxuXG4gIGdldCBjYW5Bc3Npc3QgKCkge1xuICAgIHJldHVybiB0aGlzLmFzc2lzdD8ubGVuZ3RoID4gMFxuICB9XG5cbiAgZ2V0IGNhbkJlQ2F1dGlvdXMgKCkge1xuICAgIHJldHVybiAhdGhpcy5oYXNNYXhCb251c0RpY2VcbiAgfVxuXG4gIGdldCBhc3Npc3QgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuYXNzaXN0IHx8IFtdXG4gIH1cblxuICBnZXQgZGV4ICgpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5kZXgpIHtcbiAgICAgIGlmICh0aGlzLmhhc1ZlaGljbGUgJiYgdGhpcy5oYXNEcml2ZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhLmRleCA9IHRoaXMuZHJpdmVyLmNoYXJhY3RlcmlzdGljcy5kZXgudmFsdWVcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNBY3Rvcikge1xuICAgICAgICB0aGlzLmRhdGEuZGV4ID0gdGhpcy5hY3Rvci5jaGFyYWN0ZXJpc3RpY3MuZGV4LnZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5kZXgpIHtcbiAgICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuZGF0YS5kZXgpKSkgdGhpcy5kYXRhLmhhc1ZhbGlkRGV4ID0gdHJ1ZVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0YS5oYXNWYWxpZERleCA9IGZhbHNlXG4gICAgICAgIHRoaXMuZGF0YS5kZXggPSAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5kZXhcbiAgfVxuXG4gIGdldCBoYXNBR3VuUmVhZHkgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuaGFzQUd1blJlYWR5IHx8IGZhbHNlXG4gIH1cblxuICBnZXQgaW5pdGlhdGl2ZSAoKSB7XG4gICAgbGV0IGluaXQgPSB0aGlzLmRleFxuICAgIGlmICh0aGlzLmhhc0FHdW5SZWFkeSkge1xuICAgICAgaW5pdCArPSA1MFxuICAgIH1cbiAgICAvLyBpZiggdGhpcy5zcGVlZENoZWNrKXtcbiAgICAvLyAgIGlmKHRoaXMuc3BlZWRDaGVjay5zY29yZSkgaW5pdCArPSB0aGlzLnNwZWVkQ2hlY2suc2NvcmUvMTAwXG4gICAgLy8gfVxuXG4gICAgcmV0dXJuIGluaXRcbiAgfVxuXG4gIGdldCBpc0NoYXNlciAoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5kYXRhLmNoYXNlclxuICB9XG5cbiAgZ2V0IGlzUHJleSAoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzQ2hhc2VyXG4gIH1cblxuICBnZXQgaXNWYWxpZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzVmFsaWREZXggJiYgdGhpcy5oYXNWYWxpZE1vdlxuICB9XG5cbiAgZ2V0IGhhc1ZhbGlkRGV4ICgpIHtcbiAgICByZXR1cm4gIWlzTmFOKE51bWJlcih0aGlzLmRhdGEuZGV4KSlcbiAgfVxuXG4gIGdldCBoYXNWYWxpZE1vdiAoKSB7XG4gICAgcmV0dXJuICFpc05hTihOdW1iZXIodGhpcy5kYXRhLm1vdikpXG4gIH1cblxuICBnZXQgaGFzRHJpdmVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNWZWhpY2xlICYmIHRoaXMuaGFzQWN0b3JcbiAgfVxuXG4gIGdldCBtb3ZBZGp1c3RtZW50ICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLnNwZWVkQ2hlY2s/LnJvbGxEYXRhU3RyaW5nKSB7XG4gICAgICBjb25zdCByb2xsID0gQ29DN0NoZWNrLmZyb21Sb2xsU3RyaW5nKHRoaXMuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nKVxuICAgICAgaWYgKHJvbGwpIHtcbiAgICAgICAgaWYgKCFyb2xsLnN0YW5kYnkpIHtcbiAgICAgICAgICBpZiAocm9sbC5zdWNjZXNzTGV2ZWwgPj0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lKSByZXR1cm4gMVxuICAgICAgICAgIGVsc2UgaWYgKHJvbGwuZmFpbGVkKSByZXR1cm4gLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgZ2V0IGFkanVzdGVkTW92ICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMubW92ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChpc05hTihOdW1iZXIodGhpcy5tb3YpKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiBOdW1iZXIodGhpcy5tb3YpICsgdGhpcy5tb3ZBZGp1c3RtZW50XG4gIH1cblxuICBnZXQgaGFzTW92QWRqdXN0bWVudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQm9udXNNb3YgfHwgdGhpcy5oYXNNYWx1c01vdlxuICB9XG5cbiAgZ2V0IGhhc0JvbnVzTW92ICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLm1vdkFkanVzdG1lbnQgPiAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0IGhhc01hbHVzTW92ICgpIHtcbiAgICBpZiAodGhpcy5kYXRhLm1vdkFkanVzdG1lbnQgPCAwKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gZ2V0IG9wdGlvbnMoKXtcbiAgLy8gIHJldHVybiB7XG4gIC8vICAgIGV4Y2x1ZGU6IFtdLFxuICAvLyAgICBleGNsdWRlU3RhcnRXaXRoOiAnXydcbiAgLy8gIH07XG4gIC8vIH1cblxuICAvLyBnZXQgZGF0YVN0cmluZygpe1xuICAvLyAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMsIChrZXksdmFsdWUpPT57XG4gIC8vICAgIGlmKCBudWxsID09PSB2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgLy8gICAgaWYoIHRoaXMub3B0aW9ucy5leGNsdWRlPy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAvLyAgICBpZigga2V5LnN0YXJ0c1dpdGgodGhpcy5vcHRpb25zLmV4Y2x1ZGVTdGFydFdpdGgpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAvLyAgICByZXR1cm4gdmFsdWU7XG4gIC8vICB9KTtcbiAgLy8gfVxuXG4gIHRvb1Nsb3cgKCkge1xuICAgIHRoaXMuZGF0YS5leGNsdWRlZCA9IHRydWVcbiAgfVxuXG4gIGluY2x1ZGVJbkNoYXNlICgpIHtcbiAgICB0aGlzLmRhdGEuZXhjbHVkZWQgPSBmYWxzZVxuICAgIHRoaXMuZGF0YS5lc2NhcGVkID0gZmFsc2VcbiAgfVxuXG4gIGVzY2FwZWQgKCkge1xuICAgIHRoaXMuZGF0YS5lc2NhcGVkID0gdHJ1ZVxuICB9XG5cbiAgc2V0IHNsb3dlc3QgKHgpIHtcbiAgICB0aGlzLmRhdGEuc2xvd2VzdCA9IHhcbiAgfVxuXG4gIGdldCBzbG93ZXN0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLnNsb3dlc3RcbiAgfVxuXG4gIHNldCBmYXN0ZXN0ICh4KSB7XG4gICAgdGhpcy5kYXRhLmZhc3Rlc3QgPSB4XG4gIH1cblxuICBnZXQgZmFzdGVzdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5mYXN0ZXN0XG4gIH1cblxuICBjYWxjdWxhdGVNb3ZlbWVudEFjdGlvbnMgKG1pbk1vdikge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0aGlzLm1vdmVtZW50QWN0aW9uID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgdHlwZW9mIHRoaXMuYWRqdXN0ZWRNb3YgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICBpc05hTihtaW5Nb3YpXG4gICAgKSB7XG4gICAgICB0aGlzLm1vdmVtZW50QWN0aW9uID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vdmVtZW50QWN0aW9uID0gMSArICh0aGlzLmFkanVzdGVkTW92IC0gbWluTW92KVxuICAgIH1cbiAgICAvLyBpZiggdGhpcy5tb3ZlbWVudEFjdGlvbiA8IDApIHRoaXMubW92ZW1lbnRBY3Rpb24gPSAwXG4gIH1cblxuICBzZXQgbW92ZW1lbnRBY3Rpb24gKHgpIHtcbiAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb24gPSB4XG4gIH1cblxuICBnZXQgbW92ZW1lbnRBY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb25cbiAgfVxuXG4gIHNldCBjdXJyZW50TW92ZW1lbnRBY3Rpb25zICh4KSB7XG4gICAgdGhpcy5kYXRhLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPSB4XG4gIH1cblxuICBnZXQgY3VycmVudE1vdmVtZW50QWN0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIHx8IDBcbiAgfVxuXG4gIGdldCBoYXNNYXhNdnRBY3Rpb25zICgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TW92ZW1lbnRBY3Rpb25zID49IHRoaXMubW92ZW1lbnRBY3Rpb25cbiAgfVxuXG4gIGdldCBoYXNOb012dEFjdGlvbnMgKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPD0gMFxuICB9XG5cbiAgYWRkTW92ZW1lbnRBY3Rpb25zICh4ID0gMSkge1xuICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyArPSB4XG4gICAgaWYgKHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+IHRoaXMubW92ZW1lbnRBY3Rpb24pIHtcbiAgICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9IHRoaXMubW92ZW1lbnRBY3Rpb25cbiAgICB9XG4gIH1cblxuICBhbHRlck1vdmVtZW50QWN0aW9ucyAoeCkge1xuICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyArPSB4XG4gICAgaWYgKHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+IHRoaXMubW92ZW1lbnRBY3Rpb24pIHtcbiAgICAgIHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9IHRoaXMubW92ZW1lbnRBY3Rpb25cbiAgICB9XG4gIH1cblxuICBnZXQgbW92ZW1lbnRBY3Rpb25BcnJheSAoKSB7XG4gICAgY29uc3QgYmFzZUFycmF5ID0gQXJyYXkodGhpcy5tb3ZlbWVudEFjdGlvbikuZmlsbCgnYmFzZScpXG4gICAgaWYgKHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+PSAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VycmVudE1vdmVtZW50QWN0aW9uczsgaSsrKSB7XG4gICAgICAgIGJhc2VBcnJheVtpXSA9ICdiYXNlIGF2YWlsYWJsZSdcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQXJyYXlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIDwgMCkge1xuICAgICAgY29uc3QgZGVmaWNpdEFycmF5ID0gQXJyYXkoTWF0aC5hYnModGhpcy5jdXJyZW50TW92ZW1lbnRBY3Rpb25zKSkuZmlsbChcbiAgICAgICAgJ2RlZmljaXQnXG4gICAgICApXG4gICAgICByZXR1cm4gZGVmaWNpdEFycmF5LmNvbmNhdChiYXNlQXJyYXkpXG4gICAgfVxuICB9XG5cbiAgZ2V0IGNzc0NsYXNzICgpIHtcbiAgICBjb25zdCBjc3NDbGFzc2VzID0gW11cbiAgICBpZiAodGhpcy5pc0NoYXNlcikgY3NzQ2xhc3Nlcy5wdXNoKCdjaGFzZXInKVxuICAgIGVsc2UgY3NzQ2xhc3Nlcy5wdXNoKCdwcmV5JylcbiAgICBpZiAodGhpcy5kYXRhLmV4Y2x1ZGVkKSBjc3NDbGFzc2VzLnB1c2goJ2V4Y2x1ZGVkJywgJ3Rvb19zbG93JylcbiAgICBpZiAodGhpcy5kYXRhLmVzY2FwZWQpIGNzc0NsYXNzZXMucHVzaCgnZXNjYXBlZCcpXG4gICAgaWYgKHRoaXMuZGF0YS5mYXN0ZXN0KSBjc3NDbGFzc2VzLnB1c2goJ2Zhc3Rlc3QnKVxuICAgIGlmICh0aGlzLmRhdGEuc2xvd2VzdCkgY3NzQ2xhc3Nlcy5wdXNoKCdzbG93ZXN0JylcbiAgICBpZiAodGhpcy5kYXRhLmFjdGl2ZSkgY3NzQ2xhc3Nlcy5wdXNoKCdhY3RpdmUnKVxuICAgIGlmICh0aGlzLmRhdGEuY3VycmVudE1vdmVtZW50QWN0aW9ucyA8PSAwKSBjc3NDbGFzc2VzLnB1c2goJ25vLWFjdGlvbnMnKVxuICAgIHJldHVybiBjc3NDbGFzc2VzLmpvaW4oJyAnKVxuICB9XG5cbiAgZ2V0IHNwZWVkQ2hlY2sgKCkge1xuICAgIGNvbnN0IGNoZWNrID0ge31cbiAgICBpZiAodGhpcy5kYXRhLnNwZWVkQ2hlY2s/Lm5hbWUpIGNoZWNrLm5hbWUgPSB0aGlzLmRhdGEuc3BlZWRDaGVjay5uYW1lXG4gICAgaWYgKHRoaXMuZGF0YS5zcGVlZENoZWNrPy5zY29yZSkgY2hlY2suc2NvcmUgPSB0aGlzLmRhdGEuc3BlZWRDaGVjay5zY29yZVxuICAgIGNoZWNrLmNzc0NsYXNzZXMgPSAnJ1xuICAgIGlmICh0aGlzLmRhdGEuc3BlZWRDaGVjaz8ucm9sbERhdGFTdHJpbmcpIHtcbiAgICAgIGNoZWNrLnJvbGwgPSBDb0M3Q2hlY2suZnJvbVJvbGxTdHJpbmcodGhpcy5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcpXG4gICAgICBpZiAoY2hlY2sucm9sbCkge1xuICAgICAgICBpZiAoIWNoZWNrLnJvbGwuc3RhbmRieSB8fCBjaGVjay5yb2xsLmhhc0NhcmQpIHtcbiAgICAgICAgICBjaGVjay5yb2xsZWQgPSB0cnVlXG4gICAgICAgICAgY2hlY2suaW5saW5lUm9sbCA9IGNoZWNrLnJvbGwuaW5saW5lQ2hlY2sub3V0ZXJIVE1MXG4gICAgICAgICAgY2hlY2suY3NzQ2xhc3NlcyArPSAncm9sbGVkJ1xuICAgICAgICAgIGlmICghY2hlY2sucm9sbC5zdGFuZGJ5KSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sucm9sbC5zdWNjZXNzTGV2ZWwgPj0gQ29DN0NoZWNrLnN1Y2Nlc3NMZXZlbC5leHRyZW1lKSB7XG4gICAgICAgICAgICAgIGNoZWNrLm1vZGlmaWVyQ3NzID0gJ3VwZ3JhZGUnXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLnJvbGwuZmFpbGVkKSBjaGVjay5tb2RpZmllckNzcyA9ICdkb3duZ3JhZGUnXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNoZWNrLnJvbGwuc3VjY2Vzc0xldmVsID49IENvQzdDaGVjay5zdWNjZXNzTGV2ZWwuZXh0cmVtZSB8fFxuICAgICAgICAgICAgICBjaGVjay5yb2xsLmZhaWxlZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNoZWNrLmhhc01vZGlmaWVyID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5oYXNBY3Rvcikge1xuICAgICAgY2hlY2sub3B0aW9ucyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IGMgb2YgWydjb24nXSkge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJpc3RpYyA9IHRoaXMuYWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWMoYylcbiAgICAgICAgaWYgKGNoYXJhY3RlcmlzdGljPy52YWx1ZSkgY2hlY2sub3B0aW9ucy5wdXNoKGNoYXJhY3RlcmlzdGljLmxhYmVsKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5hY3Rvci5kcml2ZVNraWxscykge1xuICAgICAgICBjaGVjay5vcHRpb25zLnB1c2gocy5uYW1lKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5hY3Rvci5waWxvdFNraWxscykge1xuICAgICAgICBjaGVjay5vcHRpb25zLnB1c2gocy5uYW1lKVxuICAgICAgfVxuICAgICAgY2hlY2suaGFzT3B0aW9ucyA9ICEhY2hlY2sub3B0aW9ucy5sZW5ndGhcblxuICAgICAgaWYgKHRoaXMuZGF0YS5zcGVlZENoZWNrPy5pZCkge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuYWN0b3IuZmluZCh0aGlzLmRhdGEuc3BlZWRDaGVjay5pZClcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgY29uc3QgZ2FtZUl0ZW0gPSBnYW1lLml0ZW1zLmdldCh0aGlzLmRhdGEuc3BlZWRDaGVjay5pZClcbiAgICAgICAgICBpZiAoZ2FtZUl0ZW0pIGl0ZW0gPSB0aGlzLmFjdG9yLmZpbmQoZ2FtZUl0ZW0ubmFtZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2l0ZW0nICYmIGl0ZW0udmFsdWUuZGF0YT8udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubmFtZVxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdza2lsbCdcbiAgICAgICAgICAgIGNoZWNrLmlzU2tpbGwgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5yZWZTZXQgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5zY29yZSA9IGl0ZW0udmFsdWUudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2NoYXJhY3RlcmlzdGljJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubGFiZWxcbiAgICAgICAgICAgIGNoZWNrLnR5cGUgPSAnY2hhcmFjdGVyaXN0aWMnXG4gICAgICAgICAgICBjaGVjay5pc0NoYXJhY3RlcmlzdGljID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2sucmVmU2V0ID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2suc2NvcmUgPSBpdGVtLnZhbHVlLnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICBjaGVjay5yZWYgPSBpdGVtLnZhbHVlXG4gICAgICAgICAgICBjaGVjay5uYW1lID0gaXRlbS52YWx1ZS5sYWJlbFxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdhdHRyaWJ1dGUnXG4gICAgICAgICAgICBjaGVjay5pc0F0dHJpYnV0ZSA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnJlZlNldCA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnNjb3JlID0gaXRlbS52YWx1ZS52YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuc3BlZWRDaGVjaz8ubmFtZSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5maW5kKHRoaXMuZGF0YS5zcGVlZENoZWNrLm5hbWUpXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2l0ZW0nICYmIGl0ZW0udmFsdWUuZGF0YT8udHlwZSA9PT0gJ3NraWxsJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubmFtZVxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdza2lsbCdcbiAgICAgICAgICAgIGNoZWNrLmlzU2tpbGwgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5yZWZTZXQgPSB0cnVlXG4gICAgICAgICAgICBjaGVjay5zY29yZSA9IGl0ZW0udmFsdWUudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2NoYXJhY3RlcmlzdGljJykge1xuICAgICAgICAgICAgY2hlY2sucmVmID0gaXRlbS52YWx1ZVxuICAgICAgICAgICAgY2hlY2submFtZSA9IGl0ZW0udmFsdWUubGFiZWxcbiAgICAgICAgICAgIGNoZWNrLnR5cGUgPSAnY2hhcmFjdGVyaXN0aWMnXG4gICAgICAgICAgICBjaGVjay5pc0NoYXJhY3RlcmlzdGljID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2sucmVmU2V0ID0gdHJ1ZVxuICAgICAgICAgICAgY2hlY2suc2NvcmUgPSBpdGVtLnZhbHVlLnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICBjaGVjay5yZWYgPSBpdGVtLnZhbHVlXG4gICAgICAgICAgICBjaGVjay5uYW1lID0gaXRlbS52YWx1ZS5sYWJlbFxuICAgICAgICAgICAgY2hlY2sudHlwZSA9ICdhdHRyaWJ1dGUnXG4gICAgICAgICAgICBjaGVjay5pc0F0dHJpYnV0ZSA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnJlZlNldCA9IHRydWVcbiAgICAgICAgICAgIGNoZWNrLnNjb3JlID0gaXRlbS52YWx1ZS52YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnNwZWVkQ2hlY2s/LmlkKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2FtZS5pdGVtcy5nZXQodGhpcy5kYXRhLnNwZWVkQ2hlY2suaWQpXG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5kYXRhPy50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICAgICAgY2hlY2sucmVmID0gaXRlbVxuICAgICAgICAgIGNoZWNrLm5hbWUgPSBpdGVtLm5hbWVcbiAgICAgICAgICBjaGVjay50eXBlID0gJ3NraWxsJ1xuICAgICAgICAgIGNoZWNrLmlzU2tpbGwgPSB0cnVlXG4gICAgICAgICAgY2hlY2sucmVmU2V0ID0gZmFsc2VcbiAgICAgICAgICBjaGVjay5zY29yZSA9IGl0ZW0uYmFzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuc3BlZWRDaGVjaz8ubmFtZSAmJiB0aGlzLmRhdGEuc3BlZWRDaGVjaz8uc2NvcmUpIHtcbiAgICAgIGNoZWNrLm5hbWUgPSB0aGlzLmRhdGEuc3BlZWRDaGVjay5uYW1lXG4gICAgICBjaGVjay5zY29yZSA9IHRoaXMuZGF0YS5zcGVlZENoZWNrLnNjb3JlXG4gICAgICBjaGVjay5yZWZTZXQgPSBmYWxzZVxuICAgIH1cblxuICAgIGNoZWNrLmNhbkJlUm9sbGVkID0gdHJ1ZVxuXG4gICAgaWYgKCFjaGVjay5yb2xsZWQgJiYgIWNoZWNrLnNjb3JlKSB7XG4gICAgICBjaGVjay5jc3NDbGFzc2VzICs9ICcgaW52YWxpZCdcbiAgICAgIGNoZWNrLmNhbkJlUm9sbGVkID0gZmFsc2VcbiAgICB9XG4gICAgY2hlY2suaXNWYWxpZCA9IGNoZWNrLnJvbGxlZCAmJiAhaXNOYU4oY2hlY2suc2NvcmUpXG5cbiAgICByZXR1cm4gY2hlY2tcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc29ydEJ5Um9sZUFuZERleCAoYSwgYikge1xuICBpZiAoIWEgJiYgYikgcmV0dXJuIDFcbiAgaWYgKCFiICYmIGEpIHJldHVybiAtMVxuICBpZiAoIWEgJiYgIWIpIHJldHVybiAwXG4gIC8vIFB1dCBjaGFzZXJzIGZpcnN0XG4gIGlmIChiLmNoYXNlciAmJiAhYS5jaGFzZXIpIHJldHVybiAxXG4gIGlmIChhLmNoYXNlciAmJiAhYi5jaGFzZXIpIHJldHVybiAtMVxuICAvLyBJZiBzYW1ldHlwZSBzb3J0IGJ5IGRleFxuICByZXR1cm4gYS5kZXggLSBiLmRleFxufVxuIiwiLyogZ2xvYmFsIGR1cGxpY2F0ZSwgZm91bmRyeSwgZ2FtZSwgbWVyZ2VPYmplY3QsIFJvbGwsIHVpICovXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IEVuaGFuY2VkQ2hhdENhcmQgfSBmcm9tICcuLi8uLi9jb21tb24vY2hhdGNhcmRsaWIvc3JjL2NoYXRjYXJkbGliLmpzJ1xuaW1wb3J0IHsgQ29DN0RpY2UgfSBmcm9tICcuLi8uLi9kaWNlLmpzJ1xuaW1wb3J0IHsgX3BhcnRpY2lwYW50IH0gZnJvbSAnLi4vLi4vaXRlbXMvY2hhc2UvcGFydGljaXBhbnQuanMnXG5pbXBvcnQgeyBDb0M3VXRpbGl0aWVzIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgY3JlYXRlSW5saW5lUm9sbCB9IGZyb20gJy4uL2hlbHBlci5qcydcblxuZXhwb3J0IGNsYXNzIENoYXNlT2JzdGFjbGVDYXJkIGV4dGVuZHMgRW5oYW5jZWRDaGF0Q2FyZCB7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvY2hhdC9jYXJkcy9jaGFzZS1vYnN0YWNsZS5odG1sJyxcbiAgICAgIEdNVXBkYXRlOiB0cnVlXG4gICAgfSlcbiAgICBvcHRpb25zLmNsYXNzZXMucHVzaCgnb2JzdGFjbGUtY2FyZCcpXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuXG4gICAgZGF0YS5zdGF0dXMgPSBbXVxuICAgIGRhdGEuc3RyaW5ncyA9IHt9XG4gICAgZGF0YS5kaXNwbGF5QWN0b3JPbkNhcmQgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdkaXNwbGF5QWN0b3JPbkNhcmQnKVxuICAgIC8vIGRhdGEucGFydGljaXBhbnQgPSBuZXcgX3BhcnRpY2lwYW50KHRoaXMucGFydGljaXBhbnREYXRhKVxuXG4gICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICBuYW1lOlxuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0aW9uQ29zdCcpICsgYCA6JHt0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0fWBcbiAgICB9KVxuXG4gICAgZGF0YS5jYXJkLmJyZWFrYWJsZU9ic3RhY2xlID1cbiAgICAgIGRhdGEuZGF0YS5vYnN0YWNsZT8uYmFycmllciAmJiBkYXRhLmRhdGEub2JzdGFjbGUuaGFzSGl0UG9pbnRzIC8vIFRPRE86IENoZWNrIGlmIHVzZWZ1bGxcbiAgICBkYXRhLmNhcmQudmFsaWRDaGVjayA9IGZhbHNlXG5cbiAgICBpZiAoXG4gICAgICBkYXRhLmRhdGEuc3RhdGVzPy5vYnN0YWNsZURlZmluZWQgJiZcbiAgICAgIChkYXRhLmRhdGEub2JzdGFjbGUuaGF6YXJkIHx8XG4gICAgICAgIChkYXRhLmRhdGEub2JzdGFjbGUuYmFycmllciAmJiAhZGF0YS5kYXRhLm9ic3RhY2xlLmhhc0hpdFBvaW50cykpXG4gICAgKSB7XG4gICAgICBkYXRhLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlID0gdHJ1ZVxuICAgICAgZGF0YS5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICAgIGRhdGEuZGF0YS5zdGF0ZXMuYnJlYWtPck5lZ290aWF0ZURlZmluZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFydGljaXBhbnQ/LmFjdG9yKSB7XG4gICAgICBkYXRhLnNraWxsID0gdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5maW5kKGRhdGEuZGF0YS5vYnN0YWNsZS5jaGVja05hbWUpXG4gICAgICBkYXRhLmNoZWNrT3B0aW9ucyA9IHRoaXMuY2hhc2UuZ2V0QWN0b3JTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3MoXG4gICAgICAgIHRoaXMuZGF0YS5wYXJ0aWNpcGFudFV1aWRcbiAgICAgIClcbiAgICAgIGlmIChkYXRhLnNraWxsKSB7XG4gICAgICAgIGRhdGEudmFsaWRDaGVjayA9IHRydWVcbiAgICAgICAgZGF0YS52YWxpZFNraWxsID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lICYmIGRhdGEuZGF0YS5jaGVja1RocmVzaG9sZCkge1xuICAgICAgICBkYXRhLnZhbGlkQ2hlY2sgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuY2hlY2tPcHRpb25zID0gdGhpcy5jaGFzZS5hbGxTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NcbiAgICAgIGRhdGEuZHVtbXlBY3RvciA9IHRydWVcbiAgICAgIGlmIChkYXRhLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lICYmIGRhdGEuZGF0YS5jaGVja1RocmVzaG9sZCkge1xuICAgICAgICBkYXRhLnZhbGlkQ2hlY2sgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFkYXRhLmRhdGEuYm9udXNEaWNlKSBkYXRhLmRhdGEuYm9udXNEaWNlID0gMFxuXG4gICAgaWYgKFxuICAgICAgZGF0YS5kYXRhLmJvbnVzRGljZSA8IDIgJiZcbiAgICAgIGRhdGEuZGF0YS50b3RhbEFjdGlvbkNvc3QgPCBkYXRhLmRhdGEubW92ZW1lbnRBY3Rpb25cbiAgICApIHtcbiAgICAgIGRhdGEuY2FuVGFrZUNhdXRpb3VzQXBwcm9hY2ggPSB0cnVlXG4gICAgfVxuXG4gICAgZGF0YS5jdXN0b21XZWFwb24gPSBmYWxzZVxuICAgIGlmICh0aGlzLmRhdGEud2VhcG9uQ2hvaWNlID09PSAnMCcpIHtcbiAgICAgIGRhdGEuY3VzdG9tV2VhcG9uID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChkYXRhLnZhbGlkQ2hlY2spIHtcbiAgICAgIGxldCBjaGVja05hbWUsIHZhbHVlXG4gICAgICBpZiAoZGF0YS5za2lsbCkge1xuICAgICAgICBjaGVja05hbWUgPSBkYXRhLnNraWxsLnZhbHVlLm5hbWVcbiAgICAgICAgdmFsdWUgPSBkYXRhLnNraWxsLnZhbHVlLnZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja05hbWUgPSBkYXRhLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lXG4gICAgICAgIHZhbHVlID0gZGF0YS5kYXRhLmNoZWNrVGhyZXNob2xkXG4gICAgICB9XG4gICAgICBkYXRhLnN0cmluZ3MuY2hlY2tSb2xsUmVxdWVzdCA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQXNrUm9sbCcsIHtcbiAgICAgICAgbmFtZTogY2hlY2tOYW1lLFxuICAgICAgICB2YWx1ZVxuICAgICAgfSlcbiAgICAgIGlmIChkYXRhLmRhdGEuYm9udXNEaWNlICE9PSAwKSB7XG4gICAgICAgIGlmIChkYXRhLmRhdGEuYm9udXNEaWNlID4gMCkge1xuICAgICAgICAgIGRhdGEuc3RyaW5ncy5jaGVja1JvbGxSZXF1ZXN0ICs9IGAgKCske2RhdGEuZGF0YS5ib251c0RpY2V9KWBcbiAgICAgICAgfSBlbHNlIGRhdGEuc3RyaW5ncy5jaGVja1JvbGxSZXF1ZXN0ICs9IGAgKCR7ZGF0YS5kYXRhLmJvbnVzRGljZX0pYFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLmRhdGEuc3RhdGVzPy5vYnN0YWNsZURlZmluZWQpIHtcbiAgICAgIGRhdGEuc3RyaW5ncy5vYnN0YWNsZURlZmluZWQgPSBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkZhY2luZ09ic3RhY2xlJywge1xuICAgICAgICB0eXBlOiBkYXRhLmRhdGEub2JzdGFjbGUuYmFycmllclxuICAgICAgICAgID8gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFCYXJyaWVyJylcbiAgICAgICAgICA6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BSGF6YXJkJylcbiAgICAgIH0pXG4gICAgICBpZiAoZGF0YS5kYXRhLm9ic3RhY2xlLm5hbWUpIHtcbiAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlRGVmaW5lZCArPSBgICgke2RhdGEuZGF0YS5vYnN0YWNsZS5uYW1lfSlgXG4gICAgICB9XG5cbiAgICAgIGRhdGEuZGF0YS5zdGF0ZXMuY2FuQXNrUm9sbCA9IHRydWVcbiAgICAgIC8vIGRhdGEuZGF0YS5zdGF0ZXMub2JzdGFjbGVDYW5CZUJyb2tlbiA9IGZhbHNlXG4gICAgICBpZiAoZGF0YS5kYXRhLm9ic3RhY2xlLmJhcnJpZXIpIHtcbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7IG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5CYXJyaWVyJykgfSlcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5vYnN0YWNsZS5oYXNIaXRQb2ludHMpIHtcbiAgICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHsgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkJyZWFrYWJsZScpIH0pXG4gICAgICAgICAgLy8gZGF0YS5kYXRhLnN0YXRlcy5vYnN0YWNsZUNhbkJlQnJva2VuID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGF0YS5kYXRhLm9ic3RhY2xlLmhhemFyZCkge1xuICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHsgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhemFyZCcpIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlKSB7XG4gICAgICAgIGlmICghZGF0YS52YWxpZENoZWNrKSB7XG4gICAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm9WYWxpZENoZWNrJyksXG4gICAgICAgICAgICBjc3M6ICdlcnJvcidcbiAgICAgICAgICB9KVxuICAgICAgICAgIGRhdGEuc3RyaW5ncy5FbnRlclZhbHVlVGl0bGUgPSBnYW1lLmkxOG4uZm9ybWF0KFxuICAgICAgICAgICAgJ0NvQzcuU2tpbGxTZWxlY3RCYXNlJyxcbiAgICAgICAgICAgIHsgbmFtZTogZGF0YS5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSB9XG4gICAgICAgICAgKVxuICAgICAgICAgIGlmICghZGF0YS5kYXRhLmNoZWNrVGhyZXNob2xkKSBkYXRhLmRhdGEuc3RhdGVzLmNhbkFza1JvbGwgPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKCFkYXRhLnZhbGlkU2tpbGwpIHtcbiAgICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob1ZhbGlkU2tpbGwnKSxcbiAgICAgICAgICAgIGNzczogJ3dhcm5pbmcnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrKSB7XG4gICAgICAgIGxldCBkYW1hZ2VTdGF0dXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQnJlYWtEb3duJylcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzPy5vYnN0YWNsZURhbWFnZVJvbGw/LnRvdGFsKSB7XG4gICAgICAgICAgZGFtYWdlU3RhdHVzICs9IGAgOiAke3RoaXMuZGF0YS5vYmplY3RzLm9ic3RhY2xlRGFtYWdlUm9sbC50b3RhbH1gXG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICAgICAgbmFtZTogZGFtYWdlU3RhdHVzXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMub2JzdGFjbGVEYW1hZ2VSb2xsZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5kYXRhLm9iamVjdHM/Lm9ic3RhY2xlRGFtYWdlUm9sbD8udG90YWwgPD0gMCkge1xuICAgICAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlRGFtYWdlID1cbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5vRGFtYWdlRGVhbHQnKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLmlubGluZURhbWFnZVJvbGwgPSBjcmVhdGVJbmxpbmVSb2xsKFxuICAgICAgICAgICAgICB0aGlzLmRhdGEub2JqZWN0cy5vYnN0YWNsZURhbWFnZVJvbGxcbiAgICAgICAgICAgICk/Lm91dGVySFRNTFxuICAgICAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlRGFtYWdlID0gZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5EYW1hZ2VEZWFsdCcsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGRhdGEuaW5saW5lRGFtYWdlUm9sbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMudHJ5VG9OZWdvdGlhdGUpIHtcbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7IG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5OZWdvdGlhdGUnKSB9KVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5kYXRhLnRvdGFsQ2F1dGlvdXNBcHByb2FjaCkge1xuICAgICAgICBjb25zdCBjYXV0aW91c1N0YXR1cyA9IHtcbiAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2F1dGlvdXMnKSxcbiAgICAgICAgICBjc3M6ICcnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YS50b3RhbENhdXRpb3VzQXBwcm9hY2ggPiAxKSB7XG4gICAgICAgICAgY2F1dGlvdXNTdGF0dXMuY3NzID0gJ3N0cm9uZydcbiAgICAgICAgICBkYXRhLnN0cmluZ3MuY2F1dGlvdXNBcHByb2FjaFR5cGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5CZWluZ1ZlcnlDYXV0aW91cydcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmNhdXRpb3VzQXBwcm9hY2hUeXBlID1cbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5CZWluZ0NhdXRpb3VzJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEuZmxhZ3MuY29uc3VtZUJvbnVzRGljZSkgY2F1dGlvdXNTdGF0dXMuY3NzICs9ICcgY29uc3VtZSdcbiAgICAgICAgZGF0YS5zdGF0dXMucHVzaChjYXV0aW91c1N0YXR1cylcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzPy5jaGVjaykge1xuICAgICAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmhhemFyZCkgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSB0cnVlIC8vIE9uIGhhemFyZCwgeW91IHBhc3MgZXZlbiBpZiB5b3UgZmFpbCB5b3VyIHJvbGxcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLnBhc3NlZCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPT09ICd1bmRlZmluZWQnKSB0aGlzLmRhdGEubW92ZVBsYXllciA9IHRydWVcbiAgICAgICAgICBkYXRhLnN0cmluZ3Mub2JzdGFjbGVQYXNzZWQgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5PYnN0YWNsZVBhc3NlZCdcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLmx1Y2tTcGVudCkge1xuICAgICAgICAgICAgZGF0YS5zdHJpbmdzLm9ic3RhY2xlUGFzc2VkICs9IGAgKCR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5Hb3RMdWNreSdcbiAgICAgICAgICAgICl9KWBcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YS5zdGF0dXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU3VjY2VzcycpLFxuICAgICAgICAgICAgY3NzOiAnc3VjY2VzcydcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLmlzRnVtYmxlKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmNoZWNrRmFpbGVkID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk9ic3RhY2xlRnVtYmxlJylcbiAgICAgICAgICBkYXRhLnN0YXR1cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GdW1ibGUnKSxcbiAgICAgICAgICAgIGNzczogJ2Z1bWJsZSdcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEuc3RyaW5ncy5jaGVja0ZhaWxlZCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5PYnN0YWNsZUZhaWwnKVxuICAgICAgICAgIGRhdGEuc3RhdHVzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZhaWx1cmUnKSxcbiAgICAgICAgICAgIGNzczogJ2ZhaWx1cmUnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLnBsYXllckFjdGlvbkRlZmluZWQpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuaGF6YXJkKSB7XG4gICAgICAgIGRhdGEuc3RyaW5ncy5wbGF5ZXJJbnRlbnRpb25zID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICdDb0M3LlRyeVRvTmVnb3RpYXRlSGF6YXJkJ1xuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5vYnN0YWNsZS5iYXJyaWVyKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLnBsYXllckludGVudGlvbnMgPSBnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAnQ29DNy5UcnlUb0dldFBhc3RCYXJyaWVycydcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLnBsYXllckludGVudGlvbnMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHJ5VG9CcmVhaycpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnN0YXRlcy5jaGVja1JvbGxlZCkge1xuICAgICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMuY2FyZFJlc29sdmVkKSB7XG4gICAgICAgIC8vIElmIHRoZSBjYXJkIGlzIHJlc29sdmVkIHRoZSBjaGVjayBpcyBmcm96ZW5cbiAgICAgICAgZGF0YS5odG1sQ2hlY2sgPSBhd2FpdCB0aGlzLmRhdGEub2JqZWN0cy5jaGVjay5pbmxpbmVDaGVjaz8ub3V0ZXJIVE1MXG4gICAgICB9IGVsc2UgZGF0YS5odG1sQ2hlY2sgPSBhd2FpdCB0aGlzLmRhdGEub2JqZWN0cy5jaGVjay5nZXRIdG1sUm9sbCgpXG4gICAgfVxuXG4gICAgLy8gaWYgKHRoaXMuZGF0YS5vYmplY3RzPy5mYWlsZWREYW1hZ2VSb2xsKSB7XG4gICAgLy8gICBpZiAoIWRhdGEuZGF0YS5hcm1vcikge1xuICAgIC8vICAgICBpZiAodGhpcy5wYXJ0aWNpcGFudC5hY3RvcilcbiAgICAvLyAgICAgICBkYXRhLmRhdGEuYXJtb3IgPVxuICAgIC8vICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5kYXRhLmRhdGEuYXR0cmlicy5hcm1vci52YWx1ZSB8fCAwXG4gICAgLy8gICB9XG4gICAgLy8gICBpZiAoZGF0YS5kYXRhLmFybW9yKSB7XG4gICAgLy8gICAgIGlmIChpc05hTihOdW1iZXIoZGF0YS5kYXRhLmFybW9yKSkpIGRhdGEuZGF0YS5hcm1vciA9IG51bGxcbiAgICAvLyAgIH1cbiAgICAvLyB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnN0YXRlcy5jYXJkUmVzb2x2ZWQpIHtcbiAgICAgIGRhdGEucGxheWVyRGFtYWdlVGFrZW4gPSBmYWxzZVxuICAgICAgZGF0YS5vYnN0YWxjZURlZmluaXRpb25DaGFuZ2VkID0gZmFsc2VcblxuICAgICAgLy8gSGFzIHRoZSBvYnN0YWNsZSBjaGFuZ2VkID9cbiAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLmxpc3RDaGFuZ2VzKClcbiAgICAgIGlmIChkaWZmLmNoYW5nZXMpIHtcbiAgICAgICAgZGF0YS5vYnN0YWxjZURlZmluaXRpb25DaGFuZ2VkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBJcyBwbGF5ZXIgdGFraW5nIGRhbWFnZVxuICAgICAgaWYgKHRoaXMuZGF0YS5vYnN0YWNsZS5oYXNEYW1hZ2UgJiYgdGhpcy5kYXRhLm9iamVjdHM/LmNoZWNrPy5pc0ZhaWx1cmUpIHtcbiAgICAgICAgZGF0YS5wbGF5ZXJEYW1hZ2VUYWtlbiA9IHRydWVcbiAgICAgICAgZGF0YS5pbmxpbmVEYW1hZ2VUYWtlblJvbGwgPSBjcmVhdGVJbmxpbmVSb2xsKFxuICAgICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLmZhaWxlZERhbWFnZVJvbGxcbiAgICAgICAgKT8ub3V0ZXJIVE1MXG4gICAgICAgIC8vIGlmIChkYXRhLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiA8IDApXG4gICAgICAgIC8vICAgZGF0YS5kYXRhLnRvdGFsUGxheWVyRGFtYWdlVGFrZW4gPSAwXG5cbiAgICAgICAgaWYgKGRhdGEuZGF0YS50b3RhbFBsYXllckRhbWFnZVRha2VuID09PSAwKSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmRhbWFnZVRha2VuID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LllvdVRha2VOb0RhbWFnZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YS5zdHJpbmdzLmRhbWFnZVRha2VuID0gZ2FtZS5pMThuLmZvcm1hdChcbiAgICAgICAgICAgICdDb0M3LllvdVRha2VTb21lRGFtYWdlJyxcbiAgICAgICAgICAgIHsgYW1vdW50OiBkYXRhLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGRhdGEuc3RhdHVzLnB1c2goe1xuICAgICAgICAgIG5hbWU6XG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVG90YWxEYW1hZ2UnKSArXG4gICAgICAgICAgICBgIDoke2RhdGEuZGF0YS50b3RhbFBsYXllckRhbWFnZVRha2VufWBcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuaGFzQWN0aW9uQ29zdCAmJlxuICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuaGF6YXJkICYmXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RzPy5jaGVjaz8uaXNGYWlsdXJlXG4gICAgICApIHtcbiAgICAgICAgZGF0YS5hY3Rpb25Mb3N0ID0gdHJ1ZVxuICAgICAgICBkYXRhLnN0cmluZ3MuYWN0aW9uTG9zdCA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Zb3VMb3N0VGltZScpXG4gICAgICAgIGRhdGEuaW5saW5lQWN0aW9uTG9zdFJvbGwgPSBjcmVhdGVJbmxpbmVSb2xsKFxuICAgICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLmZhaWxlZEFjdGlvblJvbGxcbiAgICAgICAgKT8ub3V0ZXJIVE1MXG4gICAgICB9XG5cbiAgICAgIGRhdGEuc3RhdHVzLnB1c2goe1xuICAgICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2FyZFJlc29sdmVkJylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMuY2xvc2VkKSB7XG4gICAgICBpZiAodGhpcy5kYXRhLm1vdmVQbGF5ZXIpIHtcbiAgICAgICAgZGF0YS5zdHJpbmdzLmZpbmFsT3V0Y29tZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Nb3ZlVG9Mb2NhdGlvbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhLnN0cmluZ3MuZmluYWxPdXRjb21lID0gZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICdDb0M3LkRvbnRNb3ZlVG9Mb2NhdGlvbidcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3luYyBHTVVwZGF0ZSAoKSB7XG4gICAgaWYgKCFnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgY29uc29sZS5lcnJvcignQ29DNzogR01VcGRhdGUgY2FsbGVkIGZyb20gbm9uIEdNIHVzZXInKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCkge1xuICAgICAgLy8gQ2FyZCBpcyByZXNvbHZlZCwgY29tcHV0ZSBhbGwgZm9ybXVsYXMgYW5kIGRhbWFnZS5cbiAgICAgIGlmICh0aGlzLmRhdGEub2JqZWN0cz8uZmFpbGVkRGFtYWdlUm9sbD8udG90YWwpIHtcbiAgICAgICAgY29uc3QgdG90YWxEYW1hZ2UgPSB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWREYW1hZ2VSb2xsLnRvdGFsXG4gICAgICAgIGNvbnN0IGFybW9yVmFsdWUgPSB0aGlzLmRhdGEuZmxhZ3MuaWdub3JlQXJtb3IgPyAwIDogdGhpcy5kYXRhLmFybW9yXG4gICAgICAgIGlmIChDb0M3VXRpbGl0aWVzLmlzRm9ybXVsYShhcm1vclZhbHVlKSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcm1vciA9IChcbiAgICAgICAgICAgIGF3YWl0IG5ldyBSb2xsKGFybW9yVmFsdWUpLnJvbGwoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICAgICkudG90YWxcbiAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oTnVtYmVyKGFybW9yVmFsdWUpKSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcm1vciA9IE51bWJlcihhcm1vclZhbHVlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiA9IHRvdGFsRGFtYWdlIC0gdGhpcy5kYXRhLmFybW9yXG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS50b3RhbFBsYXllckRhbWFnZVRha2VuIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnRvdGFsUGxheWVyRGFtYWdlVGFrZW4gPSAwXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuZGF0YS5yZWZsZWN0T2JzdGFsZUNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnJlZmxlY3RPYnN0YWxlQ2hhbmdlcyA9IHRydWUgLy8gQnkgZGVmYXVsdCByZWZsZWN0IGNoYW5nZXNcbiAgICAgIH1cblxuICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5kYXRhLm1vdmVQbGF5ZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPVxuICAgICAgICAgICh0aGlzLmRhdGEuc3RhdGVzLnRyeVRvTmVnb3RpYXRlIHx8IHRoaXMuZGF0YS5vYnN0YWNsZS5oYXphcmQpICYmXG4gICAgICAgICAgIXRoaXMuZGF0YS5zdGF0ZXMuZmFpbGVkQ29uc2VxdWVuY2VzUm9sbGVkXG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLmJhcnJpZXIgJiZcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLmhhc0hpdFBvaW50cyAmJlxuICAgICAgICB0aGlzLmRhdGEub2JqZWN0cz8ub2JzdGFjbGVEYW1hZ2VSb2xsPy50b3RhbFxuICAgICAgKSB7XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IHRoaXMuZGF0YS50b3RhbE9ic3RhY2xlRGFtYWdlKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLnRvdGFsT2JzdGFjbGVEYW1hZ2UgPVxuICAgICAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsLnRvdGFsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5kYXRhLmZsYWdzLm9ic3RhY2xlRGVzdG95ZWQpIHtcbiAgICAgICAgICB0aGlzLmRhdGEuZmxhZ3Mub2JzdGFjbGVEZXN0b3llZCA9XG4gICAgICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuSGl0UG9pbnRzIC0gdGhpcy5kYXRhLnRvdGFsT2JzdGFjbGVEYW1hZ2UgPD0gMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5zdGF0ZXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb25BcnJheSA9IGR1cGxpY2F0ZShcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudC5tb3ZlbWVudEFjdGlvbkFycmF5XG4gICAgICApXG4gICAgICB0aGlzLmRhdGEuRUVDX0FDVElPTiA9IHsgZGV0YWNoRGF0YTogdHJ1ZSB9XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3luYyBsb2NhbENvbXB1dGUgKCkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFzeW5jIGFzc2lnbk9iamVjdHMgKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuZGF0YS5vYmplY3RzPy5jaGVjayAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuY2hlY2s/LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnT2JqZWN0J1xuICAgICkge1xuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuY2hlY2sgPSBDb0M3Q2hlY2suZnJvbURhdGEodGhpcy5kYXRhLm9iamVjdHMuY2hlY2spXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5kYXRhLm9iamVjdHM/Lm9ic3RhY2xlRGFtYWdlUm9sbCAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gJ09iamVjdCdcbiAgICApIHtcbiAgICAgIHRoaXMuZGF0YS5vYmplY3RzLm9ic3RhY2xlRGFtYWdlUm9sbCA9IFJvbGwuZnJvbURhdGEoXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLm9ic3RhY2xlRGFtYWdlUm9sbFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmRhdGEub2JqZWN0cz8uZmFpbGVkRGFtYWdlUm9sbCAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkRGFtYWdlUm9sbD8uY29uc3RydWN0b3I/Lm5hbWUgPT09ICdPYmplY3QnXG4gICAgKSB7XG4gICAgICB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWREYW1hZ2VSb2xsID0gUm9sbC5mcm9tRGF0YShcbiAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkRGFtYWdlUm9sbFxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmRhdGEub2JqZWN0cz8uZmFpbGVkQWN0aW9uUm9sbCAmJlxuICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkQWN0aW9uUm9sbD8uY29uc3RydWN0b3I/Lm5hbWUgPT09ICdPYmplY3QnXG4gICAgKSB7XG4gICAgICB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWRBY3Rpb25Sb2xsID0gUm9sbC5mcm9tRGF0YShcbiAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkQWN0aW9uUm9sbFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSAoKSB7XG4gICAgLy8gY29uc3QgY2hhc2UgPSBhd2FpdCBmcm9tVXVpZCh0aGlzLmRhdGEuY2hhc2VVdWlkKVxuICAgIGlmICghdGhpcy5jaGFzZSkgcmV0dXJuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmNoYXNlLmFjdGl2ZVBhcnRpY2lwYW50RGF0YT8udXVpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5kYXRhID09PSAndW5kZWZpbmVkJykgdGhpcy5kYXRhID0ge31cbiAgICBpZiAodHlwZW9mIHRoaXMuZGF0YS5zdGF0ZXMgPT09ICd1bmRlZmluZWQnKSB0aGlzLmRhdGEuc3RhdGVzID0ge31cblxuICAgIC8vIGNvbnN0IGxvY2F0aW9uID0gY2hhc2UuZ2V0TG9jYXRpb25EYXRhKHRoaXMuZGF0YS5sb2NhdGlvblV1aWQpXG4gICAgdGhpcy5kYXRhLm9ic3RhY2xlID0gdGhpcy5sb2NhdGlvbj8ub2JzdGFjbGVEZXRhaWxzIC8vIEZlZWQgdGhlIG9ic3RhY2xlIGRlZmluaXRpb25cbiAgICAvLyB0aGlzLmRhdGEucGFydGljaXBhbnREYXRhID0gY2hhc2UuYWN0aXZlUGFydGljaXBhbnREYXRhXG4gICAgdGhpcy5kYXRhLnBhcnRpY2lwYW50VXVpZCA9IHRoaXMuY2hhc2UuYWN0aXZlUGFydGljaXBhbnREYXRhLnV1aWRcblxuICAgIGlmICh0aGlzLnBhcnRpY2lwYW50RGF0YT8uYm9udXNEaWNlID4gMCkge1xuICAgICAgdGhpcy5kYXRhLmJvbnVzRGljZSA9IHRoaXMucGFydGljaXBhbnREYXRhLmJvbnVzRGljZVxuICAgICAgdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UgPSB0cnVlXG4gICAgICB0aGlzLmRhdGEuZmxhZ3MuaGFzQm9udXNEaWNlID0gdGhpcy5wYXJ0aWNpcGFudC5oYXNCb251c0RpY2VcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb25BcnJheSA9IGR1cGxpY2F0ZShcbiAgICAgIHRoaXMucGFydGljaXBhbnQubW92ZW1lbnRBY3Rpb25BcnJheVxuICAgIClcbiAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb24gPSB0aGlzLnBhcnRpY2lwYW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnNcbiAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ID0gMFxuICB9XG5cbiAgZ2V0IHBhcnRpY2lwYW50ICgpIHtcbiAgICBpZiAoIXRoaXMucGFydGljaXBhbnREYXRhKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgLy8gaWYgKCF0aGlzLl9wYXJ0aWNpcGFudClcbiAgICAvLyAgIHRoaXMuX3BhcnRpY2lwYW50ID0gbmV3IF9wYXJ0aWNpcGFudCh0aGlzLnBhcnRpY2lwYW50RGF0YSlcbiAgICAvLyByZXR1cm4gdGhpcy5fcGFydGljaXBhbnRcbiAgICByZXR1cm4gbmV3IF9wYXJ0aWNpcGFudCh0aGlzLnBhcnRpY2lwYW50RGF0YSkgLy8gVE8gUkVTRVRcbiAgfVxuXG4gIGdldCBwYXJ0aWNpcGFudERhdGEgKCkge1xuICAgIGlmICghdGhpcy5jaGFzZSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICghdGhpcy5kYXRhLnBhcnRpY2lwYW50VXVpZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmNoYXNlLmdldFBhcnRpY2lwYW50RGF0YSh0aGlzLmRhdGEucGFydGljaXBhbnRVdWlkKVxuICB9XG5cbiAgZ2V0IGxvY2F0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuY2hhc2UpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5jaGFzZS5nZXRMb2NhdGlvbkRhdGEodGhpcy5kYXRhLmxvY2F0aW9uVXVpZClcbiAgfVxuXG4gIGdldCBvYnN0YWNsZSAoKSB7XG4gICAgaWYgKCF0aGlzLmxvY2F0aW9uKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMubG9jYXRpb24ub2JzdGFjbGVEZXRhaWxzXG4gIH1cblxuICBnZXQgY2hhc2UgKCkge1xuICAgIGlmICghdGhpcy5kYXRhLmNoYXNlVXVpZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmICghdGhpcy5fY2hhc2UpIHRoaXMuX2NoYXNlID0gQ29DN1V0aWxpdGllcy5TZnJvbVV1aWQodGhpcy5kYXRhLmNoYXNlVXVpZClcbiAgICByZXR1cm4gdGhpcy5fY2hhc2VcbiAgfVxuXG4gIGdldCByb2xsICgpIHtcbiAgICBsZXQgcm9sbERhdGFcbiAgICBpZiAodGhpcy5wYXJ0aWNpcGFudC5hY3RvciAmJiB0aGlzLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lKSB7XG4gICAgICBjb25zdCBhY3RvclNraWxsID0gdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5maW5kKFxuICAgICAgICB0aGlzLmRhdGEub2JzdGFjbGUuY2hlY2tOYW1lXG4gICAgICApXG4gICAgICBpZiAodHlwZW9mIGFjdG9yU2tpbGwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJvbGxEYXRhID0gYWN0b3JTa2lsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9sbERhdGEgPSB7XG4gICAgICAgICAgdHlwZTogJ3ZhbHVlJyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSxcbiAgICAgICAgICAgIHRocmVzaG9sZDogdGhpcy5kYXRhLmNoZWNrVGhyZXNob2xkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByb2xsRGF0YS5hY3RvciA9IHsgYWN0b3JLZXk6IHRoaXMucGFydGljaXBhbnQuYWN0b3IuaWQgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSAmJiB0aGlzLmRhdGEuY2hlY2tUaHJlc2hvbGQpIHtcbiAgICAgICAgcm9sbERhdGEgPSB7XG4gICAgICAgICAgdHlwZTogJ3ZhbHVlJyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5kYXRhLm9ic3RhY2xlLmNoZWNrTmFtZSxcbiAgICAgICAgICAgIHRocmVzaG9sZDogdGhpcy5kYXRhLmNoZWNrVGhyZXNob2xkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rvcjoge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5wYXJ0aWNpcGFudC5uYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyb2xsRGF0YSkge1xuICAgICAgcm9sbERhdGEuZGljZU1vZGlmaWVyID0gdGhpcy5kYXRhPy5ib251c0RpY2UgfHwgMFxuICAgICAgcm9sbERhdGEuZGlmZmljdWx0eSA9IENvQzdDaGVjay5kaWZmaWN1bHR5TGV2ZWwucmVndWxhclxuICAgICAgcm9sbERhdGEuZGVueVB1c2ggPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiByb2xsRGF0YSB8fCB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCB2YWxpZEZhaWxlZFJvbGxzICgpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5vYmplY3RzPy5jaGVjaz8uaXNGYWlsdXJlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmhhc0RhbWFnZSkge1xuICAgICAgY29uc3QgZGFtYWdlID1cbiAgICAgICAgdHlwZW9mIHRoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRDaGVja0RhbWFnZSA9PT0gJ251bWJlcidcbiAgICAgICAgICA/IGAke3RoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRDaGVja0RhbWFnZX1gXG4gICAgICAgICAgOiB0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQ2hlY2tEYW1hZ2VcbiAgICAgIGlmICghdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZENoZWNrRGFtYWdlKSByZXR1cm4gZmFsc2VcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZENoZWNrRGFtYWdlICYmXG4gICAgICAgICFSb2xsLnZhbGlkYXRlKGRhbWFnZSkgLy8gVmFsaWRhdGUgb25seSB0YWtlIGEgc3RyaW5nLCBpZiBkYW1hZ2UgaXMgYSBudW1iZXIgY29udmVydCB0byBhIHN0cmluZ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5kYXRhLm9ic3RhY2xlLmhhemFyZCAmJiB0aGlzLmRhdGEub2JzdGFjbGUuaGFzQWN0aW9uQ29zdCkge1xuICAgICAgY29uc3QgYWN0aW9uQ29zdCA9XG4gICAgICAgIHR5cGVvZiB0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQWN0aW9uQ29zdCA9PT0gJ251bWJlcidcbiAgICAgICAgICA/IGAke3RoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0fWBcbiAgICAgICAgICA6IHRoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0XG4gICAgICBpZiAoIXRoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0KSByZXR1cm4gZmFsc2VcbiAgICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQWN0aW9uQ29zdCAmJiAhUm9sbC52YWxpZGF0ZShhY3Rpb25Db3N0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGdldCB3ZWFwb25zT3B0aW9ucyAoKSB7XG4gICAgY29uc3Qgd2VhcG9ucyA9IFtdXG4gICAgdGhpcy5wYXJ0aWNpcGFudC5hY3Rvcj8uaXRlbVR5cGVzPy53ZWFwb24/LmZvckVhY2godyA9PiB7XG4gICAgICBsZXQgZm9ybXVsYSA9IHcuZGF0YS5kYXRhLnJhbmdlLm5vcm1hbC5kYW1hZ2VcbiAgICAgIGxldCBkYiA9IHRoaXMucGFydGljaXBhbnQuYWN0b3IuZGJcbiAgICAgIGlmIChkYiA9PT0gbnVsbCB8fCBOdW1iZXIoZGIpID09PSAwKSB7XG4gICAgICAgIGRiID0gJydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRiID0gYCR7ZGJ9YFxuICAgICAgfVxuXG4gICAgICBpZiAoZGIgJiYgIWRiLnN0YXJ0c1dpdGgoJy0nKSkgZGIgPSAnKycgKyBkYlxuICAgICAgaWYgKHcuZGF0YS5kYXRhLnByb3BlcnRpZXMuYWRkYikgZm9ybXVsYSA9IGZvcm11bGEgKyBkYlxuICAgICAgaWYgKHcuZGF0YS5kYXRhLnByb3BlcnRpZXMuYWhiZCkgZm9ybXVsYSA9IGZvcm11bGEgKyBkYiArICcvMidcbiAgICAgIHdlYXBvbnMucHVzaCh7XG4gICAgICAgIG5hbWU6IGAke3cuZGF0YS5uYW1lfSAoJHtmb3JtdWxhfSlgLFxuICAgICAgICBkYW1hZ2U6IGZvcm11bGEsXG4gICAgICAgIHV1aWQ6IHcudXVpZFxuICAgICAgfSlcbiAgICB9KVxuICAgIHdlYXBvbnMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBpZiAoXG4gICAgICAhd2VhcG9ucy5maW5kKHcgPT5cbiAgICAgICAgdy5uYW1lXG4gICAgICAgICAgLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAuc3RhcnRzV2l0aChcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5VbmFybWVkV2VhcG9uTmFtZScpPy50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgKVxuICAgICAgKVxuICAgICkge1xuICAgICAgbGV0IGRiID0gJydcbiAgICAgIGlmICh0aGlzLnBhcnRpY2lwYW50LmFjdG9yKSB7XG4gICAgICAgIGRiID0gdGhpcy5wYXJ0aWNpcGFudC5hY3Rvci5kYlxuICAgICAgICBpZiAoZGIgJiYgIWRiLnN0YXJ0c1dpdGgoJy0nKSkgZGIgPSAnKycgKyBkYlxuICAgICAgICBpZiAoZGIgPT09IG51bGwgfHwgTnVtYmVyKGRiKSA9PT0gMCkgZGIgPSAnJ1xuICAgICAgfVxuXG4gICAgICB3ZWFwb25zLnVuc2hpZnQoe1xuICAgICAgICBuYW1lOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVW5hcm1lZFdlYXBvbk5hbWUnKX0gKDFEMyR7ZGJ9KWAsXG4gICAgICAgIGRhbWFnZTogYDFEMyR7ZGJ9YCxcbiAgICAgICAgdXVpZDogJ3VuYXJtZWQnXG4gICAgICB9KVxuICAgIH1cblxuICAgIHdlYXBvbnMucHVzaCh7XG4gICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuT3RoZXInKSxcbiAgICAgIGRhbWFnZTogdGhpcy5kYXRhPy5jdXN0b21XZWFwb25EYW1hZ2UgfHwgbnVsbCxcbiAgICAgIHV1aWQ6IDBcbiAgICB9KVxuICAgIHJldHVybiB3ZWFwb25zXG4gIH1cblxuICBnZXQgdXNlZFdlYXBvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmRhdGE/LndlYXBvbkNob2ljZSkge1xuICAgICAgaWYgKCF0aGlzLndlYXBvbnNPcHRpb25zKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBpZiAoIXRoaXMuZGF0YSkgdGhpcy5kYXRhID0ge30gLy8gdXNlbGVzcyAhISFcbiAgICAgIHRoaXMuZGF0YS53ZWFwb25DaG9pY2UgPSB0aGlzLndlYXBvbnNPcHRpb25zWzBdLnV1aWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLndlYXBvbkNob2ljZSkge1xuICAgICAgY29uc3Qgd2VhcG9uID0gdGhpcy53ZWFwb25zT3B0aW9ucy5maW5kKFxuICAgICAgICBlID0+IGUudXVpZCA9PT0gdGhpcy5kYXRhLndlYXBvbkNob2ljZVxuICAgICAgKVxuICAgICAgaWYgKHdlYXBvbikgcmV0dXJuIHdlYXBvblxuICAgIH1cbiAgfVxuXG4gIGdldCBpbmZsaWN0ZWREYW1hZ2VGb3JtdWxhICgpIHtcbiAgICBpZiAodGhpcy51c2VkV2VhcG9uKSB7XG4gICAgICBjb25zdCB3ZWFwb24gPSB0aGlzLnVzZWRXZWFwb25cbiAgICAgIGlmICh3ZWFwb24gJiYgd2VhcG9uLmRhbWFnZSAmJiBSb2xsLnZhbGlkYXRlKHdlYXBvbi5kYW1hZ2UpKSB7XG4gICAgICAgIHJldHVybiB3ZWFwb24uZGFtYWdlXG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCB2YWxpZE9ic3RhY2xlRGFtYWdlICgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmRhdGEub2JzdGFjbGUuaGFzSGl0UG9pbnRzICYmXG4gICAgICAhaXNOYU4oTnVtYmVyKHRoaXMuZGF0YS5vYnN0YWNsZS5IaXRQb2ludHMpKSAmJlxuICAgICAgTnVtYmVyKHRoaXMuZGF0YS5vYnN0YWNsZS5IaXRQb2ludHMpID4gMCAmJlxuICAgICAgdGhpcy5pbmZsaWN0ZWREYW1hZ2VGb3JtdWxhXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldCBzdHJpbmdzICgpIHtcbiAgICBjb25zdCBzdHJpbmdzID0ge31cbiAgICBzdHJpbmdzLmRhbWFnZVJvbGxSZXF1ZXN0ID0gdGhpcy51c2VkV2VhcG9uLm5hbWVcblxuICAgIHJldHVybiBzdHJpbmdzXG4gIH1cblxuICAvLyBBY3Rpb25zIDpcbiAgYXN5bmMgdmFsaWRhdGVDYXJkIChvcHRpb25zKSB7XG4gICAgbGV0IGxvYWN0aW9uQ2hhbmdlZFxuICAgIGxldCBwYXJ0aWNpcGFudENoYWdlZCA9IGZhbHNlXG4gICAgY29uc3Qgb2JzdGFjbGVVcGRhdGUgPSB7fVxuICAgIG9ic3RhY2xlVXBkYXRlLm9ic3RhY2xlRGV0YWlscyA9IHt9XG4gICAgY29uc3QgcGFydGljaXBhbnRVcGRhdGUgPSB7fVxuICAgIGlmICh0aGlzLmRhdGEuZmxhZ3Mub2JzdGFjbGVEZXN0b3llZCkge1xuICAgICAgbG9hY3Rpb25DaGFuZ2VkID0gdHJ1ZVxuICAgICAgb2JzdGFjbGVVcGRhdGUub2JzdGFjbGUgPSBmYWxzZVxuICAgICAgb2JzdGFjbGVVcGRhdGUub2JzdGFjbGVEZXRhaWxzLmhhemFyZCA9IGZhbHNlXG4gICAgICBvYnN0YWNsZVVwZGF0ZS5vYnN0YWNsZURldGFpbHMuYmFycmllciA9IGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZGlmZiA9IHRoaXMubGlzdENoYW5nZXMoKVxuICAgIGlmIChkaWZmLmNoYW5nZXMpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEucmVmbGVjdE9ic3RhbGVDaGFuZ2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRpZmYub2JzdGFjbGUpKSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gJ3R5cGUnKSB7XG4gICAgICAgICAgICBvYnN0YWNsZVVwZGF0ZS5vYnN0YWNsZURldGFpbHNbdmFsdWUua2V5XSA9IHZhbHVlLm5ld1xuICAgICAgICAgICAgbG9hY3Rpb25DaGFuZ2VkID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEudG90YWxPYnN0YWNsZURhbWFnZSA+IDAgJiYgdGhpcy5kYXRhLm9ic3RhY2xlLmhhc0hpdFBvaW50cykge1xuICAgICAgbGV0IHJlbWFpbmluZ0hwID0gdGhpcy5kYXRhLm9ic3RhY2xlLkhpdFBvaW50c1xuICAgICAgcmVtYWluaW5nSHAgLT0gdGhpcy5kYXRhLnRvdGFsT2JzdGFjbGVEYW1hZ2VcbiAgICAgIGlmIChyZW1haW5pbmdIcCA8IDApIHJlbWFpbmluZ0hwID0gMFxuICAgICAgaWYgKHRoaXMub2JzdGFjbGUuSGl0UG9pbnRzICE9PSByZW1haW5pbmdIcCkge1xuICAgICAgICBvYnN0YWNsZVVwZGF0ZS5vYnN0YWNsZURldGFpbHMuSGl0UG9pbnRzID0gcmVtYWluaW5nSHBcbiAgICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlLkhpdFBvaW50cyA9IHJlbWFpbmluZ0hwXG4gICAgICAgIGxvYWN0aW9uQ2hhbmdlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnRvdGFsUGxheWVyRGFtYWdlVGFrZW4gPiAwKSB7XG4gICAgICBwYXJ0aWNpcGFudENoYWdlZCA9IHRydWVcbiAgICAgIGlmICh0aGlzLnBhcnRpY2lwYW50LmFjdG9yKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGFydGljaXBhbnQuYWN0b3IuZGVhbERhbWFnZShcbiAgICAgICAgICB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlbixcbiAgICAgICAgICB7IGlnbm9yZUFybW9yOiB0cnVlIH1cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydGljaXBhbnRVcGRhdGUuaHAgPSB0aGlzLnBhcnRpY2lwYW50RGF0YS5ocFxuICAgICAgICBwYXJ0aWNpcGFudFVwZGF0ZS5ocCAtPSB0aGlzLmRhdGEudG90YWxQbGF5ZXJEYW1hZ2VUYWtlblxuICAgICAgICBpZiAocGFydGljaXBhbnRVcGRhdGUuaHAgPCAwKSBwYXJ0aWNpcGFudFVwZGF0ZS5ocCA9IDBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnRvdGFsQWN0aW9uQ29zdCA+IDApIHtcbiAgICAgIHBhcnRpY2lwYW50Q2hhZ2VkID0gdHJ1ZVxuICAgICAgcGFydGljaXBhbnRVcGRhdGUuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9XG4gICAgICAgIHRoaXMucGFydGljaXBhbnREYXRhLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnNcbiAgICAgIHBhcnRpY2lwYW50VXBkYXRlLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgLT0gdGhpcy5kYXRhLnRvdGFsQWN0aW9uQ29zdFxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UgPT09ICd1bmRlZmluZWQnKSB0aGlzLmRhdGEuZmxhZ3MuY29uc3VtZUJvbnVzRGljZSA9IHRydWUgLy8gQm9udXMgZGljZSBhd2FyZGVkIGR1cmluZyBmbG93IGFyZSBiZWluZyBjb25zdW1lZFxuXG4gICAgaWYgKHRoaXMuZGF0YS5mbGFncy5jb25zdW1lQm9udXNEaWNlKSB7XG4gICAgICBwYXJ0aWNpcGFudENoYWdlZCA9IHRydWVcbiAgICAgIHBhcnRpY2lwYW50VXBkYXRlLmJvbnVzRGljZSA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFxuICAgICAgICAhaXNOYU4odGhpcy5kYXRhLmJvbnVzRGljZSkgJiZcbiAgICAgICAgdGhpcy5kYXRhLmJvbnVzRGljZSAhPT0gdGhpcy5wYXJ0aWNpcGFudC5ib251c0RpY2VcbiAgICAgICkge1xuICAgICAgICBwYXJ0aWNpcGFudFVwZGF0ZS5ib251c0RpY2UgPSB0aGlzLmRhdGEuYm9udXNEaWNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5tb3ZlUGxheWVyKSB7XG4gICAgICBsZXQgdGFyZ2V0TG9jYXRpb25cbiAgICAgIGlmICh0aGlzLmRhdGEuZm9yd2FyZCkge1xuICAgICAgICB0YXJnZXRMb2NhdGlvbiA9IHRoaXMubG9jYXRpb25cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldExvY2F0aW9uID0gdGhpcy5jaGFzZS5nZXRMb2NhdGlvblNoaWZ0KHRoaXMubG9jYXRpb24udXVpZCwge1xuICAgICAgICAgIHNraXA6IC0xXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRMb2NhdGlvbi51dWlkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2hhc2UubW92ZVBhcnRpY2lwYW50VG9Mb2NhdGlvbihcbiAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50RGF0YS51dWlkLFxuICAgICAgICAgIHRhcmdldExvY2F0aW9uLnV1aWQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2Nyb2xsVG9Mb2NhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIGFjdGl2YXRlTG9jYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgcmVuZGVyOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsb2FjdGlvbkNoYW5nZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2hhc2UudXBkYXRlTG9jYXRpb24odGhpcy5sb2NhdGlvbi51dWlkLCBvYnN0YWNsZVVwZGF0ZSwge1xuICAgICAgICByZW5kZXI6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAocGFydGljaXBhbnRDaGFnZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2hhc2UudXBkYXRlUGFydGljaXBhbnQoXG4gICAgICAgIHRoaXMucGFydGljaXBhbnREYXRhLnV1aWQsXG4gICAgICAgIHBhcnRpY2lwYW50VXBkYXRlLFxuICAgICAgICB7IHJlbmRlcjogZmFsc2UgfVxuICAgICAgKVxuICAgIH1cbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNsb3NlZCA9IHRydWVcbiAgICBhd2FpdCB0aGlzLmNoYXNlLmFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybigpIC8vIFJlbmRlciB3aWxsIGJlIGRvbmUgdGhlcmUgIVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyBkZWZpbmVPYnN0YWNsZSAob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5kYXRhLnN0YXRlcykgdGhpcy5kYXRhLnN0YXRlcyA9IHt9XG4gICAgdGhpcy5kYXRhLnN0YXRlcy5vYnN0YWNsZURlZmluZWQgPSB0cnVlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGFzeW5jIHRyeVRvTmVnb3RpYXRlT2JzdGFjbGUgKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmJyZWFrT3JOZWdvdGlhdGVEZWZpbmVkID0gdHJ1ZVxuICAgIHRoaXMuZGF0YS5zdGF0ZXMudHJ5VG9OZWdvdGlhdGUgPSB0cnVlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgdHJ5VG9CcmVha0Rvd25PYnN0YWNsZSAob3B0aW9ucykge1xuICAgIHRoaXMuZGF0YS5zdGF0ZXMuYnJlYWtPck5lZ290aWF0ZURlZmluZWQgPSB0cnVlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb05lZ290aWF0ZSA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gdHJ1ZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyBjYW5jZWxPYnN0YWNsZURlZmluaXRpb24gKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRhdGEuc3RhdGVzLm9ic3RhY2xlRGVmaW5lZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy5icmVha09yTmVnb3RpYXRlRGVmaW5lZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb05lZ290aWF0ZSA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgY2FuY2VsQnJlYWtPclBhc3NDaG9pY2UgKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5vYnN0YWNsZS5oYXNIaXRQb2ludHMpIHJldHVybiB0aGlzLmNhbmNlbE9ic3RhY2xlRGVmaW5pdGlvbigpXG4gICAgdGhpcy5kYXRhLnN0YXRlcy5icmVha09yTmVnb3RpYXRlRGVmaW5lZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb05lZ290aWF0ZSA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnN0YXRlcy50cnlUb0JyZWFrID0gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgcmVxdWVzdFJvbGwgKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRhdGEuc3RhdGVzLnBsYXllckFjdGlvbkRlZmluZWQgPSB0cnVlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGFzeW5jIHRha2VDYXV0aW91c0FwcHJvYWNoIChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmRhdGEudG90YWxDYXV0aW91c0FwcHJvYWNoKSB0aGlzLmRhdGEudG90YWxDYXV0aW91c0FwcHJvYWNoID0gMFxuICAgIHRoaXMuZGF0YS50b3RhbENhdXRpb3VzQXBwcm9hY2ggKz0gMVxuICAgIHRoaXMuZGF0YS5ib251c0RpY2UgKz0gMVxuICAgIHRoaXMuZGF0YS50b3RhbEFjdGlvbkNvc3QgKz0gMVxuICAgIGlmICghdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5mbGFncy5jb25zdW1lQm9udXNEaWNlID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAoIXRoaXMuZGF0YS5mbGFncy5oYXNCb251c0RpY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5mbGFncy5oYXNCb251c0RpY2UgPSB0cnVlXG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb24gPD0gdGhpcy5kYXRhLnRvdGFsQWN0aW9uQ29zdCkgeyAvLyBBbGwgbW92IGFjdGlvbiBoYXZlIGJlZW4gdXNlZCB0byB0YWtlIGN1YXRpb3VzIGFwcHJvYWNoLlxuICAgICAgdGhpcy5kYXRhLmZsYWdzLmNvbnN1bWVCb251c0RpY2UgPSBmYWxzZSAvLyBEbyBub3QgY29uc3VtZSB0aGUgYm9udXMgZGljZS5cbiAgICAgIHRoaXMuZGF0YS5zdGF0ZXMuY2FyZFJlc29sdmVkID0gdHJ1ZVxuICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgcm9sbFNraWxsQ2hlY2sgKG9wdGlvbnMpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLmV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuXG4gICAgdGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGVkJylcbiAgICBpZiAoIXRoaXMucm9sbCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm90aGluZ1RvUm9sbCcpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghdGhpcy5kYXRhLm9iamVjdHMpIHRoaXMuZGF0YS5vYmplY3RzID0ge31cbiAgICB0aGlzLmRhdGEub2JqZWN0cy5jaGVjayA9IENvQzdDaGVjay5jcmVhdGVGcm9tQWN0b3JSb2xsRGF0YSh0aGlzLnJvbGwpXG4gICAgaWYgKCF0aGlzLmRhdGEub2JqZWN0cy5jaGVjaykgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy5kYXRhLm9iamVjdHMuY2hlY2suZGVueVB1c2ggPSB0cnVlIC8vIE9ic3RhY2xlIGNoZWNrIGNhbid0IGJlIHB1c2hlZFxuICAgIGF3YWl0IHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLl9wZXJmb3JtKHsgZm9yY2VEU046IHRydWUgfSlcbiAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9IDFcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNoZWNrUm9sbGVkID0gdHJ1ZVxuICAgIHRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdkaXNhYmxlZCcpXG4gICAgaWYgKHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrLnBhc3NlZCkge1xuICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSB0cnVlXG4gICAgICB0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEuYXJtb3IgPT09ICd1bmRlZmluZWQnICYmIHRoaXMucGFydGljaXBhbnQuYWN0b3IpIHtcbiAgICAgICAgdGhpcy5kYXRhLmFybW9yID1cbiAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50LmFjdG9yLmRhdGEuZGF0YS5hdHRyaWJzLmFybW9yLnZhbHVlIHx8IDBcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgdXNlTHVjayAob3B0aW9ucykge1xuICAgIGF3YWl0IENvQzdDaGVjay5hbHRlcih0aGlzLmRhdGEub2JqZWN0cy5jaGVjaywgJ3VzZUx1Y2snLCB7XG4gICAgICB0YXJnZXQ6IG9wdGlvbnMuZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgIHVwZGF0ZTogZmFsc2VcbiAgICB9KVxuICAgIGlmICh0aGlzLmRhdGEub2JqZWN0cy5jaGVjay5wYXNzZWQpIHtcbiAgICAgIHRoaXMuZGF0YS5zdGF0ZXMuY2FyZFJlc29sdmVkID0gdHJ1ZVxuICAgICAgdGhpcy5kYXRhLm1vdmVQbGF5ZXIgPSB0cnVlXG4gICAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9IDFcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGFzeW5jIHJvbGxGYWlsQ29uc2VxdWVuY2VzIChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmRhdGEub2JqZWN0cykgdGhpcy5kYXRhLm9iamVjdHMgPSB7fVxuICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuaGFzRGFtYWdlICYmIHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrPy5pc0ZhaWx1cmUpIHtcbiAgICAgIGNvbnN0IGRhbWFnZSA9XG4gICAgICAgIHR5cGVvZiB0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQ2hlY2tEYW1hZ2UgPT09ICdudW1iZXInXG4gICAgICAgICAgPyBgJHt0aGlzLmRhdGEub2JzdGFjbGUuZmFpbGVkQ2hlY2tEYW1hZ2V9YFxuICAgICAgICAgIDogdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZENoZWNrRGFtYWdlXG4gICAgICB0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWREYW1hZ2VSb2xsID0gbmV3IFJvbGwoZGFtYWdlKVxuICAgICAgYXdhaXQgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkRGFtYWdlUm9sbC5ldmFsdWF0ZSh7IGFzeW5jOiB0cnVlIH0pXG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGEub2JzdGFjbGUuaGF6YXJkKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZGF0YS5vYnN0YWNsZS5oYXNBY3Rpb25Db3N0ICYmXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RzLmNoZWNrPy5pc0ZhaWx1cmVcbiAgICAgICkge1xuICAgICAgICBjb25zdCBhY3Rpb25Db3N0ID1cbiAgICAgICAgICB0eXBlb2YgdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZEFjdGlvbkNvc3QgPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IGAke3RoaXMuZGF0YS5vYnN0YWNsZS5mYWlsZWRBY3Rpb25Db3N0fWBcbiAgICAgICAgICAgIDogdGhpcy5kYXRhLm9ic3RhY2xlLmZhaWxlZEFjdGlvbkNvc3RcbiAgICAgICAgdGhpcy5kYXRhLm9iamVjdHMuZmFpbGVkQWN0aW9uUm9sbCA9IG5ldyBSb2xsKGFjdGlvbkNvc3QpXG4gICAgICAgIGF3YWl0IHRoaXMuZGF0YS5vYmplY3RzLmZhaWxlZEFjdGlvblJvbGwuZXZhbHVhdGUoeyBhc3luYzogdHJ1ZSB9KVxuICAgICAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9ICh0aGlzLmRhdGEub2JqZWN0cy5mYWlsZWRBY3Rpb25Sb2xsLnRvdGFsIC0gMSkgLy8gMSBhY3Rpb24gYWxyZWFkeSBzcGVuZCBmb3Igc2tpbGwgY2hlY2tcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuc3RhdGVzLmZhaWxlZENvbnNlcXVlbmNlc1JvbGxlZCA9IHRydWVcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCA9IHRydWVcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgYXNrUm9sbE9ic3RhY2xlRGFtYWdlIChvcHRpb25zKSB7XG4gICAgdGhpcy5kYXRhLnN0YXRlcy5wbGF5ZXJBY3Rpb25EZWZpbmVkID0gdHJ1ZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyByb2xsT2JzdGFjbGVEYW1hZ2UgKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5vYmplY3RzKSB0aGlzLmRhdGEub2JqZWN0cyA9IHt9XG4gICAgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsID0gbmV3IFJvbGwodGhpcy51c2VkV2VhcG9uPy5kYW1hZ2UpXG4gICAgYXdhaXQgdGhpcy5kYXRhLm9iamVjdHMub2JzdGFjbGVEYW1hZ2VSb2xsLmV2YWx1YXRlKHsgYXN5bmM6IHRydWUgfSlcbiAgICBhd2FpdCBDb0M3RGljZS5zaG93Um9sbERpY2UzZCh0aGlzLmRhdGEub2JqZWN0cy5vYnN0YWNsZURhbWFnZVJvbGwpXG4gICAgdGhpcy5kYXRhLnN0YXRlcy5vYnN0YWNsZURhbWFnZVJvbGxlZCA9IHRydWVcbiAgICB0aGlzLmRhdGEudG90YWxBY3Rpb25Db3N0ICs9IDFcbiAgICB0aGlzLmRhdGEuc3RhdGVzLmNhcmRSZXNvbHZlZCA9IHRydWVcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gTGlzdCBhbGwgY2hhbmdlc1xuICBsaXN0Q2hhbmdlcyAodmFsaWRhdGUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGRpZmYgPSB7XG4gICAgICBvYnN0YWNsZToge30sXG4gICAgICBwbGF5ZXI6IHt9LFxuICAgICAgY2hhbmdlczogZmFsc2VcbiAgICB9XG4gICAgY29uc3QgbmFtZXMgPSB7XG4gICAgICBiYXJyaWVyOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHlwZScpLFxuICAgICAgaGF6YXJkOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHlwZScpLFxuICAgICAgaGFzSGl0UG9pbnRzOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQnJlYWthYmxlJyksXG4gICAgICBIaXRQb2ludHM6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5IaXRQb2ludHMnKSxcbiAgICAgIGhhc0FjdGlvbkNvc3Q6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BY3Rpb25Db3N0JyksXG4gICAgICBmYWlsZWRBY3Rpb25Db3N0OiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQWN0aW9uQ29zdCcpLFxuICAgICAgaGFzRGFtYWdlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmlnaHRCYWNrJyksXG4gICAgICBmYWlsZWRDaGVja0RhbWFnZTogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LldlYXBvbkRhbWFnZScpLFxuICAgICAgY2hlY2tOYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2hlY2snKSxcbiAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5OYW1lJylcbiAgICB9XG5cbiAgICBpZiAodmFsaWRhdGUgJiYgIXRoaXMuZGF0YS52YWxpZGF0aW9uKSB7XG4gICAgICB0aGlzLmRhdGEudmFsaWRhdGlvbiA9IHt9XG4gICAgfVxuXG4gICAgY29uc3QgbmV3T2JzdGFjbGUgPSBmb3VuZHJ5LnV0aWxzLmRpZmZPYmplY3QoXG4gICAgICB0aGlzLm9ic3RhY2xlLFxuICAgICAgdGhpcy5kYXRhLm9ic3RhY2xlXG4gICAgKVxuICAgIC8vIGNvbnN0IG9sZE9ic3RhY2xlID0gZm91bmRyeS51dGlscy5kaWZmT2JqZWN0KHRoaXMuZGF0YS5vYnN0YWNsZSwgdGhpcy5vYnN0YWNsZSlcblxuICAgIGZvciAoY29uc3QgW2tleV0gb2YgT2JqZWN0LmVudHJpZXMobmV3T2JzdGFjbGUpKSB7XG4gICAgICAvLyBpZiAoJ2JhcnJpZXInID09IGtleSB8fCAnaGF6YXJkJyA9PSBrZXkpXG4gICAgICAvLyB7XG4gICAgICAvLyAgIGRpZmYuY2hhbmdlcyA9IHRydWVcbiAgICAgIC8vICAgZGlmZi5vYnN0YWNsZS50eXBlID0ge1xuICAgICAgLy8gICAgIG9sZDogZ2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgLy8gICAgICAgdGhpcy5vYnN0YWNsZS5iYXJyaWVyID8gJ0NvQzcuQmFycmllcicgOiAnQ29DNy5IYXphcmQnXG4gICAgICAvLyAgICAgKSxcbiAgICAgIC8vICAgICBuZXc6IGdhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgIC8vICAgICAgIHRoaXMuZGF0YS5vYnN0YWNsZS5iYXJyaWVyID8gJ0NvQzcuQmFycmllcicgOiAnQ29DNy5IYXphcmQnXG4gICAgICAvLyAgICAgKSxcbiAgICAgIC8vICAgICBrZXk6ICd0eXBlJyxcbiAgICAgIC8vICAgICBuYW1lOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVHlwZScpXG4gICAgICAvLyAgIH1cbiAgICAgIC8vICAgaWYgKHZhbGlkYXRlKSB7XG4gICAgICAvLyAgICAgdGhpcy5kYXRhLnZhbGlkYXRpb25ba2V5XSA9IHRydWVcbiAgICAgIC8vICAgICB0aGlzLmRhdGEudmFsaWRhdGlvbi50eXBlID0gdHJ1ZVxuICAgICAgLy8gICB9XG4gICAgICAvLyB9XG4gICAgICAvLyBlbHNlXG4gICAgICAvLyB7XG4gICAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgKG5ld09ic3RhY2xlW2tleV0gPT09ICcnICYmIHRoaXMub2JzdGFjbGVba2V5XSA9PT0gbnVsbCkgfHxcbiAgICAgICAgICAoIWlzTmFOKE51bWJlcihuZXdPYnN0YWNsZVtrZXldKSkgJiZcbiAgICAgICAgICAgIE51bWJlcihuZXdPYnN0YWNsZVtrZXldKSA9PT0gdGhpcy5vYnN0YWNsZVtrZXldKVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgZGlmZi5jaGFuZ2VzID0gdHJ1ZVxuXG4gICAgICAgIGRpZmYub2JzdGFjbGVba2V5XSA9IHtcbiAgICAgICAgICBvbGQ6IHRoaXMub2JzdGFjbGVba2V5XSxcbiAgICAgICAgICBuZXc6IG5ld09ic3RhY2xlW2tleV0sXG4gICAgICAgICAgbmFtZTogbmFtZXNba2V5XSxcbiAgICAgICAgICBrZXlcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRhdGUpIHRoaXMuZGF0YS52YWxpZGF0aW9uW2tleV0gPSB0cnVlXG4gICAgICB9XG4gICAgICAvLyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmZcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIERpYWxvZywgZm91bmRyeSwgZ2FtZSwgbWVyZ2VPYmplY3QsIE5vcm1hbGl6ZWRSZWN0YW5nbGUsIFRva2VuLCBUb2tlbkRvY3VtZW50LCB1aSAqL1xuaW1wb3J0IHsgQ29DQWN0b3IgfSBmcm9tICcuLi8uLi9hY3RvcnMvYWN0b3IuanMnXG5pbXBvcnQgeyBDaGFzZU9ic3RhY2xlQ2FyZCB9IGZyb20gJy4uLy4uL2NoYXQvY2FyZHMvY2hhc2Utb2JzdGFjbGUuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi8uLi9jaGVjay5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBDb0M3SXRlbSB9IGZyb20gJy4uL2l0ZW0uanMnXG5pbXBvcnQgeyBfcGFydGljaXBhbnQsIHNvcnRCeVJvbGVBbmREZXggfSBmcm9tICcuL3BhcnRpY2lwYW50LmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0NoYXNlIGV4dGVuZHMgQ29DN0l0ZW0ge1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgY29udGV4dCkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5pbWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLmltZyA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3J1bm5pbmctc29saWQuc3ZnJ1xuICAgIH1cbiAgICBzdXBlcihkYXRhLCBjb250ZXh0KVxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHRcbiAgfVxuXG4gIC8vIEhhbmRsZSBwYXJ0aWNpcGFudHNcbiAgZ2V0IHBhcnRpY2lwYW50cyAoKSB7XG4gICAgY29uc3QgcExpc3QgPSBbXVxuICAgIGNvbnN0IHByZXlzID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICAuZmlsdGVyKHAgPT4gIXAuY2hhc2VyKVxuICAgICAgLm1hcChwID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBfcGFydGljaXBhbnQocClcbiAgICAgIH0pXG4gICAgY29uc3QgY2hhc2VycyA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgLmZpbHRlcihwID0+IHAuY2hhc2VyKVxuICAgICAgLm1hcChwID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBfcGFydGljaXBhbnQocClcbiAgICAgIH0pXG4gICAgdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzLmZvckVhY2gocCA9PiB7XG4gICAgICAvLyBwLmluZGV4ID0gcExpc3QubGVuZ3RoIC0gMVxuICAgICAgcC5hc3Npc3QgPSBbXVxuICAgICAgaWYgKHAuY2hhc2VyKSB7XG4gICAgICAgIHAuYXNzaXN0ID0gY2hhc2Vyc1xuICAgICAgICAgIC5maWx0ZXIoYyA9PiBjLnV1aWQgIT09IHAudXVpZCAmJiAhYy5oYXNNYXhCb251c0RpY2UpXG4gICAgICAgICAgLm1hcChjID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IHV1aWQ6IGMudXVpZCwgbmFtZTogYy5uYW1lIH1cbiAgICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcC5hc3Npc3QgPSBwcmV5c1xuICAgICAgICAgIC5maWx0ZXIoYyA9PiBjLnV1aWQgIT09IHAudXVpZCAmJiAhYy5oYXNNYXhCb251c0RpY2UpXG4gICAgICAgICAgLm1hcChjID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IHV1aWQ6IGMudXVpZCwgbmFtZTogYy5uYW1lIH1cbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY29uc3QgcGFydGljcGFudCA9IG5ldyBfcGFydGljaXBhbnQocClcbiAgICAgIC8vIHBhcnRpY3BhbnQubG9jYXRpb24gPSB0aGlzLmdldFBhcnRpY2lwYW50TG9jYXRpb24oIHBhcnRpY3BhbnQudXVpZCkgLy8gUmVjdXJzaXZpdHlcbiAgICAgIHBMaXN0LnB1c2gocGFydGljcGFudClcbiAgICB9KVxuICAgIHJldHVybiBwTGlzdFxuICB9XG5cbiAgZ2V0IHBhcnRpY2lwYW50c09iamVjdCAoKSB7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5wYXJ0aWNpcGFudHNcbiAgICBwYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHtcbiAgICAgIHAubG9jYXRpb24gPSB0aGlzLmdldFBhcnRpY2lwYW50TG9jYXRpb24ocC51dWlkKVxuICAgIH0pXG4gICAgcmV0dXJuIHBhcnRpY2lwYW50c1xuICB9XG5cbiAgZ2V0IGFjdGl2ZVBhcnRpY2lwYW50RGF0YSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cy5maW5kKHAgPT4gcC5hY3RpdmUpXG4gIH1cblxuICBnZXQgYWN0aXZlQWN0b3IgKCkge1xuICAgIGNvbnN0IHAgPSB0aGlzLmFjdGl2ZVBhcnRpY2lwYW50RGF0YVxuICAgIGlmICghcCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChwLmRvY1V1aWQpIHtcbiAgICAgIHJldHVybiBDb0M3VXRpbGl0aWVzLmdldEFjdG9yRnJvbUtleShwLmRvY1V1aWQpXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBwYXJ0aWNpcGFudHNCeUFkanVzdGVkTW92ICgpIHtcbiAgICBjb25zdCBwTGlzdCA9IHRoaXMuYWN0dWFsUGFydGljaXBhbnRzLnNvcnQoXG4gICAgICAoYSwgYikgPT4gYS5hZGp1c3RlZE1vdiAtIGIuYWRqdXN0ZWRNb3ZcbiAgICApXG4gICAgcExpc3QuZm9yRWFjaChwID0+IHtcbiAgICAgIHAubG9jYXRpb24gPSB0aGlzLmdldFBhcnRpY2lwYW50TG9jYXRpb24ocC51dWlkKVxuICAgIH0pXG4gICAgcmV0dXJuIHBMaXN0XG4gIH1cblxuICBnZXQgcGFydGljaXBhbnRzQnlJbml0aWF0aXZlICgpIHtcbiAgICBjb25zdCBwTGlzdCA9IHRoaXMuYWN0dWFsUGFydGljaXBhbnRzLnNvcnQoXG4gICAgICAoYSwgYikgPT4gYi5pbml0aWF0aXZlIC0gYS5pbml0aWF0aXZlXG4gICAgKVxuICAgIHBMaXN0LmZvckVhY2gocCA9PiB7XG4gICAgICBwLmxvY2F0aW9uID0gdGhpcy5nZXRQYXJ0aWNpcGFudExvY2F0aW9uKHAudXVpZClcbiAgICB9KVxuICAgIHJldHVybiBwTGlzdFxuICB9XG5cbiAgZ2V0IHByZXlzICgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHMuZmlsdGVyKHAgPT4gIXAuaXNDaGFzZXIgJiYgcC5pc1ZhbGlkKSB8fCBbXVxuICB9XG5cbiAgZ2V0IGNoYXNlcnMgKCkge1xuICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiBwLmlzQ2hhc2VyICYmIHAuaXNWYWxpZCkgfHwgW11cbiAgfVxuXG4gIGdldCBhbGxIYXZlVmFsaWRNb3YgKCkge1xuICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cy5ldmVyeShlID0+IGUuaGFzVmFsaWRNb3YpXG4gIH1cblxuICBnZXQgYWxsSGF2ZVNwZWVkUm9sbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzLmV2ZXJ5KHAgPT4gcC5zcGVlZENoZWNrPy5yb2xsZWQpXG4gIH1cblxuICBnZXRQYXJ0aWNpcGFudExvY2F0aW9uIChwYXJ0aWNpcGFudFV1aWQpIHtcbiAgICBpZiAoIXRoaXMuc3lzdGVtLmxvY2F0aW9ucz8ubGlzdD8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIGlmICghdGhpcy5zdGFydGVkKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgbG9jYXRpb25zID0gdGhpcy5sb2NhdGlvbnNcblxuICAgIGNvbnN0IGxvY2F0aW9uID0gbG9jYXRpb25zLmZpbmQobCA9PiB7XG4gICAgICBjb25zdCBscCA9IGwucGFydGljaXBhbnRzPy5maW5kKHAgPT4gcGFydGljaXBhbnRVdWlkID09PSBwLnV1aWQpXG4gICAgICByZXR1cm4gISFscFxuICAgIH0pXG4gICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gbG9jYXRpb25cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0UGFydGljaXBhbnREYXRhIChwYXJ0aWNpcGFudFV1aWQpIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cy5maW5kKFxuICAgICAgcCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZFxuICAgIClcbiAgICBpZiAocGFydGljaXBhbnQpIHJldHVybiBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShwYXJ0aWNpcGFudCkgLy8gVE9ETyA6IGNoZWNrIGlmIHdlIG5lZWQgdG8gZHVwbGljYXRlXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0UGFydGljaXBhbnQgKHBhcnRpY2lwYW50VXVpZCkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50RGF0YSA9IHRoaXMuZ2V0UGFydGljaXBhbnREYXRhKHBhcnRpY2lwYW50VXVpZClcbiAgICBpZiAocGFydGljaXBhbnREYXRhKSByZXR1cm4gbmV3IF9wYXJ0aWNpcGFudChwYXJ0aWNpcGFudERhdGEpXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IG5leHRBY3RpdmVQYXJ0aWNpcGFudCAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHNCeUluaXRpYXRpdmUuZmluZChcbiAgICAgIHAgPT4gcC5kYXRhLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPiAwXG4gICAgKVxuICB9XG5cbiAgZ2V0IHNsb3dlc3RQcmV5ICgpIHtcbiAgICBjb25zdCBwcmV5cyA9IHRoaXMucGFydGljaXBhbnRzXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5hZGp1c3RlZE1vdiAtIGIuYWRqdXN0ZWRNb3YpXG4gICAgICA/LmZpbHRlcihwID0+IHAuaXNQcmV5KVxuICAgIGlmIChwcmV5cy5sZW5ndGggPiAwKSByZXR1cm4gcHJleXNbMF1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgZmFzdGVzdENoYXNlciAoKSB7XG4gICAgY29uc3QgY2hhc2VycyA9IHRoaXMucGFydGljaXBhbnRzXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5hZGp1c3RlZE1vdiAtIGIuYWRqdXN0ZWRNb3YpXG4gICAgICA/LmZpbHRlcihwID0+IHAuaXNDaGFzZXIpXG4gICAgaWYgKGNoYXNlcnMubGVuZ3RoID4gMCkgcmV0dXJuIGNoYXNlcnMuc2xpY2UoLTEpLnBvcCgpXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgZ2V0IGFjdHVhbFBhcnRpY2lwYW50cyAoKSB7XG4gICAgY29uc3Qgc2xvd2VzdFByZXkgPSB0aGlzLnNsb3dlc3RQcmV5XG4gICAgY29uc3QgZmFzdGVzdENoYXNlciA9IHRoaXMuZmFzdGVzdENoYXNlclxuICAgIGxldCBwTGlzdCA9IHRoaXMucGFydGljaXBhbnRzXG4gICAgaWYgKCF0aGlzLnN5c3RlbS5pbmNsdWRlTGF0ZWNvbWVycyAmJiBzbG93ZXN0UHJleSkge1xuICAgICAgcExpc3QgPSBwTGlzdC5maWx0ZXIocCA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcC5pc1ByZXkgfHwgKHAuaXNDaGFzZXIgJiYgcC5hZGp1c3RlZE1vdiA+PSBzbG93ZXN0UHJleS5hZGp1c3RlZE1vdilcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3lzdGVtLmluY2x1ZGVFc2NhcGVkICYmIGZhc3Rlc3RDaGFzZXIpIHtcbiAgICAgIHBMaXN0ID0gcExpc3QuZmlsdGVyKHAgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHAuaXNDaGFzZXIgfHwgKHAuaXNQcmV5ICYmIHAuYWRqdXN0ZWRNb3YgPD0gZmFzdGVzdENoYXNlci5hZGp1c3RlZE1vdilcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcExpc3RcbiAgfVxuXG4gIGdldCBzbG93ZXN0UGFydGljaXBhbnQgKCkge1xuICAgIGNvbnN0IHBMaXN0ID0gdGhpcy5wYXJ0aWNpcGFudHNCeUFkanVzdGVkTW92XG4gICAgaWYgKHBMaXN0Lmxlbmd0aCA+IDApIHJldHVybiBwTGlzdFswXVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVBhcnRpY2lwYW50cyAobGlzdCwgeyByZW5kZXIgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50c0RhdGEgPSB0aGlzLmNsZWFuUGFydGljaXBhbnRMaXN0KGxpc3QpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlKFxuICAgICAgeyAnc3lzdGVtLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50c0RhdGEgfSxcbiAgICAgIHsgcmVuZGVyIH1cbiAgICApXG4gIH1cblxuICBhc3luYyB1cGRhdGVQYXJ0aWNpcGFudCAocGFydGljaWFudFV1aWQsIHVwZGF0ZURhdGEsIHsgcmVuZGVyID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgY29uc3QgdXBkYXRlID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodXBkYXRlRGF0YSlcbiAgICBjb25zdCBwYXJ0aWNpcGFudEluZGV4ID0gcGFydGljaXBhbnRzLmZpbmRJbmRleChcbiAgICAgIHAgPT4gcGFydGljaWFudFV1aWQgPT09IHAudXVpZFxuICAgIClcbiAgICBpZiAocGFydGljaXBhbnRJbmRleCA9PT0gLTEpIHJldHVybiB1bmRlZmluZWRcbiAgICBpZiAodXBkYXRlLnV1aWQpIGRlbGV0ZSB1cGRhdGUudXVpZFxuICAgIGZvdW5kcnkudXRpbHMubWVyZ2VPYmplY3QocGFydGljaXBhbnRzW3BhcnRpY2lwYW50SW5kZXhdLCB1cGRhdGUsIHtcbiAgICAgIG92ZXJ3cml0ZTogdHJ1ZVxuICAgIH0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzLCB7IHJlbmRlciB9KVxuICB9XG5cbiAgY2xlYW5QYXJ0aWNpcGFudExpc3QgKGxpc3QpIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHNEYXRhID0gbGlzdCB8fCBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgbGlzdC5mb3JFYWNoKHAgPT4ge1xuICAgICAgbGV0IGRhdGFcbiAgICAgIGlmIChwLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdfcGFydGljaXBhbnQnKSB7XG4gICAgICAgIGRhdGEgPSBwLmRhdGFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSBwXG4gICAgICB9XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuZmluZEluZGV4KHBhcnRpY2lwYW50c0RhdGEsIGRhdGEudXVpZClcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcGFydGljaXBhbnRzRGF0YS5wdXNoKGRhdGEpXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUGFydGljaXBhbnREYXRhTWlzc2luZycpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydGljaXBhbnRzRGF0YVtpbmRleF0gPSBkYXRhXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcGFydGljaXBhbnRzRGF0YVxuICB9XG5cbiAgYXN5bmMgYXNzaXN0UGFydGljaXBhbnQgKFxuICAgIGFzc2lzdGFudFV1aWQsXG4gICAgYmVuZWZpY2lhcnlVdWlkLFxuICAgIHsgdXNlTW92ZW1lbnRBY3Rpb25zID0gdHJ1ZSwgcmVuZGVyID0gdHJ1ZSB9ID0ge31cbiAgKSB7XG4gICAgY29uc3QgYXNzaXN0YW50ID0gdGhpcy5nZXRQYXJ0aWNpcGFudChhc3Npc3RhbnRVdWlkKVxuICAgIGNvbnN0IGJlbmVmaWNpYXJ5ID0gdGhpcy5nZXRQYXJ0aWNpcGFudChiZW5lZmljaWFyeVV1aWQpXG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgKVxuICAgIGNvbnN0IGFzc2lzdGFudEluZGV4ID0gcGFydGljaXBhbnRzRGF0YS5maW5kSW5kZXgoXG4gICAgICBwID0+IGFzc2lzdGFudFV1aWQgPT09IHAudXVpZFxuICAgIClcbiAgICBjb25zdCBiZW5lZmljaWFyeUluZGV4ID0gcGFydGljaXBhbnRzRGF0YS5maW5kSW5kZXgoXG4gICAgICBwID0+IGJlbmVmaWNpYXJ5VXVpZCA9PT0gcC51dWlkXG4gICAgKVxuXG4gICAgaWYgKCFhc3Npc3RhbnQgfHwgIWJlbmVmaWNpYXJ5KSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5QYXJ0aWNpcGFudE5vdEZvdW5kJykpXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgaWYgKGJlbmVmaWNpYXJ5Lmhhc01heEJvbnVzRGljZSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5FcnJvckJlbmVmaWNpYXJ5QXRNYXhCb251cycsIHtcbiAgICAgICAgICBuYW1lOiBiZW5lZmljaWFyeS5uYW1lXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgaWYgKHVzZU1vdmVtZW50QWN0aW9ucykge1xuICAgICAgaWYgKGFzc2lzdGFudC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIDwgMSkge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUGFydGljaXBhbnROb3RFbm91Z2hNb3ZlbWVudCcsIHtcbiAgICAgICAgICAgIGFzc2lzdGFudFV1aWQsXG4gICAgICAgICAgICBhY3Rpb25zOiBhc3Npc3RhbnQuY3VycmVudE1vdmVtZW50QWN0aW9uc1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuICAgICAgYXNzaXN0YW50LmFsdGVyTW92ZW1lbnRBY3Rpb25zKC0xKVxuICAgICAgcGFydGljaXBhbnRzRGF0YVthc3Npc3RhbnRJbmRleF0gPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShhc3Npc3RhbnQuZGF0YSlcbiAgICB9XG5cbiAgICBiZW5lZmljaWFyeS5hZGRCb251c0RpY2UoKVxuICAgIHBhcnRpY2lwYW50c0RhdGFbYmVuZWZpY2lhcnlJbmRleF0gPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShcbiAgICAgIGJlbmVmaWNpYXJ5LmRhdGFcbiAgICApXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoXG4gICAgICB7ICdzeXN0ZW0ucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzRGF0YSB9LFxuICAgICAgeyByZW5kZXIgfVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZUJvbnVzRGljZSAocGFydGljaXBhbnRVdWlkLCBkaWNlTnVtYmVyLCB7IHJlbmRlciA9IHRydWUgfSA9IHt9KSB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmdldFBhcnRpY2lwYW50KHBhcnRpY2lwYW50VXVpZClcblxuICAgIGlmICghcGFydGljaXBhbnQpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUGFydGljaXBhbnRVdWlkTm90Rm91bmQnLCB7XG4gICAgICAgICAgcGFydGljaXBhbnRVdWlkXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50SW5kZXggPSBwYXJ0aWNpcGFudHNEYXRhLmZpbmRJbmRleChcbiAgICAgIHAgPT4gcGFydGljaXBhbnRVdWlkID09PSBwLnV1aWRcbiAgICApXG4gICAgaWYgKHBhcnRpY2lwYW50LmJvbnVzRGljZSA+PSBkaWNlTnVtYmVyKSBwYXJ0aWNpcGFudC5yZW1vdmVCb251c0RpY2UoKVxuICAgIGVsc2UgcGFydGljaXBhbnQuYWRkQm9udXNEaWNlKClcbiAgICBwYXJ0aWNpcGFudHNEYXRhW3BhcnRpY2lwYW50SW5kZXhdID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICBwYXJ0aWNpcGFudC5kYXRhXG4gICAgKVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKFxuICAgICAgeyAnc3lzdGVtLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50c0RhdGEgfSxcbiAgICAgIHsgcmVuZGVyIH1cbiAgICApXG4gIH1cblxuICBhc3luYyBjYXV0aW91c0FwcHJvYWNoIChcbiAgICBwYXJ0aWNpcGFudFV1aWQsXG4gICAgeyB1c2VNb3ZlbWVudEFjdGlvbnMgPSB0cnVlLCByZW5kZXIgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuZ2V0UGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkKVxuXG4gICAgaWYgKCFwYXJ0aWNpcGFudCkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihcbiAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QYXJ0aWNpcGFudFV1aWROb3RGb3VuZCcsIHtcbiAgICAgICAgICBwYXJ0aWNpcGFudFV1aWRcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHNEYXRhID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoXG4gICAgICB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICApXG4gICAgY29uc3QgcGFydGljaXBhbnRJbmRleCA9IHBhcnRpY2lwYW50c0RhdGEuZmluZEluZGV4KFxuICAgICAgcCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZFxuICAgIClcbiAgICBpZiAocGFydGljaXBhbnQuaGFzTWF4Qm9udXNEaWNlKSB7XG4gICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICBnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkVycm9yUGFydGljaXBhbnRBdE1heEJvbnVzJywge1xuICAgICAgICAgIHBhcnRpY2lwYW50VXVpZFxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh1c2VNb3ZlbWVudEFjdGlvbnMpIHtcbiAgICAgIGlmIChwYXJ0aWNpcGFudC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIDwgMSkge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUGFydGljaXBhbnROb3RFbm91Z2hNb3ZlbWVudCcsIHtcbiAgICAgICAgICAgIGFzc2lzdGFudFV1aWQ6IHBhcnRpY2lwYW50VXVpZCxcbiAgICAgICAgICAgIGFjdGlvbnM6IHBhcnRpY2lwYW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnNcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICAgIHBhcnRpY2lwYW50LmFsdGVyTW92ZW1lbnRBY3Rpb25zKC0xKVxuICAgIH1cbiAgICBwYXJ0aWNpcGFudC5hZGRCb251c0RpY2UoKVxuICAgIHBhcnRpY2lwYW50c0RhdGFbcGFydGljaXBhbnRJbmRleF0gPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShcbiAgICAgIHBhcnRpY2lwYW50LmRhdGFcbiAgICApXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoXG4gICAgICB7ICdzeXN0ZW0ucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzRGF0YSB9LFxuICAgICAgeyByZW5kZXIgfVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIGFsdGVyUGFydGljaXBhbnRNb3ZlbWVudEFjdGlvbiAoXG4gICAgcGFydGljaXBhbnRVdWlkLFxuICAgIGNvdW50LFxuICAgIHsgcmVuZGVyID0gdHJ1ZSB9ID0ge31cbiAgKSB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmdldFBhcnRpY2lwYW50KHBhcnRpY2lwYW50VXVpZClcblxuICAgIGlmICghcGFydGljaXBhbnQpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUGFydGljaXBhbnRVdWlkTm90Rm91bmQnLCB7XG4gICAgICAgICAgcGFydGljaXBhbnRVdWlkXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50SW5kZXggPSBwYXJ0aWNpcGFudHNEYXRhLmZpbmRJbmRleChcbiAgICAgIHAgPT4gcGFydGljaXBhbnRVdWlkID09PSBwLnV1aWRcbiAgICApXG5cbiAgICBwYXJ0aWNpcGFudC5hbHRlck1vdmVtZW50QWN0aW9ucyhjb3VudClcblxuICAgIHBhcnRpY2lwYW50c0RhdGFbcGFydGljaXBhbnRJbmRleF0gPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShcbiAgICAgIHBhcnRpY2lwYW50LmRhdGFcbiAgICApXG4gICAgYXdhaXQgdGhpcy51cGRhdGUoXG4gICAgICB7ICdzeXN0ZW0ucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzRGF0YSB9LFxuICAgICAgeyByZW5kZXIgfVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIGFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybiAoe1xuICAgIHNjcm9sbFRvTG9jYXRpb24gPSB0cnVlLFxuICAgIGFjdGl2YXRlTG9jYXRpb24gPSB0cnVlLFxuICAgIHJlbmRlciA9IHRydWUsXG4gICAgaHRtbCA9IG51bGxcbiAgfSA9IHt9KSB7XG4gICAgY29uc3QgYWN0aXZlUGFydGljaXBhbnQgPSB0aGlzLm5leHRBY3RpdmVQYXJ0aWNpcGFudFxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBzY3JvbGxUb0xvY2F0aW9uLFxuICAgICAgYWN0aXZhdGVMb2NhdGlvbixcbiAgICAgIHJlbmRlcixcbiAgICAgIGh0bWxcbiAgICB9XG4gICAgaWYgKCFhY3RpdmVQYXJ0aWNpcGFudCkgcmV0dXJuIHRoaXMuYWN0aXZhdGVQYXJ0aWNpcGFudCh1bmRlZmluZWQsIG9wdGlvbnMpXG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVQYXJ0aWNpcGFudChhY3RpdmVQYXJ0aWNpcGFudC51dWlkLCBvcHRpb25zKVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVQYXJ0aWNpcGFudCAoXG4gICAgcGFydGljaXBhbnRVdWlkLFxuICAgIHtcbiAgICAgIHNjcm9sbFRvTG9jYXRpb24gPSB0cnVlLFxuICAgICAgYWN0aXZhdGVMb2NhdGlvbiA9IHRydWUsXG4gICAgICByZW5kZXIgPSB0cnVlLFxuICAgICAgaHRtbCA9IG51bGxcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgY29uc3QgZGF0YVVwZGF0ZSA9IHRoaXMuZ2V0QWN0aXZhdGVQYXJ0aWNpcGFudFVwZGF0ZURhdGEocGFydGljaXBhbnRVdWlkLCB7XG4gICAgICBzY3JvbGxUb0xvY2F0aW9uLFxuICAgICAgYWN0aXZlTG9jYXRpb246IGFjdGl2YXRlTG9jYXRpb24sXG4gICAgICBodG1sXG4gICAgfSlcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShkYXRhVXBkYXRlLCB7IHJlbmRlciB9KVxuICB9XG5cbiAgZ2V0QWN0aXZhdGVQYXJ0aWNpcGFudFVwZGF0ZURhdGEgKFxuICAgIHBhcnRpY2lwYW50VXVpZCxcbiAgICB7IHNjcm9sbFRvTG9jYXRpb24gPSB0cnVlLCBhY3RpdmF0ZUxvY2F0aW9uID0gdHJ1ZSwgaHRtbCA9IG51bGwgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IHBVdWlkID0gcGFydGljaXBhbnRVdWlkXG4gICAgLy8gICA/IHBhcnRpY2lwYW50VXVpZFxuICAgIC8vICAgOiB0aGlzLnBhcnRpY2lwYW50c0J5SW5pdGlhdGl2ZVswXT8udXVpZFxuICAgIGNvbnN0IHBhcnRpY2lwYW50c0RhdGFVcGRhdGUgPSB7fVxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG4gICAgcGFydGljaXBhbnRzLmZvckVhY2gocCA9PiB7XG4gICAgICBkZWxldGUgcC5hY3RpdmVcbiAgICAgIGlmIChwVXVpZCAmJiBwVXVpZCA9PT0gcC51dWlkKSBwLmFjdGl2ZSA9IHRydWVcbiAgICB9KVxuICAgIHBhcnRpY2lwYW50c0RhdGFVcGRhdGVbJ3N5c3RlbS5wYXJ0aWNpcGFudHMnXSA9IHBhcnRpY2lwYW50c1xuXG4gICAgY29uc3QgcGFydGljaXBhbnRMb2NhdGlvbiA9IHRoaXMuZ2V0UGFydGljaXBhbnRMb2NhdGlvbihwVXVpZClcbiAgICBsZXQgbG9jYXRpb25zRGF0YVVwZGF0ZSA9IG51bGxcbiAgICBpZiAocGFydGljaXBhbnRMb2NhdGlvbikge1xuICAgICAgaWYgKGFjdGl2YXRlTG9jYXRpb24pIHtcbiAgICAgICAgbG9jYXRpb25zRGF0YVVwZGF0ZSA9IHRoaXMuZ2V0QWN0aXZhdGVMb2NhdGlvblVwZGF0ZURhdGEoXG4gICAgICAgICAgcGFydGljaXBhbnRMb2NhdGlvbi51dWlkLFxuICAgICAgICAgIHsgc2Nyb2xsVG9Mb2NhdGlvbiwgaHRtbCB9XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9Mb2NhdGlvbikge1xuICAgICAgICBsb2NhdGlvbnNEYXRhVXBkYXRlID0ge31cbiAgICAgICAgbG9jYXRpb25zRGF0YVVwZGF0ZVsnc3lzdGVtLnNjcm9sbC5jaGFzZVRyYWNrLmZyb20nXSA9XG4gICAgICAgICAgdGhpcy5jaGFzZVRyYWNrQ3VycmVudFNjcm9sbFBvc2l0aW9uXG4gICAgICAgIGxvY2F0aW9uc0RhdGFVcGRhdGVbJ3N5c3RlbS5zY3JvbGwuY2hhc2VUcmFjay50byddID1cbiAgICAgICAgICB0aGlzLmdldENoYXNlVHJhY2tMb2NhdGlvblNjcm9sbFBvc2l0aW9uKHBhcnRpY2lwYW50TG9jYXRpb24udXVpZCwge1xuICAgICAgICAgICAgaHRtbFxuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uc0RhdGFVcGRhdGUgPSB0aGlzLmdldEFjdGl2YXRlTG9jYXRpb25VcGRhdGVEYXRhKHVuZGVmaW5lZCwge1xuICAgICAgICBzY3JvbGxUb0xvY2F0aW9uXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbnNEYXRhVXBkYXRlKSB7XG4gICAgICByZXR1cm4gZm91bmRyeS51dGlscy5tZXJnZU9iamVjdChcbiAgICAgICAgcGFydGljaXBhbnRzRGF0YVVwZGF0ZSxcbiAgICAgICAgbG9jYXRpb25zRGF0YVVwZGF0ZVxuICAgICAgKVxuICAgIH0gZWxzZSByZXR1cm4gcGFydGljaXBhbnRzRGF0YVVwZGF0ZVxuICB9XG5cbiAgYWN0aXZlUGFydGljaXBhbnRPYnN0YWNsZUNoZWNrIChcbiAgICBsb2NhdGlvblV1aWQsXG4gICAgeyBtb3ZlUGFydGljaXBhbnQgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBjYXJkID0gbmV3IENoYXNlT2JzdGFjbGVDYXJkKHtcbiAgICAgIGNoYXNlVXVpZDogdGhpcy51dWlkLFxuICAgICAgbG9jYXRpb25VdWlkLFxuICAgICAgbW92ZVBhcnRpY2lwYW50LFxuICAgICAgZm9yd2FyZDogbG9jYXRpb25VdWlkICE9PSB0aGlzLmFjdGl2ZUxvY2F0aW9uLnV1aWRcbiAgICB9KVxuICAgIGNhcmQudG9NZXNzYWdlKClcblxuICAgIC8vIGNvbnN0IHRlc3QgPSBuZXcgdGVzdENhcmQoKVxuICAgIC8vIHRlc3QuaW5pdGlhbGl6ZSh7fSlcbiAgICAvLyB0ZXN0LnRvTWVzc2FnZSgpXG4gIH1cblxuICAvLyBIYW5kbGUgcm91bmRzXG5cbiAgYXN5bmMgcHJvZ3Jlc3NUb05leHRSb3VuZCAoeyByZW5kZXIgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG4gICAgcGFydGljaXBhbnRzLmZvckVhY2gocCA9PiB7XG4gICAgICBpZiAocC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIDwgcC5tb3ZlbWVudEFjdGlvbikge1xuICAgICAgICBwLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgKz0gcC5tb3ZlbWVudEFjdGlvblxuICAgICAgICBpZiAocC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zID4gcC5tb3ZlbWVudEFjdGlvbikge1xuICAgICAgICAgIHAuY3VycmVudE1vdmVtZW50QWN0aW9ucyA9IHAubW92ZW1lbnRBY3Rpb25cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMocGFydGljaXBhbnRzLCB7IHJlbmRlcjogZmFsc2UgfSlcbiAgICB0aGlzLmFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybih7IHJlbmRlciB9KVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhc3luYyB1cGRhdGVSb2xsIChyb2xsU3RyaW5nKSB7XG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICBjb25zdCByb2xsID0gQ29DN0NoZWNrLmZyb21Sb2xsU3RyaW5nKHJvbGxTdHJpbmcpXG4gICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICAgIDogW11cbiAgICAgIGNvbnN0IGluZGV4ID0gcGFydGljaXBhbnRzLmZpbmRJbmRleChwID0+IHAucm9sbFV1aWQgPT09IHJvbGwudXVpZClcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHBhcnRpY2lwYW50c1tpbmRleF0uc3BlZWRDaGVjay5yb2xsRGF0YVN0cmluZyA9IHJvbGwuSlNPTlJvbGxTdHJpbmdcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyAnc3lzdGVtLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50cyB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBkYXRhOiByb2xsU3RyaW5nLFxuICAgICAgICB0eXBlOiAnaW52b2tlJyxcbiAgICAgICAgbWV0aG9kOiAndXBkYXRlUm9sbCcsXG4gICAgICAgIGl0ZW06IHRoaXMudXVpZFxuICAgICAgfVxuICAgICAgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLkNvQzcnLCBkYXRhKVxuICAgIH1cbiAgfVxuXG4gIC8vIGhhbmRsZSBsb2NhdGlvbnNcbiAgZ2V0IGxvY2F0aW9ucyAoKSB7XG4gICAgY29uc3QgbG9jYXRpb25zID0gdGhpcy5zdGFydGVkXG4gICAgICA/IHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0XG4gICAgICAgID8gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgICAgIDogW11cbiAgICAgIDogdGhpcy5pbml0VHJhY2tcbiAgICB0aGlzLnByb2Nlc3NMb2NhdGlvbnMobG9jYXRpb25zKVxuICAgIHJldHVybiBsb2NhdGlvbnNcbiAgfVxuXG4gIGdldExvY2F0aW9uRGF0YSAobG9jYXRpb25VdWlkLCB7IGR1cGxpY2F0ZURhdGEgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IGxvY2F0aW9ucyA9IGR1cGxpY2F0ZURhdGFcbiAgICAgID8gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5sb2NhdGlvbnMpXG4gICAgICA6IHRoaXMubG9jYXRpb25zXG4gICAgcmV0dXJuIGxvY2F0aW9ucy5maW5kKGwgPT4gbG9jYXRpb25VdWlkID09PSBsLnV1aWQpXG4gIH1cblxuICBwcm9jZXNzTG9jYXRpb25zIChsb2NhdGlvbnMpIHtcbiAgICBpZiAoIWxvY2F0aW9ucz8ubGVuZ3RoKSByZXR1cm5cbiAgICBsb2NhdGlvbnNbMF0uZmlyc3QgPSB0cnVlXG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbG9jYXRpb25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgY2xhc3NlcyA9IFtdXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IGxvY2F0aW9uc1tpbmRleF1cbiAgICAgIGlmICghbG9jYXRpb24ubmFtZSkgY2xhc3Nlcy5wdXNoKCdlbXB0eScpXG4gICAgICBpZiAobG9jYXRpb24uYWN0aXZlKSBjbGFzc2VzLnB1c2goJ2FjdGl2ZScpXG4gICAgICBpZiAobG9jYXRpb24uaW5pdCAmJiAhdGhpcy5zdGFydGVkKSBjbGFzc2VzLnB1c2goJ2luaXQnKVxuICAgICAgbG9jYXRpb24uY3NzQ2xhc3NlcyA9IGNsYXNzZXMuam9pbignICcpXG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9ucy5sZW5ndGggPiAxKSBsb2NhdGlvbnNbbG9jYXRpb25zLmxlbmd0aCAtIDFdLmxhc3QgPSB0cnVlXG5cbiAgICBsb2NhdGlvbnMuZm9yRWFjaChsID0+IHtcbiAgICAgIGlmIChsLnBhcnRpY2lwYW50cyAmJiBsLnBhcnRpY2lwYW50cy5sZW5ndGgpIHtcbiAgICAgICAgbC5wYXJ0aWNpcGFudHMgPSBsLnBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiAhKHAgPT09IG51bGwpKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGwucGFydGljaXBhbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZWxlbSA9IGwucGFydGljaXBhbnRzW2ldIC8vIEluaXQgdHJhY2sgPSBvbmx5IHV1aWQsIHVwZGF0ZSBsb2NhdGlvbiBsaXN0IGNoYW5nZSBmb3IgdXVpZFxuXG4gICAgICAgICAgLy8gdWkubm90aWZpY2F0aW9ucy5lcnJvcihgVHlwZSA6ICR7dHlwZW9mIGVsZW19YClcbiAgICAgICAgICBsZXQgcFxuICAgICAgICAgIGlmICh0eXBlb2YgZWxlbSA9PT0gJ3N0cmluZycgfHwgZWxlbSBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgICAgcCA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50cy5maW5kKHAgPT4gZWxlbSA9PT0gcC51dWlkKSAvLyBSZXRyaWV2ZSBwYXJ0aWNpcGFudCBkYXRhIGZyb20gbGlzdC5cbiAgICAgICAgICB9IGVsc2UgaWYgKGVsZW0/LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnX3BhcnRpY2lwYW50Jykge1xuICAgICAgICAgICAgcCA9IHVuZGVmaW5lZCAvLyBwYXJ0aWNpcGFudCBpcyBhbHJlYWR5IHByb2Nlc3NlZC5cbiAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlBhcnRpY2lwYW50QWxyZWFkeVByb2Nlc3NlZCcpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIHAgPSB1bmRlZmluZWRcblxuICAgICAgICAgIGlmICh0eXBlb2YgcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGwucGFydGljaXBhbnRzW2ldID0gbmV3IF9wYXJ0aWNpcGFudChwKSAvLyByZXBsYWNlIHV1aWQgd2l0aCBfcGFydGljaXBhbnRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGFydGljaXBhbnRzLnB1c2goIG51bGwpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnVW5kZWZpbmVkIHBhdGljaXBhbnQgd2hpbGUgcHJvY2Vzc2luZyBwYXJ0aWNpcGFudHMgYXJyYXknXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGwucGFydGljaXBhbnRzLnNvcnQoc29ydEJ5Um9sZUFuZERleCkgLy8gVE9ETyA6IHRlc3QgaWYgc29ydGluZyB3b3Jrc1xuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBnZXQgaW5pdFRyYWNrICgpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QgfHxcbiAgICAgIHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0Lmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IFtdIC8vICEhISEhISEgbG9jYXRpb25zIHZzIGluaXQgbG9jYXRpb25zICEhIVxuXG4gICAgY29uc3QgaW5pdCA9IHRoaXMuc3RhcnRpbmdMaW5lXG4gICAgbGV0IGxvY2F0aW9uc0luZGV4U3RhcnQsIGluaXRJbmRleFN0YXJ0LCBsb2NhdGlvbnNMZW5ndGhcbiAgICBpZiAoaW5pdC5sZW5ndGggPD0gMCkgbG9jYXRpb25zSW5kZXhTdGFydCA9IDBcbiAgICBlbHNlIGlmICh0aGlzLnN5c3RlbS5zdGFydGluZ0luZGV4ID49IGluaXQubGVuZ3RoKSB7XG4gICAgICBsb2NhdGlvbnNJbmRleFN0YXJ0ID0gMFxuICAgIH0gZWxzZSBsb2NhdGlvbnNJbmRleFN0YXJ0ID0gaW5pdC5sZW5ndGggLSB0aGlzLnN5c3RlbS5zdGFydGluZ0luZGV4XG5cbiAgICBpZiAodGhpcy5zeXN0ZW0uc3RhcnRpbmdJbmRleCA8PSAwKSBpbml0SW5kZXhTdGFydCA9IDBcbiAgICBlbHNlIGlmICh0aGlzLnN5c3RlbS5zdGFydGluZ0luZGV4IDw9IGluaXQubGVuZ3RoKSBpbml0SW5kZXhTdGFydCA9IDBcbiAgICBlbHNlIGluaXRJbmRleFN0YXJ0ID0gdGhpcy5zeXN0ZW0uc3RhcnRpbmdJbmRleCAtIGluaXQubGVuZ3RoXG5cbiAgICBpZiAobG9jYXRpb25zSW5kZXhTdGFydCA9PT0gMCkge1xuICAgICAgbG9jYXRpb25zTGVuZ3RoID0gdGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QubGVuZ3RoXG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uc0xlbmd0aCA9XG4gICAgICAgIHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0Lmxlbmd0aCArIGxvY2F0aW9uc0luZGV4U3RhcnRcbiAgICB9XG5cbiAgICBpZiAoaW5pdC5sZW5ndGggIT09IDApIHtcbiAgICAgIGlmICh0aGlzLnN5c3RlbS5zdGFydGluZ0luZGV4IDwgMCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgICAgaW5kZXggPCBNYXRoLmFicyh0aGlzLnN5c3RlbS5zdGFydGluZ0luZGV4KTtcbiAgICAgICAgICBpbmRleCsrXG4gICAgICAgICkge1xuICAgICAgICAgIGluaXQucHVzaCh7XG4gICAgICAgICAgICB1dWlkOiB0aGlzLmdlbmVyYXRlTmV3VXVpZCgpLFxuICAgICAgICAgICAgaW5pdDogdHJ1ZSxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50czogW11cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhc2VMb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMpXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxvY2F0aW9uc0xlbmd0aDsgaW5kZXgrKykge1xuICAgICAgbGV0IGxvY2F0aW9uID0ge31cbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IFtdXG4gICAgICBpZiAoXG4gICAgICAgIGluZGV4ID49IGxvY2F0aW9uc0luZGV4U3RhcnQgJiZcbiAgICAgICAgaW5kZXggLSBsb2NhdGlvbnNJbmRleFN0YXJ0IDwgY2hhc2VMb2NhdGlvbnMubGlzdC5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICBsb2NhdGlvbiA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgICAgIGNoYXNlTG9jYXRpb25zLmxpc3RbaW5kZXggLSBsb2NhdGlvbnNJbmRleFN0YXJ0XVxuICAgICAgICApXG4gICAgICAgIGxvY2F0aW9uLmluaXQgPSBmYWxzZVxuICAgICAgICBsb2NhdGlvbi5wYXJ0aWNpcGFudHM/LmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgaWYgKHAgIT0gbnVsbCkgcGFydGljaXBhbnRzLnB1c2gocClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCA+PSBpbml0SW5kZXhTdGFydCAmJiBpbmRleCAtIGluaXRJbmRleFN0YXJ0IDwgaW5pdC5sZW5ndGgpIHtcbiAgICAgICAgbWVyZ2VPYmplY3QobG9jYXRpb24sIGluaXRbaW5kZXggLSBpbml0SW5kZXhTdGFydF0sIHtcbiAgICAgICAgICBvdmVyd3JpdGU6IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgICAgaW5pdFtpbmRleCAtIGluaXRJbmRleFN0YXJ0XS5wYXJ0aWNpcGFudHM/LmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgaWYgKHAgIT0gbnVsbCkgcGFydGljaXBhbnRzLnB1c2gocClcbiAgICAgICAgfSlcblxuICAgICAgICBsb2NhdGlvbi5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHNcbiAgICAgIH1cbiAgICAgIGxvY2F0aW9uLmZpcnN0ID0gZmFsc2VcbiAgICAgIGxvY2F0aW9uLmVuZCA9IGZhbHNlXG4gICAgICBsb2NhdGlvbnMucHVzaChsb2NhdGlvbilcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYXRpb25zXG4gIH1cblxuICBnZXQgc3RhcnRpbmdMaW5lICgpIHtcbiAgICAvLyBHZXQgcHJleXMgYW5kIGNoZWNrIGZvciBlc2NhcGVkXG4gICAgY29uc3QgcHJleXMgPSB0aGlzLnN5c3RlbS5pbmNsdWRlRXNjYXBlZFxuICAgICAgPyB0aGlzLnByZXlzXG4gICAgICA6IHRoaXMucHJleXM/LmZpbHRlcihwID0+ICFwLmRhdGEuZXNjYXBlZClcbiAgICAvLyBHZXQgY2hhc2Vyc1xuICAgIGNvbnN0IGNoYXNlcnMgPSB0aGlzLnN5c3RlbS5pbmNsdWRlTGF0ZWNvbWVyc1xuICAgICAgPyB0aGlzLmNoYXNlcnNcbiAgICAgIDogdGhpcy5jaGFzZXJzPy5maWx0ZXIoYyA9PiAhYy5kYXRhLmV4Y2x1ZGVkKVxuXG4gICAgLy8gUmVjdXJzaXZpdHkgISEgd2l0aCBnZXRQYXJ0aWNpcGFudExvY2F0aW9uIGFuZCBnZXQgcGFydGljaXBhbnRzXG5cbiAgICAvLyBJZiBubyBwcmV5IG9yIG5vIGNoYXNzZXJcbiAgICAvLyBpZiAoMCA9PSBjaGFzZXJzLmxlbmd0aCkge1xuICAgIC8vICAgdWkubm90aWZpY2F0aW9ucy53YXJuKCdObyBjaGFzZXJzJylcbiAgICAvLyAgIHJldHVybiB1bmRlZmluZWRcbiAgICAvLyB9XG4gICAgLy8gaWYgKDAgPT0gcHJleXMubGVuZ3RoKSB7XG4gICAgLy8gICB1aS5ub3RpZmljYXRpb25zLndhcm4oJ05vIHByZXlzJylcbiAgICAvLyAgIHJldHVybiB1bmRlZmluZWRcbiAgICAvLyB9XG5cbiAgICAvLyBCdWlsZCBzdGFydGluZyB0cmFja1xuICAgIGNvbnN0IGNoYXNlVHJhY2sgPSBbXVxuXG4gICAgY29uc3QgY2hhc2Vyc01pbk1vdiA9IHRoaXMuZmluZE1pbk1vdihjaGFzZXJzKVxuICAgIGNvbnN0IGNoYXNlcnNNYXhNb3YgPSB0aGlzLmZpbmRNYXhNb3YoY2hhc2VycylcbiAgICBjb25zdCBwcmV5c01pbk1vdiA9IHRoaXMuZmluZE1pbk1vdihwcmV5cylcbiAgICBjb25zdCBwcmV5c01heE1vdiA9IHRoaXMuZmluZE1heE1vdihwcmV5cylcblxuICAgIGlmIChjaGFzZXJzTWluTW92ICE9PSAtMSAmJiBjaGFzZXJzTWF4TW92ICE9PSAtMSkge1xuICAgICAgLy8gQWRkIGNoYXNlcnMgdG8gdGhlIHRyYWNrLlxuICAgICAgZm9yIChsZXQgbW92ID0gY2hhc2Vyc01pbk1vdjsgbW92IDw9IGNoYXNlcnNNYXhNb3Y7IG1vdisrKSB7XG4gICAgICAgIC8vIEZpbmQgYWxsIHdpdGggdGhhdCBtb3ZcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSB7XG4gICAgICAgICAgdXVpZDogdGhpcy5nZW5lcmF0ZU5ld1V1aWQoKSxcbiAgICAgICAgICBpbml0OiB0cnVlLFxuICAgICAgICAgIHBhcnRpY2lwYW50czogW11cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb2NhdGlvblBhcnRpY2lwYW50c0xpc3QgPSBjaGFzZXJzXG4gICAgICAgICAgLmZpbHRlcihwID0+IG1vdiA9PT0gcC5hZGp1c3RlZE1vdilcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5kZXggLSBiLmRleClcbiAgICAgICAgbG9jYXRpb25QYXJ0aWNpcGFudHNMaXN0LmZvckVhY2gocCA9PlxuICAgICAgICAgIGxvY2F0aW9uLnBhcnRpY2lwYW50cy5wdXNoKHAudXVpZClcbiAgICAgICAgKVxuICAgICAgICBjaGFzZVRyYWNrLnB1c2gobG9jYXRpb24pXG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBzcGFjZSBiZXR3ZWVuIGNoYXNlcnMgYW5kIHByZXlzLlxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc3lzdGVtLnN0YXJ0aW5nUmFuZ2U7IGluZGV4KyspIHtcbiAgICAgICAgY2hhc2VUcmFjay5wdXNoKHtcbiAgICAgICAgICB1dWlkOiB0aGlzLmdlbmVyYXRlTmV3VXVpZCgpLFxuICAgICAgICAgIGluaXQ6IHRydWUsXG4gICAgICAgICAgcGFydGljaXBhbnRzOiBbXVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV5c01pbk1vdiAhPT0gLTEgJiYgcHJleXNNYXhNb3YgIT09IC0xKSB7XG4gICAgICAvLyBBZGQgcHJleXMgdG8gdGhlIHRyYWNrLlxuICAgICAgZm9yIChsZXQgbW92ID0gcHJleXNNaW5Nb3Y7IG1vdiA8PSBwcmV5c01heE1vdjsgbW92KyspIHtcbiAgICAgICAgLy8gRmluZCBhbGwgd2l0aCB0aGF0IG1vdlxuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHtcbiAgICAgICAgICB1dWlkOiB0aGlzLmdlbmVyYXRlTmV3VXVpZCgpLFxuICAgICAgICAgIGluaXQ6IHRydWUsXG4gICAgICAgICAgcGFydGljaXBhbnRzOiBbXVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uUGFydGljaXBhbnRzTGlzdCA9IHByZXlzXG4gICAgICAgICAgLmZpbHRlcihwID0+IG1vdiA9PT0gcC5hZGp1c3RlZE1vdilcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5kZXggLSBiLmRleClcbiAgICAgICAgbG9jYXRpb25QYXJ0aWNpcGFudHNMaXN0LmZvckVhY2gocCA9PlxuICAgICAgICAgIGxvY2F0aW9uLnBhcnRpY2lwYW50cy5wdXNoKHAudXVpZClcbiAgICAgICAgKVxuICAgICAgICBjaGFzZVRyYWNrLnB1c2gobG9jYXRpb24pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYXNlVHJhY2tcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUxvY2F0aW9uc0xpc3QgKGxpc3QsIHsgcmVuZGVyID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAvLyBSZW1vdmUgYWxsIHVubmVjZXNzYXJ5IGl0ZW1zIChjc3NDbGFzcywgKVxuICAgIGNvbnN0IHVwZGF0ZWRMaXN0ID0gdGhpcy5jbGVhbkxvY2F0aW9uc0xpc3QobGlzdClcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShcbiAgICAgIHsgJ3N5c3RlbS5sb2NhdGlvbnMubGlzdCc6IHVwZGF0ZWRMaXN0IH0sXG4gICAgICB7IHJlbmRlciB9XG4gICAgKVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlTG9jYXRpb24gKGxvY2F0aW9uVXVpZCwgdXBkYXRlRGF0YSwgeyByZW5kZXIgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IGxvY2F0aW9ucyA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgIGNvbnN0IHVwZGF0ZSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHVwZGF0ZURhdGEpXG4gICAgY29uc3QgbG9jYXRpb25JbmRleCA9IGxvY2F0aW9ucy5maW5kSW5kZXgobCA9PiBsb2NhdGlvblV1aWQgPT09IGwudXVpZClcbiAgICBpZiAobG9jYXRpb25JbmRleCA9PT0gLTEpIHJldHVybiB1bmRlZmluZWRcbiAgICBpZiAodXBkYXRlLnV1aWQpIGRlbGV0ZSB1cGRhdGUudXVpZFxuICAgIGZvdW5kcnkudXRpbHMubWVyZ2VPYmplY3QobG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLCB1cGRhdGUsIHtcbiAgICAgIG92ZXJ3cml0ZTogdHJ1ZVxuICAgIH0pXG4gICAgYXdhaXQgdGhpcy51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucywgeyByZW5kZXIgfSlcbiAgfVxuXG4gIGNsZWFuTG9jYXRpb25zTGlzdCAobGlzdCkge1xuICAgIGNvbnN0IHVwZGF0ZWRMaXN0ID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUobGlzdClcbiAgICBjb25zdCBwYXJ0aXBhbnRzVXVpZEFycmF5ID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzLm1hcChwID0+IHAudXVpZClcblxuICAgIHVwZGF0ZWRMaXN0LmZvckVhY2gobCA9PiB7XG4gICAgICAvLyBkZWxldGUgbC5hY3RpdmVcbiAgICAgIGRlbGV0ZSBsLmNzc0NsYXNzZXNcbiAgICAgIGRlbGV0ZSBsLmZpcnN0XG4gICAgICBkZWxldGUgbC5sYXN0XG4gICAgICBkZWxldGUgbC5lbmRcbiAgICAgIGlmIChsLnBhcnRpY2lwYW50cyAmJiBsLnBhcnRpY2lwYW50cy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsLnBhcnRpY2lwYW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGwucGFydGljaXBhbnRzID0gbC5wYXJ0aWNpcGFudHMuZmlsdGVyKHAgPT4gIShwID09PSBudWxsKSkgLy8gUmVtb3ZlIG51bGwgZWxlbWVudHNcbiAgICAgICAgICAvLyBSZXBsYWNlIF9QYXJ0aWNpcGFudHMgYnkgdXVpZFxuICAgICAgICAgIGlmIChsLnBhcnRpY2lwYW50c1tpXS5kYXRhPy51dWlkKSB7XG4gICAgICAgICAgICBsLnBhcnRpY2lwYW50c1tpXSA9IGwucGFydGljaXBhbnRzW2ldLmRhdGEudXVpZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB1bmtvd24gcGFydGljaWNwYW50c1xuICAgICAgICBsLnBhcnRpY2lwYW50cyA9IGwucGFydGljaXBhbnRzLmZpbHRlcih1dWlkID0+XG4gICAgICAgICAgcGFydGlwYW50c1V1aWRBcnJheS5pbmNsdWRlcyh1dWlkKVxuICAgICAgICApXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB1cGRhdGVkTGlzdFxuICB9XG5cbiAgYXN5bmMgaW5zZXJ0TG9jYXRpb24gKFxuICAgIGluc2VydEF0VXVpZCxcbiAgICB7IHNoaWZ0ID0gMCwgbG9jRGF0YSA9IHt9LCByZW5kZXIgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICBsb2NhdGlvbnMuZm9yRWFjaChsID0+IHtcbiAgICAgIGRlbGV0ZSBsLmFjdGl2ZVxuICAgIH0pXG4gICAgY29uc3QgbG9jYXRpb25JbmRleCA9IGxvY2F0aW9ucy5maW5kSW5kZXgobCA9PiBpbnNlcnRBdFV1aWQgPT09IGwudXVpZClcbiAgICBpZiAobG9jYXRpb25JbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBjb25zdCBuZXdMb2NhdGlvbkluZGV4ID0gbG9jYXRpb25JbmRleCArIHNoaWZ0XG4gICAgaWYgKG5ld0xvY2F0aW9uSW5kZXggPiBsb2NhdGlvbnMubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBuZXdMb2NhdGlvbiA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKGxvY0RhdGEpXG4gICAgbmV3TG9jYXRpb24udXVpZCA9IHRoaXMuZ2VuZXJhdGVOZXdVdWlkKClcbiAgICBuZXdMb2NhdGlvbi5pbml0ID0gbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLmluaXRcbiAgICBuZXdMb2NhdGlvbi5hY3RpdmUgPSB0cnVlXG4gICAgbG9jYXRpb25zLnNwbGljZShuZXdMb2NhdGlvbkluZGV4LCAwLCBuZXdMb2NhdGlvbilcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucywgeyByZW5kZXIgfSlcbiAgfVxuXG4gIGFzeW5jIHJlbW92ZUxvY2F0aW9uICh1dWlkLCB7IHJlbmRlciA9IHRydWUgfSA9IHt9KSB7XG4gICAgY29uc3QgbG9jYXRpb25zID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgY29uc3QgbG9jYXRpb25JbmRleCA9IGxvY2F0aW9ucy5maW5kSW5kZXgobCA9PiB1dWlkID09PSBsLnV1aWQpXG4gICAgbG9jYXRpb25zLnNwbGljZShsb2NhdGlvbkluZGV4LCAxKVxuICAgIGxvY2F0aW9ucy5mb3JFYWNoKGwgPT4ge1xuICAgICAgZGVsZXRlIGwuYWN0aXZlXG4gICAgfSlcbiAgICBpZiAobG9jYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpbmRleCA9IGxvY2F0aW9uSW5kZXggLSAxXG4gICAgICBpZiAoaW5kZXggPCAwKSBpbmRleCA9IDBcbiAgICAgIGxvY2F0aW9uc1tpbmRleF0uYWN0aXZlID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucywgeyByZW5kZXIgfSlcbiAgfVxuXG4gIGFzeW5jIGFjdGl2YXRlTG9jYXRpb24gKFxuICAgIGxvY2F0aW9uVXVpZCxcbiAgICB7IHNjcm9sbFRvTG9jYXRpb24gPSB0cnVlLCByZW5kZXIgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0gdGhpcy5nZXRBY3RpdmF0ZUxvY2F0aW9uVXBkYXRlRGF0YShsb2NhdGlvblV1aWQsIHtcbiAgICAgIHNjcm9sbFRvTG9jYXRpb25cbiAgICB9KVxuICAgIGF3YWl0IHRoaXMudXBkYXRlKHVwZGF0ZURhdGEsIHsgcmVuZGVyIH0pXG4gIH1cblxuICBnZXRDbGVhckFjdGl2ZUxvY2F0aW9uVXBkYXRlRGF0YSAoe1xuICAgIHNjcm9sbFRvTG9jYXRpb24gPSB0cnVlLFxuICAgIGh0bWwgPSBudWxsXG4gIH0gPSB7fSkge1xuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fVxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0XG4gICAgICA/IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgICAgOiBbXVxuICAgIGxvY2F0aW9ucy5mb3JFYWNoKGwgPT4ge1xuICAgICAgZGVsZXRlIGwuYWN0aXZlXG4gICAgfSlcbiAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubG9jYXRpb25zLmxpc3QnXSA9IHRoaXMuY2xlYW5Mb2NhdGlvbnNMaXN0KGxvY2F0aW9ucylcblxuICAgIGlmIChzY3JvbGxUb0xvY2F0aW9uKSB7XG4gICAgICB1cGRhdGVEYXRhWydzeXN0ZW0uc2Nyb2xsLmNoYXNlVHJhY2suZnJvbSddID0gMFxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNjcm9sbC5jaGFzZVRyYWNrLnRvJ10gPSAtMVxuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgZ2V0QWN0aXZhdGVMb2NhdGlvblVwZGF0ZURhdGEgKFxuICAgIGxvY2F0aW9uVXVpZCxcbiAgICB7IHNjcm9sbFRvTG9jYXRpb24gPSB0cnVlLCBodG1sID0gbnVsbCB9ID0ge31cbiAgKSB7XG4gICAgaWYgKCFsb2NhdGlvblV1aWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsZWFyQWN0aXZlTG9jYXRpb25VcGRhdGVEYXRhKHtcbiAgICAgICAgc2Nyb2xsVG9Mb2NhdGlvblxuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XG4gICAgY29uc3QgbG9jYXRpb25zID0gdGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3RcbiAgICAgID8gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgICA6IFtdXG4gICAgbG9jYXRpb25zLmZvckVhY2gobCA9PiB7XG4gICAgICBkZWxldGUgbC5hY3RpdmVcbiAgICAgIGlmIChsb2NhdGlvblV1aWQgPT09IGwudXVpZCkgbC5hY3RpdmUgPSB0cnVlXG4gICAgfSlcbiAgICB1cGRhdGVEYXRhWydzeXN0ZW0ubG9jYXRpb25zLmxpc3QnXSA9IHRoaXMuY2xlYW5Mb2NhdGlvbnNMaXN0KGxvY2F0aW9ucylcbiAgICAvLyBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zLCB7IHJlbmRlcjogZmFsc2UgfSlcbiAgICBpZiAoc2Nyb2xsVG9Mb2NhdGlvbikge1xuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNjcm9sbC5jaGFzZVRyYWNrLmZyb20nXSA9XG4gICAgICAgIHRoaXMuY2hhc2VUcmFja0N1cnJlbnRTY3JvbGxQb3NpdGlvblxuICAgICAgdXBkYXRlRGF0YVsnc3lzdGVtLnNjcm9sbC5jaGFzZVRyYWNrLnRvJ10gPVxuICAgICAgICB0aGlzLmdldENoYXNlVHJhY2tMb2NhdGlvblNjcm9sbFBvc2l0aW9uKGxvY2F0aW9uVXVpZCwgeyBodG1sIH0pXG4gICAgICAvLyBhd2FpdCB0aGlzLnNldGNoYXNlVHJhY2tTY3JvbGwoe1xuICAgICAgLy8gICBmcm9tOiB0aGlzLmNoYXNlVHJhY2tDdXJyZW50U2Nyb2xsUG9zaXRpb24sXG4gICAgICAvLyAgIHRvOiB0aGlzLmNoYXNlVHJhY2tBY3RpdmVMb2NhdGlvblNjcm9sbFBvc2l0aW9uXG4gICAgICAvLyB9KVxuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlRGF0YVxuICB9XG5cbiAgLy8gTG9jYXRpb25zIG5hdmlnYXRpb25cbiAgZ2V0IGFjdGl2ZUxvY2F0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMubG9jYXRpb25zKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmxvY2F0aW9ucy5maW5kKGwgPT4gbC5hY3RpdmUpXG4gICAgaWYgKCFsb2NhdGlvbikgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChsb2NhdGlvbi5wYXJ0aWNpcGFudHM/Lmxlbmd0aCkgbG9jYXRpb24uaGFzUGFydGljaXBhbnQgPSB0cnVlXG4gICAgY29uc3QgYWN0b3IgPSB0aGlzLmFjdGl2ZUFjdG9yXG4gICAgaWYgKGFjdG9yKSB7XG4gICAgICBjb25zdCB0ZXN0ID0gYWN0b3IuZmluZChsb2NhdGlvbi5vYnN0YWNsZURldGFpbHM/LmNoZWNrTmFtZSlcbiAgICAgIGlmICh0ZXN0KSB7XG4gICAgICAgIGxvY2F0aW9uLmFjdGl2ZUFjdG9ySGFzU2tpbGwgPSB0cnVlXG4gICAgICAgIGxvY2F0aW9uLmFjdGl2ZUFjdG9yVGVzdCA9IHRlc3RcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uXG4gIH1cblxuICBnZXQgcHJldmlvdXNMb2NhdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmxvY2F0aW9ucykgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gdGhpcy5sb2NhdGlvbnMuZmluZEluZGV4KGwgPT4gbC5hY3RpdmUpXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSAtMSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChhY3RpdmVJbmRleCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbnNbYWN0aXZlSW5kZXggLSAxXVxuICAgIGNvbnN0IGFjdG9yID0gdGhpcy5hY3RpdmVBY3RvclxuICAgIGlmIChhY3Rvcikge1xuICAgICAgY29uc3QgdGVzdCA9IGFjdG9yLmZpbmQobG9jYXRpb24ub2JzdGFjbGVEZXRhaWxzPy5jaGVja05hbWUpXG4gICAgICBpZiAodGVzdCkge1xuICAgICAgICBsb2NhdGlvbi5hY3RpdmVBY3Rvckhhc1NraWxsID0gdHJ1ZVxuICAgICAgICBsb2NhdGlvbi5hY3RpdmVBY3RvclRlc3QgPSB0ZXN0XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhdGlvblxuICB9XG5cbiAgZ2V0IG5leHRMb2NhdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmxvY2F0aW9ucykgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gdGhpcy5sb2NhdGlvbnMuZmluZEluZGV4KGwgPT4gbC5hY3RpdmUpXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSAtMSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChhY3RpdmVJbmRleCA9PT0gdGhpcy5sb2NhdGlvbnMubGVuZ3RoIC0gMSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbnNbYWN0aXZlSW5kZXggKyAxXVxuICAgIGNvbnN0IGFjdG9yID0gdGhpcy5hY3RpdmVBY3RvclxuICAgIGlmIChhY3Rvcikge1xuICAgICAgY29uc3QgdGVzdCA9IGFjdG9yLmZpbmQobG9jYXRpb24ub2JzdGFjbGVEZXRhaWxzPy5jaGVja05hbWUpXG4gICAgICBpZiAodGVzdCkge1xuICAgICAgICBsb2NhdGlvbi5hY3RpdmVBY3Rvckhhc1NraWxsID0gdHJ1ZVxuICAgICAgICBsb2NhdGlvbi5hY3RpdmVBY3RvclRlc3QgPSB0ZXN0XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhdGlvblxuICB9XG5cbiAgYXN5bmMgbG9jYXRvckRyb3BwZWQgKGRhdGEpIHtcbiAgICBhd2FpdCB0aGlzLnNldExvY2F0aW9uQ29vcmRpbmF0ZXMoXG4gICAgICBkYXRhLmxvY2F0aW9uVXVpZCxcbiAgICAgIGRhdGEueCxcbiAgICAgIGRhdGEueSxcbiAgICAgIGRhdGEuc2NlbmVcbiAgICApXG4gIH1cblxuICBhc3luYyBzZXRMb2NhdGlvbkNvb3JkaW5hdGVzIChcbiAgICBsb2NhdGlvblV1aWQsXG4gICAgeCxcbiAgICB5LFxuICAgIHNjZW5lSWQsXG4gICAgeyByZW5kZXIgPSB0cnVlIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gbG9jYXRpb25zLmZpbmRJbmRleChsID0+IGxvY2F0aW9uVXVpZCA9PT0gbC51dWlkKVxuICAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5jb29yZGluYXRlcyA9IHsgeCwgeSwgc2NlbmU6IHNjZW5lSWQgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMsIHsgcmVuZGVyIH0pXG4gIH1cblxuICBhc3luYyBjbGVhckFjdGl2ZUxvY2F0aW9uQ29vcmRpbmF0ZXMgKHsgcmVuZGVyID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBpZiAodGhpcy5hY3RpdmVMb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2xlYXJMb2NhdGlvbkNvb3JkaW5hdGVzKHRoaXMuYWN0aXZlTG9jYXRpb24udXVpZCwge1xuICAgICAgICByZW5kZXJcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2xlYXJMb2NhdGlvbkNvb3JkaW5hdGVzIChsb2NhdGlvblV1aWQsIHsgcmVuZGVyID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gbG9jYXRpb25zLmZpbmRJbmRleChsID0+IGxvY2F0aW9uVXVpZCA9PT0gbC51dWlkKVxuICAgIGRlbGV0ZSBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0uY29vcmRpbmF0ZXNcblxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zLCB7IHJlbmRlciB9KVxuICB9XG5cbiAgLy8gZ2V0IGFjdGl2ZVBhcnRpY2lwYW50SGF2ZUFjdGl2ZUxvY2F0aW9uU2tpbGwgKCl7XG4gIC8vICAgaWYoICF0aGlzLmFjdGl2ZUFjdG9yKSByZXR1cm4gZmFsc2VcbiAgLy8gICBpZiggdGhpcy5hY3RpdmVBY3Rvci5maW5kKCB0aGlzLmFjdGl2ZUxvY2F0aW9uLm9ic3RhY2xlRGV0YWlscz8uY2hlY2tOYW1lKSkgcmV0dXJuIHRydWVcbiAgLy8gICByZXR1cm4gZmFsc2VcbiAgLy8gfVxuXG4gIC8vIEhhbmRsZSBtZWNoYW5pY3NcbiAgYXN5bmMgY3V0VG9UaGVDaGFzZSAoKSB7XG4gICAgaWYgKCF0aGlzLmFsbEhhdmVTcGVlZFJvbGwpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTm90QWxsSGF2ZVNwZWVkUm9sbCcpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLmFjdHVhbFBhcnRpY2lwYW50cz8ubGVuZ3RoIDwgMikge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5OZWVkTWluMlBhcnRpY2lwYW50cycpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLmFsbEhhdmVWYWxpZE1vdikge1xuICAgICAgLy8gVE9ETyA6IENoZWNrIGZvciBzcGVlZCByb2xsID8/XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBtb3ZlbWVudCBhY3Rpb25zXG4gICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnBhcnRpY2lwYW50c1xuICAgICAgY29uc3QgbWluTW92ID0gdGhpcy5maW5kTWluTW92KHRoaXMuYWN0dWFsUGFydGljaXBhbnRzKVxuICAgICAgcGFydGljaXBhbnRzLmZvckVhY2gocCA9PiB7XG4gICAgICAgIC8vIHAuZGF0YS5tb3ZlbWVudEFjdGlvbiA9IDEgKyAocC5hZGp1c3RlZE1vdiAtIG1pbk1vdilcbiAgICAgICAgcC5jYWxjdWxhdGVNb3ZlbWVudEFjdGlvbnMobWluTW92KVxuICAgICAgICBwLmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPSBwLm1vdmVtZW50QWN0aW9uXG4gICAgICAgIHAuYm9udXNEaWNlID0gMFxuICAgICAgfSlcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlUGFydGljaXBhbnRzKHBhcnRpY2lwYW50cywgeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QodGhpcy5sb2NhdGlvbnMsIHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgICAgYXdhaXQgdGhpcy5zdGFydCgpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVzdGFydCAoKSB7XG4gICAgLy8gYXdhaXQgdGhpcy5jbGVhbkxvY2F0aW9ucygpIC8vVHJhbnNmZXJyZWQgaW4gdXBkYXRlTG9jYXRpb25MaXN0XG4gICAgY29uc3QgbG9jYXRpb25zID0gdGhpcy5sb2NhdGlvbnMuZmlsdGVyKGwgPT4gIWwuaW5pdClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxvY2F0aW9uc1tpXS5wYXJ0aWNpcGFudHMpIGxvY2F0aW9uc1tpXS5wYXJ0aWNpcGFudHMgPSBbXVxuICAgICAgaWYgKGxvY2F0aW9uc1tpXS5hY3RpdmUpIGRlbGV0ZSBsb2NhdGlvbnNbaV0uYWN0aXZlXG4gICAgfVxuICAgIGNvbnN0IHBhcnRpY2lwYW50c0RhdGEgPSB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgID8gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzKVxuICAgICAgOiBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljaXBhbnRzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHBhcnRpY2lwYW50c0RhdGFbaV0uYWN0aXZlKSBkZWxldGUgcGFydGljaXBhbnRzRGF0YVtpXS5hY3RpdmVcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5zZXRjaGFzZVRyYWNrU2Nyb2xsKDAsIDAsIHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMsIHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgIGF3YWl0IHRoaXMudXBkYXRlUGFydGljaXBhbnRzKHBhcnRpY2lwYW50c0RhdGEsIHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgIGF3YWl0IHRoaXMuc3RvcCgpXG4gIH1cblxuICBnZXRMb2NhdGlvblNoaWZ0IChsb2NhdGlvblV1aWQsIHsgc2tpcCA9IDEgfSA9IHt9KSB7XG4gICAgY29uc3QgbG9jYXRpb25zID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgY29uc3Qgb3JpZ2luSW5kZXggPSBsb2NhdGlvbnMuZmluZEluZGV4KGwgPT4gbG9jYXRpb25VdWlkID09PSBsLnV1aWQpXG4gICAgY29uc3QgZGVzdGluYXRpb25JbmRleCA9IG9yaWdpbkluZGV4ICsgc2tpcFxuICAgIGlmIChsb2NhdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbFxuICAgIGlmIChkZXN0aW5hdGlvbkluZGV4ID49IGxvY2F0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBsb2NhdGlvbnNbbG9jYXRpb25zLmxlbmd0aCAtIDFdXG4gICAgfVxuICAgIGlmIChkZXN0aW5hdGlvbkluZGV4IDwgMCkgcmV0dXJuIGxvY2F0aW9uc1swXVxuICAgIHJldHVybiBsb2NhdGlvbnNbZGVzdGluYXRpb25JbmRleF0gLy8gRVJST1IgTU9WRSAyIEZPUiBTS0lQICsxXG4gIH1cblxuICBhc3luYyByZW1vdmVQYXJ0aWNpcGFudCAocGFydGljaXBhbnRVdWlkLCB7IHJlbmRlciA9IHRydWUgfSA9IHt9KSB7XG4gICAgY29uc3QgcCA9IHRoaXMuZ2V0UGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkKVxuICAgIGF3YWl0IERpYWxvZy5jb25maXJtKHtcbiAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUmVtb3ZlUGFydGljaXBhbnQnKSxcbiAgICAgIGNvbnRlbnQ6IGA8cD4ke2dhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUmVtb3ZlUGFydGljaXBhbnRIaW50Jywge1xuICAgICAgICBuYW1lOiBwLm5hbWVcbiAgICAgIH0pfTwvcD5gLFxuICAgICAgeWVzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50c0RhdGEgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShcbiAgICAgICAgICB0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBuZXdQYXJ0aWNpcGFudHNEYXRhID0gcGFydGljaXBhbnRzRGF0YS5maWx0ZXIoXG4gICAgICAgICAgcCA9PiBwYXJ0aWNpcGFudFV1aWQgIT09IHAudXVpZFxuICAgICAgICApXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uc0RhdGEgPSBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZShcbiAgICAgICAgICB0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdFxuICAgICAgICApXG4gICAgICAgIGxvY2F0aW9uc0RhdGEuZm9yRWFjaChsID0+IHtcbiAgICAgICAgICBpZiAobC5wYXJ0aWNpcGFudHMgJiYgbC5wYXJ0aWNpcGFudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsLnBhcnRpY2lwYW50cyA9IGwucGFydGljaXBhbnRzLmZpbHRlcihcbiAgICAgICAgICAgICAgdXVpZCA9PiBwYXJ0aWNpcGFudFV1aWQgIT09IHV1aWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlUGFydGljaXBhbnRzKG5ld1BhcnRpY2lwYW50c0RhdGEsIHsgcmVuZGVyOiBmYWxzZSB9KVxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zRGF0YSwgeyByZW5kZXIgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgYWRkUGFydGljaXBhbnQgKFxuICAgIHBhcnRpY2lwYW50LFxuICAgIHtcbiAgICAgIHJlbmRlciA9IHRydWUsXG4gICAgICBsb2NhdGlvblV1aWQgPSBudWxsLFxuICAgICAgcmVjYWxjdWxhdGVNb3ZlbWVudEFjdGlvbnMgPSB0cnVlLFxuICAgICAgdXBkYXRlID0gZmFsc2VcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IHRoaXMuc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBmb3VuZHJ5LnV0aWxzLmR1cGxpY2F0ZSh0aGlzLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG5cbiAgICBpZiAocGFydGljaXBhbnQuZGF0YS5jaGFzZVV1aWQpIGRlbGV0ZSBwYXJ0aWNpcGFudC5kYXRhLmNoYXNlVXVpZFxuICAgIGlmIChwYXJ0aWNpcGFudC5kYXRhLmxvY2F0aW9uVXVpZCkgZGVsZXRlIHBhcnRpY2lwYW50LmRhdGEubG9jYXRpb25VdWlkXG4gICAgaWYgKHBhcnRpY2lwYW50LmRhdGEudXBkYXRlKSBkZWxldGUgcGFydGljaXBhbnQuZGF0YS51cGRhdGVcblxuICAgIGlmICghcGFydGljaXBhbnQudXVpZCkge1xuICAgICAgbGV0IHVuaXF1ZSA9IGZhbHNlXG4gICAgICB3aGlsZSAoIXVuaXF1ZSkge1xuICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnV1aWQgPSBmb3VuZHJ5LnV0aWxzLnJhbmRvbUlEKDE2KVxuICAgICAgICB1bmlxdWUgPVxuICAgICAgICAgIHBhcnRpY2lwYW50c0RhdGEuZmlsdGVyKHAgPT4gcC51dWlkID09PSBwYXJ0aWNpcGFudC51dWlkKS5sZW5ndGggPT09IDBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXBkYXRlKSB7XG4gICAgICBpZiAocGFydGljaXBhbnQuY3VycmVudE1vdmVtZW50QWN0aW9ucyA+IHBhcnRpY2lwYW50Lm1vdmVtZW50QWN0aW9uKSB7XG4gICAgICAgIHBhcnRpY2lwYW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnMgPSBwYXJ0aWNpcGFudC5tb3ZlbWVudEFjdGlvblxuICAgICAgfVxuICAgICAgY29uc3QgaW5kZXggPSBwYXJ0aWNpcGFudHNEYXRhLmZpbmRJbmRleChwID0+IHAudXVpZCA9PT0gcGFydGljaXBhbnQudXVpZClcbiAgICAgIHBhcnRpY2lwYW50c0RhdGFbaW5kZXhdID0gcGFydGljaXBhbnQuZGF0YVxuICAgIH0gZWxzZSBwYXJ0aWNpcGFudHNEYXRhLnB1c2gocGFydGljaXBhbnQuZGF0YSlcblxuICAgIGF3YWl0IHRoaXMudXBkYXRlUGFydGljaXBhbnRzKHBhcnRpY2lwYW50c0RhdGEsIHtcbiAgICAgIHJlbmRlcjogcmVuZGVyICYmICF0aGlzLnN0YXJ0ZWQgJiYgIXRoaXMucmVjYWxjdWxhdGVNb3ZlbWVudEFjdGlvbnNcbiAgICB9KVxuXG4gICAgaWYgKHJlY2FsY3VsYXRlTW92ZW1lbnRBY3Rpb25zKSB7XG4gICAgICBjb25zdCBzbG93ZXN0ID0gdGhpcy5zbG93ZXN0UGFydGljaXBhbnQ/LmFkanVzdGVkTW92XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnBhcnRpY2lwYW50c1xuICAgICAgcGFydGljaXBhbnRzLmZvckVhY2gocCA9PiBwLmNhbGN1bGF0ZU1vdmVtZW50QWN0aW9ucyhzbG93ZXN0KSlcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlUGFydGljaXBhbnRzKHBhcnRpY2lwYW50cywge1xuICAgICAgICByZW5kZXI6IHJlbmRlciAmJiAhdGhpcy5zdGFydGVkXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhcnRlZCAmJlxuICAgICAgIShwYXJ0aWNpcGFudC5kYXRhLmVzY2FwZWQgfHwgcGFydGljaXBhbnQuZGF0YS5leGNsdWRlZClcbiAgICApIHtcbiAgICAgIGNvbnN0IGxvY2F0aW9uc0RhdGEgPSB0aGlzLnN5c3RlbS5sb2NhdGlvbnMubGlzdFxuICAgICAgICA/IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKHRoaXMuc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgICAgICA6IFtdXG5cbiAgICAgIGlmIChsb2NhdGlvbnNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvckVtcHR5TG9jYXRpb25zTGlzdCcpXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgbGV0IGxvY2F0aW9uSW5kZXggPSBsb2NhdGlvbnNEYXRhLmZpbmRJbmRleChsID0+IGxvY2F0aW9uVXVpZCA9PT0gbC51dWlkKVxuICAgICAgaWYgKGxvY2F0aW9uSW5kZXggPT09IC0xKSBsb2NhdGlvbkluZGV4ID0gMFxuICAgICAgaWYgKCFsb2NhdGlvbnNEYXRhW2xvY2F0aW9uSW5kZXhdLnBhcnRpY2lwYW50cykge1xuICAgICAgICBsb2NhdGlvbnNEYXRhW2xvY2F0aW9uSW5kZXhdLnBhcnRpY2lwYW50cyA9IFtdXG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGxvY2F0aW9uc0RhdGFbbG9jYXRpb25JbmRleF0ucGFydGljaXBhbnRzLmZpbmRJbmRleChcbiAgICAgICAgICBwID0+IHAgPT09IHBhcnRpY2lwYW50LnV1aWRcbiAgICAgICAgKSA9PT0gLTFcbiAgICAgICkge1xuICAgICAgICBsb2NhdGlvbnNEYXRhW2xvY2F0aW9uSW5kZXhdLnBhcnRpY2lwYW50cy5wdXNoKHBhcnRpY2lwYW50LnV1aWQpXG4gICAgICB9XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zRGF0YSwgeyByZW5kZXIgfSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBlZGl0UGFydGljaXBhbnQgKFxuICAgIHBhcnRpY2lwYW50VXVpZCxcbiAgICB7XG4gICAgICB1c2VNb3ZlbWVudEFjdGlvbnMgPSB0cnVlLFxuICAgICAgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsXG4gICAgICBhY3RpdmF0ZUxvY2F0aW9uID0gdHJ1ZSxcbiAgICAgIGFjdGl2YXRlUGFydGljaXBhbnQgPSB0cnVlLFxuICAgICAgcmVuZGVyID0gdHJ1ZVxuICAgIH0gPSB7fVxuICApIHt9XG5cbiAgLyoqXG4gICAqIE1vdmUgYSBwYXJ0aWNpcGFudCBmb3IgYSBudW1iZXIgb2YgbG9jYXRpb25zLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBwYXJ0aWNpcGFudFV1aWQgICAgIFV1aWQgb2YgcGFydGljaXBhbnRcbiAgICogQHBhcmFtIHsqfSBsb2NhdGlvbk1vdmVkICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgbG9jYXRpb25zIG1vdnJlZFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgICAgIFRvdGFsIG51bWJlciBvZiBsb2NhdGlvbnMgY3Jvc3NlZFxuICAgKi9cbiAgYXN5bmMgbW92ZVBhcnRpY2lwYW50IChcbiAgICBwYXJ0aWNpcGFudFV1aWQsXG4gICAgbG9jYXRpb25Nb3ZlZCxcbiAgICB7XG4gICAgICB1c2VNb3ZlbWVudEFjdGlvbnMgPSB0cnVlLFxuICAgICAgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsXG4gICAgICBhY3RpdmF0ZUxvY2F0aW9uID0gdHJ1ZSxcbiAgICAgIGFjdGl2YXRlUGFydGljaXBhbnQgPSB0cnVlLFxuICAgICAgcmVuZGVyID0gdHJ1ZVxuICAgIH0gPSB7fVxuICApIHtcbiAgICAvLyBjb25zdCBzZWxlY3RvciA9IGAjaXRlbS0ke3RoaXMuaWR9IC5jaGFzZS10cmFja2BcbiAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oIGBtb3ZlUGFydGljaXBhbnQgOiBKcXVlcnkgcm9vdDogJHskKCc6cm9vdCcpLmZpbmQoc2VsZWN0b3IpLnNjcm9sbExlZnQoKX1gKVxuICAgIGxldCBtb2RpZmllZCA9IGZhbHNlXG4gICAgY29uc3QgbG9jYXRpb25zID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgY29uc3Qgb3JpZ2luSW5kZXggPSBsb2NhdGlvbnMuZmluZEluZGV4KGwgPT5cbiAgICAgIGwucGFydGljaXBhbnRzPy5pbmNsdWRlcyhwYXJ0aWNpcGFudFV1aWQpXG4gICAgKVxuICAgIGxldCBkZXN0aW5hdGlvbkluZGV4ID0gb3JpZ2luSW5kZXggKyBsb2NhdGlvbk1vdmVkXG4gICAgaWYgKGRlc3RpbmF0aW9uSW5kZXggPiBsb2NhdGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgZGVzdGluYXRpb25JbmRleCA9IGxvY2F0aW9ucy5sZW5ndGggLSAxXG4gICAgfVxuXG4gICAgaWYgKGRlc3RpbmF0aW9uSW5kZXggPCAwKSB7XG4gICAgICBkZXN0aW5hdGlvbkluZGV4ID0gMFxuICAgIH1cblxuICAgIGNvbnN0IHRvdGFsTW92ZSA9IGRlc3RpbmF0aW9uSW5kZXggLSBvcmlnaW5JbmRleFxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5nZXRQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQpXG4gICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50SW5kZXggPSBwYXJ0aWNpcGFudHNEYXRhLmZpbmRJbmRleChcbiAgICAgIHAgPT4gcGFydGljaXBhbnRVdWlkID09PSBwLnV1aWRcbiAgICApXG5cbiAgICBpZiAodXNlTW92ZW1lbnRBY3Rpb25zKSB7XG4gICAgICBpZiAoIXBhcnRpY2lwYW50KSB7XG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoXG4gICAgICAgICAgZ2FtZS5pMThuLmZvcm1hdCgnQ29DNy5QYXJ0aWNpcGFudFV1aWROb3RGb3VuZCcsIHtcbiAgICAgICAgICAgIHBhcnRpY2lwYW50VXVpZDogdGhpcy5wYXJ0aWNpcGFudFV1aWRcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0aWNpcGFudC5jdXJyZW50TW92ZW1lbnRBY3Rpb25zIDwgTWF0aC5hYnModG90YWxNb3ZlKSkge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgIGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuUGFydGljaXBhbnROb3RFbm91Z2hNb3ZlbWVudCcsIHtcbiAgICAgICAgICAgIGFzc2lzdGFudFV1aWQ6IHBhcnRpY2lwYW50VXVpZCxcbiAgICAgICAgICAgIGFjdGlvbnM6IHBhcnRpY2lwYW50LmN1cnJlbnRNb3ZlbWVudEFjdGlvbnNcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICAgIHBhcnRpY2lwYW50LmFsdGVyTW92ZW1lbnRBY3Rpb25zKDAgLSBNYXRoLmFicyh0b3RhbE1vdmUpKVxuICAgICAgcGFydGljaXBhbnRzRGF0YVtwYXJ0aWNpcGFudEluZGV4XSA9IGZvdW5kcnkudXRpbHMuZHVwbGljYXRlKFxuICAgICAgICBwYXJ0aWNpcGFudC5kYXRhXG4gICAgICApXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZShcbiAgICAgICAgeyAnc3lzdGVtLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50c0RhdGEgfSxcbiAgICAgICAgeyByZW5kZXI6IGZhbHNlIH1cbiAgICAgIClcbiAgICAgIG1vZGlmaWVkID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmICh0b3RhbE1vdmUgIT09IDApIHtcbiAgICAgIGF3YWl0IHRoaXMubW92ZVBhcnRpY2lwYW50VG9Mb2NhdGlvbihcbiAgICAgICAgcGFydGljaXBhbnRVdWlkLFxuICAgICAgICBsb2NhdGlvbnNbZGVzdGluYXRpb25JbmRleF0udXVpZCxcbiAgICAgICAgeyByZW5kZXI6IGZhbHNlIH1cbiAgICAgIClcbiAgICAgIG1vZGlmaWVkID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChhY3RpdmF0ZVBhcnRpY2lwYW50KSB7XG4gICAgICBhd2FpdCB0aGlzLmFjdGl2YXRlUGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkLCB7XG4gICAgICAgIHNjcm9sbFRvTG9jYXRpb24sXG4gICAgICAgIGFjdGl2YXRlTG9jYXRpb24sXG4gICAgICAgIHJlbmRlcjogZmFsc2VcbiAgICAgIH0pXG4gICAgICBtb2RpZmllZCA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoYWN0aXZhdGVMb2NhdGlvbiAmJiAhYWN0aXZhdGVQYXJ0aWNpcGFudCkge1xuICAgICAgYXdhaXQgdGhpcy5hY3RpdmF0ZUxvY2F0aW9uKGxvY2F0aW9uc1tkZXN0aW5hdGlvbkluZGV4XS51dWlkLCB7XG4gICAgICAgIHNjcm9sbFRvTG9jYXRpb24sXG4gICAgICAgIHJlbmRlcjogZmFsc2VcbiAgICAgIH0pXG4gICAgICBtb2RpZmllZCA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAobW9kaWZpZWQgJiYgcmVuZGVyKSBhd2FpdCB0aGlzLnNoZWV0LnJlbmRlcih0cnVlKVxuICAgIHJldHVybiB0b3RhbE1vdmVcbiAgfVxuXG4gIGFzeW5jIG1vdmVQYXJ0aWNpcGFudFRvTG9jYXRpb24gKFxuICAgIHBhcnRpY2lwYW50VXVpZCxcbiAgICBsb2NhdGlvblV1aWQsXG4gICAge1xuICAgICAgc2Nyb2xsVG9Mb2NhdGlvbiA9IHRydWUsXG4gICAgICBhY3RpdmF0ZUxvY2F0aW9uID0gdHJ1ZSxcbiAgICAgIGFuaW1hdGUgPSBudWxsLFxuICAgICAgbW92ZVRva2VuID0gdHJ1ZSxcbiAgICAgIHJlbmRlciA9IHRydWVcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgY29uc3QgbG9jYXRpb25zID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG5cbiAgICAvLyBGaW5kIGRlc3RpbmF0aW9uIGxvY2F0aW9uLlxuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gbG9jYXRpb25zLmZpbmQobCA9PiBsb2NhdGlvblV1aWQgPT09IGwudXVpZClcbiAgICBpZiAoIWRlc3RpbmF0aW9uKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIG1vdmUgJHtwYXJ0aWNpcGFudFV1aWR9LiBMb2NhdGlvbiAke2xvY2F0aW9uVXVpZH0gdW5rbm93bmBcbiAgICAgIClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEZpbmQgb3JpZ2luIGxvY2F0aW9uXG4gICAgY29uc3Qgb3JpZ2luID0gbG9jYXRpb25zLmZpbmQobCA9PlxuICAgICAgbC5wYXJ0aWNpcGFudHM/LmluY2x1ZGVzKHBhcnRpY2lwYW50VXVpZClcbiAgICApXG5cbiAgICBpZiAoIW9yaWdpbikge1xuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZpbmQgJHtwYXJ0aWNpcGFudFV1aWR9IGluIGxvY2F0aW9uc2ApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIWRlc3RpbmF0aW9uLnBhcnRpY2lwYW50cykgZGVzdGluYXRpb24ucGFydGljaXBhbnRzID0gW11cbiAgICBpZiAoZGVzdGluYXRpb24ucGFydGljaXBhbnRzLmluY2x1ZGVzKHBhcnRpY2lwYW50VXVpZCkpIHJldHVybiAvLyBtb3ZpbmcgcGFydGljcGFudCB0byBhIGxvY2F0aW9uIGhlIGFscmVhZHkgb2NjdXBpZXNcbiAgICBkZXN0aW5hdGlvbi5wYXJ0aWNpcGFudHMucHVzaChwYXJ0aWNpcGFudFV1aWQpXG4gICAgLy8gZGVzdGluYXRpb24ucGFydGljaXBhbnRzLnNvcnQoc29ydEJ5Um9sZUFuZERleClcblxuICAgIGNvbnN0IG9sZFBhcnRpY2lwYW50c0xpc3QgPSBvcmlnaW4ucGFydGljaXBhbnRzLmZpbHRlcihcbiAgICAgIHAgPT4gcGFydGljaXBhbnRVdWlkICE9PSBwXG4gICAgKVxuICAgIG9yaWdpbi5wYXJ0aWNpcGFudHMgPSBvbGRQYXJ0aWNpcGFudHNMaXN0XG5cbiAgICBpZiAobW92ZVRva2VuICYmIGRlc3RpbmF0aW9uLmNvb3JkaW5hdGVzKSB7XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuZ2V0UGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkKVxuICAgICAgY29uc3QgcGFydGljcGFudERvY3VtZW50ID0gQ29DN1V0aWxpdGllcy5nZXREb2N1bWVudEZyb21LZXkoXG4gICAgICAgIHBhcnRpY2lwYW50Py5kYXRhPy5kb2NVdWlkXG4gICAgICApXG4gICAgICBpZiAoXG4gICAgICAgIHBhcnRpY3BhbnREb2N1bWVudCAmJlxuICAgICAgICAhKFxuICAgICAgICAgIC8qIHBhcnRpY3BhbnREb2N1bWVudC5pc1Rva2VuIHx8ICovIChcbiAgICAgICAgICAgIHBhcnRpY3BhbnREb2N1bWVudCBpbnN0YW5jZW9mIFRva2VuRG9jdW1lbnQgfHxcbiAgICAgICAgICAgIHBhcnRpY3BhbnREb2N1bWVudD8ub2JqZWN0IGluc3RhbmNlb2YgVG9rZW5cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ05vIHRva2VuIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFjdG9yJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbi5jb29yZGluYXRlcy5zY2VuZSAhPT0gZ2FtZS5zY2VuZXMudmlld2VkLnV1aWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0NhdXRpb24gdGhlIHNjZW5lIGlzIG5vdCB0aGUgYWN0aXZlIHNjZW5lJylcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGljcGFudERvY3VtZW50LnBhcmVudD8udXVpZCAhPT0gZGVzdGluYXRpb24uY29vcmRpbmF0ZXMuc2NlbmUpIHtcbiAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVycm9yVG9rZW5Ob3RPblNjZW5lJylcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgc2NlbmUgPSBDb0M3VXRpbGl0aWVzLmdldERvY3VtZW50RnJvbUtleShcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmNvb3JkaW5hdGVzLnNjZW5lXG4gICAgICAgICAgKVxuICAgICAgICAgIGxldCB4ID0gZGVzdGluYXRpb24uY29vcmRpbmF0ZXMueFxuICAgICAgICAgIGNvbnN0IHkgPSBkZXN0aW5hdGlvbi5jb29yZGluYXRlcy55XG4gICAgICAgICAgbGV0IHRhcmdldFJlY3QgPSBuZXcgTm9ybWFsaXplZFJlY3RhbmdsZShcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgcGFydGljcGFudERvY3VtZW50Lm9iamVjdC53aWR0aCxcbiAgICAgICAgICAgIHBhcnRpY3BhbnREb2N1bWVudC5vYmplY3QuaGVpZ2h0XG4gICAgICAgICAgKVxuICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IFtdXG4gICAgICAgICAgbGV0IGZvdW5kRnJlZVNwYWNlID0gZmFsc2VcbiAgICAgICAgICB3aGlsZSAoIWZvdW5kRnJlZVNwYWNlKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVybGFwaW5nVG9rZW4gPSBzY2VuZS50b2tlbnMuZmluZCh0ID0+IHtcbiAgICAgICAgICAgICAgaWYgKHQuaWQgPT09IHBhcnRpY3BhbnREb2N1bWVudC5pZCkgcmV0dXJuIGZhbHNlIC8vIFlvdSBjYW4ndCBvdmVybGFwIHdpdGggeW91cnNlbGZcbiAgICAgICAgICAgICAgcmV0dXJuIHQub2JqZWN0LmJvdW5kcy5pbnRlcnNlY3RzKHRhcmdldFJlY3QpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKG92ZXJsYXBpbmdUb2tlbikge1xuICAgICAgICAgICAgICB4ID0gb3ZlcmxhcGluZ1Rva2VuLm9iamVjdC5ib3VuZHMucmlnaHQgKyAxXG4gICAgICAgICAgICAgIHRhcmdldFJlY3QgPSBuZXcgTm9ybWFsaXplZFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgcGFydGljcGFudERvY3VtZW50Lm9iamVjdC53aWR0aCxcbiAgICAgICAgICAgICAgICBwYXJ0aWNwYW50RG9jdW1lbnQub2JqZWN0LmhlaWdodFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2UgZm91bmRGcmVlU3BhY2UgPSB0cnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdXBkYXRlLnB1c2goe1xuICAgICAgICAgICAgX2lkOiBwYXJ0aWNwYW50RG9jdW1lbnQuaWQsXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICAvLyBkZXN0aW5hdGlvbi5wYXJ0aWNpcGFudHM/LmZvckVhY2goIHBVdWlkID0+e1xuICAgICAgICAgIC8vICAgY29uc3QgcCA9IHRoaXMuZ2V0UGFydGljaXBhbnQocFV1aWQpXG4gICAgICAgICAgLy8gICBjb25zdCBwRG9jID0gQ29DN1V0aWxpdGllcy5nZXREb2N1bWVudEZyb21LZXkoIHA/LmRhdGE/LmRvY1V1aWQpXG4gICAgICAgICAgLy8gICBpZiggcERvYyBpbnN0YW5jZW9mIFRva2VuRG9jdW1lbnQgJiYgcERvYy5vYmplY3QgaW5zdGFuY2VvZiBUb2tlbil7XG4gICAgICAgICAgLy8gICAgIHVwZGF0ZXMgPSB0cnVlXG4gICAgICAgICAgLy8gICAgIHVwZGF0ZS5wdXNoKHtcbiAgICAgICAgICAvLyAgICAgICBfaWQ6IHBEb2MuaWQsXG4gICAgICAgICAgLy8gICAgICAgeDp4LFxuICAgICAgICAgIC8vICAgICAgIHk6eVxuICAgICAgICAgIC8vICAgICB9KVxuICAgICAgICAgIC8vICAgICBpZiggcERvYy5vYmplY3Qud2lkdGgpIHggKz0gcERvYy5vYmplY3Qud2lkdGhcbiAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAvLyB9KVxuICAgICAgICAgIGNvbnN0IHNob3dUb2tlbk1vdmVtZW50ID1cbiAgICAgICAgICAgIHR5cGVvZiBhbmltYXRlID09PSAnYm9vbGVhbidcbiAgICAgICAgICAgICAgPyBhbmltYXRlXG4gICAgICAgICAgICAgIDogdGhpcy5zeXN0ZW0uc2hvd1Rva2VuTW92ZW1lbnRcbiAgICAgICAgICBhd2FpdCBwYXJ0aWNwYW50RG9jdW1lbnQucGFyZW50LnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKFxuICAgICAgICAgICAgJ1Rva2VuJyxcbiAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgIHsgYW5pbWF0ZTogc2hvd1Rva2VuTW92ZW1lbnQgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMudXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMsIHsgcmVuZGVyIH0pXG4gIH1cblxuICAvLyBIYW5kbGUgc2Nyb2xsaW5nXG4gIGFzeW5jIHNldGNoYXNlVHJhY2tTY3JvbGwgKHtcbiAgICBmcm9tID0gdW5kZWZpbmVkLFxuICAgIHRvID0gLTEsXG4gICAgcmVuZGVyID0gdHJ1ZVxuICB9ID0ge30pIHtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZShcbiAgICAgIHtcbiAgICAgICAgJ3N5c3RlbS5zY3JvbGwuY2hhc2VUcmFjay5mcm9tJzpcbiAgICAgICAgICB1bmRlZmluZWQgPT09IGZyb20gPyB0aGlzLmNoYXNlVHJhY2tDdXJyZW50U2Nyb2xsUG9zaXRpb24gOiBmcm9tLFxuICAgICAgICAnc3lzdGVtLnNjcm9sbC5jaGFzZVRyYWNrLnRvJzpcbiAgICAgICAgICB1bmRlZmluZWQgPT09IHRvID8gdGhpcy5jaGFzZVRyYWNrQ3VycmVudFNjcm9sbFBvc2l0aW9uIDogdG9cbiAgICAgIH0sXG4gICAgICB7IHJlbmRlciB9XG4gICAgKVxuICB9XG5cbiAgZ2V0IGNoYXNlVHJhY2tDdXJyZW50U2Nyb2xsUG9zaXRpb24gKCkge1xuICAgIGNvbnN0IGh0bWwgPSB0aGlzLnNoZWV0Py5fZWxlbWVudFxuICAgIGlmICghaHRtbCkgcmV0dXJuIC0xXG4gICAgY29uc3QgY2hhc2VUcmFjayA9IGh0bWxbMF0ucXVlcnlTZWxlY3RvcignLmNoYXNlLXRyYWNrJylcbiAgICBpZiAoIWNoYXNlVHJhY2spIHJldHVybiAtMVxuICAgIC8vIGNvbnN0IHNlbGVjdG9yID0gYCNpdGVtLSR7dGhpcy5pZH0gLmNoYXNlLXRyYWNrYFxuICAgIC8vIHVpLm5vdGlmaWNhdGlvbnMuaW5mbyggYERBVEEgOiBKcXVlcnkgcm9vdDogJHskKCc6cm9vdCcpLmZpbmQoc2VsZWN0b3IpLnNjcm9sbExlZnQoKX1gKVxuICAgIC8vIHJldHVybiAkKCc6cm9vdCcpLmZpbmQoc2VsZWN0b3IpLnNjcm9sbExlZnQoKVxuXG4gICAgLy8gdWkubm90aWZpY2F0aW9ucy5pbmZvKCBgREFUQSA6IEpxdWVyeSByb290OiAkeyQoJzpyb290JykuZmluZCgnI2l0ZW0tVk5odHF4QTJ3SkpuV1N0VCAuY2hhc2UtdHJhY2snKS5zY3JvbGxMZWZ0KCl9LkNoYXNlIHRyYWNrIG9mZnNldDogJHtjaGFzZVRyYWNrLnNjcm9sbExlZnR9LCBEb2N1bWVudCBvZmZzZXQ6JHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaXRlbS1WTmh0cXhBMndKSm5XU3RUJykucXVlcnlTZWxlY3RvcignLmNoYXNlLXRyYWNrJykuc2Nyb2xsTGVmdH1gKVxuICAgIHJldHVybiBjaGFzZVRyYWNrLnNjcm9sbExlZnRcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG9mZnNldCBwb3NpdGlvbiBvZiB0aGUgYWN0aXZlIGxvY2F0aW9uXG4gICAqIHRoZSBjZW50ZXIgb2YgdGhlIGFjdGl2ZSBsb2NhdGlvbiB3aWxsIGJlIGNlbnRlcmVkXG4gICAqIGluIHRoZSBwYXJlbnQuXG4gICAqL1xuICBnZXQgY2hhc2VUcmFja0FjdGl2ZUxvY2F0aW9uU2Nyb2xsUG9zaXRpb24gKCkge1xuICAgIGlmICghdGhpcy5hY3RpdmVMb2NhdGlvbikgcmV0dXJuIC0xXG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hhc2VUcmFja0xvY2F0aW9uU2Nyb2xsUG9zaXRpb24odGhpcy5hY3RpdmVMb2NhdGlvbi51dWlkKVxuICB9XG5cbiAgZ2V0Q2hhc2VUcmFja0xvY2F0aW9uU2Nyb2xsUG9zaXRpb24gKGxvY2F0aW9uVXVpZCwgeyBodG1sID0gbnVsbCB9KSB7XG4gICAgY29uc3QgaHRtbEVsZW1lbnQgPSBodG1sIHx8IHRoaXMuc2hlZXQ/Ll9lbGVtZW50XG4gICAgaWYgKCFodG1sRWxlbWVudCB8fCAhaHRtbEVsZW1lbnRbMF0pIHJldHVybiAtMVxuICAgIGNvbnN0IGNoYXNlVHJhY2sgPSBodG1sRWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuY2hhc2UtdHJhY2snKVxuICAgIGlmICghY2hhc2VUcmFjaykgcmV0dXJuIC0xXG4gICAgY29uc3QgYWN0aXZlTG9jYXRpb25FbGVtZW50ID0gY2hhc2VUcmFjay5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC5jaGFzZS1sb2NhdGlvbltkYXRhLXV1aWQ9XCIke2xvY2F0aW9uVXVpZH1cIl1gXG4gICAgKVxuICAgIGlmICghYWN0aXZlTG9jYXRpb25FbGVtZW50KSByZXR1cm4gLTFcbiAgICBjb25zdCBsZWZ0U2Nyb2xsID1cbiAgICAgIGFjdGl2ZUxvY2F0aW9uRWxlbWVudC5vZmZzZXRMZWZ0ICtcbiAgICAgIGFjdGl2ZUxvY2F0aW9uRWxlbWVudC5jbGllbnRXaWR0aCAvIDIgLVxuICAgICAgY2hhc2VUcmFjay5jbGllbnRXaWR0aCAvIDJcbiAgICByZXR1cm4gbGVmdFNjcm9sbCA8IDAgPyAwIDogTWF0aC5mbG9vcihsZWZ0U2Nyb2xsKVxuICB9XG5cbiAgLy8gU2hvdWxkIGJlIHJlbW92ZWRcbiAgZmluZE1pbk1vdiAobGlzdCkge1xuICAgIGlmICghbGlzdD8ubGVuZ3RoKSByZXR1cm4gLTFcbiAgICByZXR1cm4gbGlzdC5yZWR1Y2UoKHByZXYsIGN1cnJlbnQpID0+XG4gICAgICBwcmV2LmFkanVzdGVkTW92IDwgY3VycmVudC5hZGp1c3RlZE1vdiA/IHByZXYgOiBjdXJyZW50XG4gICAgKS5hZGp1c3RlZE1vdlxuICB9XG5cbiAgZmluZE1heE1vdiAobGlzdCkge1xuICAgIGlmICghbGlzdD8ubGVuZ3RoKSByZXR1cm4gLTFcbiAgICByZXR1cm4gbGlzdC5yZWR1Y2UoKHByZXYsIGN1cnJlbnQpID0+XG4gICAgICBwcmV2LmFkanVzdGVkTW92ID4gY3VycmVudC5hZGp1c3RlZE1vdiA/IHByZXYgOiBjdXJyZW50XG4gICAgKS5hZGp1c3RlZE1vdlxuICB9XG5cbiAgLy8gVXRpbGl0aWVzXG4gIGZpbmRJbmRleCAobGlzdCwgdXVpZCkge1xuICAgIHJldHVybiBsaXN0LmZpbmRJbmRleChwID0+IHAudXVpZCA9PT0gdXVpZClcbiAgfVxuXG4gIGdldCBzdGFydGVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRGbGFnKCdDb0M3JywgJ3N0YXJ0ZWQnKVxuICB9XG5cbiAgYXN5bmMgc3RhcnQgKCkge1xuICAgIGNvbnN0IHJlbVN0cmluZyA9ICQoJzpyb290JykuY3NzKCdmb250LXNpemUnKVxuICAgIGNvbnN0IHJlbVNpemUgPSBOdW1iZXIocmVtU3RyaW5nLnJlcGxhY2UoJ3B4JywgJycpKVxuICAgIGNvbnN0IHBDb3VudCA9IHRoaXMuYWN0dWFsUGFydGljaXBhbnRzLmxlbmd0aFxuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoKHBDb3VudCAqIDExLjIgKyAzKSAqIHJlbVNpemUsIDQwICogcmVtU2l6ZSlcbiAgICB0aGlzLnNoZWV0Ll90YWJzWzBdLmFjdGl2ZSA9ICdzZXR1cCdcbiAgICB0aGlzLnNoZWV0LnBvc2l0aW9uLndpZHRoID0gd2lkdGhcbiAgICBhd2FpdCB0aGlzLnNldEZsYWcoJ0NvQzcnLCAnc3RhcnRlZCcsIHRydWUpXG4gICAgYXdhaXQgdGhpcy5hY3RpdmF0ZU5leHRQYXJ0aWNpcGFudFR1cm4oKVxuICB9XG5cbiAgYXN5bmMgc3RvcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5zZXRGbGFnKCdDb0M3JywgJ3N0YXJ0ZWQnKVxuICB9XG5cbiAgZ2VuZXJhdGVOZXdVdWlkICgpIHtcbiAgICByZXR1cm4gZm91bmRyeS51dGlscy5yYW5kb21JRCgxNilcbiAgfVxuXG4gIGdldEFjdG9yU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzIChwYXJ0aWNpcGFudFV1aWQpIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuZ2V0UGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkKVxuICAgIGlmICghcGFydGljaXBhbnQuYWN0b3IpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBsaXN0ID0gW11cbiAgICBDb0NBY3Rvci5nZXRDaGFyYWN0ZXJpc3RpY0RlZmluaXRpb24oKS5mb3JFYWNoKGMgPT5cbiAgICAgIGxpc3QucHVzaChcbiAgICAgICAgYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNoYXJhY3RlcmlzdGljcycpfSAoJHtjLnNob3J0TmFtZX0pYFxuICAgICAgKVxuICAgIClcbiAgICBsaXN0LnB1c2goXG4gICAgICBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQXR0cmlidXRlJyl9ICgke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgJ0NvQzcuTHVjaydcbiAgICAgICl9KWBcbiAgICApXG4gICAgbGlzdC5wdXNoKFxuICAgICAgYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkF0dHJpYnV0ZScpfSAoJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICdDb0M3LlNBTidcbiAgICAgICl9KWBcbiAgICApXG4gICAgcGFydGljaXBhbnQuYWN0b3Iuc2tpbGxzLmZvckVhY2gocyA9PiBsaXN0LnB1c2gocy5uYW1lKSlcbiAgICByZXR1cm4gbGlzdFxuICB9XG5cbiAgZ2V0IGFjdGl2ZUFjdG9yU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzICgpIHtcbiAgICBjb25zdCBwYXJ0aWNpY3BhbnREYXRhID0gdGhpcy5hY3RpdmVQYXJ0aWNpcGFudERhdGFcbiAgICBpZiAoIXBhcnRpY2ljcGFudERhdGEpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5nZXRBY3RvclNraWxsc0FuZENoYXJhY3RlcmlzdGljcyhwYXJ0aWNpY3BhbnREYXRhLnV1aWQpXG4gIH1cblxuICBnZXQgYWxsU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzICgpIHtcbiAgICBjb25zdCBsaXN0ID0gW11cbiAgICBDb0NBY3Rvci5nZXRDaGFyYWN0ZXJpc3RpY0RlZmluaXRpb24oKS5mb3JFYWNoKGMgPT5cbiAgICAgIGxpc3QucHVzaChcbiAgICAgICAgYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNoYXJhY3RlcmlzdGljcycpfSAoJHtjLnNob3J0TmFtZX0pYFxuICAgICAgKVxuICAgIClcbiAgICBsaXN0LnB1c2goXG4gICAgICBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQXR0cmlidXRlJyl9ICgke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgJ0NvQzcuTHVjaydcbiAgICAgICl9KWBcbiAgICApXG4gICAgbGlzdC5wdXNoKFxuICAgICAgYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkF0dHJpYnV0ZScpfSAoJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICdDb0M3LlNBTidcbiAgICAgICl9KWBcbiAgICApXG5cbiAgICBnYW1lLkNvQzcuc2tpbGxMaXN0Py5mb3JFYWNoKHMgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICAhbGlzdC5pbmNsdWRlcyhzLm5hbWUpICYmXG4gICAgICAgICFzLm5hbWVcbiAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIC5pbmNsdWRlcyhgKCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFueVNwZWNOYW1lJyl9KWAudG9Mb3dlckNhc2UoKSlcbiAgICAgICkge1xuICAgICAgICBsaXN0LnB1c2gocy5uYW1lKVxuICAgICAgfVxuICAgIH0pIC8vIFRPRE86IFJlbW92ZSA/P1xuICAgIHRoaXMucGFydGljaXBhbnRzLmZvckVhY2gocCA9PiB7XG4gICAgICBpZiAocC5hY3Rvcikge1xuICAgICAgICBwLmFjdG9yLnNraWxscy5mb3JFYWNoKHMgPT4ge1xuICAgICAgICAgIGlmICghbGlzdC5pbmNsdWRlcyhzLm5hbWUpKSBsaXN0LnB1c2gocy5uYW1lKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGxpc3Quc29ydChJbnRsLkNvbGxhdG9yKCkuY29tcGFyZSlcbiAgfVxuXG4gIGdldCBhbGxTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NTaG9ydCAoKSB7XG4gICAgY29uc3QgbGlzdCA9IFtdXG4gICAgQ29DQWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uKCkuZm9yRWFjaChjID0+IGxpc3QucHVzaChgJHtjLmxhYmVsfWApKVxuICAgIGxpc3QucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTHVjaycpfWApXG4gICAgbGlzdC5wdXNoKGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5TQU4nKX1gKVxuXG4gICAgZ2FtZS5Db0M3LnNraWxsTGlzdD8uZm9yRWFjaChzID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIWxpc3QuaW5jbHVkZXMocy5uYW1lKSAmJlxuICAgICAgICAhcy5uYW1lXG4gICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAuaW5jbHVkZXMoYCgke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbnlTcGVjTmFtZScpfSlgLnRvTG93ZXJDYXNlKCkpXG4gICAgICApIHtcbiAgICAgICAgbGlzdC5wdXNoKHMubmFtZSlcbiAgICAgIH1cbiAgICB9KSAvLyBUT0RPOiBSZW1vdmUgPz9cbiAgICB0aGlzLnBhcnRpY2lwYW50cy5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAuYWN0b3IpIHtcbiAgICAgICAgcC5hY3Rvci5za2lsbHMuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBpZiAoIWxpc3QuaW5jbHVkZXMocy5uYW1lKSkgbGlzdC5wdXNoKHMubmFtZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBsaXN0LnNvcnQoSW50bC5Db2xsYXRvcigpLmNvbXBhcmUpXG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdGhlIGRhdGEgb2YgYWxsIHBhcmFzaXRlIHBhcnRpY2lwYW50cyBpbiBsb2NhdGlvbnMuXG4gICAqIFNob3VsZCBuZXZlciBoYXBwZW5cbiAgICovXG4gIC8vIGFzeW5jIGNsZWFuTG9jYXRpb25zICgpIHtcbiAgLy8gICBjb25zdCBsb2NhdGlvbnMgPSBkdXBsaWNhdGUodGhpcy5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gIC8vICAgbG9jYXRpb25zLmZvckVhY2gobCA9PiB7XG4gIC8vICAgICBjb25zdCBwYXJ0aXBhbnRzVXVpZEFycmF5ID0gdGhpcy5zeXN0ZW0ucGFydGljaXBhbnRzLm1hcChwID0+IHAudXVpZClcbiAgLy8gICAgIGlmIChsLnBhcnRpY2lwYW50cykge1xuICAvLyAgICAgICBsLnBhcnRpY2lwYW50cyA9IGwucGFydGljaXBhbnRzLmZpbHRlcih1dWlkID0+XG4gIC8vICAgICAgICAgcGFydGlwYW50c1V1aWRBcnJheS5pbmNsdWRlcyh1dWlkKVxuICAvLyAgICAgICApXG4gIC8vICAgICB9XG4gIC8vICAgfSlcbiAgLy8gICB0aGlzLnVwZGF0ZUxvY2F0aW9uc0xpc3QobG9jYXRpb25zKVxuICAvLyB9XG59XG4iLCIvKiBnbG9iYWwgZm91bmRyeSwgZ2FtZSAqL1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi9pdGVtLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1NraWxsIGV4dGVuZHMgQ29DN0l0ZW0ge1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgY29udGV4dCkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5zeXN0ZW0/LnNraWxsTmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHNraWxsID0gQ29DN1NraWxsLmd1ZXNzTmFtZVBhcnRzKGRhdGEubmFtZSlcbiAgICAgIGNvbnN0IHsgbmFtZSwgc2tpbGxOYW1lLCBzcGVjaWFsaXphdGlvbiwgLi4ubmV3UHJvcGVydGllcyB9ID0gc2tpbGxcbiAgICAgIGRhdGEubmFtZSA9IG5hbWVcbiAgICAgIGRhdGEuc3lzdGVtIHx8PSB7fVxuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHsgLi4uZGF0YS5zeXN0ZW0ucHJvcGVydGllcywgLi4ubmV3UHJvcGVydGllcyB9XG4gICAgICBkYXRhLnN5c3RlbSA9IHsgLi4uZGF0YS5zeXN0ZW0sIHNraWxsTmFtZSwgc3BlY2lhbGl6YXRpb24sIHByb3BlcnRpZXMgfVxuICAgIH1cbiAgICBzdXBlcihkYXRhLCBjb250ZXh0KVxuICB9XG5cbiAgc3RhdGljIGd1ZXNzTmFtZVBhcnRzIChza2lsbE5hbWUpIHtcbiAgICBjb25zdCBvdXRwdXQgPSB7XG4gICAgICBjb21iYXQ6IGZhbHNlLFxuICAgICAgZmlnaHRpbmc6IGZhbHNlLFxuICAgICAgZmlyZWFybTogZmFsc2UsXG4gICAgICBuYW1lOiBza2lsbE5hbWUsXG4gICAgICBza2lsbE5hbWUsXG4gICAgICBzcGVjaWFsOiBmYWxzZSxcbiAgICAgIHNwZWNpYWxpemF0aW9uOiAnJ1xuICAgIH1cblxuICAgIGNvbnN0IG1hdGNoID0gc2tpbGxOYW1lLm1hdGNoKC9eKC4rKVxccypcXCgoW14pXSspXFwpJC8pXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBvdXRwdXQuc2tpbGxOYW1lID0gbWF0Y2hbMl0udHJpbSgpXG4gICAgICBvdXRwdXQuc3BlY2lhbCA9IHRydWVcblxuICAgICAgY29uc3Qgc3BlY2lhbGl6YXRpb24gPSBtYXRjaFsxXS50cmltKClcbiAgICAgIG91dHB1dC5zcGVjaWFsaXphdGlvbiA9IHNwZWNpYWxpemF0aW9uXG4gICAgICBvdXRwdXQubmFtZSA9IHNwZWNpYWxpemF0aW9uICsgJyAoJyArIG91dHB1dC5za2lsbE5hbWUgKyAnKSdcbiAgICAgIG91dHB1dC5maWdodGluZyA9IHNwZWNpYWxpemF0aW9uID09PSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWUnKVxuICAgICAgb3V0cHV0LmZpcmVhcm0gPSBzcGVjaWFsaXphdGlvbiA9PT0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkZpcmVhcm1TcGVjaWFsaXphdGlvbk5hbWUnKVxuICAgICAgb3V0cHV0LmNvbWJhdCA9IG91dHB1dC5maWdodGluZyB8fCBvdXRwdXQuZmlyZWFybVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0XG4gIH1cblxuICBnZXQgaGFzQWN0aXZlRWZmZWN0cyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlRWZmZWN0cy5sZW5ndGggPiAwXG4gIH1cblxuICBnZXQgYWN0aXZlRWZmZWN0cyAoKSB7XG4gICAgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmVmZmVjdHMpIHtcbiAgICAgIGNvbnN0IGVmZmVjdEtleUZ1bGwgPSBgc2tpbGwuJHt0aGlzLm5hbWV9YC50b0xvd2VyQ2FzZSgpXG4gICAgICBjb25zdCBlZmZlY3RLZXlTaG9ydCA9IGBza2lsbC4ke3RoaXMuc3lzdGVtLnNraWxsTmFtZX1gLnRvTG93ZXJDYXNlKClcbiAgICAgIGxldCBjaGFuZ2VzID0gdGhpcy5wYXJlbnQuZWZmZWN0cy5yZWR1Y2UoKGNoYW5nZXMsIGUpID0+IHtcbiAgICAgICAgaWYgKGUuZGlzYWJsZWQgfHwgZS5pc1N1cHByZXNzZWQpIHJldHVybiBjaGFuZ2VzXG4gICAgICAgIHJldHVybiBjaGFuZ2VzLmNvbmNhdChcbiAgICAgICAgICBlLmRhdGEuY2hhbmdlcy5tYXAoYyA9PiB7XG4gICAgICAgICAgICBjID0gZm91bmRyeS51dGlscy5kdXBsaWNhdGUoYylcbiAgICAgICAgICAgIGMuZWZmZWN0ID0gZVxuICAgICAgICAgICAgYy5wcmlvcml0eSA9IGMucHJpb3JpdHkgPz8gYy5tb2RlICogMTBcbiAgICAgICAgICAgIHJldHVybiBjXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfSwgW10pXG4gICAgICBjaGFuZ2VzLnNvcnQoKGEsIGIpID0+IGEucHJpb3JpdHkgLSBiLnByaW9yaXR5KVxuICAgICAgY2hhbmdlcyA9IGNoYW5nZXMuZmlsdGVyKFxuICAgICAgICBlID0+XG4gICAgICAgICAgZS5rZXkudG9Mb3dlckNhc2UoKSA9PT0gZWZmZWN0S2V5U2hvcnQgfHxcbiAgICAgICAgICBlLmtleS50b0xvd2VyQ2FzZSgpID09PSBlZmZlY3RLZXlGdWxsXG4gICAgICApXG4gICAgICByZXR1cm4gY2hhbmdlc1xuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIC8qKlxuICAqIFVuaXF1ZSBpZGVudGlmaWVyIHNob3VsZCBiZSB1c2VkIHRvIHN0b3JlIGFuZCBvYnRhaW4gaXRlbSB0byBhc3Nlc3MgaXRlbSB1bmlxdWVuZXNzLlxuICAqIEZvciBvbGQgaXRlbXMgd2l0aG91dCBpZCwgZmFsbGJhY2sgb2Ygc2tpbGxOYW1lIG1heSBzdGlsbCBiZSB1c2VkXG4gICogYnV0IGlmIHNraWxsIG5hbWUgaXMgbm90IHVuaXF1ZSBpdCB3aWxsIGNhdXNlIHByb2JsZW1zLlxuICAqL1xuICBnZXQgaXRlbUlkZW50aWZpZXIgKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2tpbGwgc2NvcmUgdW5hZmZlY3RlZCBieSBhY3RpdmUgZWZmZWN0c1xuICAgKi9cbiAgZ2V0IHJhd1ZhbHVlICgpIHtcbiAgICBsZXQgdmFsdWUgPSAwXG4gICAgaWYgKHRoaXMuYWN0b3IudHlwZSA9PT0gJ2NoYXJhY3RlcicpIHtcbiAgICAgIC8vIEZvciBhbiBhY3RvciB3aXRoIGV4cGVyaWVuY2Ugd2UgbmVlZCB0byBjYWxjdWxhdGUgc2tpbGwgdmFsdWVcbiAgICAgIHZhbHVlID0gdGhpcy5iYXNlXG4gICAgICB2YWx1ZSArPSB0aGlzLnN5c3RlbS5hZGp1c3RtZW50cz8ucGVyc29uYWxcbiAgICAgICAgPyBwYXJzZUludCh0aGlzLnN5c3RlbS5hZGp1c3RtZW50cz8ucGVyc29uYWwpXG4gICAgICAgIDogMFxuICAgICAgdmFsdWUgKz0gdGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/Lm9jY3VwYXRpb25cbiAgICAgICAgPyBwYXJzZUludCh0aGlzLnN5c3RlbS5hZGp1c3RtZW50cz8ub2NjdXBhdGlvbilcbiAgICAgICAgOiAwXG4gICAgICB2YWx1ZSArPSB0aGlzLnN5c3RlbS5hZGp1c3RtZW50cz8uZXhwZXJpZW5jZVxuICAgICAgICA/IHBhcnNlSW50KHRoaXMuc3lzdGVtLmFkanVzdG1lbnRzPy5leHBlcmllbmNlKVxuICAgICAgICA6IDBcbiAgICAgIGlmIChcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVBcmNoZXR5cGUnKSAmJlxuICAgICAgICB0aGlzLnN5c3RlbS5hZGp1c3RtZW50cz8uYXJjaGV0eXBlXG4gICAgICApIHtcbiAgICAgICAgdmFsdWUgKz0gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/LmFyY2hldHlwZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIGFsbCBvdGhlcnMgYWN0b3Igd2Ugc3RvcmUgdGhlIHZhbHVlIGRpcmVjdGx5XG4gICAgICB2YWx1ZSA9IHBhcnNlSW50KHRoaXMuc3lzdGVtLnZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gIWlzTmFOKHZhbHVlKSA/IHZhbHVlIDogbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIHNraWxsJ3MgdmFsdWUgYWZ0ZXIgYWN0aXZlIGVmZmVjdHMgaGF2ZSBiZWVuIGFwcGxpZWRcbiAgICovXG4gIGdldCB2YWx1ZSAoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnBhcmVudD8uc3lzdGVtLnNraWxscz8uW2Ake3RoaXMuaXRlbUlkZW50aWZpZXJ9YF0/LnZhbHVlXG4gICAgcmV0dXJuIHZhbHVlIHx8IHRoaXMucmF3VmFsdWVcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVZhbHVlICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmFjdG9yLnR5cGUgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICBjb25zdCBkZWx0YSA9IHBhcnNlSW50KHZhbHVlKSAtIHRoaXMucmF3VmFsdWVcbiAgICAgIGNvbnN0IGV4cCA9XG4gICAgICAgICh0aGlzLnN5c3RlbS5hZGp1c3RtZW50cz8uZXhwZXJpZW5jZVxuICAgICAgICAgID8gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSlcbiAgICAgICAgICA6IDApICsgZGVsdGFcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHtcbiAgICAgICAgJ3N5c3RlbS5hZGp1c3RtZW50cy5leHBlcmllbmNlJzogZXhwID4gMCA/IGV4cCA6IDBcbiAgICAgIH0pXG4gICAgfSBlbHNlIGF3YWl0IHRoaXMudXBkYXRlKHsgJ3N5c3RlbS52YWx1ZSc6IHZhbHVlIH0pXG4gIH1cblxuICBhc3luYyBpbmNyZWFzZUV4cGVyaWVuY2UgKHgpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSAnc2tpbGwnKSByZXR1cm4gbnVsbFxuICAgIGlmICh0aGlzLmFjdG9yLnR5cGUgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICBjb25zdCBleHAgPVxuICAgICAgICAodGhpcy5zeXN0ZW0uYWRqdXN0bWVudHM/LmV4cGVyaWVuY2VcbiAgICAgICAgICA/IHBhcnNlSW50KHRoaXMuc3lzdGVtLmFkanVzdG1lbnRzLmV4cGVyaWVuY2UpXG4gICAgICAgICAgOiAwKSArIHBhcnNlSW50KHgpXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICdzeXN0ZW0uYWRqdXN0bWVudHMuZXhwZXJpZW5jZSc6IGV4cCA+IDAgPyBleHAgOiAwXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8vIGdldCB2YWx1ZSAoKSB7XG4gIC8vICAgbGV0IHBWYWx1ZVxuICAvLyAgIGlmKCB0aGlzLnBhcmVudCl7XG5cbiAgLy8gICB9XG4gIC8vICAgY29uc3QgdmFsdWUgPSBzdXBlci52YWx1ZVxuICAvLyAgIGxldCB1cGRhdGVkID0gdmFsdWVcbiAgLy8gICBmb3IgKGNvbnN0IGNoYW5nZSBvZiB0aGlzLmFjdGl2ZUVmZmVjdHMpIHtcbiAgLy8gICAgIGNvbnN0IG1vZGlmaWVyID0gTnVtYmVyLmZyb21TdHJpbmcoY2hhbmdlLnZhbHVlKVxuICAvLyAgICAgaWYgKCFpc05hTihtb2RpZmllcikpIHtcbiAgLy8gICAgICAgY29uc3QgbW9kZXMgPSBDT05TVC5BQ1RJVkVfRUZGRUNUX01PREVTXG4gIC8vICAgICAgIHN3aXRjaCAoY2hhbmdlLm1vZGUpIHtcbiAgLy8gICAgICAgICBjYXNlIG1vZGVzLkFERDpcbiAgLy8gICAgICAgICAgIHVwZGF0ZWQgKz0gbW9kaWZpZXJcbiAgLy8gICAgICAgICAgIGJyZWFrXG4gIC8vICAgICAgICAgY2FzZSBtb2Rlcy5NVUxUSVBMWTpcbiAgLy8gICAgICAgICAgIHVwZGF0ZWQgPSBNYXRoLnJvdW5kKHVwZGF0ZWQgKiBtb2RpZmllcilcbiAgLy8gICAgICAgICAgIGJyZWFrXG4gIC8vICAgICAgICAgY2FzZSBtb2Rlcy5PVkVSUklERTpcbiAgLy8gICAgICAgICAgIHVwZGF0ZWQgPSBtb2RpZmllclxuICAvLyAgICAgICAgICAgYnJlYWtcbiAgLy8gICAgICAgICBjYXNlIG1vZGVzLlVQR1JBREU6XG4gIC8vICAgICAgICAgICBpZiAobW9kaWZlciA+IHVwZGF0ZWQpIHVwZGF0ZWQgPSBtb2RpZmllclxuICAvLyAgICAgICAgICAgYnJlYWtcbiAgLy8gICAgICAgICBjYXNlIG1vZGVzLkRPV05HUkFERTpcbiAgLy8gICAgICAgICAgIGlmIChtb2RpZmVyIDwgdXBkYXRlZCkgdXBkYXRlZCA9IG1vZGlmaWVyXG4gIC8vICAgICAgICAgICBicmVha1xuICAvLyAgICAgICB9XG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyAgIGlmICghaXNOYU4odXBkYXRlZCkgJiYgdXBkYXRlZCAhPSB2YWx1ZSkge1xuICAvLyAgICAgaWYgKHVwZGF0ZWQgPCAwKSB1cGRhdGVkID0gMFxuICAvLyAgICAgcmV0dXJuIHVwZGF0ZWRcbiAgLy8gICB9IHJldHVybiB2YWx1ZVxuICAvLyB9XG59XG4iLCJpbXBvcnQgeyBDb0NBY3RvciB9IGZyb20gJy4uL2FjdG9yLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1ZlaGljbGUgZXh0ZW5kcyBDb0NBY3RvciB7XG4gIGNvbnN0cnVjdG9yIChkYXRhLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhLmltZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEuaW1nID0gJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvamVlcC5zdmcnXG4gICAgfVxuICAgIHN1cGVyKGRhdGEsIGNvbnRleHQpXG4gIH1cblxuICBnZXQgcmF3QnVpbGQgKCkge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkXG4gIH1cblxuICBnZXQgYnVpbGQgKCkge1xuICAgIGNvbnN0IGJ1aWxkID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC52YWx1ZSlcbiAgICByZXR1cm4gaXNOYU4oYnVpbGQpID8gbnVsbCA6IGJ1aWxkXG4gIH1cblxuICBnZXQgaHAgKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuY3VycmVudCA9PT0gbnVsbCB8fFxuICAgICAgdW5kZWZpbmVkID09PSB0aGlzLnN5c3RlbS5hdHRyaWJzLmJ1aWxkLmN1cnJlbnQgfHxcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuY3VycmVudCA9PT0gJydcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQuY3VycmVudCA+IHRoaXMuc3lzdGVtLmF0dHJpYnMuYnVpbGQudmFsdWVcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkXG4gICAgfVxuICAgIGNvbnN0IGhwID0gcGFyc2VJbnQodGhpcy5zeXN0ZW0uYXR0cmlicy5idWlsZC5jdXJyZW50KVxuICAgIHJldHVybiBpc05hTihocCkgPyBudWxsIDogaHBcbiAgfVxuXG4gIGdldCBocE1heCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVpbGRcbiAgfVxuXG4gIGdldCByYXdIcE1heCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVpbGRcbiAgfVxuXG4gIGFzeW5jIHNldEhwICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA+IHRoaXMuYnVpbGQpIHZhbHVlID0gdGhpcy5idWlsZFxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7ICdzeXN0ZW0uYXR0cmlicy5idWlsZC5jdXJyZW50JzogdmFsdWUgfSlcbiAgfVxuXG4gIGdldCByYXdEYiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGJcbiAgfVxuXG4gIGdldCBkYiAoKSB7XG4gICAgY29uc3QgZGIgPSBwYXJzZUludCh0aGlzLnN5c3RlbS5hdHRyaWJzLmRiPy52YWx1ZSlcbiAgICByZXR1cm4gaXNOYU4oZGIpID8gbnVsbCA6IGRiXG4gIH1cblxuICBnZXQgcmF3TW92ICgpIHtcbiAgICByZXR1cm4gdGhpcy5tb3ZcbiAgfVxuXG4gIGdldCBtb3YgKCkge1xuICAgIGNvbnN0IG1vdiA9IHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnMubW92Py52YWx1ZSlcbiAgICByZXR1cm4gaXNOYU4obW92KSA/IG51bGwgOiBtb3ZcbiAgfVxuXG4gIGdldCBtcE1heCAoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc3lzdGVtLmF0dHJpYnM/Lm1wPy5tYXgpIHx8IDBcbiAgfVxuXG4gIGdldCByYXdNcE1heCAoKSB7XG4gICAgcmV0dXJuIHRoaXMubXBNYXhcbiAgfVxuXG4gIGdldCBzYW5NYXggKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXQgcmF3U2FuTWF4ICgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG4iLCIvKiBnbG9iYWwgRGljZVRlcm0gKi9cblxuZXhwb3J0IGNsYXNzIENvQzdEZWNhZGVyRGllIGV4dGVuZHMgRGljZVRlcm0ge1xuICBjb25zdHJ1Y3RvciAodGVybURhdGEpIHtcbiAgICBzdXBlcih0ZXJtRGF0YSlcbiAgICB0aGlzLmZhY2VzID0gMTBcbiAgfVxuXG4gIGdldCB0b3RhbCAoKSB7XG4gICAgY29uc3QgdG90YWwgPSBzdXBlci50b3RhbFxuICAgIHJldHVybiB0b3RhbCA9PT0gMTAgPyAwIDogdG90YWwgKiAxMFxuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGF0aWMgZ2V0IERFTk9NSU5BVElPTiAoKSB7XG4gICAgcmV0dXJuICd0J1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb0M3RGVjYWRlckRpZSB9IGZyb20gJy4vZGVjYWRlci1kaWUuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3RGVjYWRlckRpZU90aGVyIGV4dGVuZHMgQ29DN0RlY2FkZXJEaWUge1xuICBzdGF0aWMgZ2V0IERFTk9NSU5BVElPTiAoKSB7XG4gICAgcmV0dXJuICdvJ1xuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgQ09ORklHLCBGb3JtQXBwbGljYXRpb24sIGdhbWUsIG1lcmdlT2JqZWN0ICovXG5jb25zdCBTRVRUSU5HUyA9IHtcbiAgcHVscFJ1bGVzOiB7XG4gICAgbmFtZTogJycsXG4gICAgaGludDogJycsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0sXG4gIGluaXRpYXRpdmVSdWxlOiB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkluaXRpYXRpdmVSdWxlJyxcbiAgICBoaW50OiAnU0VUVElOR1MuSW5pdGlhdGl2ZVJ1bGVIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6ICdiYXNpYycsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNob2ljZXM6IHtcbiAgICAgIGJhc2ljOiAnU0VUVElOR1MuSW5pdGlhdGl2ZVJ1bGVCYXNpYycsXG4gICAgICBvcHRpb25hbDogJ1NFVFRJTkdTLkluaXRpYXRpdmVSdWxlT3B0aW9uYWwnXG4gICAgfSxcbiAgICBvbkNoYW5nZTogcnVsZSA9PiBfc2V0SW5pdGlhdGl2ZU9wdGlvbnMocnVsZSlcbiAgfSxcbiAgZGV2ZWxvcG1lbnRSb2xsRm9yTHVjazoge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5kZXZlbG9wbWVudFJvbGxGb3JMdWNrJyxcbiAgICBoaW50OiAnU0VUVElOR1MuZGV2ZWxvcG1lbnRSb2xsRm9yTHVja0hpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9LFxuICBwdWxwUnVsZURvdWJsZU1heEhlYWx0aDoge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5Eb3VibGVNYXhIZWFsdGguTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLkRvdWJsZU1heEhlYWx0aC5IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSxcbiAgcHVscFJ1bGVEZXZlbG9wbWVudFJvbGxMdWNrOiB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLkRldmVsb3BtZW50Um9sbEx1Y2suTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLkRldmVsb3BtZW50Um9sbEx1Y2suSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0sXG4gIHB1bHBSdWxlQXJjaGV0eXBlOiB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLkFyY2hldHlwZS5OYW1lJyxcbiAgICBoaW50OiAnQ29DNy5TZXR0aW5ncy5QdWxwUnVsZXMuQXJjaGV0eXBlLkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9LFxuICBwdWxwUnVsZU9yZ2FuaXphdGlvbjoge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5Pcmdhbml6YXRpb24uTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLk9yZ2FuaXphdGlvbi5IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSxcbiAgcHVscFJ1bGVUYWxlbnRzOiB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLlRhbGVudHMuTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLlRhbGVudHMuSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0sXG4gIHB1bHBSdWxlRmFzdGVyUmVjb3Zlcnk6IHtcbiAgICBuYW1lOiAnQ29DNy5TZXR0aW5ncy5QdWxwUnVsZXMuRmFzdGVyUmVjb3ZlcnkuTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLkZhc3RlclJlY292ZXJ5LkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9LFxuICBwdWxwUnVsZUlnbm9yZU1ham9yV291bmRzOiB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuUHVscFJ1bGVzLklnbm9yZU1ham9yV291bmRzLk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5JZ25vcmVNYWpvcldvdW5kcy5IaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSxcbiAgcHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXM6IHtcbiAgICBuYW1lOiAnQ29DNy5TZXR0aW5ncy5QdWxwUnVsZXMuSWdub3JlQWdlUGVuYWx0aWVzLk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLlB1bHBSdWxlcy5JZ25vcmVBZ2VQZW5hbHRpZXMuSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0sXG4gIG9wcG9zZWRSb2xsVGllQnJlYWtlcjoge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5PcHBvc2VkUm9sbFRpZUJyZWFrZXInLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5PcHBvc2VkUm9sbFRpZUJyZWFrZXJIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfVxufVxuXG5mdW5jdGlvbiBfc2V0SW5pdGlhdGl2ZU9wdGlvbnMgKHJ1bGUpIHtcbiAgbGV0IGRlY2ltYWxzID0gMFxuICBzd2l0Y2ggKHJ1bGUpIHtcbiAgICBjYXNlICdvcHRpb25hbCc6XG4gICAgICBkZWNpbWFscyA9IDJcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYmFzaWMnOlxuICAgICAgZGVjaW1hbHMgPSAwXG4gICAgICBicmVha1xuICB9XG4gIENPTkZJRy5Db21iYXQuaW5pdGlhdGl2ZSA9IHtcbiAgICBmb3JtdWxhOiBudWxsLFxuICAgIGRlY2ltYWxzXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvQzdHYW1lUnVsZVNldHRpbmdzIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uIHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICB0aXRsZTogJ1NFVFRJTkdTLlRpdGxlUnVsZXMnLFxuICAgICAgaWQ6ICdydWxlcy1zZXR0aW5ncycsXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvc3lzdGVtL3J1bGUtc2V0dGluZ3MuaHRtbCcsXG4gICAgICB3aWR0aDogNTUwLFxuICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICBjbG9zZU9uU3VibWl0OiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGdldERhdGEgKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7fVxuICAgIGNvbnN0IHB1bHBSdWxlcyA9IHtcbiAgICAgIHRydWU6IGZhbHNlLFxuICAgICAgZmFsc2U6IGZhbHNlXG4gICAgfVxuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKFNFVFRJTkdTKSkge1xuICAgICAgb3B0aW9uc1trXSA9IHtcbiAgICAgICAgdmFsdWU6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgayksXG4gICAgICAgIHNldHRpbmc6IHZcbiAgICAgIH1cbiAgICAgIGlmIChrLm1hdGNoKC9ecHVscFJ1bGUuezIsfSQvKSkge1xuICAgICAgICBwdWxwUnVsZXNbb3B0aW9uc1trXS52YWx1ZV0gPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIG9wdGlvbnMucHVscFNlbGVjdGlvbiA9IHB1bHBSdWxlcy50cnVlXG4gICAgICA/IHB1bHBSdWxlcy5mYWxzZVxuICAgICAgICA/ICdzb21lJ1xuICAgICAgICA6ICdhbGwnXG4gICAgICA6ICdub25lJ1xuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBzdGF0aWMgcmVnaXN0ZXJTZXR0aW5ncyAoKSB7XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoU0VUVElOR1MpKSB7XG4gICAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgaywgdilcbiAgICB9XG4gICAgX3NldEluaXRpYXRpdmVPcHRpb25zKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2luaXRpYXRpdmVSdWxlJykpXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJyNwdWxwUnVsZXNTZWxlY3QnKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBldmVudCA9PiB0aGlzLm9uQ2hhbmdlUHVscFNlbGVjdChldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJ2lucHV0LnB1bHBSdWxlc1NlbGVjdFt0eXBlPWNoZWNrYm94XScpXG4gICAgICAub24oJ2NsaWNrJywgZXZlbnQgPT4gdGhpcy5vbkNsaWNrUHVscChldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJ2J1dHRvbltuYW1lPXJlc2V0XScpXG4gICAgICAub24oJ2NsaWNrJywgZXZlbnQgPT4gdGhpcy5vblJlc2V0RGVmYXVsdHMoZXZlbnQpKVxuICB9XG5cbiAgb25DaGFuZ2VQdWxwU2VsZWN0IChldmVudCkge1xuICAgIGNvbnN0IHZhbCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkudmFsKClcbiAgICBpZiAodmFsID09PSAnbm9uZScgfHwgdmFsID09PSAnYWxsJykge1xuICAgICAgJCgnI3J1bGVzLXNldHRpbmdzJylcbiAgICAgICAgLmZpbmQoJ2lucHV0LnB1bHBSdWxlc1NlbGVjdFt0eXBlPWNoZWNrYm94XScpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBjaGVja2JveCA9ICQodGhpcylcbiAgICAgICAgICBpZiAodmFsID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LnByb3AoJ2NoZWNrZWQnLCBmYWxzZSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tib3gucHJvcCgnY2hlY2tlZCcsIHRydWUpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIG9uQ2xpY2tQdWxwIChldmVudCkge1xuICAgIGNvbnN0IHB1bHBSdWxlcyA9IHtcbiAgICAgIHRydWU6IGZhbHNlLFxuICAgICAgZmFsc2U6IGZhbHNlXG4gICAgfVxuICAgICQoJyNydWxlcy1zZXR0aW5ncycpXG4gICAgICAuZmluZCgnaW5wdXQucHVscFJ1bGVzU2VsZWN0W3R5cGU9Y2hlY2tib3hdJylcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSAkKHRoaXMpXG4gICAgICAgIGlmIChjaGVja2JveC5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICBwdWxwUnVsZXMudHJ1ZSA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwdWxwUnVsZXMuZmFsc2UgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgJCgnI3B1bHBSdWxlc1NlbGVjdCcpLnZhbChcbiAgICAgIHB1bHBSdWxlcy50cnVlID8gKHB1bHBSdWxlcy5mYWxzZSA/ICdzb21lJyA6ICdhbGwnKSA6ICdub25lJ1xuICAgIClcbiAgfVxuXG4gIGFzeW5jIG9uUmVzZXREZWZhdWx0cyAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZm9yIGF3YWl0IChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoU0VUVElOR1MpKSB7XG4gICAgICBhd2FpdCBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsIGssIHY/LmRlZmF1bHQpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlbmRlcigpXG4gIH1cblxuICBhc3luYyBfdXBkYXRlT2JqZWN0IChldmVudCwgZGF0YSkge1xuICAgIGNvbnN0IHB1bHBSdWxlcyA9IHtcbiAgICAgIHRydWU6IGZhbHNlLFxuICAgICAgZmFsc2U6IGZhbHNlXG4gICAgfVxuICAgIGZvciBhd2FpdCAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKFNFVFRJTkdTKSkge1xuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoJ0NvQzcnLCBrZXksIGRhdGFba2V5XSlcbiAgICAgIGlmIChrZXkubWF0Y2goL15wdWxwUnVsZS57Mix9JC8pKSB7XG4gICAgICAgIHB1bHBSdWxlc1tkYXRhW2tleV1dID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBnYW1lLnNldHRpbmdzLnNldCgnQ29DNycsICdwdWxwUnVsZXMnLCBwdWxwUnVsZXMudHJ1ZSAmJiAhcHVscFJ1bGVzLmZhbHNlKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgZHVwbGljYXRlLCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IHsgQ29DN0l0ZW0gfSBmcm9tICcuLi9pdGVtLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcbmltcG9ydCB7IERyb3BDb0NJRCB9IGZyb20gJy4uLy4uL2FwcHMvZHJvcC1jb2MtaWQuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBJdGVtU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdBcmNoZXR5cGVTaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XG4gIC8qKlxuICAgKiBBY3RpdmF0ZSBldmVudCBsaXN0ZW5lcnMgdXNpbmcgdGhlIHByZXBhcmVkIHNoZWV0IEhUTUxcbiAgICogQHBhcmFtIGh0bWwge0hUTUx9ICAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxuICAgKi9cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIC8vIEV2ZXJ5dGhpbmcgYmVsb3cgaGVyZSBpcyBvbmx5IG5lZWRlZCBpZiB0aGUgc2hlZXQgaXMgZWRpdGFibGVcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lZGl0YWJsZSkgcmV0dXJuXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLml0ZW0gLml0ZW0tbmFtZSBoNCcpXG4gICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25JdGVtU3VtbWFyeShldmVudCwgJ3NraWxscycpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuaXRlbS1kZWxldGUnKVxuICAgICAgLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uSXRlbURlbGV0ZShldmVudCwgJ3NraWxscycpKVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcCAoZXZlbnQsIHR5cGUgPSAnc2tpbGwnLCBjb2xsZWN0aW9uTmFtZSA9ICdza2lsbHMnKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBjb25zdCBkYXRhTGlzdCA9IGF3YWl0IENvQzdVdGlsaXRpZXMuZ2V0RGF0YUZyb21Ecm9wRXZlbnQoZXZlbnQsICdJdGVtJylcblxuICAgIGxldCB1c2VDb0NJRCA9IDBcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0gPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbVtjb2xsZWN0aW9uTmFtZV0pIDogW11cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YUxpc3QpIHtcbiAgICAgIGlmICghaXRlbSB8fCAhaXRlbS5zeXN0ZW0pIGNvbnRpbnVlXG4gICAgICBpZiAoIVt0eXBlXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBpZiAoIUNvQzdJdGVtLmlzQW55U3BlYyhpdGVtKSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbi5maW5kKGVsID0+IGVsLm5hbWUgPT09IGl0ZW0ubmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh1c2VDb0NJRCA9PT0gMCkge1xuICAgICAgICB1c2VDb0NJRCA9IGF3YWl0IERyb3BDb0NJRC5jcmVhdGUoKVxuICAgICAgfVxuICAgICAgY29sbGVjdGlvbi5wdXNoKERyb3BDb0NJRC5wcm9jZXNzSXRlbSh1c2VDb0NJRCwgaXRlbSkpXG4gICAgfVxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyBbYHN5c3RlbS4ke2NvbGxlY3Rpb25OYW1lfWBdOiBjb2xsZWN0aW9uIH0pXG4gIH1cblxuICBfb25JdGVtU3VtbWFyeSAoZXZlbnQsIGNvbGxlY3Rpb25OYW1lID0gJ2l0ZW1zJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXS5maW5kKHMgPT4ge1xuICAgICAgcmV0dXJuIHMuX2lkID09PSBsaS5kYXRhKCdpdGVtLWlkJylcbiAgICB9KVxuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGNoYXREYXRhID0gaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb25cblxuICAgIC8vIFRvZ2dsZSBzdW1tYXJ5XG4gICAgaWYgKGxpLmhhc0NsYXNzKCdleHBhbmRlZCcpKSB7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gbGkuY2hpbGRyZW4oJy5pdGVtLXN1bW1hcnknKVxuICAgICAgc3VtbWFyeS5zbGlkZVVwKDIwMCwgKCkgPT4gc3VtbWFyeS5yZW1vdmUoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGl2ID0gJChgPGRpdiBjbGFzcz1cIml0ZW0tc3VtbWFyeVwiPiR7Y2hhdERhdGEudmFsdWV9PC9kaXY+YClcbiAgICAgIGNvbnN0IHByb3BzID0gJCgnPGRpdiBjbGFzcz1cIml0ZW0tcHJvcGVydGllc1wiPjwvZGl2PicpXG4gICAgICAvLyBmb3IgKGNvbnN0IHAgb2YgY2hhdERhdGEucHJvcGVydGllcykgeyBwcm9wcy5hcHBlbmQoYDxzcGFuIGNsYXNzPVwidGFnXCI+JHtwfTwvc3Bhbj5gKSB9XG4gICAgICBkaXYuYXBwZW5kKHByb3BzKVxuICAgICAgbGkuYXBwZW5kKGRpdi5oaWRlKCkpXG4gICAgICBkaXYuc2xpZGVEb3duKDIwMClcbiAgICB9XG4gICAgbGkudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJylcbiAgfVxuXG4gIGFzeW5jIF9vbkl0ZW1EZWxldGUgKGV2ZW50LCBjb2xsZWN0aW9uTmFtZSA9ICdpdGVtcycpIHtcbiAgICBjb25zdCBpdGVtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgaXRlbUlkID0gaXRlbS5kYXRhKCdpdGVtLWlkJylcbiAgICBjb25zdCBDb0NJZCA9IGl0ZW0uZGF0YSgnY29jaWQnKVxuICAgIGNvbnN0IGl0ZW1JbmRleCA9IHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdLmZpbmRJbmRleChpID0+IChpdGVtSWQgJiYgaS5faWQgPT09IGl0ZW1JZCkgfHwgKENvQ0lkICYmIGkgPT09IENvQ0lkKSlcbiAgICBpZiAoaXRlbUluZGV4ID4gLTEpIHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSkgOiBbXVxuICAgICAgY29sbGVjdGlvbi5zcGxpY2UoaXRlbUluZGV4LCAxKVxuICAgICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7IFtgc3lzdGVtLiR7Y29sbGVjdGlvbk5hbWV9YF06IGNvbGxlY3Rpb24gfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldCcsICdvY2N1cGF0aW9uJ10sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvYXJjaGV0eXBlLmh0bWwnLFxuICAgICAgd2lkdGg6IDUyMCxcbiAgICAgIGhlaWdodDogNDgwLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5pdGVtJyB9XSxcbiAgICAgIHNjcm9sbFk6IFsnLnRhYi5kZXNjcmlwdGlvbiddLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtbmF2aWdhdGlvbicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0LWJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXNjcmlwdGlvbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLmhhc093bmVyID0gdGhpcy5pdGVtLmlzRW1iZWRkZWQgPT09IHRydWVcblxuICAgIGNvbnN0IGNvcmVDaGFyYWN0ZXJpc3RpY3MgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgc2VsZWN0ZWRdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmNvcmVDaGFyYWN0ZXJpc3RpY3NcbiAgICApKSB7XG4gICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgY29uc3QgY2hhcmFjTmFtZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShgQ0hBUkFDLiR7a2V5LnRvVXBwZXJDYXNlKCl9YClcbiAgICAgICAgY29yZUNoYXJhY3RlcmlzdGljcy5wdXNoKGNoYXJhY05hbWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkU3VnZ2VzdGVkT2NjdXBhdGlvbnMgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uc3VnZ2VzdGVkT2NjdXBhdGlvbnMsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkU3VnZ2VzdGVkVHJhaXRzID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLnN1Z2dlc3RlZFRyYWl0cyxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uc2tpbGxzID0gYXdhaXQgZ2FtZS5zeXN0ZW0uYXBpLmNvY2lkLmV4cGFuZEl0ZW1BcnJheSh7IGl0ZW1MaXN0OiBzaGVldERhdGEuZGF0YS5zeXN0ZW0uc2tpbGxzIH0pXG4gICAgc2hlZXREYXRhLnNraWxsTGlzdEVtcHR5ID0gc2hlZXREYXRhLmRhdGEuc3lzdGVtLnNraWxscy5sZW5ndGggPT09IDBcblxuICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5za2lsbHMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBzaGVldERhdGEuY29yZUNoYXJhY3RlcmlzdGljc1N0cmluZyA9ICcnXG4gICAgY29uc3Qgb3JTdHJpbmcgPSBgICR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk9yJyl9IGBcbiAgICBpZiAoY29yZUNoYXJhY3RlcmlzdGljcy5sZW5ndGgpIHtcbiAgICAgIHNoZWV0RGF0YS5jb3JlQ2hhcmFjdGVyaXN0aWNzU3RyaW5nICs9IGNvcmVDaGFyYWN0ZXJpc3RpY3Muam9pbihvclN0cmluZylcbiAgICB9XG5cbiAgICBzaGVldERhdGEuaXRlbVByb3BlcnRpZXMgPSBbXVxuXG4gICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzLnB1c2goXG4gICAgICBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuUHVscFRhbGVudHMnKX06ICR7c2hlZXREYXRhLmRhdGEuc3lzdGVtLnRhbGVudHN9YFxuICAgIClcbiAgICBzaGVldERhdGEuaXRlbVByb3BlcnRpZXMucHVzaChcbiAgICAgIGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Cb251c1BvaW50cycpfTogJHtzaGVldERhdGEuZGF0YS5zeXN0ZW0uYm9udXNQb2ludHN9YFxuICAgIClcblxuICAgIHNoZWV0RGF0YS5pc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG59XG4iLCIvKiBnbG9iYWwgJCwgZHVwbGljYXRlLCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdCb29rU2hlZXQgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9ib29rL21haW4uaHRtbCcsXG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnaXRlbScsICdib29rJ10sXG4gICAgICB3aWR0aDogNTAwLFxuICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICByZXNpemFibGU6IGZhbHNlLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5zcGVsbHMnLCBkcm9wU2VsZWN0b3I6IG51bGwgfV0sXG4gICAgICBzY3JvbGxZOiBbJy5ib2R5J10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5uYXZpZ2F0aW9uJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gc3VwZXIuZ2V0RGF0YSgpXG4gICAgc2hlZXREYXRhLmluaXRpYWxSZWFkaW5nID0gdGhpcy5pdGVtLnN5c3RlbS5pbml0aWFsUmVhZGluZ1xuICAgIHNoZWV0RGF0YS5pc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG4gICAgc2hlZXREYXRhLmlzT3duZXIgPSB0aGlzLml0ZW0uaXNPd25lclxuICAgIHNoZWV0RGF0YS5zcGVsbHNMZWFybmVkID0gdGhpcy5zcGVsbHNMZWFybmVkXG4gICAgc2hlZXREYXRhLmV4aGF1c3RlZCA9IChhd2FpdCB0aGlzLml0ZW0uY2hlY2tFeGhhdXN0aW9uKCkpICE9PSBmYWxzZVxuICAgIHNoZWV0RGF0YS5zdHVkeUNvbXBsZXRlZCA9IHRoaXMuaXRlbS5zeXN0ZW0uc3R1ZHkucHJvZ3Jlc3MgPT09IHRoaXMuaXRlbS5zeXN0ZW0uc3R1ZHkubmVjZXNzYXJ5XG4gICAgc2hlZXREYXRhLmhhc093bmVyID0gdGhpcy5pdGVtLmlzRW1iZWRkZWQgPT09IHRydWVcbiAgICBzaGVldERhdGEuc3BlbGxMaXN0RW1wdHkgPSB0aGlzLml0ZW0uc3lzdGVtLnNwZWxscy5sZW5ndGggPT09IDBcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZENvbnRlbnQgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uY29udGVudCxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBnZXQgc3BlbGxzTGVhcm5lZCAoKSB7XG4gICAgbGV0IGFtb3VudCA9IDBcbiAgICBjb25zdCBzcGVsbHMgPSB0aGlzLml0ZW0uc3lzdGVtLnNwZWxsc1xuICAgIGZvciAoY29uc3Qgc3BlbGwgb2Ygc3BlbGxzKSB7XG4gICAgICBpZiAoc3BlbGwuc3lzdGVtLmxlYXJuZWQpIGFtb3VudCsrXG4gICAgfVxuICAgIHJldHVybiBgJHthbW91bnR9IC8gJHtzcGVsbHMubGVuZ3RofWBcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICBodG1sLmZpbmQoJyNhdHRlbXB0LWluaXRpYWwtcmVhZGluZycpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIHRoaXMuaXRlbS5hdHRlbXB0SW5pdGlhbFJlYWRpbmcoKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCcuZGVsZXRlLXNwZWxsJykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25EZWxldGUoZXZlbnQpKVxuICAgIGh0bWwuZmluZCgnLmVkaXQtc3BlbGwnKS5jbGljayhldmVudCA9PiB0aGlzLl9vblNwZWxsRGV0YWlsKGV2ZW50KSlcbiAgICBodG1sLmZpbmQoJy5zcGVsbC1uYW1lJykuY2xpY2soZXZlbnQgPT4gdGhpcy5fb25TcGVsbERldGFpbChldmVudCkpXG4gICAgaHRtbC5maW5kKCcudGVhY2gtc3BlbGwnKS5jbGljayhldmVudCA9PiB7XG4gICAgICBjb25zdCBpZCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnbGknKS5kYXRhKCdpZCcpXG4gICAgICB0aGlzLml0ZW0uYXR0ZW1wdFNwZWxsTGVhcm5pbmcoaWQpXG4gICAgfSlcbiAgICBodG1sLmZpbmQoJ1tuYW1lPVwic3lzdGVtLnN0dWR5Lm5lY2Vzc2FyeVwiXScpLmNoYW5nZShldmVudCA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpXG4gICAgICB0aGlzLml0ZW0uY2hhbmdlUHJvZ3Jlc3MoJ3Jlc2V0JywgdmFsdWUpXG4gICAgfSlcbiAgICBodG1sLmZpbmQoJyNpbmNyZWFzZS1wcm9ncmVzcycpLmNsaWNrKCgpID0+IHtcbiAgICAgIHRoaXMuaXRlbS5jaGFuZ2VQcm9ncmVzcygnaW5jcmVhc2UnKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCcjZGVjcmVhc2UtcHJvZ3Jlc3MnKS5jbGljaygoKSA9PiB7XG4gICAgICB0aGlzLml0ZW0uY2hhbmdlUHJvZ3Jlc3MoJ2RlY3JlYXNlJylcbiAgICB9KVxuICAgIGh0bWwuZmluZCgnLmFkZC1vdGhlci1nYWlucycpLmNsaWNrKGV2ZW50ID0+IHtcbiAgICAgIHRoaXMubW9kaWZ5T3RoZXJzR2FpbnMoZXZlbnQsICdhZGQnKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCcuY2hhbmdlLW90aGVyLWdhaW5zJykuY2hhbmdlKGV2ZW50ID0+IHtcbiAgICAgIHRoaXMubW9kaWZ5T3RoZXJzR2FpbnMoZXZlbnQsICdjaGFuZ2UnKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCcjcmVkby1mdWxsLXN0dWR5JykuY2xpY2soKCkgPT4ge1xuICAgICAgdGhpcy5pdGVtLnJlZG9GdWxsU3R1ZHkoKVxuICAgIH0pXG4gICAgaHRtbC5maW5kKCcucmVtb3ZlLW90aGVyLWdhaW5zJykuY2xpY2soZXZlbnQgPT4ge1xuICAgICAgdGhpcy5tb2RpZnlPdGhlcnNHYWlucyhldmVudCwgJ3JlbW92ZScpXG4gICAgfSlcbiAgICBodG1sLmZpbmQoJy5vcHRpb24nKS5jbGljayhldmVudCA9PiB0aGlzLm1vZGlmeVR5cGUoZXZlbnQpKVxuICB9XG5cbiAgYXN5bmMgX29uU3BlbGxEZXRhaWwgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGVsZW1lbnQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgLyoqIEBzZWUgZGF0YS1pbmRleCBwcm9wZXJ0eSBvbiB0ZW1wbGF0ZSAqL1xuICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudC5wYXJlbnRzKCdsaScpLmRhdGEoJ2luZGV4JylcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5pdGVtLnNwZWxsRGV0YWlsKGluZGV4KVxuICB9XG5cbiAgLyoqXG4gICAqIEl0IGlzIGNhbGxlZCBldmVyeSB0aW1lIHRoZSB1c2VyIGRlbGV0ZSBhIHNwZWxsIG9uIHRoZSBzaGVldFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZXZlbnQgQHNlZSBhY3RpdmF0ZUxpc3RlbmVyc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RG9jdW1lbnQ+fSB1cGRhdGUgdG8gSXRlbSBkb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgX29uRGVsZXRlIChldmVudCkge1xuICAgIGlmICghZ2FtZS51c2VyLmlzR00pIHJldHVyblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBlbGVtZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIC8qKiBAc2VlIGRhdGEtaW5kZXggcHJvcGVydHkgb24gdGVtcGxhdGUgKi9cbiAgICBjb25zdCBpbmRleCA9IGVsZW1lbnQucGFyZW50cygnbGknKS5kYXRhKCdpbmRleCcpXG4gICAgLyoqIEFsd2F5cyBoYXMgdG8gYmUgQHR5cGUge0FycmF5fSAqL1xuICAgIGNvbnN0IHNwZWxscyA9IHRoaXMuaXRlbS5zeXN0ZW0uc3BlbGxzXG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnNwZWxscylcbiAgICAgIDogW11cbiAgICBpZiAoaW5kZXggPj0gMCkgc3BlbGxzLnNwbGljZShpbmRleCwgMSlcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0uc3BlbGxzJzogc3BlbGxzIH0pXG4gIH1cblxuICAvKipcbiAgICogSXQgaXMgY2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIHVzZXIgZHJhZ3MgYW4gaXRlbSB0byB0aGUgc2hlZXRcbiAgICogRmlsdGVycyBvbmx5ICdzcGVsbCcgaXRlbXMgYW5kIGluc2VydHMgdGhlbSBpbiBhIEB0eXBlIHtBcnJheX1cbiAgICogQHBhcmFtIHtqUXVlcnl9IGV2ZW50IEBzZWUgYWN0aXZhdGVMaXN0ZW5lcnNcbiAgICogQHJldHVybnMge1Byb21pc2UuPERvY3VtZW50Pn0gdXBkYXRlIHRvIEl0ZW0gZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIF9vbkRyb3AgKGV2ZW50LCB0eXBlID0gJ3NwZWxsJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAvKiogUHJldmVudHMgcHJvcGFnYXRpb24gb2YgdGhlIHNhbWUgZXZlbnQgZnJvbSBiZWluZyBjYWxsZWQgKi9cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgZGF0YUxpc3QgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmdldERhdGFGcm9tRHJvcEV2ZW50KGV2ZW50LCAnSXRlbScpXG5cbiAgICBjb25zdCBzcGVsbHMgPSBbXVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhTGlzdCkge1xuICAgICAgaWYgKCFpdGVtIHx8ICFbJ3NraWxsJywgJ3NwZWxsJ10uaW5jbHVkZXMoaXRlbS50eXBlKSkgY29udGludWVcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzcGVsbCcpIHtcbiAgICAgICAgc3BlbGxzLnB1c2goaXRlbSlcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2tpbGwnICYmIHRoaXMuaXRlbS5zeXN0ZW0udHlwZS5vdGhlcikge1xuICAgICAgICB0aGlzLm1vZGlmeU90aGVyc0dhaW5zKG51bGwsICdhZGQnLCB7IG5hbWU6IGl0ZW0ubmFtZSB9KVxuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLml0ZW0uYWRkU3BlbGxzKHNwZWxscylcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgdGhlIGNoZWNrYm94ZXMgZm9yIHR5cGUgd2hlbiB1c2VyIGNsaWNrcyBvbiB0aGUgY29ycmVzcG9uZGluZ1xuICAgKiBsYWJlbCwgbm90IHN1cmUgaWYgdGhpcyB3b3JrcyBvbiBlbmdpbmVzIG90aGVyIHRoYW4gVjhcbiAgICogQHBhcmFtIHtqUXVlcnl9IGV2ZW50IEBzZWUgYWN0aXZhdGVMaXN0ZW5lcnNcbiAgICogQHJldHVybnMge2pRdWVyeS5FdmVudH0gY2xpY2tcbiAgICovXG4gIG1vZGlmeVR5cGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIC8qKiBQcmV2ZW50cyBwcm9wYWdhdGlvbiBvZiB0aGUgc2FtZSBldmVudCBmcm9tIGJlaW5nIGNhbGxlZCAqL1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgdG9nZ2xlU3dpdGNoID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIHJldHVybiB0b2dnbGVTd2l0Y2gucHJldigpLnRyaWdnZXIoJ2NsaWNrJylcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RpZnkgSXRlbSBkYXRhIGJhc2VkIG9uIHVzZXIgaW50ZXJhY3Rpb25zIHdpdGggdGhlIG90aGVyIHNraWxsXG4gICAqIGdhaW5zIHRhYmxlIG9uIGRldGFpbHMgdGFiIG9uIHRoaXMgc2hlZXRcbiAgICogQHBhcmFtIHtqUXVlcnl9IGV2ZW50IEBzZWUgYWN0aXZhdGVMaXN0ZW5lcnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgJ2FkZCcgfHwgJ2NoYW5nZScgfHwgJ3JlbW92ZSdcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9jdW1lbnQ+fSB1cGRhdGUgdG8gSXRlbSBkb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgbW9kaWZ5T3RoZXJzR2FpbnMgKGV2ZW50LCBtb2RlLCBvcHRpb25zID0ge30pIHtcbiAgICAvKiogTm8gbmVlZCB0byBjaGVjayBpZiB1c2VyIGlzIEdNIGJlY2F1c2Ugb25seSB0aGV5IGNhbiBzZWUgZGV0YWlscyB0YWIgKi9cbiAgICBsZXQgaW5kZXggPSBudWxsXG4gICAgbGV0IGVsZW1lbnQgPSBudWxsXG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBlbGVtZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgICAgLyoqIEBzZWUgZGF0YS1pbmRleCBwcm9wZXJ0eSBvbiB0ZW1wbGF0ZSAqL1xuICAgICAgaW5kZXggPSBlbGVtZW50LnBhcmVudHMoJ3RyJykuZGF0YSgnaW5kZXgnKVxuICAgICAgLyoqIEFsd2F5cyBoYXMgdG8gYmUgQHR5cGUge0FycmF5fSAqL1xuICAgIH1cbiAgICBjb25zdCBza2lsbHMgPSB0aGlzLml0ZW0uc3lzdGVtLmdhaW5zLm90aGVyc1xuICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5nYWlucy5vdGhlcnMpXG4gICAgICA6IFtdXG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlICdhZGQnOlxuICAgICAgICAvKiogVXNlciBjbGlja2VkIG9uIHBsdXMgaWNvbiB0byBhZGQgYSBuZXcgc2tpbGwgb24gb3RoZXIgZ2FpbnMgdGFibGUgKi9cbiAgICAgICAgc2tpbGxzLnB1c2goe1xuICAgICAgICAgIC8qKiBuZXcgc2tpbGwgKi9cbiAgICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUgfHwgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk5ld1NraWxsTmFtZScpLFxuICAgICAgICAgIC8qKiBkZXZlbG9wbWVudCBieSBkZWZhdWx0LCB2YWx1ZSBjYW4gYWxzbyBiZSAxZDYgb3IgMWQxMCAqL1xuICAgICAgICAgIHZhbHVlOiAnZGV2ZWxvcG1lbnQnXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjaGFuZ2UnOlxuICAgICAgICAvKiogVXNlciBjaGFuZ2VkIG5hbWUgKGlucHV0KSBvciB2YWx1ZSAoc2VsZWN0KSBvZiBhIHNraWxsIG9uIHRhYmxlICovXG4gICAgICAgIHNraWxsc1tpbmRleF0gPSB7XG4gICAgICAgICAgbmFtZTogZWxlbWVudC5pcygnaW5wdXQnKSA/IGVsZW1lbnQudmFsKCkgOiBza2lsbHNbaW5kZXhdLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IGVsZW1lbnQuaXMoJ3NlbGVjdCcpID8gZWxlbWVudC52YWwoKSA6IHNraWxsc1tpbmRleF0udmFsdWVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncmVtb3ZlJzpcbiAgICAgICAgLyoqIFVzZXIgY2xpY2tlZCBvbiBtaW51cyBpY29uIHRvIHJlbW92ZSBhIHNraWxsIG9uIG90aGVyIGdhaW5zIHRhYmxlICovXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSBza2lsbHMuc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0uZ2FpbnMub3RoZXJzJzogc2tpbGxzIH0pXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBBY3RvclNoZWV0LCBDT05TVCwgRGlhbG9nLCBGb3JtRGF0YSwgZ2FtZSwgbWVyZ2VPYmplY3QsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi8uLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5pbXBvcnQgeyBDb0M3TGluayB9IGZyb20gJy4uLy4uL2FwcHMvY29jNy1saW5rLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDb250YWluZXJTaGVldCBleHRlbmRzIEFjdG9yU2hlZXQge1xuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIDVlIEFjdG9yIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldCcsICdhY3RvcicsICdzdG9yYWdlJ10sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3N0b3JhZ2Utc2hlZXQuaHRtbCcsXG4gICAgICB3aWR0aDogNjcyLFxuICAgICAgaGVpZ2h0OiA3NjUsXG4gICAgICBkcmFnRHJvcDogW3sgZHJhZ1NlbGVjdG9yOiAnLml0ZW0nLCBkcm9wU2VsZWN0b3I6IG51bGwgfV0sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXYnLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnaXRlbXMnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IGRhdGFMaXN0ID0gYXdhaXQgQ29DN1V0aWxpdGllcy5nZXREYXRhRnJvbURyb3BFdmVudChldmVudCwgJ0l0ZW0nKVxuICAgIGlmICghdGhpcy5vcHRpb25zLmVkaXRhYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLmFjdG9yLml0ZW1zLnRvT2JqZWN0KCkgfHwgW11cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YUxpc3QpIHtcbiAgICAgIGlmICghaXRlbSB8fCAhaXRlbS5zeXN0ZW0pIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGlmICghWydib29rJywgJ2l0ZW0nLCAnc3BlbGwnLCAnd2VhcG9uJ10uaW5jbHVkZXMoaXRlbS50eXBlKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgaXRlbXMucHVzaChpdGVtLnRvT2JqZWN0KCkpXG4gICAgfVxuICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlKHsgaXRlbXMgfSlcbiAgfVxuXG4gIG9uQ2xvc2VTaGVldCAoKSB7fVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHNoZWV0RGF0YS5lZGl0YWJsZSA9IHRoaXMuaXNFZGl0YWJsZVxuXG4gICAgc2hlZXREYXRhLml0ZW1zQnlUeXBlID0ge31cbiAgICBpZiAoc2hlZXREYXRhLml0ZW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc2hlZXREYXRhLml0ZW1zKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgICAgICAgc2hlZXREYXRhLml0ZW1zQnlUeXBlLFxuICAgICAgICAgICAgaXRlbS50eXBlXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBzaGVldERhdGEuaXRlbXNCeVR5cGVbaXRlbS50eXBlXSA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgc2hlZXREYXRhLml0ZW1zQnlUeXBlW2l0ZW0udHlwZV0ucHVzaChpdGVtKVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBpdGVtVHlwZSBpbiBzaGVldERhdGEuaXRlbXNCeVR5cGUpIHtcbiAgICAgICAgc2hlZXREYXRhLml0ZW1zQnlUeXBlW2l0ZW1UeXBlXS5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzaGVldERhdGEuYWxsb3dVbmxvY2sgPVxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncGxheWVyVW5sb2NrU2hlZXRNb2RlJykgPT09ICdhbHdheXMnIHx8XG4gICAgICBnYW1lLnVzZXIuaXNHTVxuXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlJdGVtcyA9XG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2hlZXREYXRhLml0ZW1zQnlUeXBlLCAnaXRlbScpIHx8XG4gICAgICAhc2hlZXREYXRhLmRhdGEuc3lzdGVtLmZsYWdzLmxvY2tlZFxuICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5Qm9va3MgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ2Jvb2snKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVNwZWxscyA9XG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2hlZXREYXRhLml0ZW1zQnlUeXBlLCAnc3BlbGwnKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcbiAgICBzaGVldERhdGEuc2hvd0ludmVudG9yeVRhbGVudHMgPVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNoZWV0RGF0YS5pdGVtc0J5VHlwZSwgJ3RhbGVudCcpIHx8XG4gICAgICAoIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWQgJiZcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAncHVscFJ1bGVUYWxlbnRzJykpXG4gICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlXZWFwb25zID1cbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzaGVldERhdGEuaXRlbXNCeVR5cGUsICd3ZWFwb24nKSB8fFxuICAgICAgIXNoZWV0RGF0YS5kYXRhLnN5c3RlbS5mbGFncy5sb2NrZWRcblxuICAgIHNoZWV0RGF0YS5oYXNJbnZlbnRvcnkgPVxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlJdGVtcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlCb29rcyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlTcGVsbHMgfHxcbiAgICAgIHNoZWV0RGF0YS5zaG93SW52ZW50b3J5VGFsZW50cyB8fFxuICAgICAgc2hlZXREYXRhLnNob3dJbnZlbnRvcnlXZWFwb25zXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gc2hlZXREYXRhXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICBodG1sLmZpbmQoJy5pdGVtLWVkaXQnKS5jbGljayhldiA9PiB7XG4gICAgICBjb25zdCBsaSA9ICQoZXYuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGxpLmRhdGEoJ2l0ZW1JZCcpKVxuICAgICAgaXRlbS5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuaW52ZW50b3J5LWhlYWRlcicpLmNsaWNrKHRoaXMuX29uSW52ZW50b3J5SGVhZGVyLmJpbmQodGhpcykpXG5cbiAgICBodG1sLmZpbmQoJy5pdGVtLXRyYWRlJykuY2xpY2sodGhpcy5fb25UcmFkZUl0ZW0uYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5zaG93LWRldGFpbCcpLmNsaWNrKHRoaXMuX29uSXRlbVN1bW1hcnkuYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLml0ZW0tZGVsZXRlJykuY2xpY2soYXN5bmMgZXYgPT4ge1xuICAgICAgY29uc3QgbGkgPSAkKGV2LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJylcbiAgICAgIGNvbnN0IGl0ZW1Ub0RlbGV0ZSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGxpLmRhdGEoJ2l0ZW1JZCcpLCB7XG4gICAgICAgIHN0cmljdDogdHJ1ZVxuICAgICAgfSlcbiAgICAgIGF3YWl0IGl0ZW1Ub0RlbGV0ZS5kZWxldGUoKVxuICAgICAgbGkuc2xpZGVVcCgyMDAsICgpID0+IHRoaXMucmVuZGVyKGZhbHNlKSlcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuYWRkLWl0ZW0nKS5jbGljayhldiA9PiB7XG4gICAgICBzd2l0Y2ggKGV2LmN1cnJlbnRUYXJnZXQuZGF0YXNldC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Jvb2snOlxuICAgICAgICAgIHRoaXMuYWN0b3IuY3JlYXRlRW1wdHlCb29rKGV2KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2l0ZW0nOlxuICAgICAgICAgIHRoaXMuYWN0b3IuY3JlYXRlRW1wdHlJdGVtKGV2KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3NraWxsJzpcbiAgICAgICAgICB0aGlzLmFjdG9yLmNyZWF0ZUVtcHR5U2tpbGwoZXYpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnc3BlbGwnOlxuICAgICAgICAgIHRoaXMuYWN0b3IuY3JlYXRlRW1wdHlTcGVsbChldilcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICd3ZWFwb24nOlxuICAgICAgICAgIHRoaXMuYWN0b3IuY3JlYXRlRW1wdHlXZWFwb24oZXYpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcubG9jaycpLmNsaWNrKHRoaXMuX29uTG9ja0NsaWNrZWQuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGFzeW5jIF9vbkxvY2tDbGlja2VkIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBpc0xvY2tlZCA9IHRoaXMuYWN0b3IubG9ja2VkXG4gICAgdGhpcy5hY3Rvci5sb2NrZWQgPSAhaXNMb2NrZWRcbiAgfVxuXG4gIGFzeW5jIF9vblRyYWRlSXRlbSAoZXZlbnQpIHtcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLml0ZW1zLmdldChsaS5kYXRhKCdpdGVtSWQnKSlcbiAgICBsZXQgY29udGVudCA9ICc8cD4nICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3Lk1lc3NhZ2VTZWxlY3RVc2VyVG9HaXZlVG8nKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICBhY3RvckZyb206IHRoaXMuYWN0b3IuaWQsXG4gICAgICBzY2VuZTogbnVsbCxcbiAgICAgIGFjdG9yVG86IHRoaXMuYWN0b3IuaWQsXG4gICAgICBpdGVtOiBpdGVtLmlkXG4gICAgfVxuICAgIGlmICh0aGlzLnRva2VuPy5hY3Rvcikge1xuICAgICAgbWVzc2FnZS5hY3RvckZyb20gPSB0aGlzLnRva2VuLmlkXG4gICAgICBtZXNzYWdlLnNjZW5lID0gdGhpcy50b2tlbi5wYXJlbnQuaWRcbiAgICB9XG4gICAgY29uc3QgYWN0b3JzID0gZ2FtZS5hY3RvcnMuZmlsdGVyKGUgPT4ge1xuICAgICAgaWYgKCFbJ2NoYXJhY3RlcicsICducGMnLCAnY3JlYXR1cmUnLCAnY29udGFpbmVyJ10uaW5jbHVkZXMoZS50eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFjdG9yLmlkID09PSBlLmlkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgbGV0IHZpc2libGUgPSBmYWxzZVxuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZS5vd25lcnNoaXApKSB7XG4gICAgICAgIGlmIChrID09PSAnZGVmYXVsdCcgfHwgayA9PT0gZ2FtZS51c2VyLmlkKSB7XG4gICAgICAgICAgdmlzaWJsZSA9XG4gICAgICAgICAgICB2aXNpYmxlIHx8XG4gICAgICAgICAgICB2ICE9PSBDT05TVC5ET0NVTUVOVF9PV05FUlNISVBfTEVWRUxTLk5PTkVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZpc2libGVcbiAgICB9KVxuICAgIGNvbnRlbnQgPSBjb250ZW50ICsgJzxmb3JtIGlkPVwic2VsZWN0Zm9ybVwiPjxzZWxlY3QgbmFtZT1cInVzZXJcIj4nXG4gICAgZm9yIChjb25zdCBhY3RvciBvZiBhY3RvcnMpIHtcbiAgICAgIGNvbnRlbnQgPVxuICAgICAgICBjb250ZW50ICsgJzxvcHRpb24gdmFsdWU9XCInICsgYWN0b3IuaWQgKyAnXCI+JyArIGFjdG9yLm5hbWUgKyAnPC9vcHRpb24+J1xuICAgIH1cbiAgICBjb250ZW50ID0gY29udGVudCArICc8L3NlbGVjdD48L2Zvcm0+PC9wPidcbiAgICBhd2FpdCBEaWFsb2cucHJvbXB0KHtcbiAgICAgIHRpdGxlOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTWVzc2FnZVRpdGxlU2VsZWN0VXNlclRvR2l2ZVRvJyksXG4gICAgICBjb250ZW50LFxuICAgICAgY2FsbGJhY2s6IGh0bWwgPT4ge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShodG1sWzBdLnF1ZXJ5U2VsZWN0b3IoJyNzZWxlY3Rmb3JtJykpXG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBmb3JtRGF0YSkge1xuICAgICAgICAgIGlmIChuYW1lID09PSAndXNlcicpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuYWN0b3JUbyA9IHZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICBhd2FpdCBnYW1lLkNvQzdzb2NrZXQuZXhlY3V0ZUFzR00oJ2dtdHJhZGVpdGVtdG8nLCBtZXNzYWdlKVxuICB9XG5cbiAgX29uSXRlbVN1bW1hcnkgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGxpID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcuaXRlbScpXG4gICAgY29uc3QgaXRlbSA9IHRoaXMuYWN0b3IuaXRlbXMuZ2V0KGxpLmRhdGEoJ2l0ZW0taWQnKSlcbiAgICBjb25zdCBjaGF0RGF0YSA9IGl0ZW0uZ2V0Q2hhdERhdGEoeyBzZWNyZXRzOiB0aGlzLmFjdG9yLmlzT3duZXIgfSlcblxuICAgIC8vIFRvZ2dsZSBzdW1tYXJ5XG4gICAgaWYgKGxpLmhhc0NsYXNzKCdleHBhbmRlZCcpKSB7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gbGkuY2hpbGRyZW4oJy5pdGVtLXN1bW1hcnknKVxuICAgICAgc3VtbWFyeS5zbGlkZVVwKDIwMCwgKCkgPT4gc3VtbWFyeS5yZW1vdmUoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGl2ID0gJCgnPGRpdiBjbGFzcz1cIml0ZW0tc3VtbWFyeVwiPjwvZGl2PicpXG5cbiAgICAgIGNvbnN0IGxhYmVscyA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLWxhYmVsc1wiPjwvZGl2PicpXG4gICAgICBmb3IgKGNvbnN0IHAgb2YgY2hhdERhdGEubGFiZWxzKSB7XG4gICAgICAgIGxhYmVscy5hcHBlbmQoXG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJpdGVtLWxhYmVsXCI+PHNwYW4gY2xhc3M9XCJsYWJlbC1uYW1lXCI+JHtwLm5hbWV9IDo8L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbC12YWx1ZVwiPiR7cC52YWx1ZX08L3NwYW4+PC9kaXY+YFxuICAgICAgICApXG4gICAgICB9XG4gICAgICBkaXYuYXBwZW5kKGxhYmVscylcblxuICAgICAgZGl2LmFwcGVuZChcbiAgICAgICAgJChgPGRpdiBjbGFzcz1cIml0ZW0tZGVzY3JpcHRpb25cIj4ke2NoYXREYXRhLmRlc2NyaXB0aW9uLnZhbHVlfTwvZGl2PmApXG4gICAgICApXG4gICAgICBpZiAoaXRlbS5zeXN0ZW0ucHJvcGVydGllcz8uc3BjbCkge1xuICAgICAgICBjb25zdCBzcGVjaWFsRGl2ID0gJChcbiAgICAgICAgICBgPGRpdiBjbGFzcz1cIml0ZW0tc3BlY2lhbFwiPiR7Y2hhdERhdGEuZGVzY3JpcHRpb24uc3BlY2lhbH08L2Rpdj5gXG4gICAgICAgIClcbiAgICAgICAgZGl2LmFwcGVuZChzcGVjaWFsRGl2KVxuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9wcyA9ICQoJzxkaXYgY2xhc3M9XCJpdGVtLXByb3BlcnRpZXNcIj48L2Rpdj4nKVxuICAgICAgZm9yIChjb25zdCBwIG9mIGNoYXREYXRhLnByb3BlcnRpZXMpIHtcbiAgICAgICAgcHJvcHMuYXBwZW5kKFxuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwidGFnIGl0ZW0tcHJvcGVydHlcIj4ke2dhbWUuaTE4bi5sb2NhbGl6ZShwKX08L2Rpdj5gXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGRpdi5hcHBlbmQocHJvcHMpXG5cbiAgICAgIGxpLmFwcGVuZChkaXYuaGlkZSgpKVxuICAgICAgQ29DN0xpbmsuYmluZEV2ZW50c0hhbmRsZXIoZGl2KVxuICAgICAgZGl2LnNsaWRlRG93bigyMDApXG4gICAgfVxuICAgIGxpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpXG4gICAgLy8gJChldmVudC5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnZXhwYW5kZWQnKTtcbiAgfVxuXG4gIF9vbkludmVudG9yeUhlYWRlciAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5zaWJsaW5ncygnbGknKS5zbGlkZVRvZ2dsZSgyMDApXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBEcmFnRHJvcCwgRm9ybUFwcGxpY2F0aW9uLCBmb3VuZHJ5LCBnYW1lLCB1aSAqL1xuaW1wb3J0IHsgQ29DQWN0b3IgfSBmcm9tICcuLi9hY3RvcnMvYWN0b3IuanMnXG5pbXBvcnQgeyBDb0M3Q2hlY2sgfSBmcm9tICcuLi9jaGVjay5qcydcbmltcG9ydCB7IF9wYXJ0aWNpcGFudCB9IGZyb20gJy4uL2l0ZW1zL2NoYXNlL3BhcnRpY2lwYW50LmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdDaGFzZVBhcnRpY2lwYW50SW1wb3J0ZXIgZXh0ZW5kcyBGb3JtQXBwbGljYXRpb24ge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gZm91bmRyeS51dGlscy5tZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BZGRBY3RvclRvQ2hhc2UnKSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2NoYXNlLXBhcnRpY2lwYW50LWltcG9ydGVyLmh0bWwnLFxuICAgICAgY2xhc3NlczogWydjb2M3JywgJ2RpYWxvZycsICdjaGFzZS1wYXJ0aWNpcGFudC1pbXBvcnRlciddLFxuICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICByZXNpemFibGU6IGZhbHNlLFxuICAgICAgc3VibWl0T25DaGFuZ2U6IHRydWUsXG4gICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZSxcbiAgICAgIHdpZHRoOiAzMDAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgIH0pXG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudERyYWdEcm9wID0gbmV3IERyYWdEcm9wKHtcbiAgICAgIGRyb3BTZWxlY3RvcjogJy5mb3JtLWNvbnRhaW5lcicsXG4gICAgICBwZXJtaXNzaW9uczogeyBkcm9wOiBnYW1lLnVzZXIuaXNHTSB9LFxuICAgICAgY2FsbGJhY2tzOiB7IGRyb3A6IHRoaXMuX29uRHJvcFBhcnRpY2lwYW50LmJpbmQodGhpcykgfVxuICAgIH0pXG4gICAgcGFydGljaXBhbnREcmFnRHJvcC5iaW5kKGh0bWxbMF0pXG5cbiAgICBodG1sLmZpbmQoJy5yZXNldC1wYXJ0aWNpcGFudCcpLmNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMub2JqZWN0ID0ge31cbiAgICAgIHRoaXMuX2FjdG9yID0gbnVsbFxuICAgICAgYXdhaXQgdGhpcy5yZW5kZXIodHJ1ZSlcbiAgICB9KVxuXG4gICAgaHRtbC5maW5kKCcuZm9vZC1jaGFpbicpLmNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMub2JqZWN0LmNoYXNlciA9ICF0aGlzLm9iamVjdC5jaGFzZXJcbiAgICAgIGF3YWl0IHRoaXMucmVuZGVyKHRydWUpXG4gICAgfSlcblxuICAgIGh0bWwuZmluZCgnW2RhdGEtYWN0aW9uXScpLmNsaWNrKHRoaXMuX29uQWN0aW9uLmJpbmQodGhpcykpXG5cbiAgICAvLyBodG1sLmZpbmQoJ2J1dHRvbicpLmNsaWNrKHRoaXMuX29uQnV0dG9uLmJpbmQodGhpcykpXG4gIH1cblxuICBhc3luYyBnZXREYXRhICgpIHtcbiAgICBpZiAoIXRoaXMub2JqZWN0LmluaXRpYXRpdmUpIHtcbiAgICAgIGNvbnN0IGluaXQgPSBDb0NBY3Rvci5nZXRDaGFyYWN0ZXJpc3RpY0RlZmluaXRpb24oKS5maW5kKFxuICAgICAgICBjID0+IGMua2V5ID09PSAnZGV4J1xuICAgICAgKVxuICAgICAgdGhpcy5vYmplY3QuaW5pdGlhdGl2ZSA9IGluaXQubGFiZWxcbiAgICAgIC8vIHRoaXMub2JqZWN0LmluaXRpYXRpdmUgPSBgJHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAvLyAgICdDb0M3LkNoYXJhY3RlcmlzdGljcydcbiAgICAgIC8vICl9ICgke2luaXQuc2hvcnROYW1lfSlgXG4gICAgfVxuICAgIGlmICghdGhpcy5vYmplY3Quc3BlZWRDaGVjaykge1xuICAgICAgY29uc3Qgc3BlZWRDaGVjayA9IENvQ0FjdG9yLmdldENoYXJhY3RlcmlzdGljRGVmaW5pdGlvbigpLmZpbmQoXG4gICAgICAgIGMgPT4gYy5rZXkgPT09ICdjb24nXG4gICAgICApXG4gICAgICB0aGlzLm9iamVjdC5zcGVlZENoZWNrID0ge1xuICAgICAgICBuYW1lOiBzcGVlZENoZWNrLmxhYmVsXG4gICAgICB9XG4gICAgICAvLyB0aGlzLm9iamVjdC5zcGVlZENoZWNrID0ge1xuICAgICAgLy8gICBuYW1lOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ2hhcmFjdGVyaXN0aWNzJyl9ICgke1xuICAgICAgLy8gICAgIHNwZWVkQ2hlY2suc2hvcnROYW1lXG4gICAgICAvLyAgIH0pYFxuICAgICAgLy8gfVxuICAgIH1cblxuICAgIHRoaXMudmFsaWRhdGVQYXJ0aWNpcGFudCgpXG5cbiAgICAvLyBjb25zdCBzcGVlZENoZWNrID0gdGhpcy5hY3Rvcj8uZmluZCggdGhpcy5vYmplY3Quc3BlZWRDaGVjaz8ubmFtZSlcbiAgICAvLyBpZiggc3BlZWRDaGVjayl7XG4gICAgLy8gICB0aGlzLm9iamVjdC5zcGVlZENoZWNrID0gc3BlZWRDaGVja1xuICAgIC8vIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzdXBlci5nZXREYXRhKClcblxuICAgIGRhdGEucGFydGljaXBhbnQgPSBuZXcgX3BhcnRpY2lwYW50KHRoaXMub2JqZWN0KVxuICAgIGlmIChkYXRhLm9iamVjdC5zcGVlZENoZWNrLm5hbWUgJiYgdGhpcy5hY3Rvcikge1xuICAgICAgY29uc3Qgc3BlZWRDaGVjayA9IHRoaXMuYWN0b3IuZmluZChkYXRhLm9iamVjdC5zcGVlZENoZWNrLm5hbWUpXG4gICAgICBpZiAoc3BlZWRDaGVjaykge1xuICAgICAgICBkYXRhLm9iamVjdC5zcGVlZENoZWNrLnNjb3JlID0gc3BlZWRDaGVjay52YWx1ZS52YWx1ZVxuICAgICAgICBkYXRhLnNwZWVkQ2hlY2tSZWFkT25seSA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGRhdGEucGFydGljaXBhbnQuc3BlZWRDaGVjay5zY29yZSAmJlxuICAgICAgICAhdGhpcy5vYmplY3Quc3BlZWRDaGVjaz8uc2NvcmVcbiAgICAgICkge1xuICAgICAgICBkYXRhLm9iamVjdC5zcGVlZENoZWNrLnNjb3JlID0gZGF0YS5wYXJ0aWNpcGFudC5zcGVlZENoZWNrLnNjb3JlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEub2JqZWN0LmluaXRpYXRpdmUgJiYgdGhpcy5hY3Rvcikge1xuICAgICAgY29uc3QgaW5pdGlhdGl2ZSA9IHRoaXMuYWN0b3IuZmluZChkYXRhLm9iamVjdC5pbml0aWF0aXZlKVxuICAgICAgaWYgKGluaXRpYXRpdmUpIHtcbiAgICAgICAgZGF0YS5vYmplY3QuZGV4ID0gaW5pdGlhdGl2ZS52YWx1ZS52YWx1ZVxuICAgICAgICBkYXRhLmluaXRSZWFkT25seSA9IHRydWVcbiAgICAgIH0gZWxzZSBkYXRhLm9iamVjdC5kZXggPSBkYXRhLnBhcnRpY2lwYW50LmluaXRpYXRpdmVcbiAgICB9XG5cbiAgICBkYXRhLmFjdG9yID0gdGhpcy5hY3RvclxuICAgIGRhdGEuY2hhc2UgPSB0aGlzLmNoYXNlXG4gICAgZGF0YS5kYXRhID0gdGhpcy5kYXRhXG5cbiAgICBkYXRhLm9wdGlvbnNMaXN0ID0ge31cbiAgICBpZiAodGhpcy5jaGFzZSkge1xuICAgICAgZGF0YS5za2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NMaXN0ID1cbiAgICAgICAgdGhpcy5jaGFzZS5hbGxTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3NTaG9ydFxuICAgIH1cblxuICAgIGlmICh0aGlzLmFjdG9yKSB7XG4gICAgICBkYXRhLnNraWxsc0FuZENoYXJhY3RlcmlzdGljc0xpc3QgPSBbXVxuICAgICAgQ29DQWN0b3IuZ2V0Q2hhcmFjdGVyaXN0aWNEZWZpbml0aW9uKCkuZm9yRWFjaChjID0+XG4gICAgICAgIGRhdGEuc2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzTGlzdC5wdXNoKGAke2MubGFiZWx9YClcbiAgICAgIClcbiAgICAgIGRhdGEuc2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzTGlzdC5wdXNoKFxuICAgICAgICBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuTHVjaycpfWBcbiAgICAgIClcbiAgICAgIGRhdGEuc2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzTGlzdC5wdXNoKFxuICAgICAgICBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuU0FOJyl9YFxuICAgICAgKVxuICAgICAgdGhpcy5hY3Rvci5za2lsbHMuZm9yRWFjaChzID0+XG4gICAgICAgIGRhdGEuc2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzTGlzdC5wdXNoKHMubmFtZSlcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgZ2V0IGNoYXNlICgpIHtcbiAgICBpZiAoIXRoaXMuX2NoYXNlKSB7XG4gICAgICB0aGlzLl9jaGFzZSA9IENvQzdVdGlsaXRpZXMuU2Zyb21VdWlkKHRoaXMub2JqZWN0LmNoYXNlVXVpZClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NoYXNlXG4gIH1cblxuICBnZXQgYWN0b3IgKCkge1xuICAgIGlmICghdGhpcy5vYmplY3QuZG9jVXVpZCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMuX2FjdG9yKSB7XG4gICAgICB0aGlzLl9hY3RvciA9IENvQzdVdGlsaXRpZXMuZ2V0QWN0b3JGcm9tS2V5KHRoaXMub2JqZWN0LmRvY1V1aWQpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hY3RvclxuICB9XG5cbiAgYXN5bmMgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgZm91bmRyeS51dGlscy5tZXJnZU9iamVjdCh0aGlzLCBmb3JtRGF0YSlcbiAgICBhd2FpdCB0aGlzLnJlbmRlcih0cnVlKVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcFBhcnRpY2lwYW50IChldmVudCkge1xuICAgIGNvbnN0IGRyb3BTdHJpbmcgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpXG4gICAgY29uc3QgZHJvcERhdGEgPSBKU09OLnBhcnNlKGRyb3BTdHJpbmcpXG5cbiAgICBjb25zdCBkb2NVdWlkID0gQ29DN1V0aWxpdGllcy5nZXRBY3RvckRvY3VtZW50RnJvbURyb3BEYXRhKGRyb3BEYXRhKVxuXG4gICAgdGhpcy5vYmplY3QuZG9jVXVpZCA9IGRvY1V1aWRcblxuICAgIC8vIElmIGFjdG9yIGlzIGNvbnRyb2xsZWQgYnkgR00gb25seSB3ZSBhc3N1bWUgaGUgaXMgYSBjaGFzZXJcbiAgICB0aGlzLm9iamVjdC5jaGFzZXIgPSB0aGlzLmFjdG9yPy5vd25lcnM/LmZpbHRlcih1ID0+ICF1LmlzR00pLmxlbmd0aCA9PT0gMFxuICAgIGlmICh0aGlzLm9iamVjdC5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nKSB7XG4gICAgICBkZWxldGUgdGhpcy5vYmplY3Quc3BlZWRDaGVjay5yb2xsRGF0YVN0cmluZ1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucmVuZGVyKHRydWUpXG4gIH1cblxuICBhc3luYyBfb25BY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgYWN0aW9uID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvblxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlICdjaGFzZS1jYW5jZWwnOlxuICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NoYXNlLWFkZCc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudCA9IG5ldyBfcGFydGljaXBhbnQodGhpcy5vYmplY3QpXG5cbiAgICAgICAgICBpZiAodGhpcy5jaGFzZS5zdGFydGVkKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICEocGFydGljaXBhbnQubW92ZW1lbnRBY3Rpb24gJiYgcGFydGljaXBhbnQubW92ZW1lbnRBY3Rpb24gPiAwKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihcbiAgICAgICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRG9lc05vdE1lZXRNaW5pbXVtUmVxVG9CZUFkZGVkJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEub3ZlcnJpZGVNb3ZlbWVudEFjdGlvbikge1xuICAgICAgICAgICAgICBjb25zdCBzbG93ZXN0ID0gdGhpcy5jaGFzZS5zbG93ZXN0UGFydGljaXBhbnRcbiAgICAgICAgICAgICAgaWYgKGlzTmFOKHBhcnRpY2lwYW50LmFkanVzdGVkTW92KSkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50Lm1vdiA9IHNsb3dlc3QuYWRqdXN0ZWRNb3ZcbiAgICAgICAgICAgICAgfSAvKiogZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnQuZGF0YS5tb3YgPVxuICAgICAgICAgICAgICAgICAgc2xvd2VzdC5hZGp1c3RlZE1vdiArIHBhcnRpY2lwYW50Lm1vdmVtZW50QWN0aW9uIC0gMVxuICAgICAgICAgICAgICB9ICovXG4gICAgICAgICAgICAgIHRoaXMuZGF0YS5yZWNhbGN1bGF0aW9uTmVlZGVkID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhd2FpdCB0aGlzLmNoYXNlLmFkZFBhcnRpY2lwYW50KHBhcnRpY2lwYW50LCB7XG4gICAgICAgICAgICBsb2NhdGlvblV1aWQ6IHRoaXMub2JqZWN0LmxvY2F0aW9uVXVpZCxcbiAgICAgICAgICAgIHJlY2FsY3VsYXRlTW92ZW1lbnRBY3Rpb25zOiB0aGlzLmRhdGEucmVjYWxjdWxhdGlvbk5lZWRlZCxcbiAgICAgICAgICAgIHVwZGF0ZTogdGhpcy5vYmplY3QudXBkYXRlXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdyb2xsLXNwZWVkLWNoZWNrJzpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gbmV3IF9wYXJ0aWNpcGFudCh0aGlzLm9iamVjdClcbiAgICAgICAgICBpZiAocGFydGljaXBhbnQuc3BlZWRDaGVjay5yZWZTZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvbGwgPSBuZXcgQ29DN0NoZWNrKClcbiAgICAgICAgICAgIHBhcnRpY2lwYW50LmRhdGEucm9sbGVkID0gdHJ1ZVxuICAgICAgICAgICAgcm9sbC5hY3RvciA9IHBhcnRpY2lwYW50LmFjdG9yLmFjdG9yS2V5XG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuc3BlZWRDaGVjay5pc0NoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHJvbGwucm9sbENoYXJhY3RlcmlzdGljKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmLmtleSlcbiAgICAgICAgICAgICAgcGFydGljaXBhbnQuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0aWNpcGFudC5zcGVlZENoZWNrLmlzU2tpbGwpIHtcbiAgICAgICAgICAgICAgcm9sbC5za2lsbCA9IHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmXG4gICAgICAgICAgICAgIGF3YWl0IHJvbGwucm9sbCgpXG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50LmRhdGEuc3BlZWRDaGVjay5yb2xsRGF0YVN0cmluZyA9IHJvbGwuSlNPTlJvbGxTdHJpbmdcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydGljaXBhbnQuc3BlZWRDaGVjay5pc0F0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICBhd2FpdCByb2xsLnJvbGxBdHRyaWJ1dGUocGFydGljaXBhbnQuc3BlZWRDaGVjay5yZWYua2V5KVxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcgPSByb2xsLkpTT05Sb2xsU3RyaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnNjb3JlKSB7XG4gICAgICAgICAgICBjb25zdCByb2xsRGF0YSA9IHtcbiAgICAgICAgICAgICAgcmF3VmFsdWU6IHBhcnRpY2lwYW50LnNwZWVkQ2hlY2suc2NvcmUsXG4gICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBwYXJ0aWNpcGFudC5zcGVlZENoZWNrLm5hbWUsXG4gICAgICAgICAgICAgIGFjdG9yTmFtZTogcGFydGljaXBhbnQubmFtZSA/IHBhcnRpY2lwYW50Lm5hbWUgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5oYXNBY3Rvcikge1xuICAgICAgICAgICAgICByb2xsRGF0YS5hY3RvciA9IHBhcnRpY2lwYW50LmFjdG9yLmFjdG9yS2V5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByb2xsID0gQ29DN0NoZWNrLmNyZWF0ZShyb2xsRGF0YSlcbiAgICAgICAgICAgIGF3YWl0IHJvbGwucm9sbCgpXG4gICAgICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcgPSByb2xsLkpTT05Sb2xsU3RyaW5nXG4gICAgICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnJvbGxlZCA9IHRydWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3VuZHJ5LnV0aWxzLm1lcmdlT2JqZWN0KHRoaXMub2JqZWN0LCBwYXJ0aWNpcGFudC5kYXRhKVxuICAgICAgICAgIHRoaXMucmVuZGVyKHRydWUpXG4gICAgICAgIH1cblxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlUGFydGljaXBhbnQgKCkge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gbmV3IF9wYXJ0aWNpcGFudCh0aGlzLm9iamVjdClcbiAgICBpZiAoIXRoaXMuZGF0YSkgdGhpcy5kYXRhID0ge31cbiAgICB0aGlzLm9iamVjdC5leGNsdWRlZCA9IGZhbHNlXG4gICAgdGhpcy5vYmplY3QuZXNjYXBlZCA9IGZhbHNlXG4gICAgdGhpcy5kYXRhLnJlY2FsY3VsYXRpb25OZWVkZWQgPSBmYWxzZVxuICAgIHRoaXMuZGF0YS5wYXJ0aWNpcGFudEV4Y2x1ZGVkID0gZmFsc2VcbiAgICB0aGlzLmRhdGEubW92ZW1lbnRBY3Rpb25EZWx0YSA9IDBcblxuICAgIGlmICghdGhpcy5kYXRhLm92ZXJyaWRlTW92ZW1lbnRBY3Rpb24pIHtcbiAgICAgIGNvbnN0IHNsb3dlc3RQcmV5ID0gdGhpcy5jaGFzZS5zbG93ZXN0UHJleVxuICAgICAgY29uc3QgZmFzdGVzdENoYXNlciA9IHRoaXMuY2hhc2UuZmFzdGVzdENoYXNlclxuICAgICAgY29uc3Qgc2xvd2VzdCA9IHRoaXMuY2hhc2Uuc2xvd2VzdFBhcnRpY2lwYW50XG5cbiAgICAgIGlmIChwYXJ0aWNpcGFudC5hZGp1c3RlZE1vdiA8IHNsb3dlc3Q/LmFkanVzdGVkTW92KSB7XG4gICAgICAgIHRoaXMuZGF0YS5yZWNhbGN1bGF0aW9uTmVlZGVkID0gdHJ1ZVxuICAgICAgICBwYXJ0aWNpcGFudC5tb3ZlbWVudEFjdGlvbiA9IDFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0YS5yZWNhbGN1bGF0aW9uTmVlZGVkID0gZmFsc2VcbiAgICAgICAgcGFydGljaXBhbnQuY2FsY3VsYXRlTW92ZW1lbnRBY3Rpb25zKHNsb3dlc3Q/LmFkanVzdGVkTW92KVxuICAgICAgfVxuICAgICAgaWYgKHBhcnRpY2lwYW50LmlzQ2hhc2VyKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzbG93ZXN0UHJleSAmJlxuICAgICAgICAgICF0aGlzLmNoYXNlLmRhdGEuZGF0YS5pbmNsdWRlTGFzdENvbW1lcnMgJiZcbiAgICAgICAgICBwYXJ0aWNpcGFudC5hZGp1c3RlZE1vdiA8IHNsb3dlc3RQcmV5LmFkanVzdGVkTW92XG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LmV4Y2x1ZGVkID0gdHJ1ZVxuICAgICAgICAgIHRoaXMuZGF0YS5wYXJ0aWNpcGFudEV4Y2x1ZGVkID0gdHJ1ZVxuICAgICAgICAgIHRoaXMuZGF0YS5leGNsdWRlZEJlY2F1c2UgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuVG9vU2xvdycpXG4gICAgICAgICAgdGhpcy5kYXRhLnJlY2FsY3VsYXRpb25OZWVkZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJ0aWNpcGFudC5pc1ByZXkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZhc3Rlc3RDaGFzZXIgJiZcbiAgICAgICAgICAhdGhpcy5jaGFzZS5kYXRhLmRhdGEuaW5jbHVkZUVzY2FwZWQgJiZcbiAgICAgICAgICBwYXJ0aWNpcGFudC5hZGp1c3RlZE1vdiA+IGZhc3Rlc3RDaGFzZXIuYWRqdXN0ZWRNb3ZcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QuZXNjYXBlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLmRhdGEucGFydGljaXBhbnRFeGNsdWRlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLmRhdGEuZXhjbHVkZWRCZWNhdXNlID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlRvb0Zhc3QnKVxuICAgICAgICAgIHRoaXMuZGF0YS5yZWNhbGN1bGF0aW9uTmVlZGVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUgKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5kcm9wRGF0YSkge1xuICAgICAgY29uc3QgZG9jVXVpZCA9IENvQzdVdGlsaXRpZXMuZ2V0QWN0b3JEb2N1bWVudEZyb21Ecm9wRGF0YShkYXRhLmRyb3BEYXRhKVxuICAgICAgaWYgKGRvY1V1aWQpIGRhdGEuZG9jVXVpZCA9IGRvY1V1aWRcbiAgICAgIGRlbGV0ZSBkYXRhLmRyb3BEYXRhXG4gICAgfVxuICAgIHJldHVybiBuZXcgQ29DN0NoYXNlUGFydGljaXBhbnRJbXBvcnRlcihkYXRhKS5yZW5kZXIodHJ1ZSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIERpYWxvZywgRHJhZ0Ryb3AsIGR1cGxpY2F0ZSwgZXhwYW5kT2JqZWN0LCBmbGF0dGVuT2JqZWN0LCBGb3JtRGF0YUV4dGVuZGVkLCBmb3VuZHJ5LCBnYW1lLCBnZXRUeXBlLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yLCB1aSAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IENvQzdDaGFzZVBhcnRpY2lwYW50SW1wb3J0ZXIgfSBmcm9tICcuLi8uLi9hcHBzL2NoYXNlLXBhcnRpY2lwYW50LWltcG9ydGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXQgfSBmcm9tICcuLi8uLi9jaGF0LmpzJ1xuaW1wb3J0IHsgY2hhdEhlbHBlciB9IGZyb20gJy4uLy4uL2NoYXQvaGVscGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0NoZWNrIH0gZnJvbSAnLi4vLi4vY2hlY2suanMnXG5pbXBvcnQgeyBfcGFydGljaXBhbnQgfSBmcm9tICcuL3BhcnRpY2lwYW50LmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN0NoYXNlU2hlZXQgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIFNpbXBsZSBJdGVtIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICBjb25zdCBvcHRpb25zID0gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldFYyJywgJ2l0ZW0nLCAnY2hhc2UnXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9jaGFzZS5odG1sJyxcbiAgICAgIHdpZHRoOiA1NTAsXG4gICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgIHJlc2l6YWJsZTogdHJ1ZSxcbiAgICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnNoZWV0LW5hdicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0LWJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdwYXJ0aWNpcGFudHMnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcblxuICAgIC8vIGNsb3NlT25TdWJtaXQ6IGZhbHNlLFxuICAgIC8vIHN1Ym1pdE9uQ2xvc2U6IHRydWUsXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIHN0YXRpYyBnZXQgdHlwZSAoKSB7XG4gICAgcmV0dXJuICdjb2M3Q2hhc2VTaGVldCdcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgZ2V0RGF0YSAob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gc3VwZXIuZ2V0RGF0YShvcHRpb25zKVxuXG4gICAgc2hlZXREYXRhLnBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5wYXJ0aWNpcGFudHNPYmplY3RcbiAgICBzaGVldERhdGEucGFydGljaXBhbnRzQnlJbml0aWF0aXZlID0gdGhpcy5pdGVtLnBhcnRpY2lwYW50c0J5SW5pdGlhdGl2ZVxuICAgIHNoZWV0RGF0YS5wcmV5cyA9IHRoaXMuaXRlbS5wcmV5c1xuICAgIHNoZWV0RGF0YS5jaGFzZXJzID0gdGhpcy5pdGVtLmNoYXNlcnNcblxuICAgIHNoZWV0RGF0YS5wcmV5c01pbk1vdiA9IHNoZWV0RGF0YS5wcmV5cy5sZW5ndGggPyBzaGVldERhdGEucHJleXMucmVkdWNlKChwcmV2LCBjdXJyZW50KSA9PiBwcmV2LmFkanVzdGVkTW92IDwgY3VycmVudC5hZGp1c3RlZE1vdiA/IHByZXYgOiBjdXJyZW50KS5hZGp1c3RlZE1vdiA6IC0xXG5cbiAgICBzaGVldERhdGEucHJleXNNYXhNb3YgPSBzaGVldERhdGEucHJleXMubGVuZ3RoID8gc2hlZXREYXRhLnByZXlzLnJlZHVjZSgocHJldiwgY3VycmVudCkgPT4gcHJldi5hZGp1c3RlZE1vdiA+IGN1cnJlbnQuYWRqdXN0ZWRNb3YgPyBwcmV2IDogY3VycmVudCkuYWRqdXN0ZWRNb3YgOiAtMVxuXG4gICAgc2hlZXREYXRhLmNoYXNlcnNNaW5Nb3YgPSBzaGVldERhdGEuY2hhc2Vycy5sZW5ndGggPyBzaGVldERhdGEuY2hhc2Vycy5yZWR1Y2UoKHByZXYsIGN1cnJlbnQpID0+IHByZXYuYWRqdXN0ZWRNb3YgPCBjdXJyZW50LmFkanVzdGVkTW92ID8gcHJldiA6IGN1cnJlbnQpLmFkanVzdGVkTW92IDogLTFcblxuICAgIHNoZWV0RGF0YS5jaGFzZXJzTWF4TW92ID0gc2hlZXREYXRhLmNoYXNlcnMubGVuZ3RoID8gc2hlZXREYXRhLmNoYXNlcnMucmVkdWNlKChwcmV2LCBjdXJyZW50KSA9PiBwcmV2LmFkanVzdGVkTW92ID4gY3VycmVudC5hZGp1c3RlZE1vdiA/IHByZXYgOiBjdXJyZW50KS5hZGp1c3RlZE1vdiA6IC0xXG5cbiAgICBzaGVldERhdGEuY2hhc2Vycy5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAuYWRqdXN0ZWRNb3YgPCBzaGVldERhdGEucHJleXNNaW5Nb3YpIHtcbiAgICAgICAgcC50b29TbG93KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHAuaW5jbHVkZUluQ2hhc2UoKVxuICAgICAgfVxuICAgICAgcC5mYXN0ZXN0ID0gcC5hZGp1c3RlZE1vdiA9PT0gc2hlZXREYXRhLmNoYXNlcnNNYXhNb3ZcbiAgICAgIHAuc2xvd2VzdCA9IHAuYWRqdXN0ZWRNb3YgPT09IHNoZWV0RGF0YS5jaGFzZXJzTWluTW92XG4gICAgfSlcblxuICAgIHNoZWV0RGF0YS5wcmV5cy5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAuYWRqdXN0ZWRNb3YgPiBzaGVldERhdGEuY2hhc2Vyc01heE1vdikge1xuICAgICAgICBwLmVzY2FwZWQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcC5pbmNsdWRlSW5DaGFzZSgpXG4gICAgICB9XG4gICAgICBwLmZhc3Rlc3QgPSBwLmFkanVzdGVkTW92ID09PSBzaGVldERhdGEucHJleXNNYXhNb3ZcbiAgICAgIHAuc2xvd2VzdCA9IHAuYWRqdXN0ZWRNb3YgPT09IHNoZWV0RGF0YS5wcmV5c01pbk1vdlxuICAgIH0pXG5cbiAgICBzaGVldERhdGEubG9jYXRpb25zID0gdGhpcy5pdGVtLmxvY2F0aW9uc1xuICAgIHNoZWV0RGF0YS5hbGxIYXZlVmFsaWRNb3YgPSB0aGlzLmFsbEhhdmVWYWxpZE1vdlxuICAgIHNoZWV0RGF0YS5hY3RpdmVMb2NhdGlvbiA9IHRoaXMuaXRlbS5hY3RpdmVMb2NhdGlvblxuICAgIGlmIChzaGVldERhdGEuYWN0aXZlTG9jYXRpb24pIHtcbiAgICAgIHNoZWV0RGF0YS5hY3RpdmVMb2NhdGlvbi50aXRsZSA9IHNoZWV0RGF0YS5hY3RpdmVMb2NhdGlvbi5jb29yZGluYXRlc1xuICAgICAgICA/IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuTG9jYXRpb25Db29yZGluYXRlJywge1xuICAgICAgICAgIHg6IHNoZWV0RGF0YS5hY3RpdmVMb2NhdGlvbi5jb29yZGluYXRlcy54LFxuICAgICAgICAgIHk6IHNoZWV0RGF0YS5hY3RpdmVMb2NhdGlvbi5jb29yZGluYXRlcy55XG4gICAgICAgIH0pXG4gICAgICAgIDogZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkRyYWdPbkNhbnZhcycpXG4gICAgfVxuICAgIHNoZWV0RGF0YS5wcmV2aW91c0xvY2F0aW9uID0gdGhpcy5pdGVtLnByZXZpb3VzTG9jYXRpb25cbiAgICBzaGVldERhdGEubmV4dExvY2F0aW9uID0gdGhpcy5pdGVtLm5leHRMb2NhdGlvblxuICAgIHNoZWV0RGF0YS5zdGFydGVkID0gdGhpcy5pdGVtLnN0YXJ0ZWRcblxuICAgIHNoZWV0RGF0YS5pc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgLy8gZ2V0IGFjdGl2ZVBhcnRpY2lwYW50ICgpIHtcbiAgLy8gICBpZiAoIXRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKSByZXR1cm4gdW5kZWZpbmVkXG4gIC8vICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cy5maW5kKHAgPT4gcC5hY3RpdmUpXG4gIC8vICAgaWYgKCFwYXJ0aWNpcGFudCkgcmV0dXJuIHVuZGVmaW5lZFxuICAvLyAgIHJldHVybiBuZXcgX3BhcnRpY2lwYW50KHBhcnRpY2lwYW50KVxuICAvLyB9XG5cbiAgLy8gZ2V0IGFjdGl2ZVBhcnRpY2lwYW50TG9jYXRpb24gKCkge1xuICAvLyAgIGlmICghdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpIHJldHVybiB1bmRlZmluZWRcbiAgLy8gICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzLmZpbmQocCA9PiBwLmFjdGl2ZSlcbiAgLy8gfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgLy8gaHRtbC5maW5kKCcuY2hhc2UtdHJhY2snKS5yZWFkeShhc3luYyBodG1sID0+IGF3YWl0IHRoaXMuX29uU2hlZXRSZWFkeShodG1sKSlcblxuICAgIC8vIEhhbmRsZSBEcm9wcm93blxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuZHJvcGRvd24tZWxlbWVudCcpXG4gICAgICAub24oJ2NsaWNrJywgZXZlbnQgPT4gdGhpcy5fb25Ecm9wRG93bkVsZW1lbnRTZWxlY3RlZChldmVudCkpXG5cbiAgICBodG1sLmZpbmQoJy5kcm9wYnRuJykuY2xpY2soZXZlbnQgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgIGNvbnN0IGRyb3Bkb3duID0gdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bicpXG4gICAgICBjb25zdCBkcm9wZG93bkNvbnRlbnQgPSBkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tY29udGVudCcpXG4gICAgICBkcm9wZG93bkNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpXG4gICAgfSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLmRyb3Bkb3duJylcbiAgICAgIC5tb3VzZWxlYXZlKGV2ZW50ID0+XG4gICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLWNvbnRlbnQnKVxuICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcbiAgICAgIClcblxuICAgIGh0bWwub24oJ2RibGNsaWNrJywgJy5vcGVuLWFjdG9yJywgQ29DN0NoYXQuX29uT3BlbkFjdG9yLmJpbmQodGhpcykpXG5cbiAgICBodG1sXG4gICAgICAuZmluZCgnLnBpbi1sb2NhdGlvbicpXG4gICAgICAuY29udGV4dG1lbnUodGhpcy5jbGVhckFjdGl2ZUxvY2F0aW9uQ29vcmRpbmF0ZXMuYmluZCh0aGlzKSlcblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcucGFydGljaXBhbnQnKVxuICAgICAgLm9uKCdkcmFnZW50ZXInLCBldmVudCA9PiB0aGlzLl9vbkRyYWdFbnRlclBhcnRpY2lwYW50KGV2ZW50KSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLnBhcnRpY2lwYW50JylcbiAgICAgIC5vbignZHJhZ292ZXInLCBldmVudCA9PiB0aGlzLl9vbkRyYWdFbnRlclBhcnRpY2lwYW50KGV2ZW50KSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLnBhcnRpY2lwYW50JylcbiAgICAgIC5vbignZHJhZ2xlYXZlJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnTGVhdmVQYXJ0aWNpcGFudChldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5wYXJ0aWNpcGFudCcpXG4gICAgICAub24oJ2Ryb3AnLCBldmVudCA9PiB0aGlzLl9vbkRyYWdMZWF2ZVBhcnRpY2lwYW50KGV2ZW50KSlcblxuICAgIGh0bWwuZmluZCgnLnAtc2lkZScpLmNsaWNrKHRoaXMuX29uQ2hhbmdlU2lkZS5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLmRlbGV0ZS1wYXJ0aWNpcGFudCcpLmNsaWNrKHRoaXMuX29uRGVsZXRlUGFydGljaXBhbnQuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5yZXNldC1yb2xsJykuY2xpY2sodGhpcy5fb25SZXNldFJvbGwuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5kZWxldGUtZHJpdmVyJykuY2xpY2sodGhpcy5fb25EZWxldGVEcml2ZXIuYmluZCh0aGlzKSlcblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcubmV3LXBhcnRpY2lwYW50JylcbiAgICAgIC5vbignZHJhZ2VudGVyJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnRW50ZXJQYXJ0aWNpcGFudChldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5uZXctcGFydGljaXBhbnQnKVxuICAgICAgLm9uKCdkcmFnb3ZlcicsIGV2ZW50ID0+IHRoaXMuX29uRHJhZ0VudGVyUGFydGljaXBhbnQoZXZlbnQpKVxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcubmV3LXBhcnRpY2lwYW50JylcbiAgICAgIC5vbignZHJhZ2xlYXZlJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnTGVhdmVQYXJ0aWNpcGFudChldmVudCkpXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5uZXctcGFydGljaXBhbnQnKVxuICAgICAgLm9uKCdkcm9wJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnTGVhdmVQYXJ0aWNpcGFudChldmVudCkpXG5cbiAgICBodG1sLmZpbmQoJy5hZGQtc2lnbicpLmNsaWNrKHRoaXMuX29uQWRkUGFydGljaXBhbnQuYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLnJvbGwtcGFydGljaXBhbnQnKS5jbGljayh0aGlzLl9vblJvbGxQYXJ0aWNpcGFudC5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbC5maW5kKCcuYnV0dG9uJykuY2xpY2sodGhpcy5fb25CdXR0b25DbGljay5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbC5maW5kKCcubmFtZS1jb250YWluZXInKS5jbGljayh0aGlzLl9vbkxvY2F0aW9uQ2xpY2suYmluZCh0aGlzKSlcblxuICAgIGh0bWwuZmluZCgnLm9ic3RhY2xlLXR5cGUnKS5jbGljayh0aGlzLl9vbk9ic3RhY2xlVHlwZUNsaWNrLmJpbmQodGhpcykpXG4gICAgLy8gaHRtbC5maW5kKCcub2JzdGFjbGUtdG9nZ2xlJykuY2xpY2sodGhpcy5fb25PYnN0YWNsZVRvZ2dsZUNsaWNrLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcudG9nZ2xlJykuY2xpY2sodGhpcy5fb25Ub2dnbGUuYmluZCh0aGlzKSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLnBhcnRpY2lwYW50LWNvbnRyb2wnKVxuICAgICAgLmNsaWNrKHRoaXMuX29uUGFydGljaXBhbnRDb250cm9sQ2xpY2tlZC5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbC5maW5kKCcuY2hhc2UtY29udHJvbCcpLmNsaWNrKHRoaXMuX29uQ2hhc2VDb250cm9sQ2xpY2tlZC5iaW5kKHRoaXMpKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5sb2NhdGlvbi1jb250cm9sJylcbiAgICAgIC5jbGljayh0aGlzLl9vbkxvY2F0aW9uQ29udHJvbENsaWNrLmJpbmQodGhpcykpXG4gICAgLy8gaHRtbFxuICAgIC8vICAgLmZpbmQoJy5tb3ZlbWVudC1hY3Rpb24gLmRlY3JlYXNlJylcbiAgICAvLyAgIC5jbGljayh0aGlzLl9vbkNoYW5nZU1vdmVtZW50QWN0aW9ucy5iaW5kKHRoaXMsIC0xKSlcbiAgICAvLyBodG1sXG4gICAgLy8gICAuZmluZCgnLm1vdmVtZW50LWFjdGlvbiAuaW5jcmVhc2UnKVxuICAgIC8vICAgLmNsaWNrKHRoaXMuX29uQ2hhbmdlTW92ZW1lbnRBY3Rpb25zLmJpbmQodGhpcywgMSkpXG5cbiAgICAvLyBodG1sXG4gICAgLy8gLmZpbmQoJy5waW4tbG9jYXRpb24nKVxuICAgIC8vIC5vbignZHJhZ3N0YXJ0JywgZXZlbnQgPT4gdGhpcy5fb25QaW5Mb2NhdGlvbkRyYWdTdGFydChldmVudCkpXG5cbiAgICBjb25zdCBwaW5Mb2NhdGlvblNlbGVjdG9yRHJhZ0Ryb3AgPSBuZXcgRHJhZ0Ryb3Aoe1xuICAgICAgZHJhZ1NlbGVjdG9yOiAnLnBpbi1sb2NhdGlvbicsXG4gICAgICBwZXJtaXNzaW9uczoge1xuICAgICAgICBkcmFnc3RhcnQ6IHRoaXMuX2NhblBpbkxvY2F0aW9uRHJhZ1N0YXJ0LmJpbmQodGhpcylcbiAgICAgIH0sXG4gICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgZHJhZ3N0YXJ0OiB0aGlzLl9vblBpbkxvY2F0aW9uRHJhZ1N0YXJ0LmJpbmQodGhpcylcbiAgICAgIH1cbiAgICB9KVxuICAgIHBpbkxvY2F0aW9uU2VsZWN0b3JEcmFnRHJvcC5iaW5kKGh0bWxbMF0pXG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudERyYWdEcm9wID0gbmV3IERyYWdEcm9wKHtcbiAgICAgIGRyb3BTZWxlY3RvcjogJy5wYXJ0aWNpcGFudCcsXG4gICAgICBjYWxsYmFja3M6IHsgZHJvcDogdGhpcy5fb25Ecm9wUGFydGljaXBhbnQuYmluZCh0aGlzKSB9XG4gICAgfSlcbiAgICBwYXJ0aWNpcGFudERyYWdEcm9wLmJpbmQoaHRtbFswXSlcblxuICAgIGNvbnN0IG5ld1BhcnRpY2lwYW50RHJhZ0Ryb3AgPSBuZXcgRHJhZ0Ryb3Aoe1xuICAgICAgZHJvcFNlbGVjdG9yOiAnLm5ldy1wYXJ0aWNpcGFudCcsXG4gICAgICBjYWxsYmFja3M6IHsgZHJvcDogdGhpcy5fb25BZGRQYXJ0aWNpcGFudC5iaW5kKHRoaXMpIH1cbiAgICB9KVxuICAgIG5ld1BhcnRpY2lwYW50RHJhZ0Ryb3AuYmluZChodG1sWzBdKVxuXG4gICAgaWYgKHRoaXMuaXRlbS5zdGFydGVkKSB7XG4gICAgICBodG1sXG4gICAgICAgIC5maW5kKCcuY2hhc2UtbG9jYXRpb24gLmNoYXNlLXBhcnRpY2lwYW50JylcbiAgICAgICAgLmNsaWNrKHRoaXMuX29uQ2hhc2VQYXJ0aWNpcGFudENsaWNrLmJpbmQodGhpcykpXG5cbiAgICAgIGNvbnN0IGNoYXNlUGFydGljaXBhbnREcmFncERyb3AgPSBuZXcgRHJhZ0Ryb3Aoe1xuICAgICAgICBkcmFnU2VsZWN0b3I6ICcuY2hhc2UtcGFydGljaXBhbnQnLFxuICAgICAgICBkcm9wU2VsZWN0b3I6ICcuY2hhc2UtbG9jYXRpb24nLFxuICAgICAgICBwZXJtaXNzaW9uczoge1xuICAgICAgICAgIGRyYWdzdGFydDogdGhpcy5fY2FuQ2hhc2VQYXJ0aWNpcGFudERyYWdTdGFydC5iaW5kKHRoaXMpLFxuICAgICAgICAgIGRyb3A6IHRoaXMuX2NhbkNoYXNlUGFydGljaXBhbnREcmFnRHJvcC5iaW5kKHRoaXMpXG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgIGRyYWdzdGFydDogdGhpcy5fb25DaGFzZVBhcnRpY2lwYW50RHJhZ1N0YXJ0LmJpbmQodGhpcyksXG4gICAgICAgICAgZHJvcDogdGhpcy5fb25DaGFzZVBhcnRpY2lwYW50RHJhZ0Ryb3AuYmluZCh0aGlzKSxcbiAgICAgICAgICBkcmFnb3ZlcjogdGhpcy5fb25EcmFnRW50ZXIuYmluZCh0aGlzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgY2hhc2VQYXJ0aWNpcGFudERyYWdwRHJvcC5iaW5kKGh0bWxbMF0pXG5cbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJy5jaGFzZS1sb2NhdGlvbicpXG4gICAgICAgIC5vbignZHJhZ2xlYXZlJywgZXZlbnQgPT4gdGhpcy5fb25EcmFnTGVhdmUoZXZlbnQpKVxuICAgIH1cbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8qICBGb3JtIFN1Ym1pc3Npb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBfZ2V0U3VibWl0RGF0YSAodXBkYXRlRGF0YSA9IHt9KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBleHBhbmRlZCB1cGRhdGUgZGF0YSBvYmplY3RcbiAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YUV4dGVuZGVkKHRoaXMuZm9ybSwgeyBlZGl0b3JzOiB0aGlzLmVkaXRvcnMgfSlcbiAgICBsZXQgZGF0YSA9IGZkLm9iamVjdFxuICAgIGlmICh1cGRhdGVEYXRhKSB7XG4gICAgICBkYXRhID0gbWVyZ2VPYmplY3QoZGF0YSwgdXBkYXRlRGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IGV4cGFuZE9iamVjdChkYXRhKVxuICAgIH1cblxuICAgIC8vIENoZWNrIHRoYXQgc3RhcnRpbmcgcG9zaXRpb24gaXMgbm90IG91dHNpZGUgb2YgY2hhc2UgcmFuZ2UuXG4gICAgaWYgKFxuICAgICAgdGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnM/Lmxpc3Q/Lmxlbmd0aCAmJlxuICAgICAgZGF0YS5zeXN0ZW0uc3RhcnRpbmdJbmRleCA+IHRoaXMuaXRlbS5zeXN0ZW0ubG9jYXRpb25zLmxpc3QubGVuZ3RoXG4gICAgKSB7XG4gICAgICBkYXRhLnN5c3RlbS5zdGFydGluZ0luZGV4ID0gdGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMubGlzdC5sZW5ndGhcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zeXN0ZW0ucGFydGljaXBhbnRzKSB7XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICAvLyBIYW5kbGUgcGFydGljaXBhbnRzIGFycmF5XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhkYXRhLnN5c3RlbS5wYXJ0aWNpcGFudHMpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFydGljaXBhbnRzLmZpbmRJbmRleChwID0+IHAudXVpZCA9PT0gaylcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgdWkubm90aWZpY2F0aW9ucy5lcnJvcignUGFydGljaXBhbnQgdGFibGUgY29ycnVwdGVkJylcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBwYXJ0aWNpcGFudHNbaW5kZXhdXG4gICAgICAgICAgY29uc3QgY2xlYW5lZCA9IGNsZWFuKHYpXG4gICAgICAgICAgbWVyZ2VPYmplY3Qob3JpZ2luYWwsIGNsZWFuZWQpXG4gICAgICAgICAgcGFydGljaXBhbnRzW2luZGV4XSA9IG9yaWdpbmFsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGF0YS5zeXN0ZW0ucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzXG4gICAgfVxuXG4gICAgaWYgKGRhdGEubG9jYXRpb25zKSB7XG4gICAgICBjb25zdCBsb2NhdGlvbnMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICAgIC8vIEhhbmRsZSBsb2NhdGlvbnMgbGlzdFxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5sb2NhdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uSW5kZXggPSBsb2NhdGlvbnMuZmluZEluZGV4KGwgPT4gbC51dWlkID09PSBrZXkpXG4gICAgICAgIGlmIChsb2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0xvY2F0aW9ucyB0YWJsZSBjb3JydXB0ZWQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTG9jYXRpb24gPSBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF1cbiAgICAgICAgICBjb25zdCBjbGVhbmVkID0gY2xlYW4odmFsdWUpXG4gICAgICAgICAgbWVyZ2VPYmplY3Qob3JpZ2luYWxMb2NhdGlvbiwgY2xlYW5lZClcbiAgICAgICAgICBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0gPSBvcmlnaW5hbExvY2F0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGVsZXRlIGRhdGEubG9jYXRpb25zXG4gICAgICBkYXRhLnN5c3RlbS5sb2NhdGlvbnMgPSB7IGxpc3Q6IGxvY2F0aW9ucyB9XG4gICAgfVxuICAgIC8vIGNvbnN0IHBhcnRpY2lwYW50cyA9IGRhdGEuc3lzdGVtPy5wYXJ0aWNpcGFudHM7XG4gICAgLy8gaWYoIHBhcnRpY2lwYW50cykgZGF0YS5zeXN0ZW0ucGFydGljaXBhbnRzID0gT2JqZWN0LnZhbHVlcyggcGFydGljaXBhbnRzKS5tYXAoIHAgPT4gY2xlYW4ocCkpO1xuXG4gICAgLy8gUmV0dXJuIHRoZSBmbGF0dGVuZWQgc3VibWlzc2lvbiBkYXRhXG4gICAgcmV0dXJuIGZsYXR0ZW5PYmplY3QoZGF0YSlcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgLy8gYXN5bmMgX29uU3VibWl0KC4uLmFyZ3MpIHtcbiAgLy8gIGF3YWl0IHN1cGVyLl9vblN1Ym1pdCguLi5hcmdzKTtcbiAgLy8gfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBvdmVycmlkZSA9IHRhcmdldD8uZGF0YXNldD8ub3ZlcnJpZGUgPT09ICd0cnVlJ1xuICAgIGlmICh0YXJnZXQ/Lm5hbWU/LmluY2x1ZGVzKCcuaHAnKSkge1xuICAgICAgY29uc3QgWywgLCB1dWlkXSA9IHRhcmdldC5uYW1lLnNwbGl0KCcuJylcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5pdGVtLmdldFBhcnRpY2lwYW50KHV1aWQpXG4gICAgICBpZiAocGFydGljaXBhbnQgJiYgcGFydGljaXBhbnQuYWN0b3IpIHtcbiAgICAgICAgaWYgKCFpc05hTihOdW1iZXIodGFyZ2V0LnZhbHVlKSkpIHtcbiAgICAgICAgICBhd2FpdCBwYXJ0aWNpcGFudC5hY3Rvci5zZXRIcChOdW1iZXIodGFyZ2V0LnZhbHVlKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgIGNvbnN0IFssIHR5cGUsIHV1aWQsIHN1YlR5cGUsIGRhdGFdID0gdGFyZ2V0Lm5hbWUuc3BsaXQoJy4nKVxuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEluZGV4KHV1aWQpXG4gICAgICBpZiAoXG4gICAgICAgIHR5cGUgPT09ICdwYXJ0aWNpcGFudHMnICYmXG4gICAgICAgICFpc05hTihpbmRleCkgJiZcbiAgICAgICAgc3ViVHlwZSA9PT0gJ3NwZWVkLWNoZWNrJ1xuICAgICAgKSB7XG4gICAgICAgIGlmIChkYXRhID09PSAnbmFtZScpIHtcbiAgICAgICAgICAvLyBDaGFuZ2luZyBuYW1lIHdpbGwgcmVtb3ZlIGFsbCBvdGhlciByZWYgIVxuICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICAgICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgICAgICAgIDogW11cbiAgICAgICAgICBpZiAocGFydGljaXBhbnRzW2luZGV4XS5zcGVlZENoZWNrKSB7XG4gICAgICAgICAgICBkZWxldGUgcGFydGljaXBhbnRzW2luZGV4XS5zcGVlZENoZWNrLmlkXG4gICAgICAgICAgICBkZWxldGUgcGFydGljaXBhbnRzW2luZGV4XS5zcGVlZENoZWNrLnR5cGVcbiAgICAgICAgICB9IGVsc2UgcGFydGljaXBhbnRzW2luZGV4XS5zcGVlZENoZWNrID0ge31cbiAgICAgICAgICBwYXJ0aWNpcGFudHNbaW5kZXhdLnNwZWVkQ2hlY2submFtZSA9IHRhcmdldC52YWx1ZVxuICAgICAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50cyB9KVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLl91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHNldFNjcm9sbCAoYXBwLCBodG1sLCBkYXRhKSB7XG4gICAgaWYgKCFkYXRhLmVkaXRhYmxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgaW5pdGlhbE9wZW5pbmcgPSBodG1sWzBdLmNsYXNzTGlzdC5jb250YWlucygnd2luZG93LWFwcCcpXG4gICAgY29uc3QgY2hhc2VUcmFjayA9IGh0bWxbMF0ucXVlcnlTZWxlY3RvcignLmNoYXNlLXRyYWNrJylcbiAgICBpZiAoIWNoYXNlVHJhY2spIHJldHVyblxuXG4gICAgbGV0IHN0YXJ0ID0gZGF0YS5kYXRhLnNjcm9sbD8uY2hhc2VUcmFjay5mcm9tXG4gICAgbGV0IGVuZCA9IGRhdGEuZGF0YS5zY3JvbGw/LmNoYXNlVHJhY2sudG9cbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgc3RhcnQgPSAwXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZW5kID0gLTFcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbE9wZW5pbmcpIHtcbiAgICAgIGNvbnN0IHJlbVN0cmluZyA9ICQoJzpyb290JykuY3NzKCdmb250LXNpemUnKVxuICAgICAgY29uc3QgcmVtU2l6ZSA9IE51bWJlcihyZW1TdHJpbmcucmVwbGFjZSgncHgnLCAnJykpXG4gICAgICBpZiAoYXBwLml0ZW0uc3RhcnRlZCkge1xuICAgICAgICBjb25zdCBwQ291bnQgPSBhcHAuaXRlbS5hY3R1YWxQYXJ0aWNpcGFudHM/Lmxlbmd0aFxuICAgICAgICBjb25zdCB3aWR0aCA9IChwQ291bnQgKiAxMS4yICsgMykgKiByZW1TaXplXG4gICAgICAgIGFwcC5hY3RpdmF0ZVRhYignc2V0dXAnKVxuICAgICAgICAvLyBhcHAuX3RhYnNbMF0uYWN0aXZlID0gJ3NldHVwJ1xuICAgICAgICBhcHAucG9zaXRpb24ud2lkdGggPSBNYXRoLm1heCh3aWR0aCwgNDAgKiByZW1TaXplKVxuICAgICAgICAvLyBodG1sLmNzcygnd2lkdGgnLCBgJHt3aWR0aH1weGApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHAucG9zaXRpb24ud2lkdGggPSA0NSAqIHJlbVNpemVcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCBhcHAuaXRlbS5hY3RpdmF0ZU5leHRQYXJ0aWNpcGFudFR1cm4oeyBodG1sIH0pIC8vIGh0bWwgaXMgbm90IHJlbmRlcmVkLCBlbGVtZW50IGhhdmUgc2l6ZSA9IDBcbiAgICAgIC8vIGlmIChlbmQgPiAwKSB7XG4gICAgICAvLyAgIHN0YXJ0ID0gMFxuICAgICAgLy8gfSBlbHNlIGlmIChzdGFydCA+IDApIHtcbiAgICAgIC8vICAgZW5kID0gc3RhcnRcbiAgICAgIC8vICAgc3RhcnQgPSAwXG4gICAgICAvLyB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ICYmIHN0YXJ0ICE9PSAtMSkge1xuICAgICAgY2hhc2VUcmFjay5zY3JvbGxUbyh7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogc3RhcnQsXG4gICAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGVuZCAhPT0gLTEpIHtcbiAgICAgIGNoYXNlVHJhY2suc2Nyb2xsVG8oe1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IGVuZCxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIGF3YWl0IGFwcC5pdGVtLnVwZGF0ZSh7ICdkYXRhLnRyYWNrU2Nyb2xsUG9zaXRpb24nOiBlbGVtZW50Q2VudGVyUmVsYXRpdmVMZWZ0IH0pXG4gIH1cblxuICBzdGF0aWMgb25DbG9zZSAoYXBwLCBodG1sKSB7XG4gICAgYXBwLml0ZW0udXBkYXRlKHsgJ3N5c3RlbS50cmFja1Njcm9sbFBvc2l0aW9uJzogLTEgfSlcbiAgfVxuXG4gIC8vIGFzeW5jIF9vblNoZWV0UmVhZHkgKGh0bWwpIHtcbiAgLy8gICBjb25zdCB0cmFjayA9IGh0bWwuZmluZCgnLmNoYXNlLXRyYWNrJylcbiAgLy8gICBjb25zdCBlbGVtZW50ID0gJCh0cmFjaykuZmluZCgnLmFjdGl2ZScpXG5cbiAgLy8gICBjb25zdCBlbGVtZW50bGVmdCA9IGVsZW1lbnRbMF0ub2Zmc2V0TGVmdFxuICAvLyAgIGNvbnN0IGRpdldpZHRoID0gdHJhY2tbMF0uY2xpZW50V2lkdGhcbiAgLy8gICBsZXQgZWxlbWVudENlbnRlclJlbGF0aXZlTGVmdCA9IGVsZW1lbnRsZWZ0IC0gZGl2V2lkdGggLyAyXG4gIC8vICAgaWYgKGVsZW1lbnRDZW50ZXJSZWxhdGl2ZUxlZnQgPCAwKSBlbGVtZW50Q2VudGVyUmVsYXRpdmVMZWZ0ID0gMFxuXG4gIC8vICAgY29uc3Qgc2Nyb2xsUG9zaXRpb24gPSB0aGlzLml0ZW0uc3lzdGVtLnRyYWNrU2Nyb2xsUG9zaXRpb25cbiAgLy8gICBpZiAoIXRyYWNrLmxlbmd0aCkgcmV0dXJuXG4gIC8vICAgaWYgKCFzY3JvbGxQb3NpdGlvbikgcmV0dXJuXG4gIC8vICAgY29uc3QgdHJhY2tFbGVtZW50ID0gdHJhY2tbMF1cbiAgLy8gICB0cmFja0VsZW1lbnQuc2Nyb2xsVG8oe1xuICAvLyAgICAgdG9wOiAwLFxuICAvLyAgICAgbGVmdDogZWxlbWVudENlbnRlclJlbGF0aXZlTGVmdCxcbiAgLy8gICAgIGJlaGF2aW9yOiAnaW5zdGFudCdcbiAgLy8gICB9KVxuXG4gIC8vICAgLy9UT0RPIDogY291bGRkIHVzZSBwYXJlbnQub2Zmc2V0VG9wIGV0IGNoaWxkLm9mZnNldFRvcCB0byBjZW50ZXIgdGhlIGFjdGl2ZSBlbGVtZW50XG5cbiAgLy8gICAvLyBjb25zdCBhY3RpdmUgPSBodG1sLmZpbmQoJy5uYW1lLWNvbnRhaW5lci5hY3RpdmUnKVxuICAvLyAgIC8vIGlmKCBhY3RpdmUpe1xuICAvLyAgIC8vICAgY29uc3QgZWxlbWVudCA9IGFjdGl2ZVswXVxuICAvLyAgIC8vICAgZWxlbWVudC5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6IFwic21vb3RoXCIsIGJsb2NrOiBcImVuZFwiLCBpbmxpbmU6IFwiY2VudGVyXCJ9KVxuICAvLyAgIC8vIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoZmFsc2UpXG4gIC8vICAgLy8gfVxuICAvLyAgIC8vIH0pXG4gIC8vIH1cblxuICBmaW5kUGFydGljaXBhbnRJbmRleCAodXVpZCkge1xuICAgIHJldHVybiB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cy5maW5kSW5kZXgocCA9PiBwLnV1aWQgPT09IHV1aWQpXG4gIH1cblxuICBmaW5kTG9jYXRpb25JbmRleCAodXVpZCkge1xuICAgIHJldHVybiB0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy5saXN0LmZpbmRJbmRleChwID0+IHAudXVpZCA9PT0gdXVpZClcbiAgfVxuXG4gIGZpbmRMb2NhdGlvbiAodXVpZCkge1xuICAgIHJldHVybiB0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy5saXN0LmZpbmQocCA9PiBwLnV1aWQgPT09IHV1aWQpXG4gIH1cblxuICBmaW5kSW5kZXggKGxpc3QsIHV1aWQpIHtcbiAgICByZXR1cm4gbGlzdC5maW5kSW5kZXgocCA9PiBwLnV1aWQgPT09IHV1aWQpXG4gIH1cblxuICBhc3luYyBfb25Ecm9wRG93bkVsZW1lbnRTZWxlY3RlZCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50Jyk/LmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKVxuICAgIGNvbnN0IGFzc2lzdGFudFV1aWQgPSB0YXJnZXQuY2xvc2VzdCgnLmluaXRpYXRpdmUtYmxvY2snKT8uZGF0YXNldD8udXVpZFxuICAgIGNvbnN0IGJlbmVmaWNpYXJ5VXVpZCA9IHRhcmdldC5kYXRhc2V0LmJlbmVmaWNpYXJ5VXVpZFxuICAgIGF3YWl0IHRoaXMuaXRlbS5hc3Npc3RQYXJ0aWNpcGFudChhc3Npc3RhbnRVdWlkLCBiZW5lZmljaWFyeVV1aWQpXG4gIH1cblxuICBhc3luYyBfb25Ub2dnbGUgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIC8vIGNvbnN0IGxvY2F0aW9uRWxlbWVudCA9IHRhcmdldC5jbG9zZXN0KCcubG9jYXRpb24ub2JzdGFjbGUnKVxuICAgIC8vIGNvbnN0IHV1aWQgPSBsb2NhdGlvbkVsZW1lbnQuZGF0YXNldC51dWlkXG4gICAgLy8gY29uc3QgbG9jYXRpb25zID0gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ubG9jYXRpb25zLmxpc3QpXG4gICAgLy8gY29uc3QgbG9jYXRpb25JbmRleCA9IHRoaXMuZmluZEluZGV4KGxvY2F0aW9ucywgdXVpZClcbiAgICBjb25zdCB0b2dnbGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCd0b2dnbGUnKVxuICAgIGNvbnN0IGRhdGEgPSBleHBhbmRPYmplY3Qoe1xuICAgICAgW3RvZ2dsZV06ICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2l0Y2hlZC1vbicpXG4gICAgfSlcbiAgICBpZiAoZGF0YS5sb2NhdGlvbnMpIHtcbiAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5sb2NhdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uSW5kZXggPSBsb2NhdGlvbnMuZmluZEluZGV4KGwgPT4gbC51dWlkID09PSBrZXkpXG4gICAgICAgIGlmIChsb2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoJ0xvY2F0aW9ucyB0YWJsZSBjb3JydXB0ZWQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTG9jYXRpb24gPSBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF1cbiAgICAgICAgICBjb25zdCBjbGVhbmVkID0gY2xlYW4odmFsdWUpXG4gICAgICAgICAgbWVyZ2VPYmplY3Qob3JpZ2luYWxMb2NhdGlvbiwgY2xlYW5lZClcbiAgICAgICAgICBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0gPSBvcmlnaW5hbExvY2F0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucylcbiAgICB9XG4gIH1cblxuICAvLyBhc3luYyBfb25PYnN0YWNsZVRvZ2dsZUNsaWNrIChldmVudCkge1xuICAvLyAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgLy8gICBjb25zdCBsb2NhdGlvbkVsZW1lbnQgPSB0YXJnZXQuY2xvc2VzdCgnLm9ic3RhY2xlJylcbiAgLy8gICBjb25zdCB1dWlkID0gbG9jYXRpb25FbGVtZW50LmRhdGFzZXQudXVpZFxuICAvLyAgIGNvbnN0IGxvY2F0aW9ucyA9IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy5saXN0KVxuICAvLyAgIGNvbnN0IGxvY2F0aW9uSW5kZXggPSB0aGlzLmZpbmRJbmRleChsb2NhdGlvbnMsIHV1aWQpXG4gIC8vICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlID0gIWxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZVxuICAvLyAgIGlmICghbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlscykge1xuICAvLyAgICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlscyA9IHtcbiAgLy8gICAgICAgYmFycmllcjogdHJ1ZVxuICAvLyAgICAgfVxuICAvLyAgIH1cbiAgLy8gICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMpXG4gIC8vIH1cblxuICBhc3luYyBfb25PYnN0YWNsZVR5cGVDbGljayAoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgbG9jYXRpb25FbGVtZW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5vYnN0YWNsZScpXG4gICAgY29uc3QgdXVpZCA9IGxvY2F0aW9uRWxlbWVudC5kYXRhc2V0LnV1aWRcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMubGlzdClcbiAgICBjb25zdCBsb2NhdGlvbkluZGV4ID0gdGhpcy5maW5kSW5kZXgobG9jYXRpb25zLCB1dWlkKVxuICAgIGlmICghbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlscykge1xuICAgICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlscyA9IHt9XG4gICAgfVxuICAgIGNvbnN0IG9ic3RhY2xlID0gbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlsc1xuICAgIGNvbnN0IHR5cGUgPSB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdiYXJyaWVyJykgPyAnYmFycmllcicgOiAnaGF6YXJkJ1xuICAgIGNvbnN0IGFjdGl2ZSA9IG9ic3RhY2xlW3R5cGVdXG4gICAgb2JzdGFjbGUuYmFycmllciA9IGZhbHNlXG4gICAgb2JzdGFjbGUuaGF6YXJkID0gZmFsc2VcbiAgICBvYnN0YWNsZVt0eXBlXSA9ICFhY3RpdmVcbiAgICBsb2NhdGlvbnNbbG9jYXRpb25JbmRleF0ub2JzdGFjbGUgPSAhYWN0aXZlXG4gICAgLy8gaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2JhcnJpZXInKSkge1xuICAgIC8vICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlscy5iYXJyaWVyID0gIWxvY2F0aW9uc1tcbiAgICAvLyAgICAgbG9jYXRpb25JbmRleFxuICAgIC8vICAgXS5vYnN0YWNsZURldGFpbHMuYmFycmllclxuICAgIC8vICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlscy5oYXphcmQgPSAhbG9jYXRpb25zW1xuICAgIC8vICAgICBsb2NhdGlvbkluZGV4XG4gICAgLy8gICBdLm9ic3RhY2xlRGV0YWlscy5iYXJyaWVyXG4gICAgLy8gfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXphcmQnKSkge1xuICAgIC8vICAgbG9jYXRpb25zW2xvY2F0aW9uSW5kZXhdLm9ic3RhY2xlRGV0YWlscy5oYXphcmQgPSAhbG9jYXRpb25zW1xuICAgIC8vICAgICBsb2NhdGlvbkluZGV4XG4gICAgLy8gICBdLm9ic3RhY2xlRGV0YWlscy5oYXphcmRcbiAgICAvLyAgIGxvY2F0aW9uc1tsb2NhdGlvbkluZGV4XS5vYnN0YWNsZURldGFpbHMuYmFycmllciA9ICFsb2NhdGlvbnNbXG4gICAgLy8gICAgIGxvY2F0aW9uSW5kZXhcbiAgICAvLyAgIF0ub2JzdGFjbGVEZXRhaWxzLmhhemFyZFxuICAgIC8vIH1cbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlTG9jYXRpb25zTGlzdChsb2NhdGlvbnMpXG4gIH1cblxuICBhc3luYyBfb25Mb2NhdGlvbkNsaWNrIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBsb2NhdGlvbkVsZW1lbnQgPSB0YXJnZXQuY2xvc2VzdCgnLmNoYXNlLWxvY2F0aW9uJylcbiAgICBjb25zdCBsVXVpZCA9IGxvY2F0aW9uRWxlbWVudC5kYXRhc2V0LnV1aWRcbiAgICBhd2FpdCB0aGlzLml0ZW0uYWN0aXZhdGVMb2NhdGlvbihsVXVpZClcbiAgfVxuXG4gIGFzeW5jIF9vbkxvY2F0aW9uQ29udHJvbENsaWNrIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2luYWN0aXZlJykpIHJldHVyblxuICAgIGNvbnN0IGFjdGlvbiA9IHRhcmdldC5kYXRhc2V0LmFjdGlvblxuICAgIGNvbnN0IGxvY2F0aW9uRWxlbWVudCA9IHRhcmdldC5jbG9zZXN0KCcuY2hhc2UtbG9jYXRpb24nKVxuICAgIGNvbnN0IGxVdWlkID0gbG9jYXRpb25FbGVtZW50LmRhdGFzZXQudXVpZFxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlICdyZW1vdmUnOlxuICAgICAgICBhd2FpdCB0aGlzLml0ZW0ucmVtb3ZlTG9jYXRpb24obFV1aWQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdhZGQtYWZ0ZXInOlxuICAgICAgICBhd2FpdCB0aGlzLml0ZW0uaW5zZXJ0TG9jYXRpb24obFV1aWQsIHsgc2hpZnQ6IDEgfSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnYWRkLWJlZm9yZSc6XG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5pbnNlcnRMb2NhdGlvbihsVXVpZCwgeyBzaGlmdDogMCB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdhZGQtcGFydGljaXBhbnQnOlxuICAgICAgICBDb0M3Q2hhc2VQYXJ0aWNpcGFudEltcG9ydGVyLmNyZWF0ZSh7XG4gICAgICAgICAgY2hhc2VVdWlkOiB0aGlzLml0ZW0udXVpZCxcbiAgICAgICAgICBsb2NhdGlvblV1aWQ6IGxVdWlkLFxuICAgICAgICAgIGRyb3BEYXRhOiB7fVxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgICAvLyB1aS5ub3RpZmljYXRpb25zLmluZm8oYExvY2F0aW9uICR7bFV1aWR9IENsaWNrZWQuIEFjdGlvbjogJHthY3Rpb259YClcbiAgfVxuXG4gIGFzeW5jIF9vbkNoYXNlUGFydGljaXBhbnRDbGljayAoZXZlbnQpIHtcbiAgICBjb25zdCBwVXVpZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldD8udXVpZFxuICAgIGF3YWl0IHRoaXMuaXRlbS5hY3RpdmF0ZVBhcnRpY2lwYW50KHBVdWlkKVxuICB9XG5cbiAgYXN5bmMgX29uUGFydGljaXBhbnRDb250cm9sQ2xpY2tlZCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbmFjdGl2ZScpKSByZXR1cm5cbiAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd24nKSkgcmV0dXJuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50VXVpZCA9IHRhcmdldC5jbG9zZXN0KCcuaW5pdGlhdGl2ZS1ibG9jaycpPy5kYXRhc2V0Py51dWlkXG4gICAgaWYgKCFwYXJ0aWNpcGFudFV1aWQpIHJldHVyblxuICAgIHN3aXRjaCAodGFyZ2V0LmRhdGFzZXQuYWN0aW9uKSB7XG4gICAgICBjYXNlICdkcmF3R3VuJzpcbiAgICAgICAgYXdhaXQgdGhpcy50b2dnbGVQYXJ0aWNpcGFudEd1bihwYXJ0aWNpcGFudFV1aWQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkZWNyZWFzZUFjdGlvbnMnOlxuICAgICAgICBhd2FpdCB0aGlzLl9vbkNoYW5nZU1vdmVtZW50QWN0aW9ucygtMSwgZXZlbnQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdpbmNyZWFzZUFjdGlvbnMnOlxuICAgICAgICBhd2FpdCB0aGlzLl9vbkNoYW5nZU1vdmVtZW50QWN0aW9ucygxLCBldmVudClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ21vdmVCYWNrd2FyZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5tb3ZlUGFydGljaXBhbnQocGFydGljaXBhbnRVdWlkLCAtMSwgeyByZW5kZXI6IHRydWUgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ21vdmVGb3J3YXJkJzpcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLm1vdmVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQsIDEsIHsgcmVuZGVyOiB0cnVlIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdhY3RpdmF0ZVBhcnRpY2lwYW50JzpcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaXRlbS5hY3RpdmF0ZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50VXVpZClcbiAgICAgIGNhc2UgJ2JvbnVzRGljZSc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBkaWNlTnVtYmVyID0gdGFyZ2V0LmRhdGFzZXQuY291bnRcbiAgICAgICAgICBhd2FpdCB0aGlzLml0ZW0udG9nZ2xlQm9udXNEaWNlKHBhcnRpY2lwYW50VXVpZCwgZGljZU51bWJlcilcbiAgICAgICAgICB0aGlzLml0ZW0uYWN0aXZhdGVOZXh0UGFydGljaXBhbnRUdXJuKClcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY2F1dGlvdXNBcHByb2FjaCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5jYXV0aW91c0FwcHJvYWNoKHBhcnRpY2lwYW50VXVpZClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2VkaXRQYXJ0aWNpcGFudCc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuaXRlbS5nZXRQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFV1aWQpXG4gICAgICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLml0ZW0uZ2V0UGFydGljaXBhbnRMb2NhdGlvbihwYXJ0aWNpcGFudFV1aWQpXG4gICAgICAgICAgcGFydGljaXBhbnQuZGF0YS5jaGFzZVV1aWQgPSB0aGlzLml0ZW0udXVpZFxuICAgICAgICAgIHBhcnRpY2lwYW50LmRhdGEubG9jYXRpb25VdWlkID0gbG9jYXRpb24udXVpZFxuICAgICAgICAgIHBhcnRpY2lwYW50LmRhdGEudXBkYXRlID0gdHJ1ZVxuICAgICAgICAgIENvQzdDaGFzZVBhcnRpY2lwYW50SW1wb3J0ZXIuY3JlYXRlKHBhcnRpY2lwYW50LmRhdGEpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3JlbW92ZVBhcnRpY2lwYW50JzpcbiAgICAgICAgYXdhaXQgdGhpcy5pdGVtLnJlbW92ZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50VXVpZClcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgdGhpcy5pdGVtLmFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybigpXG4gIH1cblxuICBhc3luYyBfb25DaGFzZUNvbnRyb2xDbGlja2VkIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IGxvY2F0aW9uVXVpZCA9IHRhcmdldC5jbG9zZXN0KCcub2JzdGFjbGUnKT8uZGF0YXNldD8udXVpZFxuICAgIGlmICghbG9jYXRpb25VdWlkKSByZXR1cm5cbiAgICBzd2l0Y2ggKHRhcmdldC5kYXRhc2V0LmFjdGlvbikge1xuICAgICAgY2FzZSAnb2JzdGFjbGUtc2tpbGwtY2hlY2snOlxuICAgICAgICByZXR1cm4gdGhpcy5pdGVtLmFjdGl2ZVBhcnRpY2lwYW50T2JzdGFjbGVDaGVjayhsb2NhdGlvblV1aWQpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX29uQ2hhbmdlTW92ZW1lbnRBY3Rpb25zIChjb3VudCwgZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgcGFydGljaXBhbnRVdWlkID0gdGFyZ2V0LmNsb3Nlc3QoJy5pbml0aWF0aXZlLWJsb2NrJyk/LmRhdGFzZXQ/LnV1aWRcbiAgICBpZiAoIXBhcnRpY2lwYW50VXVpZCkgcmV0dXJuXG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5pdGVtLnBhcnRpY2lwYW50c1xuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gcGFydGljaXBhbnRzLmZpbmQocCA9PiBwYXJ0aWNpcGFudFV1aWQgPT09IHAudXVpZClcbiAgICBpZiAocGFydGljaXBhbnQuaGFzTWF4TXZ0QWN0aW9ucyAmJiBjb3VudCA+IDApIHJldHVyblxuICAgIHBhcnRpY2lwYW50LmFsdGVyTW92ZW1lbnRBY3Rpb25zKGNvdW50KVxuXG4gICAgLy8gY29uc3Qgc2hlZXQgPSB0YXJnZXQuY2xvc2VzdCgnLmNvYzcuaXRlbS5jaGFzZScpXG4gICAgLy8gY29uc3QgY2hhc2VUcmFjayA9IHNoZWV0LnF1ZXJ5U2VsZWN0b3IoJy5jaGFzZS10cmFjaycpXG4gICAgLy8gaWYgKGNoYXNlVHJhY2spXG4gICAgLy8gICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHtcbiAgICAvLyAgICAgJ2RhdGEudHJhY2tTY3JvbGxQb3NpdGlvbic6IGNoYXNlVHJhY2suc2Nyb2xsTGVmdFxuICAgIC8vICAgfSlcbiAgICBhd2FpdCB0aGlzLml0ZW0uc2V0Y2hhc2VUcmFja1Njcm9sbCh7IHJlbmRlcjogZmFsc2UgfSlcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlUGFydGljaXBhbnRzKHBhcnRpY2lwYW50cylcbiAgfVxuXG4gIGFzeW5jIF9vbkJ1dHRvbkNsaWNrIChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBhY3Rpb24gPSB0YXJnZXQuZGF0YXNldD8uYWN0aW9uXG4gICAgaWYgKCFhY3Rpb24pIHJldHVyblxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFpc05hTih0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy50b3RhbCkgJiZcbiAgICAgICAgICB0aGlzLml0ZW0uc3lzdGVtLmxvY2F0aW9ucy50b3RhbCA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgbG9jYXRpb25zID0gQXJyYXkuYXBwbHkoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgQXJyYXkodGhpcy5pdGVtLnN5c3RlbS5sb2NhdGlvbnMudG90YWwpXG4gICAgICAgICAgKS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdXVpZDogZm91bmRyeS51dGlscy5yYW5kb21JRCgxNikgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgbG9jYXRpb25zWzBdLm5hbWUgPSAnU3RhcnQnXG4gICAgICAgICAgaWYgKGxvY2F0aW9ucy5sZW5ndGggPiAxKSBsb2NhdGlvbnNbbG9jYXRpb25zLmxlbmd0aCAtIDFdLm5hbWUgPSAnRW5kJ1xuICAgICAgICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGVMb2NhdGlvbnNMaXN0KGxvY2F0aW9ucylcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyZXNldCc6XG4gICAgICAgIERpYWxvZy5jb25maXJtKHtcbiAgICAgICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvbmZpcm1SZXNldENoYXNlJyl9YCxcbiAgICAgICAgICBjb250ZW50OiBgPHA+JHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29uZmlybVJlc2V0Q2hhc2VIaW50Jyl9PC9wPmAsXG4gICAgICAgICAgeWVzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlTG9jYXRpb25zTGlzdChbXSlcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaXRlbS5zdG9wKClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2N1dDJjaGFzZSc6XG4gICAgICAgIGlmICh0aGlzLml0ZW0uYWxsSGF2ZVNwZWVkUm9sbCkge1xuICAgICAgICAgIERpYWxvZy5jb25maXJtKHtcbiAgICAgICAgICAgIHRpdGxlOiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ29uZmlybUN1dDJDaGFzZScpfWAsXG4gICAgICAgICAgICBjb250ZW50OiBgPHA+JHtnYW1lLmkxOG4ubG9jYWxpemUoXG4gICAgICAgICAgICAgICdDb0M3LkNvbmZpcm1DdXQyQ2hhc2VIaW50J1xuICAgICAgICAgICAgKX08L3A+YCxcbiAgICAgICAgICAgIHllczogKCkgPT4gdGhpcy5pdGVtLmN1dFRvVGhlQ2hhc2UoKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Ob3RBbGxIYXZlU3BlZWRSb2xsJykpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAncmVzdGFydCc6XG4gICAgICAgIERpYWxvZy5jb25maXJtKHtcbiAgICAgICAgICB0aXRsZTogYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkNvbmZpcm1SZXN0YXJ0Q2hhc2UnKX1gLFxuICAgICAgICAgIGNvbnRlbnQ6IGA8cD4ke2dhbWUuaTE4bi5sb2NhbGl6ZShcbiAgICAgICAgICAgICdDb0M3LkNvbmZpcm1SZXN0YXJ0Q2hhc2VIaW50J1xuICAgICAgICAgICl9PC9wPmAsXG4gICAgICAgICAgeWVzOiAoKSA9PiB0aGlzLml0ZW0ucmVzdGFydCgpXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ25leHRSb3VuZCc6XG4gICAgICAgIGlmICh0aGlzLml0ZW0ubmV4dEFjdGl2ZVBhcnRpY2lwYW50KSB7XG4gICAgICAgICAgRGlhbG9nLmNvbmZpcm0oe1xuICAgICAgICAgICAgdGl0bGU6IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db25maXJtTmV4dENoYXNlUm91bmQnKX1gLFxuICAgICAgICAgICAgY29udGVudDogYDxwPiR7Z2FtZS5pMThuLmxvY2FsaXplKFxuICAgICAgICAgICAgICAnQ29DNy5Db25maXJtTmV4dENoYXNlUm91bmRIaW50J1xuICAgICAgICAgICAgKX08L3A+YCxcbiAgICAgICAgICAgIHllczogKCkgPT4gdGhpcy5pdGVtLnByb2dyZXNzVG9OZXh0Um91bmQoKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB0aGlzLml0ZW0ucHJvZ3Jlc3NUb05leHRSb3VuZCgpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgX2NhblBpbkxvY2F0aW9uRHJhZ1N0YXJ0IChzZWxlY3Rvcikge1xuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGFzeW5jIF9vblBpbkxvY2F0aW9uRHJhZ1N0YXJ0IChldmVudCkge1xuICAgIGNvbnN0IGEgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgaSA9IGEucXVlcnlTZWxlY3RvcignaS5pY29uJylcbiAgICBjb25zdCBkcmFnSWNvbiA9IGEucXVlcnlTZWxlY3RvcignLnBpbi1pbWFnZScpXG5cbiAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGRyYWdJY29uLCAwLCBkcmFnSWNvbi5oZWlnaHQpXG5cbiAgICBjb25zdCBsb2NhdGlvbkVsZW1lbnQgPSBhLmNsb3Nlc3QoJy5jaGFzZS1sb2NhdGlvbicpXG4gICAgY29uc3QgZGF0YSA9IHt9XG5cbiAgICBkYXRhLnR5cGUgPSAnbG9jYXRvcidcbiAgICBkYXRhLkNvQzdUeXBlID0gJ2NoYXNlJ1xuICAgIGRhdGEuaWNvbiA9IGkuZGF0YXNldC5saW5rSWNvblxuICAgIGRhdGEubG9jYXRpb25VdWlkID0gbG9jYXRpb25FbGVtZW50LmRhdGFzZXQudXVpZFxuICAgIGRhdGEuZG9jVXVpZCA9IHRoaXMuaXRlbS51dWlkXG4gICAgZGF0YS5jYWxsQmFjayA9ICdsb2NhdG9yRHJvcHBlZCdcbiAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuXG4gICAgLy8gY29uc3QgZHJhZ0RhdGEgPSB7IHV1aWQ6IGxvY2F0aW9uRWxlbWVudC5kYXRhc2V0LnV1aWQsIGNoYXNlVXVpZDogdGhpcy5pdGVtLnV1aWQgfVxuICAgIC8vIGRyYWdFdmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIEpTT04uc3RyaW5naWZ5KGRyYWdEYXRhKSlcbiAgfVxuXG4gIF9jYW5DaGFzZVBhcnRpY2lwYW50RHJhZ1N0YXJ0IChzZWxlY3Rvcikge1xuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIF9jYW5DaGFzZVBhcnRpY2lwYW50RHJhZ0Ryb3AgKHNlbGVjdG9yKSB7XG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgYXN5bmMgX29uQ2hhc2VQYXJ0aWNpcGFudERyYWdTdGFydCAoZHJhZ0V2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZHJhZ0V2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBkcmFnRGF0YSA9IHsgdXVpZDogdGFyZ2V0LmRhdGFzZXQudXVpZCwgdHlwZTogJ3BhcnRpY2lwYW50JyB9XG4gICAgZHJhZ0V2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgSlNPTi5zdHJpbmdpZnkoZHJhZ0RhdGEpKVxuICB9XG5cbiAgYXN5bmMgX29uQ2hhc2VQYXJ0aWNpcGFudERyYWdEcm9wIChkcmFnRXZlbnQpIHtcbiAgICBjb25zdCBkYXRhU3RyaW5nID0gZHJhZ0V2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJylcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKVxuXG4gICAgLy8gdWkubm90aWZpY2F0aW9ucy5pbmZvKCdEcm9wcGVkJylcbiAgICB0aGlzLl9vbkRyYWdMZWF2ZShkcmFnRXZlbnQpXG5cbiAgICBjb25zdCB0YXJnZXQgPSBkcmFnRXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGxvY2F0aW9uVXVpZCA9IHRhcmdldC5kYXRhc2V0LnV1aWRcblxuICAgIGlmIChkYXRhLnR5cGUgPT09ICdwYXJ0aWNpcGFudCcpIHtcbiAgICAgIGNvbnN0IG9sZExvY2F0aW9uID0gdGhpcy5maW5kTG9jYXRpb24obG9jYXRpb25VdWlkKVxuICAgICAgaWYgKG9sZExvY2F0aW9uKSB7XG4gICAgICAgIGlmIChvbGRMb2NhdGlvbi5wYXJ0aWNpcGFudHM/LmluY2x1ZGVzKGRhdGEudXVpZCkpIHJldHVyblxuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5pdGVtLnNldGNoYXNlVHJhY2tTY3JvbGwoeyByZW5kZXI6IGZhbHNlIH0pXG4gICAgICBhd2FpdCB0aGlzLml0ZW0ubW92ZVBhcnRpY2lwYW50VG9Mb2NhdGlvbihkYXRhLnV1aWQsIGxvY2F0aW9uVXVpZClcbiAgICB9IGVsc2Uge1xuICAgICAgQ29DN0NoYXNlUGFydGljaXBhbnRJbXBvcnRlci5jcmVhdGUoe1xuICAgICAgICBjaGFzZVV1aWQ6IHRoaXMuaXRlbS51dWlkLFxuICAgICAgICBsb2NhdGlvblV1aWQsXG4gICAgICAgIGRyb3BEYXRhOiBkYXRhXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIF9vbkRyYWdPdmVyIChkcmFnRXZlbnQpIHtcbiAgICB0aGlzLl9vbkRyYWdFbnRlcihkcmFnRXZlbnQpXG4gIH1cblxuICBfb25EcmFnRW50ZXIgKGRyYWdFdmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGRyYWdFdmVudC5jdXJyZW50VGFyZ2V0XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2RyYWctb3ZlcicpXG4gIH1cblxuICBfb25EcmFnTGVhdmUgKGRyYWdFdmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGRyYWdFdmVudC5jdXJyZW50VGFyZ2V0XG4gICAgdGFyZ2V0LmNsYXNzTGlzdD8ucmVtb3ZlKCdkcmFnLW92ZXInKVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcFBhcnRpY2lwYW50IChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCB1dWlkID0gdGFyZ2V0LmRhdGFzZXQ/LnV1aWRcbiAgICBjb25zdCBkYXRhU3RyaW5nID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKVxuICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpXG4gICAgYXdhaXQgdGhpcy5hbHRlclBhcnRpY2lwYW50KGRhdGEsIHV1aWQpXG4gIH1cblxuICBhc3luYyBfb25BZGRQYXJ0aWNpcGFudCAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgZGF0YSA9IHsgY2hhc2VVdWlkOiB0aGlzLml0ZW0udXVpZCB9XG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgICAgY29uc3QgZGF0YVN0cmluZyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJylcbiAgICAgIGRhdGEuZHJvcERhdGEgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpXG4gICAgfVxuICAgIENvQzdDaGFzZVBhcnRpY2lwYW50SW1wb3J0ZXIuY3JlYXRlKGRhdGEpXG4gIH1cblxuICBhc3luYyBfb25Sb2xsUGFydGljaXBhbnQgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHBhcnRpY2lwYW50RWxlbWVudCA9IHRhcmdldC5jbG9zZXN0KCcucGFydGljaXBhbnQnKVxuICAgIGNvbnN0IHV1aWQgPSBwYXJ0aWNpcGFudEVsZW1lbnQuZGF0YXNldC51dWlkXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEluZGV4KHV1aWQpXG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKVxuICAgICAgOiBbXVxuXG4gICAgY29uc3QgcGFydGljaXBhbnQgPSBuZXcgX3BhcnRpY2lwYW50KHBhcnRpY2lwYW50c1tpbmRleF0pXG4gICAgaWYgKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmU2V0KSB7XG4gICAgICBjb25zdCByb2xsID0gbmV3IENvQzdDaGVjaygpXG4gICAgICByb2xsLnBhcmVudCA9IHRoaXMuaXRlbS51dWlkXG4gICAgICBwYXJ0aWNpcGFudC5kYXRhLnJvbGxlZCA9IHRydWVcbiAgICAgIHBhcnRpY2lwYW50LmRhdGEucm9sbFV1aWQgPSByb2xsLnV1aWRcbiAgICAgIHJvbGwuYWN0b3IgPSBwYXJ0aWNpcGFudC5hY3Rvci5hY3RvcktleVxuICAgICAgaWYgKCFldmVudC5zaGlmdEtleSAmJiBwYXJ0aWNpcGFudC5hY3Rvci5wbGF5ZXIpIHtcbiAgICAgICAgcm9sbC5zdGFuZGJ5ID0gdHJ1ZVxuICAgICAgICByb2xsLnN0YW5kYnlUZXh0ID0gJ0NvQzcuQ2hhc2UnXG4gICAgICAgIHJvbGwuc3RhbmRieVJpZ2h0SWNvbiA9ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3J1bm5pbmctc29saWQuc3ZnJ1xuICAgICAgfVxuXG4gICAgICBpZiAocGFydGljaXBhbnQuc3BlZWRDaGVjay5pc0NoYXJhY3RlcmlzdGljKSB7XG4gICAgICAgIGF3YWl0IHJvbGwucm9sbENoYXJhY3RlcmlzdGljKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmLmtleSlcbiAgICAgICAgYXdhaXQgcm9sbC50b01lc3NhZ2UoKVxuICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcgPSByb2xsLkpTT05Sb2xsU3RyaW5nXG4gICAgICB9IGVsc2UgaWYgKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2suaXNTa2lsbCkge1xuICAgICAgICByb2xsLnNraWxsID0gcGFydGljaXBhbnQuc3BlZWRDaGVjay5yZWZcbiAgICAgICAgYXdhaXQgcm9sbC5yb2xsKClcbiAgICAgICAgYXdhaXQgcm9sbC50b01lc3NhZ2UoKVxuICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcgPSByb2xsLkpTT05Sb2xsU3RyaW5nXG4gICAgICB9IGVsc2UgaWYgKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2suaXNBdHRyaWJ1dGUpIHtcbiAgICAgICAgYXdhaXQgcm9sbC5yb2xsQXR0cmlidXRlKHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sucmVmLmtleSlcbiAgICAgICAgYXdhaXQgcm9sbC50b01lc3NhZ2UoKVxuICAgICAgICBwYXJ0aWNpcGFudC5kYXRhLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmcgPSByb2xsLkpTT05Sb2xsU3RyaW5nXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJ0aWNpcGFudC5zcGVlZENoZWNrLnNjb3JlKSB7XG4gICAgICBjb25zdCByb2xsRGF0YSA9IHtcbiAgICAgICAgcmF3VmFsdWU6IHBhcnRpY2lwYW50LnNwZWVkQ2hlY2suc2NvcmUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBwYXJ0aWNpcGFudC5zcGVlZENoZWNrLm5hbWUsXG4gICAgICAgIGFjdG9yTmFtZTogcGFydGljaXBhbnQubmFtZSA/IHBhcnRpY2lwYW50Lm5hbWUgOiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0aWNpcGFudC5oYXNBY3Rvcikgcm9sbERhdGEuYWN0b3IgPSBwYXJ0aWNpcGFudC5hY3Rvci5hY3RvcktleVxuICAgICAgY29uc3Qgcm9sbCA9IENvQzdDaGVjay5jcmVhdGUocm9sbERhdGEpXG4gICAgICByb2xsLnBhcmVudCA9IHRoaXMuaXRlbS51dWlkXG4gICAgICBhd2FpdCByb2xsLnJvbGwoKVxuICAgICAgYXdhaXQgcm9sbC50b01lc3NhZ2UoKVxuICAgICAgcGFydGljaXBhbnQuZGF0YS5zcGVlZENoZWNrLnJvbGxEYXRhU3RyaW5nID0gcm9sbC5KU09OUm9sbFN0cmluZ1xuICAgICAgcGFydGljaXBhbnQuZGF0YS5yb2xsZWQgPSB0cnVlXG4gICAgICBwYXJ0aWNpcGFudC5kYXRhLnJvbGxVdWlkID0gcm9sbC51dWlkXG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdkYXRhLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50cyB9KVxuICB9XG5cbiAgX29uRHJhZ0VudGVyUGFydGljaXBhbnQgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnLW92ZXInKVxuICB9XG5cbiAgX29uRHJhZ0xlYXZlUGFydGljaXBhbnQgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnLW92ZXInKVxuICB9XG5cbiAgYXN5bmMgX29uQ2hhbmdlU2lkZSAoZXZlbnQpIHtcbiAgICAvLyBjb25zdCB0ZXN0ID0gYXdhaXQgZnJvbVV1aWQoICdTY2VuZS53aDdTTHV2SU9wY1F5YjhTLlRva2VuLm5DZG9DeW9pdWR0anJOa3UnKTtcbiAgICAvLyBjb25zdCBpdGVtVGVzdCA9IGF3YWl0IGZyb21VdWlkKCAnSXRlbS5wbElFbU5SUDZPN1B2ZU52LnJvbGwucTJzQXpzSHQ0RnNxc2RmRCcpO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5wYXJ0aWNpcGFudCcpXG4gICAgY29uc3QgdXVpZCA9IHBhcnRpY2lwYW50LmRhdGFzZXQudXVpZFxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kUGFydGljaXBhbnRJbmRleCh1dWlkKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cbiAgICBwYXJ0aWNpcGFudHNbaW5kZXhdLmNoYXNlciA9ICFwYXJ0aWNpcGFudHNbaW5kZXhdLmNoYXNlclxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnZGF0YS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHMgfSlcbiAgfVxuXG4gIGFzeW5jIF9vbkRlbGV0ZURyaXZlciAoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgZHJpdmVyID0gdGFyZ2V0LmNsb3Nlc3QoJy5kcml2ZXInKVxuICAgIGNvbnN0IHV1aWQgPSBkcml2ZXIuZGF0YXNldC51dWlkXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEluZGV4KHV1aWQpXG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKVxuICAgICAgOiBbXVxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gcGFydGljaXBhbnRzW2luZGV4XVxuICAgIGRlbGV0ZSBwYXJ0aWNpcGFudC5kb2NVdWlkXG4gICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7ICdkYXRhLnBhcnRpY2lwYW50cyc6IHBhcnRpY2lwYW50cyB9KVxuICB9XG5cbiAgYXN5bmMgX29uRGVsZXRlUGFydGljaXBhbnQgKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5wYXJ0aWNpcGFudCcpXG4gICAgY29uc3QgdXVpZCA9IHBhcnRpY2lwYW50LmRhdGFzZXQudXVpZFxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kUGFydGljaXBhbnRJbmRleCh1dWlkKVxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cbiAgICBwYXJ0aWNpcGFudHMuc3BsaWNlKGluZGV4LCAxKVxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnZGF0YS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHMgfSlcbiAgfVxuXG4gIGFzeW5jIF9vblJlc2V0Um9sbCAoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0YXJnZXQuY2xvc2VzdCgnLnBhcnRpY2lwYW50JylcbiAgICBjb25zdCB1dWlkID0gcGFydGljaXBhbnQuZGF0YXNldC51dWlkXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEluZGV4KHV1aWQpXG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHNcbiAgICAgID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzKVxuICAgICAgOiBbXVxuICAgIGRlbGV0ZSBwYXJ0aWNpcGFudHNbaW5kZXhdLnNwZWVkQ2hlY2sucm9sbERhdGFTdHJpbmdcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ2RhdGEucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzIH0pXG4gIH1cblxuICBhc3luYyBhbHRlclBhcnRpY2lwYW50IChkYXRhLCB1dWlkKSB7XG4gICAgbGV0IGRvY1V1aWQsIGFjdG9yXG4gICAgaWYgKGRhdGEudG9rZW5VdWlkKSBkb2NVdWlkID0gZGF0YS50b2tlblV1aWRcbiAgICBlbHNlIHtcbiAgICAgIGRvY1V1aWQgPVxuICAgICAgICBkYXRhLnNjZW5lSWQgJiYgZGF0YS50b2tlbklkXG4gICAgICAgICAgPyBgU2NlbmUuJHtkYXRhLnNjZW5lSWR9LlRva2VuLiR7ZGF0YS50b2tlbklkfWBcbiAgICAgICAgICA6IGRhdGEuYWN0b3JJZCB8fCBkYXRhLmFjdG9yS2V5IHx8IGRhdGEuaWRcbiAgICB9XG5cbiAgICBpZiAoZGF0YS50eXBlID09PSAnVG9rZW4nKSB7XG4gICAgICBkb2NVdWlkID0gZGF0YS51dWlkXG4gICAgfSBlbHNlIGlmIChkb2NVdWlkKSB7XG4gICAgICBhY3RvciA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KGRvY1V1aWQpXG4gICAgICBpZiAoIWFjdG9yICYmIGRhdGEudHlwZSA9PT0gJ0l0ZW0nKSBkb2NVdWlkID0gbnVsbFxuICAgIH1cblxuICAgIGlmIChhY3RvciAmJiBkb2NVdWlkICE9PSBhY3Rvci51dWlkKSB7XG4gICAgICBkb2NVdWlkID0gYWN0b3IudXVpZFxuICAgIH1cblxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0ge31cbiAgICBpZiAoZG9jVXVpZCkgcGFydGljaXBhbnQuZG9jVXVpZCA9IGRvY1V1aWRcblxuICAgIHN3aXRjaCAoZGF0YS50eXBlPy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlICdhY3Rvcic6XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdpdGVtJzpcbiAgICAgICAgcGFydGljaXBhbnQuc3BlZWRDaGVjayA9IHtcbiAgICAgICAgICBpZDogZGF0YS5kYXRhPy5faWQgfHwgZGF0YS5pZCxcbiAgICAgICAgICB0eXBlOiAnaXRlbSdcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY2hhcmFjdGVyaXN0aWMnOlxuICAgICAgICBwYXJ0aWNpcGFudC5zcGVlZENoZWNrID0ge1xuICAgICAgICAgIGlkOiBkYXRhLm5hbWUsXG4gICAgICAgICAgdHlwZTogJ2NoYXJhY3RlcmlzdGljJ1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdhdHRyaWJ1dGUnOlxuICAgICAgICBwYXJ0aWNpcGFudC5zcGVlZENoZWNrID0ge1xuICAgICAgICAgIGlkOiBkYXRhLm5hbWUsXG4gICAgICAgICAgdHlwZTogJ2F0dHJpYnV0ZSdcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIC8vIFRPRE86Q2hlY2sgZm9yIHNwZWVkIGNoZWNrLCBpZiBub25lIGFkZCBzcGVlZGNoZWNrXG4gICAgLy8gc3BlZWRDaGVjayA9IHtcbiAgICAvLyAgIGlkOiAnc3RyJ1xuICAgIC8vICAgdHlwZTogJ2NoYXJhY3RlcmlzdGljJ1xuICAgIC8vIH1cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEluZGV4KHV1aWQpXG4gICAgY29uc3Qgb2xkUGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudHNbaW5kZXhdXG4gICAgaWYgKG9sZFBhcnRpY2lwYW50Lm1vdikgZGVsZXRlIG9sZFBhcnRpY2lwYW50Lm1vdlxuICAgIG1lcmdlT2JqZWN0KG9sZFBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudClcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ2RhdGEucGFydGljaXBhbnRzJzogcGFydGljaXBhbnRzIH0pXG4gIH1cblxuICBhc3luYyBjbGVhckFjdGl2ZUxvY2F0aW9uQ29vcmRpbmF0ZXMgKCkge1xuICAgIGF3YWl0IHRoaXMuaXRlbS5jbGVhckFjdGl2ZUxvY2F0aW9uQ29vcmRpbmF0ZXMoKVxuICB9XG5cbiAgYXN5bmMgYWRkUGFydGljaXBhbnQgKGRhdGEpIHtcbiAgICAvLyBsZXQgcHJvdXQgPSBjaGF0SGVscGVyLmdldEFjdG9yRnJvbUtleShcbiAgICAvLyAgICdTY2VuZS53aDdTTHV2SU9wY1F5YjhTLlRva2VuLlF5RlRpaUVaaVg5dlRmaUMnXG4gICAgLy8gKVxuICAgIC8vIHByb3V0ID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoXG4gICAgLy8gICAnU2NlbmUud2g3U0x1dklPcGNReWI4Uy5Ub2tlbi51Ykx6aGU1N0pPVEhNSXI5J1xuICAgIC8vIClcbiAgICAvLyBwcm91dCA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JGcm9tS2V5KCdBY3Rvci51aVkzY2FwU1VlTEx2U0xpJylcbiAgICAvLyBwcm91dCA9IENvQzdVdGlsaXRpZXMuZ2V0RG9jdW1lbnRGcm9tS2V5KCAnU2NlbmUud2g3U0x1dklPcGNReWI4Uy5Ub2tlbi5ReUZUaWlFWmlYOXZUZmlDLkl0ZW0uR3JPSGVMWGZlRXBoc1JNWicpXG4gICAgLy8gcHJvdXQgPSBDb0M3VXRpbGl0aWVzLmdldERvY3VtZW50RnJvbUtleSggXCJTY2VuZS53aDdTTHV2SU9wY1F5YjhTLlRva2VuLllxc05RUERoRkNQbFNScUpcIilcbiAgICAvLyBwcm91dCA9IENvQzdVdGlsaXRpZXMuZ2V0RG9jdW1lbnRGcm9tS2V5KCBcIlNjZW5lLndoN1NMdXZJT3BjUXliOFMuVG9rZW4uWXFzTlFQRGhGQ1BsU1JxSi5JdGVtLjhKRW5UakpPR0ZYbWw0d2tcIilcblxuICAgIC8vIHRyeSB0byBmaW5kIGEgdmFsaWQgZG9jdW1lbnRcbiAgICBsZXQgZG9jVXVpZCwgYWN0b3JcbiAgICBpZiAoZGF0YS50b2tlblV1aWQpIGRvY1V1aWQgPSBkYXRhLnRva2VuVXVpZFxuICAgIGVsc2Uge1xuICAgICAgZG9jVXVpZCA9XG4gICAgICAgIGRhdGEuc2NlbmVJZCAmJiBkYXRhLnRva2VuSWRcbiAgICAgICAgICA/IGBTY2VuZS4ke2RhdGEuc2NlbmVJZH0uVG9rZW4uJHtkYXRhLnRva2VuSWR9YFxuICAgICAgICAgIDogZGF0YS5hY3RvcklkIHx8IGRhdGEuYWN0b3JLZXkgfHwgZGF0YS5pZFxuICAgIH1cblxuICAgIGlmIChkYXRhLnR5cGUgPT09ICdUb2tlbicpIHtcbiAgICAgIGRvY1V1aWQgPSBkYXRhLnV1aWRcbiAgICB9IGVsc2UgaWYgKGRvY1V1aWQpIHtcbiAgICAgIGFjdG9yID0gY2hhdEhlbHBlci5nZXRBY3RvckZyb21LZXkoZG9jVXVpZClcbiAgICAgIGlmICghYWN0b3IgJiYgZGF0YS50eXBlID09PSAnSXRlbScpIGRvY1V1aWQgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKGFjdG9yICYmIGRvY1V1aWQgIT09IGFjdG9yLnV1aWQpIHtcbiAgICAgIGRvY1V1aWQgPSBhY3Rvci51dWlkXG4gICAgfVxuXG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB7fVxuICAgIGlmIChkb2NVdWlkKSBwYXJ0aWNpcGFudC5kb2NVdWlkID0gZG9jVXVpZFxuXG4gICAgc3dpdGNoIChkYXRhLnR5cGU/LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgJ2FjdG9yJzpcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2l0ZW0nOlxuICAgICAgICBpZiAoZGF0YS5pZCkge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBnYW1lLml0ZW1zLmdldChkYXRhLmlkKVxuICAgICAgICAgIGlmIChpdGVtPy5kYXRhPy50eXBlICE9PSAnc2tpbGwnKSByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sgPSB7XG4gICAgICAgICAgaWQ6IGRhdGEuZGF0YT8uX2lkIHx8IGRhdGEuaWQsXG4gICAgICAgICAgdHlwZTogJ2l0ZW0nXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NoYXJhY3RlcmlzdGljJzpcbiAgICAgICAgcGFydGljaXBhbnQuc3BlZWRDaGVjayA9IHtcbiAgICAgICAgICBpZDogZGF0YS5uYW1lLFxuICAgICAgICAgIHR5cGU6ICdjaGFyYWN0ZXJpc3RpYydcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYXR0cmlidXRlJzpcbiAgICAgICAgcGFydGljaXBhbnQuc3BlZWRDaGVjayA9IHtcbiAgICAgICAgICBpZDogZGF0YS5uYW1lLFxuICAgICAgICAgIHR5cGU6ICdhdHRyaWJ1dGUnXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICAvLyBUT0RPOkNoZWNrIGZvciBzcGVlZCBjaGVjaywgaWYgbm9uZSBhZGQgc3BlZWRjaGVjayBjb24gbm9uIHZlaGljbGUsIGRyaXZlIGF1dG8gZm9yIHZlaGljbGVcbiAgICAvLyBzcGVlZENoZWNrID0ge1xuICAgIC8vICAgaWQ6ICdjb24nXG4gICAgLy8gICB0eXBlOiAnY2hhcmFjdGVyaXN0aWMnXG4gICAgLy8gfVxuXG4gICAgaWYgKCFwYXJ0aWNpcGFudC5zcGVlZENoZWNrKSB7XG4gICAgICBpZiAoIXRoaXMuaXRlbS5zeXN0ZW0udmVoaWNsZSkge1xuICAgICAgICBwYXJ0aWNpcGFudC5zcGVlZENoZWNrID0ge1xuICAgICAgICAgIGlkOiAnY29uJyxcbiAgICAgICAgICB0eXBlOiAnY2hhcmFjdGVyaXN0aWMnLFxuICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ0hBUkFDLkNvbnN0aXR1dGlvbicpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnRpY2lwYW50LnNwZWVkQ2hlY2sgPSB7XG4gICAgICAgICAgdHlwZTogJ2l0ZW0nLFxuICAgICAgICAgIG5hbWU6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Db0NJREZsYWcua2V5cy5pLnNraWxsLmRyaXZlLWF1dG8nKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuaXRlbS5zeXN0ZW0ucGFydGljaXBhbnRzXG4gICAgICA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50cylcbiAgICAgIDogW11cblxuICAgIGxldCB1bmlxdWUgPSBmYWxzZVxuICAgIHdoaWxlICghdW5pcXVlKSB7XG4gICAgICBwYXJ0aWNpcGFudC51dWlkID0gZm91bmRyeS51dGlscy5yYW5kb21JRCgxNilcbiAgICAgIHVuaXF1ZSA9XG4gICAgICAgIHBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiBwLnV1aWQgPT09IHBhcnRpY2lwYW50LnV1aWQpLmxlbmd0aCA9PT0gMFxuICAgIH1cblxuICAgIHBhcnRpY2lwYW50cy5wdXNoKHBhcnRpY2lwYW50KVxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnZGF0YS5wYXJ0aWNpcGFudHMnOiBwYXJ0aWNpcGFudHMgfSlcbiAgfVxuXG4gIGFzeW5jIHRvZ2dsZVBhcnRpY2lwYW50R3VuIChwYXJ0aWNpcGFudFV1aWQpIHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLml0ZW0uc3lzdGVtLnBhcnRpY2lwYW50c1xuICAgICAgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5wYXJ0aWNpcGFudHMpXG4gICAgICA6IFtdXG4gICAgY29uc3QgcGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudHMuZmluZChwID0+IHBhcnRpY2lwYW50VXVpZCA9PT0gcC51dWlkKVxuICAgIGlmICghcGFydGljaXBhbnQpIHJldHVyblxuICAgIHBhcnRpY2lwYW50Lmhhc0FHdW5SZWFkeSA9ICFwYXJ0aWNpcGFudC5oYXNBR3VuUmVhZHlcbiAgICBhd2FpdCB0aGlzLml0ZW0uc2V0Y2hhc2VUcmFja1Njcm9sbCh7IHJlbmRlcjogZmFsc2UgfSlcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlUGFydGljaXBhbnRzKHBhcnRpY2lwYW50cylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW4gKG9iaikge1xuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIG9iaikge1xuICAgIGNvbnN0IHRwID0gZ2V0VHlwZShvYmpbcHJvcE5hbWVdKVxuICAgIGlmICh0cCA9PT0gJ09iamVjdCcpIHtcbiAgICAgIG9ialtwcm9wTmFtZV0gPSBjbGVhbihvYmpbcHJvcE5hbWVdKVxuICAgIH1cblxuICAgIGlmICh0cCA9PT0gJ09iamVjdCcgJiYgIU9iamVjdC5lbnRyaWVzKG9ialtwcm9wTmFtZV0pLmxlbmd0aCkge1xuICAgICAgb2JqW3Byb3BOYW1lXSA9IG51bGxcbiAgICB9IGVsc2UgaWYgKHRwID09PSAnc3RyaW5nJyAmJiAhb2JqW3Byb3BOYW1lXS5sZW5ndGgpIHtcbiAgICAgIG9ialtwcm9wTmFtZV0gPSBudWxsXG4gICAgfSBlbHNlIGlmICh0cCA9PT0gJ3N0cmluZycgJiYgIWlzTmFOKE51bWJlcihvYmpbcHJvcE5hbWVdKSkpIHtcbiAgICAgIG9ialtwcm9wTmFtZV0gPSBOdW1iZXIob2JqW3Byb3BOYW1lXSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9ialxufVxuIiwiLyogZ2xvYmFsIGdhbWUsIEl0ZW1TaGVldCwgbWVyZ2VPYmplY3QsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi8uLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5pbXBvcnQgQ29DN0FjdGl2ZUVmZmVjdCBmcm9tICcuLi8uLi9hY3RpdmUtZWZmZWN0LmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgSXRlbVNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3SXRlbVNoZWV0VjIgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICAvKipcbiAgICogRXh0ZW5kIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIFNpbXBsZSBJdGVtIFNoZWV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldFYyJywgJ2l0ZW0nXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9pdGVtLXNoZWV0VjIuaHRtbCcsXG4gICAgICB3aWR0aDogNTAwLFxuICAgICAgaGVpZ2h0OiA0NTAsXG4gICAgICBzY3JvbGxZOiBbJy50YWIuZGVzY3JpcHRpb24nXSxcbiAgICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnNoZWV0LW5hdmlnYXRpb24nLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnZGVzY3JpcHRpb24nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgX2dldEhlYWRlckJ1dHRvbnMgKCkge1xuICAgIGNvbnN0IGhlYWRlckJ1dHRvbnMgPSBzdXBlci5fZ2V0SGVhZGVyQnV0dG9ucygpXG4gICAgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbihoZWFkZXJCdXR0b25zLCB0aGlzKVxuICAgIHJldHVybiBoZWFkZXJCdXR0b25zXG4gIH1cblxuICAvKipcbiAgICogUHJlcGFyZSBkYXRhIGZvciByZW5kZXJpbmcgdGhlIEl0ZW0gc2hlZXRcbiAgICogVGhlIHByZXBhcmVkIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGJvdGggdGhlIGFjdG9yIGRhdGEgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIHNoZWV0IG9wdGlvbnNcbiAgICovXG4gIGdldERhdGEgKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEob3B0aW9ucylcblxuICAgIHNoZWV0RGF0YS5lZmZlY3RzID0gQ29DN0FjdGl2ZUVmZmVjdC5wcmVwYXJlQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyh0aGlzLml0ZW0uZWZmZWN0cywgeyBzdGF0dXM6IGZhbHNlIH0pXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgcHJlcGFyZWQgc2hlZXQgSFRNTFxuICAgKiBAcGFyYW0gaHRtbCB7SFRNTH0gICBUaGUgcHJlcGFyZWQgSFRNTCBvYmplY3QgcmVhZHkgdG8gYmUgcmVuZGVyZWQgaW50byB0aGUgRE9NXG4gICAqL1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG4gICAgLy8gRXZlcnl0aGluZyBiZWxvdyBoZXJlIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBzaGVldCBpcyBlZGl0YWJsZVxuICAgIGlmICghdGhpcy5vcHRpb25zLmVkaXRhYmxlKSByZXR1cm5cblxuICAgIGh0bWxcbiAgICAgIC5maW5kKCcuZWZmZWN0LWNvbnRyb2wnKVxuICAgICAgLmNsaWNrKGV2ID0+IENvQzdBY3RpdmVFZmZlY3Qub25NYW5hZ2VBY3RpdmVFZmZlY3QoZXYsIHRoaXMuaXRlbSkpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBtZXJnZU9iamVjdCAqL1xuXG5pbXBvcnQgeyBDb0M3SXRlbVNoZWV0VjIgfSBmcm9tICcuL2l0ZW0tc2hlZXRWMi5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQ29DN0l0ZW1TaGVldCBleHRlbmRzIENvQzdJdGVtU2hlZXRWMiB7XG4gIC8qKlxuICAgKiBFeHRlbmQgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgU2ltcGxlIEl0ZW0gU2hlZXRcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgd2lkdGg6IDUyNSxcbiAgICAgIGhlaWdodDogNTA2XG4gICAgfSlcbiAgfVxufVxuIiwiLyogZ2xvYmFsIEpvdXJuYWxTaGVldCAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdKb3VybmFsU2hlZXQgZXh0ZW5kcyBKb3VybmFsU2hlZXQge1xuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxufVxuIiwiLyogZ2xvYmFsIE1hY3JvQ29uZmlnICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN01hY3JvQ29uZmlnIGV4dGVuZHMgTWFjcm9Db25maWcge1xuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxufVxuIiwiLyogZ2xvYmFsIFBsYXlsaXN0Q29uZmlnICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1BsYXlsaXN0Q29uZmlnIGV4dGVuZHMgUGxheWxpc3RDb25maWcge1xuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxufVxuIiwiLyogZ2xvYmFsIFJvbGxUYWJsZUNvbmZpZyAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcblxuZXhwb3J0IGNsYXNzIENvQzdSb2xsVGFibGVDb25maWcgZXh0ZW5kcyBSb2xsVGFibGVDb25maWcge1xuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxufVxuIiwiLyogZ2xvYmFsIFNjZW5lQ29uZmlnICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1NjZW5lQ29uZmlnIGV4dGVuZHMgU2NlbmVDb25maWcge1xuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIGR1cGxpY2F0ZSwgZXhwYW5kT2JqZWN0LCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbS5qcydcbmltcG9ydCB7IENvQzdVdGlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMuanMnXG5pbXBvcnQgeyBEcm9wQ29DSUQgfSBmcm9tICcuLi8uLi9hcHBzL2Ryb3AtY29jLWlkLmpzJ1xuaW1wb3J0IHsgaXNDdHJsS2V5IH0gZnJvbSAnLi4vLi4vY2hhdC9oZWxwZXIuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBJdGVtU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdTZXR1cFNoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgLyoqXG4gICAqIEFjdGl2YXRlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgcHJlcGFyZWQgc2hlZXQgSFRNTFxuICAgKiBAcGFyYW0gaHRtbCB7SFRNTH0gICBUaGUgcHJlcGFyZWQgSFRNTCBvYmplY3QgcmVhZHkgdG8gYmUgcmVuZGVyZWQgaW50byB0aGUgRE9NXG4gICAqL1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lZGl0YWJsZSkgcmV0dXJuXG5cbiAgICBodG1sLmZpbmQoJy5pdGVtIC5pdGVtLW5hbWUgaDQnKS5jbGljayhldmVudCA9PiB0aGlzLl9vbkl0ZW1TdW1tYXJ5KGV2ZW50LCAnaXRlbXMnKSlcbiAgICBodG1sLmZpbmQoJy5pdGVtLWRlbGV0ZScpLmNsaWNrKGV2ZW50ID0+IHRoaXMuX29uSXRlbURlbGV0ZShldmVudCwgJ2l0ZW1zJykpXG4gICAgaHRtbC5maW5kKCcuYWRkLWJpbycpLmNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuX29uQWRkQmlvKCkpXG4gICAgaHRtbC5maW5kKCcucmVtb3ZlLXNlY3Rpb24nKS5jbGljayh0aGlzLl9vblJlbW92ZVNlY3Rpb24uYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy50b2dnbGUtc3dpdGNoJykuY2xpY2sodGhpcy5fb25DbGlja1RvZ2dsZS5iaW5kKHRoaXMpKVxuICAgIGh0bWwuZmluZCgnLmFkZC1tb25ldGFyeScpLmNsaWNrKHRoaXMuX29uQWRkTW9uZXRhcnkuYmluZCh0aGlzKSlcbiAgICBodG1sLmZpbmQoJy5yZW1vdmUtbW9uZXRhcnknKS5jbGljayh0aGlzLl9vblJlbW92ZU1vbmV0YXJ5LmJpbmQodGhpcykpXG4gIH1cblxuICBhc3luYyBfb25DbGlja1RvZ2dsZSAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgcHJvcGVydHlJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wcm9wZXJ0eVxuICAgIGF3YWl0IHRoaXMuaXRlbS50b2dnbGVQcm9wZXJ0eShcbiAgICAgIHByb3BlcnR5SWQsXG4gICAgICBpc0N0cmxLZXkoZXZlbnQpXG4gICAgKVxuICB9XG5cbiAgYXN5bmMgX29uRHJvcCAoZXZlbnQsIGNvbGxlY3Rpb25OYW1lID0gJ2l0ZW1zJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgZGF0YUxpc3QgPSBhd2FpdCBDb0M3VXRpbGl0aWVzLmdldERhdGFGcm9tRHJvcEV2ZW50KGV2ZW50LCAnSXRlbScpXG5cbiAgICBsZXQgdXNlQ29DSUQgPSAwXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdKSA6IFtdXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGFMaXN0KSB7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uc3lzdGVtKSBjb250aW51ZVxuICAgICAgaWYgKCFbJ2l0ZW0nLCAnd2VhcG9uJywgJ3NraWxsJywgJ2Jvb2snLCAnc3BlbGwnXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmICghQ29DN0l0ZW0uaXNBbnlTcGVjKGl0ZW0pKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uLmZpbmQoZWwgPT4gZWwubmFtZSA9PT0gaXRlbS5uYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHVzZUNvQ0lEID09PSAwKSB7XG4gICAgICAgIHVzZUNvQ0lEID0gYXdhaXQgRHJvcENvQ0lELmNyZWF0ZSgpXG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uLnB1c2goRHJvcENvQ0lELnByb2Nlc3NJdGVtKHVzZUNvQ0lELCBpdGVtKSlcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgW2BzeXN0ZW0uJHtjb2xsZWN0aW9uTmFtZX1gXTogY29sbGVjdGlvbiB9KVxuICB9XG5cbiAgYXN5bmMgX29uUmVtb3ZlU2VjdGlvbiAoZXZlbnQpIHtcbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGRpdiA9IGEuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IGJpbyA9IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLmJpb1NlY3Rpb25zKVxuICAgIGJpby5zcGxpY2UoTnVtYmVyKGRpdi5kYXRhc2V0LmluZGV4KSwgMSlcbiAgICBhd2FpdCB0aGlzLml0ZW0udXBkYXRlKHsgJ3N5c3RlbS5iaW9TZWN0aW9ucyc6IGJpbyB9KVxuICB9XG5cbiAgYXN5bmMgX29uQWRkQmlvICgpIHtcbiAgICBjb25zdCBiaW8gPSB0aGlzLml0ZW0uc3lzdGVtLmJpb1NlY3Rpb25zID8gZHVwbGljYXRlKHRoaXMuaXRlbS5zeXN0ZW0uYmlvU2VjdGlvbnMpIDogW11cbiAgICBiaW8ucHVzaChudWxsKVxuICAgIGF3YWl0IHRoaXMuaXRlbS51cGRhdGUoeyAnc3lzdGVtLmJpb1NlY3Rpb25zJzogYmlvIH0pXG4gIH1cblxuICBfb25BZGRNb25ldGFyeSAoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5pdGVtLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMgPyBkdXBsaWNhdGUodGhpcy5pdGVtLnN5c3RlbS5tb25ldGFyeS52YWx1ZXMpIDogW11cbiAgICB2YWx1ZXMucHVzaCh7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIG1pbjogbnVsbCxcbiAgICAgIG1heDogbnVsbCxcbiAgICAgIGNhc2hUeXBlOiAwLFxuICAgICAgY2FzaFZhbHVlOiAnJyxcbiAgICAgIGFzc2V0c1R5cGU6IDAsXG4gICAgICBhc3NldHNWYWx1ZTogJycsXG4gICAgICBzcGVuZGluZ1R5cGU6IDAsXG4gICAgICBzcGVuZGluZ1ZhbHVlOiAnJ1xuICAgIH0pXG4gICAgdGhpcy5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0ubW9uZXRhcnkudmFsdWVzJzogdmFsdWVzIH0pXG4gIH1cblxuICBfb25SZW1vdmVNb25ldGFyeSAoZXZlbnQpIHtcbiAgICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIGNvbnN0IGRpdiA9IGEuY2xvc2VzdCgnLml0ZW0nKVxuICAgIGNvbnN0IHZhbHVlcyA9IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcylcbiAgICB2YWx1ZXMuc3BsaWNlKE51bWJlcihkaXYuZGF0YXNldC5pbmRleCksIDEpXG4gICAgdGhpcy5pdGVtLnVwZGF0ZSh7ICdzeXN0ZW0ubW9uZXRhcnkudmFsdWVzJzogdmFsdWVzIH0pXG4gIH1cblxuICBfb25JdGVtU3VtbWFyeSAoZXZlbnQsIGNvbGxlY3Rpb25OYW1lID0gJ2l0ZW1zJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBsaSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkucGFyZW50cygnLml0ZW0nKVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXS5maW5kKHMgPT4ge1xuICAgICAgcmV0dXJuIHMuX2lkID09PSBsaS5kYXRhKCdpdGVtLWlkJylcbiAgICB9KVxuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGNoYXREYXRhID0gaXRlbS5zeXN0ZW0uZGVzY3JpcHRpb25cblxuICAgIC8vIFRvZ2dsZSBzdW1tYXJ5XG4gICAgaWYgKGxpLmhhc0NsYXNzKCdleHBhbmRlZCcpKSB7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gbGkuY2hpbGRyZW4oJy5pdGVtLXN1bW1hcnknKVxuICAgICAgc3VtbWFyeS5zbGlkZVVwKDIwMCwgKCkgPT4gc3VtbWFyeS5yZW1vdmUoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGl2ID0gJChgPGRpdiBjbGFzcz1cIml0ZW0tc3VtbWFyeVwiPiR7Y2hhdERhdGEudmFsdWV9PC9kaXY+YClcbiAgICAgIGNvbnN0IHByb3BzID0gJCgnPGRpdiBjbGFzcz1cIml0ZW0tcHJvcGVydGllc1wiPjwvZGl2PicpXG4gICAgICAvLyBmb3IgKGNvbnN0IHAgb2YgY2hhdERhdGEucHJvcGVydGllcykgeyBwcm9wcy5hcHBlbmQoYDxzcGFuIGNsYXNzPVwidGFnXCI+JHtwfTwvc3Bhbj5gKSB9XG4gICAgICBkaXYuYXBwZW5kKHByb3BzKVxuICAgICAgbGkuYXBwZW5kKGRpdi5oaWRlKCkpXG4gICAgICBkaXYuc2xpZGVEb3duKDIwMClcbiAgICB9XG4gICAgbGkudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJylcbiAgfVxuXG4gIGFzeW5jIF9vbkl0ZW1EZWxldGUgKGV2ZW50LCBjb2xsZWN0aW9uTmFtZSA9ICdpdGVtcycpIHtcbiAgICBjb25zdCBpdGVtID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaXRlbScpXG4gICAgY29uc3QgaXRlbUlkID0gaXRlbS5kYXRhKCdpdGVtLWlkJylcbiAgICBjb25zdCBDb0NJZCA9IGl0ZW0uZGF0YSgnY29jaWQnKVxuICAgIGNvbnN0IGl0ZW1JbmRleCA9IHRoaXMuaXRlbS5zeXN0ZW1bY29sbGVjdGlvbk5hbWVdLmZpbmRJbmRleChpID0+IChpdGVtSWQgJiYgaS5faWQgPT09IGl0ZW1JZCkgfHwgKENvQ0lkICYmIGkgPT09IENvQ0lkKSlcbiAgICBpZiAoaXRlbUluZGV4ID4gLTEpIHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSA/IGR1cGxpY2F0ZSh0aGlzLml0ZW0uc3lzdGVtW2NvbGxlY3Rpb25OYW1lXSkgOiBbXVxuICAgICAgY29sbGVjdGlvbi5zcGxpY2UoaXRlbUluZGV4LCAxKVxuICAgICAgYXdhaXQgdGhpcy5pdGVtLnVwZGF0ZSh7IFtgc3lzdGVtLiR7Y29sbGVjdGlvbk5hbWV9YF06IGNvbGxlY3Rpb24gfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldCcsICdzZXR1cCddLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zL3NldHVwLmh0bWwnLFxuICAgICAgd2lkdGg6IDU2NSxcbiAgICAgIGhlaWdodDogNTMwLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5pdGVtJyB9XSxcbiAgICAgIHNjcm9sbFk6IFsnLnRhYi5kZXNjcmlwdGlvbiddLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtbmF2aWdhdGlvbicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0LWJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXNjcmlwdGlvbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLmhhc093bmVyID0gdGhpcy5pdGVtLmlzRW1iZWRkZWQgPT09IHRydWVcblxuICAgIGNvbnN0IGVyYSA9IE9iamVjdC5lbnRyaWVzKHRoaXMuaXRlbS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5lcmFzID8/IHt9KS5maWx0ZXIoZSA9PiBlWzFdKS5tYXAoZSA9PiBlWzBdKVxuXG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnYW1lLnN5c3RlbS5hcGkuY29jaWQuZXhwYW5kSXRlbUFycmF5KHsgaXRlbUxpc3Q6IHRoaXMuaXRlbS5zeXN0ZW0uaXRlbXMsIGVyYTogKHR5cGVvZiBlcmFbMF0gIT09ICd1bmRlZmluZWQnID8gZXJhWzBdIDogdHJ1ZSkgfSlcblxuICAgIHNoZWV0RGF0YS5za2lsbHMgPSBpdGVtcy5maWx0ZXIoaXQgPT4gaXQudHlwZSA9PT0gJ3NraWxsJylcbiAgICBzaGVldERhdGEub3RoZXJJdGVtcyA9IGl0ZW1zLmZpbHRlcihpdCA9PiBpdC50eXBlICE9PSAnc2tpbGwnKVxuXG4gICAgc2hlZXREYXRhLnNraWxsTGlzdEVtcHR5ID0gc2hlZXREYXRhLnNraWxscy5sZW5ndGggPT09IDBcbiAgICBzaGVldERhdGEuaXRlbXNMaXN0RW1wdHkgPSBzaGVldERhdGEub3RoZXJJdGVtcy5sZW5ndGggPT09IDBcblxuICAgIHNoZWV0RGF0YS5za2lsbHMuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpXG5cbiAgICBzaGVldERhdGEuX2VyYXMgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZXJhcykpIHtcbiAgICAgIHNoZWV0RGF0YS5fZXJhcy5wdXNoKHtcbiAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlKSxcbiAgICAgICAgaXNFbmFibGVkOiAodGhpcy5pdGVtLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmVyYXMgPz8ge30pW2tleV0gPT09IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICAgIHNoZWV0RGF0YS5fZXJhcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlGb3JtYXRzID0gW11cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBDT0M3Lm1vbmV0YXJ5Rm9ybWF0cykge1xuICAgICAgc2hlZXREYXRhLl9tb25ldGFyeUZvcm1hdHMucHVzaCh7IGtleSwgdmFsOiBnYW1lLmkxOG4ubG9jYWxpemUoQ09DNy5tb25ldGFyeUZvcm1hdHNba2V5XSkgfSlcbiAgICB9XG5cbiAgICBzaGVldERhdGEuc2hvd0N1cnJlbmN5U3ltYm9sID0gWydkZWNpbWFsTGVmdCcsICdkZWNpbWFsUmlnaHQnLCAnaW50ZWdlckxlZnQnLCAnaW50ZWdlclJpZ2h0J10uaW5jbHVkZXMoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdClcblxuICAgIHNoZWV0RGF0YS5fbW9uZXRhcnlUeXBlcyA9IFtdXG4gICAgZm9yIChjb25zdCBrZXkgaW4gQ09DNy5tb25ldGFyeVR5cGVzKSB7XG4gICAgICBpZiAoQ09DNy5tb25ldGFyeVR5cGVzW2tleV0uZmlsdGVyLmxlbmd0aCA9PT0gMCB8fCBDT0M3Lm1vbmV0YXJ5VHlwZXNba2V5XS5maWx0ZXIuaW5jbHVkZXMoc2hlZXREYXRhLmRhdGEuc3lzdGVtLm1vbmV0YXJ5LmZvcm1hdCkpIHtcbiAgICAgICAgc2hlZXREYXRhLl9tb25ldGFyeVR5cGVzLnB1c2goeyBrZXksIHZhbDogZ2FtZS5pMThuLmxvY2FsaXplKENPQzcubW9uZXRhcnlUeXBlc1trZXldLm5hbWUpIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLm9uZUJsb2NrQmFja1N0b3J5ID0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnb25lQmxvY2tCYWNrc3RvcnknKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5rZWVwZXIsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkQmFja3N0b3J5ID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmJhY2tzdG9yeSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIF91cGRhdGVPYmplY3QgKGV2ZW50LCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IHN5c3RlbSA9IGV4cGFuZE9iamVjdChmb3JtRGF0YSk/LnN5c3RlbVxuICAgIGlmIChzeXN0ZW0uYmlvU2VjdGlvbnMpIHtcbiAgICAgIGZvcm1EYXRhWydzeXN0ZW0uYmlvU2VjdGlvbnMnXSA9IE9iamVjdC52YWx1ZXMoXG4gICAgICAgIHN5c3RlbS5iaW9TZWN0aW9ucyB8fCBbXVxuICAgICAgKVxuICAgIH1cbiAgICBpZiAoc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcykge1xuICAgICAgZm9ybURhdGFbJ3N5c3RlbS5tb25ldGFyeS52YWx1ZXMnXSA9IE9iamVjdC52YWx1ZXMoc3lzdGVtLm1vbmV0YXJ5LnZhbHVlcyB8fCBbXSlcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldD8ubmFtZSA9PT0gJ3N5c3RlbS5jaGFyYWN0ZXJpc3RpY3MucG9pbnRzLmVuYWJsZWQnKSB7XG4gICAgICBmb3JtRGF0YVsnc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5yb2xscy5lbmFibGVkJ10gPSAhZXZlbnQuY3VycmVudFRhcmdldC5jaGVja2VkXG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQ/Lm5hbWUgPT09ICdzeXN0ZW0uY2hhcmFjdGVyaXN0aWNzLnJvbGxzLmVuYWJsZWQnKSB7XG4gICAgICBmb3JtRGF0YVsnc3lzdGVtLmNoYXJhY3RlcmlzdGljcy5wb2ludHMuZW5hYmxlZCddID0gIWV2ZW50LmN1cnJlbnRUYXJnZXQuY2hlY2tlZFxuICAgIH1cblxuICAgIHN1cGVyLl91cGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhKVxuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCBDb0M3QWN0aXZlRWZmZWN0IGZyb20gJy4uLy4uL2FjdGl2ZS1lZmZlY3QuanMnXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcbmltcG9ydCB7IGlzQ3RybEtleSB9IGZyb20gJy4uLy4uL2NoYXQvaGVscGVyLmpzJ1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgYmFzaWMgSXRlbVNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb0M3U2tpbGxTaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XG4gIGNvbnN0cnVjdG9yICguLi5hcmdzKSB7XG4gICAgc3VwZXIoLi4uYXJncylcbiAgICB0aGlzLl9zaGVldFRhYiA9ICdpdGVtcydcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRlbmQgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgU2ltcGxlIEl0ZW0gU2hlZXRcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMgKCkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5kZWZhdWx0T3B0aW9ucywge1xuICAgICAgY2xhc3NlczogWydjb2M3JywgJ3NoZWV0JywgJ2l0ZW0nXSxcbiAgICAgIHdpZHRoOiA1MjAsXG4gICAgICBoZWlnaHQ6IDQ4MCxcbiAgICAgIHNjcm9sbFk6IFsnLnRhYi5kZXNjcmlwdGlvbiddLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuc2hlZXQtbmF2aWdhdGlvbicsXG4gICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnNoZWV0LWJvZHknLFxuICAgICAgICAgIGluaXRpYWw6ICdkZXNjcmlwdGlvbidcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldCB0ZW1wbGF0ZSAoKSB7XG4gICAgcmV0dXJuIGBzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zLyR7dGhpcy5pdGVtLnR5cGV9LXNoZWV0Lmh0bWxgXG4gIH1cblxuICBfZ2V0SGVhZGVyQnV0dG9ucyAoKSB7XG4gICAgY29uc3QgaGVhZGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKClcbiAgICBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uKGhlYWRlckJ1dHRvbnMsIHRoaXMpXG4gICAgcmV0dXJuIGhlYWRlckJ1dHRvbnNcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwYXJlIGRhdGEgZm9yIHJlbmRlcmluZyB0aGUgSXRlbSBzaGVldFxuICAgKiBUaGUgcHJlcGFyZWQgZGF0YSBvYmplY3QgY29udGFpbnMgYm90aCB0aGUgYWN0b3IgZGF0YSBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgc2hlZXQgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RGF0YSAoKSB7XG4gICAgLy8gdGhpcy5pdGVtLmNoZWNrU2tpbGxQcm9wZXJ0aWVzKCk7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gc3VwZXIuZ2V0RGF0YSgpXG5cbiAgICBzaGVldERhdGEuaGFzT3duZXIgPSB0aGlzLml0ZW0uaXNFbWJlZGRlZCA9PT0gdHJ1ZVxuXG4gICAgc2hlZXREYXRhLmVmZmVjdHMgPSBDb0M3QWN0aXZlRWZmZWN0LnByZXBhcmVBY3RpdmVFZmZlY3RDYXRlZ29yaWVzKFxuICAgICAgdGhpcy5pdGVtLmVmZmVjdHNcbiAgICApXG5cbiAgICBzaGVldERhdGEuX3Byb3BlcnRpZXMgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuc2tpbGxQcm9wZXJ0aWVzKSkge1xuICAgICAgc2hlZXREYXRhLl9wcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICBpZDoga2V5LFxuICAgICAgICBuYW1lOiB2YWx1ZSxcbiAgICAgICAgaXNFbmFibGVkOiB0aGlzLml0ZW0uc3lzdGVtLnByb3BlcnRpZXNba2V5XSA9PT0gdHJ1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBzaGVldERhdGEuX2VyYXMgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZXJhcykpIHtcbiAgICAgIHNoZWV0RGF0YS5fZXJhcy5wdXNoKHtcbiAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlKSxcbiAgICAgICAgaXNFbmFibGVkOiAodGhpcy5pdGVtLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmVyYXMgPz8ge30pW2tleV0gPT09IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICAgIHNoZWV0RGF0YS5fZXJhcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgIHNoZWV0RGF0YS5pc1NwZWNpYWxpemVkID0gdGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLnNwZWNpYWxcbiAgICBzaGVldERhdGEuY2FuTW9kaWZ5U3BlYyA9XG4gICAgICAhdGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmZpcmVhcm0gJiZcbiAgICAgICF0aGlzLml0ZW0uc3lzdGVtLnByb3BlcnRpZXMuZmlnaHRpbmdcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5pc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAvKipcbiAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXG4gICAqIEBwYXJhbSBodG1sIHtIVE1MfSAgIFRoZSBwcmVwYXJlZCBIVE1MIG9iamVjdCByZWFkeSB0byBiZSByZW5kZXJlZCBpbnRvIHRoZSBET01cbiAgICovXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICAvLyBFdmVyeXRoaW5nIGJlbG93IGhlcmUgaXMgb25seSBuZWVkZWQgaWYgdGhlIHNoZWV0IGlzIGVkaXRhYmxlXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHJldHVyblxuXG4gICAgaHRtbC5maW5kKCcudG9nZ2xlLXN3aXRjaCcpLmNsaWNrKHRoaXMuX29uQ2xpY2tUb2dnbGUuYmluZCh0aGlzKSlcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgYXN5bmMgX29uQ2xpY2tUb2dnbGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHByb3BlcnR5SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy50b2dnbGUtc3dpdGNoJykuZGF0YXNldC5wcm9wZXJ0eVxuICAgIGF3YWl0IHRoaXMuaXRlbS50b2dnbGVQcm9wZXJ0eShcbiAgICAgIHByb3BlcnR5SWQsXG4gICAgICBpc0N0cmxLZXkoZXZlbnQpXG4gICAgKVxuICB9XG5cbiAgLy8gYXN5bmMgX29uQ2xpY2tBdHRyaWJ1dGVDb250cm9sKGV2ZW50KSB7XG4gIC8vICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgLy8gICBjb25zdCBhID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgLy8gICBjb25zdCBhY3Rpb24gPSBhLmRhdGFzZXQuYWN0aW9uO1xuICAvLyAgIGNvbnN0IGF0dHJzID0gdGhpcy5vYmplY3QuZGF0YS5kYXRhLmF0dHJpYnV0ZXM7XG4gIC8vICAgY29uc3QgZm9ybSA9IHRoaXMuZm9ybTtcblxuICAvLyAgIC8vIEFkZCBuZXcgYXR0cmlidXRlXG4gIC8vICAgaWYgKGFjdGlvbiA9PT0gXCJjcmVhdGVcIikge1xuICAvLyAgICAgY29uc3QgbmsgPSBPYmplY3Qua2V5cyhhdHRycykubGVuZ3RoICsgMTtcbiAgLy8gICAgIGxldCBuZXdLZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAvLyAgICAgbmV3S2V5LmlubmVySFRNTCA9IGA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZGF0YS5hdHRyaWJ1dGVzLmF0dHIke25rfS5rZXlcIiB2YWx1ZT1cImF0dHIke25rfVwiLz5gO1xuICAvLyAgICAgbmV3S2V5ID0gbmV3S2V5LmNoaWxkcmVuWzBdO1xuICAvLyAgICAgZm9ybS5hcHBlbmRDaGlsZChuZXdLZXkpO1xuICAvLyAgICAgYXdhaXQgdGhpcy5fb25TdWJtaXQoZXZlbnQpO1xuICAvLyAgIH1cblxuICAvLyAgIC8vIFJlbW92ZSBleGlzdGluZyBhdHRyaWJ1dGVcbiAgLy8gICBlbHNlIGlmIChhY3Rpb24gPT09IFwiZGVsZXRlXCIpIHtcbiAgLy8gICAgIGNvbnN0IGxpID0gYS5jbG9zZXN0KFwiLmF0dHJpYnV0ZVwiKTtcbiAgLy8gICAgIGxpLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQobGkpO1xuICAvLyAgICAgYXdhaXQgdGhpcy5fb25TdWJtaXQoZXZlbnQpO1xuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgLyoqXG4gICAqIEltcGxlbWVudCB0aGUgX3VwZGF0ZU9iamVjdCBtZXRob2QgYXMgcmVxdWlyZWQgYnkgdGhlIHBhcmVudCBjbGFzcyBzcGVjXG4gICAqIFRoaXMgZGVmaW5lcyBob3cgdG8gdXBkYXRlIHRoZSBzdWJqZWN0IG9mIHRoZSBmb3JtIHdoZW4gdGhlIGZvcm0gaXMgc3VibWl0dGVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAvLyBfdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSkge1xuICAvLyAgIC8vIEhhbmRsZSB0aGUgZnJlZS1mb3JtIGF0dHJpYnV0ZXMgbGlzdFxuICAvLyAgIGNvbnN0IGZvcmQgPSBleHBhbmRPYmplY3QoZm9ybURhdGEpO1xuICAvLyAgIGNvbnN0IGZvcm1BdHRycyA9IGV4cGFuZE9iamVjdChmb3JtRGF0YSkuZGF0YS5hdHRyaWJ1dGVzIHx8IHt9O1xuICAvLyAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBPYmplY3QudmFsdWVzKGZvcm1BdHRycykucmVkdWNlKChvYmosIHYpID0+IHtcbiAgLy8gICAgIGxldCBrID0gdltcImtleVwiXS50cmltKCk7XG4gIC8vICAgICBpZiAoL1tcXHNcXC5dLy50ZXN0KGspKSByZXR1cm4gdWkubm90aWZpY2F0aW9ucy5lcnJvcihcIkF0dHJpYnV0ZSBrZXlzIG1heSBub3QgY29udGFpbiBzcGFjZXMgb3IgcGVyaW9kc1wiKTtcbiAgLy8gICAgIGRlbGV0ZSB2W1wia2V5XCJdO1xuICAvLyAgICAgb2JqW2tdID0gdjtcbiAgLy8gICAgIHJldHVybiBvYmo7XG4gIC8vICAgfSwge30pO1xuXG4gIC8vICAgLy8gUmVtb3ZlIGF0dHJpYnV0ZXMgd2hpY2ggYXJlIG5vIGxvbmdlciB1c2VkXG4gIC8vICAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyh0aGlzLm9iamVjdC5kYXRhLmRhdGEuYXR0cmlidXRlcykpIHtcbiAgLy8gICAgIGlmICghYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrKSkgYXR0cmlidXRlc1tgLT0ke2t9YF0gPSBudWxsO1xuICAvLyAgIH1cblxuICAvLyAgIC8vIFJlLWNvbWJpbmUgZm9ybURhdGFcbiAgLy8gICBmb3JtRGF0YSA9IE9iamVjdC5lbnRyaWVzKGZvcm1EYXRhKS5maWx0ZXIoZSA9PiAhZVswXS5zdGFydHNXaXRoKFwiZGF0YS5hdHRyaWJ1dGVzXCIpKS5yZWR1Y2UoKG9iaiwgZSkgPT4ge1xuICAvLyAgICAgb2JqW2VbMF1dID0gZVsxXTtcbiAgLy8gICAgIHJldHVybiBvYmo7XG4gIC8vICAgfSwgeyBfaWQ6IHRoaXMub2JqZWN0Ll9pZCwgXCJkYXRhLmF0dHJpYnV0ZXNcIjogYXR0cmlidXRlcyB9KTtcblxuICAvLyAgIC8vIFVwZGF0ZSB0aGUgSXRlbVxuICAvLyAgIHJldHVybiB0aGlzLm9iamVjdC51cGRhdGUoZm9ybURhdGEpO1xuICAvLyB9XG5cbiAgYXN5bmMgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgY29uc3Qgc2tpbGxOYW1lID0gZm9ybURhdGFbJ3N5c3RlbS5za2lsbE5hbWUnXSB8fCB0aGlzLml0ZW0uc3lzdGVtLnNraWxsTmFtZVxuICAgIGlmICh0aGlzLml0ZW0uc3lzdGVtLnByb3BlcnRpZXM/LnNwZWNpYWwpIHtcbiAgICAgIGNvbnN0IHNwZWNpYWxpemF0aW9uID0gZm9ybURhdGFbJ3N5c3RlbS5zcGVjaWFsaXphdGlvbiddIHx8IHRoaXMuaXRlbS5zeXN0ZW0uc3BlY2lhbGl6YXRpb25cbiAgICAgIGZvcm1EYXRhLm5hbWUgPSBzcGVjaWFsaXphdGlvbiArICcgKCcgKyBza2lsbE5hbWUgKyAnKSdcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybURhdGEubmFtZSA9IHNraWxsTmFtZVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuX3VwZGF0ZU9iamVjdChldmVudCwgZm9ybURhdGEpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1NwZWxsU2hlZXQgZXh0ZW5kcyBJdGVtU2hlZXQge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9zcGVsbC9tYWluLmh0bWwnLFxuICAgICAgY2xhc3NlczogWydjb2M3JywgJ2l0ZW0nLCAnc3BlbGwnXSxcbiAgICAgIHdpZHRoOiA1MDAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIHJlc2l6YWJsZTogZmFsc2UsXG4gICAgICBzY3JvbGxZOiBbJy5ib2R5J10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5uYXZpZ2F0aW9uJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgY29uc3Qgc2hlZXREYXRhID0gc3VwZXIuZ2V0RGF0YSgpXG4gICAgc2hlZXREYXRhLmhhc093bmVyID0gdGhpcy5pdGVtLmlzRW1iZWRkZWQgPT09IHRydWVcbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHNoZWV0RGF0YS5pc093bmVyID0gdGhpcy5pdGVtLmlzT3duZXJcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIGFjdGl2YXRlTGlzdGVuZXJzIChodG1sKSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbClcbiAgICBodG1sLmZpbmQoJy5vcHRpb24nKS5jbGljayhldmVudCA9PiB0aGlzLm1vZGlmeVR5cGUoZXZlbnQpKVxuICAgIGh0bWwuZmluZCgnI2Nhc3Qtc3BlbGwnKS5jbGljayhldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICB0aGlzLml0ZW0uY2FzdCgpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgdGhlIGNoZWNrYm94ZXMgZm9yIHR5cGUgd2hlbiB1c2VyIGNsaWNrcyBvbiB0aGUgY29ycmVzcG9uZGluZ1xuICAgKiBsYWJlbCwgbm90IHN1cmUgaWYgdGhpcyB3b3JrcyBvbiBlbmdpbmVzIG90aGVyIHRoYW4gVjhcbiAgICogQHBhcmFtIHtqUXVlcnl9IGV2ZW50IEBzZWUgYWN0aXZhdGVMaXN0ZW5lcnNcbiAgICogQHJldHVybnMge2pRdWVyeS5FdmVudH0gY2xpY2tcbiAgICovXG4gIG1vZGlmeVR5cGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIC8qKiBQcmV2ZW50cyBwcm9wYWdhdGlvbiBvZiB0aGUgc2FtZSBldmVudCBmcm9tIGJlaW5nIGNhbGxlZCAqL1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgdG9nZ2xlU3dpdGNoID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIHJldHVybiB0b2dnbGVTd2l0Y2gucHJldigpLnRyaWdnZXIoJ2NsaWNrJylcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGdhbWUsIEl0ZW1TaGVldCwgbWVyZ2VPYmplY3QsIFRleHRFZGl0b3IgKi9cbmltcG9ydCB7IGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24gfSBmcm9tICcuLi8uLi9zY3JpcHRzL2NvYy1pZC1idXR0b24uanMnXG5pbXBvcnQgQ29DN0FjdGl2ZUVmZmVjdCBmcm9tICcuLi8uLi9hY3RpdmUtZWZmZWN0LmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQ29DN1N0YXR1c1NoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldCcsICdzdGF0dXMnXSxcbiAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9pdGVtcy9zdGF0dXMuaHRtbCcsXG4gICAgICB3aWR0aDogNTI1LFxuICAgICAgaGVpZ2h0OiA0ODAsXG4gICAgICBzY3JvbGxZOiBbJy50YWIuZGVzY3JpcHRpb24nXSxcbiAgICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hdlNlbGVjdG9yOiAnLnNoZWV0LW5hdmlnYXRpb24nLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnZGVzY3JpcHRpb24nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuXG4gICAgaHRtbFxuICAgICAgLmZpbmQoJy5lZmZlY3QtY29udHJvbCcpXG4gICAgICAuY2xpY2soZXYgPT4gQ29DN0FjdGl2ZUVmZmVjdC5vbk1hbmFnZUFjdGl2ZUVmZmVjdChldiwgdGhpcy5pdGVtKSlcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgLyogUHJlcGFyZSBkYXRhIGZvciByZW5kZXJpbmcgdGhlIEl0ZW0gc2hlZXRcbiAgICogVGhlIHByZXBhcmVkIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGJvdGggdGhlIGFjdG9yIGRhdGEgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIHNoZWV0IG9wdGlvbnNcbiAgICovXG4gIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuICAgIHNoZWV0RGF0YS5lZmZlY3RzID0gQ29DN0FjdGl2ZUVmZmVjdC5wcmVwYXJlQWN0aXZlRWZmZWN0Q2F0ZWdvcmllcyh0aGlzLml0ZW0uZWZmZWN0cywgeyBzdGF0dXM6IGZhbHNlIH0pXG5cbiAgICBzaGVldERhdGEuaXRlbVByb3BlcnRpZXMgPSBbXVxuXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5pdGVtLnN5c3RlbS50eXBlKSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHNoZWV0RGF0YS5pdGVtUHJvcGVydGllcy5wdXNoKFxuICAgICAgICAgIENPQzcuc3RhdHVzVHlwZVtrZXldID8gQ09DNy5zdGF0dXNUeXBlW2tleV0gOiBudWxsXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uTm90ZXMgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ubm90ZXMsXG4gICAgICB7XG4gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgc2VjcmV0czogc2hlZXREYXRhLmVkaXRhYmxlXG4gICAgICB9XG4gICAgKVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25LZWVwZXIgPSBUZXh0RWRpdG9yLmVucmljaEhUTUwoXG4gICAgICBzaGVldERhdGEuZGF0YS5zeXN0ZW0uZGVzY3JpcHRpb24ua2VlcGVyLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5pc0tlZXBlciA9IGdhbWUudXNlci5pc0dNXG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgSXRlbVNoZWV0LCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgYWRkQ29DSURTaGVldEhlYWRlckJ1dHRvbiB9IGZyb20gJy4uLy4uL3NjcmlwdHMvY29jLWlkLWJ1dHRvbi5qcydcbmltcG9ydCB7IENPQzcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5cbi8qKlxuICogRXh0ZW5kIHRoZSBiYXNpYyBJdGVtU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvQzdUYWxlbnRTaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICBjbGFzc2VzOiBbJ2NvYzcnLCAnc2hlZXQnLCAndGFsZW50J10sXG4gICAgICB0ZW1wbGF0ZTogJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvdGFsZW50Lmh0bWwnLFxuICAgICAgd2lkdGg6IDUyNSxcbiAgICAgIGhlaWdodDogNDgwLFxuICAgICAgc2Nyb2xsWTogWycudGFiLmRlc2NyaXB0aW9uJ10sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXZpZ2F0aW9uJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXQtYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSlcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgLyogUHJlcGFyZSBkYXRhIGZvciByZW5kZXJpbmcgdGhlIEl0ZW0gc2hlZXRcbiAgICogVGhlIHByZXBhcmVkIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGJvdGggdGhlIGFjdG9yIGRhdGEgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIHNoZWV0IG9wdGlvbnNcbiAgICovXG4gIGdldERhdGEgKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLml0ZW1Qcm9wZXJ0aWVzID0gW11cblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuaXRlbS5zeXN0ZW0udHlwZSkpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBzaGVldERhdGEuaXRlbVByb3BlcnRpZXMucHVzaChcbiAgICAgICAgICBDT0M3LnRhbGVudFR5cGVba2V5XSA/IENPQzcudGFsZW50VHlwZVtrZXldIDogbnVsbFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbk5vdGVzID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLm5vdGVzLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGR1cGxpY2F0ZSwgZXhwYW5kT2JqZWN0LCBnYW1lLCBtZXJnZU9iamVjdCwgVGV4dEVkaXRvciAqL1xuaW1wb3J0IHsgQ29DN0FjdG9yU2hlZXQgfSBmcm9tICcuL2Jhc2UuanMnXG5cbmV4cG9ydCBjbGFzcyBDb0M3VmVoaWNsZVNoZWV0IGV4dGVuZHMgQ29DN0FjdG9yU2hlZXQge1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldFYyJywgJ2FjdG9yJywgJ2l0ZW0nLCAndmVoaWNsZSddLFxuICAgICAgd2lkdGg6IDU1NSxcbiAgICAgIGhlaWdodDogNDIwLFxuICAgICAgcmVzaXphYmxlOiB0cnVlLFxuICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy92ZWhpY2xlLmh0bWwnLFxuICAgICAgZHJhZ0Ryb3A6IFt7IGRyYWdTZWxlY3RvcjogJy5hY3RvcicsIGRyb3BTZWxlY3RvcjogJy5kcm9wWm9uZScgfV0sXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC1uYXYnLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldC1ib2R5JyxcbiAgICAgICAgICBpbml0aWFsOiAnZGVzY3JpcHRpb24nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSAoKSB7XG4gICAgLy8gdWkubm90aWZpY2F0aW9ucy53YXJuKFxuICAgIC8vICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4cGVyaW1lbnRhbEZlYXR1cmVzV2FybmluZycpXG4gICAgLy8gKVxuICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHN1cGVyLmdldERhdGEoKVxuXG4gICAgc2hlZXREYXRhLnByb3BlcnRpZXMgPSBbXVxuICAgIGlmICh0aGlzLmFjdG9yLnN5c3RlbS5wcm9wZXJ0aWVzLmFybWVkKSB7XG4gICAgICBzaGVldERhdGEucHJvcGVydGllcy5wdXNoKGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5Bcm1lZFZlaGljbGUnKSlcbiAgICB9XG5cbiAgICBjb25zdCBleHBhbmRlZCA9IHRoaXMuYWN0b3IuZ2V0RmxhZygnQ29DNycsICdleHBhbmRlZCcpXG4gICAgaWYgKHR5cGVvZiBleHBhbmRlZCA9PT0gJ3VuZGVmaW5lZCcpIHNoZWV0RGF0YS5leHBhbmRlZCA9IHRydWVcbiAgICBlbHNlIHNoZWV0RGF0YS5leHBhbmRlZCA9IGV4cGFuZGVkXG4gICAgaWYgKHNoZWV0RGF0YS5leHBhbmRlZCkge1xuICAgICAgc2hlZXREYXRhLm9wdGlvbnMuaGVpZ2h0ID0gNDIwXG4gICAgfSBlbHNlIHNoZWV0RGF0YS5vcHRpb25zLmhlaWdodCA9ICdhdXRvJ1xuXG4gICAgc2hlZXREYXRhLmVucmljaGVkRGVzY3JpcHRpb25WYWx1ZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvbk5vdGVzID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLm5vdGVzLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIC8vIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaGVldERhdGEuZGF0YS50eXBlKSkge1xuICAgIC8vICAgaWYoIHZhbHVlKSBzaGVldERhdGEuaXRlbVByb3BlcnRpZXMucHVzaCggQ09DNy5ib29rVHlwZVtrZXldP0NPQzcuYm9va1R5cGVba2V5XTpudWxsKTtcbiAgICAvLyB9XG4gICAgcmV0dXJuIHNoZWV0RGF0YVxuICB9XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMgKGh0bWwpIHtcbiAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKVxuICAgIGh0bWwuZmluZCgnLmFkZC1hcm1vcicpLmNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuX29uQWRkQXJtb3IoKSlcbiAgICBodG1sXG4gICAgICAuZmluZCgnLnJlbW92ZS1hcm1vcicpXG4gICAgICAuY2xpY2soYXN5bmMgZXZlbnQgPT4gYXdhaXQgdGhpcy5fb25SZW1vdmVBcm1vcihldmVudCkpXG4gICAgaHRtbC5maW5kKCcuZXhwYW5kLWJ1dHRvbicpLmNsaWNrKHRoaXMuX29uVG9nZ2xlRXhwYW5kLmJpbmQodGhpcykpXG4gICAgLy8gRXZlcnl0aGluZyBiZWxvdyBoZXJlIGlzIG9ubHkgbmVlZGVkIGlmIHRoZSBzaGVldCBpcyBlZGl0YWJsZVxuICAgIC8vIGlmICghdGhpcy5vcHRpb25zLmVkaXRhYmxlKSByZXR1cm47XG4gICAgLy8gaHRtbC5vbignZHJvcCcsIChldmVudCkgPT4gdGhpcy5fb25Ecm9wKGV2ZW50KSk7XG4gICAgLy8gaHRtbC5maW5kKCcuc3BlbGwgLnNwZWxsLW5hbWUgaDQnKS5jbGljayhldmVudCA9PiB0aGlzLl9vblNwZWxsU3VtbWFyeShldmVudCkpO1xuICAgIC8vIGh0bWwuZmluZCgnLml0ZW0tZGVsZXRlJykuY2xpY2sodGhpcy5fb25TcGVsbERlbGV0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGFzeW5jIF9vblRvZ2dsZUV4cGFuZCAoKSB7XG4gICAgY29uc3QgZXhwYW5kZWQgPSB0aGlzLmFjdG9yLmdldEZsYWcoJ0NvQzcnLCAnZXhwYW5kZWQnKVxuICAgIGlmIChleHBhbmRlZCkge1xuICAgICAgdGhpcy5vbGRTaXplID0gdGhpcy5wb3NpdGlvbi5oZWlnaHRcbiAgICAgIHRoaXMucG9zaXRpb24uaGVpZ2h0ID0gJ2F1dG8nIC8vIFJlc2V0IHRoZSBzdG9yZWQgcG9zaXRpb24gdG8gZm9yY2UgdG8gcmVjYWxjdWxhdGUgd2luZG93IHNpemUgVE9ETzogU3RvcmUgcHJldmlvdXMgcG9zaXRpb24gdG8gcmVzdG9yZSBpdCBpbnN0ZWFkIG9mIGF1dG9cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wb3NpdGlvbi5oZWlnaHQgPSB0aGlzLm9sZFNpemUgfHwgNDIwIC8vIFJlc2V0IHRoZSBzdG9yZWQgcG9zaXRpb24gdG8gZm9yY2UgdG8gcmVjYWxjdWxhdGUgd2luZG93IHNpemUgVE9ETzogU3RvcmUgcHJldmlvdXMgcG9zaXRpb24gdG8gcmVzdG9yZSBpdCBpbnN0ZWFkIG9mIGF1dG9cbiAgICB9XG4gICAgYXdhaXQgdGhpcy5hY3Rvci5zZXRGbGFnKCdDb0M3JywgJ2V4cGFuZGVkJywgIWV4cGFuZGVkKVxuICB9XG5cbiAgYXN5bmMgX29uQWRkQXJtb3IgKCkge1xuICAgIGNvbnN0IGxvY2F0aW9ucyA9IGR1cGxpY2F0ZShcbiAgICAgIHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnMuYXJtb3IubG9jYXRpb25zIHx8IFtdXG4gICAgKVxuICAgIGxvY2F0aW9ucy5wdXNoKHsgbmFtZTogbnVsbCwgdmFsdWU6IG51bGwgfSlcbiAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZSh7ICdzeXN0ZW0uYXR0cmlicy5hcm1vci5sb2NhdGlvbnMnOiBsb2NhdGlvbnMgfSlcbiAgfVxuXG4gIGFzeW5jIF9vblJlbW92ZUFybW9yIChldmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICBjb25zdCBsb2NhdGlvbiA9IGJ1dHRvbi5jbG9zZXN0KCcuYXJtb3InKVxuICAgIGNvbnN0IGluZGV4ID0gbG9jYXRpb24uZGF0YXNldC5pbmRleFxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IGR1cGxpY2F0ZShcbiAgICAgIHRoaXMuYWN0b3Iuc3lzdGVtLmF0dHJpYnMuYXJtb3IubG9jYXRpb25zIHx8IG51bGxcbiAgICApXG4gICAgaWYgKCFsb2NhdGlvbnMpIHJldHVyblxuICAgIGxvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgYXdhaXQgdGhpcy5hY3Rvci51cGRhdGUoeyAnc3lzdGVtLmF0dHJpYnMuYXJtb3IubG9jYXRpb25zJzogbG9jYXRpb25zIH0pXG4gIH1cblxuICBvbkNsb3NlU2hlZXQgKCkge1xuICAgIHN1cGVyLm9uQ2xvc2VTaGVldCgpXG4gICAgLy8gdGhpcy5hY3Rvci5sb2NrZWQgPSB0cnVlO1xuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgLyogIEZvcm0gU3VibWlzc2lvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgX3VwZGF0ZU9iamVjdCAoZXZlbnQsIGZvcm1EYXRhKSB7XG4gICAgY29uc3Qgc3lzdGVtID0gZXhwYW5kT2JqZWN0KGZvcm1EYXRhKT8uc3lzdGVtXG4gICAgaWYgKHN5c3RlbS5hdHRyaWJzLmFybW9yLmxvY2F0aW9ucykge1xuICAgICAgZm9ybURhdGFbJ3N5c3RlbS5hdHRyaWJzLmFybW9yLmxvY2F0aW9ucyddID0gT2JqZWN0LnZhbHVlcyhcbiAgICAgICAgc3lzdGVtLmF0dHJpYnMuYXJtb3IubG9jYXRpb25zIHx8IFtdXG4gICAgICApXG4gICAgfVxuXG4gICAgc3VwZXIuX3VwZGF0ZU9iamVjdChldmVudCwgZm9ybURhdGEpXG4gIH1cbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBJdGVtU2hlZXQsIG1lcmdlT2JqZWN0LCBUZXh0RWRpdG9yICovXG5pbXBvcnQgeyBhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIH0gZnJvbSAnLi4vLi4vc2NyaXB0cy9jb2MtaWQtYnV0dG9uLmpzJ1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IGlzQ3RybEtleSB9IGZyb20gJy4uLy4uL2NoYXQvaGVscGVyLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy5qcydcblxuLyoqXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQ29DN1dlYXBvblNoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zICgpIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIGNsYXNzZXM6IFsnY29jNycsICdzaGVldCcsICdpdGVtJ10sXG4gICAgICB3aWR0aDogNTQ1LFxuICAgICAgaGVpZ2h0OiA0ODAsXG4gICAgICB0YWJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYXZTZWxlY3RvcjogJy5zaGVldC10YWJzJyxcbiAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXQtYm9keScsXG4gICAgICAgICAgaW5pdGlhbDogJ3NraWxscydcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGdldCB0ZW1wbGF0ZSAoKSB7XG4gICAgY29uc3QgcGF0aCA9ICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zJ1xuICAgIHJldHVybiBgJHtwYXRofS93ZWFwb24tc2hlZXQuaHRtbGBcbiAgfVxuXG4gIF9nZXRIZWFkZXJCdXR0b25zICgpIHtcbiAgICBjb25zdCBoZWFkZXJCdXR0b25zID0gc3VwZXIuX2dldEhlYWRlckJ1dHRvbnMoKVxuICAgIGFkZENvQ0lEU2hlZXRIZWFkZXJCdXR0b24oaGVhZGVyQnV0dG9ucywgdGhpcylcbiAgICByZXR1cm4gaGVhZGVyQnV0dG9uc1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBJdGVtIHNoZWV0XG4gICAqIFRoZSBwcmVwYXJlZCBkYXRhIG9iamVjdCBjb250YWlucyBib3RoIHRoZSBhY3RvciBkYXRhIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBzaGVldCBvcHRpb25zXG4gICAqL1xuICBnZXREYXRhICgpIHtcbiAgICBjb25zdCBzaGVldERhdGEgPSBzdXBlci5nZXREYXRhKClcblxuICAgIHNoZWV0RGF0YS5jb21iYXRTa2lsbCA9IFtdXG5cbiAgICBzaGVldERhdGEuaGFzT3duZXIgPSB0aGlzLml0ZW0uaXNFbWJlZGRlZCA9PT0gdHJ1ZVxuICAgIGlmIChzaGVldERhdGEuaGFzT3duZXIpIHtcbiAgICAgIHNoZWV0RGF0YS5maXJlYXJtU2tpbGxzID0gdGhpcy5hY3Rvci5maXJlYXJtU2tpbGxzXG4gICAgICBzaGVldERhdGEuZmlnaHRpbmdTa2lsbHMgPSB0aGlzLmFjdG9yLmZpZ2h0aW5nU2tpbGxzXG4gICAgICBzaGVldERhdGEuY29tYmF0U2tpbGwgPSB0aGlzLml0ZW0uYWN0b3IuaXRlbXMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICAgICAgaWYgKGl0ZW0uc3lzdGVtLnByb3BlcnRpZXMuY29tYmF0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIHNoZWV0RGF0YS5jb21iYXRTa2lsbC5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcbiAgICB9XG5cbiAgICBzaGVldERhdGEuX3Byb3BlcnRpZXMgPSBbXVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENPQzcud2VhcG9uUHJvcGVydGllcykpIHtcbiAgICAgIHNoZWV0RGF0YS5fcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgbmFtZTogdmFsdWUsXG4gICAgICAgIGlzRW5hYmxlZDogdGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzW2tleV0gPT09IHRydWVcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgc2hlZXREYXRhLl9lcmFzID0gW11cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDT0M3LmVyYXMpKSB7XG4gICAgICBzaGVldERhdGEuX2VyYXMucHVzaCh7XG4gICAgICAgIHByaWNlOiB0aGlzLml0ZW0uc3lzdGVtLnByaWNlW2tleV0gPz8gMCxcbiAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKHZhbHVlKSxcbiAgICAgICAgaXNFbmFibGVkOiAodGhpcy5pdGVtLmZsYWdzPy5Db0M3Py5jb2NpZEZsYWc/LmVyYXMgPz8ge30pW2tleV0gPT09IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICAgIHNoZWV0RGF0YS5fZXJhcy5zb3J0KENvQzdVdGlsaXRpZXMuc29ydEJ5TmFtZUtleSlcblxuICAgIHNoZWV0RGF0YS51c2VzQWx0ZXJuYXRlU2tpbGwgPVxuICAgICAgdGhpcy5pdGVtLnN5c3RlbS5wcm9wZXJ0aWVzLmF1dG8gPT09IHRydWUgfHxcbiAgICAgIHRoaXMuaXRlbS5zeXN0ZW0ucHJvcGVydGllcy5icnN0ID09PSB0cnVlIHx8XG4gICAgICB0aGlzLml0ZW0uc3lzdGVtLnByb3BlcnRpZXMudGhyb3duID09PSB0cnVlXG5cbiAgICBzaGVldERhdGEuZW5yaWNoZWREZXNjcmlwdGlvblZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uU3BlY2lhbCA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChcbiAgICAgIHNoZWV0RGF0YS5kYXRhLnN5c3RlbS5kZXNjcmlwdGlvbi5zcGVjaWFsLFxuICAgICAge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIHNlY3JldHM6IHNoZWV0RGF0YS5lZGl0YWJsZVxuICAgICAgfVxuICAgIClcblxuICAgIHNoZWV0RGF0YS5lbnJpY2hlZERlc2NyaXB0aW9uS2VlcGVyID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKFxuICAgICAgc2hlZXREYXRhLmRhdGEuc3lzdGVtLmRlc2NyaXB0aW9uLmtlZXBlcixcbiAgICAgIHtcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICBzZWNyZXRzOiBzaGVldERhdGEuZWRpdGFibGVcbiAgICAgIH1cbiAgICApXG5cbiAgICBzaGVldERhdGEuaXNLZWVwZXIgPSBnYW1lLnVzZXIuaXNHTVxuICAgIHJldHVybiBzaGVldERhdGFcbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgcHJlcGFyZWQgc2hlZXQgSFRNTFxuICAgKiBAcGFyYW0gaHRtbCB7SFRNTH0gICBUaGUgcHJlcGFyZWQgSFRNTCBvYmplY3QgcmVhZHkgdG8gYmUgcmVuZGVyZWQgaW50byB0aGUgRE9NXG4gICAqL1xuICBhY3RpdmF0ZUxpc3RlbmVycyAoaHRtbCkge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpXG5cbiAgICAvLyBFdmVyeXRoaW5nIGJlbG93IGhlcmUgaXMgb25seSBuZWVkZWQgaWYgdGhlIHNoZWV0IGlzIGVkaXRhYmxlXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHJldHVyblxuICAgIGh0bWwuZmluZCgnLnRvZ2dsZS1zd2l0Y2gnKS5jbGljayh0aGlzLl9vbkNsaWNrVG9nZ2xlLmJpbmQodGhpcykpXG4gICAgaHRtbC5maW5kKCcud2VhcG9uLXByb3BlcnR5JykuY2xpY2sodGhpcy5fb25Qcm9wZXJ0eUNsaWNrLmJpbmQodGhpcykpXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHsqfSBldmVudFxuICAgKi9cbiAgYXN5bmMgX29uQ2xpY2tUb2dnbGUgKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHByb3BlcnR5SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy50b2dnbGUtc3dpdGNoJykuZGF0YXNldC5wcm9wZXJ0eVxuICAgIGF3YWl0IHRoaXMuaXRlbS50b2dnbGVQcm9wZXJ0eShcbiAgICAgIHByb3BlcnR5SWQsXG4gICAgICBpc0N0cmxLZXkoZXZlbnQpXG4gICAgKVxuICB9XG5cbiAgYXN5bmMgX29uUHJvcGVydHlDbGljayAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgcHJvcGVydHlJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLndlYXBvbi1wcm9wZXJ0eScpLmRhdGFzZXQucHJvcGVydHlcbiAgICBhd2FpdCB0aGlzLml0ZW0udG9nZ2xlUHJvcGVydHkocHJvcGVydHlJZClcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIGdhbWUsIEhvb2tzICovXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuYXN5bmMgZnVuY3Rpb24gcGVyZm9ybUZpbHRlciAoZSkge1xuICBjb25zdCBhcHBJZCA9IGUuY3VycmVudFRhcmdldC5uYW1lLnJlcGxhY2UoL15jb2M3W14wLTldKyhcXGQrKSQvLCAnJDEnKVxuICBjb25zdCBhcHAgPSAkKCdkaXYuYXBwW2RhdGEtYXBwaWQ9JyArIGFwcElkICsgJ10nKVxuICBjb25zdCB0eXBlID0gYXBwLmZpbmQoJ3NlbGVjdFtuYW1lPWNvYzd0eXBlJyArIGFwcElkICsgJ10nKS52YWwoKVxuICBjb25zdCBuYW1lID0gYXBwLmZpbmQoJ2lucHV0W25hbWU9c2VhcmNoXScpLnZhbCgpXG4gIGNvbnN0IGVyYUVsZW1lbnQgPSBhcHAuZmluZCgnc2VsZWN0W25hbWU9Y29jN2VyYScgKyBhcHBJZCArICddJylcbiAgbGV0IGVyYSA9ICcnXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3NldHVwJzpcbiAgICBjYXNlICdza2lsbCc6XG4gICAgY2FzZSAnd2VhcG9uJzpcbiAgICAgIGVyYUVsZW1lbnQuY2xvc2VzdCgnZGl2LmVyYV9zZWxlY3QnKS5zaG93KClcbiAgICAgIGVyYSA9IGVyYUVsZW1lbnQudmFsKClcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIGVyYUVsZW1lbnQuY2xvc2VzdCgnZGl2LmVyYV9zZWxlY3QnKS5oaWRlKClcbiAgfVxuICBjb25zdCBpdGVtcyA9IGF3YWl0IGdhbWUucGFja3MuZ2V0KGFwcC5kYXRhKCdwYWNrSWQnKSk/LmdldERvY3VtZW50cygpXG4gIGlmICh0eXBlb2YgaXRlbXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qgc2hvdyA9IFtdXG4gIGNvbnN0IG5hbWVGaWx0ZXIgPSBuZXcgUmVnRXhwKFJlZ0V4cC5lc2NhcGUobmFtZSksICdpJylcbiAgZm9yIChjb25zdCBbLCBpdGVtXSBvZiBPYmplY3QuZW50cmllcyhpdGVtcykpIHtcbiAgICBsZXQgZmlsdGVyID0gdHJ1ZVxuICAgIGlmIChmaWx0ZXIgJiYgbmFtZSAhPT0gJycpIHtcbiAgICAgIGZpbHRlciA9IGl0ZW0ubmFtZS5tYXRjaChuYW1lRmlsdGVyKVxuICAgIH1cbiAgICBpZiAoZmlsdGVyICYmIHR5cGUgIT09ICcnKSB7XG4gICAgICBmaWx0ZXIgPSBpdGVtLnR5cGUgPT09IHR5cGVcbiAgICB9XG4gICAgaWYgKGZpbHRlciAmJiBlcmEgIT09ICcnKSB7XG4gICAgICBjb25zdCBlcmFzID0gaXRlbS5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5lcmFzXG4gICAgICBpZiAoZXJhcyAmJiBPYmplY3Qua2V5cyhlcmFzKS5sZW5ndGggPiAwICYmICEoZXJhc1tlcmFdID8/IGZhbHNlKSkge1xuICAgICAgICBmaWx0ZXIgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmlsdGVyKSB7XG4gICAgICBzaG93LnB1c2goaXRlbS5pZClcbiAgICB9XG4gIH1cbiAgYXBwLmZpbmQoJ29sLmRpcmVjdG9yeS1saXN0IGxpJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gc2hvdy5pbmNsdWRlcyh0aGlzLmRhdGFzZXQuZG9jdW1lbnRJZClcbiAgICAgID8gJ2ZsZXgnXG4gICAgICA6ICdub25lJ1xuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGVuZGl1bUZpbHRlciAoKSB7XG4gIEhvb2tzLm9uKCdyZW5kZXJDb21wZW5kaXVtJywgYXN5bmMgKGFwcCwgaHRtbCwgZGF0YSkgPT4ge1xuICAgIGlmIChhcHAuY29sbGVjdGlvbi5kb2N1bWVudE5hbWUgPT09ICdJdGVtJykge1xuICAgICAgYXdhaXQgYXBwLmNvbGxlY3Rpb24uZ2V0SW5kZXgoKVxuICAgICAgY29uc3QgdHlwZXMgPSBbLi4ubmV3IFNldChkYXRhLmluZGV4LmZpbHRlcihpID0+IGkubmFtZSAhPT0gJyNbQ0ZfdGVtcEVudGl0eV0nKS5tYXAoaXRlbSA9PiBpdGVtLnR5cGUpKV1cbiAgICAgIGNvbnN0IHNlbGVjdCA9IFtdXG4gICAgICBzZWxlY3QucHVzaChcbiAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJcIj4nICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFsbCcpICsgJzwvb3B0aW9uPidcbiAgICAgIClcbiAgICAgIGlmICh0eXBlcy5pbmNsdWRlcygnYXJjaGV0eXBlJykpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJhcmNoZXR5cGVcIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5BcmNoZXR5cGUnKSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAodHlwZXMuaW5jbHVkZXMoJ2Jvb2snKSkge1xuICAgICAgICBzZWxlY3QucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cImJvb2tcIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5Cb29rJykgK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKCdpdGVtJykpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJpdGVtXCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuSXRlbScpICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlcy5pbmNsdWRlcygnb2NjdXBhdGlvbicpKSB7XG4gICAgICAgIHNlbGVjdC5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwib2NjdXBhdGlvblwiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLk9jY3VwYXRpb24nKSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAodHlwZXMuaW5jbHVkZXMoJ3NldHVwJykpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJzZXR1cFwiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLlNldHVwJykgK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKCdza2lsbCcpKSB7XG4gICAgICAgIHNlbGVjdC5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwic2tpbGxcIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5Ta2lsbCcpICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlcy5pbmNsdWRlcygnc3BlbGwnKSkge1xuICAgICAgICBzZWxlY3QucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cInNwZWxsXCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuU3BlbGwnKSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAodHlwZXMuaW5jbHVkZXMoJ3N0YXR1cycpKSB7XG4gICAgICAgIHNlbGVjdC5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwic3RhdHVzXCI+JyArXG4gICAgICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRW50aXRpZXMuU3RhdHVzJykgK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKCd0YWxlbnQnKSkge1xuICAgICAgICBzZWxlY3QucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cInRhbGVudFwiPicgK1xuICAgICAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkVudGl0aWVzLlRhbGVudCcpICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlcy5pbmNsdWRlcygnd2VhcG9uJykpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goXG4gICAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJ3ZWFwb25cIj4nICtcbiAgICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FbnRpdGllcy5XZWFwb24nKSArXG4gICAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb25zdCBlcmFzID0gW11cbiAgICAgIGVyYXMucHVzaChcbiAgICAgICAgJzxvcHRpb24gdmFsdWU9XCJcIj4nICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkFsbCcpICsgJzwvb3B0aW9uPidcbiAgICAgIClcbiAgICAgIGZvciAoY29uc3QgZXJhIG9mIE9iamVjdC5lbnRyaWVzKENPQzcuZXJhcykubWFwKGUgPT4geyByZXR1cm4geyBpZDogZVswXSwgbmFtZTogZ2FtZS5pMThuLmxvY2FsaXplKGVbMV0pIH0gfSkuc29ydChDb0M3VXRpbGl0aWVzLnNvcnRCeU5hbWVLZXkpKSB7XG4gICAgICAgIGVyYXMucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIicgK1xuICAgICAgICAgICAgZXJhLmlkICtcbiAgICAgICAgICAgICdcIj4nICtcbiAgICAgICAgICAgIGVyYS5uYW1lICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGh0bWwuZGF0YSgncGFja0lkJywgYXBwLm1ldGFkYXRhLmlkKVxuICAgICAgbGV0IHVuY29tbW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlNraWxsUmFyaXR5U2hvcnQnKVxuICAgICAgaWYgKHVuY29tbW9uID09PSAnQ29DNy5Ta2lsbFJhcml0eVNob3J0Jykge1xuICAgICAgICB1bmNvbW1vbiA9ICc/PydcbiAgICAgIH1cbiAgICAgIGh0bWwuZmluZCgnbGkuZGlyZWN0b3J5LWl0ZW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gJCh0aGlzKVxuICAgICAgICBsZXQgaXRlbSA9IFtdXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YS5pbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBERVBSRUNJQVRFRCBJTiB2MTFcbiAgICAgICAgICBpdGVtID0gZGF0YS5pbmRleC5maW5kKGkgPT4gaS5faWQgPT09IHJvdy5kYXRhKCdkb2N1bWVudC1pZCcpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0gPSBhcHAuY29sbGVjdGlvbi5pbmRleC5nZXQocm93LmRhdGEoJ2RvY3VtZW50LWlkJykpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS50eXBlID09PSAnc2tpbGwnKSB7XG4gICAgICAgICAgcm93LmZpbmQoJ2EnKS5odG1sKGl0ZW0ubmFtZSArICcgKCcgKyAoaXRlbS5zeXN0ZW0/LmJhc2UgPz8gJz8nKSArICclJyArICgoaXRlbS5zeXN0ZW0/LnByb3BlcnRpZXM/LnJhcml0eSA/PyBmYWxzZSkgPyAnICcgKyB1bmNvbW1vbiA6ICcnKSArICcpJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGh0bWxcbiAgICAgICAgLmZpbmQoJ2hlYWRlci5kaXJlY3RvcnktaGVhZGVyJylcbiAgICAgICAgLmFmdGVyKFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29tcGVuZGl1bWZpbHRlclwiPicgK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaGVhZGVyLXNlYXJjaCBmbGV4cm93XCI+PGkgY2xhc3M9XCJmYXMgZmEtbGF5ZXItZ3JvdXBcIj48L2k+PHNlbGVjdCBuYW1lPVwiY29jN3R5cGUnICsgYXBwLmFwcElkICsgJ1wiIHN0eWxlPVwiXCI+JyArIHNlbGVjdC5qb2luKCcnKSArICc8L3NlbGVjdD48L2Rpdj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImhlYWRlci1zZWFyY2ggZmxleHJvdyBlcmFfc2VsZWN0XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj48aSBjbGFzcz1cImZhcyBmYS1sYXllci1ncm91cFwiPjwvaT48c2VsZWN0IG5hbWU9XCJjb2M3ZXJhJyArIGFwcC5hcHBJZCArICdcIiBzdHlsZT1cIlwiPicgKyBlcmFzLmpvaW4oJycpICsgJzwvc2VsZWN0PjwvZGl2PicgK1xuICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgIClcbiAgICAgIGh0bWwuZmluZCgnc2VsZWN0JykuY2hhbmdlKHBlcmZvcm1GaWx0ZXIuYmluZCh0aGlzKSlcbiAgICAgIGh0bWwuZmluZCgnaW5wdXQnKS5rZXl1cChwZXJmb3JtRmlsdGVyLmJpbmQodGhpcykpXG4gICAgfVxuICB9KVxufVxuIiwiLyogZ2xvYmFsIEFjdG9yLCBDYXJkLCBDT05GSUcsIGZsYXR0ZW5PYmplY3QsIGdhbWUsIEl0ZW0sIEpvdXJuYWxFbnRyeSwgTWFjcm8sIFBsYXlsaXN0LCBSb2xsVGFibGUsIFNjZW5lLCBTY2VuZU5hdmlnYXRpb24sIHVpICovXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi4vY29uZmlnLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcblxuZXhwb3J0IGNsYXNzIENvQ0lEIHtcbiAgc3RhdGljIGluaXQgKCkge1xuICAgIENPTkZJRy5BY3Rvci5jb21wZW5kaXVtSW5kZXhGaWVsZHMucHVzaCgnZmxhZ3MuQ29DNy5jb2NpZEZsYWcnKVxuICAgIC8vIENPTkZJRy5DYXJkcy5jb21wZW5kaXVtSW5kZXhGaWVsZHMucHVzaCgnZmxhZ3MuQ29DNy5jb2NpZEZsYWcnKVxuICAgIENPTkZJRy5JdGVtLmNvbXBlbmRpdW1JbmRleEZpZWxkcy5wdXNoKCdmbGFncy5Db0M3LmNvY2lkRmxhZycpXG4gICAgQ09ORklHLkl0ZW0uY29tcGVuZGl1bUluZGV4RmllbGRzLnB1c2goJ3N5c3RlbS5iYXNlJylcbiAgICBDT05GSUcuSXRlbS5jb21wZW5kaXVtSW5kZXhGaWVsZHMucHVzaCgnc3lzdGVtLnByb3BlcnRpZXMnKVxuICAgIENPTkZJRy5Kb3VybmFsRW50cnkuY29tcGVuZGl1bUluZGV4RmllbGRzLnB1c2goJ2ZsYWdzLkNvQzcuY29jaWRGbGFnJylcbiAgICBDT05GSUcuTWFjcm8uY29tcGVuZGl1bUluZGV4RmllbGRzLnB1c2goJ2ZsYWdzLkNvQzcuY29jaWRGbGFnJylcbiAgICBDT05GSUcuUGxheWxpc3QuY29tcGVuZGl1bUluZGV4RmllbGRzLnB1c2goJ2ZsYWdzLkNvQzcuY29jaWRGbGFnJylcbiAgICBDT05GSUcuUm9sbFRhYmxlLmNvbXBlbmRpdW1JbmRleEZpZWxkcy5wdXNoKCdmbGFncy5Db0M3LmNvY2lkRmxhZycpXG4gICAgQ09ORklHLlNjZW5lLmNvbXBlbmRpdW1JbmRleEZpZWxkcy5wdXNoKCdmbGFncy5Db0M3LmNvY2lkRmxhZycpXG4gICAgZ2FtZS5zeXN0ZW0uYXBpID0ge1xuICAgICAgY29jaWQ6IENvQ0lEXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgUmVnRXhwIGZvciB2YWxpZCB0eXBlIGFuZCBmb3JtYXRcbiAgICogQHJldHVybnMgUmVnRXhwXG4gICAqL1xuICBzdGF0aWMgcmVnRXhLZXkgKCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeKCcgKyBPYmplY3Qua2V5cyhDb0NJRC5nYW1lUHJvcGVydHlMb29rdXApLmpvaW4oJ3wnKSArICcpXFxcXC4oLio/KVxcXFwuKC4rKSQnKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBDb0NJRCB0eXBlLnN1YnR5cGUuIGJhc2VkIG9uIGRvY3VtZW50XG4gICAqIEBwYXJhbSBkb2N1bWVudFxuICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICovXG4gIHN0YXRpYyBnZXRQcmVmaXggKGRvY3VtZW50KSB7XG4gICAgZm9yIChjb25zdCB0eXBlIGluIENvQ0lELmRvY3VtZW50TmFtZUxvb2t1cCkge1xuICAgICAgaWYgKGRvY3VtZW50IGluc3RhbmNlb2YgQ29DSUQuZG9jdW1lbnROYW1lTG9va3VwW3R5cGVdKSB7XG4gICAgICAgIHJldHVybiB0eXBlICsgJy4nICsgKGRvY3VtZW50LnR5cGUgPz8gJycpICsgJy4nXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBDb0NJRCB0eXBlLnN1YnR5cGUubmFtZSBiYXNlZCBvbiBkb2N1bWVudFxuICAgKiBAcGFyYW0gZG9jdW1lbnRcbiAgICogQHJldHVybnMgc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgZ3Vlc3NJZCAoZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gQ29DSUQuZ2V0UHJlZml4KGRvY3VtZW50KSArIENvQzdVdGlsaXRpZXMudG9LZWJhYkNhc2UoZG9jdW1lbnQubmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgQ29DSUQgdHlwZS5zdWJ0eXBlLnBhcnRpYWwtbmFtZSgtcmVtb3ZlZClcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICovXG4gIHN0YXRpYyBndWVzc0dyb3VwRnJvbUtleSAoaWQpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGNvbnN0IGtleSA9IGlkLnJlcGxhY2UoLyhbXlxcXFwuLV0rKSQvLCAnJylcbiAgICAgIGlmIChrZXkuc3Vic3RyKC0xKSA9PT0gJy0nKSB7XG4gICAgICAgIHJldHVybiBrZXlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvKipcbiAgICogR2V0IENvQ0lEIHR5cGUuc3VidHlwZS5wYXJ0aWFsLW5hbWUoLXJlbW92ZWQpXG4gICAqIEBwYXJhbSBkb2N1bWVudFxuICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICovXG4gIHN0YXRpYyBndWVzc0dyb3VwRnJvbURvY3VtZW50IChkb2N1bWVudCkge1xuICAgIHJldHVybiBDb0NJRC5ndWVzc0dyb3VwRnJvbUtleShkb2N1bWVudC5mbGFncz8uQ29DNz8uY29jaWRGbGFnPy5pZClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRyYW5zbGF0aW9uIG9mIGVyYSBrZXlcbiAgICogQHBhcmFtIGVyYSB0aGUgZXJhcyB0byBtYXRjaCBhZ2FpbnN0ICgnc3RhbmRhcmQnLCAnbW9kZXJuUHVscCcsIC4uLiksIHRydWUgPSB3b3JsZCBkZWZhdWx0LCBmYWxzZSA9IG5vIGZpbHRlclxuICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICovXG4gIHN0YXRpYyBlcmFUZXh0IChlcmEpIHtcbiAgICBpZiAoZXJhID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5BbnknKVxuICAgIH1cbiAgICByZXR1cm4gZ2FtZS5pMThuLmZvcm1hdChDT0M3LmVyYXNbZXJhXSA/PyAnQ29DNy5Db0NJREZsYWcuZXJyb3IudW5rbm93bi1lcmEnLCB7IGVyYSB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGl0ZW1zIHdpdGggbWF0Y2hpbmcgQ29DSURzLCBsYW5ndWFnZSwgYW5kIGVyYXNcbiAgICogdWkubm90aWZpY2F0aW9ucy53YXJuIGZvciBtaXNzaW5nIGtleXNcbiAgICogQHBhcmFtIGl0ZW1MaXN0IGFycmF5IG9mIENvQ0lEc1xuICAgKiBAcGFyYW0gbGFuZyB0aGUgbGFuZ3VhZ2UgdG8gbWF0Y2ggYWdhaW5zdCAoJ2VuJywgJ2VzJywgLi4uKVxuICAgKiBAcGFyYW0gZXJhIHRoZSBlcmFzIHRvIG1hdGNoIGFnYWluc3QgKCdzdGFuZGFyZCcsICdtb2Rlcm5QdWxwJywgLi4uKSwgdHJ1ZSA9IHdvcmxkIGRlZmF1bHQsIGZhbHNlID0gbm8gZmlsdGVyXG4gICAqIEBwYXJhbSBsYW5nRmFsbGJhY2sgc2hvdWxkIHRoZSBzeXN0ZW0gZmFsbCBiYWNrIHRvIGVuIGluY2FzZSB0aGVyZSBpcyBubyB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0gc2hvd0xvYWRpbmcgU2hvdyBsb2FkaW5nIGJhclxuICAgKiBAcmV0dXJucyBhcnJheVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGV4cGFuZEl0ZW1BcnJheSAoeyBpdGVtTGlzdCwgbGFuZyA9IGdhbWUuaTE4bi5sYW5nLCBlcmEgPSB0cnVlLCBsYW5nRmFsbGJhY2sgPSB0cnVlLCBzaG93TG9hZGluZyA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGxldCBpdGVtcyA9IFtdXG4gICAgY29uc3QgY29jaWRzID0gaXRlbUxpc3QuZmlsdGVyKGl0ID0+IHR5cGVvZiBpdCA9PT0gJ3N0cmluZycpXG4gICAgaXRlbXMgPSBpdGVtTGlzdC5maWx0ZXIoaXQgPT4gdHlwZW9mIGl0ICE9PSAnc3RyaW5nJylcblxuICAgIGlmIChjb2NpZHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBmb3VuZCA9IGF3YWl0IENvQ0lELmZyb21Db0NJRFJlZ2V4QmVzdCh7IGNvY2lkUmVnRXhwOiBDb0NJRC5tYWtlR3JvdXBSZWdFeChjb2NpZHMpLCB0eXBlOiAnaScsIGxhbmcsIGVyYSwgbGFuZ0ZhbGxiYWNrLCBzaG93TG9hZGluZyB9KVxuICAgICAgY29uc3QgYWxsID0gW11cbiAgICAgIGZvciAoY29uc3QgY29jaWQgb2YgY29jaWRzKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBmb3VuZC5maW5kKGkgPT4gaS5mbGFncy5Db0M3LmNvY2lkRmxhZy5pZCA9PT0gY29jaWQpXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgYWxsLnB1c2goaXRlbSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFsbC5sZW5ndGggPCBjb2NpZHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG5vdG1pc3NpbmcgPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBhbGwpIHtcbiAgICAgICAgICBub3RtaXNzaW5nLnB1c2goZG9jLmZsYWdzLkNvQzcuY29jaWRGbGFnLmlkKVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcmEgPT09IHRydWUpIHtcbiAgICAgICAgICBlcmEgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd3b3JsZEVyYScpXG4gICAgICAgIH1cbiAgICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ29DSURGbGFnLmVycm9yLmRvY3VtZW50cy1ub3QtZm91bmQnLCB7IGNvY2lkczogY29jaWRzLmZpbHRlcih4ID0+ICFub3RtaXNzaW5nLmluY2x1ZGVzKHgpKS5qb2luKCcsICcpLCBsYW5nLCBlcmE6IENvQ0lELmVyYVRleHQoZXJhKSB9KSlcbiAgICAgIH1cbiAgICAgIGl0ZW1zID0gaXRlbXMuY29uY2F0KGFsbClcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpdGVtIHdpdGggbWF0Y2hpbmcgQ29DSURzIGZyb20gbGlzdFxuICAgKiBFbXB0eSBhcnJheSByZXR1cm4gZm9yIG1pc3Npbmcga2V5c1xuICAgKiBAcGFyYW0gY29jaWQgYSBzaW5nbGUgY29jaWRcbiAgICogQHBhcmFtIGxpc3QgYXJyYXkgb2YgaXRlbXNcbiAgICogQHJldHVybnMgYXJyYXlcbiAgICovXG4gIHN0YXRpYyBmaW5kQ29jSWRJbkxpc3QgKGNvY2lkLCBsaXN0KSB7XG4gICAgbGV0IGl0ZW1OYW1lID0gJydcbiAgICBjb25zdCBDb0NJREtleXMgPSBmbGF0dGVuT2JqZWN0KGdhbWUuaTE4bi50cmFuc2xhdGlvbnMuQ29DNy5Db0NJREZsYWcua2V5cylcbiAgICBpZiAodHlwZW9mIENvQ0lES2V5c1tjb2NpZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpdGVtTmFtZSA9IENvQ0lES2V5c1tjb2NpZF1cbiAgICB9XG4gICAgcmV0dXJuICh0eXBlb2YgbGlzdC5maWx0ZXIgPT09ICd1bmRlZmluZWQnID8gT2JqZWN0LnZhbHVlcyhsaXN0KSA6IGxpc3QpLmZpbHRlcihpID0+IGkuZmxhZ3M/LkNvQzc/LmNvY2lkRmxhZz8uaWQgPT09IGNvY2lkIHx8IChpdGVtTmFtZSAhPT0gJycgJiYgaXRlbU5hbWUgPT09IGkubmFtZSkpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBSZWdFeHAgbWF0Y2hpbmcgYWxsIHN0cmluZ3MgaW4gYXJyYXlcbiAgICogQHBhcmFtIGNvY2lkcyBhbiBhcnJheSBvZiBDb0NJRCBzdHJpbmdzXG4gICAqIEBwYXJhbSBsaXN0IGFycmF5IG9mIGl0ZW1zXG4gICAqIEByZXR1cm5zIFJlZ0V4cFxuICAgKi9cbiAgc3RhdGljIG1ha2VHcm91cFJlZ0V4IChjb2NpZHMpIHtcbiAgICBpZiAodHlwZW9mIGNvY2lkcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvY2lkcyA9IFtjb2NpZHNdXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29jaWRzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgY29jaWRzLmZpbHRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICBjb25zdCBzcGxpdHMgPSB7fVxuICAgIGNvbnN0IHJneCA9IENvQ0lELnJlZ0V4S2V5KClcbiAgICBmb3IgKGNvbnN0IGkgb2YgY29jaWRzKSB7XG4gICAgICBjb25zdCBrZXkgPSBpLm1hdGNoKHJneClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzcGxpdHNba2V5WzFdXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzcGxpdHNba2V5WzFdXSA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzcGxpdHNba2V5WzFdXVtrZXlbMl1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNwbGl0c1trZXlbMV1dW2tleVsyXV0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIHNwbGl0c1trZXlbMV1dW2tleVsyXV0ucHVzaChrZXlbM10pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTbGllbnRseSBlcnJvclxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZWdFeFBhcnRzID0gW11cbiAgICBmb3IgKGNvbnN0IHQgaW4gc3BsaXRzKSB7XG4gICAgICBjb25zdCByb3cgPSBbXVxuICAgICAgZm9yIChjb25zdCBzIGluIHNwbGl0c1t0XSkge1xuICAgICAgICBpZiAoc3BsaXRzW3RdW3NdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByb3cucHVzaChzICsgJ1xcXFwuJyArICcoJyArIHNwbGl0c1t0XVtzXS5qb2luKCd8JykgKyAnKScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnB1c2gocyArICdcXFxcLicgKyBzcGxpdHNbdF1bc10uam9pbignJykpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyb3cubGVuZ3RoID4gMSkge1xuICAgICAgICByZWdFeFBhcnRzLnB1c2godCArICdcXFxcLicgKyAnKCcgKyByb3cuam9pbignfCcpICsgJyknKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVnRXhQYXJ0cy5wdXNoKHQgKyAnXFxcXC4nICsgcm93LmpvaW4oJycpKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVnRXhQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXignICsgcmVnRXhQYXJ0cy5qb2luKCd8JykgKyAnKSQnKVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyByZWdFeFBhcnRzLmpvaW4oJycpICsgJyQnKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGRvY3VtZW50cyB3aXRoIGFuIENvQ0lEIG1hdGNoaW5nIHRoZSByZWdleCBhbmQgbWF0Y2hpbmcgdGhlIGRvY3VtZW50IHR5cGVcbiAgICogYW5kIGxhbmd1YWdlLCBmcm9tIHRoZSBzcGVjaWZpZWQgc2NvcGUuXG4gICAqIEVtcHR5IGFycmF5IHJldHVybiBmb3Igbm8gbWF0Y2hlc1xuICAgKiBAcGFyYW0gY29jaWRSZWdFeHAgcmVnZXggdXNlZCBvbiB0aGUgQ29DSURcbiAgICogQHBhcmFtIHR5cGUgdGhlIGZpcnN0IHBhcnQgb2YgdGhlIHdhbnRlZCBDb0NJRCwgZm9yIGV4YW1wbGUgJ2knLCAnYScsICdqZSdcbiAgICogQHBhcmFtIGVyYSB0aGUgZXJhcyB0byBtYXRjaCBhZ2FpbnN0ICgnc3RhbmRhcmQnLCAnbW9kZXJuUHVscCcsIC4uLiksIHRydWUgPSB3b3JsZCBkZWZhdWx0LCBmYWxzZSA9IG5vIGZpbHRlclxuICAgKiBAcGFyYW0gbGFuZyB0aGUgbGFuZ3VhZ2UgdG8gbWF0Y2ggYWdhaW5zdCAoJ2VuJywgJ2VzJywgLi4uKVxuICAgKiBAcGFyYW0gc2NvcGUgZGVmaW5lcyB3aGVyZSBpdCB3aWxsIGxvb2s6XG4gICAqICoqbWF0Y2gqKiBzYW1lIGxvZ2ljIGFzIGZyb21Db0NJRCBmdW5jdGlvbixcbiAgICogKiphbGwqKjogZmluZCBpbiBib3RoIHdvcmxkICYgY29tcGVuZGlhLFxuICAgKiAqKndvcmxkKio6IG9ubHkgc2VhcmNoIGluIHdvcmxkLFxuICAgKiAqKmNvbXBlbmRpdW1zKio6IG9ubHkgc2VhcmNoIGluIGNvbXBlbmRpdW1zXG4gICAqIEBwYXJhbSBsYW5nRmFsbGJhY2sgc2hvdWxkIHRoZSBzeXN0ZW0gZmFsbCBiYWNrIHRvIGVuIGluY2FzZSB0aGVyZSBpcyBubyB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0gc2hvd0xvYWRpbmcgU2hvdyBsb2FkaW5nIGJhclxuICAgKiBAcmV0dXJucyBhcnJheVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGZyb21Db0NJRFJlZ2V4QWxsICh7IGNvY2lkUmVnRXhwLCB0eXBlLCBsYW5nID0gZ2FtZS5pMThuLmxhbmcsIGVyYSA9IGZhbHNlLCBzY29wZSA9ICdtYXRjaCcsIGxhbmdGYWxsYmFjayA9IHRydWUsIHNob3dMb2FkaW5nID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgaWYgKCFjb2NpZFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdXG5cbiAgICBsZXQgY291bnQgPSAwXG4gICAgaWYgKHNob3dMb2FkaW5nKSB7XG4gICAgICBpZiAoWydtYXRjaCcsICdhbGwnLCAnd29ybGQnXS5pbmNsdWRlcyhzY29wZSkpIHtcbiAgICAgICAgY291bnQrK1xuICAgICAgfVxuICAgICAgaWYgKFsnbWF0Y2gnLCAnYWxsJywgJ2NvbXBlbmRpdW1zJ10uaW5jbHVkZXMoc2NvcGUpKSB7XG4gICAgICAgIGNvdW50ID0gY291bnQgKyBnYW1lLnBhY2tzLnNpemVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoWydtYXRjaCcsICdhbGwnLCAnd29ybGQnXS5pbmNsdWRlcyhzY29wZSkpIHtcbiAgICAgIGNvbnN0IHdvcmxkRG9jdW1lbnRzID0gYXdhaXQgQ29DSUQuZG9jdW1lbnRzRnJvbVdvcmxkKHsgY29jaWRSZWdFeHAsIHR5cGUsIGxhbmcsIGVyYSwgbGFuZ0ZhbGxiYWNrLCBwcm9ncmVzc0JhcjogY291bnQgfSlcbiAgICAgIGlmIChzY29wZSA9PT0gJ21hdGNoJyAmJiB3b3JsZERvY3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHNob3dMb2FkaW5nKSB7XG4gICAgICAgICAgU2NlbmVOYXZpZ2F0aW9uLmRpc3BsYXlQcm9ncmVzc0Jhcih7IGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFVQLlBhY2thZ2VzTG9hZGluZycpLCBwY3Q6IDEwMCB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlckFsbENvQ0lEKHdvcmxkRG9jdW1lbnRzLCBsYW5nRmFsbGJhY2sgJiYgbGFuZyAhPT0gJ2VuJylcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5zcGxpY2UoMCwgMCwgLi4ud29ybGREb2N1bWVudHMpXG4gICAgfVxuXG4gICAgaWYgKFsnbWF0Y2gnLCAnYWxsJywgJ2NvbXBlbmRpdW1zJ10uaW5jbHVkZXMoc2NvcGUpKSB7XG4gICAgICBjb25zdCBjb21wZW5kaWFEb2N1bWVudHMgPSBhd2FpdCBDb0NJRC5kb2N1bWVudHNGcm9tQ29tcGVuZGlhKHsgY29jaWRSZWdFeHAsIHR5cGUsIGxhbmcsIGVyYSwgbGFuZ0ZhbGxiYWNrLCBwcm9ncmVzc0JhcjogY291bnQgfSlcblxuICAgICAgcmVzdWx0LnNwbGljZShyZXN1bHQubGVuZ3RoLCAwLCAuLi5jb21wZW5kaWFEb2N1bWVudHMpXG4gICAgfVxuXG4gICAgaWYgKHNob3dMb2FkaW5nKSB7XG4gICAgICBTY2VuZU5hdmlnYXRpb24uZGlzcGxheVByb2dyZXNzQmFyKHsgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVVAuUGFja2FnZXNMb2FkaW5nJyksIHBjdDogMTAwIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyQWxsQ29DSUQocmVzdWx0LCBsYW5nRmFsbGJhY2sgJiYgbGFuZyAhPT0gJ2VuJylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCBkb2N1bWVudHMgd2l0aCBhbiBDb0NJRCwgbGFuZ3VhZ2UsIGFuZCBlcmEgZnJvbSB0aGUgc3BlY2lmaWVkIHNjb3BlLlxuICAgKiBFbXB0eSBhcnJheSByZXR1cm4gZm9yIG5vIG1hdGNoZXNcbiAgICogQHBhcmFtIGNvY2lkIGEgc2luZ2xlIGNvY2lkXG4gICAqIEBwYXJhbSBsYW5nIHRoZSBsYW5ndWFnZSB0byBtYXRjaCBhZ2FpbnN0ICgnZW4nLCAnZXMnLCAuLi4pXG4gICAqIEBwYXJhbSBlcmEgdGhlIGVyYXMgdG8gbWF0Y2ggYWdhaW5zdCAoJ3N0YW5kYXJkJywgJ21vZGVyblB1bHAnLCAuLi4pLCB0cnVlID0gd29ybGQgZGVmYXVsdCwgZmFsc2UgPSBubyBmaWx0ZXJcbiAgICogQHBhcmFtIHNjb3BlIGRlZmluZXMgd2hlcmUgaXQgd2lsbCBsb29rOlxuICAgKiAqKm1hdGNoKiogc2FtZSBsb2dpYyBhcyBmcm9tQ29DSUQgZnVuY3Rpb24sXG4gICAqICoqYWxsKio6IGZpbmQgaW4gYm90aCB3b3JsZCAmIGNvbXBlbmRpYSxcbiAgICogKip3b3JsZCoqOiBvbmx5IHNlYXJjaCBpbiB3b3JsZCxcbiAgICogKipjb21wZW5kaXVtcyoqOiBvbmx5IHNlYXJjaCBpbiBjb21wZW5kaXVtc1xuICAgKiBAcGFyYW0gbGFuZ0ZhbGxiYWNrIHNob3VsZCB0aGUgc3lzdGVtIGZhbGwgYmFjayB0byBlbiBpbmNhc2UgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb25cbiAgICogQHBhcmFtIHNob3dMb2FkaW5nIFNob3cgbG9hZGluZyBiYXJcbiAgICogQHJldHVybnMgYXJyYXlcbiAgICovXG4gIHN0YXRpYyBhc3luYyBmcm9tQ29DSURBbGwgKHsgY29jaWQsIGxhbmcgPSBnYW1lLmkxOG4ubGFuZywgZXJhID0gZmFsc2UsIHNjb3BlID0gJ21hdGNoJywgbGFuZ0ZhbGxiYWNrID0gdHJ1ZSwgc2hvd0xvYWRpbmcgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBpZiAoIWNvY2lkIHx8IHR5cGVvZiBjb2NpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBjb25zdCBwYXJ0cyA9IGNvY2lkLm1hdGNoKENvQ0lELnJlZ0V4S2V5KCkpXG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGlmIChsYW5nID09PSAnJykge1xuICAgICAgbGFuZyA9IGdhbWUuaTE4bi5sYW5nXG4gICAgfVxuICAgIHJldHVybiBDb0NJRC5mcm9tQ29DSURSZWdleEFsbCh7IGNvY2lkUmVnRXhwOiBuZXcgUmVnRXhwKCdeJyArIENvQzdVdGlsaXRpZXMucXVvdGVSZWdFeHAoY29jaWQpICsgJyQnKSwgdHlwZTogcGFydHNbMV0sIGxhbmcsIGVyYSwgc2NvcGUsIGxhbmdGYWxsYmFjaywgc2hvd0xvYWRpbmcgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIG9ubHkgdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZG9jdW1lbnRzIGZvciBlYWNoIENvQ0lEIHRoYXQgbWF0Y2hlcyB0aGUgUmVnRXhwIGFuZFxuICAgKiBsYW5ndWFnZSwgd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eSBkb2N1bWVudHMgaW4gdGhlIFdvcmxkIHRha2luZyBwcmVjZWRlbmNlIG92ZXJcbiAgICogYW55IGRvY3VtZW50cyBpbiBjb21wZW5kaXVtIHBhY2tzLlxuICAgKiBFbXB0eSBhcnJheSByZXR1cm4gZm9yIG5vIG1hdGNoZXNcbiAgICogQHBhcmFtIGNvY2lkUmVnRXhwIHJlZ2V4IHVzZWQgb24gdGhlIENvQ0lEXG4gICAqIEBwYXJhbSB0eXBlIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSB3YW50ZWQgQ29DSUQsIGZvciBleGFtcGxlICdpJywgJ2EnLCAnamUnXG4gICAqIEBwYXJhbSBsYW5nIHRoZSBsYW5ndWFnZSB0byBtYXRjaCBhZ2FpbnN0IChcImVuXCIsIFwiZXNcIiwgLi4uKVxuICAgKiBAcGFyYW0gZXJhIHRoZSBlcmFzIHRvIG1hdGNoIGFnYWluc3QgKCdzdGFuZGFyZCcsICdtb2Rlcm5QdWxwJywgLi4uKSwgdHJ1ZSA9IHdvcmxkIGRlZmF1bHQsIGZhbHNlID0gbm8gZmlsdGVyXG4gICAqIEBwYXJhbSBsYW5nRmFsbGJhY2sgc2hvdWxkIHRoZSBzeXN0ZW0gZmFsbCBiYWNrIHRvIGVuIGluY2FzZSB0aGVyZSBpcyBubyB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0gc2hvd0xvYWRpbmcgU2hvdyBsb2FkaW5nIGJhclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGZyb21Db0NJRFJlZ2V4QmVzdCAoeyBjb2NpZFJlZ0V4cCwgdHlwZSwgbGFuZyA9IGdhbWUuaTE4bi5sYW5nLCBlcmEgPSB0cnVlLCBsYW5nRmFsbGJhY2sgPSB0cnVlLCBzaG93TG9hZGluZyA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGNvbnN0IGFsbERvY3VtZW50cyA9IGF3YWl0IHRoaXMuZnJvbUNvQ0lEUmVnZXhBbGwoeyBjb2NpZFJlZ0V4cCwgdHlwZSwgbGFuZywgZXJhLCBzY29wZTogJ2FsbCcsIGxhbmdGYWxsYmFjaywgc2hvd0xvYWRpbmcgfSlcbiAgICBjb25zdCBiZXN0RG9jdW1lbnRzID0gdGhpcy5maWx0ZXJCZXN0Q29DSUQoYWxsRG9jdW1lbnRzKVxuICAgIHJldHVybiBiZXN0RG9jdW1lbnRzXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBvbmx5IHRoZSBoaWdoZXN0IHByaW9yaXR5IGRvY3VtZW50IGZvciBDb0NJRCB0aGF0IG1hdGNoZXMgdGhlIGxhbmd1YWdlLFxuICAgKiB3aXRoIHRoZSBoaWdoZXN0IHByaW9yaXR5IGRvY3VtZW50cyBpbiB0aGUgV29ybGQgdGFraW5nIHByZWNlZGVuY2Ugb3ZlclxuICAgKiBhbnkgZG9jdW1lbnRzXG4gICAqIGluIGNvbXBlbmRpdW0gcGFja3MuXG4gICAqIEBwYXJhbSBjb2NpZCBzdHJpbmcgQ29DSURcbiAgICogQHBhcmFtIGxhbmcgdGhlIGxhbmd1YWdlIHRvIG1hdGNoIGFnYWluc3QgKFwiZW5cIiwgXCJlc1wiLCAuLi4pXG4gICAqIEBwYXJhbSBlcmEgdGhlIGVyYXMgdG8gbWF0Y2ggYWdhaW5zdCAoJ3N0YW5kYXJkJywgJ21vZGVyblB1bHAnLCAuLi4pLCB0cnVlID0gd29ybGQgZGVmYXVsdCwgZmFsc2UgPSBubyBmaWx0ZXJcbiAgICogQHBhcmFtIGxhbmdGYWxsYmFjayBzaG91bGQgdGhlIHN5c3RlbSBmYWxsIGJhY2sgdG8gZW4gaW5jYXNlIHRoZXJlIGlzIG5vIHRyYW5zbGF0aW9uXG4gICAqL1xuICBzdGF0aWMgZnJvbUNvQ0lEIChjb2NpZCwgbGFuZyA9IGdhbWUuaTE4bi5sYW5nLCBlcmEgPSB0cnVlLCBsYW5nRmFsbGJhY2sgPSB0cnVlKSB7XG4gICAgcmV0dXJuIENvQ0lELmZyb21Db0NJREJlc3QoeyBjb2NpZCwgbGFuZywgZXJhLCBsYW5nRmFsbGJhY2sgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIG9ubHkgdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZG9jdW1lbnQgZm9yIENvQ0lEIHRoYXQgbWF0Y2hlcyB0aGUgbGFuZ3VhZ2UsXG4gICAqIHdpdGggdGhlIGhpZ2hlc3QgcHJpb3JpdHkgZG9jdW1lbnRzIGluIHRoZSBXb3JsZCB0YWtpbmcgcHJlY2VkZW5jZSBvdmVyXG4gICAqIGFueSBkb2N1bWVudHNcbiAgICogaW4gY29tcGVuZGl1bSBwYWNrcy5cbiAgICogQHBhcmFtIGNvY2lkIHN0cmluZyBDb0NJRFxuICAgKiBAcGFyYW0gbGFuZyB0aGUgbGFuZ3VhZ2UgdG8gbWF0Y2ggYWdhaW5zdCAoXCJlblwiLCBcImVzXCIsIC4uLilcbiAgICogQHBhcmFtIGVyYSB0aGUgZXJhcyB0byBtYXRjaCBhZ2FpbnN0ICgnc3RhbmRhcmQnLCAnbW9kZXJuUHVscCcsIC4uLiksIHRydWUgPSB3b3JsZCBkZWZhdWx0LCBmYWxzZSA9IG5vIGZpbHRlclxuICAgKiBAcGFyYW0gbGFuZ0ZhbGxiYWNrIHNob3VsZCB0aGUgc3lzdGVtIGZhbGwgYmFjayB0byBlbiBpbmNhc2UgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb25cbiAgICogQHBhcmFtIHNob3dMb2FkaW5nIFNob3cgbG9hZGluZyBiYXJcbiAgICovXG4gIHN0YXRpYyBmcm9tQ29DSURCZXN0ICh7IGNvY2lkLCBsYW5nID0gZ2FtZS5pMThuLmxhbmcsIGVyYSA9IHRydWUsIGxhbmdGYWxsYmFjayA9IHRydWUsIHNob3dMb2FkaW5nID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgaWYgKCFjb2NpZCB8fCB0eXBlb2YgY29jaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IGNvY2lkLnNwbGl0KCcuJylbMF1cbiAgICBjb25zdCBjb2NpZFJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14nICsgQ29DN1V0aWxpdGllcy5xdW90ZVJlZ0V4cChjb2NpZCkgKyAnJCcpXG4gICAgcmV0dXJuIENvQ0lELmZyb21Db0NJRFJlZ2V4QmVzdCh7IGNvY2lkUmVnRXhwLCB0eXBlLCBsYW5nLCBlcmEsIGxhbmdGYWxsYmFjaywgc2hvd0xvYWRpbmcgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgYW4gYXJyYXkgb2YgZG9jdW1lbnRzLCByZXR1cm5zIG9ubHkgdGhvc2UgdGhhdCBhcmUgdGhlIFwiYmVzdFwiIHZlcnNpb24gb2YgdGhlaXIgQ29DSURcbiAgICogQHBhcmFtIGRvY3VtZW50c1xuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgc3RhdGljIGZpbHRlckJlc3RDb0NJRCAoZG9jdW1lbnRzKSB7XG4gICAgY29uc3QgYmVzdE1hdGNoRG9jdW1lbnRzID0gbmV3IE1hcCgpXG5cbiAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2N1bWVudHMpIHtcbiAgICAgIGNvbnN0IGRvY0NvQ0lEID0gZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LmlkXG4gICAgICBpZiAoZG9jQ29DSUQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEV4aXN0cyA9IGJlc3RNYXRjaERvY3VtZW50cy5nZXQoZG9jQ29DSUQpPy5pZFxuICAgICAgICBjb25zdCBkb2NMYW5nID0gZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LmxhbmcgPz8gJ2VuJ1xuICAgICAgICBjb25zdCBleGlzdGluZ0xhbmcgPSBiZXN0TWF0Y2hEb2N1bWVudHMuZ2V0KGRvY0NvQ0lEKT8uZ2V0RmxhZygnQ29DNycsICdjb2NpZEZsYWcnKT8ubGFuZyA/PyAnZW4nXG4gICAgICAgIGNvbnN0IHByZWZlckxhbmcgPSAoIWN1cnJlbnRFeGlzdHMgfHwgZXhpc3RpbmdMYW5nID09PSAnZW4nIHx8IGV4aXN0aW5nTGFuZyA9PT0gZG9jTGFuZylcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3ByZWZlckxhbmcnLCAnPicsIGRvY0xhbmcsICc8ID4nLCBleGlzdGluZ0xhbmcsICc8JywgcHJlZmVyTGFuZylcbiAgICAgICAgY29uc3QgZG9jUGFjayA9IChkb2MucGFjayA/PyAnJylcbiAgICAgICAgY29uc3QgZXhpc3RpbmdQYWNrID0gKGJlc3RNYXRjaERvY3VtZW50cy5nZXQoZG9jQ29DSUQpPy5wYWNrID8/ICcnKVxuICAgICAgICBjb25zdCBwcmVmZXJXb3JsZCA9ICghY3VycmVudEV4aXN0cyB8fCBkb2NQYWNrID09PSAnJyB8fCBleGlzdGluZ1BhY2sgIT09ICcnKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygncHJlZmVyV29ybGQnLCAnPicsIGRvY1BhY2ssICc8ID4nLCBleGlzdGluZ1BhY2ssICc8JywgcHJlZmVyV29ybGQpXG4gICAgICAgIGNvbnN0IGRvY1ByaW9yaXR5ID0gcGFyc2VJbnQoZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LnByaW9yaXR5LCAxMClcbiAgICAgICAgY29uc3QgZXhpc3RpbmdQcmlvcml0eSA9IHBhcnNlSW50KGJlc3RNYXRjaERvY3VtZW50cy5nZXQoZG9jQ29DSUQpPy5nZXRGbGFnKCdDb0M3JywgJ2NvY2lkRmxhZycpPy5wcmlvcml0eSA/PyBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUilcbiAgICAgICAgY29uc3QgcHJlZmVyUHJpb3JpdHkgPSAoIWN1cnJlbnRFeGlzdHMgfHwgZG9jUHJpb3JpdHkgPT09IGV4aXN0aW5nUHJpb3JpdHkgfHwgZG9jUHJpb3JpdHkgPiBleGlzdGluZ1ByaW9yaXR5KVxuICAgICAgICAvLyBjb25zb2xlLmxvZygncHJlZmVyUHJpb3JpdHknLCAnPicsIGRvY1ByaW9yaXR5LCAnPCA+JywgZXhpc3RpbmdQcmlvcml0eSwgJzwnLCBwcmVmZXJQcmlvcml0eSlcbiAgICAgICAgaWYgKHByZWZlckxhbmcgJiYgcHJlZmVyV29ybGQgJiYgcHJlZmVyUHJpb3JpdHkpIHtcbiAgICAgICAgICBiZXN0TWF0Y2hEb2N1bWVudHMuc2V0KGRvY0NvQ0lELCBkb2MpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmJlc3RNYXRjaERvY3VtZW50cy52YWx1ZXMoKV1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgYW4gYXJyYXkgb2YgZG9jdW1lbnRzLCByZXR1cm5zIGZpbHRlciBvdXQgZW4gZG9jdW1lbnRzIGlmIGEgdHJhbnNsYXRlZCBvbmUgZXhpc3RzIG1hdGNoaW5nIHRoZSBzYW1lIGVyYXNcbiAgICogQHBhcmFtIGRvY3VtZW50c1xuICAgKiBAcGFyYW0gbGFuZ0ZhbGxiYWNrIHNob3VsZCB0aGUgc3lzdGVtIGZhbGwgYmFjayB0byBlbiBpbmNhc2UgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb25cbiAgICogQHJldHVybnNcbiAgICovXG4gIHN0YXRpYyBmaWx0ZXJBbGxDb0NJRCAoZG9jdW1lbnRzLCBsYW5nRmFsbGJhY2spIHtcbiAgICBpZiAoIWxhbmdGYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGRvY3VtZW50c1xuICAgIH1cbiAgICBjb25zdCBiZXN0TWF0Y2hEb2N1bWVudHMgPSBuZXcgTWFwKClcblxuICAgIGZvciAoY29uc3QgZG9jIG9mIGRvY3VtZW50cykge1xuICAgICAgY29uc3QgZG9jQ29DSUQgPSBkb2MuZ2V0RmxhZygnQ29DNycsICdjb2NpZEZsYWcnKT8uaWRcbiAgICAgIGNvbnN0IGRvY0VyYXMgPSBPYmplY3QuZW50cmllcyhkb2MuZ2V0RmxhZygnQ29DNycsICdjb2NpZEZsYWcnKT8uZXJhcyA/PyB7fSkuZmlsdGVyKGUgPT4gZVsxXSkubWFwKGUgPT4gZVswXSkuam9pbignLycpXG4gICAgICBpZiAoZG9jQ29DSUQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEV4aXN0cyA9IGJlc3RNYXRjaERvY3VtZW50cy5nZXQoZG9jQ29DSUQpPy5pZFxuICAgICAgICBjb25zdCBkb2NMYW5nID0gZG9jLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LmxhbmcgPz8gJ2VuJ1xuICAgICAgICBjb25zdCBleGlzdGluZ0xhbmcgPSBiZXN0TWF0Y2hEb2N1bWVudHMuZ2V0KGRvY0NvQ0lEKT8uZ2V0RmxhZygnQ29DNycsICdjb2NpZEZsYWcnKT8ubGFuZyA/PyAnZW4nXG4gICAgICAgIGNvbnN0IHByZWZlckxhbmcgPSAoIWN1cnJlbnRFeGlzdHMgfHwgZXhpc3RpbmdMYW5nID09PSAnZW4nIHx8IGV4aXN0aW5nTGFuZyA9PT0gZG9jTGFuZylcbiAgICAgICAgaWYgKHByZWZlckxhbmcpIHtcbiAgICAgICAgICBiZXN0TWF0Y2hEb2N1bWVudHMuc2V0KGRvY0NvQ0lEICsgJy8nICsgZG9jRXJhcywgZG9jKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFsuLi5iZXN0TWF0Y2hEb2N1bWVudHMudmFsdWVzKCldXG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiBhbGwgZG9jdW1lbnRzIG1hdGNoaW5nIHRoZSBDb0NJRCByZWdleCwgbGFuZ3VhZ2UsIGFuZCBlcmEgZnJvbSB0aGUgd29ybGQuXG4gICAqIFRoZSBkb2N1bWVudCBsaXN0IGlzIHNvcnRlZCB3aXRoIHRoZSBoaWdoZXN0IHByaW9yaXR5IGZpcnN0LlxuICAgKiBAcGFyYW0gY29jaWRSZWdFeHAgcmVnZXggdXNlZCBvbiB0aGUgQ29DSURcbiAgICogQHBhcmFtIHR5cGUgdGhlIGZpcnN0IHBhcnQgb2YgdGhlIHdhbnRlZCBDb0NJRCwgZm9yIGV4YW1wbGUgJ2knLCAnYScsICdqZSdcbiAgICogQHBhcmFtIGVyYSB0aGUgZXJhcyB0byBtYXRjaCBhZ2FpbnN0ICgnc3RhbmRhcmQnLCAnbW9kZXJuUHVscCcsIC4uLiksIHRydWUgPSB3b3JsZCBkZWZhdWx0LCBmYWxzZSA9IG5vIGZpbHRlclxuICAgKiBAcGFyYW0gbGFuZyB0aGUgbGFuZ3VhZ2UgdG8gbWF0Y2ggYWdhaW5zdCAoJ2VuJywgJ2VzJywgLi4uKVxuICAgKiBAcGFyYW0gbGFuZ0ZhbGxiYWNrIHNob3VsZCB0aGUgc3lzdGVtIGZhbGwgYmFjayB0byBlbiBpbmNhc2UgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb25cbiAgICogQHBhcmFtIHByb2dyZXNzQmFyIElmIGdyZWF0ZXIgdGhhbiB6ZXJvIHNob3cgcGVyY2VudGFnZVxuICAgKiBAcmV0dXJucyBhcnJheVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGRvY3VtZW50c0Zyb21Xb3JsZCAoeyBjb2NpZFJlZ0V4cCwgdHlwZSwgbGFuZyA9IGdhbWUuaTE4bi5sYW5nLCBlcmEgPSBmYWxzZSwgbGFuZ0ZhbGxiYWNrID0gdHJ1ZSwgcHJvZ3Jlc3NCYXIgPSAwIH0gPSB7fSkge1xuICAgIGlmICghY29jaWRSZWdFeHApIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBpZiAobGFuZyA9PT0gJycpIHtcbiAgICAgIGxhbmcgPSBnYW1lLmkxOG4ubGFuZ1xuICAgIH1cbiAgICBpZiAoZXJhID09PSB0cnVlKSB7XG4gICAgICBlcmEgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd3b3JsZEVyYScpXG4gICAgfVxuXG4gICAgaWYgKHByb2dyZXNzQmFyID4gMCkge1xuICAgICAgU2NlbmVOYXZpZ2F0aW9uLmRpc3BsYXlQcm9ncmVzc0Jhcih7IGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFVQLlBhY2thZ2VzTG9hZGluZycpLCBwY3Q6IE1hdGguZmxvb3IoMTAwIC8gcHJvZ3Jlc3NCYXIpIH0pXG4gICAgfVxuXG4gICAgY29uc3QgZ2FtZVByb3BlcnR5ID0gQ29DSUQuZ2V0R2FtZVByb3BlcnR5KGAke3R5cGV9Li5gKVxuXG4gICAgY29uc3QgY2FuZGlkYXRlRG9jdW1lbnRzID0gZ2FtZVtnYW1lUHJvcGVydHldPy5maWx0ZXIoKGQpID0+IHtcbiAgICAgIGNvbnN0IGNvY2lkRmxhZyA9IGQuZ2V0RmxhZygnQ29DNycsICdjb2NpZEZsYWcnKVxuICAgICAgaWYgKHR5cGVvZiBjb2NpZEZsYWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgY29uc3QgZXJhcyA9IChjb2NpZEZsYWcuZXJhcyA/PyBbXSlcbiAgICAgIGNvbnN0IG1hdGNoaW5nRXJhcyA9IChlcmEgPT09IGZhbHNlIHx8IE9iamVjdC5lbnRyaWVzKGVyYXMpLmxlbmd0aCA9PT0gMCB8fCAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVyYXMsIGVyYSkgJiYgZXJhc1tlcmFdKSlcbiAgICAgIHJldHVybiBjb2NpZFJlZ0V4cC50ZXN0KGNvY2lkRmxhZy5pZCkgJiYgW2xhbmcsIChsYW5nRmFsbGJhY2sgPyAnZW4nIDogJy0nKV0uaW5jbHVkZXMoY29jaWRGbGFnLmxhbmcpICYmIG1hdGNoaW5nRXJhc1xuICAgIH0pXG5cbiAgICBpZiAoY2FuZGlkYXRlRG9jdW1lbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIHJldHVybiBjYW5kaWRhdGVEb2N1bWVudHMuc29ydChDb0NJRC5jb21wYXJlQ29DSURQcmlvKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGxpc3Qgb2YgYWxsIGRvY3VtZW50cyBtYXRjaGluZyB0aGUgQ29DSUQgcmVnZXgsIGxhbmd1YWdlLCBhbmQgZXJhIGZyb20gdGhlIGNvbXBlbmRpdW1zLlxuICAgKiBUaGUgZG9jdW1lbnQgbGlzdCBpcyBzb3J0ZWQgd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eSBmaXJzdC5cbiAgICogQHBhcmFtIGNvY2lkUmVnRXhwIHJlZ2V4IHVzZWQgb24gdGhlIENvQ0lEXG4gICAqIEBwYXJhbSB0eXBlIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSB3YW50ZWQgQ29DSUQsIGZvciBleGFtcGxlICdpJywgJ2EnLCAnamUnXG4gICAqIEBwYXJhbSBlcmEgdGhlIGVyYXMgdG8gbWF0Y2ggYWdhaW5zdCAoJ3N0YW5kYXJkJywgJ21vZGVyblB1bHAnLCAuLi4pLCB0cnVlID0gd29ybGQgZGVmYXVsdCwgZmFsc2UgPSBubyBmaWx0ZXJcbiAgICogQHBhcmFtIGxhbmcgdGhlIGxhbmd1YWdlIHRvIG1hdGNoIGFnYWluc3QgKCdlbicsICdlcycsIC4uLilcbiAgICogQHBhcmFtIGxhbmdGYWxsYmFjayBzaG91bGQgdGhlIHN5c3RlbSBmYWxsIGJhY2sgdG8gZW4gaW5jYXNlIHRoZXJlIGlzIG5vIHRyYW5zbGF0aW9uXG4gICAqIEBwYXJhbSBwcm9ncmVzc0JhciBJZiBncmVhdGVyIHRoYW4gemVybyBzaG93IHBlcmNlbnRhZ2VcbiAgICogQHJldHVybnMgYXJyYXlcbiAgICovXG4gIHN0YXRpYyBhc3luYyBkb2N1bWVudHNGcm9tQ29tcGVuZGlhICh7IGNvY2lkUmVnRXhwLCB0eXBlLCBsYW5nID0gZ2FtZS5pMThuLmxhbmcsIGVyYSA9IGZhbHNlLCBsYW5nRmFsbGJhY2sgPSB0cnVlLCBwcm9ncmVzc0JhciA9IDAgfSkge1xuICAgIGlmICghY29jaWRSZWdFeHApIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBpZiAobGFuZyA9PT0gJycpIHtcbiAgICAgIGxhbmcgPSBnYW1lLmkxOG4ubGFuZ1xuICAgIH1cbiAgICBpZiAoZXJhID09PSB0cnVlKSB7XG4gICAgICBlcmEgPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICd3b3JsZEVyYScpXG4gICAgfVxuICAgIGNvbnN0IGVyYVRleHQgPSBDb0NJRC5lcmFUZXh0KGVyYSlcblxuICAgIGNvbnN0IGRvY3VtZW50VHlwZSA9IENvQ0lELmdldERvY3VtZW50VHlwZSh0eXBlKS5zY2hlbWEubmFtZVxuICAgIGNvbnN0IGNhbmRpZGF0ZURvY3VtZW50cyA9IFtdXG5cbiAgICBsZXQgY291bnQgPSAxXG4gICAgZm9yIChjb25zdCBwYWNrIG9mIGdhbWUucGFja3MpIHtcbiAgICAgIGlmIChwcm9ncmVzc0JhciA+IDApIHtcbiAgICAgICAgU2NlbmVOYXZpZ2F0aW9uLmRpc3BsYXlQcm9ncmVzc0Jhcih7IGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFVQLlBhY2thZ2VzTG9hZGluZycpLCBwY3Q6IE1hdGguZmxvb3IoY291bnQgKiAxMDAgLyBwcm9ncmVzc0JhcikgfSlcbiAgICAgICAgY291bnQrK1xuICAgICAgfVxuICAgICAgaWYgKHBhY2suZG9jdW1lbnROYW1lID09PSBkb2N1bWVudFR5cGUpIHtcbiAgICAgICAgaWYgKCFwYWNrLmluZGV4ZWQpIHtcbiAgICAgICAgICBhd2FpdCBwYWNrLmdldEluZGV4KClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleEluc3RhbmNlcyA9IHBhY2suaW5kZXguZmlsdGVyKChpKSA9PiB7XG4gICAgICAgICAgY29uc3QgY29jaWRGbGFnID0gaS5mbGFncz8uQ29DNz8uY29jaWRGbGFnXG4gICAgICAgICAgaWYgKHR5cGVvZiBjb2NpZEZsYWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZXJhcyA9IChjb2NpZEZsYWcuZXJhcyA/PyBbXSlcbiAgICAgICAgICBjb25zdCBtYXRjaGluZ0VyYXMgPSAoZXJhID09PSBmYWxzZSB8fCBPYmplY3QuZW50cmllcyhlcmFzKS5sZW5ndGggPT09IDAgfHwgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlcmFzLCBlcmEpICYmIGVyYXNbZXJhXSkpXG4gICAgICAgICAgcmV0dXJuIGNvY2lkUmVnRXhwLnRlc3QoY29jaWRGbGFnLmlkKSAmJiBbbGFuZywgKGxhbmdGYWxsYmFjayA/ICdlbicgOiAnLScpXS5pbmNsdWRlcyhjb2NpZEZsYWcubGFuZykgJiYgbWF0Y2hpbmdFcmFzXG4gICAgICAgIH0pXG4gICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kZXhJbnN0YW5jZXMpIHtcbiAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IHBhY2suZ2V0RG9jdW1lbnQoaW5kZXguX2lkKVxuICAgICAgICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ29DSURGbGFnLmVycm9yLmRvY3VtZW50LW5vdC1mb3VuZCcsIHtcbiAgICAgICAgICAgICAgY29jaWQ6IGNvY2lkUmVnRXhwLFxuICAgICAgICAgICAgICBsYW5nLFxuICAgICAgICAgICAgICBlcmE6IGVyYVRleHRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKG1zZylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb0M3IHwnLCBtc2csIGluZGV4KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FuZGlkYXRlRG9jdW1lbnRzLnB1c2goZG9jdW1lbnQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGVEb2N1bWVudHMuc29ydChDb0NJRC5jb21wYXJlQ29DSURQcmlvKVxuICB9XG5cbiAgLyoqXG4gICAqIFNvcnQgYSBsaXN0IG9mIGRvY3VtZW50IG9uIENvQ0lEIHByaW9yaXR5IC0gdGhlIGhpZ2hlc3QgZmlyc3QuXG4gICAqIEBleGFtcGxlXG4gICAqIGFMaXN0T2ZEb2N1bWVudHMuc29ydChDb0NJRC5jb21wYXJlQ29DSURQcmlvKVxuICAgKi9cbiAgc3RhdGljIGNvbXBhcmVDb0NJRFByaW8gKGEsIGIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgYi5nZXRGbGFnKCdDb0M3JywgJ2NvY2lkRmxhZycpPy5wcmlvcml0eSAtXG4gICAgICBhLmdldEZsYWcoJ0NvQzcnLCAnY29jaWRGbGFnJyk/LnByaW9yaXR5XG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zbGF0ZXMgdGhlIGZpcnN0IHBhcnQgb2YgYSBDb0NJRCB0byB3aGF0IHRob3NlIGRvY3VtZW50cyBhcmUgY2FsbGVkIGluIHRoZSBgZ2FtZWAgb2JqZWN0LlxuICAgKiBAcGFyYW0gY29jaWQgYSBzaW5nbGUgY29jaWRcbiAgICovXG4gIHN0YXRpYyBnZXRHYW1lUHJvcGVydHkgKGNvY2lkKSB7XG4gICAgY29uc3QgdHlwZSA9IGNvY2lkLnNwbGl0KCcuJylbMF1cbiAgICBjb25zdCBnYW1lUHJvcGVydHkgPSBDb0NJRC5nYW1lUHJvcGVydHlMb29rdXBbdHlwZV1cbiAgICBpZiAoIWdhbWVQcm9wZXJ0eSkge1xuICAgICAgdWkubm90aWZpY2F0aW9ucy53YXJuKGdhbWUuaTE4bi5mb3JtYXQoJ0NvQzcuQ29DSURGbGFnLmVycm9yLmluY29ycmVjdC50eXBlJykpXG4gICAgICBjb25zb2xlLmxvZygnQ29DNyB8ICcsIGNvY2lkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICB9XG4gICAgcmV0dXJuIGdhbWVQcm9wZXJ0eVxuICB9XG5cbiAgc3RhdGljIGdldCBnYW1lUHJvcGVydHlMb29rdXAgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhOiAnYWN0b3JzJyxcbiAgICAgIGM6ICdjYXJkcycsXG4gICAgICBpOiAnaXRlbXMnLFxuICAgICAgamU6ICdqb3VybmFsJyxcbiAgICAgIG06ICdtYWNyb3MnLFxuICAgICAgcDogJ3BsYXlsaXN0cycsXG4gICAgICBydDogJ3RhYmxlcycsXG4gICAgICBzOiAnc2NlbmVzJ1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGVzIHRoZSBmaXJzdCBwYXJ0IG9mIGEgQ29DSUQgdG8gd2hhdCB0aG9zZSBkb2N1bWVudHMgYXJlIGNhbGxlZCBpbiB0aGUgYGdhbWVgIG9iamVjdC5cbiAgICogQHBhcmFtIGNvY2lkIGEgc2luZ2xlIGNvY2lkXG4gICAqL1xuICBzdGF0aWMgZ2V0RG9jdW1lbnRUeXBlIChjb2NpZCkge1xuICAgIGNvbnN0IHR5cGUgPSBjb2NpZC5zcGxpdCgnLicpWzBdXG4gICAgY29uc3QgZG9jdW1lbnRUeXBlID0gQ29DSUQuZG9jdW1lbnROYW1lTG9va3VwW3R5cGVdXG4gICAgaWYgKCFkb2N1bWVudFR5cGUpIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnMud2FybihnYW1lLmkxOG4uZm9ybWF0KCdDb0M3LkNvQ0lERmxhZy5lcnJvci5pbmNvcnJlY3QudHlwZScpKVxuICAgICAgY29uc29sZS5sb2coJ0NvQzcgfCAnLCBjb2NpZClcbiAgICAgIHRocm93IG5ldyBFcnJvcigpXG4gICAgfVxuICAgIHJldHVybiBkb2N1bWVudFR5cGVcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZG9jdW1lbnROYW1lTG9va3VwICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYTogQWN0b3IsXG4gICAgICBjOiBDYXJkLFxuICAgICAgaTogSXRlbSxcbiAgICAgIGplOiBKb3VybmFsRW50cnksXG4gICAgICBtOiBNYWNybyxcbiAgICAgIHA6IFBsYXlsaXN0LFxuICAgICAgcnQ6IFJvbGxUYWJsZSxcbiAgICAgIHM6IFNjZW5lXG4gICAgfVxuICB9XG59XG4iLCIvKiBnbG9iYWwgSG9va3MgKi9cbmltcG9ydCB7IGNvbmZpZ3VyZURvY3VtZW50cyB9IGZyb20gJy4uL3NjcmlwdHMvY29uZmlndXJlLWRvY3VtZW50cy5qcydcbmltcG9ydCB7IHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzIH0gZnJvbSAnLi4vc2NyaXB0cy9sb2FkLXRlbXBsYXRlcy5qcydcbmltcG9ydCB7IHJlZ2lzdGVyU2V0dGluZ3MgfSBmcm9tICcuLi9zY3JpcHRzL3JlZ2lzdGVyLXNldHRpbmdzLmpzJ1xuaW1wb3J0IHsgcmVnaXN0ZXJTaGVldHMgfSBmcm9tICcuLi9zY3JpcHRzL3JlZ2lzdGVyLXNoZWV0cy5qcydcbmltcG9ydCB7IGhhbmRsZWJhcnNIZWxwZXIgfSBmcm9tICcuLi9zY3JpcHRzL2hhbmRsZWJhcnMtaGVscGVyLmpzJ1xuaW1wb3J0IHsgY29tcGVuZGl1bUZpbHRlciB9IGZyb20gJy4uL3NjcmlwdHMvY29tcGVuZGl1bS1maWx0ZXIuanMnXG5pbXBvcnQgeyBDb0NJRCB9IGZyb20gJy4uL3NjcmlwdHMvY29jLWlkLmpzJ1xuaW1wb3J0IHsgQ29DN0xpbmsgfSBmcm9tICcuLi9hcHBzL2NvYzctbGluay5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uY2UoJ2luaXQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uZmlndXJlRG9jdW1lbnRzKClcbiAgICBwcmVsb2FkSGFuZGxlYmFyc1RlbXBsYXRlcygpXG4gICAgcmVnaXN0ZXJTZXR0aW5ncygpXG4gICAgcmVnaXN0ZXJTaGVldHMoKVxuICAgIGhhbmRsZWJhcnNIZWxwZXIoKVxuICAgIGNvbXBlbmRpdW1GaWx0ZXIoKVxuICAgIENvQ0lELmluaXQoKVxuICAgIENvQzdMaW5rLmluaXQoKVxuICB9KVxufVxuIiwiLyogZ2xvYmFsIENPTkZJRyAqL1xuaW1wb3J0IHsgQ29DQWN0b3IgfSBmcm9tICcuLi9hY3RvcnMvYWN0b3IuanMnXG5pbXBvcnQgeyBDb0M3Qm9vayB9IGZyb20gJy4uL2l0ZW1zL2Jvb2svZGF0YS5qcydcbmltcG9ydCB7IENvQzdJdGVtIH0gZnJvbSAnLi4vaXRlbXMvaXRlbS5qcydcbmltcG9ydCB7IENvQzdTcGVsbCB9IGZyb20gJy4uL2l0ZW1zL3NwZWxsL2RhdGEuanMnXG5pbXBvcnQgeyBDb0M3Q2hhc2UgfSBmcm9tICcuLi9pdGVtcy9jaGFzZS9kYXRhLmpzJ1xuaW1wb3J0IENvQzdBY3RpdmVFZmZlY3QgZnJvbSAnLi4vYWN0aXZlLWVmZmVjdC5qcydcbmltcG9ydCB7IENvQzdTa2lsbCB9IGZyb20gJy4uL2l0ZW1zL3NraWxsL2RhdGEuanMnXG5pbXBvcnQgeyBDb0M3VmVoaWNsZSB9IGZyb20gJy4uL2FjdG9ycy92ZWhpY2xlL2RhdGEuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVEb2N1bWVudHMgKCkge1xuICBDT05GSUcuQWN0aXZlRWZmZWN0LmRvY3VtZW50Q2xhc3MgPSBDb0M3QWN0aXZlRWZmZWN0XG4gIENPTkZJRy5BY3Rvci5kb2N1bWVudENsYXNzID0gQ29DQWN0b3JcbiAgQ09ORklHLkFjdG9yLmRvY3VtZW50Q2xhc3NlcyA9IHtcbiAgICB2ZWhpY2xlOiBDb0M3VmVoaWNsZVxuICB9XG4gIENPTkZJRy5JdGVtLmRvY3VtZW50Q2xhc3MgPSBDb0M3SXRlbVxuICBDT05GSUcuSXRlbS5kb2N1bWVudENsYXNzZXMgPSB7XG4gICAgYm9vazogQ29DN0Jvb2ssXG4gICAgc3BlbGw6IENvQzdTcGVsbCxcbiAgICBjaGFzZTogQ29DN0NoYXNlLFxuICAgIHNraWxsOiBDb0M3U2tpbGxcbiAgfVxufVxuIiwiLyogZ2xvYmFsIGxvYWRUZW1wbGF0ZXMgKi9cblxuLyoqXG4gKiBEZWZpbmUgYSBzZXQgb2YgdGVtcGxhdGUgcGF0aHMgdG8gcHJlLWxvYWRcbiAqIFByZS1sb2FkZWQgdGVtcGxhdGVzIGFyZSBjb21waWxlZCBhbmQgY2FjaGVkIGZvciBmYXN0IGFjY2VzcyB3aGVuIHJlbmRlcmluZ1xuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IGNvbnN0IHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICAvKiogRGVmaW5lIHRlbXBsYXRlIHBhdGhzIHRvIGxvYWQgKi9cbiAgY29uc3QgdGVtcGxhdGVQYXRocyA9IFtcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvbnBjLXNraWxscy5odG1sJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvbnBjLWNvbWJhdC5odG1sJyxcblxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9wYXJ0cy9hY3Rvci1pbnZlbnRvcnkuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL2FjdG9yLWludmVudG9yeS1pdGVtcy5odG1sJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvYWN0b3ItYmFja2dyb3VuZC5odG1sJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9jb21tb24vYWN0aXZlLWVmZmVjdHMuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvYWN0b3ItbXl0aG9zLWVub3VudGVycy5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9wYXJ0cy9hY3Rvci1rZWVwZXItbXl0aG9zLWVub3VudGVycy5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9wYXJ0cy9hY3Rvci1za2lsbHMtdjIuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL2NoYXJhY3Rlci1kZXZlbG9wbWVudC12Mi5odG1sJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvZGV2ZWxvcG1lbnQtY29udHJvbHMuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL3BhcnRzL3ZpdGFscy5odG1sJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hY3RvcnMvcGFydHMvY29tYmF0Lmh0bWwnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FjdG9ycy9jaGFyYWN0ZXItc2hlZXQtdjIuaHRtbCcsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYWN0b3JzL2NoYXJhY3Rlci9zdW1tYXJ5Lmh0bWwnLFxuXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvaXRlbXMvYm9vay9kZXRhaWxzLmh0bWwnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2l0ZW1zL3NwZWxsL2RldGFpbHMuaHRtbCcsXG5cbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvaW50cm9kdWN0aW9uLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL2NvbmZpZ3VyYXRpb24uaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvc2VsZWN0LXNldHVwLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3NlbGVjdC1hcmNoZXR5cGUuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvc2VsZWN0LW9jY3VwYXRpb24uaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvc2V0LWNoYXJhY3RlcmlzdGljcy5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC9zZXQtYXR0cmlidXRlcy5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC92aWV3LWF0dHJpYnV0ZXMuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvc2V0LWludmVzdGlnYXRvci5oYnMnLFxuICAgICdzeXN0ZW1zL0NvQzcvdGVtcGxhdGVzL2FwcHMvaW52ZXN0aWdhdG9yLXdpemFyZC9zZXQtb2NjdXBhdGlvbi1za2lsbHMuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvdG9nZ2xlLXNraWxsLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3NldC1hcmNoZXR5cGUtc2tpbGxzLmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL3BvaW50cy1za2lsbHMuaGJzJyxcbiAgICAnc3lzdGVtcy9Db0M3L3RlbXBsYXRlcy9hcHBzL2ludmVzdGlnYXRvci13aXphcmQvYmFja3N0b3J5LmhicycsXG4gICAgJ3N5c3RlbXMvQ29DNy90ZW1wbGF0ZXMvYXBwcy9pbnZlc3RpZ2F0b3Itd2l6YXJkL2NyZWF0ZS5oYnMnXG4gIF1cblxuICAvKiogTG9hZCB0aGUgdGVtcGxhdGUgcGFydHMgKi9cbiAgcmV0dXJuIGxvYWRUZW1wbGF0ZXModGVtcGxhdGVQYXRocylcbn1cbiIsIi8qIGdsb2JhbCAkLCBDT05GSUcsIENPTlNULCBnYW1lLCB1aSAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IENvQzdEZWNhZGVyRGllIH0gZnJvbSAnLi4vYXBwcy9kZWNhZGVyLWRpZS5qcydcbmltcG9ydCB7IENvQzdEZWNhZGVyRGllT3RoZXIgfSBmcm9tICcuLi9hcHBzL2RlY2FkZXItZGllLW90aGVyLmpzJ1xuaW1wb3J0IHsgQ29DN0dhbWVSdWxlU2V0dGluZ3MgfSBmcm9tICcuL2dhbWUtcnVsZXMuanMnXG5pbXBvcnQgeyBDb0M3RGlyZWN0b3J5UGlja2VyIH0gZnJvbSAnLi9jb2M3LWRpcmVjdG9yeS1waWNrZXIuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNldHRpbmdzICgpIHtcbiAgLyoqXG4gICAqIFJ1bGVzXG4gICAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyTWVudSgnQ29DNycsICdnYW1lUnVsZXMnLCB7XG4gICAgbmFtZTogJ0NvQzcuU2V0dGluZ3MuUnVsZXMuTmFtZScsXG4gICAgbGFiZWw6ICdDb0M3LlNldHRpbmdzLlJ1bGVzLkxhYmVsJyxcbiAgICBoaW50OiAnQ29DNy5TZXR0aW5ncy5SdWxlcy5IaW50JyxcbiAgICBpY29uOiAnZmFzIGZhLWJvb2snLFxuICAgIHR5cGU6IENvQzdHYW1lUnVsZVNldHRpbmdzLFxuICAgIHJlc3RyaWN0ZWQ6IHRydWVcbiAgfSlcbiAgQ29DN0dhbWVSdWxlU2V0dGluZ3MucmVnaXN0ZXJTZXR0aW5ncygpXG5cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd1c2VDb250ZXh0TWVudXMnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlVzZUNvbnRleHRNZW51cycsXG4gICAgaGludDogJ1NFVFRJTkdTLlVzZUNvbnRleHRNZW51c0hpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0pXG5cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkaG9sZVVwbG9hZERpcmVjdG9yeScsIHtcbiAgICBuYW1lOiAnQ29DNy5TZXR0aW5ncy5EaG9sZVVwbG9hZC5EaXJlY3RvcnkuTmFtZScsXG4gICAgaGludDogJ0NvQzcuU2V0dGluZ3MuRGhvbGVVcGxvYWQuRGlyZWN0b3J5LkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICB0eXBlOiBDb0M3RGlyZWN0b3J5UGlja2VyLkRlZmF1bHREaXJlY3RvcnksXG4gICAgZGVmYXVsdDogJ1tkYXRhXSB3b3JsZHMvJyArIGdhbWUud29ybGQuaWQgKyAnL2Rob2xlLWltYWdlcydcbiAgfSlcblxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3dvcmxkRXJhJywge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLldvcmxkRXJhLk5hbWUnLFxuICAgIGhpbnQ6ICdDb0M3LlNldHRpbmdzLldvcmxkRXJhLkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiAnc3RhbmRhcmQnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjaG9pY2VzOiBDT0M3LmVyYXMsXG4gICAgb25DaGFuZ2U6ICgpID0+IHtcbiAgICAgIHVpLnBsYXllcnMucmVuZGVyKHRydWUpXG4gICAgfVxuICB9KVxuXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZHJvcENvQ0lEJywge1xuICAgIG5hbWU6ICdDb0M3LlNldHRpbmdzLkRyb3BDb0NJRC5OYW1lJyxcbiAgICBoaW50OiAnQ29DNy5TZXR0aW5ncy5Ecm9wQ29DSUQuSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6ICcnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjaG9pY2VzOiB7XG4gICAgICAnJzogJ0NvQzcuU2V0dGluZ3MuRHJvcENvQ0lELlByb21wdCcsXG4gICAgICBZOiAnQ29DNy5TZXR0aW5ncy5Ecm9wQ29DSUQuVXNlQ29DSUQnLFxuICAgICAgTjogJ0NvQzcuU2V0dGluZ3MuRHJvcENvQ0lELklnbm9yZUNvQ0lEJ1xuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogSW5pdGlhdGl2ZVxuICAgKi9cbiAgLyoqIFNldCBkaXNwbGF5aW5nIGRpY2VzIGZvciBpbml0IHJvbGwgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkaXNwbGF5SW5pdERpY2VzJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5kaXNwbGF5SW5pdERpY2VzJyxcbiAgICBoaW50OiAnU0VUVElOR1MuZGlzcGxheUluaXREaWNlc0hpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgLyoqIFNldCBkaXNwbGF5aW5nIGRpY2VzIGZvciBpbml0IHJvbGwgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkaXNwbGF5SW5pdEFzVGV4dCcsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuZGlzcGxheUluaXRBc1RleHQnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5kaXNwbGF5SW5pdEFzVGV4dEhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcblxuICAvKipcbiAgICogUm9sbCBjdXN0b21pc2Fpb25zXG4gICAqL1xuICAvKiogU3RhbmRieSByb2xscyBtYWRlIGJ5IEdNIGZyb20gcGxheWVyIHNoZWV0ICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc3RhbmJ5R01Sb2xscycsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuU3RhbmJ5R01Sb2xscycsXG4gICAgaGludDogJ1NFVFRJTkdTLlN0YW5ieUdNUm9sbHNIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIC8qKiBBbGxvdyB1c2FnZSBvZiBhIGZsYXQgZGljZSBtb2RpZmllciAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FsbG93RmxhdERpY2VNb2RpZmllcicsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuQWxsb3dGbGF0RGljZU1vZGlmaWVyJyxcbiAgICBoaW50OiAnU0VUVElOR1MuQWxsb3dGbGF0RGljZU1vZGlmaWVySGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgLyoqIEFsbG93IHVzYWdlIG9mIGEgZmxhdCB0aHJlc2hvbGQgbW9kaWZpZXIgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhbGxvd0ZsYXRUaHJlc2hvbGRNb2RpZmllcicsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuQWxsb3dGbGF0VGhyZXNob2xkTW9kaWZpZXInLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5BbGxvd0ZsYXRUaHJlc2hvbGRNb2RpZmllckhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGVmYXVsdENoZWNrRGlmZmljdWx0eScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuRGVmYXVsdERpZmZpY3VsdHknLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5EZWZhdWx0RGlmZmljdWx0eUhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiAncmVndWxhcicsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNob2ljZXM6IHtcbiAgICAgIHJlZ3VsYXI6ICdTRVRUSU5HUy5DaGVja0RpZmZpY3VsdHlSZWd1bGFyJyxcbiAgICAgIHVua25vd246ICdTRVRUSU5HUy5DaGVja0RpZmZpY3VsdHlVbmtub3duJ1xuICAgIH1cbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdzZWxmUm9sbFdoaXNwZXJUYXJnZXQnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlNlbGZSb2xsV2hpc3BlclRhcmdldCcsXG4gICAgaGludDogJ1NFVFRJTkdTLlNlbGZSb2xsV2hpc3BlclRhcmdldEhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiAnZXZlcnlvbmUnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjaG9pY2VzOiB7XG4gICAgICBub2JvZHk6ICdTRVRUSU5HUy5Eb05vdEFkdmlzZScsXG4gICAgICBvd25lcnM6ICdTRVRUSU5HUy5BZHZpc2VPd25lcnNPbmx5JyxcbiAgICAgIGV2ZXJ5b25lOiAnU0VUVElOR1MuQWR2aXNlQWxsUGxheWVyJ1xuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogQ2hhdCBDYXJkc1xuICAgKi9cbiAgLyoqIFRydXN0ZWQgcGxheWVycyB3aWxsIGJlIGFsbG93ZWQgdG8gbW9kaWZ5IGNoYXQgY2FyZHMgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd0cnVzdGVkQ2FuTW9kZnlDaGF0Q2FyZCcsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuVHJ1c3RlZENhbk1vZGZ5Q2hhdENhcmQnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5UcnVzdGVkQ2FuTW9kZnlDaGF0Q2FyZEhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIC8qKiBUcnVzdGVkIHBsYXllcnMgd2lsbCBiZSBhbGxvd2VkIHRvIHNlZSBjaGF0IGNhcmRzIHByaXZhdGUgc2VjdGlvbnMgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd0cnVzdGVkQ2FuU2VlQ2hhdENhcmQnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlRydXN0ZWRDYW5TZWVDaGF0Q2FyZCcsXG4gICAgaGludDogJ1NFVFRJTkdTLlRydXN0ZWRDYW5TZWVDaGF0Q2FyZEhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIC8qKiBTZXQgdGhlIG5lZWQgdG8gZGlzcGxheSBhY3RvciBpbWFnZSBvbiBjaGF0IGNhcmRzICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzcGxheUFjdG9yT25DYXJkJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5EaXNwbGF5QWN0b3JPbkNhcmQnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5EaXNwbGF5QWN0b3JPbkNhcmRIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2Rpc3BsYXlDaGVja1N1Y2Nlc3NMZXZlbCcsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuRGlzcGxheUNoZWNrU3VjY2Vzc0xldmVsJyxcbiAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2Rpc3BsYXlSZXN1bHRUeXBlJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5EaXNwbGF5UmVzdWx0VHlwZScsXG4gICAgc2NvcGU6ICdjbGllbnQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIC8qKiBTZXQgdGhlIHVzZSBvZiB0b2tlbiBpbnN0ZWFkIG9mIHBvcnRyYWl0cyAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3VzZVRva2VuJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5Vc2VUb2tlbicsXG4gICAgaGludDogJ1NFVFRJTkdTLlVzZVRva2VuSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcblxuICAvKipcbiAgICogU2NlbmUgU2V0dGluZ3NcbiAgICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZW5hYmxlU3RhdHVzSWNvbnMnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkVuYWJsZVN0YXR1c0ljb25zJyxcbiAgICBoaW50OiAnU0VUVElOR1MuRW5hYmxlU3RhdHVzSWNvbnNIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZ3JpZFNwYWNlcycsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuUmVzdHJpY3RHcmlkU3BhY2VzJyxcbiAgICBoaW50OiAnU0VUVElOR1MuUmVzdHJpY3RHcmlkU3BhY2VzSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdkaXN0YW5jZUVsZXZhdGlvbicsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuQ2hlY2tFbGV2YXRpb24nLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5DaGVja0VsZXZhdGlvbkhpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcblxuICAvKipcbiAgICogR2FtZSBBcnR3b3JrIFNldHRpbmdzXG4gICAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ292ZXJyaWRlR2FtZUFydHdvcmsnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLk92ZXJyaWRlR2FtZUFydHdvcmsnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5PdmVycmlkZUdhbWVBcnR3b3JrSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ292ZXJyaWRlR2FtZUFydHdvcmsnKSkge1xuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0UGF1c2VJbWFnZScsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnRQYXVzZUltYWdlJyxcbiAgICAgIGhpbnQ6ICdTRVRUSU5HUy5BcnRQYXVzZUltYWdlSGludCcsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3RpbWUtdHJhcC5zdmcnLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydFBhdXNlVGV4dCcsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnRQYXVzZVRleHQnLFxuICAgICAgaGludDogJ1NFVFRJTkdTLkFydFBhdXNlVGV4dEhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiAnVGhlIEJsaW5kIElkaW90IEdvZCBpcyBkcmVhbWluZy4uLicsXG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNoZWV0IHNldHRpbmdzXG4gICAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2Rpc3BsYXlQbGF5ZXJOYW1lT25TaGVldCcsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuZGlzcGxheVBsYXllck5hbWVPblNoZWV0JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3Rvb2xUaXBEZWxheScsIHtcbiAgICBuYW1lOiAnQ29DNy50b29sVGlwRGVsYXknLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiAyMDAwLFxuICAgIHR5cGU6IE51bWJlclxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3Nob3dJY29uc09ubHknLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLnNob3dJY29uc09ubHknLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIC8qKiBBbGxvdyBwbGF5ZXIgdG8gdW5sb2NrIHRoZSBzaGVldCBvdXRzaWRlIG9mIGNyZWF0aW9uIG1vZGUgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdwbGF5ZXJVbmxvY2tTaGVldE1vZGUnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlBsYXllclVubG9ja1NoZWV0TW9kZScsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6ICdhbHdheXMnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjaG9pY2VzOiB7XG4gICAgICBhbHdheXM6ICdTRVRUSU5HUy5BbHdheXNFZGl0YWJsZScsXG4gICAgICBjcmVhdGlvbjogJ1NFVFRJTkdTLkNyZWF0aW9uTW9kZU9ubHknLFxuICAgICAgbmV2ZXI6ICdTRVRUSU5HUy5OZXZlckVkaXRhYmxlJ1xuICAgIH1cbiAgfSlcbiAgLyoqIEFsbG93IHBsYXllciB0byBtb2RpZnkgc3RhdHVzICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc3RhdHVzUGxheWVyRWRpdGFibGUnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlN0YXR1c1BsYXllckVkaXRhYmxlJyxcbiAgICBoaW50OiAnU0VUVElOR1MuU3RhdHVzUGxheWVyRWRpdGFibGVIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnb25lQmxvY2tCYWNrc3RvcnknLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLk9uZUJsb2NrQmFja1N0b3J5JyxcbiAgICBoaW50OiAnU0VUVElOR1MuT25lQmxvY2tCYWNrU3RvcnlIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ292ZXJyaWRlU2hlZXRBcnR3b3JrJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5PdmVycmlkZVNoZWV0QXJ0d29yaycsXG4gICAgaGludDogJ1NFVFRJTkdTLk92ZXJyaWRlU2hlZXRBcnR3b3JrSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcbiAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ292ZXJyaWRlU2hlZXRBcnR3b3JrJykpIHtcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydFdvcmtTaGVldEJhY2tncm91bmQnLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0V29ya1NoZWV0QmFja2dyb3VuZCcsXG4gICAgICBoaW50OiAnU0VUVElOR1MuQXJ0V29ya1NoZWV0QmFja2dyb3VuZEhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiBcInVybCgnLi9hc3NldHMvaW1hZ2VzL2JhY2tncm91bmQud2VicCcpIDQgcmVwZWF0XCIsXG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9KVxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0V29ya1NoZWV0QmFja2dyb3VuZFR5cGUnLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0V29ya1NoZWV0QmFja2dyb3VuZFR5cGUnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiAnc2xpY2UnLFxuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgY2hvaWNlczoge1xuICAgICAgICBzbGljZTogJ1NFVFRJTkdTLkJhY2tncm91bmRTbGljZScsXG4gICAgICAgIGF1dG86ICdTRVRUSU5HUy5CYWNrZ3JvdW5kQXV0bycsXG4gICAgICAgIGNvbnRhaW46ICdTRVRUSU5HUy5CYWNrZ3JvdW5kQ29udGFpbicsXG4gICAgICAgIGNvdmVyOiAnU0VUVElOR1MuQmFja2dyb3VuZENvdmVyJ1xuICAgICAgfVxuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnRXb3JrT3RoZXJTaGVldEJhY2tncm91bmQnLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0V29ya090aGVyU2hlZXRCYWNrZ3JvdW5kJyxcbiAgICAgIGhpbnQ6ICdTRVRUSU5HUy5BcnRXb3JrT3RoZXJTaGVldEJhY2tncm91bmRIaW50JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogXCJ1cmwoICcuL2Fzc2V0cy9pbWFnZXMvYmFja2dyb3VuZC53ZWJwJylcIixcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnR3b3JrU2hlZXRJbWFnZScsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnR3b3JrU2hlZXRJbWFnZScsXG4gICAgICBoaW50OiAnU0VUVElOR1MuQXJ0d29ya1NoZWV0SW1hZ2VIaW50JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogXCJ1cmwoJy4vYXNzZXRzL2ltYWdlcy90ZW50YWNsZXMud2VicCcpXCIsXG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9KVxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0d29ya0Zyb250Q29sb3InLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0d29ya0Zyb250Q29sb3InLFxuICAgICAgaGludDogJ1NFVFRJTkdTLkFydHdvcmtGcm9udENvbG9ySGludCcsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICdyZ2JhKDQzLDU1LDgzLDEpJyxcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnR3b3JrQmFja2dyb3VuZENvbG9yJywge1xuICAgICAgbmFtZTogJ1NFVFRJTkdTLkFydHdvcmtCYWNrZ3JvdW5kQ29sb3InLFxuICAgICAgaGludDogJ1NFVFRJTkdTLkFydHdvcmtCYWNrZ3JvdW5kQ29sb3JIaW50JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogJ3JnYmEoMTAzLDExLDExLDEpJyxcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnR3b3JrSW50ZXJhY3RpdmVDb2xvcicsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnR3b3JrSW50ZXJhY3RpdmVDb2xvcicsXG4gICAgICBoaW50OiAnU0VUVElOR1MuQXJ0d29ya0ludGVyYWN0aXZlQ29sb3JIaW50JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogJ3JnYmEoMTAzLDExLDExLDEpJyxcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0pXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdhcnR3b3JrRml4ZWRTa2lsbExlbmd0aCcsIHtcbiAgICAgIG5hbWU6ICdTRVRUSU5HUy5BcnR3b3JrRml4ZWRTa2lsbExlbmd0aCcsXG4gICAgICBoaW50OiAnU0VUVElOR1MuQXJ0d29ya0ZpeGVkU2tpbGxMZW5ndGhIaW50JyxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICB9KVxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYXJ0d29ya01haW5Gb250Jywge1xuICAgICAgbmFtZTogJ1NFVFRJTkdTLkFydHdvcmtNYWluRm9udCcsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICcnLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydHdvcmtNYWluRm9udEJvbGQnLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0d29ya01haW5Gb250Qm9sZCcsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICcnLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSlcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2FydHdvcmtNYWluRm9udFNpemUnLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuQXJ0d29ya01haW5Gb250U2l6ZScsXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6IDE2LFxuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgb25DaGFuZ2U6IHNpemUgPT4gX3NldFJvb3RGb250U2l6ZShzaXplKVxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBfc2V0Um9vdEZvbnRTaXplIChzaXplKSB7XG4gICAgICAkKCc6cm9vdCcpLmNzcygnZm9udC1zaXplJywgc2l6ZSlcbiAgICAgIHVpLnNpZGViYXIucmVuZGVyKHRydWUpXG4gICAgICBmb3IgKGNvbnN0IFssIHddIG9mIE9iamVjdC5lbnRyaWVzKHVpLndpbmRvd3MpKSB7XG4gICAgICAgIHcucmVuZGVyKHRydWUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdlYXBvbnNcbiAgICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGlzcmVnYXJkVXNlUGVyUm91bmQnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkRpc3JlZ2FyZFVzZVBlclJvdW5kJyxcbiAgICBoaW50OiAnU0VUVElOR1MuRGlzcmVnYXJkVXNlUGVyUm91bmRIaW50JyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhblxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2Rpc3JlZ2FyZEFtbW8nLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLkRpc3JlZ2FyZEFtbW8nLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5EaXNyZWdhcmRBbW1vSGludCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW5cbiAgfSlcblxuICAvKipcbiAgICogQ2hhc2VzXG4gICAqL1xuICAvLyBNT1ZFRCBUTyBDSEFTU0UgSU5ESVZJRFVBTCBTRVRUSU5HXG4gIC8vIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnY2hhc2VTaG93VG9rZW5Nb3ZlbWVudCcsIHtcbiAgLy8gICBuYW1lOiAnU0VUVElOR1MuQ2hhc2VTaG93VG9rZW5Nb3ZlbWVudCcsXG4gIC8vICAgaGludDogJ1NFVFRJTkdTLkNoYXNlU2hvd1Rva2VuTW92ZW1lbnRIaW50JyxcbiAgLy8gICBzY29wZTogJ3dvcmxkJyxcbiAgLy8gICBjb25maWc6IHRydWUsXG4gIC8vICAgZGVmYXVsdDogdHJ1ZSxcbiAgLy8gICB0eXBlOiBCb29sZWFuXG4gIC8vIH0pXG5cbiAgLyoqXG4gICAqIERpY2UgU28gTmljZVxuICAgKi9cbiAgaWYgKGdhbWUubW9kdWxlcy5nZXQoJ2RpY2Utc28tbmljZScpPy5hY3RpdmUpIHtcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3N5bmNEaWNlM2QnLCB7XG4gICAgICBuYW1lOiAnU0VUVElOR1MuU3luY0RpY2UzRCcsXG4gICAgICBoaW50OiAnU0VUVElOR1MuU3luY0RpY2UzREhpbnQnLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBkZWZhdWx0OiB0cnVlLFxuICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0pXG4gICAgY29uc3QgW3ZlcnNpb25dID0gZ2FtZS5tb2R1bGVzLmdldCgnZGljZS1zby1uaWNlJyk/LnZlcnNpb24uc3BsaXQoJy4nKVxuICAgIGlmICghaXNOYU4oTnVtYmVyKHZlcnNpb24pKSAmJiBOdW1iZXIodmVyc2lvbikgPj0gMykge1xuICAgICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd0ZW5EaWVCb251cycsIHtcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTLlRlbkRpZUJvbnVzJyxcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLlRlbkRpZUJvbnVzSGludCcsXG4gICAgICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnYnJvbnplJyxcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9KVxuICAgICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd0ZW5EaWVQZW5hbHR5Jywge1xuICAgICAgICBuYW1lOiAnU0VUVElOR1MuVGVuRGllUGVuYWx0eScsXG4gICAgICAgIGhpbnQ6ICdTRVRUSU5HUy5UZW5EaWVQZW5hbHR5SGludCcsXG4gICAgICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnYmxvb2Rtb29uJyxcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXZlbG9wZXIgYW5kIGRlYnVnIHNldHRpbmdzXG4gICAqL1xuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2RlYnVnbW9kZScsIHtcbiAgICBuYW1lOiAnU0VUVElOR1MuRGVidWdNb2RlJyxcbiAgICBoaW50OiAnU0VUVElOR1MuRGVidWdNb2RlSGludCcsXG4gICAgc2NvcGU6ICdjbGllbnQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZXhwZXJpbWVudGFsRmVhdHVyZXMnLCB7XG4gICAgbmFtZTogJ1NFVFRJTkdTLlNob3dFeHBlcmltZW50YWxGZWF0dXJlcycsXG4gICAgaGludDogJ1NFVFRJTkdTLlNob3dFeHBlcmltZW50YWxGZWF0dXJlc0hpbnQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0pXG4gIC8qKlxuICAgKiBPdGhlciBzZXR0aW5nc1xuICAgKi9cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdoaWRkZW5kZXZtZW51Jywge1xuICAgIG5hbWU6ICdIaWRkZW4gZGV2IG1lbnUnLFxuICAgIGhpbnQ6ICdVc2UgYXQgeW91ciBvd24gcmlzaycsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnZGV2ZWxvcG1lbnRFbmFibGVkJywge1xuICAgIG5hbWU6ICdEZXYgcGhhc2VkIGFsbG93ZWQnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9KVxuICAvKiogRmVhdDogd2VsY29tZSBtZXNzYWdlICovXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc2hvd1dlbGNvbWVNZXNzYWdlJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5zaG93V2VsY29tZU1lc3NhZ2UnLFxuICAgIGhpbnQ6ICdTRVRUSU5HUy5zaG93V2VsY29tZU1lc3NhZ2UnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0eXBlOiBCb29sZWFuXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnY2hhckNyZWF0aW9uRW5hYmxlZCcsIHtcbiAgICBuYW1lOiAnQ2hhciBjcmVhdGlvbiBhbGxvd2VkJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdzeXN0ZW1VcGRhdGVWZXJzaW9uJywge1xuICAgIG5hbWU6ICdTeXN0ZW0gdXBkYXRlIHZlcnNpb24nLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICcwJ1xuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3N5c3RlbVVwZGF0ZWRNb2R1bGVWZXJzaW9uJywge1xuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgZGVmYXVsdDoge31cbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICd4cEVuYWJsZWQnLCB7XG4gICAgbmFtZTogJ0VuYWJsZSBYUCBnYWluJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IGZhbHNlLFxuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ3Nob3dJbnN0cnVjdGlvbnMnLCB7XG4gICAgbmFtZTogJ1Nob3cgY2hhbmdlbG9nL2luc3RydWN0aW9ucycsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJzAnXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkU2V0dXAnLCB7XG4gICAgbmFtZTogJ0ZvcmNlIHNwZWNpZmljIHNldHVwIENvQyBJRCBmb3IgSW52ZXN0aWdhdG9yIFdpemFyZCcsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJydcbiAgfSlcbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdJbnZlc3RpZ2F0b3JXaXphcmRRdWFudGl0eScsIHtcbiAgICBuYW1lOiAnTnVtYmVyIG9mIGludmVzdGlnYXRvcnMgYSBzaW5nbGUgdXNlciB3aXRob3V0IGNyZWF0ZSBhY3RvciByaWdodHMgY2FuIG93bicsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogMFxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZE93bmVyc2hpcCcsIHtcbiAgICBuYW1lOiAnRGVmYXVsdCBwZXJtaXNzaW9ucyBmb3Igbm9uIG93bmVyIHBsYXllcnMnLFxuICAgIHNjb3BlOiAnd29ybGQnLFxuICAgIGNvbmZpZzogZmFsc2UsXG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IENPTlNULkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMuTk9ORVxuICB9KVxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ0ludmVzdGlnYXRvcldpemFyZFJlcm9sbHMnLCB7XG4gICAgbmFtZTogJ0FsbG93IHBsYXllcnMgdG8gcmVyb2xsIGNoYXJhY3RlcmlzdGljcycsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUG9pbnRCdXknLCB7XG4gICAgbmFtZTogJ0ZvcmNlIHBvaW50IGJ1eSBpbnN0ZWFkIG9mIHNldHVwIGNob2ljZScsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0pXG4gIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnSW52ZXN0aWdhdG9yV2l6YXJkUXVpY2tGaXJlJywge1xuICAgIG5hbWU6ICdRdWljayBmaXJlIHNldHVwIHZhbHVlcycsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiBmYWxzZSxcbiAgICB0eXBlOiBBcnJheSxcbiAgICBkZWZhdWx0OiBbXVxuICB9KVxuICAvKiogU2V0IGFuIGluaXRpYXRpdmUgZm9ybXVsYSBmb3IgdGhlIHN5c3RlbSAqL1xuICBDT05GSUcuQ29tYmF0LmluaXRpYXRpdmUgPSB7XG4gICAgZm9ybXVsYTogJ0BjaGFyYWN0ZXJpc3RpY3MuZGV4LnZhbHVlJyxcbiAgICBkZWNpbWFsczogNFxuICB9XG4gIENPTkZJRy5kZWJ1Zy5ob29rcyA9ICEhZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGVidWdtb2RlJylcbiAgQ09ORklHLkRpY2UudGVybXMudCA9IENvQzdEZWNhZGVyRGllXG4gIENPTkZJRy5EaWNlLnRlcm1zLm8gPSBDb0M3RGVjYWRlckRpZU90aGVyXG59XG4iLCIvKiBnbG9iYWwgQWN0b3JzLCBBY3RvclNoZWV0LCBJdGVtcywgSXRlbVNoZWV0LCBKb3VybmFsLCBKb3VybmFsU2hlZXQsIE1hY3JvQ29uZmlnLCBNYWNyb3MsIFBsYXlsaXN0Q29uZmlnLCBQbGF5bGlzdHMsIFJvbGxUYWJsZXMsIFJvbGxUYWJsZUNvbmZpZywgU2NlbmVzLCBTY2VuZUNvbmZpZyAqL1xuaW1wb3J0IHsgQ29DN0FyY2hldHlwZVNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc2hlZXRzL2FyY2hldHlwZS5qcydcbmltcG9ydCB7IENvQzdCb29rU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9ib29rL3NoZWV0LmpzJ1xuaW1wb3J0IHsgQ29DN0NoYXJhY3RlclNoZWV0IH0gZnJvbSAnLi4vYWN0b3JzL3NoZWV0cy9jaGFyYWN0ZXIuanMnXG5pbXBvcnQgeyBDb0M3Q29udGFpbmVyU2hlZXQgfSBmcm9tICcuLi9hY3RvcnMvc2hlZXRzL2NvbnRhaW5lci5qcydcbmltcG9ydCB7IENvQzdDaGFzZVNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvY2hhc2Uvc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3Q3JlYXR1cmVTaGVldCB9IGZyb20gJy4uL2FjdG9ycy9zaGVldHMvY3JlYXR1cmUtc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3SXRlbVNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc2hlZXRzL2l0ZW0tc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3SXRlbVNoZWV0VjIgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvaXRlbS1zaGVldFYyLmpzJ1xuaW1wb3J0IHsgQ29DN0pvdXJuYWxTaGVldCB9IGZyb20gJy4uL3NoZWV0cy9jb2M3LWpvdXJuYWwtc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3TWFjcm9Db25maWcgfSBmcm9tICcuLi9zaGVldHMvY29jNy1tYWNyby1jb25maWcuanMnXG5pbXBvcnQgeyBDb0M3TlBDU2hlZXQgfSBmcm9tICcuLi9hY3RvcnMvc2hlZXRzL25wYy1zaGVldC5qcydcbmltcG9ydCB7IENvQzdPY2N1cGF0aW9uU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvb2NjdXBhdGlvbi5qcydcbmltcG9ydCB7IENvQzdQbGF5bGlzdENvbmZpZyB9IGZyb20gJy4uL3NoZWV0cy9jb2M3LXBsYXlsaXN0LWNvbmZpZy5qcydcbmltcG9ydCB7IENvQzdSb2xsVGFibGVDb25maWcgfSBmcm9tICcuLi9zaGVldHMvY29jNy1yb2xsLXRhYmxlLWNvbmZpZy5qcydcbmltcG9ydCB7IENvQzdTY2VuZUNvbmZpZyB9IGZyb20gJy4uL3NoZWV0cy9jb2M3LXNjZW5lLWNvbmZpZy5qcydcbmltcG9ydCB7IENvQzdTZXR1cFNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc2hlZXRzL3NldHVwLmpzJ1xuaW1wb3J0IHsgQ29DN1NraWxsU2hlZXQgfSBmcm9tICcuLi9pdGVtcy9zaGVldHMvc2tpbGwuanMnXG5pbXBvcnQgeyBDb0M3U3BlbGxTaGVldCB9IGZyb20gJy4uL2l0ZW1zL3NwZWxsL3NoZWV0LmpzJ1xuaW1wb3J0IHsgQ29DN1N0YXR1c1NoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc2hlZXRzL3N0YXR1cy5qcydcbmltcG9ydCB7IENvQzdUYWxlbnRTaGVldCB9IGZyb20gJy4uL2l0ZW1zL3NoZWV0cy90YWxlbnQuanMnXG5pbXBvcnQgeyBDb0M3VmVoaWNsZVNoZWV0IH0gZnJvbSAnLi4vYWN0b3JzL3NoZWV0cy92ZWhpY2xlLmpzJ1xuaW1wb3J0IHsgQ29DN1dlYXBvblNoZWV0IH0gZnJvbSAnLi4vaXRlbXMvc2hlZXRzL3dlYXBvbi1zaGVldC5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyU2hlZXRzICgpIHtcbiAgQWN0b3JzLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIEFjdG9yU2hlZXQpXG4gIEFjdG9ycy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN05QQ1NoZWV0LCB7XG4gICAgdHlwZXM6IFsnbnBjJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgQWN0b3JzLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3VmVoaWNsZVNoZWV0LCB7XG4gICAgdHlwZXM6IFsndmVoaWNsZSddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEFjdG9ycy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN0NyZWF0dXJlU2hlZXQsIHtcbiAgICB0eXBlczogWydjcmVhdHVyZSddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEFjdG9ycy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN0NvbnRhaW5lclNoZWV0LCB7XG4gICAgdHlwZXM6IFsnY29udGFpbmVyJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgQWN0b3JzLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3Q2hhcmFjdGVyU2hlZXQsIHtcbiAgICB0eXBlczogWydjaGFyYWN0ZXInXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuXG4gIEl0ZW1zLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIEl0ZW1TaGVldClcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdTa2lsbFNoZWV0LCB7XG4gICAgdHlwZXM6IFsnc2tpbGwnXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1dlYXBvblNoZWV0LCB7XG4gICAgdHlwZXM6IFsnd2VhcG9uJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdCb29rU2hlZXQsIHtcbiAgICB0eXBlczogWydib29rJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdTcGVsbFNoZWV0LCB7XG4gICAgdHlwZXM6IFsnc3BlbGwnXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1RhbGVudFNoZWV0LCB7XG4gICAgdHlwZXM6IFsndGFsZW50J10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdTdGF0dXNTaGVldCwge1xuICAgIHR5cGVzOiBbJ3N0YXR1cyddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3T2NjdXBhdGlvblNoZWV0LCB7XG4gICAgdHlwZXM6IFsnb2NjdXBhdGlvbiddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3QXJjaGV0eXBlU2hlZXQsIHtcbiAgICB0eXBlczogWydhcmNoZXR5cGUnXSxcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuICBJdGVtcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1NldHVwU2hlZXQsIHtcbiAgICB0eXBlczogWydzZXR1cCddLFxuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG4gIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3Q2hhc2VTaGVldCwge1xuICAgIHR5cGVzOiBbJ2NoYXNlJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcbiAgSXRlbXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdJdGVtU2hlZXQsIHsgdHlwZXM6IFsnaXRlbSddIH0pXG4gIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3SXRlbVNoZWV0VjIsIHtcbiAgICB0eXBlczogWydpdGVtJ10sXG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcblxuICBTY2VuZXMudW5yZWdpc3RlclNoZWV0KCdjb3JlJywgU2NlbmVDb25maWcpXG4gIFNjZW5lcy5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN1NjZW5lQ29uZmlnLCB7XG4gICAgbWFrZURlZmF1bHQ6IHRydWVcbiAgfSlcblxuICBKb3VybmFsLnVucmVnaXN0ZXJTaGVldCgnY29yZScsIEpvdXJuYWxTaGVldClcbiAgSm91cm5hbC5yZWdpc3RlclNoZWV0KCdDb0M3JywgQ29DN0pvdXJuYWxTaGVldCwge1xuICAgIG1ha2VEZWZhdWx0OiB0cnVlXG4gIH0pXG5cbiAgUm9sbFRhYmxlcy51bnJlZ2lzdGVyU2hlZXQoJ2NvcmUnLCBSb2xsVGFibGVDb25maWcpXG4gIFJvbGxUYWJsZXMucmVnaXN0ZXJTaGVldCgnQ29DNycsIENvQzdSb2xsVGFibGVDb25maWcsIHtcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuXG4gIE1hY3Jvcy51bnJlZ2lzdGVyU2hlZXQoJ2NvcmUnLCBNYWNyb0NvbmZpZylcbiAgTWFjcm9zLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3TWFjcm9Db25maWcsIHtcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxuXG4gIFBsYXlsaXN0cy51bnJlZ2lzdGVyU2hlZXQoJ2NvcmUnLCBQbGF5bGlzdENvbmZpZylcbiAgUGxheWxpc3RzLnJlZ2lzdGVyU2hlZXQoJ0NvQzcnLCBDb0M3UGxheWxpc3RDb25maWcsIHtcbiAgICBtYWtlRGVmYXVsdDogdHJ1ZVxuICB9KVxufVxuIiwiLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi9cbmltcG9ydCB7IGNoYXRIZWxwZXIgfSBmcm9tICcuLi9jaGF0L2hlbHBlci5qcydcblxuZXhwb3J0IGNvbnN0IGhhbmRsZWJhcnNIZWxwZXIgPSBmdW5jdGlvbiAoKSB7XG4gIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3JvbGxBY3RvckltZycsIGZ1bmN0aW9uIChhY3RvcktleSkge1xuICAgIGNvbnN0IGltZyA9IGNoYXRIZWxwZXIuZ2V0QWN0b3JJbWdGcm9tS2V5KGFjdG9yS2V5KVxuICAgIGlmIChpbWcpIHJldHVybiBpbWdcbiAgICByZXR1cm4gJy4uL2ljb25zL3N2Zy9teXN0ZXJ5LW1hbi1ibGFjay5zdmcnXG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgZ2FtZSAqL1xuZXhwb3J0IGNsYXNzIENvQzdEZWNhZGVyRFNORmFjZXMge1xuICBjb25zdHJ1dG9yICgpIHtcbiAgICB0aGlzLnNlbGVjdGVkID0gJydcbiAgfVxuXG4gIHNldEZhY2VzICgpIHtcbiAgICBsZXQgc2VsZWN0ZWQgPSBnYW1lLnVzZXIuZ2V0RmxhZygnZGljZS1zby1uaWNlJywgJ2FwcGVhcmFuY2UnKT8uZ2xvYmFsXG4gICAgICAuc3lzdGVtXG4gICAgaWYgKHNlbGVjdGVkICE9PSB0aGlzLnNlbGVjdGVkKSB7XG4gICAgICBsZXQgZGF0YVxuICAgICAgbGV0IGRlc3RpbmF0aW9uXG4gICAgICBsZXQgc291cmNlRGllID0gZ2FtZS5kaWNlM2QuRGljZUZhY3Rvcnkuc3lzdGVtc1tzZWxlY3RlZF0/LmRpY2UuZmluZChcbiAgICAgICAgZCA9PiBkLnR5cGUgPT09ICdkMTAwJ1xuICAgICAgKVxuICAgICAgaWYgKHR5cGVvZiBzb3VyY2VEaWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdXJjZURpZSA9IGdhbWUuZGljZTNkLkRpY2VGYWN0b3J5LnN5c3RlbXMuc3RhbmRhcmQuZGljZS5maW5kKFxuICAgICAgICAgIGQgPT4gZC50eXBlID09PSAnZDEwMCdcbiAgICAgICAgKVxuICAgICAgICBzZWxlY3RlZCA9ICdzdGFuZGFyZCdcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc291cmNlRGllICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IGdhbWUuZGljZTNkLkRpY2VGYWN0b3J5LnN5c3RlbXMuc3RhbmRhcmQuZGljZS5maW5kSW5kZXgoXG4gICAgICAgICAgZCA9PiBkLnR5cGUgPT09ICdkdCdcbiAgICAgICAgKVxuICAgICAgICBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgc291cmNlRGllKVxuICAgICAgICBkYXRhLnR5cGUgPSAnZHQnXG4gICAgICAgIGdhbWUuZGljZTNkLkRpY2VGYWN0b3J5LnN5c3RlbXMuc3RhbmRhcmQuZGljZVtkZXN0aW5hdGlvbl0gPVxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oc291cmNlRGllLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZGF0YSlcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZFxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsICQsIGdhbWUgKi9cbmV4cG9ydCBjbGFzcyBDb0M3VG9vbHRpcHMge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5Ub29sVGlwSG92ZXIgPSBudWxsXG4gICAgdGhpcy50b29sVGlwVGltZXIgPSBudWxsXG4gIH1cblxuICBkaXNwbGF5VG9vbFRpcCAodG9vbFRpcCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5Ub29sVGlwSG92ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBib3VuZHMgPSB0aGlzLlRvb2xUaXBIb3Zlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgaWYgKCFpc05hTihib3VuZHMubGVmdCB8fCAnJykgJiYgIWlzTmFOKGJvdW5kcy50b3AgfHwgJycpKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gYm91bmRzLmxlZnRcbiAgICAgICAgbGV0IHRvcCA9IGJvdW5kcy50b3BcbiAgICAgICAgY29uc3QgaGVpZ2h0VGV4dCA9ICQodGhpcy5Ub29sVGlwSG92ZXIpLm91dGVySGVpZ2h0KClcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBpZD1cImhlbHAtdG9vbHRpcFwiPicgKyB0b29sVGlwICsgJzwvZGl2PicpXG4gICAgICAgIGNvbnN0IHRpcCA9ICQoJyNoZWxwLXRvb2x0aXAnKVxuICAgICAgICBjb25zdCBoZWlnaHRUaXAgPSB0aXAub3V0ZXJIZWlnaHQoKVxuICAgICAgICBjb25zdCB3aWR0aFRpcCA9IHRpcC5vdXRlcldpZHRoKClcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IGhlaWdodFRleHQgKiAxLjUgKyBoZWlnaHRUaXAgKyB0b3ApIHtcbiAgICAgICAgICB0b3AgPSB0b3AgLSBoZWlnaHRUaXBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b3AgPSB0b3AgKyBoZWlnaHRUZXh0ICogMS41XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgd2lkdGhUaXAgKyBsZWZ0KSB7XG4gICAgICAgICAgbGVmdCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gd2lkdGhUaXBcbiAgICAgICAgfVxuICAgICAgICB0aXAuY3NzKHtcbiAgICAgICAgICBsZWZ0OiBsZWZ0ICsgJ3B4JyxcbiAgICAgICAgICB0b3A6IHRvcCArICdweCdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b29sVGlwTGVhdmUgKGV2ZW50KSB7XG4gICAgaWYgKGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGdhbWUuQ29DN1Rvb2x0aXBzLnRvb2xUaXBUaW1lcilcbiAgICAgIGdhbWUuQ29DN1Rvb2x0aXBzLlRvb2xUaXBIb3ZlciA9IG51bGxcbiAgICAgICQoJyNoZWxwLXRvb2x0aXAnKS5yZW1vdmUoKVxuICAgIH1cbiAgfVxufVxuIiwiLyogZ2xvYmFsIE11dGF0aW9uT2JzZXJ2ZXIsIFRvdXIsIHVpICovXG5sZXQgQ29DN1RvdXIgPSBjbGFzcyBpbnRlcm5hbENvQzdUb3VyIHt9XG5pZiAodHlwZW9mIFRvdXIgIT09ICd1bmRlZmluZWQnKSB7XG4gIENvQzdUb3VyID0gY2xhc3MgaW50ZXJuYWxDb0M3VG91ciBleHRlbmRzIFRvdXIge1xuICAgIGFzeW5jIHdhaXRGb3JFbGVtZW50IChzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBhc3luYyBfcHJlU3RlcCAoKSB7XG4gICAgICBhd2FpdCBzdXBlci5fcHJlU3RlcCgpXG5cbiAgICAgIC8vIENsb3NlIGN1cnJlbnRseSBvcGVuIGFwcGxpY2F0aW9uc1xuICAgICAgaWYgKHRoaXMuc3RlcEluZGV4ID09PSAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgYXBwIG9mIE9iamVjdC52YWx1ZXModWkud2luZG93cykpIHtcbiAgICAgICAgICBhcHAuY2xvc2UoKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHRoaXMud2FpdEZvckVsZW1lbnQodGhpcy5jdXJyZW50U3RlcC5zZWxlY3RvcilcbiAgICB9XG5cbiAgICBhc3luYyBfcG9zdFN0ZXAgKCkge1xuICAgICAgYXdhaXQgc3VwZXIuX3Bvc3RTdGVwKClcbiAgICAgIGlmICh0aGlzLnN0ZXBJbmRleCA8IDAgfHwgIXRoaXMuaGFzTmV4dCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRTdGVwLmFjdGlvbikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSZXNldHRpbmcpIHtcbiAgICAgICAgdGhpcy5pc1Jlc2V0dGluZyA9IGZhbHNlXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFN0ZXAuYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY3VycmVudFN0ZXAuc2VsZWN0b3IpLmNsaWNrKClcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlc2V0ICgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgdGhpcy5pc1Jlc2V0dGluZyA9IHRydWVcbiAgICAgIH1cbiAgICAgIGF3YWl0IHN1cGVyLnJlc2V0KClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgQ29DN1RvdXIgfVxuIiwiLyogZ2xvYmFsIG1lcmdlT2JqZWN0ICovXG5pbXBvcnQgeyBDb0M3VG91ciB9IGZyb20gJy4uL2FwcHMvY29jNy10b3VyLmpzJ1xuXG5leHBvcnQgY2xhc3MgRW5hYmxlVmFyaWFudFJ1bGVzRW4gZXh0ZW5kcyBDb0M3VG91ciB7XG4gIGNvbnN0cnVjdG9yIChjb25maWcpIHtcbiAgICBzdXBlcihtZXJnZU9iamVjdCh7XG4gICAgICB0aXRsZTogJ0VuYWJsZSBvcHRpb25hbC92YXJpYW50IHJ1bGVzLicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0xlYXJuIGhvdyB0byBlbmFibGUgUHVscCBDdGh1bGh1IHJ1bGVzLCBvciBvdGhlciB2YXJpYW50IHJ1bGVzJyxcbiAgICAgIGNhbkJlUmVzdW1lZDogZmFsc2UsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgc3RlcHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZ290by1zZXR0aW5ncycsXG4gICAgICAgICAgc2VsZWN0b3I6ICdbZGF0YS10YWI9XCJzZXR0aW5nc1wiXScsXG4gICAgICAgICAgdGl0bGU6ICdDT0M3LlRvdXIuR290b1NldHRpbmdzVGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdDT0M3LlRvdXIuR290b1NldHRpbmdzQ29udGVudCcsXG4gICAgICAgICAgYWN0aW9uOiAnY2xpY2snXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2dvdG8tY29uZmlndXJlJyxcbiAgICAgICAgICBzZWxlY3RvcjogJ1tkYXRhLWFjdGlvbj1cImNvbmZpZ3VyZVwiXScsXG4gICAgICAgICAgdGl0bGU6ICdDT0M3LlRvdXIuR290b0NvbmZpZ3VyZVRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAnQ09DNy5Ub3VyLkdvdG9Db25maWd1cmVDb250ZW50JyxcbiAgICAgICAgICBhY3Rpb246ICdjbGljaydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZ290by1zeXN0ZW0tc2V0dGluZ3MnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnW2RhdGEtY2F0ZWdvcnk9XCJzeXN0ZW1cIl0nLFxuICAgICAgICAgIHRpdGxlOiAnQ09DNy5Ub3VyLkdvdG9TeXN0ZW1TZXR0aW5nc1RpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAnQ09DNy5Ub3VyLkdvdG9TeXN0ZW1TZXR0aW5nc0NvbnRlbnQnLFxuICAgICAgICAgIGFjdGlvbjogJ2NsaWNrJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdnb3RvLWdhbWUtcnVsZXMnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnW2RhdGEtY2F0ZWdvcnk9XCJzeXN0ZW1cIl0gW2RhdGEta2V5PVwiQ29DNy5nYW1lUnVsZXNcIl0nLFxuICAgICAgICAgIHRpdGxlOiAnQ09DNy5Ub3VyLkdvdG9HYW1lUnVsZXNUaXRsZScsXG4gICAgICAgICAgY29udGVudDogJ0NPQzcuVG91ci5Hb3RvR2FtZVJ1bGVzQ29udGVudCcsXG4gICAgICAgICAgYWN0aW9uOiAnY2xpY2snXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NhdmUtZ2FtZS1ydWxlcycsXG4gICAgICAgICAgc2VsZWN0b3I6ICcjcnVsZXMtc2V0dGluZ3MgW25hbWU9c3VibWl0XScsXG4gICAgICAgICAgdGl0bGU6ICdDT0M3LlRvdXIuU2F2ZUdhbWVSdWxlc1RpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAnQ09DNy5Ub3VyLlNhdmVHYW1lUnVsZXNDb250ZW50J1xuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbG9jYWxpemF0aW9uOiB7XG4gICAgICAgICdDT0M3LlRvdXIuR290b1NldHRpbmdzVGl0bGUnOiAnR2FtZSBTZXR0aW5ncycsXG4gICAgICAgICdDT0M3LlRvdXIuR290b1NldHRpbmdzQ29udGVudCc6ICdHbyB0byB0aGUgR2FtZSBTZXR0aW5ncyB0YWInLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9Db25maWd1cmVUaXRsZSc6ICdDb25maWd1cmUgU2V0dGluZ3MnLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9Db25maWd1cmVDb250ZW50JzogJ0NsaWNrIG9uIHRoZSBDb25maWd1cmUgU2V0dGluZ3MgYnV0dG9uJyxcbiAgICAgICAgJ0NPQzcuVG91ci5Hb3RvU3lzdGVtU2V0dGluZ3NUaXRsZSc6ICdTeXN0ZW0gU2V0dGluZ3MnLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9TeXN0ZW1TZXR0aW5nc0NvbnRlbnQnOiAnR28gdG8gdGhlIFN5c3RlbSBTZXR0aW5ncyB0YWInLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9HYW1lUnVsZXNUaXRsZSc6ICdDb25maWd1cmUgVmFyaWFudC9PcHRpb25hbCBSdWxlcycsXG4gICAgICAgICdDT0M3LlRvdXIuR290b0dhbWVSdWxlc0NvbnRlbnQnOiAnQ2xpY2sgb24gdGhlIENvbmZpZ3VyZSBWYXJpYW50L09wdGlvbmFsIFJ1bGVzIGJ1dHRvbicsXG4gICAgICAgICdDT0M3LlRvdXIuU2F2ZUdhbWVSdWxlc1RpdGxlJzogJ1NhdmUgcnVsZSBjaGFuZ2VzJyxcbiAgICAgICAgJ0NPQzcuVG91ci5TYXZlR2FtZVJ1bGVzQ29udGVudCc6ICdPbmNlIHlvdSBoYXZlIG1hZGUgeW91ciBjaGFuZ2VzIGNsaWNrIG9uIHRoZSBTYXZlIENoYW5nZXMgYnV0dG9uJ1xuICAgICAgfVxuICAgIH0sIGNvbmZpZykpXG4gIH1cblxuICBhc3luYyBfcHJlU3RlcCAoKSB7XG4gICAgYXdhaXQgc3VwZXIuX3ByZVN0ZXAoKVxuXG4gICAgaWYgKHRoaXMuY3VycmVudFN0ZXAuaWQgPT09ICdnb3RvLWdhbWUtcnVsZXMnKSB7XG4gICAgICBhd2FpdCB0aGlzLndhaXRGb3JFbGVtZW50KCcuY2F0ZWdvcnktZmlsdGVyLnN5c3RlbS5hY3RpdmUnKVxuICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yRWxlbWVudCh0aGlzLmN1cnJlbnRTdGVwLnNlbGVjdG9yKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRW5hYmxlVmFyaWFudFJ1bGVzRW4gfSBmcm9tICcuL2VuYWJsZS12YXJpYW50LXJ1bGVzLWVuLmpzJ1xuXG5leHBvcnQgY2xhc3MgRW5hYmxlVmFyaWFudFJ1bGVzRnIgZXh0ZW5kcyBFbmFibGVWYXJpYW50UnVsZXNFbiB7XG4gIGNvbnN0cnVjdG9yIChjb25maWcpIHtcbiAgICBzdXBlcih7XG4gICAgICB0aXRsZTogJ0FjdGl2ZXogbGVzIHLDqGdsZXMgb3B0aW9ubmVsbGVzLicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FjdGl2ZXogbGVzIHLDqGdsZXMgb3B0aW9uZWxsZXMgZXQgUHVscCBDdGh1bGh1JyxcbiAgICAgIGxvY2FsaXphdGlvbjoge1xuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9TZXR0aW5nc1RpdGxlJzogJ1BhcmFtw6h0cmVzJyxcbiAgICAgICAgJ0NPQzcuVG91ci5Hb3RvU2V0dGluZ3NDb250ZW50JzogJ091dnJpciBsXFwnb25nbGV0IFwiUGFyYW3DqHRyZXNcIicsXG4gICAgICAgICdDT0M3LlRvdXIuR290b0NvbmZpZ3VyZVRpdGxlJzogJ0NvbmZpZ3VyYXRpb24gZGVzIG9wdGlvbnMnLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9Db25maWd1cmVDb250ZW50JzogJ0NsaXF1ZXogc3VyIFwiQ29uZmlndXJhdGlvbiBkZXMgb3B0aW9uc1wiJyxcbiAgICAgICAgJ0NPQzcuVG91ci5Hb3RvU3lzdGVtU2V0dGluZ3NUaXRsZSc6ICdTeXN0w6htZSBkZSBqZXUnLFxuICAgICAgICAnQ09DNy5Ub3VyLkdvdG9TeXN0ZW1TZXR0aW5nc0NvbnRlbnQnOiAnT3V2cmV6IGxcXCdvbmdsZXQgXCJTeXN0w6htZSBkZSBqZXVcIicsXG4gICAgICAgICdDT0M3LlRvdXIuR290b0dhbWVSdWxlc1RpdGxlJzogJ0NvbmZpZ3VyZXIgbGVzIHZhcmlhbnRlcy9yw6hnbGVzIG9wdGlvbm5lbGxlcycsXG4gICAgICAgICdDT0M3LlRvdXIuR290b0dhbWVSdWxlc0NvbnRlbnQnOiAnQ2xpY2tleiBzdXIgbGUgYm91dHRvbiBcIkNvbmZpZ3VyZXIgbGVzIHZhcmlhbnRlcy9yw6hnbGVzIG9wdGlvbm5lbGxlc1wiJyxcbiAgICAgICAgJ0NPQzcuVG91ci5TYXZlR2FtZVJ1bGVzVGl0bGUnOiAnU2F1dmVnYXJkZXIgbGVzIG1vZGlmaWNhdGlvbnMnLFxuICAgICAgICAnQ09DNy5Ub3VyLlNhdmVHYW1lUnVsZXNDb250ZW50JzogJ0FwcmVzIGF2b2lyIGNob2lzaXMgbGVzIG9wdGlvbnMgY2xpcXVleiBzdXIgbGUgYm91dG9uIFwiU2F1dmVnYXJkZXIgbGVzIG1vZGlmaWNhdGlvbnNcIidcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgSG9va3MsIGlzTmV3ZXJWZXJzaW9uICovXG5pbXBvcnQgeyBDb0M3VG9vbHRpcHMgfSBmcm9tICcuLi9hcHBzL3Rvb2x0aXBzLmpzJ1xuLy8gaW1wb3J0IHsgQ29DN1dlbGNvbWVNZXNzYWdlIH0gZnJvbSAnLi4vYXBwcy93ZWxjb21lLW1lc3NhZ2UuanMnXG5pbXBvcnQgeyByZWdpc3RlclRvdXJzIH0gZnJvbSAnLi4vc2NyaXB0cy9yZWdpc3Rlci10b3Vycy5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uY2UoJ3JlYWR5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdDYWxsIG9mIEN0aHVsaHUgN3RoIEVkaXRpb24gfCBSZWFkeScpXG4gICAgaWYgKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3Nob3dXZWxjb21lTWVzc2FnZScpICYmIGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAvKiogVGhpcyB3aWxsIHByb21wdCB0aGUgd2VsY29tZSBtZXNzYWdlIHdoZW4gaXQgaXMgIGZpbmlzaGVkICovXG4gICAgICAvLyBhd2FpdCBDb0M3V2VsY29tZU1lc3NhZ2UuY3JlYXRlKClcbiAgICB9XG4gICAgZ2FtZS5Db0M3VG9vbHRpcHMgPSBuZXcgQ29DN1Rvb2x0aXBzKClcblxuICAgIGNvbnN0IGluc3RydWN0aW9uc1ZlcnNpb24gPSBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdzaG93SW5zdHJ1Y3Rpb25zJylcbiAgICBpZiAoaXNOZXdlclZlcnNpb24oZ2FtZS5zeXN0ZW0udmVyc2lvbiwgaW5zdHJ1Y3Rpb25zVmVyc2lvbiA/PyAnMCcpKSB7XG4gICAgICBsZXQgbGFuZyA9IGdhbWUuaTE4bi5sYW5nXG4gICAgICBjb25zdCByZWFkTWUgPSB7XG4gICAgICAgIGVuOiAnc3hCMk9YYmZ3VjZNMG55UScsXG4gICAgICAgIGZyOiAndGRha3l6VFZPUXNBTWRTbSdcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcmVhZE1lW2xhbmddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBsYW5nID0gJ2VuJ1xuICAgICAgfVxuICAgICAgKGF3YWl0IGdhbWUucGFja3MuZ2V0KCdDb0M3LnN5c3RlbS1kb2MnKS5nZXREb2N1bWVudChyZWFkTWVbbGFuZ10pKS5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgICAgIGdhbWUuc2V0dGluZ3Muc2V0KCdDb0M3JywgJ3Nob3dJbnN0cnVjdGlvbnMnLCBnYW1lLnN5c3RlbS52ZXJzaW9uKVxuICAgIH1cbiAgICByZWdpc3RlclRvdXJzKClcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBnYW1lICovXG5pbXBvcnQgeyBFbmFibGVWYXJpYW50UnVsZXNFbiB9IGZyb20gJy4uL3RvdXJzL2VuYWJsZS12YXJpYW50LXJ1bGVzLWVuLmpzJ1xuaW1wb3J0IHsgRW5hYmxlVmFyaWFudFJ1bGVzRnIgfSBmcm9tICcuLi90b3Vycy9lbmFibGUtdmFyaWFudC1ydWxlcy1mci5qcydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyVG91cnMgKCkge1xuICB0cnkge1xuICAgIGxldCBsYW5nID0gZ2FtZS5pMThuLmxhbmdcbiAgICBjb25zdCB0b3VycyA9IHtcbiAgICAgIGVuOiB7XG4gICAgICAgICdlbmFibGUtdmFyaWFudC1ydWxlcyc6IEVuYWJsZVZhcmlhbnRSdWxlc0VuXG4gICAgICB9LFxuICAgICAgZnI6IHtcbiAgICAgICAgJ2VuYWJsZS12YXJpYW50LXJ1bGVzJzogRW5hYmxlVmFyaWFudFJ1bGVzRnJcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0b3Vyc1tsYW5nXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxhbmcgPSAnZW4nXG4gICAgfVxuICAgIGZvciAoY29uc3QgdG91ck5hbWUgaW4gdG91cnNbbGFuZ10pIHtcbiAgICAgIGdhbWUudG91cnMucmVnaXN0ZXIoJ0NvQzcnLCB0b3VyTmFtZSwgbmV3IHRvdXJzW2xhbmddW3RvdXJOYW1lXSgpKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignVE9VUiBFUlJPUicsIGVycilcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgSW5pdCBmcm9tICcuL2luaXQuanMnXG5pbXBvcnQgKiBhcyBEaWNlU29OaWNlUmVhZHkgZnJvbSAnLi9kaWNlLXNvLW5pY2UtcmVhZHkuanMnXG5pbXBvcnQgKiBhcyBEaWNlU29OaWNlUm9sbFN0YXJ0IGZyb20gJy4vZGljZS1zby1uaWNlLXJvbGwtc3RhcnQuanMnXG5pbXBvcnQgKiBhcyBSZWFkeSBmcm9tICcuL3JlYWR5LmpzJ1xuaW1wb3J0ICogYXMgUmVuZGVyQWN0b3JTaGVldCBmcm9tICcuL3JlbmRlci1hY3Rvci1zaGVldC5qcydcbmltcG9ydCAqIGFzIFJlbmRlckNoYXRNZXNzYWdlIGZyb20gJy4vcmVuZGVyLWNoYXQtbWVzc2FnZS5qcydcbmltcG9ydCAqIGFzIFJlbmRlckRpYWxvZyBmcm9tICcuL3JlbmRlci1kaWFsb2cuanMnXG5pbXBvcnQgKiBhcyBSZW5kZXJJdGVtU2hlZXQgZnJvbSAnLi9yZW5kZXItaXRlbS1zaGVldC5qcydcbmltcG9ydCAqIGFzIFJlbmRlclBhdXNlIGZyb20gJy4vcmVuZGVyLXBhdXNlLmpzJ1xuaW1wb3J0ICogYXMgUmVuZGVyUGxheWVyTGlzdCBmcm9tICcuL3JlbmRlci1wbGF5ZXItbGlzdC5qcydcbmltcG9ydCAqIGFzIFJlbmRlclNldHRpbmdzQ29uZmlnIGZyb20gJy4vcmVuZGVyLXNldHRpbmdzLWNvbmZpZy5qcydcblxuZXhwb3J0IGNvbnN0IENvQzdIb29rcyA9IHtcbiAgbGlzdGVuICgpIHtcbiAgICBJbml0Lmxpc3RlbigpXG4gICAgUmVhZHkubGlzdGVuKClcbiAgICBSZW5kZXJBY3RvclNoZWV0Lmxpc3RlbigpXG4gICAgUmVuZGVyQ2hhdE1lc3NhZ2UubGlzdGVuKClcbiAgICBSZW5kZXJEaWFsb2cubGlzdGVuKClcbiAgICBSZW5kZXJJdGVtU2hlZXQubGlzdGVuKClcbiAgICBSZW5kZXJQYXVzZS5saXN0ZW4oKVxuICAgIERpY2VTb05pY2VSZWFkeS5saXN0ZW4oKVxuICAgIERpY2VTb05pY2VSb2xsU3RhcnQubGlzdGVuKClcbiAgICBSZW5kZXJQbGF5ZXJMaXN0Lmxpc3RlbigpXG4gICAgUmVuZGVyU2V0dGluZ3NDb25maWcubGlzdGVuKClcbiAgfVxufVxuIiwiLyogZ2xvYmFsIEhvb2tzICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuICgpIHtcbiAgSG9va3Mub24oJ3JlbmRlckFjdG9yU2hlZXQnLCBhc3luYyAoZGF0YSwgaHRtbCwgb3B0aW9ucykgPT4ge30pXG59XG4iLCIvKiBnbG9iYWwgSG9va3MgKi9cbmltcG9ydCB7IENvQzdDaGF0IH0gZnJvbSAnLi4vY2hhdC5qcydcbmltcG9ydCB7IENvQzdMaW5rIH0gZnJvbSAnLi4vYXBwcy9jb2M3LWxpbmsuanMnXG5pbXBvcnQgeyBDb0M3UGFyc2VyIH0gZnJvbSAnLi4vYXBwcy9jb2M3LXBhcnNlci5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uKCdyZW5kZXJDaGF0TWVzc2FnZScsIChhcHAsIGh0bWwsIGRhdGEpID0+IHtcbiAgICBDb0M3Q2hhdC5yZW5kZXJNZXNzYWdlSG9vayhhcHAsIGh0bWwsIGRhdGEpXG4gICAgQ29DN0NoYXQucmVuZGVyQ2hhdE1lc3NhZ2VIb29rKGFwcCwgaHRtbCwgZGF0YSlcbiAgICBDb0M3UGFyc2VyLlBhcnNlTWVzc2FnZShhcHAsIGh0bWwsIGRhdGEpXG4gICAgQ29DN0xpbmsuYmluZEV2ZW50c0hhbmRsZXIoaHRtbClcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBIb29rcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uKCdyZW5kZXJEaWFsb2cnLCAoZGlhbG9nLCBodG1sKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGh0bWwuZmluZCgnZm9ybScpXG4gICAgaWYgKGZvcm0uaXMoJyNkb2N1bWVudC1jcmVhdGUnKSAmJiBmb3JtLmZpbmQoJ3NlbGVjdCcpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3QgZW50aXR5Q3JlYXRlU2VsZWN0VGFnID0gZm9ybS5maW5kKFwiW25hbWU9J3R5cGUnXVwiKVxuICAgICAgY29uc3QgZW50aXR5U29ydGVkTGlzdCA9IFtdXG4gICAgICBjb25zdCBzaG93RXhwZXJpbWVudGFsID0gISFnYW1lLnNldHRpbmdzLmdldChcbiAgICAgICAgJ0NvQzcnLFxuICAgICAgICAnZXhwZXJpbWVudGFsRmVhdHVyZXMnXG4gICAgICApXG4gICAgICBlbnRpdHlDcmVhdGVTZWxlY3RUYWcuY2hpbGRyZW4oKS5lYWNoKChvLCBlbnRpdHlPcHRpb24pID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gZW50aXR5T3B0aW9uLnRleHRDb250ZW50Py5jYXBpdGFsaXplKClcbiAgICAgICAgaWYgKGdhbWUuaTE4bi5oYXMoYENvQzcuRW50aXRpZXMuJHtrZXl9YCkpIHtcbiAgICAgICAgICBlbnRpdHlPcHRpb24udGV4dENvbnRlbnQgPSBnYW1lLmkxOG4ubG9jYWxpemUoYENvQzcuRW50aXRpZXMuJHtrZXl9YClcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvd0V4cGVyaW1lbnRhbCB8fCAhWyd2ZWhpY2xlJ10uaW5jbHVkZXMoZW50aXR5T3B0aW9uLnZhbHVlKSkge1xuICAgICAgICAgIGVudGl0eVNvcnRlZExpc3QucHVzaChlbnRpdHlPcHRpb24pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBlbnRpdHlDcmVhdGVTZWxlY3RUYWcuZW1wdHkoKVxuICAgICAgZW50aXR5Q3JlYXRlU2VsZWN0VGFnLmFwcGVuZChcbiAgICAgICAgZW50aXR5U29ydGVkTGlzdC5zb3J0KChmaXJzdCwgc2Vjb25kKSA9PlxuICAgICAgICAgIGZpcnN0LmlubmVyVGV4dC5sb2NhbGVDb21wYXJlKHNlY29uZC5pbm5lclRleHQpXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIGlmIChlbnRpdHlDcmVhdGVTZWxlY3RUYWcudmFsKCkgPT09ICdhY3RvcicpIHtcbiAgICAgICAgZW50aXR5Q3JlYXRlU2VsZWN0VGFnLnZhbCgnY2hhcmFjdGVyJylcbiAgICAgIH0gZWxzZSBpZiAoZW50aXR5Q3JlYXRlU2VsZWN0VGFnLnZhbCgpID09PSAnYm9vaycpIHtcbiAgICAgICAgZW50aXR5Q3JlYXRlU2VsZWN0VGFnLnZhbCgnaXRlbScpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuIiwiLyogZ2xvYmFsIEhvb2tzICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbigncmVuZGVySXRlbVNoZWV0JywgYXN5bmMgKGRhdGEsIGh0bWwsIG9wdGlvbnMpID0+IHt9KVxufVxuIiwiLyogZ2xvYmFsIGdhbWUsIEhvb2tzICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbigncmVuZGVyUGF1c2UnLCBhc3luYyAoZGF0YSwgaHRtbCwgb3B0aW9ucykgPT4ge1xuICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdvdmVycmlkZUdhbWVBcnR3b3JrJykpIHtcbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnRQYXVzZUltYWdlJykudG9Mb3dlckNhc2UoKSA9PT0gJ251bGwnKSB7XG4gICAgICAgIGh0bWwuZmluZCgnaW1nJykucmVtb3ZlKClcbiAgICAgIH1cbiAgICAgIGlmIChnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdhcnRQYXVzZUltYWdlJykgIT09ICcnKSB7XG4gICAgICAgIGh0bWwuZmluZCgnaW1nJykuYXR0cignc3JjJywgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0UGF1c2VJbWFnZScpKVxuICAgICAgfVxuXG4gICAgICBpZiAoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYXJ0UGF1c2VUZXh0JykgIT09ICcnKSB7XG4gICAgICAgIGh0bWwuZmluZCgnaDMnKS5odG1sKGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2FydFBhdXNlVGV4dCcpKVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBIb29rcyAqL1xuaW1wb3J0IHsgQ29DN0RlY2FkZXJEU05GYWNlcyB9IGZyb20gJy4uL2FwcHMvZGVjYWRlci1kc24tZmFjZXMuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbmNlKCdkaWNlU29OaWNlUmVhZHknLCBkaWNlM2QgPT4ge1xuICAgIGRpY2UzZC5hZGREaWNlUHJlc2V0KHtcbiAgICAgIHR5cGU6ICdkdCcsXG4gICAgICBsYWJlbHM6IFsnMTAnLCAnMjAnLCAnMzAnLCAnNDAnLCAnNTAnLCAnNjAnLCAnNzAnLCAnODAnLCAnOTAnLCAnMDAnXSxcbiAgICAgIGZvbnRTY2FsZTogMC43NSxcbiAgICAgIHN5c3RlbTogJ3N0YW5kYXJkJ1xuICAgIH0pXG4gICAgZGljZTNkLmFkZERpY2VQcmVzZXQoe1xuICAgICAgdHlwZTogJ2RvJyxcbiAgICAgIGxhYmVsczogWycxMCcsICcyMCcsICczMCcsICc0MCcsICc1MCcsICc2MCcsICc3MCcsICc4MCcsICc5MCcsICcwMCddLFxuICAgICAgZm9udFNjYWxlOiAwLjc1LFxuICAgICAgc3lzdGVtOiAnc3RhbmRhcmQnXG4gICAgfSlcbiAgICBnYW1lLkNvQzdEZWNhZGVyRFNORmFjZXMgPSBuZXcgQ29DN0RlY2FkZXJEU05GYWNlcygpXG4gIH0pXG59XG4iLCIvKiBnbG9iYWwgZ2FtZSwgSG9va3MgKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4gKCkge1xuICBIb29rcy5vbignZGljZVNvTmljZVJvbGxTdGFydCcsIGRpY2UzZCA9PiB7XG4gICAgZ2FtZS5Db0M3RGVjYWRlckRTTkZhY2VzLnNldEZhY2VzKClcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCAkLCBnYW1lLCBIb29rcyAqL1xuaW1wb3J0IHsgQ09DNyB9IGZyb20gJy4uL2NvbmZpZy5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoKSB7XG4gIEhvb2tzLm9uKCdyZW5kZXJQbGF5ZXJMaXN0JywgKHBsYXllckxpc3QsIGh0bWwsIGRhdGEpID0+IHtcbiAgICAkKCc8aDQ+JykuYXBwZW5kKCc8ZGl2PjxpIGNsYXNzPVwiZmEtcmVndWxhciBmYS1jYWxlbmRhclwiPjwvaT4nICsgZ2FtZS5pMThuLmZvcm1hdChDT0M3LmVyYXNbZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnd29ybGRFcmEnKV0gPz8gJ0NvQzcuQ29DSURGbGFnLmVycm9yLnVua25vd24tZXJhJywgeyBlcmE6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3dvcmxkRXJhJykgfSkgKyAnPC9kaXY+JykuaW5zZXJ0QWZ0ZXIoJCgnaDMnLCBodG1sKSlcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBIb29rcyAqL1xuaW1wb3J0IHsgQ29DN0RpcmVjdG9yeVBpY2tlciB9IGZyb20gJy4uL3NjcmlwdHMvY29jNy1kaXJlY3RvcnktcGlja2VyLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuICgpIHtcbiAgSG9va3Mub24oJ3JlbmRlclNldHRpbmdzQ29uZmlnJywgKGFwcCwgaHRtbCwgdXNlcikgPT4ge1xuICAgIENvQzdEaXJlY3RvcnlQaWNrZXIucHJvY2Vzc0h0bWwoaHRtbClcbiAgfSlcbn1cbiIsIi8qIGdsb2JhbCBnYW1lLCBzb2NrZXRsaWIsIHVpICovXG5pbXBvcnQgeyBDb0M3TWVsZWVUYXJnZXQgfSBmcm9tICcuLi9jaGF0L2NvbWJhdC9tZWxlZS10YXJnZXQuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBDb0M3U29ja2V0ICgpIHtcbiAgZ2FtZS5Db0M3c29ja2V0ID0gc29ja2V0bGliLnJlZ2lzdGVyU3lzdGVtKCdDb0M3JylcbiAgZ2FtZS5Db0M3c29ja2V0LnJlZ2lzdGVyKCdnbWNyZWF0ZW1lc3NhZ2VhcycsIGdtY3JlYXRlbWVzc2FnZWFzKVxuICBnYW1lLkNvQzdzb2NrZXQucmVnaXN0ZXIoJ2dtdHJhZGVpdGVtdG8nLCBnbXRyYWRlaXRlbXRvKVxufVxuXG5hc3luYyBmdW5jdGlvbiBnbWNyZWF0ZW1lc3NhZ2VhcyAoZGF0YSkge1xuICBjb25zdCBtZWxlZVRhcmdldCA9IG5ldyBDb0M3TWVsZWVUYXJnZXQoXG4gICAgZGF0YS50YXJnZXRLZXksXG4gICAgZGF0YS5tZXNzYWdlSWQsXG4gICAgZGF0YS5mYXN0Rm9yd2FyZFxuICApXG4gIG1lbGVlVGFyZ2V0LmluaXRpYXRvcktleSA9IGRhdGEuYWN0b3JLZXlcbiAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IG1lbGVlVGFyZ2V0LmNyZWF0ZUNoYXRDYXJkKClcbiAgcmV0dXJuIG1lc3NhZ2Vcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ210cmFkZWl0ZW10byAoZGF0YSkge1xuICB0cnkge1xuICAgIGxldCBhY3RvclxuICAgIGlmIChkYXRhLnNjZW5lKSB7XG4gICAgICBhY3RvciA9IGdhbWUuc2NlbmVzLmdldChkYXRhLnNjZW5lKS50b2tlbnMuZ2V0KGRhdGEuYWN0b3JGcm9tKS5hY3RvclxuICAgIH0gZWxzZSB7XG4gICAgICBhY3RvciA9IGdhbWUuYWN0b3JzLmdldChkYXRhLmFjdG9yRnJvbSlcbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IGFjdG9yLml0ZW1zLmdldChkYXRhLml0ZW0pXG4gICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IGdhbWUuYWN0b3JzXG4gICAgICAuZ2V0KGRhdGEuYWN0b3JUbylcbiAgICAgIC5jcmVhdGVFbWJlZGRlZERvY3VtZW50cygnSXRlbScsIFtpdGVtLnRvSlNPTigpXSlcbiAgICBpZiAoY3JlYXRlZCkge1xuICAgICAgYWN0b3IuZGVsZXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbaXRlbS5pZF0pXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihlKVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiB0cnVlXG59XG4iLCIvKiBnbG9iYWwgZnJvbVV1aWQsIGdhbWUsIHVpICovXG5pbXBvcnQgeyBDb0M3SW52ZXN0aWdhdG9yV2l6YXJkIH0gZnJvbSAnLi9pbnZlc3RpZ2F0b3Itd2l6YXJkLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4uL3V0aWxpdGllcy5qcydcbmltcG9ydCB7IENvbWJpbmVkQ2hlY2tDYXJkIH0gZnJvbSAnLi4vY2hhdC9jYXJkcy9jb21iaW5lZC1yb2xsLmpzJ1xuaW1wb3J0IHsgT3Bwb3NlZENoZWNrQ2FyZCB9IGZyb20gJy4uL2NoYXQvY2FyZHMvb3Bwb3NlZC1yb2xsLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ29DN1N5c3RlbVNvY2tldCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAgICAgICAgICAgICAgICAgICAgICAgRGF0YSB0byBzZW5kIHRvIHNvY2tldC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhLnR5cGVdICAgICAgICAgICAgICAgIEFjdGlvbiB0byBydW5cbiAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBbZGF0YS5saXN0ZW5lcl0gIG9ubHkgdGhpcyBzcGVjZmljIHVzZXIgc2hvdWxkIHJ1biB0aGUgYWN0aW9uXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY2FsbFNvY2tldCAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5saXN0ZW5lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChnYW1lLnVzZXIuaWQgPT09IGRhdGEubGlzdGVuZXIpIHtcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdjaGFyYWN0ZXItd2l6YXJkJzpcbiAgICAgICAgICAgIENvQzdJbnZlc3RpZ2F0b3JXaXphcmQuY3JlYXRlQ2hhcmFjdGVyRnJvbURhdGEoZGF0YS5wYXlsb2FkKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdvcGVuLWNoYXJhY3Rlcic6XG4gICAgICAgICAgICBnYW1lLmFjdG9ycy5nZXQoZGF0YS5wYXlsb2FkKS5zaGVldC5yZW5kZXIodHJ1ZSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSBPcHBvc2VkQ2hlY2tDYXJkLmRlZmF1bHRDb25maWcudHlwZTpcbiAgICAgICAgICAgIE9wcG9zZWRDaGVja0NhcmQuZGlzcGF0Y2goZGF0YSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSBDb21iaW5lZENoZWNrQ2FyZC5kZWZhdWx0Q29uZmlnLnR5cGU6XG4gICAgICAgICAgICBDb21iaW5lZENoZWNrQ2FyZC5kaXNwYXRjaChkYXRhKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdpbnZva2UnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb25zdCBpdGVtID0gYXdhaXQgZnJvbVV1aWQoZGF0YS5pdGVtKVxuICAgICAgICAgICAgICBpdGVtW2RhdGEubWV0aG9kXShkYXRhLmRhdGEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICBjYXNlICd1cGRhdGVDaGFyJzpcbiAgICAgICAgICBDb0M3VXRpbGl0aWVzLnVwZGF0ZUNoYXJTaGVldHMoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgS2VlcGVyIGFjdGlvbiwgaWYgeW91IGFyZSBhIGtlZXBlciBydW4geW91cnNlbGYsIGlmIHRoZXJlIGlzIG5vIGFjdGl2ZSBHTSBzaG93IGVycm9yXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhICAgICAgICAgICAgIERhdGEgdG8gc2VuZCB0byBzb2NrZXQuXG4gICAqL1xuICBzdGF0aWMgcmVxdWVzdEtlZXBlckFjdGlvbiAoZGF0YSkge1xuICAgIGlmIChnYW1lLnVzZXIuaXNHTSkge1xuICAgICAgZGF0YS5saXN0ZW5lciA9IGdhbWUudXNlci5pZFxuICAgICAgQ29DN1N5c3RlbVNvY2tldC5jYWxsU29ja2V0KGRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtlZXBlcnMgPSBnYW1lLnVzZXJzLmZpbHRlcih1ID0+IHUuYWN0aXZlICYmIHUuaXNHTSlcbiAgICAgIGlmIChrZWVwZXJzLmxlbmd0aCkge1xuICAgICAgICBkYXRhLmxpc3RlbmVyID0ga2VlcGVyc1swXS5pZFxuICAgICAgICBnYW1lLnNvY2tldC5lbWl0KCdzeXN0ZW0uQ29DNycsIGRhdGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKFxuICAgICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5FcnJvck1pc3NpbmdLZWVwZXJVc2VyJylcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IHVzZXIgYWN0aW9uXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhICAgICAgICAgICAgIERhdGEgdG8gc2VuZCB0byBzb2NrZXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHVzZXJJZCAgICAgIE9ubHkgdGhpcyB1c2VyIGlkIHNob3VsZCBydW4gdGhlIGFjdGlvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBlcnJvcklmTWlzc2luZyAgSWYgcmVxdWVzdGluZyBhIHNwZWNpZmljIHVzZXIgc2hvdWxkIHJ1biB0aGUgYWN0aW9uIGVycm9yIGlmIHVzZXIgbm90IGZvdW5kIC8gbG9nZ2VkIGluLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVTZWxmICAgICBJZiBydW5uaW5nIGFzIGFsbCB1c2VycyBzaG91bGQgdGhlIGN1cnJlbnQgdXNlciBhbHNvIHJ1biB0aGUgYWN0aW9uLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgc3RhdGljIHJlcXVlc3RVc2VyQWN0aW9uIChcbiAgICBkYXRhLFxuICAgIHsgdXNlcklkID0gbnVsbCwgZXJyb3JJZk1pc3NpbmcgPSB0cnVlLCBpbmNsdWRlU2VsZiA9IHRydWUgfSA9IHt9XG4gICkge1xuICAgIGlmICh1c2VySWQgJiYgdHlwZW9mIHVzZXJJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh1c2VySWQgPT09IGdhbWUudXNlci5pZCkge1xuICAgICAgICBkYXRhLmxpc3RlbmVyID0gZ2FtZS51c2VyLmlkXG4gICAgICAgIENvQzdTeXN0ZW1Tb2NrZXQuY2FsbFNvY2tldChkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXNlciA9IGdhbWUudXNlcnMuZ2V0KHVzZXJJZClcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VyLmlkICE9PSAndW5kZWZpbmVkJyAmJiB1c2VyLmFjdGl2ZSkge1xuICAgICAgICAgIGRhdGEubGlzdGVuZXIgPSB1c2VyLmlkXG4gICAgICAgICAgZ2FtZS5zb2NrZXQuZW1pdCgnc3lzdGVtLkNvQzcnLCBkYXRhKVxuICAgICAgICB9IGVsc2UgaWYgKGVycm9ySWZNaXNzaW5nKSB7XG4gICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcihnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRXJyb3JNaXNzaW5nVXNlcicpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbmNsdWRlU2VsZikge1xuICAgICAgICBDb0M3U3lzdGVtU29ja2V0LmNhbGxTb2NrZXQoZGF0YSlcbiAgICAgIH1cbiAgICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5Db0M3JywgZGF0YSlcbiAgICB9XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkLCBDb21iYXQsIENPTkZJRywgZ2FtZSwgSG9va3MsIEl0ZW1EaXJlY3RvcnkgKi9cbmltcG9ydCB7IENvQzdOUENTaGVldCB9IGZyb20gJy4vYWN0b3JzL3NoZWV0cy9ucGMtc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3Q3JlYXR1cmVTaGVldCB9IGZyb20gJy4vYWN0b3JzL3NoZWV0cy9jcmVhdHVyZS1zaGVldC5qcydcbmltcG9ydCB7IENvQzdDaGFyYWN0ZXJTaGVldCB9IGZyb20gJy4vYWN0b3JzL3NoZWV0cy9jaGFyYWN0ZXIuanMnXG5pbXBvcnQgeyBDb0M3Q2hhdCB9IGZyb20gJy4vY2hhdC5qcydcbmltcG9ydCB7IENvQzdDb21iYXQsIHJvbGxJbml0aWF0aXZlIH0gZnJvbSAnLi9jb21iYXQuanMnXG5pbXBvcnQgeyBDT0M3IH0gZnJvbSAnLi9jb25maWcuanMnXG5pbXBvcnQgeyBVcGRhdGVyIH0gZnJvbSAnLi91cGRhdGVyLmpzJ1xuaW1wb3J0IHsgQ29DN1V0aWxpdGllcyB9IGZyb20gJy4vdXRpbGl0aWVzLmpzJ1xuaW1wb3J0IHsgQ29DN1BhcnNlciB9IGZyb20gJy4vYXBwcy9jb2M3LXBhcnNlci5qcydcbmltcG9ydCB7IENvQzdDaGVjayB9IGZyb20gJy4vY2hlY2suanMnXG5pbXBvcnQgeyBDb0M3TWVudSB9IGZyb20gJy4vbWVudS5qcydcbmltcG9ydCB7IERhbWFnZUNhcmQgfSBmcm9tICcuL2NoYXQvY2FyZHMvZGFtYWdlLmpzJ1xuaW1wb3J0IHsgQ29DN0NhbnZhcyB9IGZyb20gJy4vYXBwcy9jYW52YXMuanMnXG5pbXBvcnQgeyBDb0M3U2V0dGluZ3NEaXJlY3RvcnkgfSBmcm9tICcuL3NldHRpbmdzLWRpcmVjdG9yeS5qcydcbmltcG9ydCB7IENvQzdDb21wZW5kaXVtRGlyZWN0b3J5IH0gZnJvbSAnLi9jb21wZW5kaXVtLWRpcmVjdG9yeS5qcydcbmltcG9ydCB7IENvQzdBY3RvckRpcmVjdG9yeSB9IGZyb20gJy4vYWN0b3ItZGlyZWN0b3J5LmpzJ1xuaW1wb3J0IHsgQ29DN0hvb2tzIH0gZnJvbSAnLi9ob29rcy9pbmRleC5qcydcbmltcG9ydCAqIGFzIERpY2VCb3QgZnJvbSAnLi9kaWNlYm90LmpzJ1xuaW1wb3J0ICcuLi9zdHlsZXMvc3lzdGVtL2luZGV4Lmxlc3MnXG5pbXBvcnQgeyBDb0M3Q2hhc2VTaGVldCB9IGZyb20gJy4vaXRlbXMvY2hhc2Uvc2hlZXQuanMnXG5pbXBvcnQgeyBDb0M3U29ja2V0IH0gZnJvbSAnLi9ob29rcy9zb2NrZXQuanMnXG5pbXBvcnQgeyBDb0M3U3lzdGVtU29ja2V0IH0gZnJvbSAnLi9hcHBzL2NvYzctc3lzdGVtLXNvY2tldC5qcydcbmltcG9ydCB7IERyb3BBY3RvclNoZWV0RGF0YSB9IGZyb20gJy4vaG9va3MvZHJvcC1hY3Rvci1zaGVldC1kYXRhLmpzJ1xuXG4vLyBDYXJkIGluaXRcbmltcG9ydCB7IGluaXRFQ0MgfSBmcm9tICcuL2NvbW1vbi9jaGF0Y2FyZGxpYi9zcmMvY2hhdGNhcmRsaWIuanMnXG5pbXBvcnQgeyBDaGFzZU9ic3RhY2xlQ2FyZCB9IGZyb20gJy4vY2hhdC9jYXJkcy9jaGFzZS1vYnN0YWNsZS5qcydcbmltcG9ydCB7IENvQzdDb250ZXh0TWVudSB9IGZyb20gJy4vY29udGV4dC1tZW51LmpzJ1xuXG5Ib29rcy5vbigncmVuZGVyU2V0dGluZ3NDb25maWcnLCAoYXBwLCBodG1sLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHN5c3RlbVRhYiA9ICQoYXBwLmZvcm0pLmZpbmQoJy50YWJbZGF0YS10YWI9c3lzdGVtXScpXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLmRpc3BsYXlJbml0RGljZXNdJylcbiAgICAuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKVxuICAgIC5iZWZvcmUoXG4gICAgICAnPGgyIGNsYXNzPVwic2V0dGluZy1oZWFkZXJcIj4nICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRUSU5HUy5UaXRsZUluaXRpYXRpdmUnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLnN0YW5ieUdNUm9sbHNdJylcbiAgICAuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKVxuICAgIC5iZWZvcmUoXG4gICAgICAnPGgyIGNsYXNzPVwic2V0dGluZy1oZWFkZXJcIj4nICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRUSU5HUy5UaXRsZVJvbGwnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLnRydXN0ZWRDYW5Nb2RmeUNoYXRDYXJkXScpXG4gICAgLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJylcbiAgICAuYmVmb3JlKFxuICAgICAgJzxoMiBjbGFzcz1cInNldHRpbmctaGVhZGVyXCI+JyArXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVElOR1MuVGl0bGVDaGF0Q2FyZHMnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLmVuYWJsZVN0YXR1c0ljb25zXScpXG4gICAgLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJylcbiAgICAuYmVmb3JlKFxuICAgICAgJzxoMiBjbGFzcz1cInNldHRpbmctaGVhZGVyXCI+JyArXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVElOR1MuVGl0bGVTY2VuZScpICtcbiAgICAgICAgJzwvaDI+J1xuICAgIClcbiAgc3lzdGVtVGFiXG4gICAgLmZpbmQoJ2lucHV0W25hbWU9Q29DN1xcXFwub3ZlcnJpZGVHYW1lQXJ0d29ya10nKVxuICAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gICAgLmJlZm9yZShcbiAgICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlR2FtZUFydHdvcmsnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLmRpc3BsYXlQbGF5ZXJOYW1lT25TaGVldF0nKVxuICAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gICAgLmJlZm9yZShcbiAgICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlU2hlZXQnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLmRpc3JlZ2FyZFVzZVBlclJvdW5kXScpXG4gICAgLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJylcbiAgICAuYmVmb3JlKFxuICAgICAgJzxoMiBjbGFzcz1cInNldHRpbmctaGVhZGVyXCI+JyArXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVElOR1MuVGl0bGVXZWFwb24nKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLnN5bmNEaWNlM2RdJylcbiAgICAuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKVxuICAgIC5iZWZvcmUoXG4gICAgICAnPGgyIGNsYXNzPVwic2V0dGluZy1oZWFkZXJcIj4nICtcbiAgICAgICAgZ2FtZS5pMThuLmxvY2FsaXplKCdTRVRUSU5HUy5UaXRsZURpY2VTb05pY2UnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdpbnB1dFtuYW1lPUNvQzdcXFxcLmRlYnVnbW9kZV0nKVxuICAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gICAgLmJlZm9yZShcbiAgICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlRGV2ZWxvcGVyRGVidWcnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIHN5c3RlbVRhYlxuICAgIC5maW5kKCdzZWxlY3RbbmFtZT1Db0M3XFxcXC5ib3V0T2ZNYWRuZXNzU3VtbWFyeVRhYmxlXScpXG4gICAgLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJylcbiAgICAuYmVmb3JlKFxuICAgICAgJzxoMiBjbGFzcz1cInNldHRpbmctaGVhZGVyXCI+JyArXG4gICAgICAgIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU0VUVElOR1MuVGl0bGVSb2xsVGFibGUnKSArXG4gICAgICAgICc8L2gyPidcbiAgICApXG4gIC8vIE1PVkVEIFRPIENIQVNTRSBJTkRJVklEVUFMIFNFVFRJTkdcbiAgLy8gc3lzdGVtVGFiXG4gIC8vICAgLmZpbmQoJ2lucHV0W25hbWU9Q29DN1xcXFwuY2hhc2VTaG93VG9rZW5Nb3ZlbWVudF0nKVxuICAvLyAgIC5jbG9zZXN0KCdkaXYuZm9ybS1ncm91cCcpXG4gIC8vICAgLmJlZm9yZShcbiAgLy8gICAgICc8aDIgY2xhc3M9XCJzZXR0aW5nLWhlYWRlclwiPicgK1xuICAvLyAgICAgICBnYW1lLmkxOG4ubG9jYWxpemUoJ1NFVFRJTkdTLlRpdGxlQ2hhc2VTZXR0aW5ncycpICtcbiAgLy8gICAgICAgJzwvaDI+J1xuICAvLyAgIClcbn0pXG5cbkhvb2tzLm9uY2UoJ2luaXQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIGdhbWUuQ29DNyA9IHtcbiAgICBtYWNyb3M6IHtcbiAgICAgIHNraWxsQ2hlY2s6IENvQzdVdGlsaXRpZXMuc2tpbGxDaGVja01hY3JvLFxuICAgICAgd2VhcG9uQ2hlY2s6IENvQzdVdGlsaXRpZXMud2VhcG9uQ2hlY2tNYWNybyxcbiAgICAgIGNoZWNrOiBDb0M3VXRpbGl0aWVzLmNoZWNrTWFjcm9cbiAgICB9LFxuICAgIGNhcmRzOiB7XG4gICAgICBEYW1hZ2VDYXJkXG4gICAgfSxcbiAgICBkZXY6IHtcbiAgICAgIGRpY2U6IHtcbiAgICAgICAgYWx3YXlzQ3JpdDogZmFsc2UsXG4gICAgICAgIGFsd2F5c0Z1bWJsZTogZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuICAgIGVyYXM6IChlcmEsIG5hbWUpID0+IHtcbiAgICAgIENPQzcuZXJhc1tlcmFdID0gbmFtZVxuICAgIH1cbiAgfVxuICBDb21iYXQucHJvdG90eXBlLnJvbGxJbml0aWF0aXZlID0gcm9sbEluaXRpYXRpdmVcbn0pXG5cbmluaXRFQ0MoQ2hhc2VPYnN0YWNsZUNhcmQpXG5cbkhvb2tzLm9uKCdyZW5kZXJDb21iYXRUcmFja2VyJywgKGFwcCwgaHRtbCwgZGF0YSkgPT5cbiAgQ29DN0NvbWJhdC5yZW5kZXJDb21iYXRUcmFja2VyKGFwcCwgaHRtbCwgZGF0YSlcbilcblxuRGljZUJvdC5saXN0ZW4oKVxuQ29DN0hvb2tzLmxpc3RlbigpXG5cbkhvb2tzLm9uY2UoJ3NvY2tldGxpYi5yZWFkeScsIENvQzdTb2NrZXQpXG5cbkhvb2tzLm9uY2UoJ3NldHVwJywgZnVuY3Rpb24gKCkge1xuICAvLyBMb2NhbGl6ZSBDT05GSUcgb2JqZWN0cyBvbmNlIHVwLWZyb250XG4gIGNvbnN0IHRvTG9jYWxpemUgPSBbXG4gICAgJ3NwZWxsUHJvcGVydGllcycsXG4gICAgJ2Jvb2tUeXBlJyxcbiAgICAndGFsZW50VHlwZScsXG4gICAgJ29jY3VwYXRpb25Qcm9wZXJ0aWVzJyxcbiAgICAnc3RhdHVzVHlwZSdcbiAgXVxuXG4gIGZvciAoY29uc3QgbyBvZiB0b0xvY2FsaXplKSB7XG4gICAgY29uc3QgbG9jYWxpemVkID0gT2JqZWN0LmVudHJpZXMoQ09DN1tvXSkubWFwKGUgPT4ge1xuICAgICAgcmV0dXJuIFtlWzBdLCBnYW1lLmkxOG4ubG9jYWxpemUoZVsxXSldXG4gICAgfSlcbiAgICBDT0M3W29dID0gbG9jYWxpemVkLnJlZHVjZSgob2JqLCBlKSA9PiB7XG4gICAgICBvYmpbZVswXV0gPSBlWzFdXG4gICAgICByZXR1cm4gb2JqXG4gICAgfSwge30pXG4gIH1cblxuICBsZXQgZWZmZWN0SW5kZXggPSBDT05GSUcuc3RhdHVzRWZmZWN0cy5maW5kSW5kZXgoXG4gICAgdCA9PiB0LmlkID09PSBDT0M3LnN0YXR1cy5kZWFkXG4gIClcbiAgaWYgKGVmZmVjdEluZGV4ICE9PSAtMSkge1xuICAgIENPTkZJRy5zdGF0dXNFZmZlY3RzW2VmZmVjdEluZGV4XS5pY29uID1cbiAgICAgICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL3RvbWJzdG9uZS5zdmcnXG4gIH1cbiAgZWZmZWN0SW5kZXggPSBDT05GSUcuc3RhdHVzRWZmZWN0cy5maW5kSW5kZXgoXG4gICAgdCA9PiB0LmlkID09PSBDT0M3LnN0YXR1cy51bmNvbnNjaW91c1xuICApXG4gIGlmIChlZmZlY3RJbmRleCAhPT0gLTEpIHtcbiAgICBDT05GSUcuc3RhdHVzRWZmZWN0c1tlZmZlY3RJbmRleF0uaWNvbiA9XG4gICAgICAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy9rbm9ja2VkLW91dC1zdGFycy5zdmcnXG4gIH1cbiAgQ09ORklHLnN0YXR1c0VmZmVjdHMudW5zaGlmdChcbiAgICB7XG4gICAgICBpZDogQ09DNy5zdGF0dXMudGVtcG9JbnNhbmUsXG4gICAgICBsYWJlbDogJ0NvQzcuQm91dE9mTWFkbmVzc05hbWUnLFxuICAgICAgaWNvbjogJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvaGFuZ2luZy1zcGlkZXIuc3ZnJ1xuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IENPQzcuc3RhdHVzLmluZGVmSW5zYW5lLFxuICAgICAgbGFiZWw6ICdDb0M3Lkluc2FuaXR5TmFtZScsXG4gICAgICBpY29uOiAnc3lzdGVtcy9Db0M3L2Fzc2V0cy9pY29ucy90ZW50YWNsZXMtc2t1bGwuc3ZnJ1xuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IENPQzcuc3RhdHVzLmNyaXRpY2FsV291bmRzLFxuICAgICAgbGFiZWw6ICdDb0M3LkNyaXRpY2FsV291bmRzJyxcbiAgICAgIGljb246ICdzeXN0ZW1zL0NvQzcvYXNzZXRzL2ljb25zL2FybS1zbGluZy5zdmcnXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogQ09DNy5zdGF0dXMuZHlpbmcsXG4gICAgICBsYWJlbDogJ0NvQzcuRHlpbmcnLFxuICAgICAgaWNvbjogJ3N5c3RlbXMvQ29DNy9hc3NldHMvaWNvbnMvaGVhcnQtYmVhdHMuc3ZnJ1xuICAgIH1cbiAgKVxufSlcblxuSG9va3Mub24oJ2NyZWF0ZUFjdGl2ZUVmZmVjdCcsIChkYXRhLCBvcHRpb25zLCB1c2VySWQpID0+IHtcbiAgaWYgKFxuICAgIGdhbWUudXNlcklkID09PSB1c2VySWQgJiZcbiAgICB0eXBlb2YgZGF0YS5mbGFncy5jb3JlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkYXRhLmZsYWdzLmNvcmUuc3RhdHVzSWQgIT09ICd1bmRlZmluZWQnXG4gICkge1xuICAgIHN3aXRjaCAoZGF0YS5mbGFncy5jb3JlLnN0YXR1c0lkKSB7XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmluZGVmSW5zYW5lOlxuICAgICAgY2FzZSBDT0M3LnN0YXR1cy51bmNvbnNjaW91czpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMuY3JpdGljYWxXb3VuZHM6XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmR5aW5nOlxuICAgICAgY2FzZSBDT0M3LnN0YXR1cy5wcm9uZTpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMuZGVhZDpcbiAgICAgICAgZGF0YS5wYXJlbnQuc2V0Q29uZGl0aW9uKGRhdGEuZmxhZ3MuY29yZS5zdGF0dXNJZCwge1xuICAgICAgICAgIGZvcmNlVmFsdWU6IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMudGVtcG9JbnNhbmU6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCByZWFsVGltZSA9IGRhdGEuZmxhZ3MuQ29DNz8ucmVhbFRpbWVcbiAgICAgICAgICBsZXQgZHVyYXRpb24gPSBudWxsXG4gICAgICAgICAgaWYgKHJlYWxUaW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IGRhdGEuZHVyYXRpb24/LnJvdW5kc1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVhbFRpbWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IGRhdGEuZHVyYXRpb24/LnNlY29uZHNcbiAgICAgICAgICAgIGlmICghaXNOYU4oZHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgIGR1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDM2MDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEucGFyZW50LnNldENvbmRpdGlvbihDT0M3LnN0YXR1cy50ZW1wb0luc2FuZSwge1xuICAgICAgICAgICAgZm9yY2VWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlYWxUaW1lLFxuICAgICAgICAgICAgZHVyYXRpb25cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59KVxuXG5Ib29rcy5vbignZGVsZXRlQWN0aXZlRWZmZWN0JywgKGRhdGEsIG9wdGlvbnMsIHVzZXJJZCkgPT4ge1xuICBpZiAoXG4gICAgZ2FtZS51c2VySWQgPT09IHVzZXJJZCAmJlxuICAgIHR5cGVvZiBkYXRhLmZsYWdzLmNvcmUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRhdGEuZmxhZ3MuY29yZS5zdGF0dXNJZCAhPT0gJ3VuZGVmaW5lZCdcbiAgKSB7XG4gICAgc3dpdGNoIChkYXRhLmZsYWdzLmNvcmUuc3RhdHVzSWQpIHtcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMudGVtcG9JbnNhbmU6XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmluZGVmSW5zYW5lOlxuICAgICAgY2FzZSBDT0M3LnN0YXR1cy51bmNvbnNjaW91czpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMuY3JpdGljYWxXb3VuZHM6XG4gICAgICBjYXNlIENPQzcuc3RhdHVzLmR5aW5nOlxuICAgICAgY2FzZSBDT0M3LnN0YXR1cy5wcm9uZTpcbiAgICAgIGNhc2UgQ09DNy5zdGF0dXMuZGVhZDpcbiAgICAgICAgZGF0YS5wYXJlbnQudW5zZXRDb25kaXRpb24oZGF0YS5mbGFncy5jb3JlLnN0YXR1c0lkLCB7XG4gICAgICAgICAgZm9yY2VWYWx1ZTogdHJ1ZVxuICAgICAgICB9KVxuICAgIH1cbiAgfVxufSlcblxuLy8gVGhpcyB3aWxsIGhpZGUgdGhlIGl0ZW0gY2FsbGVkICdfX0NvQzdJbnRlcm5hbEl0ZW1fXydcbi8vIFRoaXMgaXRlbSBpcyB1c2VkIGZvciBpbnRlcm5hbCBwdXJwb3NlcyBhbmQgc2hvdWxkIG5vdCBiZSBzZWVuIGJ5IGFueW9uZVxuSG9va3Mub24oJ2NoYW5nZVNpZGViYXJUYWInLCBkaXJlY3RvcnkgPT4ge1xuICBpZiAoZGlyZWN0b3J5IGluc3RhbmNlb2YgSXRlbURpcmVjdG9yeSkge1xuICAgIGNvbnN0IGl0ZW0gPSBnYW1lLml0ZW1zLmZpbmQoaSA9PiBpLm5hbWUgPT09ICdfX0NvQzdJbnRlcm5hbEl0ZW1fXycpXG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBkaXJlY3RvcnkuX2VsZW1lbnRcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0gaHRtbC5maW5kKGBbZGF0YS1kb2N1bWVudC1pZD0nJHtpdGVtLmlkfSddYClcbiAgICAgIGlmIChpdGVtRWxlbWVudCkgaXRlbUVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgfVxufSlcblxuSG9va3Mub24oJ2hvdGJhckRyb3AnLCAoYmFyLCBkYXRhLCBzbG90KSA9PiB7XG4gIHJldHVybiBDb0M3VXRpbGl0aWVzLmNyZWF0ZU1hY3JvKGJhciwgZGF0YSwgc2xvdClcbn0pXG5cbkhvb2tzLm9uKCdyZW5kZXJDaGF0TG9nJywgKGFwcCwgaHRtbCwgZGF0YSkgPT5cbiAgQ29DN0NoYXQuY2hhdExpc3RlbmVycyhhcHAsIGh0bWwsIGRhdGEpXG4pXG5Ib29rcy5vbigndXBkYXRlQ2hhdE1lc3NhZ2UnLCAoY2hhdE1lc3NhZ2UsIGNoYXREYXRhLCBkaWZmLCBzcGVha2VyKSA9PlxuICBDb0M3Q2hhdC5vblVwZGF0ZUNoYXRNZXNzYWdlKGNoYXRNZXNzYWdlLCBjaGF0RGF0YSwgZGlmZiwgc3BlYWtlcilcbilcblxuSG9va3Mub24oJ3JlYWR5JywgYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBVcGRhdGVyLmNoZWNrRm9yVXBkYXRlKClcblxuICAvLyBnYW1lLkNvQzcubWVudXMgPSBuZXcgQ29DN01lbnUoKTtcblxuICBhY3RpdmF0ZUdsb2JhbExpc3RlbmVyKClcblxuICAvLyBzZXRHbG9iYWxDc3NWYXIoKVxuXG4gIGdhbWUuQ29DNy5za2lsbExpc3QgPSBhd2FpdCBnYW1lLnBhY2tzLmdldCgnQ29DNy5za2lsbHMnKT8uZ2V0RG9jdW1lbnRzKClcblxuICBnYW1lLnNvY2tldC5vbignc3lzdGVtLkNvQzcnLCBhc3luYyBkYXRhID0+IHtcbiAgICBDb0M3U3lzdGVtU29ja2V0LmNhbGxTb2NrZXQoZGF0YSlcbiAgfSlcblxuICAvLyBcIlNFVFRJTkdTLkJvdXRPZk1hZG5lc3NQaG9iaWFzSW5kZXhcIjogXCJQaG9iaWFzIGluZGV4XCIsXG4gIC8vIFwiU0VUVElOR1MuQm91dE9mTWFkbmVzc1Bob2JpYXNJbmRleEhpbnRcIjogXCJUaGUgaW5kZXggKHJvbGwgcmVzdWx0KSB0aGF0IHdpbGwgdHJpZ2dlciBhIHJvbGwgaW4gdGhlIHBob2JpYXMgdGFibGVcIixcbiAgLy8gXCJTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzTWFuaWFzSW5kZXhcIjogXCJNYW5pYXMgaW5kZXhcIixcbiAgLy8gXCJTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzTWFuaWFzSW5kZXhIaW50XCI6IFwiVGhlIGluZGV4IChyb2xsIHJlc3VsdCkgdGhhdCB3aWxsIHRyaWdnZXIgYSByb2xsIGluIHRoZSBtYW5pYXMgdGFibGVcIixcbiAgLy8gXCJTRVRUSU5HUy5TYW1wbGVQaG9iaWFzVGFibGVcIjogXCJTYW1wbGUgcGhvYmlhcyB0YWJsZVwiLFxuICAvLyBcIlNFVFRJTkdTLlNhbXBsZU1hbmlhc1RhYmxlXCI6IFwiU2FtcGxlIE1hbmlhcyB0YWJsZVwiLFxuXG4gIGZ1bmN0aW9uIF90YWJsZVNldHRpbmdzQ2hhbmdlZCAodGFibGUsIGlkKSB7XG4gICAgaWYgKGlkID09PSAnbm9uZScpIGdhbWUuQ29DNy50YWJsZXNbdGFibGVdID0gbnVsbFxuICAgIGVsc2UgZ2FtZS5Db0M3LnRhYmxlc1t0YWJsZV0gPSBnYW1lLnRhYmxlcy5nZXQoaWQpXG4gIH1cblxuICAvLyBmdW5jdGlvbiBfdGFibGVJbmRleENoYW5nZWQoIHRhYmxlLCBpbmRleCl7XG4gIC8vICBnYW1lLkNvQzcudGFibGVzW3RhYmxlXT1pbmRleDtcbiAgLy8gfVxuXG4gIGNvbnN0IHRhYmxlQ2hvaWNlID0geyBub25lOiAnU0VUVElOR1MuTGV0S2VlcGVyRGVjaWRlJyB9XG4gIGZvciAoY29uc3QgdCBvZiBnYW1lLnRhYmxlcykge1xuICAgIHRhYmxlQ2hvaWNlW3QuX2lkXSA9IHQubmFtZVxuICB9XG5cbiAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdib3V0T2ZNYWRuZXNzU3VtbWFyeVRhYmxlJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzU3VtbWFyeVRhYmxlJyxcbiAgICBzY29wZTogJ3dvcmxkJyxcbiAgICBjb25maWc6IHRydWUsXG4gICAgZGVmYXVsdDogJ25vbmUnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjaG9pY2VzOiB0YWJsZUNob2ljZSxcbiAgICBvbkNoYW5nZTogaWQgPT4gX3RhYmxlU2V0dGluZ3NDaGFuZ2VkKCdib3V0T2ZNYWRuZXNzX1N1bW1hcnknLCBpZClcbiAgfSlcblxuICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NSZWFsVGltZVRhYmxlJywge1xuICAgIG5hbWU6ICdTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzUmVhbFRpbWVUYWJsZScsXG4gICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgY29uZmlnOiB0cnVlLFxuICAgIGRlZmF1bHQ6ICdub25lJyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY2hvaWNlczogdGFibGVDaG9pY2UsXG4gICAgb25DaGFuZ2U6IGlkID0+IF90YWJsZVNldHRpbmdzQ2hhbmdlZCgnYm91dE9mTWFkbmVzc19SZWFsVGltZScsIGlkKVxuICB9KVxuXG4gIC8vIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc1Bob2JpYXNJbmRleCcse1xuICAvLyAgbmFtZTogJ1NFVFRJTkdTLkJvdXRPZk1hZG5lc3NQaG9iaWFzSW5kZXgnLFxuICAvLyAgaGludDogJ1NFVFRJTkdTLkJvdXRPZk1hZG5lc3NQaG9iaWFzSW5kZXhIaW50JyxcbiAgLy8gIHNjb3BlOiAnd29ybGQnLFxuICAvLyAgY29uZmlnOiB0cnVlLFxuICAvLyAgZGVmYXVsdDogOSxcbiAgLy8gIHR5cGU6IE51bWJlcixcbiAgLy8gIG9uQ2hhbmdlOiAgaWQgPT4gX3RhYmxlSW5kZXhDaGFuZ2VkKCAncGhvYmlhc0luZGV4JywgaWQpXG4gIC8vIH0pO1xuXG4gIC8vIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc01hbmlhc0luZGV4Jyx7XG4gIC8vICBuYW1lOiAnU0VUVElOR1MuQm91dE9mTWFkbmVzc01hbmlhc0luZGV4JyxcbiAgLy8gIGhpbnQ6ICdTRVRUSU5HUy5Cb3V0T2ZNYWRuZXNzTWFuaWFzSW5kZXhIaW50JyxcbiAgLy8gIHNjb3BlOiAnd29ybGQnLFxuICAvLyAgY29uZmlnOiB0cnVlLFxuICAvLyAgZGVmYXVsdDogMTAsXG4gIC8vICB0eXBlOiBOdW1iZXIsXG4gIC8vICBvbkNoYW5nZTogIGlkID0+IF90YWJsZUluZGV4Q2hhbmdlZCggJ21hbmlhc0luZGV4JywgaWQpXG4gIC8vIH0pO1xuXG4gIC8vIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoJ0NvQzcnLCAnc2FtcGxlUGhvYmlhc1RhYmxlJyx7XG4gIC8vICBuYW1lOiAnU0VUVElOR1MuU2FtcGxlUGhvYmlhc1RhYmxlJyxcbiAgLy8gIHNjb3BlOiAnd29ybGQnLFxuICAvLyAgY29uZmlnOiB0cnVlLFxuICAvLyAgZGVmYXVsdDogJ25vbmUnLFxuICAvLyAgdHlwZTogU3RyaW5nLFxuICAvLyAgY2hvaWNlczogdGFibGVDaG9pY2UsXG4gIC8vICBvbkNoYW5nZTogIGlkID0+IF90YWJsZVNldHRpbmdzQ2hhbmdlZCggJ3Bob2JpYXMnLCBpZClcbiAgLy8gfSk7XG5cbiAgLy8gZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcignQ29DNycsICdzYW1wbGVNYW5pYXNUYWJsZScse1xuICAvLyAgbmFtZTogJ1NFVFRJTkdTLlNhbXBsZU1hbmlhc1RhYmxlJyxcbiAgLy8gIHNjb3BlOiAnd29ybGQnLFxuICAvLyAgY29uZmlnOiB0cnVlLFxuICAvLyAgZGVmYXVsdDogJ25vbmUnLFxuICAvLyAgdHlwZTogU3RyaW5nLFxuICAvLyAgY2hvaWNlczogdGFibGVDaG9pY2UsXG4gIC8vICBvbkNoYW5nZTogIGlkID0+IF90YWJsZVNldHRpbmdzQ2hhbmdlZCggJ21hbmlhcycsIGlkKVxuICAvLyB9KTtcblxuICBnYW1lLkNvQzcudGFibGVzID0ge1xuICAgIGJvdXRPZk1hZG5lc3NfU3VtbWFyeTpcbiAgICAgIGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NTdW1tYXJ5VGFibGUnKSA9PT0gJ25vbmUnXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGdhbWUudGFibGVzLmdldChcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdib3V0T2ZNYWRuZXNzU3VtbWFyeVRhYmxlJylcbiAgICAgICAgKSxcbiAgICBib3V0T2ZNYWRuZXNzX1JlYWxUaW1lOlxuICAgICAgZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnYm91dE9mTWFkbmVzc1JlYWxUaW1lVGFibGUnKSA9PT0gJ25vbmUnXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGdhbWUudGFibGVzLmdldChcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdib3V0T2ZNYWRuZXNzUmVhbFRpbWVUYWJsZScpXG4gICAgICAgIClcbiAgICAvLyBtYW5pYXNJbmRleDogZ2Uuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NQaG9iaWFzSW5kZXgnKSxcbiAgICAvLyBwaG9iaWFzSW5kZXg6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2JvdXRPZk1hZG5lc3NNYW5pYXNJbmRleCcpLFxuICAgIC8vIHBob2JpYXM6ICgnbm9uZScgPT0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc2FtcGxlUGhvYmlhc1RhYmxlJykpP251bGw6Z2FtZS50YWJsZXMuZ2V0KGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ3NhbXBsZVBob2JpYXNUYWJsZScpKSxcbiAgICAvLyBtYW5pYXM6ICgnbm9uZScgPT0gZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc2FtcGxlTWFuaWFzVGFibGUnKSk/bnVsbDpnYW1lLnRhYmxlcy5nZXQoZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnc2FtcGxlTWFuaWFzVGFibGUnKSksXG4gIH1cbn0pXG5cbi8vIEhvb2tzLm9uKCdwcmVDcmVhdGVBY3RvcicsIChjcmVhdGVEYXRhKSA9PiBDb0NBY3Rvci5pbml0VG9rZW4oIGNyZWF0ZURhdGEpKTtcblxuSG9va3Mub24oXG4gICdyZW5kZXJDb0M3Q2hhc2VTaGVldCcsXG4gIC8qKiBhc3luYyAqLyAoYXBwLCBodG1sLCBkYXRhKSA9PlxuICAgIC8qKiBhd2FpdCAqLyBDb0M3Q2hhc2VTaGVldC5zZXRTY3JvbGwoYXBwLCBodG1sLCBkYXRhKVxuKVxuXG5Ib29rcy5vbignY2xvc2VDb0M3Q2hhc2VTaGVldCcsIChhcHAsIGh0bWwpID0+XG4gIENvQzdDaGFzZVNoZWV0Lm9uQ2xvc2UoYXBwLCBodG1sKVxuKVxuXG4vLyBDYWxsZWQgb24gY2xvc2luZyBhIGNoYXJhY3RlciBzaGVldCB0byBsb2NrIGl0IG9uIGdldHRpbmcgaXQgdG8gZGlzcGxheSB2YWx1ZXNcbkhvb2tzLm9uKCdjbG9zZUFjdG9yU2hlZXQnLCBjaGFyYWN0ZXJTaGVldCA9PiBjaGFyYWN0ZXJTaGVldC5vbkNsb3NlU2hlZXQoKSlcbkhvb2tzLm9uKCdyZW5kZXJDb0M3Q3JlYXR1cmVTaGVldCcsIChhcHAsIGh0bWwsIGRhdGEpID0+XG4gIENvQzdDcmVhdHVyZVNoZWV0LmZvcmNlQXV0byhhcHAsIGh0bWwsIGRhdGEpXG4pXG5Ib29rcy5vbigncmVuZGVyQ29DN05QQ1NoZWV0JywgKGFwcCwgaHRtbCwgZGF0YSkgPT5cbiAgQ29DN05QQ1NoZWV0LmZvcmNlQXV0byhhcHAsIGh0bWwsIGRhdGEpXG4pXG4vLyBIb29rcy5vbigndXBkYXRlQWN0b3InLCAoYWN0b3IsIGRhdGFVcGRhdGUpID0+IENvQ0FjdG9yLnVwZGF0ZUFjdG9yKCBhY3RvciwgZGF0YVVwZGF0ZSkpO1xuLy8gSG9va3Mub24oJ3VwZGF0ZVRva2VuJywgKHNjZW5lLCB0b2tlbiwgZGF0YVVwZGF0ZSkgPT4gQ29DQWN0b3IudXBkYXRlVG9rZW4oIHNjZW5lLCB0b2tlbiwgZGF0YVVwZGF0ZSkpO1xuXG5Ib29rcy5vbignY2hhdE1lc3NhZ2UnLCBDb0M3VXRpbGl0aWVzLlBhcnNlQ2hhdEVudHJ5KVxuLy8gSG9va3Mub24oJ3ByZUNyZWF0ZVRva2VuJywgKCBzY2VuZSwgYWN0b3IsIG9wdGlvbnMsIGlkKSA9PiBDb0NBY3Rvci5wcmVDcmVhdGVUb2tlbiggc2NlbmUsIGFjdG9yLCBvcHRpb25zLCBpZCkpXG4vLyBIb29rcy5vbignY3JlYXRlVG9rZW4nLCAoIHNjZW5lLCBhY3Rvciwgb3B0aW9ucywgaWQpID0+IENvQ0FjdG9yLnByZUNyZWF0ZVRva2VuKCBzY2VuZSwgYWN0b3IsIG9wdGlvbnMsIGlkKSlcbi8vIEhvb2tzLm9uKFwicmVuZGVyQ2hhdExvZ1wiLCAoYXBwLCBodG1sLCBkYXRhKSA9PiBDb0M3SXRlbS5jaGF0TGlzdGVuZXJzKGh0bWwpKTtcblxuSG9va3Mub24oJ2dldFNjZW5lQ29udHJvbEJ1dHRvbnMnLCAoLyogY29udHJvbHMgKi8pID0+IHtcbiAgLy8gaWYoIGdhbWUudXNlci5pc0dNKXtcbiAgLy8gIGxldCBncm91cCA9IGNvbnRyb2xzLmZpbmQoYiA9PiBiLm5hbWUgPT0gJ3Rva2VuJyk7XG4gIC8vICBncm91cC50b29scy5wdXNoKHtcbiAgLy8gICAgdG9nZ2xlOiB0cnVlLFxuICAvLyAgICBpY29uIDogJ2ZhcyBmYS1hbmdsZS1kb3VibGUtdXAnLFxuICAvLyAgICBuYW1lOiAnZGV2cGhhc2UnLFxuICAvLyAgICBhY3RpdmU6IGdhbWUuc2V0dGluZ3MuZ2V0KCdDb0M3JywgJ2RldmVsb3BtZW50RW5hYmxlZCcpLFxuICAvLyAgICB0aXRsZTogZ2FtZS5zZXR0aW5ncy5nZXQoJ0NvQzcnLCAnZGV2ZWxvcG1lbnRFbmFibGVkJyk/IGdhbWUuaTE4bi5sb2NhbGl6ZSggJ0NvQzcuRGV2UGhhc2VFbmFibGVkJyk6IGdhbWUuaTE4bi5sb2NhbGl6ZSggJ0NvQzcuRGV2UGhhc2VEaXNhYmxlZCcpLFxuICAvLyAgICBvbkNsaWNrIDphc3luYyAoKSA9PiBhd2FpdCBDb0M3VXRpbGl0aWVzLnRvZ2dsZURldlBoYXNlKClcbiAgLy8gIH0pO1xuICAvLyAgZ3JvdXAudG9vbHMucHVzaCh7XG4gIC8vICAgIHRvZ2dsZTogdHJ1ZSxcbiAgLy8gICAgaWNvbiA6ICdmYXMgZmFzIGZhLXVzZXItZWRpdCcsXG4gIC8vICAgIG5hbWU6ICdjaGFyY3JlYXRlJyxcbiAgLy8gICAgYWN0aXZlOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdjaGFyQ3JlYXRpb25FbmFibGVkJyksXG4gIC8vICAgIHRpdGxlOiBnYW1lLnNldHRpbmdzLmdldCgnQ29DNycsICdjaGFyQ3JlYXRpb25FbmFibGVkJyk/IGdhbWUuaTE4bi5sb2NhbGl6ZSggJ0NvQzcuQ2hhckNyZWF0aW9uRW5hYmxlZCcpOiBnYW1lLmkxOG4ubG9jYWxpemUoICdDb0M3LkNoYXJDcmVhdGlvbkRpc2FibGVkJyksXG4gIC8vICAgIG9uQ2xpY2sgOmFzeW5jICgpID0+IGF3YWl0IENvQzdVdGlsaXRpZXMudG9nZ2xlQ2hhckNyZWF0aW9uKClcbiAgLy8gIH0pO1xuICAvLyB9XG59KVxuXG4vLyBIb29rcy5vbigncmVuZGVyU2NlbmVDb250cm9scycsICgpID0+IENvQzdVdGlsaXRpZXMudXBkYXRlQ2hhclNoZWV0cygpKTtcbi8vIEhvb2tzLm9uKCdyZW5kZXJTY2VuZU5hdmlnYXRpb24nLCAoKSA9PiBDb0M3VXRpbGl0aWVzLnVwZGF0ZUNoYXJTaGVldHMoKSk7XG5Ib29rcy5vbigncmVuZGVySXRlbVNoZWV0JywgQ29DN1BhcnNlci5QYXJzZVNoZWV0Q29udGVudClcbkhvb2tzLm9uKCdyZW5kZXJKb3VybmFsUGFnZVNoZWV0JywgQ29DN1BhcnNlci5QYXJzZVNoZWV0Q29udGVudClcbkhvb2tzLm9uKCdyZW5kZXJBY3RvclNoZWV0JywgQ29DN1BhcnNlci5QYXJzZVNoZWV0Q29udGVudClcbi8vIFNoZWV0IGNzcyBvcHRpb25zXG4vLyBIb29rcy5vbigncmVuZGVyQ29DN0NoYXJhY3RlclNoZWV0JywgQ29DN0NoYXJhY3RlclNoZWV0LnJlbmRlclNoZWV0KTtcbkhvb2tzLm9uKCdyZW5kZXJBY3RvclNoZWV0JywgQ29DN0NoYXJhY3RlclNoZWV0LnJlbmRlclNoZWV0KVxuSG9va3Mub24oJ3JlbmRlckl0ZW1TaGVldCcsIENvQzdDaGFyYWN0ZXJTaGVldC5yZW5kZXJTaGVldClcblxuLy8gSG9va3Mub24oJ2Ryb3BDYW52YXNEYXRhJywgQ29DN1BhcnNlci5vbkRyb3BTb21ldGhpbmcpO1xuSG9va3Mub24oJ2dldFNjZW5lQ29udHJvbEJ1dHRvbnMnLCBDb0M3TWVudS5nZXRCdXR0b25zKVxuSG9va3Mub24oJ3JlbmRlclNjZW5lQ29udHJvbHMnLCBDb0M3TWVudS5yZW5kZXJDb250cm9scylcblxuSG9va3Mub24oJ2Ryb3BDYW52YXNEYXRhJywgQ29DN0NhbnZhcy5vbkRyb3BTb21ldGhpbmcpXG5cbkhvb2tzLm9uKCdkcm9wQWN0b3JTaGVldERhdGEnLCBEcm9wQWN0b3JTaGVldERhdGEpXG5cbmZ1bmN0aW9uIGFjdGl2YXRlR2xvYmFsTGlzdGVuZXIgKCkge1xuICBjb25zdCBib2R5ID0gJCgnYm9keScpXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgQ29DN0NvbnRleHRNZW51LmNsb3NlQWxsKVxuICBib2R5Lm9uKCdjbGljaycsICdhLmNvYzctaW5saW5lLWNoZWNrJywgQ29DN0NoZWNrLl9vbkNsaWNrSW5saW5lUm9sbClcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgX29uTGVmdENsaWNrKVxufVxuXG5mdW5jdGlvbiBfb25MZWZ0Q2xpY2sgKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5zaGlmdEtleVxufVxuXG5DT05GSUcudWkuc2V0dGluZ3MgPSBDb0M3U2V0dGluZ3NEaXJlY3RvcnlcbkNPTkZJRy51aS5jb21wZW5kaXVtID0gQ29DN0NvbXBlbmRpdW1EaXJlY3RvcnlcbkNPTkZJRy51aS5hY3RvcnMgPSBDb0M3QWN0b3JEaXJlY3RvcnlcbiIsIi8qIGdsb2JhbCBDaGF0TWVzc2FnZSwgZ2FtZSwgSG9va3MsIFJvbGwsIHVpICovXG5cbi8qKlxuICpDYWxsb2ZDdGh1bGh1KDd0aEVkLikgRGVmaW5lIHlvdXIgb3duIGNvbW1hbmRzXG4gKkhlcmUsIHdlIHJlY2VpdmUgdGhlIGNoYXQgTWVzc2FnZXMgYW5kIGRldGVybWluZSBlYWNoIGNvbW1hbmQuXG4gKlsvQ0NdRGVmaW5lIGEgY29tbWFuZCB0byBqdWRnZSBhIG5vcm1hbCBkaWNlLlxuICpbL0NCUl0gQ29tbWFuZCB0byBkZWZpbmUgdGhlIGRlY2lzaW9uIG9uIGNvbWJpbmF0aW9uIHJvbGxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuICgpIHtcbiAgSG9va3Mub24oJ2NoYXRNZXNzYWdlJywgKGh0bWwsIGNvbnRlbnQpID0+IHtcbiAgICAvLyBJJ20gY3VycmVudGx5IHVzaW5nIGl0IGZvciB0ZXN0aW5nIGJvbnVzIGRpY2UuXG4gICAgaWYgKGNvbnRlbnQubWF0Y2goL15cXC8oY2JyfGNjKS9pKSkge1xuICAgICAgLy8gRXh0cmFjdGluZyBudW1iZXJzIGZyb20gY29tYmluYXRpb24gcm9sbHNcbiAgICAgIGNvbnN0IGNvbW1hbmRzID0gY29udGVudC5tYXRjaCgvKFxcZCspL2cpXG4gICAgICBpZiAoY29tbWFuZHMpIHtcbiAgICAgICAgbmV3IFJvbGwoJzFkMTAwJykucm9sbCh7IGFzeW5jOiB0cnVlIH0pLnRoZW4ociA9PiB7XG4gICAgICAgICAgY29uc3QgcyA9IHIucmVzdWx0XG4gICAgICAgICAgY29uc3QgcmVzID0gY29tbWFuZHNcbiAgICAgICAgICAgIC5tYXAobSA9PiB7XG4gICAgICAgICAgICAgIGxldCByZXMgPSAnJ1xuICAgICAgICAgICAgICBpZiAocyA8PSAxKSByZXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuQ3JpdGljYWxTdWNjZXNzJylcbiAgICAgICAgICAgICAgZWxzZSBpZiAocyA+PSAxMDApIHJlcyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GdW1ibGUnKVxuICAgICAgICAgICAgICBlbHNlIGlmIChzIDw9IG0gLyA1KSB7XG4gICAgICAgICAgICAgICAgcmVzID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkV4dHJlbWVTdWNjZXNzJylcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzIDw9IG0gLyAyKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LkhhcmRTdWNjZXNzJylcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzIDw9IG0pIHJlcyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5SZWd1bGFyU3VjY2VzcycpXG4gICAgICAgICAgICAgIGVsc2UgaWYgKHMgPj0gOTYpIHtcbiAgICAgICAgICAgICAgICBpZiAobSA8IDUwKSByZXMgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ0NvQzcuRnVtYmxlJylcbiAgICAgICAgICAgICAgICBlbHNlIHJlcyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GYWlsdXJlJylcbiAgICAgICAgICAgICAgfSBlbHNlIHJlcyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnQ29DNy5GYWlsdXJlJylcbiAgICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSBmaXJzdCByZXN1bHRzLlxuICAgICAgICAgICAgICByZXMgKz0gJyAnICsgZ2FtZS5pMThuLmxvY2FsaXplKCdDb0M3LlZhbHVlJykgKyAnICcgKyBtXG4gICAgICAgICAgICAgIHJldHVybiByZXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignIC8gJylcbiAgICAgICAgICByLnRvTWVzc2FnZSh7XG4gICAgICAgICAgICBzcGVha2VyOiBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKCksXG4gICAgICAgICAgICBmbGF2b3I6IHJlc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKCdJbmNvcnJlY3QgdXNhZ2Ugb2YgY29tbWFuZCcpXG4gICAgICB9XG4gICAgICAvLyByZXR1cm4gdG8gYXZvaWQgZXJyb3JzIGluIHRoZSBjb21tYW5kLlxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9KVxufVxuIiwiLyogZ2xvYmFsIGdhbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBEcm9wQWN0b3JTaGVldERhdGEgKGFjdG9yLCBzaGVldCwgZGF0YSkge1xuICBpZiAoZGF0YS50eXBlID09PSAnSXRlbScgJiYgZGF0YS5hY3RvcklkKSB7XG4gICAgaWYgKGFjdG9yLmRhdGEuX2lkID09PSBkYXRhLmFjdG9ySWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBsZXQgYWN0b3JGcm9tID0gbnVsbFxuICAgIGlmIChkYXRhLnNjZW5lSWQgJiYgZGF0YS50b2tlbklkKSB7XG4gICAgICBhY3RvckZyb20gPSBnYW1lLnNjZW5lcy5nZXQoZGF0YS5zY2VuZUlkKS50b2tlbnMuZ2V0KGRhdGEudG9rZW5JZCkuYWN0b3JcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0b3JGcm9tID0gZ2FtZS5hY3RvcnMuZ2V0KGRhdGEuYWN0b3JJZClcbiAgICB9XG4gICAgc3dpdGNoIChhY3Rvci5kYXRhLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2NoYXJhY3Rlcic6XG4gICAgICBjYXNlICducGMnOlxuICAgICAgY2FzZSAnY3JlYXR1cmUnOlxuICAgICAgICBpZiAoIVsnY2hhc2UnXS5pbmNsdWRlcyhkYXRhLmRhdGEudHlwZSkpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAndmVoaWNsZSc6XG4gICAgICAgIHJldHVyblxuICAgICAgY2FzZSAnY29udGFpbmVyJzpcbiAgICAgICAgaWYgKCFbJ2Jvb2snLCAnaXRlbScsICdzcGVsbCcsICd3ZWFwb24nXS5pbmNsdWRlcyhkYXRhLmRhdGEudHlwZSkpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYWN0b3JGcm9tKSB7XG4gICAgICBhY3RvckZyb20uZGVsZXRlRW1iZWRkZWREb2N1bWVudHMoJ0l0ZW0nLCBbZGF0YS5kYXRhLl9pZF0pXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiQ09DNyIsInN0YW5kYXJkIiwibW9kZXJuIiwibW9kZXJuUHVscCIsInB1bHAiLCJkb3duRGFya2VyVHJhaWxzIiwiZG93bkRhcmtlclRyYWlsc1B1bHAiLCJkYXJrQWdlcyIsImRhcmtBZ2VzUHVscCIsImdhc0xpZ2h0IiwiaW52aWN0dXMiLCJkZWNpbWFsTGVmdCIsImRlY2ltYWxSaWdodCIsImludGVnZXJMZWZ0IiwiaW50ZWdlclJpZ2h0IiwibHNkIiwicm9tYW4iLCJub25lIiwiYXNzZXMiLCJzZXN0ZXJ0aWkiLCJxdWluYXJpaSIsImRlbmFyaWkiLCJkIiwicyIsInZhbHVlIiwibXVsdGlwbGllciIsIm5hbWUiLCJmaWx0ZXIiLCJzdHIiLCJjb24iLCJzaXoiLCJkZXgiLCJhcHAiLCJpbnQiLCJwb3ciLCJlZHUiLCJub2FkanVzdG1lbnRzIiwibm94cGdhaW4iLCJzcGVjaWFsIiwicmFyaXR5IiwicHVzaCIsImNvbWJhdCIsImZpZ2h0aW5nIiwiZmlyZWFybSIsInJlcXVpcmVzbmFtZSIsImtlZXBiYXNldmFsdWUiLCJwaWNrbmFtZW9ubHkiLCJvbmx5b25lIiwibWVsZWUiLCJybmdkIiwibW52ciIsInRocm93biIsInNob3RndW4iLCJkYnJsIiwiaW1wbCIsImJyc3QiLCJhdXRvIiwiYWhkYiIsImFkZGIiLCJzbG50Iiwic3BjbCIsIm1vbnQiLCJibHN0Iiwic3R1biIsInJhcmUiLCJidXJuIiwiY2FsbCIsImRpc21pc3MiLCJjb250YWN0Iiwic3VtbW9uIiwiYmluZCIsImVuY2hhbnRtZW50IiwiZ2F0ZSIsIm15dGhvcyIsIm9jY3VsdCIsIm90aGVyIiwicGh5c2ljYWwiLCJtZW50YWwiLCJtaXNjZWxsYW5lb3VzIiwiYmFzaWMiLCJpbnNhbmUiLCJtYW5pYSIsInBob2JpYSIsImNsYXNzaWMiLCJsb3ZlY3JhZnRpYW4iLCJmb3JtdWxhIiwiYWN0b3IiLCJhY3RvcnNoZWV0Iiwic3RhdHVzIiwidGVtcG9JbnNhbmUiLCJpbmRlZkluc2FuZSIsInVuY29uc2Npb3VzIiwiY3JpdGljYWxXb3VuZHMiLCJkeWluZyIsInByb25lIiwiZGVhZCIsIm5ld0Jvb2tOYW1lIiwibmV3U2tpbGxOYW1lIiwibmV3U3BlbGxOYW1lIiwibmV3SXRlbU5hbWUiLCJuZXdXZWFwb25OYW1lIiwiY3JlYXR1cmVGaWdodGluZ1NraWxsIiwiZmlnaHRpbmdTcGVjaWFsaXphdGlvbk5hbWUiLCJmaXJlYXJtU3BlY2lhbGl6YXRpb25OYW1lIiwiY29tYmF0Q2FyZHMiLCJmaWdodEJhY2siLCJkb2RnZSIsIm1hbmV1dmVyIiwibm9SZXNwb25zZSIsIkNvQzdEaWNlIiwic3RhdGljIiwibW9kaWYiLCJyb2xsTW9kZSIsImhpZGVEaWNlIiwicm9sbCIsImFsdGVybmF0aXZlRGljZSIsImdhbWUiLCJtb2R1bGVzIiwiZ2V0IiwiYWN0aXZlIiwic2V0dGluZ3MiLCJDb0M3IiwiZGV2IiwiZGljZSIsImFsd2F5c0NyaXQiLCJSb2xsIiwiZnJvbURhdGEiLCJjcml0MDEiLCJhbHdheXNGdW1ibGUiLCJmdW1ibGU5OSIsInJlcGVhdCIsIk1hdGgiLCJhYnMiLCJhc3luYyIsInJlc3VsdCIsInVuaXQiLCJ0b3RhbCIsInJlc3VsdHMiLCJ0ZW5zIiwiQ09ORklHIiwiRGljZSIsInRlcm1zIiwidCIsImluY2x1ZGVzIiwibWF4IiwibGVuZ3RoIiwibWluIiwic3luY0RpY2UiLCJjaGF0RGF0YSIsIndoaXNwZXIiLCJibGluZCIsIkNoYXRNZXNzYWdlIiwiYXBwbHlSb2xsTW9kZSIsImRpY2UzZCIsInNob3dGb3JSb2xsIiwidXNlciIsIm9wdGlvbnMiLCJwb29sIiwia2V5cyIsIk9iamVjdCIsIm1hcCIsInYiLCJwYXJzZUludCIsInBlbmFsdHlEaWNlIiwiYm9udXNEaWNlIiwiaGFzRFNOIiwiam9pbiIsImdyb3VwcyIsImJhc2VEaWUiLCJiYXNlU2V0Iiwib3V0cHV0Iiwia2V5IiwibW9kaWZpZXIiLCJvZmZzZXQiLCJjbGFzcyIsImV2YWx1YXRlZCIsIm51bWJlciIsImZhY2VzIiwibW9kaWZpZXJzIiwib3BlcmF0b3IiLCJDb0M3Q29udGVudExpbmtEaWFsb2ciLCJGb3JtQXBwbGljYXRpb24iLCJkZWZhdWx0T3B0aW9ucyIsIm1lcmdlT2JqZWN0Iiwic3VwZXIiLCJpZCIsImNsYXNzZXMiLCJ0aXRsZSIsImkxOG4iLCJsb2NhbGl6ZSIsImRyYWdEcm9wIiwiZHJhZ1NlbGVjdG9yIiwiZHJvcFNlbGVjdG9yIiwidGVtcGxhdGUiLCJjbG9zZU9uU3VibWl0Iiwid2lkdGgiLCJoZWlnaHQiLCJ0YWJzIiwibmF2U2VsZWN0b3IiLCJjb250ZW50U2VsZWN0b3IiLCJpbml0aWFsIiwic2hlZXREYXRhIiwiZ2V0RGF0YSIsImNoZWNrVHlwZSIsIkNvQzdMaW5rIiwiQ0hFQ0tfVFlQRSIsIkNIRUNLIiwibGFiZWwiLCJTQU5MT1NTIiwiSVRFTSIsIkVGRkVDVCIsImxpbmtUeXBlIiwiTElOS19UWVBFIiwiQ0hBUkFDVEVSSVNUSUMiLCJBVFRSSUJVVEUiLCJTS0lMTCIsImF0dHJpYnV0ZVR5cGUiLCJlZmZlY3RNb2RlcyIsImVudHJpZXMiLCJDT05TVCIsIkFDVElWRV9FRkZFQ1RfTU9ERVMiLCJyZWR1Y2UiLCJvYmoiLCJlIiwiY2hhcmFjdGVyaXN0aWNUeXBlIiwiQ29DQWN0b3IiLCJnZXRDaGFyYWN0ZXJpc3RpY0RlZmluaXRpb24iLCJsaW5rIiwib2JqZWN0IiwiZnJvbUdhbWUiLCJpc0l0ZW1DaGVjayIsImlzU2tpbGxDaGVjayIsImZyb21EaXJlY3RvcnkiLCJoYXNJRCIsImZyb21Db21wZW5kaXVtIiwiaXNTZXRGcm9tR2FtZSIsImRpZmZpY3VsdHlMZXZlbCIsIkNvQzdDaGVjayIsImFjdG9yTmFtZXMiLCJhY3RvcnMiLCJhIiwiYWN0aXZhdGVMaXN0ZW5lcnMiLCJodG1sIiwiZmluZCIsImNoYW5nZSIsInRoaXMiLCJfb25DaGFuZ2VTdWJtaXQiLCJjbGljayIsIl9vbkVmZmVjdENvbnRyb2wiLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJfb25TdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImJ1dHRvbiIsImRhdGFzZXQiLCJhY3Rpb24iLCJfYWRkRWZmZWN0Q2hhbmdlIiwiY2xvc2VzdCIsInJlbW92ZSIsImlkeCIsImVmZmVjdCIsImNoYW5nZXMiLCJzdWJtaXQiLCJwcmV2ZW50Q2xvc2UiLCJ1cGRhdGVEYXRhIiwibW9kZSIsIkFERCIsImZvcm1EYXRhIiwiaGFzRWZmZWN0IiwiZHVyYXRpb24iLCJzZXRWYWx1ZSIsImNoZWNrTmFtZSIsImljb24iLCJ0aW50IiwiZGlzYWJsZWQiLCJzZWNvbmRzIiwicm91bmRzIiwidHVybnMiLCJtYXRjaCIsInRhcmdldCIsInR5cGUiLCJzdWJtaXR0ZXIiLCJDb0M3VXRpbGl0aWVzIiwiY29weVRvQ2xpcGJvYXJkIiwidG9DaGF0TWVzc2FnZSIsInRvV2hpc3Blck1lc3NhZ2UiLCJjYW52YXMiLCJ0b2tlbnMiLCJjb250cm9sbGVkIiwidWkiLCJub3RpZmljYXRpb25zIiwid2FybiIsIm93bmVycyIsInJlbmRlciIsImRhdGFTdHJpbmciLCJkYXRhVHJhbnNmZXIiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwic2V0TGluayIsImZyb21Ecm9wRGF0YSIsImRvY3VtZW50TmFtZSIsImRhdGFMaXN0IiwiZ2V0RGF0YUZyb21Ecm9wRXZlbnQiLCJwYWNrIiwiZGlmZmljdWx0eSIsInJlZ3VsYXIiLCJoYXNNb2RpZmllcnMiLCJkaXNwbGF5TmFtZSIsImhhc0xhYmVsIiwiaGFzSWNvbiIsImxpbmtEYXRhIiwib3B0aW9uIiwiZGlhbG9nIiwiY3JlYXRlSW5saW5lUm9sbCIsImNscyIsImVzY2FwZSIsInN0cmluZ2lmeSIsImVyciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImsiLCJpbm5lckhUTUwiLCJpc0N0cmxLZXkiLCJtZXRhS2V5IiwiY3RybEtleSIsImtleUNvZGUiLCJjaGF0SGVscGVyIiwic3RyaW5nIiwicmVwbGFjZSIsInRvVXBwZXJDYXNlIiwibWVzc2FnZSIsIm1lc3NhZ2VEYXRhIiwiZmxhdm9yIiwic3BlYWtlciIsImdldFNwZWFrZXIiLCJDSEFUX01FU1NBR0VfVFlQRVMiLCJXSElTUEVSIiwiUk9MTCIsIkRJQ0VfUk9MTF9NT0RFUyIsIlNFTEYiLCJjb250ZW50IiwiY3JlYXRlIiwidGhlbiIsIm1zZyIsInRvTG93ZXJDYXNlIiwiaXNEb2N1bWVudFV1aWQiLCJpc0RvY3VtZW50VXVpZFBhY2siLCJmcm9tVXVpZCIsIlNmcm9tVXVpZCIsInNjZW5lSWQiLCJ0b2tlbklkIiwic3BsaXQiLCJ0b2tlbiIsImdldFRva2VuRnJvbUtleSIsImFjdG9yS2V5IiwiZ2V0QWN0b3JGcm9tS2V5Iiwic2NlbmUiLCJhbGlhcyIsImVsZW1lbnQiLCJvYmplY3ROYW1lIiwicHJvcCIsInN0YXJ0c1dpdGgiLCJhdHRhY2hPYmplY3RUb0VsZW1lbnQiLCJkZXNlcmlhbGl6ZSIsInNsaWNlIiwib2JqUHJvcCIsImluZGV4T2YiLCJvYmpOYW1lIiwic3Vic3RyaW5nIiwiTnVtYmVyIiwidG9TdHJpbmciLCJ0b2tlbkRvYyIsInNjZW5lcyIsInRva2VuRGF0YSIsImdldEVtYmVkZGVkRG9jdW1lbnQiLCJUb2tlbiIsImR1cGxpY2F0ZSIsImdldEFjdG9yVG9rZW4iLCJwcm90b3R5cGVUb2tlbiIsInRleHR1cmUiLCJzcmMiLCJpbWciLCJzdGFydFRva2VuIiwiZW5kVG9rZW4iLCJjZW50ZXIiLCJkaXN0YW5jZSIsImdyaWRVbml0IiwiZ3JpZCIsInVuaXRzIiwicmF5IiwiUmF5Iiwic2VnbWVudCIsInNpemUiLCJtZWFzdXJlRGlzdGFuY2VzIiwiZ3JpZFNwYWNlcyIsImVsZXZhdGlvbiIsInNxcnQiLCJDb0M3Um9sbCIsImNhcmQiLCJyb2xsRGl2IiwicXVlcnlTZWxlY3RvciIsImdldE9iamVjdEZyb21FbGVtZW50IiwicmVzdWx0VHlwZSIsInN1Y2Nlc3NMZXZlbCIsImZvcm1hdCIsImhhcmQiLCJleHRyZW1lIiwiY3JpdGljYWwiLCJmdW1ibGUiLCJmYWlsdXJlIiwiaXRlbSIsIml0ZW1JZCIsIml0ZW1zIiwic2tpbGwiLCJza2lsbElkIiwic2hvd0RpY2VSb2xsIiwiZGljZVJlc3VsdHMiLCJkaWVSZXN1bHQiLCJkaWNlcyIsImRpY2VEYXRhIiwic2hvdyIsImhhc0JvbnVzIiwiZGljZU1vZGlmaWVyIiwiYm9udXMiLCJib251c1R5cGUiLCJ0ZW5EaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsImRpZSIsInNlbGVjdGVkIiwiaXNNYXgiLCJpc01pbiIsInVuaXREaWUiLCJpbmNyZWFzZVN1Y2Nlc3MiLCJpc2wiLCJuZXdTdWNjZXNMZXZlbCIsImx1Y2tOZWVkZWQiLCJsdWNrTmVlZGVkVHh0IiwibHVja05lZWRlZFZhbHVlIiwiY2hlY2siLCJyb2xsVHlwZSIsInNpZGUiLCJyZWZNZXNzYWdlSWQiLCJyZWZlcmVuY2VNZXNzYWdlSWQiLCJkaWNlTW9kIiwicmF3VmFsdWUiLCJpc0Z1bWJsZSIsImlzQ3JpdGljYWwiLCJjaGFyYWN0ZXJpc3RpYyIsInRva2VuS2V5IiwiaXNUb2tlbiIsImFjdG9ySWQiLCJodG1sRWxlbWVudCIsImdldEZyb21DaGVjayIsImF0dGFjaFRvRWxlbWVudCIsIkNvQzdEYW1hZ2UiLCJkYW1hZ2VTdHJpbmciLCJkYW1hZ2UiLCJyb2xscyIsInIiLCJSb2xsRGlhbG9nIiwidW5rbm93biIsInVua25vd25EaWZmaWN1bHR5RGVmYXVsdCIsImFsbG93RmxhdERpY2VNb2RpZmllciIsImRpc2FibGVGbGF0RGljZU1vZGlmaWVyIiwiYWxsb3dGbGF0VGhyZXNob2xkTW9kaWZpZXIiLCJkaXNhYmxlRmxhdFRocmVzaG9sZE1vZGlmaWVyIiwiaGlkZURpZmZpY3VsdHkiLCJjYXJkVHlwZSIsImZvcmNlZENhcmRUeXBlIiwiY2FyZFR5cGVzIiwiQ29DN0NoYXRNZXNzYWdlIiwicmVuZGVyVGVtcGxhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRsZyIsIkRpYWxvZyIsImJ1dHRvbnMiLCJjYWxsYmFjayIsIkZvcm1EYXRhIiwiZGVmYXVsdCIsImNsb3NlIiwiUm9sbENhcmQiLCJjb25zdHJ1Y3RvciIsImluaXRpYXRvciIsIm1lc3NhZ2VJZCIsIm1lc3NhZ2VzIiwiZnJvbU1lc3NhZ2UiLCJjYXJkRWxlbWVudCIsIiQiLCJmcm9tSFRNTENhcmRFbGVtZW50IiwiY2FyZERhdGEiLCJ1bmVzY2FwZSIsImFzc2lnbiIsImluZGV4Iiwicm9sbGVkIiwiX2h0bWxSb2xsIiwiZ2V0SHRtbFJvbGwiLCJzcGFuIiwiY29udGFpbnMiLCJpc0dNIiwiZnJvbU1lc3NhZ2VJZCIsImZsYWciLCJ0b2dnbGUiLCJiIiwidW5zZXRGbGFnIiwic2V0RmxhZyIsInRvZ2dsZUZsYWciLCJ1cGRhdGVDaGF0Q2FyZCIsImNoYXQiLCJjb2xsZWN0aW9uIiwiZGVmYXVsdENvbmZpZyIsImdldEZsYWciLCJ0aW1lc3RhbXAiLCJEYXRlIiwiX3JvbGxNb2RlIiwicHJvY2VzcyIsInNvY2tldCIsImVtaXQiLCJjb25maWciLCJodG1sQ2FyZEVsZW1lbnQiLCJvdXRlckhUTUwiLCJmbGFncyIsInN0YXRlIiwiZ2V0V2hpc3BlclJlY2lwaWVudHMiLCJjb21wdXRlIiwicGFyc2VIVE1MIiwiY2hhdE1lc3NhZ2UiLCJjbG9zZWQiLCJ1cGRhdGUiLCJ1cGRhdGVNZXNzYWdlIiwidG9NZXNzYWdlIiwidXBkYXRlUm9sbCIsImZyb21HTSIsInJhbmsiLCJhZGRSb2xsRGF0YSIsImFkZFJvbGwiLCJyZW1vdmVSb2xsIiwic3BsaWNlIiwiZmxhZ05hbWUiLCJfbWVzc2FnZSIsIl9tZXNzYWdlSWQiLCJ4IiwiZXhjbHVkZSIsImV4Y2x1ZGVTdGFydFdpdGgiLCJ3aW5uZXJzIiwid2lubmVyIiwibG9vc2VycyIsImxvb3NlciIsImhhc1dpbm5lciIsImlzS2VlcGVyIiwiQ29tYmluZWRDaGVja0NhcmQiLCJvbiIsIl9vblRvZ2dsZSIsIl9vbkNsaWNrIiwic3VjY2Vzc0NvdW50IiwiY291bnQiLCJwYXNzZWQiLCJtYWluQWN0b3JLZXkiLCJ1bmRlZmluZWQiLCJzdWNjZXNzIiwiYW55IiwiYWxsIiwiY2hlY2tHTUluaXRpYXRvciIsInVzZXJzIiwiX3BlcmZvcm0iLCJfcm9sbCIsInNpbGVudCIsImhpZGVTdWNjZXNzIiwiYXNzaWduUm9sbCIsImxpIiwiY2xvc2VDYXJkIiwiaXNOYU4iLCJjb21iaW5lZFJvbGwiLCJBdWRpb0hlbHBlciIsInBsYXkiLCJzb3VuZHMiLCJhbHRlciIsIkpTT05Sb2xsRGF0YSIsImZsYXREaWNlTW9kaWZpZXIiLCJmbGF0VGhyZXNob2xkTW9kaWZpZXIiLCJpIiwiaGlkZURpY2VSZXN1bHQiLCJJbnRlcmFjdGl2ZUNoYXRDYXJkIiwiX29wdGlvbnMiLCJjc3NDbGFzc2VzIiwib3B0aW9ubmFsQ2hhdERhdGEiLCJjYXJkQ2xhc3MiLCJfb25CdXR0b24iLCJfb25LZXkiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY2FyZHMiLCJ0eXBlZENhcmQiLCJhc3NpZ25PYmplY3QiLCJfdXBkYXRlIiwiZm9ybXMiLCJ1cGRhdGVzIiwiZm9ybSIsIkZvcm1EYXRhRXh0ZW5kZWQiLCJ0b09iamVjdCIsImRpZmZPYmplY3QiLCJleHBhbmRPYmplY3QiLCJkaXNwbGF5QWN0b3JPbkNhcmQiLCJpc0JsaW5kIiwiX2lzQmxpbmQiLCJ3ZWFwb24iLCJ0YXJnZXRlZFRva2VucyIsInRhcmdldHMiLCJ0YXJnZXRUb2tlbiIsInRhcmdldEFjdG9yIiwiaXNUYXJnZXRPd25lciIsImlzT3duZXIiLCJfdGFyZ2V0VG9rZW4iLCJfdGFyZ2V0S2V5IiwicG9wIiwiX3RhcmdldEFjdG9yIiwidGFyZ2V0S2V5IiwiaGFzVGFyZ2V0Iiwic2tpbGxzIiwiZ2V0V2VhcG9uU2tpbGxzIiwidGFyZ2V0SW1nIiwiZ2V0QWN0b3JJbWdGcm9tS2V5IiwidGFyZ2V0TmFtZSIsImFjdG9ySW1nIiwiRGFtYWdlQ2FyZCIsImNvbmNhdCIsImRhbWFnZVJvbGwiLCJpbXBhbGUiLCJfaW1wYWxlIiwiaXNEYW1hZ2VGb3JtdWxhIiwiZGFtYWdlRm9ybXVsYSIsInZhbGlkYXRlIiwiaXNEYW1hZ2VOdW1iZXIiLCJpc0FybW9yRm9ydWxhIiwiYXJtb3IiLCJ0b3RhbERhbWFnZVN0cmluZyIsImlnbm9yZUFybW9yIiwibm9EYW1hZ2UiLCJmYXN0Rm9yd2FyZCIsInJvbGxEYW1hZ2UiLCJoYXJkcm9sbGVkIiwiZGFtYWdlSW5mbGljdGVkIiwiZGVhbERhbWFnZSIsIl9odG1sSW5saW5lUm9sbCIsImV2YWx1YXRlIiwic2hvd1JvbGxEaWNlM2QiLCJyb2xsQXJtb3IiLCJlcnJvciIsInNlbGVjdGVkUGxheWVycyIsIm9uZSIsImNvbmZpcm1EYW1hZ2UiLCJ0d28iLCJyYW5nZSIsImluY2x1ZXMiLCJzeXN0ZW0iLCJkYiIsInRyaW0iLCJwcm9wZXJ0aWVzIiwibWF4RGFtYWdlIiwibWF4aW1pemUiLCJyb2xsU3RyaW5nIiwiX2FybW9yIiwiYXR0cmlicyIsIk9wcG9zZWRDaGVja0NhcmQiLCJhdHRhY2tlclJvbGwiLCJhdHRhY2tlciIsImRlZmVuZGVyUm9sbCIsImRlZmVuZGVyIiwiZGVmZW5kZXJJc0RvZGdpbmciLCJkb2RnZVNraWxsIiwiYWR2YW50YWdlQXR0YWNrZXIiLCJfYWEiLCJ3aW5uZXJSb2xsc0RhbWFnZSIsIl9hZCIsImFkdmFudGFnZURlZmVuZGVyIiwiaXNUaWUiLCJ3aW5uZXJDb3VudCIsIm5lZWRzVGllQnJlYWtlciIsImlzQXR0YWNrTWFuZXV2ZXIiLCJyZXN1bHRUZXh0IiwiZGFtYWdlQ2hhdENhcmQiLCJpc0V4dHJlbWVTdWNjZXNzIiwic2hpZnRLZXkiLCJzb3J0IiwidGllIiwicmVzb2x2ZWQiLCJtb2RpZmllZFJlc3VsdCIsIndpbkNvdW50IiwiZmFpbGVkIiwiQ2hhdENhcmRBY3RvciIsInNwZWFrZXJEYXRhIiwicmVwbGFjZXIiLCJTYW5DaGVja0NhcmQiLCJzYW5EYXRhIiwiQm9vbGVhbiIsInNhblJlYXNvbiIsInNhbk1vZGlmaWVyIiwic2FuRGlmZmljdWx0eSIsInNhbkxvc3NTb3VyY2UiLCJpbnZvbHVudGFyeUFjdGlvbiIsInNhblJvbGxlZCIsInNhbkNoZWNrIiwiaXNGYWlsdXJlIiwic2FuTG9zc0Zvcm11bGEiLCJzYW5NYXgiLCJzYW5NaW4iLCJzYW5Mb3N0VG9SZWFzb24iLCJtYXhQb3NzaWJsZVNhbkxvc3MiLCJtYXhMb3NzVG9TYW5SZWFzb24iLCJtYXhTYW5Mb3NzIiwic2FuTG9zc1JlYXNvbkVuY291bnRlcmVkIiwiZmlyc3RFbmNvdW50ZXIiLCJteXRob3NJbnNhbml0eUV4cGVyaWVuY2VkIiwiaXNBY3Rvckxvb3NpbmdTYW4iLCJoYXNUZW1wb0luc2FuZSIsImltbXVuZVRvQ3JlYXR1cmUiLCJib3V0RHVyYXRpb25UZXh0IiwiYm91dER1cmF0aW9uIiwiYm91dFJlYWxUaW1lIiwiYm91dFN1bW1hcnkiLCJ5b3VHYWluQ3RodWxodU15dGhvc1N0cmluZyIsIm15dGhvc0dhaW4iLCJrZWVwQ3JlYXR1cmVTYW5EYXRhIiwiZmluaXNoIiwiYXBwbHlTYW5Mb3NzIiwiYm91dFJlc3VsdCIsImVudGVyQm91dE9mTWFkbmVzcyIsImJvdXRPZk1hZG5lc3NSZXNvbHZlZCIsImJvdXRPZk1hZG5lc3NPdmVyIiwidHJpZ2dlckluc2FuaXR5IiwidW5zZXRDb25kaXRpb24iLCJjdGh1bGh1TXl0aG9zQXdhcmRlZCIsImFtb3VudEdhaW5lZCIsImV4cGVyaWVuY2VGaXJzdE15dGhvc0luc2FuaXR5IiwiY3RodWxodU15dGhvc1NraWxsIiwib2xkVmFsdWUiLCJhZGp1c3RtZW50cyIsImV4cGVyaWVuY2UiLCJpc0J5cGFzc2VkIiwiYXR0cmlidXRlIiwiZm9yY2VEU04iLCJpbnZvbHVudGFyeUFjdGlvblBlcmZvcm1lZCIsInNhbkxvc3NSb2xsZWQiLCJpZ25vcmVTYW5DaGVjayIsInNhbkxvc3MiLCJsaW1pdGVkTG9zc1RvQ3JlYXR1cmUiLCJtaW5pbWl6ZSIsImltbXVuZUFscmVhZHlJbkJvdXQiLCJzYW5Mb3NzQXBwbGllZCIsImludFJvbGxlZCIsImluc2FuaXR5Iiwic2FuTG9zc1JvbGwiLCJsb29zZVNhbiIsImFjdG9yTG9zdFNhbiIsInNhbiIsInBlcm1hbmVudGx5SW5zYW5lIiwiaGFzSW5kZWZJbnNhbmUiLCJzaGFrZW4iLCJpbnNhbml0eVRhYmxlUm9sbGVkIiwiZGFpbHlTYW5Mb3NzIiwiZGFpbHlTYW5MaW1pdCIsInRlbXBvcmFyeUluc2FuZSIsImluZGVmaW5pdGVseUluc2FuZSIsIm1lbW9yeVJlcHJlc3NlZCIsImludENoZWNrIiwiaW50RGlmZmljdWx0eSIsImludE1vZGlmaWVyIiwiYWxyZWFkeUluc2FuZSIsInNldENvbmRpdGlvbiIsInNldFJlYXNvblNhbkxvc3MiLCJfX2lubGluZVNhbkNoZWNrIiwiaW5saW5lQ2hlY2siLCJfX2lubGluZVNhbkxvc3NSb2xsIiwiX19pbmxpbmVJbnRDaGVjayIsImFyZ3MiLCJjaGF0Q2FyZCIsInNheSIsImh0bWxDYXJkIiwiZ2V0RnJvbUNhcmQiLCJzYW5DaGVja0NhcmREYXRhIiwic2FuQ2hlY2tDYXJkIiwiU2FuRGF0YURpYWxvZyIsIl90b2dnbGVJbnB1dCIsIlZhbGlkYXRlIiwiUk9MTF9UWVBFX0FUVFJJQlVURSIsIlJPTExfVFlQRV9DSEFSQUNURVJJU1RJQyIsIlJPTExfVFlQRV9DT01CQVQiLCJST0xMX1RZUEVfU0tJTEwiLCJST0xMX1RZUEVfRU5DT1VOVEVSIiwiQ0FSRF9UWVBFX0NPTUJJTkVEIiwiQ0FSRF9UWVBFX0dST1VQIiwiQ0FSRF9UWVBFX05PUk1BTCIsIkNBUkRfVFlQRV9PUFBPU0VEIiwiQ0FSRF9UWVBFX1NBTl9DSEVDSyIsIkNBUkRfVFlQRV9OT05FIiwic2VsZWN0Iiwic2tpbGxOYW1lIiwic2tpbGxJZHMiLCJnZXRTa2lsbHNCeU5hbWUiLCJjaGFyYWN0ZXJpc3RpY3MiLCJhbHRLZXkiLCJjcmVhdGVFbmNvdW50ZXIiLCJvcGVuTGlua1Rvb2wiLCJzZW5kVG9DaGF0Iiwic2VuZFRvQ2xpcGJvYXJkIiwiaXNDb21iYXQiLCJwcmV2ZW50U3RhbmRieSIsImRpYWxvZ09wdGlvbnMiLCJwYXJlbnRFbGVtZW50IiwiYXR0cmliIiwid2VhcG9uQWx0U2tpbGwiLCJ3ZWFwb25OYW1lIiwiaGFzUGxheWVyT3duZXIiLCJub3JtYWxpemVSZXF1ZXN0IiwiY3JlYXRlTGluayIsIml0ZW1Nb2RpZmllcnMiLCJ2YWx1ZXMiLCJmb3VuZHJ5SUQiLCJjcmVhdGVSb2xsIiwicnVuUm9sbCIsInNob3J0TmFtZSIsImNoZWNrUGFzc2VkIiwiY2hlY2tGYWlsbGVkIiwiaW5mb3MiLCJ1c2FnZSIsInByb21wdExhYmVsIiwic3RhbmRieSIsInJvbGxBdHRyaWJ1dGUiLCJyb2xsQ2hhcmFjdGVyaXN0aWMiLCJyb2xsZWRTdWNjZXNzTGV2ZWwiLCJzdWNjZXNzTGV2ZWxzIiwicmVndWxhclRocmVzaG9sZCIsImhhcmRUaHJlc2hvbGQiLCJleHRyZW1lVGhyZXNob2xkIiwiZGVueVB1c2giLCJkaXNwYXRjaCIsIkNvQzdDb25DaGVjayIsIl9hY3RvcklkIiwiaXNTdWNjZXNzIiwiaXNSb2xsZWQiLCJjb25DaGVjayIsImh0bWxDaGVjayIsImdldEZyb21FbGVtZW50Iiwicm9sbENvbiIsInJlcGxhY2VXaXRoIiwiZ2V0Q2hlY2tFbGVtZW50Iiwic3RheUFsaXZlIiwiYXBwbGllZCIsIlNraWxsU2VsZWN0RGlhbG9nIiwiX29uU2VsZWN0U2tpbGxDbGlja2VkIiwic3R5bGUiLCJkaXNwbGF5IiwiYWRkZWQiLCJpbm5lclRleHQiLCJvcHRpb25zQ291bnQiLCJQb2ludFNlbGVjdERpYWxvZyIsIl9vblNlbGVjdENoYXJhY3RlcmlzdGljIiwiX29uQnV0dG9uQ2xpY2tlZCIsIml0ZW1MaXN0Iiwib3B0aW9uYWwiLCJ0b2dnbGVDbGFzcyIsIkNoYXJhY1NlbGVjdERpYWxvZyIsIkNoYXJhY1JvbGxEaWFsb2ciLCJfb25DaGFuZ2VJbnB1dCIsIl9vblJvbGxDaGFyYWN0ZXJpc3RpYyIsIl9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMiLCJfb25EZWNyZWFzZUNoYXJhY3RlcmlzdGljIiwiX29uUmVzZXRDaGFyYWN0ZXJpc3RpYyIsImNoYXJhY0tleSIsImluY3JlYXNlQ2hhcmFjdGVyaXN0aWMiLCJkZWNyZWFzZUNoYXJhY3RlcmlzdGljIiwicmVzZXRDaGFyYWN0ZXJpc3RpYyIsImNoYXIiLCJjaGVja1RvdGFsIiwiX2VsZW1lbnQiLCJpbnB1dCIsImxpc3QiLCJwb2ludHMiLCJ2YWxpZGF0aW9uIiwiZW5hYmxlZCIsImVsIiwicG9pbnRzV2FybmluZyIsIlNraWxsU3BlY1NlbGVjdERpYWxvZyIsInNwZWNpYWxpemF0aW9uTmFtZSIsImJhc2VWYWx1ZSIsImhhc1NraWxscyIsImJhc2UiLCJzcGVjaWFsaXphdGlvbiIsIlNraWxsU3BlY2lhbGl6YXRpb25TZWxlY3REaWFsb2ciLCJfb25DbGlja1N1Ym1pdCIsIl9vblNlbGVjdENoYW5nZSIsInZhbCIsImFsbG93Q3VzdG9tIiwiZml4ZWRCYXNlVmFsdWUiLCJhbGxvd1NlbGVjdCIsIlNraWxsVmFsdWVEaWFsb2ciLCJDb0M3TWVsZWVSZXNvbHRpb24iLCJpbml0aWF0b3JNZXNzYWdlIiwidGFyZ2V0TWVzc2FnZSIsIkNvQzdNZWxlZVRhcmdldCIsImdldEZyb21NZXNzYWdlSWQiLCJDb0M3TWVsZWVJbml0aWF0b3IiLCJpbml0aWF0b3JUb2tlbiIsInJlc3VsdFN0cmluZyIsIndpbm5lckltZyIsIndpbm5lclRpdGxlIiwiY3JpdGljYWxEYW1hZ2UiLCJkb2N1bW1lbnQiLCJwYXJlbnRNZXNzYWdlSWQiLCJpbml0aWF0b3JLZXkiLCJvdXRudW1iZXJlZCIsInN1cnByaXNlZCIsImF1dG9TdWNjZXNzIiwiYWR2YW50YWdlIiwiZGlzYWR2YW50YWdlIiwiZG9kZ2luZyIsIm5vdFJlc3BvbmRpbmciLCJmaWdodGluZ0JhY2siLCJtYW5ldXZlcmluZyIsImFjdGlvblNlbGVjdGVkIiwiX2luaXRpYXRvcktleSIsIl9pbml0aWF0b3IiLCJtZWxlZUluaXRpYXRvciIsInB1Ymxpc2hVcGRhdGUiLCJjYW1lbEZsYWciLCJoeXBoZW5Ub0NhbWVsQ2FzZSIsImdtcyIsIm93bmVyc2hpcCIsIkRPQ1VNRU5UX09XTkVSU0hJUF9MRVZFTFMiLCJPV05FUiIsInByb21wdCIsImluZm8iLCJ3ZWFwb25JZCIsInB1Ymxpc2giLCJpc1Vua29ud24iLCJyZXNvbHV0aW9uQ2FyZCIsInJlc29sdXRpb25NZXNzYWdlIiwicHJlQ3JlYXRlTWVzc2FnZSIsInJvbGxJY29ucyIsInJvbGxDb2xvciIsInJvbGxUaXRsZSIsInVwZ3JhZGVSb2xsIiwibHVja0Ftb3VudCIsIm5ld1N1Y2Nlc3NMZXZlbCIsIm9sZENhcmQiLCJzcGVuZEx1Y2siLCJsdWNrU3BlbnQiLCJwcm9jZXNzZWQiLCJkaWNlUm9sbHMiLCJyZXN1bERldGFpbHMiLCJkaWNlVG90YWwiLCJDb0M3Q2hhdCIsIkNvQzdSYW5nZUluaXRpYXRvciIsImNvdmVyIiwidGFyZ2V0Q2FyZCIsInNpbmdsZVNob3QiLCJtdWx0aXBsZVNob3RzIiwiYnVyc3QiLCJmdWxsQXV0byIsImFpbWVkIiwidG90YWxCdWxsZXRzRmlyZWQiLCJfdGFyZ2V0cyIsIkNvQzdSYW5nZVRhcmdldCIsImdldERpc3RhbmNlIiwicm91bmRlZERpc3RhbmNlIiwicm91bmQiLCJkaXN0YW5jZVVuaXQiLCJkaXN0SW5ZZCIsInRvWWFyZHMiLCJwb2ludEJsYW5rUmFuZ2UiLCJiYXNlUmFuZ2UiLCJsb25nUmFuZ2UiLCJleHRyZW1lUmFuZ2UiLCJvdXRPZlJhbmdlIiwibWFpbldlYXBvblNraWxsIiwibWFpbiIsImF1dG9XZWFwb25Ta2lsbCIsImFsdGVybmF0aXYiLCJhdXRvRmlyZSIsIm11bHRpVGFyZ2V0IiwiYWltaW5nIiwiX2FpbWluZyIsImdldEFjdG9yRmxhZyIsImFjdGl2ZVRhcmdldCIsInNob3RzIiwiX3Nob3RzIiwiY3VycmVudFNob3RSYW5rIiwiYWN0aXZlVGFyZ2V0U2hvdERpZmZpY3VsdHkiLCJzaG90RGlmZmljdWx0eSIsImRpZEFueVNob3RIaXQiLCJhbnlIaXQiLCJzdWNjZXNzZnVsSGl0cyIsImhpdHMiLCJoaXQiLCJzaG90Iiwic2hvdEZpcmVkIiwidG90YWxBbW1vIiwiZ2V0QnVsbGV0TGVmdCIsIm1heFNob3RzIiwidXNlc1BlclJvdW5kIiwiaWdub3JlQW1tbyIsImlnbm9yZVVzZXNQZXJSb3VuZCIsIm91dE9mQW1tbyIsIm91dE9mU2hvdHMiLCJ2b2xsZXlTaXplIiwiX3ZvbGxleVNpemUiLCJmbG9vciIsImlzVm9sbGV5TWluU2l6ZSIsImlzVm9sbGV5TWF4U2l6ZSIsImdldFRhcmdldEZyb21LZXkiLCJjYWxjVGFyZ2V0c0RpZmZpY3VsdHkiLCJub3JtYWwiLCJsb25nIiwiZGlmZmljdWx0eU5hbWUiLCJyZWxvYWQiLCJpbXBvc3NpYmxlIiwibGV2ZWwiLCJhZGRTaG90QXRDdXJyZW50VGFyZ2V0IiwiYWN0b3JOYW1lIiwiYnVsbGV0c1Nob3QiLCJ0cmFuc2l0QnVsbGV0cyIsImJ1bGxldHNTaG90VHJhbnNpdCIsInRyYW5zaXQiLCJidWxsZXRMZWZ0IiwicHJldmlvdXNTaG90Iiwid2VhcG9uTWFsZnVuY3Rpb24iLCJzaG9vdEF0VGFyZ2V0Iiwic2hvb3RCdWxsZXRzIiwiaGFzTWFsZnVuY3Rpb24iLCJidWxsZXRGaXJlZCIsImRldGFpbHMiLCJjaGFuZ2VWb2xsZXlTaXplIiwicGFzc1JvbGwiLCJyb2xsSW5kZXgiLCJ1cGdyYWRlaW5kZXgiLCJpbmNyZWFzZWRTdWNjZXNzIiwicmFuZ2VJbml0aWF0b3IiLCJjYXJkVGFyZ2V0cyIsImNhcmRTaG90cyIsImRhbWFnZVJvbGxzIiwiZHIiLCJoIiwiU3RyaW5nIiwiZGFtYWdlRGllIiwiZ2V0TWFpbkRpZSIsImNyaXRpY2FsRGFtYWdlRm9ybXVsYSIsImNyaXRpY2FsRGFtYWdlRGllIiwiaW1wYWxpbmdTaG90cyIsInN1Y2Nlc3NmdWxTaG90cyIsImRlYWx0IiwiZGFtYWdlUm9sbGVkIiwiZEluZGV4IiwidG90YWxUYWtlbiIsInRvdGFsQWJzb3JiZWQiLCJySW5kZXgiLCJkZWFsdEFtb3VudCIsInRha2VuIiwiYWJzb3JiZWQiLCJkYW1hZ2VEZWFsdCIsImluTWVsZWUiLCJiaWciLCJfYmlnIiwiYnVpbGQiLCJzbWFsbCIsIl9zbWFsbCIsImlzRmFzdCIsIm1vdiIsImZhc3QiLCJfZmFzdCIsIl9hY3RvciIsIl90b2tlbiIsInNpemVUZXh0Iiwic2l6ZUxhYmVsIiwiQ0hBVF9DT0M3X01FU1NBR0UiLCJwbGF5ZXJzIiwiR01TZWxmUm9sbCIsInJlbW92ZVdpc3BlclRhcmdldHMiLCJmYWtlUm9sbCIsIl9vbkNoYXRDYXJkQWN0aW9uIiwiX29uQ2hhdENhcmRUb2dnbGVDb250ZW50IiwiX29uQ2hhdENhcmRSYWRpb1N3aXRjaCIsIl9vbkNoYXRDYXJkVG9nZ2xlU3dpdGNoIiwiX29uQ2hhdENhcmRWb2xsZXlTaXplIiwiX29uRHJvcERvd25FbGVtZW50U2VsZWN0ZWQiLCJfb25Ub2dnbGVTZWxlY3RlZCIsIl9vblRhcmdldFNlbGVjdCIsIl9vbk9wZW5BY3RvciIsImJpbmRFdmVudHNIYW5kbGVyIiwiX29uSW5saW5lIiwiYmluZExpc3Rlcm5lcnMiLCJzaGVldCIsInNjcm9sbEJvdHRvbSIsImNoZWNrUmV2ZWFsZWQiLCJyZXZlYWxDaGVjayIsImJpbmRMaXN0ZW5lcnMiLCJyZW1vdmVDbGFzcyIsIm1vdXNlbGVhdmUiLCJkZWZlbmRhbnRJZCIsImluaXRpYXRvcklkIiwidXBkYXRlQ29tYmF0Q2FyZFRhcmdldCIsInVzZXJPbmx5IiwiZ2V0QXR0cmlidXRlIiwiZ21Pbmx5Iiwiem9uZSIsInVzZXJWaXNpYmxlT25seSIsImVsZW0iLCJnbVZpc2libGVPbmx5IiwiaXNUcnVzdGVkIiwib3duZXJWaXNpYmxlT25seSIsIl9nZXRBY3RvckZyb21LZXkiLCJfZ2V0Q2hhdENhcmRBY3RvciIsIm93bmVyT25seSIsImdtU2VsZWN0T25seSIsImFjdGlvblR5cGVTdHJpbmciLCJ0YXJnZXRzU2VsZWN0b3IiLCJib3JkZXIiLCJ0YXJnZXRUb0Rpc3BsYXkiLCJ1cGRhdGVTZWxlY3RlZCIsImRyb3BEb3duQm94ZXMiLCJkcGRuQm94Iiwic2VsZWN0ZWRCb3giLCJhY3Rpb25UeXBlIiwiZGVmZW5kZXJDaG9pY2UiLCJza2lsbFZhbHVlIiwiaXRlbU5hbWUiLCJfY29sbGFwc2VJbmxpbmVSZXN1bHQiLCJfZXhwYW5kSW5saW5lUmVzdWx0Iiwib3B0aW9uTGlzdCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwcm9wZXJ0eSIsInJhbmdlQ2FyZCIsInVwZGF0ZUNhcmRTd2l0Y2giLCJjaGFyYWN0ZXIiLCJvd25uZXIiLCJnZXRUb2tlbiIsIm1lc3NJZCIsIm9yaWdpbk1lc3NhZ2UiLCJtZWxlZUNhcmQiLCJyb2xsUmVzdWx0IiwidXBncmFkZUluZGV4IiwiZm9yY2VQYXNzIiwidXBncmFkZUNoZWNrIiwiZGV0YWlsZWRSZXN1bHRQbGFjZUhvbGRlciIsIm5ld0NhcmQiLCJjbG9uZU5vZGUiLCJwdXNoZWRSb2xsIiwiZGVmZW5kZXJLZXkiLCJnZXRBY3RvckZyb21Ub2tlbiIsInJlc3BvbnNlVHlwZSIsInBlcmZvcm1Ta2lsbENoZWNrIiwicHVibGlzaENoZWNrUmVzdWx0IiwicHVibGlzaE5vUmVwb25zZVJlc3VsdCIsImRlYWxlciIsInJlc29sdmVDYXJkIiwiYW1vdW50IiwiYXBwZW5kIiwiZm9yY2VGYWlsIiwiaW5jcmVhc2VTdWNjZXNzTGV2ZWwiLCJkZWNyZWFzZVN1Y2Nlc3NMZXZlbCIsImNvbXB1dGVDaGVjayIsIm1ha2VQdWJsaWMiLCJmb3JjZVJvbGwiLCJmbGFnRm9yRGV2ZWxvcGVtZW50IiwiY2xlYXJTYW5Mb3NzUmVhc29uIiwicm9sbFNhbiIsImFkdmFuY2VTdGF0ZSIsInJvbGxTYW5Mb3NzIiwicm9sbEludCIsIkNvQzdzb2NrZXQiLCJleGVjdXRlQXNHTSIsIl9pZCIsInJvbGxEYW1hZ2VCdXR0b24iLCJBY3RvciIsImNvbnRleHQiLCJkb2N1bWVudENsYXNzZXMiLCJleHRlbmRlZCIsImluaXRpYWxpemUiLCJjcmVhdHVyZUluaXQiLCJwcmVwYXJlQmFzZURhdGEiLCJpdGVtSWRlbnRpZmllciIsImNvY2lkIiwiY29jaWRGbGFnIiwiZGFpbHlMaW1pdCIsIm9uZUZpZnRoU2FuaXR5IiwicmF3TW92IiwicmF3RGIiLCJyYXdCdWlsZCIsImN1cnJlbnQiLCJocCIsInByZXBhcmVFbWJlZGRlZERvY3VtZW50cyIsInByZXBhcmVEZXJpdmVkRGF0YSIsInJhd0hwTWF4IiwibXAiLCJyYXdNcE1heCIsInJhd1Nhbk1heCIsImZpbHRlck1hdHJpeCIsImVmZmVjdHMiLCJpc1N1cHByZXNzZWQiLCJjIiwiZm91bmRyeSIsInV0aWxzIiwicHJpb3JpdHkiLCJzZWxlY3RDaGFuZ2VzIiwiYXBwbHkiLCJocE1heCIsIm1wTWF4IiwiYWN0b3JMaW5rIiwiZGlzcG9zaXRpb24iLCJzaWdodCIsImRldGVjdGlvbk1vZGVzIiwiY2hlY2tVbmRlZmluZWRBdXRvIiwicmV0dXJuRGF0YSIsInNob3J0IiwiY3JlYXRlRGF0YSIsImhhc0NvbmRpdGlvblN0YXR1cyIsImdldFRlbXBvSW5zYW5lRHVyYXRpb25UZXh0IiwiaGFzQ29uZGl0aW9uVmFsdWUiLCJwb3J0cmFpdCIsInJlYWxUaW1lIiwiYm91dE9mTWFkbmVzc1RhYmxlSWQiLCJkZXNjcmlwdGlvbiIsImJvdXRPZk1hZG5lc3NUYWJsZSIsInRhYmxlcyIsInRhYmxlUm9sbCIsIlRBQkxFX1JFU1VMVF9UWVBFUyIsIkRPQ1VNRU5UIiwiZG9jdW1lbnRJZCIsIlRleHRFZGl0b3IiLCJlbnJpY2hIVE1MIiwiaXRlbURhdGEiLCJjcmVhdGVFbWJlZGRlZERvY3VtZW50cyIsIlRFWFQiLCJ0ZXh0IiwicGFydHMiLCJDb0M3SXRlbSIsImdldE5hbWVQYXJ0c1NwZWMiLCJzaG93U2hlZXQiLCJlbXB0eVNraWxsIiwicmVuZGVyU2hlZXQiLCJmaXJlYXJtcyIsInNraWxsRGF0YSIsInBlcnNvbmFsIiwib2NjdXBhdGlvbiIsImFyY2hldHlwZSIsImF0dGFjayIsIndwblR5cGUiLCJjcmVhdGVkQXR0YWNrIiwiY29uc29sZSIsInNldEFjdG9yRmxhZyIsInF1YW50aXR5IiwiZ2V0SXRlbUlkQnlOYW1lIiwiY3JlYXRlQm9vayIsImNyZWF0ZVNwZWxsIiwiZW1wdHlTcGVsbCIsImNyZWF0ZVNraWxsIiwiY3JlYXRlSXRlbSIsIndlYXBvblByb3BlcnRpZXMiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImJpbyIsImJpb2dyYXBoeSIsInRleHRBcmVhIiwiYXJlYU5hbWUiLCJlbWJlZGRlZE5hbWUiLCJkYXRhQXJyYXkiLCJwcm9jZXNzZWREYXRhQXJyYXkiLCJiYXNlQ2FsY3VsYXRlZCIsImNhbGN1bGF0ZUJhc2UiLCJwYXJzZUNoYXJhY3RlcmlzdGljcyIsImFkZFRoaXMiLCJpc0FueVNwZWMiLCJpc0FueUJ1dE5vdEZsYWdnZWQiLCJza2lsbExpc3QiLCJncm91cCIsImFwaSIsImd1ZXNzR3JvdXBGcm9tRG9jdW1lbnQiLCJmcm9tQ29DSURSZWdleEJlc3QiLCJjb2NpZFJlZ0V4cCIsIlJlZ0V4cCIsInF1b3RlUmVnRXhwIiwiZXhpc3RpbmdTa2lsbHMiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImZvdW5kIiwiZmluZEluZGV4Iiwic29ydEJ5TmFtZUtleSIsImV4aXN0aW5nSXRlbSIsInVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzIiwiZ2V0TmFtZVdpdGhvdXRTcGVjIiwiZXhpc3RpbmciLCJtYWluU2tpbGwiLCJjcmVhdGVXZWFwb25Ta2lsbCIsInNlY29uZFNraWxsIiwiZW5hYmxlQ2hhcmFjdGVyaXNpdGljcyIsImdldENoYXJhY3RlcmlzdGljIiwibHVjayIsImVyYSIsImVyYXMiLCJleHBhbmRJdGVtQXJyYXkiLCJpdCIsIm90aGVyc0l0ZW1zIiwiYWRkVW5pcXVlSXRlbXMiLCJhZGRJdGVtcyIsImJhY2tzdG9yeSIsInNlY3Rpb25OYW1lIiwiYmlvU2VjdGlvbnMiLCJjcmVhdGVCaW9TZWN0aW9uIiwibW9uZXRhcnkiLCJzZXRUaW1lb3V0IiwiX3N0YXRlIiwiQXBwbGljYXRpb24iLCJSRU5ERVJfU1RBVEVTIiwiUkVOREVSSU5HIiwiSG9va3MiLCJyZXNldEFyY2hldHlwZSIsImNvbmZpcm0iLCJ5ZXMiLCJkZWZhdWx0WWVzIiwiY29yZUNoYXJhYyIsImVudHJ5IiwiY29yZUNoYXJhY3RlcmlzdGljcyIsImNoYXJhYyIsImNoYXJEaWFsb2dEYXRhIiwiY29yZUNoYXJhY3RlcmlzdGljc0Zvcm11bGEiLCJyZXNldE9jY3VwYXRpb24iLCJjcmVkaXRSYXRpbmciLCJhY3RvckNyZWRpdFJhdGluZyIsImZpbmRDb2NJZEluTGlzdCIsInBvaW50c0RpYWxvZ0RhdGEiLCJvY2N1cGF0aW9uU2tpbGxQb2ludHMiLCJvcHRpb25hbENoYXIiLCJkaWFsb2dEYXRhIiwic2tpbGxDb3VudCIsIm1lcmdlZCIsIm1lcmdlT3B0aW9uYWxTa2lsbHMiLCJjcmVkaXRSYXRpbmdTa2lsbCIsInNldEl0ZW1GbGFnIiwiYXJjaGV0eXBlUG9pbnRzIiwib2NjdXBhdGlvblBvaW50cyIsInBlcnNvbmFsUG9pbnRzIiwiZ2V0SXRlbXNCeU5hbWUiLCJnZXRGaXJzdFNraWxsQnlDb0NJRCIsInBhcnNlRm9ybXVsYSIsInBhcnNlZEZvcm11bGEiLCJwYXJzZWQiLCJnZXRQcm9wZXJ0eSIsInRlbXBsYXRlcyIsImNoYXJOYW1lIiwiYXR0cmliTmFtZSIsImxjayIsInRyaWdnZXIiLCJlcmFzZU9sZCIsIm9jY3VwYXRpb25Ta2lsbCIsImdldEl0ZW1GbGFnIiwidW5zZXRJdGVtRmxhZyIsImRlbGV0ZSIsImFyY2hldHlwZVNraWxsIiwic2V0THVjayIsImhwRnJvbUNoYXJhY3RlcmlzdGljcyIsIm1wRnJvbUNoYXJhY3RlcmlzdGljcyIsImdldFJlYXNvblNhbkxvc3MiLCJzYW5pdHlMb3NzRXZlbnRzIiwidG90YWxMb3NzIiwiaW1tdW5pdHkiLCJsZWZ0IiwicmlnaHQiLCJsb2NhbGVDb21wYXJlIiwic2FuTWF4Rm9ybXVsYSIsInNhbml0eUxvc3NFdmVudCIsInNldFNhbiIsInNhbkxvc3NDaGVja1Bhc3NlZCIsInNhbkxvc3NDaGVja0ZhaWxsZWQiLCJzYW5Mb3NzTWF4Iiwic2FuTG9zc01pbiIsImRhaWx5TG9zcyIsImN0aHVsaHVNeXRob3MiLCJvY2N1cGF0aW9uUG9pbnRzU3BlbnQiLCJhcmNoZXR5cGVQb2ludHNTcGVudCIsImJvbnVzUG9pbnRzIiwiZXhwZXJpZW5jZVBvaW50cyIsInBlcnNvbmFsUG9pbnRzU3BlbnQiLCJoYXNEZXZlbG9wbWVudFBoYXNlIiwiZGV2ZWxvcGVtZW50Iiwib25seVJ1bk9uY2VQZXJTZXNzaW9uIiwibG9zcyIsInVwZGF0ZWRLZXkiLCJzZXRBdHRyaWJBdXRvIiwic3VtIiwiZGl2aXNvciIsImFnZSIsIk1PViIsImJ1aWxkRnJvbUNoYXJhY3RlcmlzdGljcyIsImRiRnJvbUNoYXJhY3RlcmlzdGljcyIsIm1vdkZyb21DaGFyYWN0ZXJpc3RpY3MiLCJsb2NrZWQiLCJnZXRJdGVtc0Zyb21OYW1lIiwiZmxhZ1ZhbHVlIiwiYXR0cmlidXRlTmFtZSIsIm1pc3NpbmciLCJjb252ZXJ0RGlmZmljdWx0eSIsImNoYXJhY3RlcmlzdGljTmFtZSIsInBhY2tzIiwibWV0YWRhdGEiLCJlbnRpdHkiLCJnZXREb2N1bWVudCIsIl9yYXdWYWx1ZSIsInVwZGF0ZVZhbHVlIiwid2VhcG9uRGF0YSIsInV1aWQiLCJ3ZWFwb25zIiwicGFyZW50IiwidG9KU09OIiwiY3JlYXRlQ2hhdENhcmQiLCJoYXNHdW4iLCJkZW55THVjayIsImRlbnlCbGluZFRhbXBlcmluZyIsImZyb21VdWlkU3luYyIsInVzZXNBbHRlcm5hdGl2ZVNraWxsIiwibWF0Y2hlcyIsImV4ZWMiLCJjaGFyS2V5IiwiYXR0cmliS2V5IiwiYXR0ciIsInBpbG90U2tpbGxzIiwiZHJpdmVTa2lsbHMiLCJ0b2tlblV1aWQiLCJyZXBvcnRDaGFyYWN0ZWRyaXRpY3NWYWx1ZSIsImF2ZXJhZ2UiLCJjaGFyVmFsdWUiLCJza2lsbHNSb2xsZWQiLCJkZXZlbG9wZW1lbnRGbGFnIiwiRGllIiwiYXVnbWVudCIsInNraWxsTWFzdGVyaW5nTWVzc2FnZSIsImF1Z21lbnREaWUiLCJhdWdtZW50U0FORGllIiwic2FuR2FpbmVkIiwic2FuR2FpbmVkTWVzc2FnZSIsImRlYnVnIiwic2NvcmUiLCJpbmNyZWFzZUV4cGVyaWVuY2UiLCJ1bmZsYWdGb3JEZXZlbG9wZW1lbnQiLCJjaGFuZ2VkIiwiY3JlYXRlTWVzc2FnZSIsImN1cnJlbnRMdWNrIiwicHVscFJ1bGVEZXZlbG9wbWVudFJvbGxMdWNrIiwiaGlnaGVyVGhhbkN1cnJlbnRMdWNrIiwiYXVnbWVudFJvbGwiLCJhdWdtZW50VmFsdWUiLCJjb25kaXRpb25OYW1lIiwiY29uZGl0aW9uVmFsdWUiLCJjb25kaXRpb25zIiwiZmllbGQiLCJmb3JjZVZhbHVlIiwiY29yZSIsInN0YXR1c0lkIiwiY3VzdG9tIiwib3ZlcmxheSIsInN0YXR1c0VmZmVjdHMiLCJlZmZlY3REYXRhIiwiZmllbGRzIiwianVzdFRoaXMiLCJkZWxldGVFbWJlZGRlZERvY3VtZW50cyIsImNvdW50ZXIiLCJmaWdodGluZ1NraWxscyIsImNsb3NlQ29tYmF0V2VhcG9ucyIsIndlYXBvbkxpc3QiLCJmaXJlYXJtU2tpbGxzIiwiQ00iLCJteXRob3NIYXJkZW5lZCIsIkNSIiwic3ltYm9sIiwibW9uZXRhcnlGb3JtYXRLZXlzIiwidG9Mb2NhbGVTdHJpbmciLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJyb3ciLCJtb25ldGFyeVR5cGVLZXlzIiwic3BlbmRpbmdMZXZlbCIsIm1vbmV0YXJ5VmFsdWUiLCJjYXNoIiwiYXNzZXRzIiwidSIsInRlc3RVc2VyUGVybWlzc2lvbiIsInBsYXllciIsImNoYXJhY3RlclVzZXIiLCJjb250ZW50cyIsImhlYWx0aEJlZm9yZSIsImRhbWFnZVRha2VuIiwiX3NldEhwIiwiYXJtb3JEYXRhIiwiZ3Jvc3NEYW1hZ2UiLCJhcm1vclZhbHVlIiwiaXNGb3JtdWxhIiwibmV0RGFtYWdlIiwiY2VpbCIsImhhc01ham9yV291bmQiLCJtYWpvcldvdW5kIiwiZG9jdW1lbnRDbGFzcyIsIl9vbkxpbmtDbGljayIsIl9vbkRyYWdDb0M3TGluayIsImFkZENsYXNzIiwib2xkVHlwZSIsImxpbmtJY29uIiwiX2xpbmtGcm9tRXZlbnQiLCJvcmlnaW5hbEV2ZW50Iiwic2V0RGF0YSIsImV4dGVybmFsIiwibWF0Y2hBbGwiLCJBcnJheSIsImZyb20iLCJkaWZmaWN1bHR5U3RyaW5nIiwiaHVtYW5OYW1lIiwiZ2V0Q2hhcmFjdGVyaXN0aWNOYW1lcyIsImRyYWdnYWJsZSIsIl9jcmVhdGVEb2N1bWVudExpbmsiLCJldmVudERhdGEiLCJjaGFyYWN0ZXJpc3RpY0NoZWNrIiwic2tpbGxDaGVjayIsImF0dHJpYnV0ZUNoZWNrIiwid2VhcG9uQ2hlY2siLCJfb25MaW5rQWN0b3JDbGljayIsImdldFNwZWFrZXJBY3RvciIsIk9CU0VSVkVSIiwiaXNDaGFyYWN0ZXJpc3RpY0NoZWNrIiwiaXNDaGVjayIsImlzQXR0cmlidXRlQ2hlY2siLCJpc1Nhbkxvc3NDaGVjayIsImlzRWZmZWN0IiwiQ29DN1BhcnNlciIsIl9nZXRUZXh0Tm9kZXMiLCJyZ3giLCJfcmVwbGFjZVRleHRDb250ZW50IiwiX2NyZWF0ZUxpbmsiLCJpc0NvbnRlbnRWaXNpYmxlIiwicGFyc2VkQ29udGVudCIsIkl0ZW0iLCJyZWxhdGl2ZVRvIiwiSm91cm5hbEVudHJ5UGFnZSIsImljb25MYW5ndWFnZSIsIm1hbGZ1bmN0aW9uIiwicHJvcGVydHlJZCIsIm92ZXJyaWRlIiwiY2hlY2tlZFByb3BzIiwiQ29DSURFZGl0b3IiLCJlcmFUb2dnbGUiLCJtZWxlZVdlYXBvbiIsInByb3BOYW1lIiwicHJvcFZhbHVlIiwiaGFzUHJvcGVydHkiLCJpc0luY2x1ZGVkSW5TZXQiLCJzcGVjTmFtZVJlZ2V4IiwiZ3Vlc3NOYW1lUGFydHMiLCJzZXQiLCJlcmFzZUFkanVzdG1lbnQiLCJtYXhVc2VzUGVyUm91bmQiLCJtdWx0aVNob3QiLCJ1c2VzUGVyUm91bmRTdHJpbmciLCJza2lsbFByb3BlcnRpZXMiLCJfYmFzZSIsImFtbW8iLCJzZXRCdWxsZXRzIiwibWF4QnVsbGV0IiwiYnVsbGV0cyIsIm1heEJ1bGxldHMiLCJuZXdBcnJheSIsImdldENoYXREYXRhIiwiaHRtbE9wdGlvbnMiLCJsYWJlbHMiLCJwcm9wcyIsImZuIiwicCIsIl93ZWFwb25DaGF0RGF0YSIsInNraWxsTGFiZWwiLCJjYW5CZVB1c2hlZCIsImlzRG9kZ2UiLCJwdXNoaW5nIiwiaXNVbmtub3duIiwiX3V1aWQiLCJyYW5kb21JRCIsImhhc0NhcmQiLCJyYXdWYWx1ZVN0cmluZyIsImNyaXRpY2FsVGhyZXNob2xkIiwiZnVtYmxlVGhyZXNob2xkIiwic3VjY2VzVGhyZXNob2xkIiwiX21vZGlmaWVkUmVzdWx0IiwibW9kaWZpZWQiLCJmbGF0RGljZU1vZGlmaWVyU3RyaW5nIiwiaXNTaW1wbGVSb2xsIiwiaGFzUGVuYWx0eSIsImhhc01vZGlmaWVyIiwiX2RpY2VNb2RpZmllciIsImZ1bGxOYW1lIiwiX2RpZmZpY3VsdHkiLCJvbGRDaGVjayIsInN1Y2Nlc3NMZXZlbEljb25zIiwidW5rbm93bkRpZmZpY3VsdHkiLCJpY29ucyIsInN1Y2Nlc3NIaW50IiwiY3NzQ2xhc3MiLCJoaW50IiwiZmFpbHVyZUhpbnQiLCJnbURpZmZpY3VsdHlDcml0aWNhbCIsImdtRGlmZmljdWx0eUV4dHJlbWUiLCJnbURpZmZpY3VsdHlIYXJkIiwiZ21EaWZmaWN1bHR5UmVndWxhciIsIl9za2lsbCIsIl9nZXRJdGVtRnJvbUlkIiwiX2l0ZW0iLCJpc0R1bW15IiwiZGlzcGxheVJlc3VsdFR5cGUiLCJkaXNwbGF5Q2hlY2tTdWNjZXNzTGV2ZWwiLCJkaXNwbGF5Qm90aFN1Y2Nlc3NMZXZlbCIsImRvbnREaXNwbGF5U3VjY2Vzc0xldmVsIiwiaW1hZ2UiLCJnZXRMaW5rRWxlbWVudCIsInJvbGxEYXRhIiwidGhyZXNob2xkIiwidGVuUmVzdWx0IiwidGVuT25seU9uZURpZSIsImlzVmFsdWUiLCJpc0NoYXJhY3RpcmlzdGljIiwiaXNTa2lsbCIsImlzSXRlbSIsImlzQXR0cmlidXRlIiwic3VjY2Vzc1JlcXVpcmVkIiwibWFsZnVuY3Rpb25UeHQiLCJ0b2dnbGVJdGVtRmxhZyIsImhhc0Vub3VnaEx1Y2siLCJuZXh0TGV2ZWwiLCJsdWNrVG9TcGVuZCIsImNhbkluY3JlYXNlU3VjY2VzcyIsImNhbkF3YXJkRXhwZXJpZW5jZSIsImZvcmNlZCIsIkpTT05Sb2xsU3RyaW5nIiwiY3NzQ2xhc3NMaXN0IiwicGxheWVyQ3NzQ2xhc3MiLCJmb3JjZWRTdWNjZXNzIiwiZm9yY2VkRmFpbHVyZSIsInRvdGFsTHVja1NwZW50Iiwic2hpZnQiLCJyZW1vdmVVcGdyYWRlcyIsImZvcmNlU3VjY2Vzc0xldmVsIiwiX2ZvcmNlQ2hlY2siLCJoaWdoIiwibG93IiwicmFuZG9tIiwidW5pdFRvdGFsIiwidGVuVG90YWwiLCJoYXNFbm91Z2giLCJ0ZW4iLCJmbGFnZ2VkRm9yRGV2ZWxvcG1lbnQiLCJfZmxhdm9yIiwiX2NvbnRleHQiLCJwYXJlbnRVdWlkIiwicmF3dmFsdWUiLCJ0b29sdGlwSGVhZGVyIiwib3JpZ2luYWxTcGVha2VyIiwibmV3Q29udGVudCIsImh0bWxNZXNzYWdlIiwicm9sbFJlc3VsdEVsZW1lbnQiLCJPVEhFUiIsInRvb2x0aXAiLCJyb2xsVG9vbFRpcCIsImZhY2UiLCJjb21tYW5kIiwidGlwIiwiY2hpbGRyZW4iLCJhcHBlbmRDaGlsZCIsInBhIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicHQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwidG9wIiwieSIsImlubmVySGVpZ2h0IiwiemkiLCJnZXRDb21wdXRlZFN0eWxlIiwiekluZGV4IiwiaXNOdW1lcmljIiwiX0V4ZWNDb21tYW5kIiwiZXNjYXBlZCIsImFzayIsInRocmVzaG9sZFN0ciIsImRpZmZpY3VsdHlTdHIiLCJhc2tWYWx1ZSIsImFjdG9yU3RyaW5nIiwiYmFzZUFjdG9yIiwiZ2V0RG9jdW1lbnRDbGFzcyIsInJvbGxEaWNlIiwiYmFyIiwic2xvdCIsIm1hY3JvIiwibWFjcm9zIiwibSIsImFzc2lnbkhvdGJhck1hY3JvIiwiTWFjcm8iLCJ1cGRhdGVDaGFyU2hlZXRzIiwiY2hlY2tPcHRpb25zIiwicGxheWVyVG9rZW5JZHMiLCJzZWxlY3RlZFBsYXllcklkcyIsImZvckVhY2giLCJjaGVja2VkIiwic3RhcnRSZXN0IiwiY2hhdENvbnRlbnQiLCJxdWlja0hlYWxlciIsImlzQ3JpdGljYWxXb3VuZHMiLCJkYWlseVNhbml0eUxvc3MiLCJocFZhbHVlIiwibXBWYWx1ZSIsImhlYWxBbW91bnQiLCJob3VycyIsIm1hZ2ljQW1vdW50IiwidGsiLCJyZW5kZXJlZCIsImVudGl0eVR5cGUiLCJmb2xkZXIiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJpc1NlY3VyZUNvbnRleHQiLCJ3cml0ZVRleHQiLCJwb3NpdGlvbiIsImJvZHkiLCJmb2N1cyIsInJlamVjdCIsImV4ZWNDb21tYW5kIiwiRXJyb3IiLCJjYXRjaCIsImxlbiIsInFTdHJpbmciLCJjaGFyQXQiLCJjaGFyQ29kZUF0IiwiaiIsInBhdGgiLCJvIiwiZG9jIiwiZG9jTmFtZSIsImRvY0lkIiwiaW5zdGFuY2UiLCJlbWJlZGRlZElkIiwiaWRlbnRpZmllcnMiLCJkcm9wRGF0YSIsImRvY1V1aWQiLCJnZXREb2N1bWVudEZyb21LZXkiLCJmb2xkZXJOYW1lIiwiaW1wb3J0ZWRDaGFyYWN0ZXJzRm9sZGVyIiwiZm9sZGVycyIsIkZvbGRlciIsIm9NIiwic291cmNlIiwicGFja2FnZSIsImdldERvY3VtZW50cyIsImZhbGxiYWNrQW55IiwiZ3Vlc3NJdGVtIiwibm9ybWFsaXplIiwic3VibWl0T25DbG9zZSIsInN1Ym1pdE9uQ2hhbmdlIiwic3VwcG9ydGVkTGFuZ3VhZ2VzIiwiZWRpdGFibGUiLCJpc0VkaXRhYmxlIiwiZ3Vlc3NDb2RlIiwiZ3Vlc3NJZCIsImlkUHJlZml4IiwiZ2V0UHJlZml4IiwibGFuZyIsImlzRW5hYmxlZCIsIkNvQ0lES2V5cyIsImZsYXR0ZW5PYmplY3QiLCJ0cmFuc2xhdGlvbnMiLCJDb0NJREZsYWciLCJwcmVmaXgiLCJleGlzdGluZ0tleXMiLCJpc1N5c3RlbUlEIiwiX2V4aXN0aW5nIiwid29ybGREb2N1bWVudHMiLCJmcm9tQ29DSURBbGwiLCJzY29wZSIsInVzZWRFcmFzIiwidW5pcXVlV29ybGRQcmlvcml0eSIsIndvcmxkRG9jdW1lbnRJbmZvIiwid2FybkR1cGxpY2F0ZVdvcmxkUHJpb3JpdHkiLCJ3b3JsZER1cGxpY2F0ZXMiLCJjb21wZW5kaXVtRG9jdW1lbnRzIiwidW5pcXVlQ29tcGVuZGl1bVByaW9yaXR5IiwiY29tcGVuZGl1bURvY3VtZW50SW5mbyIsIndhcm5EdXBsaWNhdGVDb21wZW5kaXVtUHJpb3JpdHkiLCJjb21wZW5kaXVtRHVwbGljYXRlcyIsInNpYmxpbmdzIiwiX29uQ2xpY2tUb2dnbGUiLCJ0b0tlYmFiQ2FzZSIsImd1ZXNzIiwiY3NzIiwiY29sb3IiLCJhZGRDb0NJRFNoZWV0SGVhZGVyQnV0dG9uIiwiaGVhZGVyQnV0dG9ucyIsInNoZWV0Q29DSUQiLCJDb0NJREVkaXRvckJ1dHRvbiIsIm9uY2xpY2siLCJudW1iZXJPZkJ1dHRvbnMiLCJDb0M3QWN0aXZlRWZmZWN0IiwiQWN0aXZlRWZmZWN0Iiwib3duZXIiLCJlZmZlY3RJZCIsIm9yaWdpbiIsImVmZmVjdFR5cGUiLCJfcHJlcGFyZUR1cmF0aW9uIiwidG9JU09TdHJpbmciLCJpc1N0YXR1cyIsImNhdGVnb3JpZXMiLCJ0ZW1wb3JhcnkiLCJwYXNzaXZlIiwiaW5hY3RpdmUiLCJzdXBwcmVzc2VkIiwiX2dldFNvdXJjZU5hbWUiLCJpc1RlbXBvcmFyeSIsImhpZGRlbiIsImV4cGVuZGVkIiwiQ29DN0NvbnRleHRNZW51IiwibWVudSIsIl9jYWxsYmFjayIsIl9odG1sIiwiX21lbnUiLCJtZW51VHJpZ2dlciIsImNvbnRleHRtZW51IiwiX29uQ29udGV4dE1lbnUiLCJtZW51RWxlbWVudCIsIkNyZWF0ZU1lbnUiLCJfb25NZW51QWN0aW9uIiwibWVudUNvbnRhaW5lciIsImVhY2giLCJ2aXNpYmlsaXR5IiwiY2xvc2VBbGwiLCJtZW51TmFtZSIsImNvbnRleHRNZW51Iiwid3JhcHBlciIsInN1Yk1lbnUiLCJjbGllbnRYIiwiY2xpZW50WSIsIm1lbnVIZWlnaHQiLCJvdXRlckhlaWdodCIsIm1lbnVXaWR0aCIsIm91dGVyV2lkdGgiLCJzZWN0aW9uIiwiQ3JlYXRlU2VjdGlvbiIsIm11bHRpIiwiY2FuU2VlIiwic3ViIiwiQ29DN0FjdG9yU2hlZXQiLCJBY3RvclNoZWV0IiwiX2dldEhlYWRlckJ1dHRvbnMiLCJzaG93SGlkZGVuRGV2TWVudSIsImNhbkRyYWdUb2tlbiIsImxpbmtlZEFjdG9yIiwiaXRlbXNCeVR5cGUiLCJjb21iYXRTa2lsbHMiLCJyYW5nZVdwbiIsIm1lbGVlV3BuIiwiYWN0b3JGbGFncyIsInByZXBhcmVBY3RpdmVFZmZlY3RDYXRlZ29yaWVzIiwicHJlcGFyZU5QQ0FjdGl2ZUVmZmVjdENhdGVnb3JpZXMiLCJwZXJtaXNzaW9uTGltaXRlZCIsIkxJTUlURUQiLCJhbGxvd1VubG9jayIsInBlcnNvbmFsRGVzY3JpcHRpb24iLCJzZXgiLCJyZXNpZGVuY2UiLCJiaXJ0aHBsYWNlIiwib3JnYW5pemF0aW9uIiwicGxheWVybmFtZSIsIm1hbnVhbENyZWRpdCIsImNyZWRpdCIsIm1vbmV0YXJ5U3ltYm9sIiwic3BlbnQiLCJhc3NldHNEZXRhaWxzIiwiZGV2ZWxvcG1lbnQiLCJwdWxwUnVsZUFyY2hldHlwZSIsInB1bHBSdWxlT3JnYW5pemF0aW9uIiwiaXNEZWFkIiwiaXNEeWluZyIsIml0ZW1Ub1VwZGF0ZSIsImFzeW5jQmFzZSIsInVwZGF0ZWRFeHAiLCJpdGVtVHlwZSIsIm1lbGVlU2tpbGxzIiwicmFuZ2VTa2lsbHMiLCJjYnRTa2lsbHMiLCJ1c2VzQWx0ZXJuYXRlU2tpbGwiLCJza2lsbFNldCIsIl9wcm9wZXJ0aWVzIiwiaGFzRW1wdHlWYWx1ZVdpdGhGb3JtdWxhIiwiaXNGaXJzdCIsImlzTGFzdCIsInNob3dJbnZlbnRvcnlJdGVtcyIsInNob3dJbnZlbnRvcnlCb29rcyIsInNob3dJbnZlbnRvcnlTcGVsbHMiLCJzaG93SW52ZW50b3J5VGFsZW50cyIsInNob3dJbnZlbnRvcnlTdGF0dXNlcyIsInNob3dJbnZlbnRvcnlXZWFwb25zIiwiaGFzQ29uZGl0aW9ucyIsImNvbmRpdGlvbiIsIm9uQ2xvc2VTaGVldCIsIm1lbnVzIiwicm9sbE1lbnUiLCJzYW5NZW51Iiwicm9sbENvbnRleHRNZW51IiwiX29uQ29udGV4dE1lbnVDbGljayIsInNhbkNvbnRleHRNZW51IiwiX29uT3Bwb3NlZFJvbGwiLCJfb25Sb2xsQ2hhcmFjdGVyaXRpY1Rlc3QiLCJfb25Sb2xsU2tpbGxUZXN0IiwiX29uUm9sbEF0dHJpYlRlc3QiLCJfb25EcmFnVG9rZW5TdGFydCIsImNvbXBlbmRpdW0iLCJfb25EcmFnQ2hhcmFjdGVyaXN0aWMiLCJfb25EcmFnQXR0cmlidXRlIiwiX29uRHJhZ1NhbkNoZWNrIiwiX29uTG9ja0NsaWNrZWQiLCJfb25GbGFnQ2xpY2tlZCIsIl9vbkZvcm11bGFDbGlja2VkIiwiX29uUm9sbENoYXJhY3Rlcml0aWNzVmFsdWUiLCJfb25BdmVyYWdlQ2hhcmFjdGVyaXRpY3NWYWx1ZSIsIl9vbkF1dG9Ub2dnbGUiLCJfb25SZXNldENvdW50ZXIiLCJfb25Db25kaXRpb25Ub2dnbGUiLCJoZWFsIiwicmV2aXZlIiwiY2hlY2tGb3JEZWF0aCIsIl9vbkl0ZW1Sb2xsIiwiX29uV2VhcG9uUm9sbCIsIl9vbkVmZmVjdCIsIl9vbldlYXBvblNraWxsUm9sbCIsIl9vblJlbG9hZFdlYXBvbiIsIl9vbkFkZEFtbyIsImRibGNsaWNrIiwiX3RvZ2dsZVJlYWRPbmx5IiwiX29uV2VhcG9uRGFtYWdlIiwiX29uSW52ZW50b3J5SGVhZGVyIiwiX29uSXRlbUhlYWRlciIsIl9vblNlY3Rpb25IZWFkZXIiLCJ3aGVlbElucHV0cyIsIndoZWVsSW5wdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiX29uV2hlZWwiLCJfb25JdGVtU3VtbWFyeSIsIl9vbkl0ZW1Qb3B1cCIsIl9vblJlbmRlckl0ZW1TaGVldCIsImV2IiwicGFyZW50cyIsIml0ZW1Ub0RlbGV0ZSIsInN0cmljdCIsInNsaWRlVXAiLCJzdG9wUHJvcGFnYXRpb24iLCJjcmVhdGVFbXB0eUJvb2siLCJjcmVhdGVFbXB0eUl0ZW0iLCJjcmVhdGVFbXB0eVNraWxsIiwiY3JlYXRlRW1wdHlTcGVsbCIsImNyZWF0ZUVtcHR5V2VhcG9uIiwiX29uVHJhZGVJdGVtIiwiZGVsZXRlQmlvU2VjdGlvbiIsIm1vdmVCaW9TZWN0aW9uVXAiLCJtb3ZlQmlvU2VjdGlvbkRvd24iLCJkZXZlbG9wZW1lbnRQaGFzZSIsImRldGFpbCIsImRldmVsb3BMdWNrIiwiZGlzYWJsZSIsIm1vdXNlZW50ZXIiLCJ0b29sVGlwU2tpbGxFbnRlciIsIkNvQzdUb29sdGlwcyIsInRvb2xUaXBMZWF2ZSIsInRvb2xUaXBDaGFyYWN0ZXJpc3RpY0VudGVyIiwidG9vbFRpcEF0dHJpYnV0ZUVudGVyIiwidG9vbFRpcEF1dG9FbnRlciIsInRvb2xUaXBGbGFnRm9yRGV2ZWxvcG1lbnQiLCJvbk1hbmFnZUFjdGl2ZUVmZmVjdCIsImRlbGF5IiwiVG9vbFRpcEhvdmVyIiwidG9vbFRpcFRpbWVyIiwidG9vbFRpcCIsImRpc3BsYXlUb29sVGlwIiwiY2hhcklkIiwiYXR0cmlidXRlSWQiLCJhdHRyaWJ1dGVzIiwidGFyZ2V0VHlwZSIsInJvbGxPcHRpb25zIiwiYWN0b3JGcm9tIiwiYWN0b3JUbyIsInZpc2libGUiLCJOT05FIiwiX29uRHJhZ1N0YXJ0IiwiZHJhZ0RhdGEiLCJib3giLCJDb0M3VHlwZSIsIl9vbkRyb3AiLCJ0b2dnbGVDb25kaXRpb24iLCJyZXNldERhaWx5U2FuaXR5IiwidG9nZ2xlQXR0cmliQXV0byIsInRvZ2dsZVByb3BlcnR5Iiwicm9sbENoYXJhY3RlcmlzdGljc1ZhbHVlIiwiYXZlcmFnZUNoYXJhY3RlcmlzdGljc1ZhbHVlIiwiaXNMb2NrZWQiLCJ0b2dnbGVBY3RvckZsYWciLCJkZWx0YVkiLCJzZXRIcCIsInNldE1wIiwicmVhZE9ubHkiLCJzZWNyZXRzIiwiaGFzQ2xhc3MiLCJzdW1tYXJ5IiwiZGl2Iiwic3BlY2lhbERpdiIsImhpZGUiLCJzbGlkZURvd24iLCJwYW5uZWxDbGFzcyIsInBhbm5lbCIsImlzIiwib2wiLCJuZXh0IiwicG9wdXBTa2lsbCIsImVucmljaGVkVmFsdWUiLCJzY3JvbGxZIiwicHJvY2VlZFdpdGhvdXRUYXJnZXQiLCJjYW5jZWwiLCJwcm9jZWVkIiwiYWRkQnVsbGV0IiwidGVzdCIsInJvbGxGb3JtdWxhIiwib3ZlcnJpZGVzIiwiY3JlZGl0VmFsdWUiLCJ1cGRhdGVUZXh0QXJlYSIsInVwZGF0ZUJpb1ZhbHVlIiwidXBkYXRlQmlvVGl0bGUiLCJzZWxlY3RlZEluZGV4IiwiQ29DN05QQ1NoZWV0IiwiYWxsb3dGb3JtdWxhIiwiZGlzcGxheUZvcm11bGEiLCJoYXNTYW4iLCJoYXNNcCIsImhhc0x1Y2siLCJpc0NyZWF0dXJlIiwiaGFzSW52ZW50b3J5IiwiZW5yaWNoZWRCaW9ncmFwaHlQZXJzb25hbERlc2NyaXB0aW9uIiwiZW5yaWNoZWREZXNjcmlwdGlvbktlZXBlciIsImtlZXBlciIsInNhbmxvc3NNZW51Iiwic2FubG9zc0NvbnRleHRNZW51IiwiX29uU2FuTG9zc0NvbnRleHRNZW51Q2xpY2siLCJfb25TYW5DaGVjayIsImNoZWNrVGFyZ2V0cyIsInVuc2V0QWN0b3JGbGFnIiwicmVzaXphYmxlIiwibWluaW1pemFibGUiLCJfdXBkYXRlT2JqZWN0Iiwic2V0Q2hhcmFjdGVyaXN0aWMiLCJzZXRQb3NpdGlvbiIsImZvcmNlQXV0byIsIkNvQzdDcmVhdHVyZVNoZWV0IiwiQ29DN0NyZWF0ZU15dGhvc0VuY291bnRlciIsImlzSW1tdW5pdHkiLCJfb25CdXR0b25DbGljayIsIkNvQzdDaGFyYWN0ZXJTaGVldCIsInN1bW1hcml6ZWQiLCJ0b2dnbGVTaGVldE1vZGUiLCJza2lsbExpc3RNb2RlVmFsdWUiLCJza2lsbFNob3dVbmNvbW1vbiIsInNob3dJY29uc09ubHkiLCJvY2N1cGF0aW9uU2V0IiwiYXJjaGV0eXBlU2V0IiwidG90YWxFeHBlcmllbmNlIiwidG90YWxPY2N1cGF0aW9uIiwiaW52YWxpZE9jY3VwYXRpb25Qb2ludHMiLCJ0b3RhbEFyY2hldHlwZSIsImludmFsaWRBcmNoZXR5cGVQb2ludHMiLCJ0b3RhbFBlcnNvbmFsIiwiaW52YWxpZFBlcnNvbmFsUG9pbnRzIiwiY3JlZGl0UmF0aW5nTWF4IiwiY3JlZGl0UmF0aW5nTWluIiwiaW52YWxpZENyZWRpdFJhdGluZyIsInB1bHBUYWxlbnRDb3VudCIsInRhbGVudCIsIm1pblB1bHBUYWxlbnRzIiwidGFsZW50cyIsImludmFsaWRQdWxwVGFsZW50cyIsImFsbG93RGV2ZWxvcG1lbnQiLCJhbGxvd0NoYXJDcmVhdGlvbiIsImRldmVsb3BtZW50Um9sbEZvckx1Y2siLCJzaG93RGV2UGFubmVsIiwiX21vbmV0YXJ5Rm9ybWF0cyIsIm1vbmV0YXJ5Rm9ybWF0cyIsInNob3dDdXJyZW5jeVN5bWJvbCIsIl9tb25ldGFyeVR5cGVzIiwibW9uZXRhcnlUeXBlcyIsIm1vbmV0YXJ5Rm9ybWF0Iiwib25lQmxvY2tCYWNrU3RvcnkiLCJwcmV2aW91c1NwZWMiLCJpc1NwZWNpYWxpemF0aW9uIiwic2tpbGxzQnlWYWx1ZSIsInRvcFNraWxscyIsInRvcFdlYXBvbnMiLCJyZXZlcnNlIiwiZGlzcGxheVBsYXllck5hbWUiLCJza2lsbExpc3RFbXB0eSIsImVucmljaGVkQmFja3N0b3J5IiwiX3NhdmVTY3JvbGxQb3NpdGlvbnMiLCJfc2Nyb2xsUG9zaXRpb25zWCIsInBvcyIsInNlbCIsInNjcm9sbExlZnQiLCJfcmVzdG9yZVNjcm9sbFBvc2l0aW9ucyIsInNlbGVjdG9ycyIsInBvc2l0aW9ucyIsIl9vblNraWxsRGV2IiwiX29uSXRlbURldGFpbHMiLCJ0b2dnbGVTa2lsbExpc3RNb2RlIiwidG9nZ2xlU2tpbGxVbmNvbW1vbk1vZGUiLCJfb25BZGRTYW5pdHlMb3NzUmVhc29uIiwiX29uRGVsZXRlU2FuaXR5TG9zc1JlYXNvbiIsIl9vblRvZ2dsZUtlZXBlckZsYWdzIiwiX29uQWRkTW9uZXRhcnkiLCJfb25SZW1vdmVNb25ldGFyeSIsImNhc2hUeXBlIiwiY2FzaFZhbHVlIiwiYXNzZXRzVHlwZSIsImFzc2V0c1ZhbHVlIiwic3BlbmRpbmdUeXBlIiwic3BlbmRpbmdWYWx1ZSIsImRldmVsb3BTa2lsbCIsInN0eWxlU2hlZXQiLCJjc3NSdWxlSW5kZXgiLCJzdHlsZVNoZWV0cyIsImhyZWYiLCJlbmRzV2l0aCIsInJ1bGVzIiwic2VsZWN0b3JUZXh0IiwiQ1NTU3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5IiwiRm9udEZhY2UiLCJsb2FkIiwibG9hZGVkRmFjZSIsImZvbnRzIiwid2VpZ2h0IiwiY2FtZWxDYXNlVG9IeXBoZW4iLCJleHBhbmRlZCIsIkNvQzdDb21iYXQiLCJjdXJyZW50Q29tYmF0IiwiY29tYmF0cyIsImN1cnJlbnRJbmRleCIsImNvbWJJZCIsImNvbWJhdGFudENvbnRyb2xzRGl2IiwiY29tYmF0YW50IiwiY29tYmF0YW50cyIsInByZXBlbmQiLCJpbml0aWF0aXZlIiwidG9rZW5Jbml0aWF0aXZlIiwiaW5pdGlhdGl2ZVRlc3QiLCJoNCIsImZvbnRXZWlnaHQiLCJ0ZXh0U2hhZG93IiwiYmFja2dyb3VuZCIsIl9vblRvZ2dsZUd1biIsImNvbWJhdGFudElkIiwibmV3SW5pdCIsInJvbGxJbml0aWF0aXZlIiwic2V0SW5pdGlhdGl2ZSIsImlkcyIsIkNvQ0lEQmF0Y2giLCJmb3VuZEtleXMiLCJvdXQiLCJtaXNzaW5nTmFtZXMiLCJzdWZmaXgiLCJzdWZmaXhSZWdFeHAiLCJvblNldE5hbWUiLCJvbkNsaWNrR3Vlc3MiLCJrZXl1cCIsIm9uS2V5dXAiLCJ0eXBlTmFtZSIsInByb2Nlc3NTa2lsbEtleXMiLCJ1cGRhdGVMaXN0IiwidG9rZW5PZmZzZXQiLCJpdGVtT2Zmc2V0IiwiYWN0b3JEYXRhIiwiZXhwYW5kZWRGbGFncyIsInVwZGF0ZURvY3VtZW50cyIsInNjZW5lRGF0YSIsInBvcHVsYXRlU2tpbGxLZXlzIiwiVXBkYXRlciIsInN5c3RlbVVwZGF0ZVZlcnNpb24iLCJqb3VybmFsIiwidmVyc2lvbiIsInJ1bk1pZ3JhdGUiLCJpc05ld2VyVmVyc2lvbiIsInVwZGF0ZWRNb2R1bGVzIiwiY3VycmVudE1vZHVsZXMiLCJwYWNrYWdlTmFtZSIsIm1vZHVsZSIsIm1vZCIsInNraXAiLCJPSyIsInBlcm1hbmVudCIsIm1pZ3JhdGVBY3RvckRhdGEiLCJpc0VtcHR5IiwibG9nIiwiZW5mb3JjZVR5cGVzIiwibWlncmF0ZUl0ZW1EYXRhIiwidGFibGUiLCJtaWdyYXRlVGFibGVEYXRhIiwibWlncmF0ZU1hY3JvRGF0YSIsIm1pZ3JhdGVTY2VuZURhdGEiLCJtaWdyYXRlQ29tcGVuZGl1bURhdGEiLCJfbWlncmF0ZUFjdG9yQ2hhcmFjdGVyU2FuaXR5IiwiX21pZ3JhdGVBY3RvckFydHdvcmsiLCJfbWlncmF0ZUFjdG9yS2VlcGVyTm90ZXMiLCJfbWlncmF0ZUFjdG9yTnBjQ3JlYXR1cmUiLCJfbWlncmF0ZUFjdG9yU3RhdHVzRWZmZWN0QWN0aXZlIiwiX21pZ3JhdGVBY3RvclNhbkxvc3NSZWFzb25zIiwiX21pZ3JhdGVBY3Rvck1vbmV0YXJ5IiwiYXJyIiwiaXRlbVVwZGF0ZSIsImRvY3VtZW50VHlwZSIsIndhc0xvY2tlZCIsImNvbmZpZ3VyZSIsIm1pZ3JhdGUiLCJkb2N1bWVudHMiLCJfbWlncmF0ZUl0ZW1FbWJlZGRlZHYxMCIsIl9taWdyYXRlSXRlbUV4cGVyaWVuY2UiLCJfbWlncmF0ZUl0ZW1BcnR3b3JrIiwiX21pZ3JhdGVJdGVtQm9va0F1dG9tYXRlZCIsIl9taWdyYXRlSXRlbUtlZXBlck5vdGVzIiwiX21pZ3JhdGVJdGVtU3BlbGxBdXRvbWF0ZWQiLCJfbWlncmF0ZUl0ZW1LZWVwZXJOb3Rlc01lcmdlIiwiX21pZ3JhdGVJdGVtRXJhcyIsIl9taWdyYXRlSXRlbXYxMCIsIl9taWdyYXRlSXRlbUJvb2tVbml0cyIsIl9taWdyYXRlTWFjcm9BcnR3b3JrIiwiX21pZ3JhdGVUYWJsZUFydHdvcmsiLCJyZXR1cm5zIiwiX21pZ3JhdGVUb2tlbkFydHdvcmsiLCJoYXMiLCJNYXAiLCJvcmlnaW5hbCIsImciLCJzcGVsbHMiLCJjb3N0IiwiY2FzdGluZ1RpbWUiLCJ1bmlkZW50aWZpZWQiLCJhdXRob3IiLCJkYXRlIiwibGFuZ3VhZ2UiLCJteXRob3NSYXRpbmciLCJub3RlcyIsImdhaW4iLCJDTUkiLCJDTUYiLCJuZWNlc3NhcnkiLCJ3ZWVrc1N0dWR5VGltZSIsInByb2dyZXNzIiwic3R1ZHkiLCJrZWVwZXJOb3RlcyIsImVuY291bnRlcmVkQ3JlYXR1cmVzIiwiaW0iLCJhdHRhY2tzUGVyUm91bmQiLCJpbmRlZmluaXRlSW5zYW5pdHlMZXZlbCIsIm5hbWVDaGFyYWN0ZXJzIiwiZW4iLCJkYk5vbmUiLCJhcm1vck5vbmUiLCJhdHRhY2tzUGVyUm91bmROb25lIiwic2FuTG9zc05vbmUiLCJmdWxsZGIiLCJoYWxmZGIiLCJzZWN0aW9uQ29tYmF0cyIsIm5ld0NvbWJhdEhlYWRlciIsInNlY3Rpb25Ta2lsbHMiLCJzZWN0aW9uTGFuZ2F1Z2VzIiwic2VjdGlvblNwZWxscyIsImhhbmRndW4iLCJyaWZsZSIsInNtYiIsIm1hY2hpbmVHdW4iLCJsYXVuY2hlZCIsImV4YW1wbGUiLCJkZSIsImRpY2VTaG9ydCIsInBsIiwiZnIiLCJlcyIsIndlYXBvbkRvZGdlIiwiZ3Vlc3NTdGFydENvbWJhdCIsInNlY3Rpb25zIiwiQ29DN0FjdG9ySW1wb3J0ZXJSZWdFeHAiLCJDb0M3QWN0b3JJbXBvcnRlciIsIml0ZW1Mb2NhdGlvbnMiLCJhc051bWJlciIsImFzU3RyaW5nIiwiZ2V0UmVnRXgiLCJyZWdleCIsImNsZWFuU3RyaW5nIiwidHJhbnNsYXRlUm9sbCIsInJlZ0V4IiwidG9IVE1MIiwicmVnRXhLZXkiLCJyZWdFeHAiLCJyZXF1aXJlZEdyb3VwIiwicmVtb3ZlRnJvbVRleHQiLCJzYXZlS2V5cyIsInByb2Nlc3NDb21iYXQiLCJuZXdsaW5lIiwiQ29DN0ltcG9ydGVyIiwibGFzdFBlcmNlbnQiLCJtYXhMb29wcyIsInBlcmNlbnRhZ2UiLCJpc1JhbmdlZCIsImRhbWFnZXMiLCJpc1Nob3RndW4iLCJhdHRhY2tzIiwicHJvY2Vzc1NraWxscyIsImJyZWFrcyIsInByb2Nlc3NTcGVsbHMiLCJzcGVsbHNBcnIiLCJzcGVsbCIsImhlYWRlciIsInN1YnN0ciIsIm9jY3VwYXRpb25BZ2UiLCJyZWdFeHBTZWN0aW9ucyIsImdtbm90ZXMiLCJkaXNhYmxlQXR0cmliQXV0byIsImF0dHJpYlZhbHVlIiwiY2hhcmFjdGVyRGF0YSIsImNyZWF0ZUltcG9ydENoYXJhY3RlcnNGb2xkZXJJZk5vdEV4aXN0cyIsIm5wYyIsInVwZGF0ZUl0ZW1EYXRhIiwibGFzdFdlYXBvblNraWxsIiwicGFpciIsIndlYXBvblNraWxscyIsInBjIiwid2VhcG9uU2tpbGwiLCJjbG9uZWQiLCJsYW5ndWFnZXMiLCJjbG9uZSIsIm5ld1NraWxsIiwibmVlZHNDb252ZXJzaW9uIiwibmVlZHNDb252ZXJzaW9uUmVzdWx0IiwiaW5wdXRzIiwiY2hlY2tMYW5ndWFnZSIsImdldEtleXMiLCJnZXRSZWd1bGFyRXhwcmVzc2lvbnMiLCJwYXJzZUNoYXJhY3RlciIsImNvbnZlcnRGcm9tNkUiLCJjb252ZXJ0N0UiLCJpdGVtc0RhdGEiLCJ0ZXN0TW9kZSIsImNyZWF0ZUVudGl0eSIsImNyZWF0dXJlIiwiQ29DN0RpcmVjdG9yeVBpY2tlciIsIkZpbGVQaWNrZXIiLCJhY3RpdmVTb3VyY2UiLCJidWNrZXQiLCJyYXciLCJwaWNrZXIiLCJwaWNrZXJCdXR0b24iLCJjcmVhdGVEZWZhdWx0RGlyZWN0b3J5IiwiY3JlYXRlRGlyZWN0b3J5IiwiZmlsZSIsImZpbGVuYW1lIiwidXBsb2FkIiwiRmlsZSIsIkNvQzdEaG9sZUhvdXNlQWN0b3JJbXBvcnRlciIsImJhY2tzdG9yeUpTT04iLCJibG9jayIsImRob2xlSG91c2VEYXRhIiwiSW52ZXN0aWdhdG9yIiwiYmFja3N0b3JpZXMiLCJnZXRCYWNrc3RvcnkiLCJCYWNrc3RvcnkiLCJQZXJzb25hbERldGFpbHMiLCJOYW1lIiwiQ2hhcmFjdGVyaXN0aWNzIiwiU1RSIiwiQ09OIiwiU0laIiwiREVYIiwiQVBQIiwiSU5UIiwiUE9XIiwiRURVIiwiU2FuaXR5IiwiU2FuaXR5TWF4IiwiSGl0UHRzIiwiSGl0UHRzTWF4IiwiTWFnaWNQdHMiLCJNYWdpY1B0c01heCIsIkx1Y2siLCJNb3ZlIiwiRGFtYWdlQm9udXMiLCJCdWlsZCIsIk9jY3VwYXRpb24iLCJBZ2UiLCJHZW5kZXIiLCJSZXNpZGVuY2UiLCJCaXJ0aHBsYWNlIiwiZXh0cmFjdFNraWxscyIsIlNraWxscyIsIlNraWxsIiwicG9zc2VzaW9ucyIsImV4dHJhY3RQb3NzZXNzaW9ucyIsIlBvc3Nlc3Npb25zIiwiZGhvbGVIb3VzZXNraWxscyIsInN1YnNraWxsIiwiaGFsZiIsImZpZnRoIiwibWFrZVNraWxsTmFtZSIsImdldEVtYmVkZGVkQ29sbGVjdGlvbiIsImRob2xlaG91c2VQb3NzZXNzaW9ucyIsImRob2xlaG91c2VXZWFwb25zIiwiaXNBcnJheSIsImZpbmRXZWFwb25Ta2lsbElkIiwic2tpbGxuYW1lIiwibWFsZiIsImJhc2U2NFBvcnRyYWl0IiwiZmlsZU5hbWUiLCJiYXNlNjRSZXNwb25zZSIsImZldGNoIiwiaW1hZ2VCbG9iIiwiYmxvYiIsInVwbG9hZFRvRGVmYXVsdERpcmVjdG9yeSIsImRob2xlSG91c2VDaGFyYWN0ZXJEYXRhIiwiY2FuIiwiY29udmVydERob2xlSG91c2VDaGFyYWN0ZXJEYXRhIiwiUG9ydHJhaXQiLCJzYXZlUG9ydHJhaXQiLCJleHRyYWN0V2VhcG9ucyIsIldlYXBvbnMiLCJDb0M3QWN0b3JJbXBvcnRlckRpYWxvZyIsImltcG9ydFR5cGUiLCJjb252ZXJ0NkUiLCJjYW5VcGxvYWQiLCJnZXRUcmFuc2xhdGlvbnMiLCJwbGFjZWhvbGRlciIsImdldEV4YW1wbGVUZXh0IiwiX29uSlNPTkZpbGVTZWxlY3RlZCIsImNoYXJhY3RlcnNUb29FeHRlbmRlZCIsImpzb25GaWxlSW5wdXQiLCJnZXRFbGVtZW50QnlJZCIsInBvcnRyYWl0SW1hZ2UiLCJjaGFyYWN0ZXJOYW1lIiwicHJldmlldyIsImZpbGVzIiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJjaGFyYWN0ZXJKU09OIiwicGVyc29uYWxEZXRhaWxzIiwidGV4dENvbnRlbnQiLCJyZWFkQXNUZXh0IiwiZ2V0SW5wdXRzIiwiY3JlYXRlTlBDRnJvbURob2xlSG91c2UiLCJhY3RvclR5cGUiLCJpbXBvcnRBY3RvciIsImNyZWF0ZWRBY3RvciIsImNyZWF0ZUFjdG9yIiwib25jZSIsIkRyb3BDb0NJRCIsInJlc3BvbnNlIiwicHJvY2Vzc0Zvcm0iLCJubyIsIkNvQzdPY2N1cGF0aW9uU2hlZXQiLCJJdGVtU2hlZXQiLCJfb25JdGVtRGVsZXRlIiwiX29uR3JvdXBJdGVtRGVsZXRlIiwiX29uR3JvdXBDb250cm9sIiwiRHJhZ0Ryb3AiLCJjYWxsYmFja3MiLCJkcm9wIiwiY29sbGVjdGlvbk5hbWUiLCJvcHRpb25hbFNraWxsIiwidXNlQ29DSUQiLCJwcm9jZXNzSXRlbSIsIkNvQ0lkIiwiaXRlbUluZGV4IiwiaGFzT3duZXIiLCJpc0VtYmVkZGVkIiwib2NjdXBhdGlvblBvaW50c1N0cmluZyIsIml0ZW1Qcm9wZXJ0aWVzIiwib2NjdXBhdGlvblByb3BlcnRpZXMiLCJlbnJpY2hlZERlc2NyaXB0aW9uVmFsdWUiLCJvcHRpb25uYWwiLCJtYW5kYXRvcnkiLCJjYXJhYyIsImNhcmFjTmFtZSIsIm9yU3RyaW5nIiwiQ29DN0ludmVzdGlnYXRvcldpemFyZCIsInBhZ2VMaXN0IiwiUEFHRV9OT05FIiwiUEFHRV9JTlRST0RVQ1RJT04iLCJQQUdFX0NPTkZJR1VSQVRJT04iLCJQQUdFX1NFVFVQUyIsIlBBR0VfQVJDSEVUWVBFUyIsIlBBR0VfQ0hBUkFDVElTVElDUyIsIlBBR0VfQVRUUklCVVRFUyIsIlBBR0VfVklFV19BVFRSSUJVVEVTIiwiUEFHRV9PQ0NVUEFUSU9OUyIsIlBBR0VfT0NDVVBBVElPTl9TS0lMTFMiLCJQQUdFX0FSQ0hFVFlQRV9TS0lMTFMiLCJQQUdFX1BPSU5UU19TS0lMTFMiLCJQQUdFX0lOVkVTVElHQVRPUiIsIlBBR0VfQkFDS1NUT1JZIiwiUEFHRV9DUkVBVEUiLCJjaGFyYWN0ZXJpc3RpY3NNZXRob2RzIiwiTUVUSE9EX0RFRkFVTFQiLCJNRVRIT0RfUk9MTCIsIk1FVEhPRF9QT0lOVFMiLCJNRVRIT0RfVkFMVUVTIiwiY29jaWRDcmVkaXRSYXRpbmciLCJjb2NpZExhbmd1YWdlT3duIiwicGFnZU9yZGVyIiwicGFnZXMiLCJkZWZhdWx0U2V0dXAiLCJzaG93TG9hZGluZyIsInJlZ2V4cCIsImNhY2hlQ29DSUQiLCJjb2NpZHMiLCJkZWZhdWx0RXJhIiwiZ2V0QWdlQWRqdXN0bWVudHMiLCJzZXR1cE1vZGlmaWVycyIsInJlcXVpcmVzQWdlQWRqdXN0bWVudHMiLCJkZWR1Y3QiLCJzZXR1cCIsImNhbk5leHQiLCJjcmVhdGVCdXR0b24iLCJzaG93TW9uZXRhcnkiLCJzdGVwIiwic2V0dXBzIiwiZmlsdGVyQ2FjaGVJdGVtQnlDb0NJRCIsIm9jY3VwYXRpb25zIiwiYXJjaGV0eXBlcyIsIl9lcmFzIiwiY2hhcmFjdGVyaXN0aWNzTWV0aG9kIiwiZW5mb3JjZVBvaW50QnV5IiwicXVpY2tGaXJlVmFsdWVzIiwiaGFzQXJjaGV0eXBlcyIsImNvcmVDaGFyYWN0ZXJpc3RpYyIsInRvTG9jYWxlVXBwZXJDYXNlIiwic3VnZ2VzdGVkT2NjdXBhdGlvbnMiLCJzdWdnZXN0ZWRUcmFpdHMiLCJnZXRDYWNoZUl0ZW1CeUNvQ0lEIiwiZW1wdGllcyIsInNldHVwUG9pbnRzIiwicHVscFJ1bGVJZ25vcmVBZ2VQZW5hbHRpZXMiLCJkZWR1Y3RUb3RhbCIsImRlZHVjdEZyb20iLCJuIiwicmVkdWNlRnJvbSIsImx1Y2tWYWx1ZSIsInNraWxsSXRlbXMiLCJsYW5ndWFnZU5hbWUiLCJyb3dzIiwiaXNNdWx0aXBsZSIsImlzQ3JlZGl0UmF0aW5nIiwiaXNQaWNrYWJsZSIsImlzT2NjdXBhdGlvbkRlZmF1bHQiLCJpbk9jY3VwYXRpb25Hcm91cCIsIm9jY3VwYXRpb25Ub2dnbGUiLCJwaWNrZWQiLCJkZWxldGVhYmxlIiwiYXJjaGV0eXBlVG9nZ2xlIiwib2NjdXBhdGlvbkdyb3VwcyIsImlzQXJjaGV0eXBlRGVmYXVsdCIsImNyZWRpdFJhdGluZ09rYXkiLCJyZW1haW5pbmciLCJmcm9tQ29DSUQiLCJ0b3RhbFBvaW50cyIsIm51bSIsImlzT2NjdXBhdGlvbiIsImlzQXJjaGV0eXBlIiwic2hvd0NyZWRpdFJhdGluZyIsImFsbEJhY2tzdG9yaWVzIiwiY2FjaGVCYWNrc3RvcmllcyIsInJvbGUiLCJVU0VSX1BFUk1JU1NJT05TIiwiQUNUT1JfQ1JFQVRFIiwiZGVmYXVsdFJvbGUiLCJrZXlwcmVzcyIsInNyY0VsZW1lbnQiLCJ0YWdOYW1lIiwid2hpY2giLCJjaGFyQ29kZSIsIl9vbkluY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCIsIl9vbkRlY3JlYXNlQ2hhcmFjdGVyaXN0aWMxMCIsIl9vblJvbGxBbGwiLCJfb25Sb2xsRWR1IiwiX29uUm9sbEx1Y2siLCJibHVyIiwiX29uQ2hhbmdlU2F2ZUNoYXJhY3RlcmlzdGljIiwiX29uVG9nZ2xlU2tpbGwiLCJfb25DbGlja1BpY2tTa2lsbCIsIl9vbkNsaWNrU2tpbGxTcGVjaWFsIiwiX29uQ2xpY2tSZW1vdmVTa2lsbCIsIl9vbkNoYW5nZVNraWxsUG9pbnRzIiwiX29uQ2hhbmdlQmFja3N0b3J5VGV4dCIsIl9vblJvbGxCYWNrc3RvcnkiLCJfb25SZXNldEJhY2tzdG9yeSIsIkNIQVRfVEVNUExBVEUiLCJnZXRUb29sdGlwIiwiYWRkSXRlbVRvTGlzdCIsImludmVzdGlnYXRvckl0ZW1zIiwiaW5wbGFjZSIsImNsZWFyU2V0dXBQb2ludHMiLCJwbGFjZWFibGUiLCJnbSIsIm5hbWVDcmVkaXRSYXRpbmciLCJjaGFyYWN0ZXJpc3RpY0tleSIsImRlc3RpbmF0aW9uIiwib2theSIsInRlbXAiLCJwYXJlbnROb2RlIiwidG9nZ2xlS2V5IiwiZ3Vlc3NHcm91cEZyb21LZXkiLCJhZGp1c3RtZW50IiwidGV4dGFyZWEiLCJyb2xsdGFibGUiLCJ0YWJsZVJlc3VsdCIsInJvbGxNZXNzYWdlIiwibW9kaWZ5T2Zmc2V0IiwibW9kaWZ5Q2hhcmFjdGVyaXN0aWMiLCJyZXJvbGxzRW5hYmxlZCIsIm9ialRvdGFsIiwiZ2V0UGFnZU51bWJlciIsImRpcmVjdGlvbiIsImNsYXNzTmFtZSIsInNldFNraWxsTGlzdHMiLCJkZWZhdWx0T3duZXJzaGlwIiwic3RhcnRlZCIsIm5vdyIsImxvYWRDYWNoZUl0ZW1CeUNvQ0lEIiwiYnVmZmVyIiwiZGVmYXVsdFF1YW50aXR5IiwiZmxhdEtleXMiLCJwYWdlTnVtYmVyIiwic2Nyb2xsVG9wIiwiYXR0ZW1wdFRvQ3JlYXRlIiwibm9ybWFsaXplQ2hhcmFjdGVyRGF0YSIsImNyZWF0ZUNoYXJhY3RlciIsImtlZXBlcnMiLCJsaXN0ZW5lciIsInBheWxvYWQiLCJzb3VyY2VJdGVtIiwiYXZhdGFyIiwiVE9LRU5fRElTUE9TSVRJT05TIiwiRlJJRU5ETFkiLCJmdW5jdGlvbklkIiwib2ZmIiwiY2FjaGVJdGVtcyIsIkNvQzdNZW51TGF5ZXIiLCJQbGFjZWFibGVzTGF5ZXIiLCJvYmplY3RzIiwibGF5ZXJPcHRpb25zIiwicGxhY2VhYmxlcyIsIkNvQzdNZW51IiwiY29udHJvbHMiLCJjb2M3Z210b29scyIsImxheWVyIiwidG9vbHMiLCJvbkNsaWNrIiwidG9nZ2xlRGV2UGhhc2UiLCJ0b2dnbGVDaGFyQ3JlYXRpb24iLCJ0b2dnbGVYUEdhaW4iLCJmYWtlUm9sbE1lc3NhZ2UiLCJnZXRUYXJnZXQiLCJjb2M3RGV2VG9vbHMiLCJrZWVwZXJNZW51IiwiYWZ0ZXIiLCJDb0M3Q2FudmFzIiwiQ09DN19UWVBFU19TVVBQT1JURUQiLCJncmlkU2l6ZSIsImRyb3BUYXJnZXRUb2tlbnMiLCJiZXR3ZWVuIiwiQ29DN1NldHRpbmdzRGlyZWN0b3J5IiwiU2V0dGluZ3MiLCJsb2NhdGlvbiIsIkNvQzdDb21wZW5kaXVtRGlyZWN0b3J5IiwiQ29tcGVuZGl1bURpcmVjdG9yeSIsInRyYW5zbGF0ZWQiLCJiYWJlbGUiLCJDb0M3QWN0b3JEaXJlY3RvcnkiLCJBY3RvckRpcmVjdG9yeSIsImFsbG93V2l6YXJkIiwiYWxsb3dlZCIsIkNvQzdTcGVsbCIsImlzT3duZWQiLCJjb3N0cyIsImxvc3NlcyIsImNvbnZlcnRTdXJwbHVzSW50b0hpdFBvaW50cyIsIm1hZ2ljUG9pbnRzIiwiY29udmVydGVkSGl0UG9pbnRzIiwiY29udmVydGVkTWFnaWNQb2ludHMiLCJhY3Rvck1hZ2ljUG9pbnRzIiwib3JpZ2luYWxNYWdpY1BvaW50cyIsImhpdFBvaW50cyIsInJlc29sdmVMb3NzZXMiLCJncmFudFNhbml0eUxvc3MiLCJnZXRIVE1MIiwic2FuaXR5TG9zcyIsInNhbml0eUNoZWNrIiwiYnlwYXNzUm9sbFNhbiIsImJvb2tJZCIsImJvb2siLCJDb0M3Qm9vayIsImxlYXJuZWQiLCJpbml0aWFsUmVhZGluZyIsImZ1bGxTdHVkeSIsImNvbXBsZXRlRnVsbFN0dWR5IiwiY2hlY2tFeGhhdXN0aW9uIiwiZ3JhbnRGdWxsU3R1ZHkiLCJhY3Rvck15dGhvc1ZhbHVlIiwiZGV2ZWxvcG1lbnRzIiwibXl0aG9zRmluYWwiLCJnYWlucyIsImZpbmFsIiwiZ3JhbnRTa2lsbERldmVsb3BtZW50Iiwicm9sbFNhbml0eUxvc3MiLCJmdWxsU3R1ZGllcyIsIm90aGVycyIsInBhdHRlcm4iLCJzcGVsbGxlYXJuZWQiLCJleGlzdGluZ1NraWxsIiwic2hvd0RldmVsb3BtZW50c1RhYmxlIiwiZnJvbVJvbGxTdHJpbmciLCJncmFudEluaXRpYWxSZWFkaW5nIiwiZ3JhbnRTcGVsbExlYXJuaW5nIiwiRUNDX0NMQVNTIiwiUEVSTUlTU0lPTl9UWVBFIiwiU1RBVEUiLCJHTVVwZGF0ZSIsImNhcmRDbGFzc05hbWUiLCJFbmhhbmNlZENoYXRDYXJkIiwiYWR2aXNlIiwiRW5oYW5jZWRDaGF0Q2FyZExpYiIsInR5cGVzIiwiZW5oYW5jZWRDaGF0Q2FyZHNMaWIiLCJjYXJkQ29uc3RydWN0b3JzIiwiY2FyZENvbnN0cnVjdG9yIiwic2V0QnlQYXRoIiwiZ2V0QnlQYXRoIiwib29jIiwiZGVlcENsb25lIiwiYXR0YWNoT2JqZWN0Iiwib2JqZWN0RGF0YVN0cmluZyIsImVjY0NsYXNzIiwibG9jYWxDb21wdXRlIiwiRXhlY3V0ZUdNVXBkYXRlIiwiRUVDX0FDVElPTiIsImRldGFjaERhdGEiLCJfb25DaGFuZ2UiLCJzZXRWaXNpYmlsaXR5Iiwic2V0UGVybWlzc2lvbiIsInNldFN0YXRlIiwic2V0UmFkaW9TdGF0ZSIsInNwbGl0ZWQiLCJlY2NWaXNpYmlsaXR5IiwiaGFzUGVybSIsImVjY1Blcm1pc3Npb25zIiwicmVzdHJpY3RlZFRvIiwidmlzaW9uIiwicGVybWlzc2lvbnNBcnJheSIsIndoaXRlTGlzdCIsImlzQXV0aG9yIiwibmV3RGF0YSIsImFzc2lnbk9iamVjdHMiLCJmb3JtVXBkYXRlIiwiYWN0aW9uVXBkYXRlIiwib3JpZ2luYWxEaXNwbGF5U3R5bGUiLCJ1cGRhdGVDYXJkIiwic2F2ZURhdGEiLCJodG1tbENhcmQiLCJDYXJkQ2xhc3MiLCJ1bnNldERhdGEiLCJ0b2dnbGVEYXRhIiwiYk5hbWUiLCJfcGFydGljaXBhbnQiLCJfZmV0Y2giLCJfZG9jIiwiaXNBY3RvciIsImhhc0FjdG9yIiwiaGFzVmVoaWNsZSIsImlzQWN0aXZlIiwidmVoaWNsZSIsImRyaXZlciIsIl9kcml2ZXIiLCJ2ZWhpY2xlS2V5IiwiX3ZlaGljbGUiLCJoYXNWYWxpZE1vdiIsImhhc01heEJvbnVzRGljZSIsImFkZEJvbnVzRGljZSIsInJlbW92ZUJvbnVzRGljZSIsInJlc2V0Qm9udXNEaWNlIiwiaGFzQm9udXNEaWNlIiwiaGFzT25lQm9udXNEaWNlIiwiaGFzVHdvQm9udXNEaWNlIiwiY2FuQXNzaXN0IiwiYXNzaXN0IiwiY2FuQmVDYXV0aW91cyIsImhhc0RyaXZlciIsImhhc1ZhbGlkRGV4IiwiaGFzQUd1blJlYWR5IiwiaW5pdCIsImlzQ2hhc2VyIiwiY2hhc2VyIiwiaXNQcmV5IiwiaXNWYWxpZCIsIm1vdkFkanVzdG1lbnQiLCJzcGVlZENoZWNrIiwicm9sbERhdGFTdHJpbmciLCJhZGp1c3RlZE1vdiIsImhhc01vdkFkanVzdG1lbnQiLCJoYXNCb251c01vdiIsImhhc01hbHVzTW92IiwidG9vU2xvdyIsImV4Y2x1ZGVkIiwiaW5jbHVkZUluQ2hhc2UiLCJzbG93ZXN0IiwiZmFzdGVzdCIsImNhbGN1bGF0ZU1vdmVtZW50QWN0aW9ucyIsIm1pbk1vdiIsIm1vdmVtZW50QWN0aW9uIiwiY3VycmVudE1vdmVtZW50QWN0aW9ucyIsImhhc01heE12dEFjdGlvbnMiLCJoYXNOb012dEFjdGlvbnMiLCJhZGRNb3ZlbWVudEFjdGlvbnMiLCJhbHRlck1vdmVtZW50QWN0aW9ucyIsIm1vdmVtZW50QWN0aW9uQXJyYXkiLCJiYXNlQXJyYXkiLCJmaWxsIiwiaW5saW5lUm9sbCIsIm1vZGlmaWVyQ3NzIiwiaGFzT3B0aW9ucyIsImdhbWVJdGVtIiwicmVmIiwicmVmU2V0IiwiaXNDaGFyYWN0ZXJpc3RpYyIsImNhbkJlUm9sbGVkIiwic29ydEJ5Um9sZUFuZERleCIsIkNoYXNlT2JzdGFjbGVDYXJkIiwic3RyaW5ncyIsInRvdGFsQWN0aW9uQ29zdCIsImJyZWFrYWJsZU9ic3RhY2xlIiwib2JzdGFjbGUiLCJiYXJyaWVyIiwiaGFzSGl0UG9pbnRzIiwidmFsaWRDaGVjayIsInN0YXRlcyIsIm9ic3RhY2xlRGVmaW5lZCIsImhhemFyZCIsInRyeVRvTmVnb3RpYXRlIiwidHJ5VG9CcmVhayIsImJyZWFrT3JOZWdvdGlhdGVEZWZpbmVkIiwicGFydGljaXBhbnQiLCJjaGFzZSIsImdldEFjdG9yU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzIiwicGFydGljaXBhbnRVdWlkIiwidmFsaWRTa2lsbCIsImNoZWNrVGhyZXNob2xkIiwiYWxsU2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzIiwiZHVtbXlBY3RvciIsImNhblRha2VDYXV0aW91c0FwcHJvYWNoIiwiY3VzdG9tV2VhcG9uIiwid2VhcG9uQ2hvaWNlIiwiY2hlY2tSb2xsUmVxdWVzdCIsImNhbkFza1JvbGwiLCJFbnRlclZhbHVlVGl0bGUiLCJkYW1hZ2VTdGF0dXMiLCJvYnN0YWNsZURhbWFnZVJvbGwiLCJvYnN0YWNsZURhbWFnZVJvbGxlZCIsIm9ic3RhY2xlRGFtYWdlIiwiaW5saW5lRGFtYWdlUm9sbCIsInRvdGFsQ2F1dGlvdXNBcHByb2FjaCIsImNhdXRpb3VzU3RhdHVzIiwiY2F1dGlvdXNBcHByb2FjaFR5cGUiLCJjb25zdW1lQm9udXNEaWNlIiwibW92ZVBsYXllciIsIm9ic3RhY2xlUGFzc2VkIiwiY2hlY2tGYWlsZWQiLCJwbGF5ZXJBY3Rpb25EZWZpbmVkIiwicGxheWVySW50ZW50aW9ucyIsImNoZWNrUm9sbGVkIiwiY2FyZFJlc29sdmVkIiwicGxheWVyRGFtYWdlVGFrZW4iLCJvYnN0YWxjZURlZmluaXRpb25DaGFuZ2VkIiwibGlzdENoYW5nZXMiLCJoYXNEYW1hZ2UiLCJpbmxpbmVEYW1hZ2VUYWtlblJvbGwiLCJmYWlsZWREYW1hZ2VSb2xsIiwidG90YWxQbGF5ZXJEYW1hZ2VUYWtlbiIsImhhc0FjdGlvbkNvc3QiLCJhY3Rpb25Mb3N0IiwiaW5saW5lQWN0aW9uTG9zdFJvbGwiLCJmYWlsZWRBY3Rpb25Sb2xsIiwiZmluYWxPdXRjb21lIiwidG90YWxEYW1hZ2UiLCJyZWZsZWN0T2JzdGFsZUNoYW5nZXMiLCJmYWlsZWRDb25zZXF1ZW5jZXNSb2xsZWQiLCJ0b3RhbE9ic3RhY2xlRGFtYWdlIiwib2JzdGFjbGVEZXN0b3llZCIsIkhpdFBvaW50cyIsImFjdGl2ZVBhcnRpY2lwYW50RGF0YSIsIm9ic3RhY2xlRGV0YWlscyIsInBhcnRpY2lwYW50RGF0YSIsImdldFBhcnRpY2lwYW50RGF0YSIsImdldExvY2F0aW9uRGF0YSIsImxvY2F0aW9uVXVpZCIsImNoYXNlVXVpZCIsIl9jaGFzZSIsImFjdG9yU2tpbGwiLCJ2YWxpZEZhaWxlZFJvbGxzIiwiZmFpbGVkQ2hlY2tEYW1hZ2UiLCJhY3Rpb25Db3N0IiwiZmFpbGVkQWN0aW9uQ29zdCIsIndlYXBvbnNPcHRpb25zIiwiaXRlbVR5cGVzIiwidyIsImFoYmQiLCJ1bnNoaWZ0IiwiY3VzdG9tV2VhcG9uRGFtYWdlIiwidXNlZFdlYXBvbiIsImluZmxpY3RlZERhbWFnZUZvcm11bGEiLCJ2YWxpZE9ic3RhY2xlRGFtYWdlIiwiZGFtYWdlUm9sbFJlcXVlc3QiLCJsb2FjdGlvbkNoYW5nZWQiLCJwYXJ0aWNpcGFudENoYWdlZCIsIm9ic3RhY2xlVXBkYXRlIiwicGFydGljaXBhbnRVcGRhdGUiLCJkaWZmIiwibmV3IiwicmVtYWluaW5nSHAiLCJ0YXJnZXRMb2NhdGlvbiIsImZvcndhcmQiLCJnZXRMb2NhdGlvblNoaWZ0IiwibW92ZVBhcnRpY2lwYW50VG9Mb2NhdGlvbiIsInNjcm9sbFRvTG9jYXRpb24iLCJhY3RpdmF0ZUxvY2F0aW9uIiwidXBkYXRlTG9jYXRpb24iLCJ1cGRhdGVQYXJ0aWNpcGFudCIsImFjdGl2YXRlTmV4dFBhcnRpY2lwYW50VHVybiIsImNhbmNlbE9ic3RhY2xlRGVmaW5pdGlvbiIsImNyZWF0ZUZyb21BY3RvclJvbGxEYXRhIiwibmFtZXMiLCJuZXdPYnN0YWNsZSIsIm9sZCIsIkNvQzdDaGFzZSIsInBhcnRpY2lwYW50cyIsInBMaXN0IiwicHJleXMiLCJjaGFzZXJzIiwicGFydGljcGFudCIsInBhcnRpY2lwYW50c09iamVjdCIsImdldFBhcnRpY2lwYW50TG9jYXRpb24iLCJhY3RpdmVBY3RvciIsInBhcnRpY2lwYW50c0J5QWRqdXN0ZWRNb3YiLCJhY3R1YWxQYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudHNCeUluaXRpYXRpdmUiLCJhbGxIYXZlVmFsaWRNb3YiLCJldmVyeSIsImFsbEhhdmVTcGVlZFJvbGwiLCJsb2NhdGlvbnMiLCJsIiwibHAiLCJnZXRQYXJ0aWNpcGFudCIsIm5leHRBY3RpdmVQYXJ0aWNpcGFudCIsInNsb3dlc3RQcmV5IiwiZmFzdGVzdENoYXNlciIsImluY2x1ZGVMYXRlY29tZXJzIiwiaW5jbHVkZUVzY2FwZWQiLCJzbG93ZXN0UGFydGljaXBhbnQiLCJwYXJ0aWNpcGFudHNEYXRhIiwiY2xlYW5QYXJ0aWNpcGFudExpc3QiLCJwYXJ0aWNpYW50VXVpZCIsInBhcnRpY2lwYW50SW5kZXgiLCJvdmVyd3JpdGUiLCJ1cGRhdGVQYXJ0aWNpcGFudHMiLCJhc3Npc3RhbnRVdWlkIiwiYmVuZWZpY2lhcnlVdWlkIiwiYXNzaXN0YW50IiwiYmVuZWZpY2lhcnkiLCJhc3Npc3RhbnRJbmRleCIsImJlbmVmaWNpYXJ5SW5kZXgiLCJ1c2VNb3ZlbWVudEFjdGlvbnMiLCJhY3Rpb25zIiwiZGljZU51bWJlciIsImFjdGl2ZVBhcnRpY2lwYW50IiwiYWN0aXZhdGVQYXJ0aWNpcGFudCIsImRhdGFVcGRhdGUiLCJnZXRBY3RpdmF0ZVBhcnRpY2lwYW50VXBkYXRlRGF0YSIsImFjdGl2ZUxvY2F0aW9uIiwicFV1aWQiLCJwYXJ0aWNpcGFudHNEYXRhVXBkYXRlIiwicGFydGljaXBhbnRMb2NhdGlvbiIsImxvY2F0aW9uc0RhdGFVcGRhdGUiLCJnZXRBY3RpdmF0ZUxvY2F0aW9uVXBkYXRlRGF0YSIsImNoYXNlVHJhY2tDdXJyZW50U2Nyb2xsUG9zaXRpb24iLCJnZXRDaGFzZVRyYWNrTG9jYXRpb25TY3JvbGxQb3NpdGlvbiIsImFjdGl2ZVBhcnRpY2lwYW50T2JzdGFjbGVDaGVjayIsIm1vdmVQYXJ0aWNpcGFudCIsInJvbGxVdWlkIiwibWV0aG9kIiwiaW5pdFRyYWNrIiwicHJvY2Vzc0xvY2F0aW9ucyIsImR1cGxpY2F0ZURhdGEiLCJmaXJzdCIsImxhc3QiLCJzdGFydGluZ0xpbmUiLCJsb2NhdGlvbnNJbmRleFN0YXJ0IiwiaW5pdEluZGV4U3RhcnQiLCJsb2NhdGlvbnNMZW5ndGgiLCJzdGFydGluZ0luZGV4IiwiZ2VuZXJhdGVOZXdVdWlkIiwiY2hhc2VMb2NhdGlvbnMiLCJlbmQiLCJjaGFzZVRyYWNrIiwiY2hhc2Vyc01pbk1vdiIsImZpbmRNaW5Nb3YiLCJjaGFzZXJzTWF4TW92IiwiZmluZE1heE1vdiIsInByZXlzTWluTW92IiwicHJleXNNYXhNb3YiLCJzdGFydGluZ1JhbmdlIiwidXBkYXRlZExpc3QiLCJjbGVhbkxvY2F0aW9uc0xpc3QiLCJsb2NhdGlvbkluZGV4IiwidXBkYXRlTG9jYXRpb25zTGlzdCIsInBhcnRpcGFudHNVdWlkQXJyYXkiLCJpbnNlcnRBdFV1aWQiLCJuZXdMb2NhdGlvbkluZGV4IiwibmV3TG9jYXRpb24iLCJsb2NEYXRhIiwiZ2V0Q2xlYXJBY3RpdmVMb2NhdGlvblVwZGF0ZURhdGEiLCJoYXNQYXJ0aWNpcGFudCIsImFjdGl2ZUFjdG9ySGFzU2tpbGwiLCJhY3RpdmVBY3RvclRlc3QiLCJwcmV2aW91c0xvY2F0aW9uIiwiYWN0aXZlSW5kZXgiLCJuZXh0TG9jYXRpb24iLCJzZXRMb2NhdGlvbkNvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZXMiLCJjbGVhckxvY2F0aW9uQ29vcmRpbmF0ZXMiLCJzdGFydCIsInNldGNoYXNlVHJhY2tTY3JvbGwiLCJzdG9wIiwiZGVzdGluYXRpb25JbmRleCIsIm5ld1BhcnRpY2lwYW50c0RhdGEiLCJsb2NhdGlvbnNEYXRhIiwidW5pcXVlIiwicmVjYWxjdWxhdGVNb3ZlbWVudEFjdGlvbnMiLCJsb2NhdGlvbk1vdmVkIiwib3JpZ2luSW5kZXgiLCJ0b3RhbE1vdmUiLCJvbGRQYXJ0aWNpcGFudHNMaXN0IiwibW92ZVRva2VuIiwicGFydGljcGFudERvY3VtZW50IiwiVG9rZW5Eb2N1bWVudCIsInZpZXdlZCIsInRhcmdldFJlY3QiLCJOb3JtYWxpemVkUmVjdGFuZ2xlIiwiZm91bmRGcmVlU3BhY2UiLCJvdmVybGFwaW5nVG9rZW4iLCJib3VuZHMiLCJpbnRlcnNlY3RzIiwic2hvd1Rva2VuTW92ZW1lbnQiLCJhbmltYXRlIiwidG8iLCJjaGFzZVRyYWNrQWN0aXZlTG9jYXRpb25TY3JvbGxQb3NpdGlvbiIsImFjdGl2ZUxvY2F0aW9uRWxlbWVudCIsImxlZnRTY3JvbGwiLCJvZmZzZXRMZWZ0IiwiY2xpZW50V2lkdGgiLCJwcmV2IiwicmVtU3RyaW5nIiwicmVtU2l6ZSIsInBDb3VudCIsIl90YWJzIiwiYWN0aXZlQWN0b3JTa2lsbHNBbmRDaGFyYWN0ZXJpc3RpY3MiLCJwYXJ0aWNpY3BhbnREYXRhIiwiSW50bCIsIkNvbGxhdG9yIiwiY29tcGFyZSIsImFsbFNraWxsc0FuZENoYXJhY3RlcmlzdGljc1Nob3J0IiwiQ29DN1NraWxsIiwibmV3UHJvcGVydGllcyIsImhhc0FjdGl2ZUVmZmVjdHMiLCJhY3RpdmVFZmZlY3RzIiwiZWZmZWN0S2V5RnVsbCIsImVmZmVjdEtleVNob3J0IiwiZGVsdGEiLCJleHAiLCJDb0M3VmVoaWNsZSIsIkNvQzdEZWNhZGVyRGllIiwiRGljZVRlcm0iLCJ0ZXJtRGF0YSIsIkRFTk9NSU5BVElPTiIsIkNvQzdEZWNhZGVyRGllT3RoZXIiLCJTRVRUSU5HUyIsInB1bHBSdWxlcyIsImluaXRpYXRpdmVSdWxlIiwiY2hvaWNlcyIsIm9uQ2hhbmdlIiwicnVsZSIsIl9zZXRJbml0aWF0aXZlT3B0aW9ucyIsInB1bHBSdWxlRG91YmxlTWF4SGVhbHRoIiwicHVscFJ1bGVUYWxlbnRzIiwicHVscFJ1bGVGYXN0ZXJSZWNvdmVyeSIsInB1bHBSdWxlSWdub3JlTWFqb3JXb3VuZHMiLCJvcHBvc2VkUm9sbFRpZUJyZWFrZXIiLCJkZWNpbWFscyIsIkNvbWJhdCIsIkNvQzdHYW1lUnVsZVNldHRpbmdzIiwidHJ1ZSIsImZhbHNlIiwic2V0dGluZyIsInB1bHBTZWxlY3Rpb24iLCJyZWdpc3RlciIsIm9uQ2hhbmdlUHVscFNlbGVjdCIsIm9uQ2xpY2tQdWxwIiwib25SZXNldERlZmF1bHRzIiwiY2hlY2tib3giLCJDb0M3QXJjaGV0eXBlU2hlZXQiLCJjaGFyYWNOYW1lIiwiZW5yaWNoZWRTdWdnZXN0ZWRPY2N1cGF0aW9ucyIsImVucmljaGVkU3VnZ2VzdGVkVHJhaXRzIiwiY29yZUNoYXJhY3RlcmlzdGljc1N0cmluZyIsIkNvQzdCb29rU2hlZXQiLCJzcGVsbHNMZWFybmVkIiwiZXhoYXVzdGVkIiwic3R1ZHlDb21wbGV0ZWQiLCJzcGVsbExpc3RFbXB0eSIsImVucmljaGVkQ29udGVudCIsImF0dGVtcHRJbml0aWFsUmVhZGluZyIsIl9vbkRlbGV0ZSIsIl9vblNwZWxsRGV0YWlsIiwiYXR0ZW1wdFNwZWxsTGVhcm5pbmciLCJjaGFuZ2VQcm9ncmVzcyIsIm1vZGlmeU90aGVyc0dhaW5zIiwicmVkb0Z1bGxTdHVkeSIsIm1vZGlmeVR5cGUiLCJzcGVsbERldGFpbCIsImFkZFNwZWxscyIsIkNvQzdDb250YWluZXJTaGVldCIsInNsaWRlVG9nZ2xlIiwiQ29DN0NoYXNlUGFydGljaXBhbnRJbXBvcnRlciIsInBlcm1pc3Npb25zIiwiX29uRHJvcFBhcnRpY2lwYW50IiwiX29uQWN0aW9uIiwidmFsaWRhdGVQYXJ0aWNpcGFudCIsInNwZWVkQ2hlY2tSZWFkT25seSIsImluaXRSZWFkT25seSIsIm9wdGlvbnNMaXN0Iiwic2tpbGxzQW5kQ2hhcmFjdGVyaXN0aWNzTGlzdCIsImRyb3BTdHJpbmciLCJnZXRBY3RvckRvY3VtZW50RnJvbURyb3BEYXRhIiwib3ZlcnJpZGVNb3ZlbWVudEFjdGlvbiIsInJlY2FsY3VsYXRpb25OZWVkZWQiLCJhZGRQYXJ0aWNpcGFudCIsInBhcnRpY2lwYW50RXhjbHVkZWQiLCJtb3ZlbWVudEFjdGlvbkRlbHRhIiwiaW5jbHVkZUxhc3RDb21tZXJzIiwiZXhjbHVkZWRCZWNhdXNlIiwiQ29DN0NoYXNlU2hlZXQiLCJjbGVhckFjdGl2ZUxvY2F0aW9uQ29vcmRpbmF0ZXMiLCJfb25EcmFnRW50ZXJQYXJ0aWNpcGFudCIsIl9vbkRyYWdMZWF2ZVBhcnRpY2lwYW50IiwiX29uQ2hhbmdlU2lkZSIsIl9vbkRlbGV0ZVBhcnRpY2lwYW50IiwiX29uUmVzZXRSb2xsIiwiX29uRGVsZXRlRHJpdmVyIiwiX29uQWRkUGFydGljaXBhbnQiLCJfb25Sb2xsUGFydGljaXBhbnQiLCJfb25Mb2NhdGlvbkNsaWNrIiwiX29uT2JzdGFjbGVUeXBlQ2xpY2siLCJfb25QYXJ0aWNpcGFudENvbnRyb2xDbGlja2VkIiwiX29uQ2hhc2VDb250cm9sQ2xpY2tlZCIsIl9vbkxvY2F0aW9uQ29udHJvbENsaWNrIiwiZHJhZ3N0YXJ0IiwiX2NhblBpbkxvY2F0aW9uRHJhZ1N0YXJ0IiwiX29uUGluTG9jYXRpb25EcmFnU3RhcnQiLCJfb25DaGFzZVBhcnRpY2lwYW50Q2xpY2siLCJfY2FuQ2hhc2VQYXJ0aWNpcGFudERyYWdTdGFydCIsIl9jYW5DaGFzZVBhcnRpY2lwYW50RHJhZ0Ryb3AiLCJfb25DaGFzZVBhcnRpY2lwYW50RHJhZ1N0YXJ0IiwiX29uQ2hhc2VQYXJ0aWNpcGFudERyYWdEcm9wIiwiZHJhZ292ZXIiLCJfb25EcmFnRW50ZXIiLCJfb25EcmFnTGVhdmUiLCJfZ2V0U3VibWl0RGF0YSIsImVkaXRvcnMiLCJjbGVhbmVkIiwiY2xlYW4iLCJvcmlnaW5hbExvY2F0aW9uIiwic3ViVHlwZSIsImZpbmRQYXJ0aWNpcGFudEluZGV4IiwiaW5pdGlhbE9wZW5pbmciLCJzY3JvbGwiLCJhY3RpdmF0ZVRhYiIsInNjcm9sbFRvIiwiYmVoYXZpb3IiLCJmaW5kTG9jYXRpb25JbmRleCIsImZpbmRMb2NhdGlvbiIsImFzc2lzdFBhcnRpY2lwYW50IiwibFV1aWQiLCJyZW1vdmVMb2NhdGlvbiIsImluc2VydExvY2F0aW9uIiwidG9nZ2xlUGFydGljaXBhbnRHdW4iLCJfb25DaGFuZ2VNb3ZlbWVudEFjdGlvbnMiLCJ0b2dnbGVCb251c0RpY2UiLCJjYXV0aW91c0FwcHJvYWNoIiwicmVtb3ZlUGFydGljaXBhbnQiLCJjdXRUb1RoZUNoYXNlIiwicmVzdGFydCIsInByb2dyZXNzVG9OZXh0Um91bmQiLCJzZWxlY3RvciIsImRyYWdJY29uIiwic2V0RHJhZ0ltYWdlIiwibG9jYXRpb25FbGVtZW50IiwiY2FsbEJhY2siLCJkcmFnRXZlbnQiLCJvbGRMb2NhdGlvbiIsIl9vbkRyYWdPdmVyIiwiYWx0ZXJQYXJ0aWNpcGFudCIsInN0YW5kYnlUZXh0Iiwic3RhbmRieVJpZ2h0SWNvbiIsIm9sZFBhcnRpY2lwYW50IiwidHAiLCJnZXRUeXBlIiwiQ29DN0l0ZW1TaGVldFYyIiwiQ29DN0l0ZW1TaGVldCIsIkNvQzdKb3VybmFsU2hlZXQiLCJKb3VybmFsU2hlZXQiLCJDb0M3TWFjcm9Db25maWciLCJNYWNyb0NvbmZpZyIsIkNvQzdQbGF5bGlzdENvbmZpZyIsIlBsYXlsaXN0Q29uZmlnIiwiQ29DN1JvbGxUYWJsZUNvbmZpZyIsIlJvbGxUYWJsZUNvbmZpZyIsIkNvQzdTY2VuZUNvbmZpZyIsIlNjZW5lQ29uZmlnIiwiQ29DN1NldHVwU2hlZXQiLCJfb25BZGRCaW8iLCJfb25SZW1vdmVTZWN0aW9uIiwib3RoZXJJdGVtcyIsIml0ZW1zTGlzdEVtcHR5IiwiQ29DN1NraWxsU2hlZXQiLCJfc2hlZXRUYWIiLCJpc1NwZWNpYWxpemVkIiwiY2FuTW9kaWZ5U3BlYyIsIkNvQzdTcGVsbFNoZWV0IiwiY2FzdCIsIkNvQzdTdGF0dXNTaGVldCIsInN0YXR1c1R5cGUiLCJlbnJpY2hlZERlc2NyaXB0aW9uTm90ZXMiLCJDb0M3VGFsZW50U2hlZXQiLCJ0YWxlbnRUeXBlIiwiQ29DN1ZlaGljbGVTaGVldCIsImFybWVkIiwiX29uQWRkQXJtb3IiLCJfb25SZW1vdmVBcm1vciIsIl9vblRvZ2dsZUV4cGFuZCIsIm9sZFNpemUiLCJDb0M3V2VhcG9uU2hlZXQiLCJjb21iYXRTa2lsbCIsInByaWNlIiwiZW5yaWNoZWREZXNjcmlwdGlvblNwZWNpYWwiLCJfb25Qcm9wZXJ0eUNsaWNrIiwicGVyZm9ybUZpbHRlciIsImFwcElkIiwiZXJhRWxlbWVudCIsIm5hbWVGaWx0ZXIiLCJDb0NJRCIsImNvbXBlbmRpdW1JbmRleEZpZWxkcyIsIkpvdXJuYWxFbnRyeSIsIlBsYXlsaXN0IiwiUm9sbFRhYmxlIiwiU2NlbmUiLCJnYW1lUHJvcGVydHlMb29rdXAiLCJkb2N1bWVudE5hbWVMb29rdXAiLCJtYWtlR3JvdXBSZWdFeCIsImxhbmdGYWxsYmFjayIsIm5vdG1pc3NpbmciLCJlcmFUZXh0Iiwic3BsaXRzIiwicmVnRXhQYXJ0cyIsImRvY3VtZW50c0Zyb21Xb3JsZCIsInByb2dyZXNzQmFyIiwiU2NlbmVOYXZpZ2F0aW9uIiwiZGlzcGxheVByb2dyZXNzQmFyIiwicGN0IiwiZmlsdGVyQWxsQ29DSUQiLCJjb21wZW5kaWFEb2N1bWVudHMiLCJkb2N1bWVudHNGcm9tQ29tcGVuZGlhIiwiZnJvbUNvQ0lEUmVnZXhBbGwiLCJhbGxEb2N1bWVudHMiLCJmaWx0ZXJCZXN0Q29DSUQiLCJmcm9tQ29DSURCZXN0IiwiYmVzdE1hdGNoRG9jdW1lbnRzIiwiZG9jQ29DSUQiLCJjdXJyZW50RXhpc3RzIiwiZG9jTGFuZyIsImV4aXN0aW5nTGFuZyIsInByZWZlckxhbmciLCJkb2NQYWNrIiwiZXhpc3RpbmdQYWNrIiwicHJlZmVyV29ybGQiLCJkb2NQcmlvcml0eSIsImV4aXN0aW5nUHJpb3JpdHkiLCJNSU5fU0FGRV9JTlRFR0VSIiwiZG9jRXJhcyIsImdhbWVQcm9wZXJ0eSIsImdldEdhbWVQcm9wZXJ0eSIsImNhbmRpZGF0ZURvY3VtZW50cyIsIm1hdGNoaW5nRXJhcyIsImNvbXBhcmVDb0NJRFByaW8iLCJnZXREb2N1bWVudFR5cGUiLCJzY2hlbWEiLCJpbmRleGVkIiwiZ2V0SW5kZXgiLCJpbmRleEluc3RhbmNlcyIsImplIiwicnQiLCJDYXJkIiwibGlzdGVuIiwibG9hZFRlbXBsYXRlcyIsInByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzIiwicmVnaXN0ZXJNZW51IiwicmVzdHJpY3RlZCIsInJlZ2lzdGVyU2V0dGluZ3MiLCJEZWZhdWx0RGlyZWN0b3J5Iiwid29ybGQiLCJZIiwiTiIsIm5vYm9keSIsImV2ZXJ5b25lIiwiYWx3YXlzIiwiY3JlYXRpb24iLCJuZXZlciIsIl9zZXRSb290Rm9udFNpemUiLCJzaWRlYmFyIiwid2luZG93cyIsImNvbnRhaW4iLCJob29rcyIsIkFjdG9ycyIsInVucmVnaXN0ZXJTaGVldCIsInJlZ2lzdGVyU2hlZXQiLCJtYWtlRGVmYXVsdCIsIkl0ZW1zIiwiU2NlbmVzIiwiSm91cm5hbCIsIlJvbGxUYWJsZXMiLCJNYWNyb3MiLCJQbGF5bGlzdHMiLCJIYW5kbGViYXJzIiwicmVnaXN0ZXJIZWxwZXIiLCJTZXQiLCJ1bmNvbW1vbiIsImNvbXBlbmRpdW1GaWx0ZXIiLCJDb0M3RGVjYWRlckRTTkZhY2VzIiwiY29uc3RydXRvciIsInNldEZhY2VzIiwiZ2xvYmFsIiwic291cmNlRGllIiwiRGljZUZhY3RvcnkiLCJzeXN0ZW1zIiwiaGVpZ2h0VGV4dCIsImhlaWdodFRpcCIsIndpZHRoVGlwIiwiY2xlYXJUaW1lb3V0IiwiQ29DN1RvdXIiLCJUb3VyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm9ic2VydmVyIiwiZGlzY29ubmVjdCIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiX3ByZVN0ZXAiLCJzdGVwSW5kZXgiLCJ3YWl0Rm9yRWxlbWVudCIsImN1cnJlbnRTdGVwIiwiX3Bvc3RTdGVwIiwiaGFzTmV4dCIsImlzUmVzZXR0aW5nIiwicmVzZXQiLCJFbmFibGVWYXJpYW50UnVsZXNFbiIsImNhbkJlUmVzdW1lZCIsInN0ZXBzIiwibG9jYWxpemF0aW9uIiwiRW5hYmxlVmFyaWFudFJ1bGVzRnIiLCJpbnN0cnVjdGlvbnNWZXJzaW9uIiwicmVhZE1lIiwidG91cnMiLCJ0b3VyTmFtZSIsInJlZ2lzdGVyVG91cnMiLCJDb0M3SG9va3MiLCJyZW5kZXJNZXNzYWdlSG9vayIsInJlbmRlckNoYXRNZXNzYWdlSG9vayIsIlBhcnNlTWVzc2FnZSIsImVudGl0eUNyZWF0ZVNlbGVjdFRhZyIsImVudGl0eVNvcnRlZExpc3QiLCJzaG93RXhwZXJpbWVudGFsIiwiZW50aXR5T3B0aW9uIiwiY2FwaXRhbGl6ZSIsImVtcHR5Iiwic2Vjb25kIiwiYWRkRGljZVByZXNldCIsImZvbnRTY2FsZSIsInBsYXllckxpc3QiLCJpbnNlcnRBZnRlciIsInByb2Nlc3NIdG1sIiwiZ21jcmVhdGVtZXNzYWdlYXMiLCJtZWxlZVRhcmdldCIsImdtdHJhZGVpdGVtdG8iLCJDb0M3U3lzdGVtU29ja2V0IiwiY3JlYXRlQ2hhcmFjdGVyRnJvbURhdGEiLCJjYWxsU29ja2V0IiwidXNlcklkIiwiZXJyb3JJZk1pc3NpbmciLCJpbmNsdWRlU2VsZiIsIl9vbkxlZnRDbGljayIsInN5c3RlbVRhYiIsImJlZm9yZSIsInNraWxsQ2hlY2tNYWNybyIsIndlYXBvbkNoZWNrTWFjcm8iLCJjaGVja01hY3JvIiwiY2FyZGNsYXNzIiwiaW5qZWN0Q1NTIiwic29ja2V0bGliIiwicmVnaXN0ZXJTeXN0ZW0iLCJpbml0RUNDIiwicmVuZGVyQ29tYmF0VHJhY2tlciIsImNvbW1hbmRzIiwicmVzIiwidG9Mb2NhbGl6ZSIsImxvY2FsaXplZCIsImVmZmVjdEluZGV4IiwiZGlyZWN0b3J5IiwiSXRlbURpcmVjdG9yeSIsIml0ZW1FbGVtZW50IiwiY3JlYXRlTWFjcm8iLCJjaGF0TGlzdGVuZXJzIiwib25VcGRhdGVDaGF0TWVzc2FnZSIsIl90YWJsZVNldHRpbmdzQ2hhbmdlZCIsImNoZWNrRm9yVXBkYXRlIiwiX29uQ2xpY2tJbmxpbmVSb2xsIiwiYWN0aXZhdGVHbG9iYWxMaXN0ZW5lciIsInRhYmxlQ2hvaWNlIiwiYm91dE9mTWFkbmVzc19TdW1tYXJ5IiwiYm91dE9mTWFkbmVzc19SZWFsVGltZSIsInNldFNjcm9sbCIsIm9uQ2xvc2UiLCJjaGFyYWN0ZXJTaGVldCIsIlBhcnNlQ2hhdEVudHJ5IiwiUGFyc2VTaGVldENvbnRlbnQiLCJnZXRCdXR0b25zIiwicmVuZGVyQ29udHJvbHMiLCJvbkRyb3BTb21ldGhpbmciXSwic291cmNlUm9vdCI6IiJ9